<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>å¼€å‘å¿…å¤‡å·¥å…·Charlesä½¿ç”¨è¡¥ç¼º</title>
    <url>/2020/12/26/2020-12-26-charles%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="Rewrite-åŠŸèƒ½"><a href="#Rewrite-åŠŸèƒ½" class="headerlink" title="Rewrite åŠŸèƒ½"></a>Rewrite åŠŸèƒ½</h2><ol>
<li><p>ä¿®æ”¹Header</p>
</li>
<li><p>ä¿®æ”¹Body</p>
<ol>
<li>ä¿®æ”¹requestçš„Body</li>
<li>ä¿®æ”¹responseçš„Body ã€å¸¸ç”¨ã€‘ </li>
</ol>
</li>
<li><p>ä¿®æ”¹query param</p>
</li>
<li><p>ä¿®æ”¹url</p>
</li>
</ol>
<h3 id="ä¿®æ”¹ResponseæŒ‡å®šå‚æ•°"><a href="#ä¿®æ”¹ResponseæŒ‡å®šå‚æ•°" class="headerlink" title="ä¿®æ”¹ResponseæŒ‡å®šå‚æ•°"></a>ä¿®æ”¹ResponseæŒ‡å®šå‚æ•°</h3><p><img src="https://cdn.linz.tech/charles_rewrite.jpg" alt=""></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token string">"redBagNum"</span><span class="token operator">:</span>\s<span class="token operator">*</span><span class="token number">2</span> 
<span class="token string">"redBagNum"</span><span class="token operator">:</span> <span class="token number">5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="å…¶ä»–çœ‹é™„å½•"><a href="#å…¶ä»–çœ‹é™„å½•" class="headerlink" title="å…¶ä»–çœ‹é™„å½•"></a>å…¶ä»–çœ‹é™„å½•</h3><h2 id="DNS-Spoofiing"><a href="#DNS-Spoofiing" class="headerlink" title="DNS Spoofiing"></a>DNS Spoofiing</h2><blockquote>
<p>æŠŠå½“å‰è®¿é—®çš„åŸŸåæŒ‡å®šè®¿é—®å…¶ä»–çš„åœ°å€</p>
</blockquote>
<p><font color="red">æ³¨æ„ï¼šç«¯å£ä¸èƒ½æŒ‡å®š</font></p>
<h2 id="Compose"><a href="#Compose" class="headerlink" title="Compose"></a>Compose</h2><blockquote>
<p>ä¿®æ”¹æäº¤çš„å‚æ•°æˆ–è€…æ–°å»ºä¸€ä¸ªæ–°çš„è¯·æ±‚æµ‹è¯•æ–°çš„Api</p>
</blockquote>
<h2 id="Mirror"><a href="#Mirror" class="headerlink" title="Mirror"></a><a href="https://www.cnblogs.com/xiaobaibailongma/p/12430165.html" target="_blank" rel="noopener">Mirror</a></h2><blockquote>
<p>ç¼“å­˜æ‰€æœ‰æˆ–æŒ‡å®šApi map local å¯ä»¥ä½¿ç”¨</p>
</blockquote>
<h2 id="New-Session"><a href="#New-Session" class="headerlink" title="New Session"></a>New Session</h2><blockquote>
<p>æ“ä½œè·¯å¾„ menu -&gt; file</p>
</blockquote>
<p>ä½¿ç”¨åœºæ™¯æš‚æ—¶ä¿å­˜å½“å‰è®¿é—®çš„APIæ‰€æœ‰çš„æ•°æ®ï¼Œæ–°çš„è®¿é—®ä¼šä¿å­˜åœ¨æ–°å»ºçš„Sessionä¸­</p>
<h2 id="å°è®¡"><a href="#å°è®¡" class="headerlink" title="å°è®¡"></a>å°è®¡</h2><ol>
<li><p>Map </p>
<ol>
<li><p>LocalåŠŸèƒ½æœ€é€‚åˆæœ¬åœ°å‚æ•°ä¿®æ”¹ï¼Œæ¨¡æ‹Ÿåå°è¿”å›çš„æ•°æ®å¯èƒ½æ€§ï¼Œä¸ç”¨å’Œåå°è”è°ƒï¼Œæé«˜åº”ç”¨çš„å¥å£®æ€§</p>
</li>
<li><p>remoteåŠŸèƒ½é€‚åˆï¼Œ1. é‡å®šå‘æœåŠ¡å™¨åœ°å€</p>
<blockquote>
<p>åº”ç”¨åœºæ™¯å½“å’Œå¤šä¸ªåå°å¼€å‘åŠŸèƒ½æ¨¡å—æ—¶ï¼Œåå°è¿›åº¦ä¸ä¸€è‡´ï¼Œéœ€è¦å¤šæ¬¡åˆ‡æ¢åå°è°ƒè¯•æ¥å£ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥æ”¹åŠ¨remoteå‚ç…§å°±è¡Œè°ƒè¯•</p>
</blockquote>
</li>
<li><p>Rewrite åŠŸèƒ½å¼ºå¤§ï¼Œä½†æ˜¯è®¾ç½®ç¹çé€‚åˆä¸€äº›éœ€è¦æ¯”è¾ƒå›ºå®šçš„å‚æ•°ä¿®æ”¹</p>
</li>
<li><p>Breakpoints ä»…ä»…è¯•ç”¨äºå½“è§¦å‘Apiæ—¶æˆªæ–­å®ƒï¼Œä¿®æ”¹å‚æ•°æˆ–æŸ¥çœ‹å‚æ•°ååˆ¤æ–­æ˜¯å¦è¿›è¡Œè®¿é—®</p>
<blockquote>
<p>å¯ä»¥ç”¨åœ¨è°ƒè¯•æ—¶æƒ³çœ‹è¯·æ±‚å‚æ•°ï¼Œä½†æ˜¯ä¸æƒ³ä¿®æ”¹æœåŠ¡å™¨æ•°æ® </p>
</blockquote>
</li>
</ol>
</li>
</ol>
<h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2>]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>tools</tag>
      </tags>
  </entry>
  <entry>
    <title>RecyclerViewä½¿ç”¨è¯¦è§£</title>
    <url>/2020/12/21/2020-01-09-RecyclerView/</url>
    <content><![CDATA[<h1 id="RecyclerViewä½¿ç”¨è¯¦è§£"><a href="#RecyclerViewä½¿ç”¨è¯¦è§£" class="headerlink" title="RecyclerViewä½¿ç”¨è¯¦è§£"></a>RecyclerViewä½¿ç”¨è¯¦è§£</h1><blockquote>
<p><a href="https://developer.android.google.cn/guide/topics/ui/layout/recyclerview.html" target="_blank" rel="noopener">Recyclerview API</a></p>
</blockquote>
<h2 id="ç¬¬1èŠ‚-å¸¸ç”¨å±æ€§ç†è§£"><a href="#ç¬¬1èŠ‚-å¸¸ç”¨å±æ€§ç†è§£" class="headerlink" title="ç¬¬1èŠ‚ å¸¸ç”¨å±æ€§ç†è§£"></a>ç¬¬1èŠ‚ å¸¸ç”¨å±æ€§ç†è§£</h2><blockquote>
<ol>
<li>stopScroll åœæ­¢æ»šåŠ¨</li>
</ol>
</blockquote>
<h3 id="1-1-setHasFixedSize-ä¼˜åŒ–"><a href="#1-1-setHasFixedSize-ä¼˜åŒ–" class="headerlink" title="1.1  setHasFixedSize ä¼˜åŒ–"></a>1.1  setHasFixedSize ä¼˜åŒ–</h3><blockquote>
<p>å®˜æ–¹æ¨èè®¾ç½®true ç†è§£ï¼šå‘Šè¯‰RecyclerViewæˆ‘çš„Itemå¤§å°ä¸ä¼šå˜ï¼Œé‡æ–°ç»˜åˆ¶çš„æ—¶å€™ä¸ç”¨é‡æ–°è®¡ç®—</p>
</blockquote>
<p>è§£é‡Šåšæ–‡ï¼š<a href="https://blog.csdn.net/wsdaijianjun/article/details/74735039" target="_blank" rel="noopener">RecyclerView setHasFixedSize(true)çš„æ„ä¹‰</a></p>
<h3 id="1-2-RecyclerView-Adapter-ä¸åŒæ•°æ®ä¸åŒå¸ƒå±€"><a href="#1-2-RecyclerView-Adapter-ä¸åŒæ•°æ®ä¸åŒå¸ƒå±€" class="headerlink" title="1.2 RecyclerView.Adapter ä¸åŒæ•°æ®ä¸åŒå¸ƒå±€"></a>1.2 RecyclerView.Adapter ä¸åŒæ•°æ®ä¸åŒå¸ƒå±€</h3><p>Demo.java</p>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getItemViewType</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mTypeList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token comment" spellcheck="true">// æ¨ªå‘</span>
            <span class="token keyword">return</span> TYPE_HORIZONTAL<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>mTypeList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// çºµå‘</span>
            <span class="token keyword">return</span> TYPE_VERTICAL<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getItemViewType</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@NonNull</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> RecyclerView<span class="token punctuation">.</span>ViewHolder <span class="token function">onCreateViewHolder</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> ViewGroup parent<span class="token punctuation">,</span> <span class="token keyword">int</span> viewType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>viewType <span class="token operator">==</span> TYPE_HORIZONTAL<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//inflate viewHorizontal</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">HorizontalViewHolder</span><span class="token punctuation">(</span>viewHorizontal<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>viewType <span class="token operator">==</span> TYPE_VERTICAL<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//inflate viewVertical</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">VerticalViewHolder</span><span class="token punctuation">(</span>viewVertical<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> null<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onBindViewHolder</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> RecyclerView<span class="token punctuation">.</span>ViewHolder holder<span class="token punctuation">,</span> <span class="token keyword">int</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// å¸ƒå±€æ§åˆ¶</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>holder <span class="token keyword">instanceof</span> <span class="token class-name">HorizontalViewHolder</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>mHorizontalList <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>holder <span class="token keyword">instanceof</span> <span class="token class-name">VerticalViewHolder</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>mVerticalList <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="1-3-æ»‘åŠ¨ç›¸å…³"><a href="#1-3-æ»‘åŠ¨ç›¸å…³" class="headerlink" title="1.3 æ»‘åŠ¨ç›¸å…³"></a>1.3 æ»‘åŠ¨ç›¸å…³</h3><ul>
<li>smoothScrollToPosition(int) å¤§é‡æ•°æ®ä¸ç†æƒ³ï¼ŒæŸ¥çœ‹ä¸‹æ–‡TopSmoothScrolleræ¡ˆä¾‹ï¼Œå®è·µè¿‡ç¨‹ä¸­TopSmoothScrolleråœ¨ä¸‹æ»‘æ•°æ®é‡å¾ˆå¤§çš„æƒ…å†µä¸‹ç½®é¡¶æ—¶é—´è¿‡é•¿ï¼Œæ»‘åŠ¨æ—¶é—´ä¹…ä¼šå¯¼è‡´ä½¿ç”¨ä¸èˆ’é€‚</li>
<li>scrollToPosition(int) æ»‘åŠ¨åˆ°æŒ‡å®šä½ç½®</li>
<li>scrollBy(int x,int y) æ»‘åŠ¨æŒ‡å®šåƒç´ </li>
</ul>
<p>æœ€ç»ˆçš„ç½®é¡¶æ–¹æ¡ˆ</p>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token keyword">int</span> firstVisibleItemPosition <span class="token operator">=</span> layoutManager<span class="token punctuation">.</span><span class="token function">findFirstVisibleItemPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//å½“å¯æ˜¾ç¤ºçš„itemå¤§äº30æ—¶ï¼Œç›´æ¥ç½®é¡¶ï¼Œå¦åˆ™ä¸æ»‘æ»šåŠ¨ç½®é¡¶</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>firstVisibleItemPosition <span class="token operator">></span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mRecyclerView<span class="token punctuation">.</span><span class="token function">scrollToPosition</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        LinearSmoothScroller lss <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TopSmoothScroller</span><span class="token punctuation">(</span><span class="token function">getActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        lss<span class="token punctuation">.</span><span class="token function">setTargetPosition</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        layoutManager<span class="token punctuation">.</span><span class="token function">startSmoothScroll</span><span class="token punctuation">(</span>lss<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ç¬¬2èŠ‚-OnScrollListener"><a href="#ç¬¬2èŠ‚-OnScrollListener" class="headerlink" title="ç¬¬2èŠ‚ OnScrollListener"></a>ç¬¬2èŠ‚ OnScrollListener</h2><h3 id="2-1-ä¸‰ç§æ»‘åŠ¨çŠ¶æ€-newState"><a href="#2-1-ä¸‰ç§æ»‘åŠ¨çŠ¶æ€-newState" class="headerlink" title="2.1 ä¸‰ç§æ»‘åŠ¨çŠ¶æ€ newState"></a>2.1 ä¸‰ç§æ»‘åŠ¨çŠ¶æ€ newState</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**
 * The RecyclerView is not currently scrolling.ï¼ˆé™æ­¢æ²¡æœ‰æ»šåŠ¨ï¼‰
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCROLL_STATE_IDLE <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/**
 * The RecyclerView is currently being dragged by outside input such as user touch input.
 *ï¼ˆæ­£åœ¨è¢«å¤–éƒ¨æ‹–æ‹½,ä¸€èˆ¬ä¸ºç”¨æˆ·æ­£åœ¨ç”¨æ‰‹æŒ‡æ»šåŠ¨ï¼‰
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCROLL_STATE_DRAGGING <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/**
 * The RecyclerView is currently animating to a final position while not under outside control.
 *ï¼ˆè‡ªåŠ¨æ»šåŠ¨ï¼‰
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCROLL_STATE_SETTLING <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="2-2-onScrolled"><a href="#2-2-onScrolled" class="headerlink" title="2.2 onScrolled"></a>2.2 onScrolled</h3><blockquote>
<p>onScrolled(RecyclerView recyclerView, int dx, int dy)</p>
</blockquote>
<p>dx : æ°´å¹³æ»šåŠ¨è·ç¦»<br>dy : å‚ç›´æ»šåŠ¨è·ç¦»</p>
<h2 id="ç¬¬3èŠ‚-LinearLayoutManager"><a href="#ç¬¬3èŠ‚-LinearLayoutManager" class="headerlink" title="ç¬¬3èŠ‚ LinearLayoutManager"></a>ç¬¬3èŠ‚ LinearLayoutManager</h2><blockquote>
<p><a href="https://developer.android.com/reference/android/support/v7/widget/LinearLayoutManager.html" target="_blank" rel="noopener">LinearLayoutManager API</a></p>
</blockquote>
<h3 id="2-1-å¸¸ç”¨APIç™½è¯ç†è§£"><a href="#2-1-å¸¸ç”¨APIç™½è¯ç†è§£" class="headerlink" title="2.1 å¸¸ç”¨APIç™½è¯ç†è§£"></a>2.1 å¸¸ç”¨APIç™½è¯ç†è§£</h3><ol>
<li><strong>ä½ç½®æ•°é‡ç›¸å…³</strong></li>
</ol>
<pre class="line-numbers language-java"><code class="language-java">linearLayoutManager<span class="token punctuation">.</span><span class="token function">getChildCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ³¨è§£ï¼š<em>å¾—åˆ°æ˜¾ç¤ºå±å¹•å†…çš„listæ•°é‡</em></p>
<pre class="line-numbers language-java"><code class="language-java">mLinearLayoutManager<span class="token punctuation">.</span><span class="token function">getItemCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ³¨è§£ï¼š<em>å¾—åˆ°listçš„æ€»æ•°é‡</em></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">int</span> position <span class="token operator">=</span> linearLayoutManager<span class="token punctuation">.</span><span class="token function">findFirstVisibleItemPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ³¨è§£ï¼š <font color="red">å¾—åˆ°æ˜¾ç¤ºå±å†…çš„ç¬¬ä¸€ä¸ªlistçš„ä½ç½®æ•°position*</font> ç±»ä¼¼ï¼š<code>findLastVisibleItemPosition</code></p>
<pre class="line-numbers language-java"><code class="language-java">findFirstCompletelyVisibleItemPosition<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ³¨è§£ï¼š<font color="red">ç¬¬ä¸€ä¸ªå®Œå…¨æ˜¾ç¤ºçš„Itemä½ç½®</font> ç±»ä¼¼<code>findLastCompletelyVisibleItemPosition</code></p>
<pre class="line-numbers language-java"><code class="language-java">View firstVisiableChildView <span class="token operator">=</span> linearLayoutManager<span class="token punctuation">.</span><span class="token function">findViewByPosition</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ³¨è§£ï¼šæ ¹æ®positionæ‰¾åˆ°è¿™ä¸ª<font color="red">Itemçš„View</font></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TopSmoothScroller</span> <span class="token keyword">extends</span> <span class="token class-name">LinearSmoothScroller</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token function">TopSmoothScroller</span><span class="token punctuation">(</span>Context context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span> <span class="token keyword">protected</span> <span class="token keyword">int</span> <span class="token function">getHorizontalSnapPreference</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> SNAP_TO_START<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">protected</span> <span class="token keyword">int</span> <span class="token function">getVerticalSnapPreference</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> SNAP_TO_START<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å…·ä½“è§æºç æ³¨é‡Š</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

LinearSmoothScroller lss <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TopSmoothScroller</span><span class="token punctuation">(</span><span class="token function">getActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
lss<span class="token punctuation">.</span><span class="token function">setTargetPosition</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
layoutManager<span class="token punctuation">.</span><span class="token function">startSmoothScroll</span><span class="token punctuation">(</span>lss<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ³¨è§£ï¼šä½¿æ»‘åŠ¨åˆ°RecyclerView<font color="red">æŒ‡å®šä½ç½®</font></p>
<pre class="line-numbers language-java"><code class="language-java">canScrollVerticallyå’ŒcanScrollHorizontally<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ³¨è§£ï¼šæ˜¯å¦èƒ½å‚ç›´/æ°´å¹³æ»‘åŠ¨</p>
<h2 id="ç¬¬4èŠ‚-ItemDecoration"><a href="#ç¬¬4èŠ‚-ItemDecoration" class="headerlink" title="ç¬¬4èŠ‚ ItemDecoration"></a>ç¬¬4èŠ‚ ItemDecoration</h2><pre class="line-numbers language-java"><code class="language-java">  <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getItemOffsets</span><span class="token punctuation">(</span>Rect outRect<span class="token punctuation">,</span> View view<span class="token punctuation">,</span> RecyclerView parent<span class="token punctuation">,</span> RecyclerView<span class="token punctuation">.</span>State state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true">//æ ¹æ®itemViewçš„ä½ç½®è®¾ç½®è¾¹æ¡†å¤§å°</span>
        <span class="token keyword">int</span> position <span class="token operator">=</span> parent<span class="token punctuation">.</span><span class="token function">getChildAdapterPosition</span><span class="token punctuation">(</span>view<span class="token punctuation">)</span><span class="token punctuation">;</span>
        outRect<span class="token punctuation">.</span>right <span class="token operator">=</span> spaces<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å‚è€ƒï¼š<a href="https://www.jianshu.com/p/6a093bcc6b83" target="_blank" rel="noopener">ItemDecorationè§£æ(äºŒ) onDraw onDrawOver</a> ç”»å‡ºItemä¹‹é—´çš„åˆ†å‰²çº¿</p>
<ul>
<li><a href="jianshu.com/p/41ae13016243">RecyclerViewç³»åˆ—äºŒï¼šRecyclerView.ItemDecorationçš„è¯¦è§£ä½¿ç”¨</a> ã€é‡ç‚¹ã€‘å›¾æ–‡ç»“åˆè®²å¾—æ¯”è¾ƒä»”ç»†</li>
</ul>
<h3 id="ä½¿ç”¨æ¡ˆä¾‹-RecyclerViewåˆ†å‰²çº¿"><a href="#ä½¿ç”¨æ¡ˆä¾‹-RecyclerViewåˆ†å‰²çº¿" class="headerlink" title="ä½¿ç”¨æ¡ˆä¾‹ RecyclerViewåˆ†å‰²çº¿"></a>ä½¿ç”¨æ¡ˆä¾‹ RecyclerViewåˆ†å‰²çº¿</h3><script src="https://gist.github.com/Orange168/244c3763887a0cb7584c9de9bbfc72b4.js"></script>

<h2 id="ç¬¬5-èŠ‚-ItemTouchHelper"><a href="#ç¬¬5-èŠ‚-ItemTouchHelper" class="headerlink" title="ç¬¬5 èŠ‚ ItemTouchHelper"></a>ç¬¬5 èŠ‚ ItemTouchHelper</h2><pre class="line-numbers language-java"><code class="language-java">ItemTouchHelper<span class="token punctuation">.</span>Callback callback <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DragItemTouchHelper</span><span class="token punctuation">(</span>adapter<span class="token punctuation">)</span><span class="token punctuation">;</span>
ItemTouchHelper touchHelper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ItemTouchHelper</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
touchHelper<span class="token punctuation">.</span><span class="token function">attachToRecyclerView</span><span class="token punctuation">(</span>recyclerView<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>DragItemTouchHelper.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DragItemTouchHelper</span> <span class="token keyword">extends</span> <span class="token class-name">ItemTouchHelper<span class="token punctuation">.</span>Callback</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> DragAdapter mAdapter<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">DragItemTouchHelper</span><span class="token punctuation">(</span>DragAdapter adapter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mAdapter <span class="token operator">=</span> adapter<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * è®¾ç½®æ»‘åŠ¨ç±»å‹æ ‡è®°
     *
     * @param recyclerView
     * @param viewHolder
     * @return è¿”å›ä¸€ä¸ªæ•´æ•°ç±»å‹çš„æ ‡è¯†ï¼Œç”¨äºåˆ¤æ–­Itemé‚£ç§ç§»åŠ¨è¡Œä¸ºæ˜¯å…è®¸çš„
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getMovementFlags</span><span class="token punctuation">(</span>RecyclerView recyclerView<span class="token punctuation">,</span> RecyclerView<span class="token punctuation">.</span>ViewHolder viewHolder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment" spellcheck="true">// dragFlags =0 ç¦æ­¢æ‹–åŠ¨</span>
        <span class="token keyword">int</span> dragFlags <span class="token operator">=</span> ItemTouchHelper<span class="token punctuation">.</span>UP <span class="token operator">|</span> ItemTouchHelper<span class="token punctuation">.</span>DOWN<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// å…è®¸ä¸Šä¸‹çš„æ‹–åŠ¨</span>
          <span class="token comment" spellcheck="true">//int swipeFlags = ItemTouchHelper.LEFT;  // åªå…è®¸ä»å³å‘å·¦æ»‘åŠ¨</span>
        <span class="token keyword">int</span> swipeFlags <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ä¸å…è®¸å·¦å³æ»‘åŠ¨</span>
        <span class="token keyword">return</span> <span class="token function">makeMovementFlags</span><span class="token punctuation">(</span>dragFlags<span class="token punctuation">,</span> swipeFlags<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * æ‹–æ‹½åˆ‡æ¢ Item çš„å›è°ƒ
     *
     * @param recyclerView
     * @param viewHolder
     * @param target
     * @return true Itemåˆ‡æ¢äº†ä½ç½®ï¼Œfalse Itemæ²¡åˆ‡æ¢ä½ç½®
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onMove</span><span class="token punctuation">(</span>RecyclerView recyclerView<span class="token punctuation">,</span> RecyclerView<span class="token punctuation">.</span>ViewHolder viewHolder<span class="token punctuation">,</span> RecyclerView<span class="token punctuation">.</span>ViewHolder target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mAdapter<span class="token punctuation">.</span><span class="token function">onItemMove</span><span class="token punctuation">(</span>viewHolder<span class="token punctuation">.</span><span class="token function">getAdapterPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> target<span class="token punctuation">.</span><span class="token function">getAdapterPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSwiped</span><span class="token punctuation">(</span>RecyclerView<span class="token punctuation">.</span>ViewHolder viewHolder<span class="token punctuation">,</span> <span class="token keyword">int</span> direction<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * Item æ˜¯å¦æ”¯æŒé•¿æŒ‰æ‹–åŠ¨
     * @return true  æ”¯æŒé•¿æŒ‰æ“ä½œï¼Œfalse ä¸æ”¯æŒé•¿æŒ‰æ“ä½œ
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isLongPressDragEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * Item æ˜¯å¦æ”¯æŒæ»‘åŠ¨
     * @return true  æ”¯æŒæ»‘åŠ¨æ“ä½œï¼Œfalse ä¸æ”¯æŒæ»‘åŠ¨æ“ä½œ
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isItemViewSwipeEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * Itemè¢«é€‰ä¸­æ—¶å€™å›è°ƒ
     *
     * @param viewHolder
     * @param actionState å½“å‰Itemçš„çŠ¶æ€
     *                    ItemTouchHelper.ACTION_STATE_IDLE   é—²ç½®çŠ¶æ€
     *                    ItemTouchHelper.ACTION_STATE_SWIPE  æ»‘åŠ¨ä¸­çŠ¶æ€
     *                    ItemTouchHelper#ACTION_STATE_DRAG   æ‹–æ‹½ä¸­çŠ¶æ€
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSelectedChanged</span><span class="token punctuation">(</span>RecyclerView<span class="token punctuation">.</span>ViewHolder viewHolder<span class="token punctuation">,</span> <span class="token keyword">int</span> actionState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// item è¢«é€‰ä¸­çš„æ“ä½œ</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>actionState <span class="token operator">!=</span> ItemTouchHelper<span class="token punctuation">.</span>ACTION_STATE_IDLE<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            viewHolder<span class="token punctuation">.</span>itemView<span class="token punctuation">.</span><span class="token function">setBackgroundResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>select_bg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onSelectedChanged</span><span class="token punctuation">(</span>viewHolder<span class="token punctuation">,</span> actionState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">clearView</span><span class="token punctuation">(</span>RecyclerView recyclerView<span class="token punctuation">,</span> RecyclerView<span class="token punctuation">.</span>ViewHolder viewHolder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// æ“ä½œå®Œæ¯•åæ¢å¤é¢œè‰²</span>
        viewHolder<span class="token punctuation">.</span>itemView<span class="token punctuation">.</span><span class="token function">setBackgroundResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>common_bg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">clearView</span><span class="token punctuation">(</span>recyclerView<span class="token punctuation">,</span> viewHolder<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

     <span class="token comment" spellcheck="true">/**
     * ç§»åŠ¨è¿‡ç¨‹ä¸­é‡æ–°ç»˜åˆ¶ Itemï¼Œéšç€æ»‘åŠ¨çš„è·ç¦»ï¼Œè®¾ç½® Item çš„é€æ˜åº¦
     *  @param isCurrentlyActive True if this view is currently being controlled by the user or
     *                          false it is simply animating back to its original state.
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onChildDraw</span><span class="token punctuation">(</span>Canvas c<span class="token punctuation">,</span> RecyclerView recyclerView<span class="token punctuation">,</span> RecyclerView<span class="token punctuation">.</span>ViewHolder viewHolder<span class="token punctuation">,</span> <span class="token keyword">float</span> dX<span class="token punctuation">,</span> <span class="token keyword">float</span> dY<span class="token punctuation">,</span> <span class="token keyword">int</span> actionState<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isCurrentlyActive<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">float</span> x <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>dX<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0.5f</span><span class="token punctuation">;</span>
        <span class="token keyword">float</span> width <span class="token operator">=</span> viewHolder<span class="token punctuation">.</span>itemView<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">float</span> alpha <span class="token operator">=</span> <span class="token number">1f</span> <span class="token operator">-</span> x <span class="token operator">/</span> width<span class="token punctuation">;</span>
        viewHolder<span class="token punctuation">.</span>itemView<span class="token punctuation">.</span><span class="token function">setAlpha</span><span class="token punctuation">(</span>alpha<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onChildDraw</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> recyclerView<span class="token punctuation">,</span> viewHolder<span class="token punctuation">,</span> dX<span class="token punctuation">,</span> dY<span class="token punctuation">,</span> actionState<span class="token punctuation">,</span> isCurrentlyActive<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onChildDrawOver</span><span class="token punctuation">(</span>Canvas c<span class="token punctuation">,</span> RecyclerView recyclerView<span class="token punctuation">,</span>
                              ViewHolder viewHolder<span class="token punctuation">,</span>
                              <span class="token keyword">float</span> dX<span class="token punctuation">,</span> <span class="token keyword">float</span> dY<span class="token punctuation">,</span> <span class="token keyword">int</span> actionState<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isCurrentlyActive<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Recylcerview-å¸¸ç”¨åŠŸèƒ½å®ç°"><a href="#Recylcerview-å¸¸ç”¨åŠŸèƒ½å®ç°" class="headerlink" title="Recylcerview å¸¸ç”¨åŠŸèƒ½å®ç°"></a>Recylcerview å¸¸ç”¨åŠŸèƒ½å®ç°</h2><ol>
<li><p>æ°´å¹³æ»‘åŠ¨æ—¶ä¸æ˜¯æœ€åä¸€ä¸ªItem, éƒ½æ˜¾ç¤ºå±…ä¸­</p>
</li>
<li><p>å·¦å³è”åŠ¨ <a href="https://github.com/cnwutianhao/RecyclerView/tree/master/app/src/main/java/com/haocent/android/recyclerview/link" target="_blank" rel="noopener">LinkActivity.java</a></p>
<p><img src="https://upload-images.jianshu.io/upload_images/1942828-20138c435cdfbe5c.gif" alt=""></p>
</li>
</ol>
<h1 id="æ»‘åŠ¨äº‹ä»¶å†²çª"><a href="#æ»‘åŠ¨äº‹ä»¶å†²çª" class="headerlink" title="æ»‘åŠ¨äº‹ä»¶å†²çª"></a>æ»‘åŠ¨äº‹ä»¶å†²çª</h1><p><a href="https://www.jianshu.com/p/d82f426ba8f7" target="_blank" rel="noopener">Androidäº‹ä»¶åˆ†å‘æœºåˆ¶åŠæ»‘åŠ¨å†²çªè§£å†³æ–¹æ¡ˆ</a>ã€è®²è§£æ¯”è¾ƒè¯¦ç»†ã€‘,æä¾›ä¸¤ç§æ–¹å¼</p>
<ol>
<li>å¤–éƒ¨æ‹¦æˆªæ³•</li>
<li>å†…éƒ¨æ‹¦æˆªæ³•</li>
</ol>
<p><a href="https://blog.csdn.net/wjj1996825/article/details/99700345" target="_blank" rel="noopener">æµ…è°ˆRecycleViewåµŒå¥—RecycleViewç«–å‘æ»‘åŠ¨å†²çªè§£å†³</a></p>
<pre class="line-numbers language-java"><code class="language-java">onInterceptTouchEvent <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ä¸å‘ä¸‹åˆ†å‘ï¼Œè‡ªå·±æ¶ˆè´¹è¿™æ¬¡äº‹ä»¶</span>
onTouchEvent <span class="token operator">==</span> <span class="token boolean">true</span> <span class="token punctuation">;</span><span class="token comment" spellcheck="true">// ä¸å‘ä¸Šåˆ†å‘ï¼Œè‡ªå·±æ¶ˆè´¹è¿™æ¬¡äº‹ä»¶</span>
parent<span class="token punctuation">.</span><span class="token function">requestDisallowInterceptTouchEvent</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// è¯·æ±‚çˆ¶ç±»trueä¸æ‹¦æˆªï¼Œfalse è¯·æ±‚çˆ¶æ§ä»¶æ‹¦æˆª</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h1 id="RecyclerView-æºç è§£æ"><a href="#RecyclerView-æºç è§£æ" class="headerlink" title="RecyclerView æºç è§£æ"></a>RecyclerView æºç è§£æ</h1><ul>
<li><a href="https://blog.csdn.net/sdfdzx/article/details/79594518" target="_blank" rel="noopener">RecyclerViewæºç è§£æ(ä¸€)â€”â€”ç»˜åˆ¶æµç¨‹</a></li>
</ul>
<h1 id="RecyclerView-ä¼˜åŒ–"><a href="#RecyclerView-ä¼˜åŒ–" class="headerlink" title="RecyclerView ä¼˜åŒ–"></a>RecyclerView ä¼˜åŒ–</h1><ul>
<li><a href="https://blog.csdn.net/smileiam/article/details/88396546" target="_blank" rel="noopener">RecyclerViewæ€§èƒ½ä¼˜åŒ–åŠé«˜çº§ä½¿ç”¨</a></li>
</ul>
<h1 id="å®è·µå¿ƒé…¸é‡‡å‘å²"><a href="#å®è·µå¿ƒé…¸é‡‡å‘å²" class="headerlink" title="å®è·µå¿ƒé…¸é‡‡å‘å²"></a>å®è·µå¿ƒé…¸é‡‡å‘å²</h1><h2 id="ç¬¬9æ¡å‘½-BaseQuickAdapter-getViewByPosition"><a href="#ç¬¬9æ¡å‘½-BaseQuickAdapter-getViewByPosition" class="headerlink" title="ç¬¬9æ¡å‘½ BaseQuickAdapter.getViewByPosition"></a>ç¬¬9æ¡å‘½ BaseQuickAdapter.getViewByPosition</h2><blockquote>
<p><span class="github-emoji" style="display:inline;vertical-align:middle"><span>âš </span><img src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><font color="red"> è¿™ä¸ªæ–¹æ³•åªæœ‰åœ¨Adapterä¸å¤ç”¨Viewçš„æƒ…å†µä¸‹èƒ½æ‰¾åˆ°View</font>,å³å­Viewå…¨éƒ¨å¯è§æ—¶</p>
<p> <span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ›</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> æ•…äº‹ï¼šNestedScrollView -&gt;(æ¢æˆ) LinearLayoutï¼Œ å¯¼è‡´æ— æ³•æ‰¾åˆ°å­View ==&gt; <span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ›</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> NullpointerException</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java">   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      EditText
          etPrice <span class="token operator">=</span>
          <span class="token punctuation">(</span>EditText<span class="token punctuation">)</span> mAdapter<span class="token punctuation">.</span><span class="token function">getViewByPosition</span><span class="token punctuation">(</span>mRecyclerView<span class="token punctuation">,</span> i<span class="token punctuation">,</span> R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>et_dialog_price<span class="token punctuation">)</span><span class="token punctuation">;</span>
      String priceStr <span class="token operator">=</span> etPrice<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="ä¸€äº›æ¯”è¾ƒæœ‰è¶£çš„ç”¨æ³•"><a href="#ä¸€äº›æ¯”è¾ƒæœ‰è¶£çš„ç”¨æ³•" class="headerlink" title="ä¸€äº›æ¯”è¾ƒæœ‰è¶£çš„ç”¨æ³•"></a>ä¸€äº›æ¯”è¾ƒæœ‰è¶£çš„ç”¨æ³•</h1><h2 id="ListView-Google-æ¨èçš„ä¼˜åŒ–æ–¹æ³•"><a href="#ListView-Google-æ¨èçš„ä¼˜åŒ–æ–¹æ³•" class="headerlink" title="ListView Google æ¨èçš„ä¼˜åŒ–æ–¹æ³•"></a>ListView Google æ¨èçš„ä¼˜åŒ–æ–¹æ³•</h2><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> View <span class="token function">getView</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token punctuation">,</span> View convertView<span class="token punctuation">,</span> ViewGroup parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"MyAdapter"</span><span class="token punctuation">,</span> <span class="token string">"Position:"</span> <span class="token operator">+</span> position <span class="token operator">+</span> <span class="token string">"---"</span>
            <span class="token operator">+</span> String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ViewHolder holder<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>convertView <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> LayoutInflater inflater <span class="token operator">=</span> <span class="token punctuation">(</span>LayoutInflater<span class="token punctuation">)</span> mContext
                <span class="token punctuation">.</span><span class="token function">getSystemService</span><span class="token punctuation">(</span>Context<span class="token punctuation">.</span>LAYOUT_INFLATER_SERVICE<span class="token punctuation">)</span><span class="token punctuation">;</span>
        convertView <span class="token operator">=</span> inflater<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>list_item_icon_text<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
        holder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ViewHolder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        holder<span class="token punctuation">.</span>icon <span class="token operator">=</span> <span class="token punctuation">(</span>ImageView<span class="token punctuation">)</span> convertView<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>icon<span class="token punctuation">)</span><span class="token punctuation">;</span>
        holder<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token punctuation">(</span>TextView<span class="token punctuation">)</span> convertView<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
        convertView<span class="token punctuation">.</span><span class="token function">setTag</span><span class="token punctuation">(</span>holder<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        holder <span class="token operator">=</span> <span class="token punctuation">(</span>ViewHolder<span class="token punctuation">)</span> convertView<span class="token punctuation">.</span><span class="token function">getTag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    holder<span class="token punctuation">.</span>icon<span class="token punctuation">.</span><span class="token function">setImageResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>icon<span class="token punctuation">)</span><span class="token punctuation">;</span>
    holder<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>mData<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> convertView<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">ViewHolder</span> <span class="token punctuation">{</span>
    ImageView icon<span class="token punctuation">;</span>
    TextView text<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ListView-MultiChoiceModeListener"><a href="#ListView-MultiChoiceModeListener" class="headerlink" title="ListView MultiChoiceModeListener"></a>ListView MultiChoiceModeListener</h2><pre class="line-numbers language-java"><code class="language-java"> listView<span class="token punctuation">.</span><span class="token function">setChoiceMode</span><span class="token punctuation">(</span>ListView<span class="token punctuation">.</span>CHOICE_MODE_MULTIPLE_MODAL<span class="token punctuation">)</span><span class="token punctuation">;</span>
    listView<span class="token punctuation">.</span><span class="token function">setMultiChoiceModeListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MultiChoiceModeListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onItemCheckedStateChanged</span><span class="token punctuation">(</span>ActionMode mode<span class="token punctuation">,</span> <span class="token keyword">int</span> position<span class="token punctuation">,</span> <span class="token keyword">long</span> id<span class="token punctuation">,</span>
          <span class="token keyword">boolean</span> checked<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setBo</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          adapter<span class="token punctuation">.</span><span class="token function">notifyDataSetChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          num<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setBo</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          adapter<span class="token punctuation">.</span><span class="token function">notifyDataSetChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          num<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        mode<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">"  "</span> <span class="token operator">+</span> num <span class="token operator">+</span> <span class="token string">" Selected"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onCreateActionMode</span><span class="token punctuation">(</span>ActionMode mode<span class="token punctuation">,</span> Menu menu<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        MenuInflater inflater <span class="token operator">=</span> mode<span class="token punctuation">.</span><span class="token function">getMenuInflater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        inflater<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>menu<span class="token punctuation">.</span>action_mode<span class="token punctuation">,</span> menu<span class="token punctuation">)</span><span class="token punctuation">;</span>
        num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        adapter<span class="token punctuation">.</span><span class="token function">notifyDataSetChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onPrepareActionMode</span><span class="token punctuation">(</span>ActionMode mode<span class="token punctuation">,</span> Menu menu<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        adapter<span class="token punctuation">.</span><span class="token function">notifyDataSetChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setBo</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onActionItemClicked</span><span class="token punctuation">(</span>ActionMode mode<span class="token punctuation">,</span> MenuItem item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">getItemId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">case</span> R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>menu_delete<span class="token operator">:</span>
            adapter<span class="token punctuation">.</span><span class="token function">notifyDataSetChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            mode<span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token keyword">case</span> R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>action_save<span class="token operator">:</span>
            <span class="token comment" spellcheck="true">//é€šè¿‡mode.getmenu æ¥æ§åˆ¶menuçš„æ˜¾ç¤º</span>
                mode<span class="token punctuation">.</span><span class="token function">getMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
                <span class="token function">findItem</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>action_save<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setIcon</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>ic_action_unsave<span class="token punctuation">)</span><span class="token punctuation">;</span>
            mode<span class="token punctuation">.</span><span class="token function">getMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findItem</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>menu_delete<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            adapter<span class="token punctuation">.</span><span class="token function">notifyDataSetChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onDestroyActionMode</span><span class="token punctuation">(</span>ActionMode mode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        adapter<span class="token punctuation">.</span><span class="token function">notifyDataSetChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h1><h2 id="å‚è€ƒåšæ–‡"><a href="#å‚è€ƒåšæ–‡" class="headerlink" title="å‚è€ƒåšæ–‡"></a>å‚è€ƒåšæ–‡</h2><ul>
<li><a href="https://www.jianshu.com/p/1d323775e2f5" target="_blank" rel="noopener">å¼€å‘ç¬”è®°-GridLayoutManagerå®ç°Itemå‡åŒ€åˆ†å¸ƒ</a></li>
<li><a href="https://stackoverflow.com/questions/40587168/simple-android-grid-example-using-recyclerview-with-gridlayoutmanager-like-the" target="_blank" rel="noopener">Simple Android grid example using RecyclerView with GridLayoutManager (like the old GridView)</a></li>
<li><a href="https://juejin.im/post/5a4481e651882527a00fa7d0" target="_blank" rel="noopener">RecyclerViewæ»‘åŠ¨è·ç¦»è®¡ç®—</a></li>
</ul>
<h2 id="å¼€æºåº“"><a href="#å¼€æºåº“" class="headerlink" title="å¼€æºåº“"></a>å¼€æºåº“</h2><ul>
<li><p><a href="https://github.com/CymChad/BaseRecyclerViewAdapterHelper" target="_blank" rel="noopener">BaseRecyclerViewAdapterHelper</a><br>é›†æˆé…ç½®</p>
<pre class="line-numbers language-groovy"><code class="language-groovy">allprojects <span class="token punctuation">{</span>
    repositories <span class="token punctuation">{</span>
        maven <span class="token punctuation">{</span> url <span class="token string">"https://jitpack.io"</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

dependencies <span class="token punctuation">{</span>
        compile <span class="token string">'com.github.CymChad:BaseRecyclerViewAdapterHelper:VERSION_CODE'</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æœ€æ–°å‘å¸ƒç‰ˆæœ¬ï¼š <a href="https://github.com/CymChad/BaseRecyclerViewAdapterHelper/releases" target="_blank" rel="noopener">release</a>  æˆªæ­¢2020-01-12æœ€æ–° VERSION_CODE=3.0.0-beta11</p>
<p><a href="https://www.niwoxuexi.com/blog/android/article/532.html" target="_blank" rel="noopener">æœ€å¥½ç”¨çš„BaseRecyclerViewAdapterHelperè§£å†³recyclerviewçš„ç¹çå·¥ä½œ</a></p>
</li>
<li><p><a href="https://github.com/bleeding182/recyclerviewItemDecorations?utm_source=androidweekly.io&amp;utm_medium=website" target="_blank" rel="noopener">recyclerviewItemDecorations</a> ItemDecoration å®ç°æ¯”è¾ƒç‰¹æ®Šçš„æ•ˆæœ<br><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gl4zv1g2tag30dc0ar4a3.gif" alt=""></p>
</li>
<li><p><a href="https://github.com/saiwu-bigkoo/Android-ConvenientBanner" target="_blank" rel="noopener">Android-ConvenientBanner</a></p>
</li>
<li><p><a href="https://github.com/cnwutianhao/RecyclerView" target="_blank" rel="noopener">RecyclerView</a> çš„ä½¿ç”¨æ–¹æ³•</p>
</li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>æ€»ç»“</tag>
        <tag>å®è·µ</tag>
        <tag>UI</tag>
      </tags>
  </entry>
  <entry>
    <title>QMUI_Android UIæ¡†æ¶ç ”ç©¶ç³»åˆ—ä¸€</title>
    <url>/2020/12/19/2020-12-19-QMUI-Android%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0%E4%B8%80/</url>
    <content><![CDATA[<h1 id="QMUI-Android"><a href="#QMUI-Android" class="headerlink" title="QMUI_Android"></a><a href="https://github.com/Tencent/QMUI_Android" target="_blank" rel="noopener">QMUI_Android</a></h1>]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-app å­¦ä¹ ç¬”è®°</title>
    <url>/2020/12/19/2020-12-19-uni-app-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h1 id="æ¡†æ¶ç»“æ„"><a href="#æ¡†æ¶ç»“æ„" class="headerlink" title="æ¡†æ¶ç»“æ„"></a>æ¡†æ¶ç»“æ„</h1><p><img src="https://cdn.linz.tech/uni-app-framework.png" alt=""></p>
<h2 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h2><p>â”Œâ”€cloudfunctions        äº‘å‡½æ•°ç›®å½•ï¼ˆé˜¿é‡Œäº‘ä¸ºaliyunï¼Œè…¾è®¯äº‘ä¸ºtcbï¼Œè¯¦è§uniCloudï¼‰<br>â”‚â”€components            ç¬¦åˆvueç»„ä»¶è§„èŒƒçš„uni-appç»„ä»¶ç›®å½•<br>â”‚  â””â”€comp-a.vue         å¯å¤ç”¨çš„aç»„ä»¶<br>â”œâ”€hybrid                å­˜æ”¾æœ¬åœ°ç½‘é¡µçš„ç›®å½•ï¼Œ<a href="https://uniapp.dcloud.io/component/web-view" target="_blank" rel="noopener">è¯¦è§</a><br>â”œâ”€platforms             å­˜æ”¾å„å¹³å°ä¸“ç”¨é¡µé¢çš„ç›®å½•ï¼Œ<a href="https://uniapp.dcloud.io/platform?id=%E6%95%B4%E4%BD%93%E7%9B%AE%E5%BD%95%E6%9D%A1%E4%BB%B6%E7%BC%96%E8%AF%91" target="_blank" rel="noopener">è¯¦è§</a><br>â”œâ”€pages                 ä¸šåŠ¡é¡µé¢æ–‡ä»¶å­˜æ”¾çš„ç›®å½•<br>â”‚  â”œâ”€index<br>â”‚  â”‚  â””â”€index.vue       indexé¡µé¢<br>â”‚  â””â”€list<br>â”‚     â””â”€list.vue        listé¡µé¢<br>â”œâ”€static                å­˜æ”¾åº”ç”¨å¼•ç”¨é™æ€èµ„æºï¼ˆå¦‚å›¾ç‰‡ã€è§†é¢‘ç­‰ï¼‰çš„ç›®å½•ï¼Œæ³¨æ„ï¼šé™æ€èµ„æºåªèƒ½å­˜æ”¾äºæ­¤<br>â”œâ”€wxcomponents          å­˜æ”¾å°ç¨‹åºç»„ä»¶çš„ç›®å½•ï¼Œè¯¦è§<br>â”œâ”€main.js               Vueåˆå§‹åŒ–å…¥å£æ–‡ä»¶<br>â”œâ”€App.vue               åº”ç”¨é…ç½®ï¼Œç”¨æ¥é…ç½®Appå…¨å±€æ ·å¼ä»¥åŠç›‘å¬ åº”ç”¨ç”Ÿå‘½å‘¨æœŸ<br>â”œâ”€manifest.json         é…ç½®åº”ç”¨åç§°ã€appidã€logoã€ç‰ˆæœ¬ç­‰æ‰“åŒ…ä¿¡æ¯ï¼Œè¯¦è§<br>â””â”€pages.json            é…ç½®é¡µé¢è·¯ç”±ã€å¯¼èˆªæ¡ã€é€‰é¡¹å¡ç­‰é¡µé¢ç±»ä¿¡æ¯ï¼Œè¯¦è§</p>
<h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h1><h2 id="ç¬¬1èŠ‚-æ•™å­¦èµ„æº"><a href="#ç¬¬1èŠ‚-æ•™å­¦èµ„æº" class="headerlink" title="ç¬¬1èŠ‚ æ•™å­¦èµ„æº"></a>ç¬¬1èŠ‚ æ•™å­¦èµ„æº</h2><p><strong>å››å¤§æ•™è‚²ç½‘ç«™</strong></p>
<ul>
<li><a href="https://ke.qq.com/course/list/uni-app?tuin=269fe6b" target="_blank" rel="noopener">è…¾è®¯è¯¾å ‚çš„uni-appç›¸å…³è¯¾ç¨‹</a></li>
<li><a href="https://study.163.com/courses-search?keyword=uni-app" target="_blank" rel="noopener">ç½‘æ˜“è¯¾å ‚çš„uni-appç›¸å…³è¯¾ç¨‹</a></li>
<li><a href="https://search.bilibili.com/all?keyword=uni-app&amp;from_source=nav_search_new" target="_blank" rel="noopener">bilibiliçš„uni-appç›¸å…³è§†é¢‘</a></li>
<li><a href="https://www.imooc.com/search/?words=uni-app" target="_blank" rel="noopener">æ…•è¯¾ç½‘uni-appç›¸å…³è¯¾ç¨‹</a></li>
</ul>
<h2 id="ç¬¬2èŠ‚-å®˜æ–¹æ–‡æ¡£"><a href="#ç¬¬2èŠ‚-å®˜æ–¹æ–‡æ¡£" class="headerlink" title="ç¬¬2èŠ‚ å®˜æ–¹æ–‡æ¡£"></a>ç¬¬2èŠ‚ å®˜æ–¹æ–‡æ¡£</h2><h2 id="ç¬¬3èŠ‚-å¸¸ç”¨é…ç½®"><a href="#ç¬¬3èŠ‚-å¸¸ç”¨é…ç½®" class="headerlink" title="ç¬¬3èŠ‚ å¸¸ç”¨é…ç½®"></a>ç¬¬3èŠ‚ å¸¸ç”¨é…ç½®</h2><h2 id="ç¬¬ä¸‰æ–¹SDK"><a href="#ç¬¬ä¸‰æ–¹SDK" class="headerlink" title="ç¬¬ä¸‰æ–¹SDK"></a>ç¬¬ä¸‰æ–¹SDK</h2>]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>uni-app</tag>
      </tags>
  </entry>
  <entry>
    <title>HBuilderX å­¦ä¹ ç¬”è®°</title>
    <url>/2020/12/19/2020-12-19-HBuilderX-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h2 id="å¸¸ç”¨è®¾ç½®"><a href="#å¸¸ç”¨è®¾ç½®" class="headerlink" title="å¸¸ç”¨è®¾ç½®"></a>å¸¸ç”¨è®¾ç½®</h2><h3 id="å¿«æ·"><a href="#å¿«æ·" class="headerlink" title="å¿«æ·"></a>å¿«æ·</h3><p><strong>å¸¸ç”¨å¿«æ·é”®</strong></p>
<table>
<thead>
<tr>
<th>å¿«é€Ÿé”®ä½œç”¨</th>
<th>å¿«æ·é”®</th>
<th>ä½¿ç”¨é¢‘ç‡</th>
</tr>
</thead>
<tbody><tr>
<td>å¿«é€Ÿæœç´¢æ–‡ä»¶</td>
<td>Ctrl + p</td>
<td><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td>æ˜¾ç¤º/éšè—é¡¹ç›®ç®¡ç†å™¨</td>
<td>Alt + q</td>
<td><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td>æ˜¾ç¤º/éšè—å†…ç½®æµè§ˆå™¨</td>
<td>Alt + p</td>
<td><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td>æ˜¾ç¤º/éšè—æ–‡æœ¬ç»“æ„</td>
<td>Alt + w</td>
<td><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td>æ ¼å¼åŒ–ä»£ç </td>
<td>Ctrl + k</td>
<td><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td>å…³é—­å½“å‰TABé¡µ</td>
<td>ctrl+ w</td>
<td><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td>å…¨å±æ˜¾ç¤º</td>
<td>F11</td>
<td><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td>è·³è½¬åˆ°æŸè¡Œä»£ç </td>
<td>ctrl+ g</td>
<td><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td>åœ¨å½“å‰ç›®å½•æŸ¥æ‰¾å­—ç¬¦ä¸²</td>
<td>ctrl+alt+f</td>
<td><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td><strong>æ–‡æœ¬ç¼–è¾‘</strong></td>
<td><strong>å¿«æ·é”®</strong></td>
<td><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td>å‘ä¸‹/ä¸Šå¦èµ·ä¸€è¡Œ</td>
<td>Ctrl + enter /shift ä¸Š</td>
<td><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td>é‡å¤æ’å…¥å½“å‰è¡Œ</td>
<td>Ctrl + insert</td>
<td><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td>åˆ†æ </td>
<td>Alt+Shift + 2(å·¦å³)/8(ä¸Šä¸‹)</td>
<td><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td>æ•´è¡Œç§»åŠ¨</td>
<td>Ctrl + up/down</td>
<td><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td>æ•´å•è¯/è¡Œåˆ é™¤</td>
<td>Ctrlï¼ˆå•è¯ï¼‰/shiftï¼ˆè¡Œï¼‰ + del(å‘å)/backspace(å‘å‰)</td>
<td><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
</tbody></table>
<p><strong>æœ‰ç‚¹ä¸œè¥¿</strong></p>
<table>
<thead>
<tr>
<th>å¿«é€Ÿé”®ä½œç”¨</th>
<th>å¿«æ·é”®</th>
<th>ä½¿ç”¨é¢‘ç‡</th>
</tr>
</thead>
<tbody><tr>
<td>å¤åˆ¶å½“å‰æ–‡ä»¶è·¯å¾„</td>
<td>ctrl+shift+c</td>
<td><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td>æ¿€æ´»ä»£ç åŠ©æ‰‹</td>
<td>Alt + /</td>
<td><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>uni-app</tag>
      </tags>
  </entry>
  <entry>
    <title>Android &amp; vue Live Template</title>
    <url>/2020/12/17/2020-12-17-live-template/</url>
    <content><![CDATA[<h1 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h1><h2 id="è‡ªå®šä¹‰Live-Template"><a href="#è‡ªå®šä¹‰Live-Template" class="headerlink" title="è‡ªå®šä¹‰Live Template"></a>è‡ªå®šä¹‰Live Template</h2><p><strong>ä»£ç æŠ˜å </strong> </p>
<p>abbreviation: <strong>mcb</strong> </p>
<p>Descï¼š Mark Code block</p>
<p>template text </p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// &lt;editor-fold defaultstate="collapsed" desc="$description$"></span>
    $SELECTION$
<span class="token comment" spellcheck="true">// &lt;/editor-fold></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>scopeï¼š java</p>
<p><strong>æ–°å»ºè·³è½¬</strong></p>
<p>abbreviation: <strong>ni</strong> </p>
<p>Descï¼š new intent for Activity</p>
<p>template text: </p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> Intent <span class="token function">newIntent</span><span class="token punctuation">(</span>$args$<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span>App<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>$<span class="token keyword">class</span>$<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>scopeï¼š java</p>
<h2 id="Android-Studio-å†…ç½®"><a href="#Android-Studio-å†…ç½®" class="headerlink" title="Android Studio å†…ç½®"></a>Android Studio å†…ç½®</h2><p><strong>æ˜¾ç¤ºæŸä¸ªç±»</strong></p>
<p>abbreviation: <strong>visible</strong> </p>
<blockquote>
<p>Descï¼š Set view visibility to VISIBLE</p>
</blockquote>
<p>template text: </p>
<pre class="line-numbers language-java"><code class="language-java">$VIEW$<span class="token punctuation">.</span><span class="token function">setVisibility</span><span class="token punctuation">(</span>View<span class="token punctuation">.</span>VISIBLE<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>scopeï¼š java</p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Glide4.xä½¿ç”¨æ€»ç»“</title>
    <url>/2020/12/16/2020-12-8-glide%E5%A4%8D%E4%B9%A0/</url>
    <content><![CDATA[<p><img src="https://cdn.linz.tech/%E5%B0%8F%E8%88%B9.jpg" alt=""></p>
<h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h2><h3 id="åŸºç¡€ç”¨æ³•"><a href="#åŸºç¡€ç”¨æ³•" class="headerlink" title="åŸºç¡€ç”¨æ³•"></a>åŸºç¡€ç”¨æ³•</h3><pre class="line-numbers language-java"><code class="language-java">Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
     <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//èµ„æºåœ°å€ æœ¬åœ°uriï¼Œç½‘ç»œèµ„æºï¼Œå›¾ç‰‡è·¯å¾„</span>
     <span class="token punctuation">.</span><span class="token function">asGif</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// æŒ‡å®šèµ„æºæ ·å¼ è¿˜å¯ä»¥asBitmap()ï¼Œä½†æ˜¯glideä¼šè‡ªåŠ¨åˆ¤æ–­,éç‰¹æ®Šæƒ…å†µä¸ç”¨æŒ‡å®š</span>
     <span class="token punctuation">.</span><span class="token function">placeholder</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>loading<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//åŠ è½½è¿‡ç¨‹æ˜¾ç¤º</span>
     <span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>error<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// åŠ è½½é”™è¯¯æ˜¾ç¤º</span>
     <span class="token punctuation">.</span><span class="token function">diskCacheStrategy</span><span class="token punctuation">(</span>DiskCacheStrategy<span class="token punctuation">.</span>NONE<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//ç¼“å­˜è®¾ç½®</span>
     <span class="token punctuation">.</span><span class="token function">centerCrop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// å›¾ç‰‡å‰ªåˆ‡æ ·å¼</span>
     <span class="token punctuation">.</span><span class="token function">priority</span><span class="token punctuation">(</span>Priority<span class="token punctuation">.</span>HIGH<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//åŠ è½½ä¼˜å…ˆçº§</span>
     <span class="token punctuation">.</span><span class="token function">thumbnail</span><span class="token punctuation">(</span><span class="token number">0.2f</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//ç¼©ç•¥å›¾,æ˜¾ç¤ºè¾ƒå°å›¾ç‰‡æ—¶ç”¨</span>
     <span class="token punctuation">.</span><span class="token function">override</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//æŒ‡å®šå›¾ç‰‡å¤§å°ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœå†…å­˜æ¶ˆè€—</span>
     <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>æ¸…ç†ç¼“å­˜</strong></p>
<pre class="line-numbers language-java"><code class="language-java">Glide<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clearDiskCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ¸…ç†ç£ç›˜ç¼“å­˜ éœ€è¦åœ¨å­çº¿ç¨‹ä¸­æ‰§è¡Œ </span>
Glide<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clearMemory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ¸…ç†å†…å­˜ç¼“å­˜ å¯ä»¥åœ¨UIä¸»çº¿ç¨‹ä¸­è¿›è¡Œ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>åœæ­¢/é‡å¯è¯·æ±‚</strong></p>
<pre class="line-numbers language-java"><code class="language-java">    Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resumeRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resumeRequestsRecursive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pauseRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pauseAllRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="åŸºå¤„çŸ¥è¯†"><a href="#åŸºå¤„çŸ¥è¯†" class="headerlink" title="åŸºå¤„çŸ¥è¯†"></a>åŸºå¤„çŸ¥è¯†</h3><p><strong>å†…å­˜ä½¿ç”¨é‡è®¡ç®—</strong></p>
<pre class="line-numbers language-shell"><code class="language-shell">ARGB_8888 :32ä½å›¾,å¸¦é€æ˜åº¦,æ¯ä¸ªåƒç´ å 4ä¸ªå­—èŠ‚
ARGB_4444 :16ä½å›¾,å¸¦é€æ˜åº¦,æ¯ä¸ªåƒç´ å 2ä¸ªå­—èŠ‚
RGB_565 :16ä½å›¾,ä¸å¸¦é€æ˜åº¦,æ¯ä¸ªåƒç´ å 2ä¸ªå­—èŠ‚
ALPHA_8 :32ä½å›¾,åªæœ‰é€æ˜åº¦,ä¸å¸¦é¢œè‰²,æ¯ä¸ªåƒç´ å 4ä¸ªå­—èŠ‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>glide é»˜è®¤ä½¿ç”¨<strong>RGB_565</strong>åŠ è½½ <strong>ä¸€å¼ 4000 * 2000</strong>å›¾ç‰‡</p>
<pre><code>4000 * 2000 * 2(Byte) / 1024 / 1024 = 15 (MB)</code></pre><p><strong>ç¼“å­˜</strong></p>
<p>Glideä¸ä»…ä»…ç¼“å­˜æ–‡ä»¶ï¼Œè¿˜ä¼šç¼“å­˜ä¸ç¼“å­˜æ–‡ä»¶ç›¸å…³çš„å†…å®¹ï¼Œå¦‚å›¾ç‰‡å¤§å°ï¼Œä½¿ç”¨æ—¶åº”ç”¨çš„å˜åŒ–å’Œè®¾ç½®ç­‰ç­‰</p>
<h3 id="é€‰é¡¹"><a href="#é€‰é¡¹" class="headerlink" title="é€‰é¡¹"></a>é€‰é¡¹</h3><h4 id="Requestions"><a href="#Requestions" class="headerlink" title="Requestions"></a>Requestions</h4><pre class="line-numbers language-java"><code class="language-java">RequestOptions cropOptions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">centerCrop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>cropOptions<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
<li><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/RequestBuilder.html#apply-com.bumptech.glide.request.RequestOptions-" target="_blank" rel="noopener"><code>apply()</code></a> æ–¹æ³•å¯ä»¥è¢«è°ƒç”¨å¤šæ¬¡ï¼Œå› æ­¤ <code>RequestOption</code> å¯ä»¥è¢«ç»„åˆä½¿ç”¨</li>
<li>å¦‚æœ <code>RequestOptions</code> å¯¹è±¡ä¹‹é—´å­˜åœ¨ç›¸äº’å†²çªçš„è®¾ç½®ï¼Œé‚£ä¹ˆåªæœ‰æœ€åä¸€ä¸ªè¢«åº”ç”¨çš„ <code>RequestOptions</code> ä¼šç”Ÿæ•ˆã€‚</li>
</ol>
<p><strong>bitmapTransform</strong> æŠŠbitmapè½¬å˜ä¸ºå„ç§æ ·å¼</p>
<pre class="line-numbers language-java"><code class="language-java">  Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>headUrl <span class="token operator">+</span> url<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>RequestOptions<span class="token punctuation">.</span><span class="token function">bitmapTransform</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CircleCrop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="TransitionOptions"><a href="#TransitionOptions" class="headerlink" title="TransitionOptions"></a><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/TransitionOptions.html" target="_blank" rel="noopener">TransitionOptions</a></h4><blockquote>
<p>ä½¿ç”¨åœºæ™¯</p>
<ol>
<li>viewæ·¡å…¥</li>
<li>å ä½ç¬¦äº¤å‰æ·¡å…¥</li>
</ol>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> <span class="token keyword">static</span> com<span class="token punctuation">.</span>bumptech<span class="token punctuation">.</span>glide<span class="token punctuation">.</span>load<span class="token punctuation">.</span>resource<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>DrawableTransitionOptions<span class="token punctuation">.</span>withCrossFade<span class="token punctuation">;</span>

Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token function">withCrossFade</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>view<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä½¿ç”¨åŠ¨ç”»æ•ˆæœ</p>
<pre class="line-numbers language-java"><code class="language-java">ViewPropertyAnimation<span class="token punctuation">.</span>Animator animationObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ViewPropertyAnimation<span class="token punctuation">.</span>Animator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">animate</span><span class="token punctuation">(</span>View view<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// if it's a custom view class, cast it here</span>
        <span class="token comment" spellcheck="true">// then find subviews and do the animations</span>
        <span class="token comment" spellcheck="true">// here, we just use the entire view for the fade animation</span>
        view<span class="token punctuation">.</span><span class="token function">setAlpha</span><span class="token punctuation">(</span> <span class="token number">0f</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        ObjectAnimator fadeAnim <span class="token operator">=</span> ObjectAnimator<span class="token punctuation">.</span><span class="token function">ofFloat</span><span class="token punctuation">(</span> view<span class="token punctuation">,</span> <span class="token string">"alpha"</span><span class="token punctuation">,</span> <span class="token number">0f</span><span class="token punctuation">,</span> <span class="token number">1f</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        fadeAnim<span class="token punctuation">.</span><span class="token function">setDuration</span><span class="token punctuation">(</span> <span class="token number">2500</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        fadeAnim<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

GlideApp  
    <span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>eatFoodyImages<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span>GenericTransitionOptions<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>animationObject<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//      .transition(GenericTransitionOptions.with(R.anim.zoom_in)) æ”¯æŒxmlå½¢å¼</span>
      <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>imageView2<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
<li><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/resource/bitmap/BitmapTransitionOptions.html" target="_blank" rel="noopener">BitmapTransitionOptions</a></li>
<li><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/resource/drawable/DrawableTransitionOptions.html" target="_blank" rel="noopener">DrawableTransitionOptions</a> </li>
</ol>
<h4 id="RequestBuilder"><a href="#RequestBuilder" class="headerlink" title="RequestBuilder"></a>RequestBuilder</h4><ul>
<li>ä½ æƒ³åŠ è½½çš„èµ„æºç±»å‹(Bitmap, Drawable, æˆ–å…¶ä»–)</li>
<li>ä½ è¦åŠ è½½çš„èµ„æºåœ°å€(url/model)</li>
<li>ä½ æƒ³æœ€ç»ˆåŠ è½½åˆ°çš„View</li>
<li>ä»»ä½•ä½ æƒ³åº”ç”¨çš„ï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªï¼‰<code>RequestOption</code> å¯¹è±¡</li>
<li>ä»»ä½•ä½ æƒ³åº”ç”¨çš„ï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªï¼‰<code>TransitionOption</code> å¯¹è±¡</li>
<li>ä»»ä½•ä½ æƒ³åŠ è½½çš„ç¼©ç•¥å›¾ <a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/RequestBuilder.html#thumbnail-com.bumptech.glide.RequestBuilder-" target="_blank" rel="noopener"><code>thumbnail()</code></a></li>
</ul>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æ„é€ </span>
RequestBuilder<span class="token operator">&lt;</span>Drawable<span class="token operator">></span> requestBuilder <span class="token operator">=</span> Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asDrawable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
RequestBuilder<span class="token operator">&lt;</span>Drawable<span class="token operator">></span> requestBuilder <span class="token operator">=</span> Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//as.. é€‰æ‹©èµ„æºç±»å‹</span>
RequestBuilder<span class="token operator">&lt;</span>Bitmap<span class="token operator">></span> requestBuilder <span class="token operator">=</span> Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asBitmap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//requestOptions transition</span>
RequestBuilder<span class="token operator">&lt;</span>Drawable<span class="token operator">></span> requestBuilder <span class="token operator">=</span> Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asDrawable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
requestBuilder<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>requestOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
requestBuilder<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span>transitionOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//å¤ç”¨</span>
RequestBuilder<span class="token operator">&lt;</span>Drawable<span class="token operator">></span> requestBuilder <span class="token operator">=</span>
        Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">asDrawable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>requestOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numViews<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   ImageView view <span class="token operator">=</span> viewGroup<span class="token punctuation">.</span><span class="token function">getChildAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
   String url <span class="token operator">=</span> urls<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
   requestBuilder<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>view<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="ç¼©ç•¥å›¾-Thumbnail-è¯·æ±‚"><a href="#ç¼©ç•¥å›¾-Thumbnail-è¯·æ±‚" class="headerlink" title="ç¼©ç•¥å›¾ (Thumbnail) è¯·æ±‚"></a>ç¼©ç•¥å›¾ (Thumbnail) è¯·æ±‚</h4><p>ä¼˜å…ˆåŠ è½½æœ¬åœ°ä½åˆ†è¾¨ç‡å›¾ï¼Œåœ¨åŠ è½½æ— æŸç‰ˆæœ¬</p>
<pre class="line-numbers language-java"><code class="language-java">Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">thumbnail</span><span class="token punctuation">(</span> 
    <span class="token comment" spellcheck="true">//.override è®¾ç½®æœ¬åœ°ç‰ˆæœ¬åŠ è½½å¤§å°</span>
    Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>thumbnailUrl<span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="åœ¨å¤±è´¥æ—¶å¼€å§‹æ–°çš„è¯·æ±‚"><a href="#åœ¨å¤±è´¥æ—¶å¼€å§‹æ–°çš„è¯·æ±‚" class="headerlink" title="åœ¨å¤±è´¥æ—¶å¼€å§‹æ–°çš„è¯·æ±‚"></a>åœ¨å¤±è´¥æ—¶å¼€å§‹æ–°çš„è¯·æ±‚</h4><pre class="line-numbers language-java"><code class="language-java">Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>primaryUrl<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>fallbackUrl<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="ç»„ä»¶é€‰é¡¹"><a href="#ç»„ä»¶é€‰é¡¹" class="headerlink" title="ç»„ä»¶é€‰é¡¹"></a>ç»„ä»¶é€‰é¡¹</h4><blockquote>
<p><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/Option.html" target="_blank" rel="noopener"><code>Option</code></a> ç±»æ˜¯ç»™Glideçš„ç»„ä»¶æ·»åŠ å‚æ•°çš„é€šç”¨åŠæ³•ï¼ŒåŒ…æ‹¬ <a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/model/ModelLoader.html" target="_blank" rel="noopener"><code>ModelLoaders</code></a> , <a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/ResourceDecoder.html" target="_blank" rel="noopener"><code>ResourceDecoders</code></a> , <a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/ResourceEncoder.html" target="_blank" rel="noopener"><code>ResourceEncoders</code></a> , <a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/Encoder.html" target="_blank" rel="noopener"><code>Encoders</code></a> ç­‰ç­‰</p>
</blockquote>
<p>ç”¨æ³•è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´</p>
<pre class="line-numbers language-java"><code class="language-java">Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span>MyCustomModelLoader<span class="token punctuation">.</span>TIMEOUT_MS<span class="token punctuation">,</span> 1000L<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">;</span>

RequestOptions options <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>MyCustomModelLoader<span class="token punctuation">.</span>TIMEOUT_MS<span class="token punctuation">,</span> 1000L<span class="token punctuation">)</span><span class="token punctuation">;</span>

Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Transformations"><a href="#Transformations" class="headerlink" title="Transformations"></a><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/Transformation.html" target="_blank" rel="noopener">Transformations</a></h3><h4 id="å†…ç½®ç±»å‹"><a href="#å†…ç½®ç±»å‹" class="headerlink" title="å†…ç½®ç±»å‹"></a>å†…ç½®ç±»å‹</h4><ul>
<li><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/resource/bitmap/CenterCrop.html" target="_blank" rel="noopener">CenterCrop</a></li>
<li><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/resource/bitmap/FitCenter.html" target="_blank" rel="noopener">FitCenter</a></li>
<li><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/resource/bitmap/CircleCrop.html" target="_blank" rel="noopener">CircleCrop</a></li>
</ul>
<pre class="line-numbers language-java"><code class="language-java">Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">fitCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">;</span>

RequestOptions options <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
options<span class="token punctuation">.</span><span class="token function">centerCrop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="å¤šé‡å˜æ¢"><a href="#å¤šé‡å˜æ¢" class="headerlink" title="å¤šé‡å˜æ¢"></a>å¤šé‡å˜æ¢</h4><pre class="line-numbers language-java"><code class="language-java">Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
  <span class="token comment" spellcheck="true">// .transform(new FitCenter(), new YourCustomTransformation())</span>
  <span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MultiTransformation</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FitCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">YourCustomTransformation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ã€æ³¨æ„ã€‘ï¼š ä¼ å…¥å˜æ¢å‚æ•°çš„é¡ºåºï¼Œå†³å®šäº†è¿™äº›å˜æ¢çš„åº”ç”¨é¡ºåº</p>
<h4 id="å®šåˆ¶å˜æ¢"><a href="#å®šåˆ¶å˜æ¢" class="headerlink" title="å®šåˆ¶å˜æ¢"></a>å®šåˆ¶å˜æ¢</h4><p>CircleCrop.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CircleCrop</span> <span class="token keyword">extends</span> <span class="token class-name">BitmapTransformation</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// The version of this transformation, incremented to correct an error in a previous version.</span>
  <span class="token comment" spellcheck="true">// See #455.</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> VERSION <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> String ID <span class="token operator">=</span> <span class="token string">"com.bumptech.glide.load.resource.bitmap.CircleCrop."</span> <span class="token operator">+</span> VERSION<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ID_BYTES <span class="token operator">=</span> ID<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span>CHARSET<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// Bitmap doesn't implement equals, so == and .equals are equivalent here.</span>
  <span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">"PMD.CompareObjectsWithEquals"</span><span class="token punctuation">)</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">protected</span> Bitmap <span class="token function">transform</span><span class="token punctuation">(</span>
      <span class="token annotation punctuation">@NonNull</span> BitmapPool pool<span class="token punctuation">,</span> <span class="token annotation punctuation">@NonNull</span> Bitmap toTransform<span class="token punctuation">,</span> <span class="token keyword">int</span> outWidth<span class="token punctuation">,</span> <span class="token keyword">int</span> outHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> TransformationUtils<span class="token punctuation">.</span><span class="token function">circleCrop</span><span class="token punctuation">(</span>pool<span class="token punctuation">,</span> toTransform<span class="token punctuation">,</span> outWidth<span class="token punctuation">,</span> outHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> o <span class="token keyword">instanceof</span> <span class="token class-name">CircleCrop</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> ID<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateDiskCacheKey</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> MessageDigest messageDigest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    messageDigest<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>ID_BYTES<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä½¿ç”¨</p>
<pre class="line-numbers language-java"><code class="language-java">    Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>headUrl <span class="token operator">+</span> url<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>RequestOptions<span class="token punctuation">.</span><span class="token function">bitmapTransform</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CircleCrop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Target"><a href="#Target" class="headerlink" title="Target"></a>Target</h3><blockquote>
<p>å¸¸ç”¨çš„å®ç°ç±» ViewTargetã€ <a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/request/target/ImageViewTarget.html" target="_blank" rel="noopener"><code>ImageViewTargets</code></a> ã€DrawableImageViewTarget</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java">Target<span class="token operator">&lt;</span>Drawable<span class="token operator">></span> target <span class="token operator">=</span> 
   Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Target</span><span class="token operator">&lt;</span>Drawable<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token punctuation">}</span>

          <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token punctuation">}</span>

          <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token punctuation">}</span>

          <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onLoadStarted</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> Drawable placeholder<span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token punctuation">}</span>

          <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onLoadFailed</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> Drawable errorDrawable<span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token punctuation">}</span>

          <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResourceReady</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> Drawable resource<span class="token punctuation">,</span>
              <span class="token annotation punctuation">@Nullable</span> Transition<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> Drawable<span class="token operator">></span> transition<span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token punctuation">}</span>

          <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onLoadCleared</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> Drawable placeholder<span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token punctuation">}</span>

          <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> SizeReadyCallback cb<span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token punctuation">}</span>

          <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">removeCallback</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> SizeReadyCallback cb<span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token punctuation">}</span>

          <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRequest</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> Request request<span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token punctuation">}</span>

          <span class="token annotation punctuation">@Nullable</span> <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> Request <span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> null<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="å–æ¶ˆå’Œé‡ç”¨"><a href="#å–æ¶ˆå’Œé‡ç”¨" class="headerlink" title="å–æ¶ˆå’Œé‡ç”¨"></a>å–æ¶ˆå’Œé‡ç”¨</h4><ul>
<li>Glide.with(fragment).clear(target); è¿”å›çš„ <code>Target</code> æ¥ <a href="https://muyangmin.github.io/glide-docs-cn/javadocs/431/com/bumptech/glide/RequestManager.html#clear-com.bumptech.glide.request.target.Target-" target="_blank" rel="noopener"><code>clear()</code></a> ä¹‹å‰çš„åŠ è½½ï¼Œè¿™å°†åœ¨ä¸éœ€è¦å¼€å§‹æ–°çš„åŠ è½½çš„æƒ…å†µä¸‹é‡Šæ”¾æ‰ä»»ä½•ç›¸å…³èµ„æºï¼š</li>
<li>ä»…å¯¹ViewTargetè€Œè¨€ï¼Œä½ å¯ä»¥åœ¨æ¯æ¬¡åŠ è½½æˆ–æ¸…ç†è°ƒç”¨æ—¶éƒ½ä¼ å…¥ä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œè€Œ Glide ä»ç„¶å¯ä»¥ä» View çš„ tag ä¸­å–å›ä¹‹å‰ä¸€æ¬¡åŠ è½½çš„ä¿¡æ¯ï¼Œä»è€Œè¾¾åˆ°å¤ç”¨çš„æ•ˆæœ</li>
</ul>
<pre class="line-numbers language-java"><code class="language-java">Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DrawableImageViewTarget</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// Some time in the future:</span>
Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>newUrl<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DrawableImageViewTarget</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="å°ºå¯¸-Sizes-and-dimensions"><a href="#å°ºå¯¸-Sizes-and-dimensions" class="headerlink" title="å°ºå¯¸ (Sizes and dimensions)"></a>å°ºå¯¸ (Sizes and dimensions)</h4><blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒGlide ä½¿ç”¨ç›®æ ‡é€šè¿‡ <a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/request/target/Target.html#getSize-com.bumptech.glide.request.target.SizeReadyCallback-" target="_blank" rel="noopener"><code>getSize</code></a> æ–¹æ³•æä¾›çš„å°ºå¯¸æ¥ä½œä¸ºè¯·æ±‚çš„ç›®æ ‡å°ºå¯¸ã€‚è¿™å…è®¸ Glide é€‰å–åˆé€‚çš„ URLï¼Œä¸‹é‡‡æ ·ï¼Œè£å‰ªå’Œå˜æ¢åˆé€‚çš„å›¾ç‰‡ä»¥å‡å°‘å†…å­˜å ç”¨ï¼Œå¹¶ç¡®ä¿åŠ è½½å°½å¯èƒ½å¿«åœ°å®Œæˆã€‚</p>
<p><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/431/com/bumptech/glide/request/target/ViewTarget.html" target="_blank" rel="noopener"><code>ViewTarget</code></a> é€šè¿‡æ£€æŸ¥ View çš„å±æ€§å’Œ/æˆ–ä½¿ç”¨ä¸€ä¸ª <a href="https://developer.android.com/reference/android/view/ViewTreeObserver.OnPreDrawListener.html" target="_blank" rel="noopener"><code>OnPreDrawListener</code></a> åœ¨ View ç»˜åˆ¶ä¹‹å‰ç›´æ¥æµ‹é‡å°ºå¯¸æ¥å®ç° <a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/request/target/Target.html#getSize-com.bumptech.glide.request.target.SizeReadyCallback-" target="_blank" rel="noopener"><code>getSize()</code></a> æ–¹æ³•ã€‚å› æ­¤ï¼Œ Glide å¯ä»¥è‡ªåŠ¨è°ƒæ•´å¤§éƒ¨åˆ†å›¾ç‰‡ä»¥åŒ¹é…ç›®æ ‡ <code>View</code></p>
</blockquote>
<p> è¯·å‚è€ƒ <a href="https://github.com/bumptech/glide/blob/e9cf41fbc190c9d29ce683728f52c061809c749b/library/src/main/java/com/bumptech/glide/request/target/ViewTarget.java#L89" target="_blank" rel="noopener"><code>ViewTarget</code></a> ä¸­çš„é€»è¾‘ã€‚</p>
<h4 id="åŠ¨ç”»èµ„æºå’Œå®šåˆ¶ç›®æ ‡"><a href="#åŠ¨ç”»èµ„æºå’Œå®šåˆ¶ç›®æ ‡" class="headerlink" title="åŠ¨ç”»èµ„æºå’Œå®šåˆ¶ç›®æ ‡"></a>åŠ¨ç”»èµ„æºå’Œå®šåˆ¶ç›®æ ‡</h4><pre class="line-numbers language-java"><code class="language-java">Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">asGif</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SimpleTarget</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResourceReady</span><span class="token punctuation">(</span>GifDrawable resource<span class="token punctuation">,</span> Transition<span class="token operator">&lt;</span>GifDrawable<span class="token operator">></span> transition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//gif </span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>resource <span class="token keyword">instanceof</span> <span class="token class-name">Animatable</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        resource<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="è¿‡æ¸¡"><a href="#è¿‡æ¸¡" class="headerlink" title="è¿‡æ¸¡"></a>è¿‡æ¸¡</h3><blockquote>
<p>å…è®¸ä½ å®šä¹‰ Glide å¦‚ä½•ä»å ä½ç¬¦åˆ°æ–°åŠ è½½çš„å›¾ç‰‡ï¼Œæˆ–ä»ç¼©ç•¥å›¾åˆ°å…¨å°ºå¯¸å›¾åƒè¿‡æ¸¡ã€‚</p>
</blockquote>
<ol>
<li>4.x é»˜è®¤ä¸ä¼šä½¿ç”¨äº¤å‰æ·¡å…¥åŠ¨ç”»</li>
<li>è¿‡æ¸¡åŠ¨ç”»æ•ˆæœåœ¨å®‰å“ä¸­æ¶ˆè€— æ¯”è¾ƒå¤§éœ€è¦è°¨æ…ä½¿ç”¨</li>
</ol>
<p><strong>å®šåˆ¶è¿‡æ¸¡</strong></p>
<p>è¯·æŸ¥çœ‹ <a href="https://github.com/bumptech/glide/blob/8f22bd9b82349bf748e335b4a31e70c9383fb15a/library/src/main/java/com/bumptech/glide/request/transition/DrawableCrossFadeFactory.java#L35" target="_blank" rel="noopener"><code>DrawableCrossFadeFactory</code></a>.</p>
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><ol>
<li><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/module/AppGlideModule.html" target="_blank" rel="noopener"><code>AppGlideModule</code></a> å…¨å±€å”¯ä¸€ï¼Œå¤šä¸ªå†²çª</li>
<li><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/module/LibraryGlideModule.html" target="_blank" rel="noopener"><code>LibraryGlideModule</code></a> å¯æ·»åŠ å¤šä¸ª</li>
</ol>
<p><strong>åŸºæœ¬ç”¨æ³•</strong></p>
<p><strong>åŠ å…¥ä¾èµ–</strong></p>
<pre><code>compile 'com.github.bumptech.glide:annotations:4.11.0'
annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'</code></pre><p><strong>æ··æ·†</strong></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token operator">-</span>keep <span class="token keyword">public</span> <span class="token keyword">class</span>  <span class="token class-name">extends</span> com<span class="token punctuation">.</span>bumptech<span class="token punctuation">.</span>glide<span class="token punctuation">.</span>module<span class="token punctuation">.</span>AppGlideModule
<span class="token operator">-</span>keep <span class="token keyword">class</span> <span class="token class-name">com<span class="token punctuation">.</span>bumptech<span class="token punctuation">.</span>glide<span class="token punctuation">.</span>GeneratedAppGlideModuleImpl</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>åœ¨ Glide çš„ <a href="https://github.com/bumptech/glide/blob/master/samples/flickr/src/main/java/com/bumptech/glide/samples/flickr/FlickrGlideModule.java" target="_blank" rel="noopener">Flickr ç¤ºä¾‹åº”ç”¨</a> ä¸­</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@GlideModule</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FlickrGlideModule</span> <span class="token keyword">extends</span> <span class="token class-name">AppGlideModule</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registerComponents</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> Registry registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// Photo.class æ˜¯ä¸€ä¸ªæ™®é€šçš„bean</span>
    registry<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>Photo<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> InputStream<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">FlickrModelLoader<span class="token punctuation">.</span>Factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@GlideModule</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">OkHttpLibraryGlideModule</span> <span class="token keyword">extends</span> <span class="token class-name">LibraryGlideModule</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registerComponents</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> Glide glide<span class="token punctuation">,</span> Registry registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    registry<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>GlideUrl<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> InputStream<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpUrlLoader<span class="token punctuation">.</span>Factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="åº”ç”¨ç¨‹åºé€‰é¡¹"><a href="#åº”ç”¨ç¨‹åºé€‰é¡¹" class="headerlink" title="åº”ç”¨ç¨‹åºé€‰é¡¹"></a>åº”ç”¨ç¨‹åºé€‰é¡¹</h3><p><strong>GlideBuilder å±æ€§</strong></p>
<ul>
<li>.setMemoryCache(MemoryCache memoryCache)</li>
<li>.setBitmapPool(BitmapPool bitmapPool)</li>
<li>.setDiskCache(DiskCache.Factory diskCacheFactory)</li>
<li>.setDiskCacheService(ExecutorService service)</li>
<li>.setResizeService(ExecutorService service)</li>
<li>.setDecodeFormat(DecodeFormat decodeFormat)</li>
</ul>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@GlideModule</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">YourAppGlideModule</span> <span class="token keyword">extends</span> <span class="token class-name">AppGlideModule</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">applyOptions</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> GlideBuilder builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">//è‡ªå®šä¹‰ MemoryCache çš„å¤§å°</span>
    MemorySizeCalculator calculator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MemorySizeCalculator<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setMemoryCacheScreens</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    builder<span class="token punctuation">.</span><span class="token function">setMemoryCache</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LruResourceCache</span><span class="token punctuation">(</span>calculator<span class="token punctuation">.</span><span class="token function">getMemoryCacheSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment" spellcheck="true">//ç›´æ¥è¦†å†™ç¼“å­˜å¤§å°</span>
       <span class="token keyword">int</span> memoryCacheSizeBytes <span class="token operator">=</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 20mb</span>
    builder<span class="token punctuation">.</span><span class="token function">setMemoryCache</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LruResourceCache</span><span class="token punctuation">(</span>memoryCacheSizeBytes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>Bitmap æ± </strong></p>
<pre class="line-numbers language-java"><code class="language-java">YourAppGlideModule<span class="token punctuation">{</span> 
MemorySizeCalculator calculator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MemorySizeCalculator<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setBitmapPoolScreens</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    builder<span class="token punctuation">.</span><span class="token function">setBitmapPool</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LruBitmapPool</span><span class="token punctuation">(</span>calculator<span class="token punctuation">.</span><span class="token function">getBitmapPoolSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">int</span> bitmapPoolSizeBytes <span class="token operator">=</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 30mb</span>
    builder<span class="token punctuation">.</span><span class="token function">setBitmapPool</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LruBitmapPool</span><span class="token punctuation">(</span>bitmapPoolSizeBytes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>ç£ç›˜ç¼“å­˜</strong> é»˜è®¤ç£ç›˜å¤§å°ä¸º <a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/engine/cache/DiskCache.Factory.html#DEFAULT_DISK_CACHE_SIZE" target="_blank" rel="noopener">250 MB</a></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//å­˜ä½ç½®æ”¹åˆ°å¤–éƒ¨å­˜å‚¨ </span>
builder<span class="token punctuation">.</span><span class="token function">setDiskCache</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ExternalCacheDiskCacheFactory</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//æ”¹å˜ç£ç›˜ç¼“å­˜çš„å¤§å°ï¼š</span>
<span class="token keyword">int</span> diskCacheSizeBytes <span class="token operator">=</span> <span class="token number">1024</span>  <span class="token number">1024</span>  <span class="token number">100</span><span class="token punctuation">;</span>  <span class="token number">100</span> MB
builder<span class="token punctuation">.</span><span class="token function">setDiskCache</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InternalCacheDiskCacheFactory</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> diskCacheSizeBytes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="é»˜è®¤è¯·æ±‚é€‰é¡¹"><a href="#é»˜è®¤è¯·æ±‚é€‰é¡¹" class="headerlink" title="é»˜è®¤è¯·æ±‚é€‰é¡¹"></a>é»˜è®¤è¯·æ±‚é€‰é¡¹</h3><ol>
<li>å…¨å±€ç”Ÿæ•ˆ</li>
<li>ä¼šè¦†ç›–ä¹‹å‰è®¾ç½®</li>
</ol>
<p>æ–¹å¼ä¸€ï¼Œ APPGlideModuleè®¾ç½®æ–¹å¼</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@GlideModule</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">YourAppGlideModule</span> <span class="token keyword">extends</span> <span class="token class-name">AppGlideModule</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">applyOptions</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> GlideBuilder builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    builder<span class="token punctuation">.</span><span class="token function">setDefaultRequestOptions</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>DecodeFormat<span class="token punctuation">.</span>RGB_565<span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">disallowHardwareBitmaps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ–¹å¼äºŒ. RequestOptions</p>
<pre class="line-numbers language-java"><code class="language-java">Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">applyDefaultRequestOptions</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>DecodeFormat<span class="token punctuation">.</span>RGB_565<span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">disallowHardwareBitmaps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æ³¨å†Œç»„ä»¶"><a href="#æ³¨å†Œç»„ä»¶" class="headerlink" title="æ³¨å†Œç»„ä»¶"></a>æ³¨å†Œç»„ä»¶</h3><ol>
<li><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/model/ModelLoaderFactory.html" target="_blank" rel="noopener"><code>ModelLoader</code></a>, ç”¨äºåŠ è½½è‡ªå®šä¹‰çš„ Model(Url, Uri,ä»»æ„çš„ POJO )å’Œ Data(InputStreams, FileDescriptors)ã€‚</li>
<li><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/ResourceDecoder.html" target="_blank" rel="noopener"><code>ResourceDecoder</code></a>, ç”¨äºå¯¹æ–°çš„ Resources(Drawables, Bitmaps)æˆ–æ–°çš„ Data ç±»å‹(InputStreams, FileDescriptors)è¿›è¡Œè§£ç ã€‚</li>
<li><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/Encoder.html" target="_blank" rel="noopener"><code>Encoder</code></a>, ç”¨äºå‘ Glide çš„ç£ç›˜ç¼“å­˜å†™ Data (InputStreams, FileDesciptors)ã€‚</li>
<li><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/resource/transcode/ResourceTranscoder.html" target="_blank" rel="noopener"><code>ResourceTranscoder</code></a>ï¼Œç”¨äºåœ¨ä¸åŒçš„èµ„æºç±»å‹ä¹‹é—´åšè½¬æ¢ï¼Œä¾‹å¦‚ï¼Œä» BitmapResource è½¬æ¢ä¸º DrawableResource ã€‚</li>
<li><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/ResourceEncoder.html" target="_blank" rel="noopener"><code>ResourceEncoder</code></a>ï¼Œç”¨äºå‘ Glide çš„ç£ç›˜ç¼“å­˜å†™ Resources(BitmapResource, DrawableResource)ã€‚</li>
</ol>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@GlideModule</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">YourAppGlideModule</span> <span class="token keyword">extends</span> <span class="token class-name">AppGlideModule</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registerComponents</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> Registry registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">//prepend</span>
      <span class="token comment" spellcheck="true">//replace</span>
    registry<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>Photo<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> InputStream<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">CustomModelLoader<span class="token punctuation">.</span>Factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ¡ˆä¾‹ï¼š<a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/model/ModelLoaderFactory.html" target="_blank" rel="noopener"><code>ModelLoader</code></a> å’Œ <a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/ResourceDecoder.html" target="_blank" rel="noopener"><code>ResourceDecoder</code></a></p>
<h3 id="å®è·µæ¡ˆä¾‹"><a href="#å®è·µæ¡ˆä¾‹" class="headerlink" title="å®è·µæ¡ˆä¾‹"></a>å®è·µæ¡ˆä¾‹</h3><ol>
<li><strong>æé«˜glideå›¾ç‰‡åŠ è½½è´¨é‡</strong></li>
</ol>
<blockquote>
<p>Android ä¸­æœ‰ä¸¤ä¸ªä¸»è¦çš„æ–¹æ³•å¯¹å›¾ç‰‡è¿›è¡Œè§£ç ï¼šARGB8888 å’Œ RGB565ã€‚å‰è€…ä¸ºæ¯ä¸ªåƒç´ ä½¿ç”¨äº† 4 ä¸ªå­—èŠ‚ï¼Œåè€…ä»…ä¸ºæ¯ä¸ªåƒç´ ä½¿ç”¨äº† 2 ä¸ªå­—èŠ‚ã€‚ARGB8888 çš„ä¼˜åŠ¿æ˜¯å›¾åƒè´¨é‡æ›´é«˜ä»¥åŠèƒ½å­˜å‚¨ä¸€ä¸ª alpha é€šé“ã€‚Glide é»˜è®¤ä½¿ç”¨ä½è´¨é‡çš„ RGB565</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleGlideModule</span> <span class="token keyword">implements</span> <span class="token class-name">GlideModule</span> <span class="token punctuation">{</span>  
    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">applyOptions</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> GlideBuilder builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        builder<span class="token punctuation">.</span><span class="token function">setDecodeFormat</span><span class="token punctuation">(</span>DecodeFormat<span class="token punctuation">.</span>PREFER_ARGB_8888<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registerComponents</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> Glide glide<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// nothing to do here</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li><a href="https://mrfu.me/2016/02/28/Glide_Module_Example_Accepting_Self-Signed_HTTPS_Certificates/" target="_blank" rel="noopener">Module å®ä¾‹ï¼šæ¥å—è‡ªç­¾åè¯ä¹¦çš„ HTTPS</a></li>
</ol>
<h4 id="å…¶ä»–é…ç½®"><a href="#å…¶ä»–é…ç½®" class="headerlink" title="å…¶ä»–é…ç½®"></a>å…¶ä»–é…ç½®</h4><p><strong>æœªæ•è·å¼‚å¸¸ç­–ç•¥</strong></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@GlideModule</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">YourAppGlideModule</span> <span class="token keyword">extends</span> <span class="token class-name">AppGlideModule</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">applyOptions</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> GlideBuilder builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> UncaughtThrowableStrategy myUncaughtThrowableStrategy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
    builder<span class="token punctuation">.</span><span class="token function">setDiskCacheExecutor</span><span class="token punctuation">(</span><span class="token function">newDiskCacheExecutor</span><span class="token punctuation">(</span>myUncaughtThrowableStrategy<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    builder<span class="token punctuation">.</span><span class="token function">setResizeExecutor</span><span class="token punctuation">(</span><span class="token function">newSourceExecutor</span><span class="token punctuation">(</span>myUncaughtThrowableStrategy<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>æ—¥å¿—çº§åˆ«</strong></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@GlideModule</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">YourAppGlideModule</span> <span class="token keyword">extends</span> <span class="token class-name">AppGlideModule</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">applyOptions</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> GlideBuilder builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    builder<span class="token punctuation">.</span><span class="token function">setLogLevel</span><span class="token punctuation">(</span>Log<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a>ç¼“å­˜</h2><p><strong>ç¼“å­˜å››ä¸ªçº§åˆ«</strong></p>
<p>Active Resources(View æ­£åœ¨æ˜¾ç¤º) &gt; Memory cacheï¼ˆåŠ è½½è¿‡å¹¶åœ¨å†…å­˜ï¼‰ &gt;  Resourceï¼ˆè§£å¯†å¹¶å­˜åœ¨ç£ç›˜ï¼‰ &gt; Data ï¼ˆæ›¾ç»å†™å…¥è¿‡æ–‡ä»¶ï¼‰</p>
<p><strong>é…ç½®ç¼“å­˜</strong></p>
<pre class="line-numbers language-java"><code class="language-java">Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
   <span class="token comment" spellcheck="true">//.onlyRetrieveFromCache(true)</span>
   <span class="token comment" spellcheck="true">//.skipMemoryCache(true)</span>
    <span class="token comment" spellcheck="true">//.diskCacheStrategy(DiskCacheStrategy.NONE)</span>
  <span class="token punctuation">.</span><span class="token function">diskCacheStrategy</span><span class="token punctuation">(</span>DiskCacheStrategy<span class="token punctuation">.</span>ALL<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>å®šåˆ¶ç¼“å­˜åˆ·æ–°Keyå€¼</strong></p>
<p>æ–‡ä»¶ <a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/signature/ObjectKey.html" target="_blank" rel="noopener"><code>ObjectKey</code></a></p>
<pre class="line-numbers language-java"><code class="language-java">Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>yourFragment<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>yourFileDataModel<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">signature</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ObjectKey</span><span class="token punctuation">(</span>yourVersionMetadata<span class="token comment" spellcheck="true">/*ä¿®æ”¹æ—¥æœŸ*/</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>yourImageView<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>åª’ä½“å­˜å‚¨ç­¾åMediaStore </p>
<pre class="line-numbers language-java"><code class="language-java">Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>mediaStoreUri<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">signature</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MediaStoreSignature</span><span class="token punctuation">(</span>mimeType<span class="token punctuation">,</span> dateModified<span class="token punctuation">,</span> orientation<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>view<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>å®šä¹‰ä½ è‡ªå·±çš„ç­¾å</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IntegerVersionSignature</span> <span class="token keyword">implements</span> <span class="token class-name">Key</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> currentVersion<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">IntegerVersionSignature</span><span class="token punctuation">(</span><span class="token keyword">int</span> currentVersion<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span>currentVersion <span class="token operator">=</span> currentVersion<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token class-name">IntegerVersionSignature</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            IntegerVersionSignature other <span class="token operator">=</span> <span class="token punctuation">(</span>IntegerVersionSignature<span class="token punctuation">)</span> o<span class="token punctuation">;</span>
            <span class="token keyword">return</span> currentVersion <span class="token operator">==</span> other<span class="token punctuation">.</span>currentVersion<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> currentVersion<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateDiskCacheKey</span><span class="token punctuation">(</span>MessageDigest md<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        messageDigest<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>ByteBuffer<span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span>Integer<span class="token punctuation">.</span>SIZE<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">putInt</span><span class="token punctuation">(</span>signature<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h2><p><strong>å¸¸ç”¨çš„ç»„ä»¶æ¦‚è¿°</strong></p>
<ol>
<li><p><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/model/ModelLoader.html" target="_blank" rel="noopener">ModelLoader</a></p>
<blockquote>
<p>A factory interface for translating an arbitrarily complex data model into a</p>
<p> concrete data type that can be used by an <a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/data/DataFetcher.html" target="_blank" rel="noopener"><code>DataFetcher</code></a> to obtain the data for a resource represented by the model.</p>
</blockquote>
</li>
<li><p><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/ResourceDecoder.html" target="_blank" rel="noopener">ResourceDecoder&lt;T,Z&gt;</a></p>
<blockquote>
<p><code>T</code> - The type the resource will be decoded from (File, InputStream etc).</p>
<p><code>Z</code> - The type of the decoded resource (Bitmap, Drawable etc).</p>
</blockquote>
</li>
<li><p><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/com/bumptech/glide/load/ResourceEncoder.html" target="_blank" rel="noopener">ResourceEncoder<t></t></a></p>
<blockquote>
<p><code>T</code> - The type of the data contained by the resource.</p>
</blockquote>
</li>
</ol>
<h2 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h2><h3 id="1-åŠ è½½åŠ è½½è§’å›¾ç‰‡åº¦"><a href="#1-åŠ è½½åŠ è½½è§’å›¾ç‰‡åº¦" class="headerlink" title="1. åŠ è½½åŠ è½½è§’å›¾ç‰‡åº¦"></a>1. åŠ è½½<strong><em>åŠ è½½è§’å›¾ç‰‡</em>åº¦</strong></h3><p><strong>å¼€æºåº“</strong></p>
<p><a href="https://github.com/wasabeef/glide-transformations" target="_blank" rel="noopener">glide-transformations</a></p>
<p><img src="https://cdn.linz.tech/glide_transformation.gif" alt=""></p>
<h3 id="2-ä¸‹è½½æ–‡ä»¶-è·å–ç¼“å­˜æ–‡ä»¶è·¯å¾„"><a href="#2-ä¸‹è½½æ–‡ä»¶-è·å–ç¼“å­˜æ–‡ä»¶è·¯å¾„" class="headerlink" title="2. ä¸‹è½½æ–‡ä»¶/è·å–ç¼“å­˜æ–‡ä»¶è·¯å¾„"></a>2. ä¸‹è½½æ–‡ä»¶/è·å–ç¼“å­˜æ–‡ä»¶è·¯å¾„</h3><pre class="line-numbers language-java"><code class="language-java">FutureTarget<span class="token operator">&lt;</span>File<span class="token operator">></span> target <span class="token operator">=</span> Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">downloadOnly</span><span class="token punctuation">(</span>Target<span class="token punctuation">.</span>SIZE_ORIGINAL<span class="token punctuation">,</span> Target<span class="token punctuation">.</span>SIZE_ORIGINAL<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> File imageFile <span class="token operator">=</span> target<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="3-æ ¹æ®åŠ è½½çš„èµ„æºåŠ¨æ€è®¾ç½®ImageViewå¤§å°"><a href="#3-æ ¹æ®åŠ è½½çš„èµ„æºåŠ¨æ€è®¾ç½®ImageViewå¤§å°" class="headerlink" title="3. æ ¹æ®åŠ è½½çš„èµ„æºåŠ¨æ€è®¾ç½®ImageViewå¤§å°"></a>3. æ ¹æ®åŠ è½½çš„èµ„æºåŠ¨æ€è®¾ç½®ImageViewå¤§å°</h3><blockquote>
<p>ä¸»è¦æ˜¯RequestListener çš„åº”ç”¨ï¼Œ è·å–èµ„æºçš„æ•°æ®resource.getIntrinsicHeight()</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java">    <span class="token comment" spellcheck="true">/**
     * è‡ªé€‚åº”å®½åº¦åŠ è½½å›¾ç‰‡ã€‚ä¿æŒå›¾ç‰‡çš„é•¿å®½æ¯”ä¾‹ä¸å˜ï¼Œé€šè¿‡ä¿®æ”¹imageViewçš„é«˜åº¦æ¥å®Œå…¨æ˜¾ç¤ºå›¾ç‰‡ã€‚
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">loadIntoUseFitWidth</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> <span class="token keyword">final</span> String imageUrl<span class="token punctuation">,</span> <span class="token keyword">int</span> errorImageId<span class="token punctuation">,</span> <span class="token keyword">final</span> ImageView imageView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>imageUrl<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">diskCacheStrategy</span><span class="token punctuation">(</span>DiskCacheStrategy<span class="token punctuation">.</span>SOURCE<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">listener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RequestListener</span><span class="token operator">&lt;</span>String<span class="token punctuation">,</span> GlideDrawable<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onException</span><span class="token punctuation">(</span>Exception e<span class="token punctuation">,</span> String model<span class="token punctuation">,</span> Target<span class="token operator">&lt;</span>GlideDrawable<span class="token operator">></span> target<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isFirstResource<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>

                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onResourceReady</span><span class="token punctuation">(</span>GlideDrawable resource<span class="token punctuation">,</span> String model<span class="token punctuation">,</span> Target<span class="token operator">&lt;</span>GlideDrawable<span class="token operator">></span> target<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isFromMemoryCache<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isFirstResource<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>imageView <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>imageView<span class="token punctuation">.</span><span class="token function">getScaleType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> ImageView<span class="token punctuation">.</span>ScaleType<span class="token punctuation">.</span>FIT_XY<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            imageView<span class="token punctuation">.</span><span class="token function">setScaleType</span><span class="token punctuation">(</span>ImageView<span class="token punctuation">.</span>ScaleType<span class="token punctuation">.</span>FIT_XY<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                        ViewGroup<span class="token punctuation">.</span>LayoutParams params <span class="token operator">=</span> imageView<span class="token punctuation">.</span><span class="token function">getLayoutParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">int</span> vw <span class="token operator">=</span> imageView<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> imageView<span class="token punctuation">.</span><span class="token function">getPaddingLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> imageView<span class="token punctuation">.</span><span class="token function">getPaddingRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">float</span> scale <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span> vw <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span> resource<span class="token punctuation">.</span><span class="token function">getIntrinsicWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">int</span> vh <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>resource<span class="token punctuation">.</span><span class="token function">getIntrinsicHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> scale<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        params<span class="token punctuation">.</span>height <span class="token operator">=</span> vh <span class="token operator">+</span> imageView<span class="token punctuation">.</span><span class="token function">getPaddingTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> imageView<span class="token punctuation">.</span><span class="token function">getPaddingBottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        imageView<span class="token punctuation">.</span><span class="token function">setLayoutParams</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">placeholder</span><span class="token punctuation">(</span>errorImageId<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>errorImageId<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="4-ã€å®˜æ–¹ã€‘ç¼–å†™å®šåˆ¶çš„-ModelLoader"><a href="#4-ã€å®˜æ–¹ã€‘ç¼–å†™å®šåˆ¶çš„-ModelLoader" class="headerlink" title="4. ã€å®˜æ–¹ã€‘ç¼–å†™å®šåˆ¶çš„ ModelLoader"></a>4. ã€å®˜æ–¹ã€‘<a href="https://muyangmin.github.io/glide-docs-cn/tut/custom-modelloader.html" target="_blank" rel="noopener">ç¼–å†™å®šåˆ¶çš„ ModelLoader</a></h3><h2 id="ç›¸å…³å¼€æºåº“"><a href="#ç›¸å…³å¼€æºåº“" class="headerlink" title="ç›¸å…³å¼€æºåº“"></a>ç›¸å…³å¼€æºåº“</h2><ul>
<li><strong><a href="https://github.com/SherlockGougou/BigImageViewPager" target="_blank" rel="noopener"> BigImageViewPager</a></strong> åŸºäºglideçš„å¤§å›¾é¢„è§ˆåº“</li>
</ul>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://github.com/bumptech/glide" target="_blank" rel="noopener">glide githubå®˜ç½‘</a></li>
<li><a href="https://muyangmin.github.io/glide-docs-cn/" target="_blank" rel="noopener"> Glide å®˜ç½‘ä¸­æ–‡æ–‡æ¡£</a> ã€é‡ç‚¹.ç§‘å­¦ä¸Šç½‘ã€‘</li>
<li><a href="https://blog.csdn.net/sinyu890807/column/info/15318" target="_blank" rel="noopener">Glideæœ€å…¨è§£æï¼ˆéƒ­éœ–çš„glideç³»åˆ—ï¼‰</a> ï¼ˆä»¥Glide3.7.0æºç ä¸ºä¾‹ å…±8ç¯‡ ç¬¬2ç¯‡è¾ƒéš¾æ‡‚ å¦‚æœä¸å¤ªç†è§£å¯ä»¥è·³è¿‡ç›´æ¥ä»ç¬¬3ç¯‡ ç¼“å­˜å¼€å§‹è¯» ï¼‰</li>
<li><a href="https://blog.csdn.net/songzi1228/article/details/84426165" target="_blank" rel="noopener">Androidé¢è¯•é¢˜ï¼šGlide</a></li>
<li><a href="https://mrfu.me/2016/02/27/Glide_Image_Resizing_&amp;_Scaling/" target="_blank" rel="noopener">Glide 3.6.1 ç³»åˆ—é¢„è§ˆ </a></li>
</ul>
<h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><ul>
<li><a href="https://github.com/bumptech/glide" target="_blank" rel="noopener">glide githubç½‘å€</a></li>
</ul>
<p><a href="https://blog.csdn.net/qq_24675479/article/details/79498250" target="_blank" rel="noopener"><img src="https://cdn.linz.tech/glide_%E6%97%B6%E5%BA%8F%E5%9B%BE.jpg" alt=""></a></p>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäºjava-design-patternsç™½è¯å›¾è§£è®¾è®¡æ¨¡å¼ï¼ˆä¸ªäººç†è§£ï¼‰</title>
    <url>/2020/12/15/2020-02-15-Java-design-patterns-%E7%99%BD%E8%AF%9D%EF%BC%88%E5%8F%AF%E8%83%BD%E9%85%8D%E5%9B%BE%EF%BC%89/</url>
    <content><![CDATA[<p><img src="https://cdn.linz.tech/background.jpg" alt=""></p>
<h1 id="Principle-è®¾è®¡åŸåˆ™"><a href="#Principle-è®¾è®¡åŸåˆ™" class="headerlink" title="Principle  è®¾è®¡åŸåˆ™"></a>Principle  è®¾è®¡åŸåˆ™</h1><h2 id="Generic"><a href="#Generic" class="headerlink" title="Generic"></a>Generic</h2><h3 id="KISS"><a href="#KISS" class="headerlink" title="KISS"></a>KISS</h3><p><a href="https://java-design-patterns.com/principles/#kiss" target="_blank" rel="noopener">KISS (Keep It Simple Stupid)</a> è¶Šç®€å•è¶Šå¥½</p>
<h3 id="YAGNI"><a href="#YAGNI" class="headerlink" title="YAGNI"></a>YAGNI</h3><p> You Ainâ€™t Gonna Need It (ç¿»è¯‘ï¼šä½ å¯èƒ½ä¸éœ€è¦ä»–ï¼Œå³ä¸è¦è¿‡åº¦è®¾è®¡ï¼Œä¸ºäº†è¿åˆæŸäº›äº§ç”Ÿæ¦‚ç‡æä½çš„éœ€æ±‚è€Œè®¾è®¡çš„æˆæœ¬æ˜¯éå¸¸é«˜çš„è½¯ä»¶)</p>
<blockquote>
<p>YAGNI stands for â€œyou arenâ€™t gonna need itâ€: donâ€™t implement something until it is necessary.</p>
</blockquote>
<h3 id="DRY-Donâ€™t-Repeat-Yourself"><a href="#DRY-Donâ€™t-Repeat-Yourself" class="headerlink" title="DRY - Donâ€™t Repeat Yourself"></a>DRY - Donâ€™t Repeat Yourself</h3><p>ä½¿å…¶æ¯ä¸€ä¸ªéƒ¨ä»¶éƒ½æ˜¯èŒè´£æ˜ç¡®çš„å¹¶ä¸”å¯é‡ç”¨çš„</p>
<h3 id="Do-The-Simplest-Thing-That-Could-Possibly-Work"><a href="#Do-The-Simplest-Thing-That-Could-Possibly-Work" class="headerlink" title="Do The Simplest Thing That Could Possibly Work"></a>Do The Simplest Thing That Could Possibly Work</h3><blockquote>
<p>Ask yourself: â€œWhat is the simplest thing that could possibly work?â€</p>
</blockquote>
<h3 id="SoC"><a href="#SoC" class="headerlink" title="SoC"></a>SoC</h3><p>Separation of concerns</p>
<p>Break program functionality into separate modules that overlap as little as possible.</p>
<p><a href="https://en.wikipedia.org/wiki/Separation_of_concerns" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Separation_of_concerns</a></p>
<blockquote>
<p><strong>separation of concerns</strong> (<strong>SoC</strong>) is a design principle for separating a <a href="https://en.wikipedia.org/wiki/Computer_program" target="_blank" rel="noopener">computer program</a> into distinct sections such that each section addresses a separate <a href="https://en.wikipedia.org/wiki/Concern_(computer_science)" target="_blank" rel="noopener">concern</a>. A concern is a set of information that affects the code of a computer program. </p>
</blockquote>
<h2 id="SOLID-é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™"><a href="#SOLID-é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™" class="headerlink" title="SOLID (é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™)"></a>SOLID (é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™)</h2><h3 id="ä¸€-ã€å•ä¸€èŒè´£åŸåˆ™-Single-Responsibility-Principle"><a href="#ä¸€-ã€å•ä¸€èŒè´£åŸåˆ™-Single-Responsibility-Principle" class="headerlink" title="ä¸€ ã€å•ä¸€èŒè´£åŸåˆ™ Single Responsibility Principle"></a>ä¸€ ã€å•ä¸€èŒè´£åŸåˆ™ Single Responsibility Principle</h3><ol>
<li>å•ä¸€åŸåˆ™ä½¿ç±»åŠŸèƒ½æ›´æ˜ç¡®ï¼Œæ¸…æ™°ï¼Œè¿›è€Œæé«˜ä»£ç é€»è¾‘ï¼Œé™ä½ä»£ç ä¿®æ”¹çš„å‡ ç‡</li>
</ol>
<h3 id="äºŒã€å¼€é—­åŸåˆ™-Open-Closed-Principle"><a href="#äºŒã€å¼€é—­åŸåˆ™-Open-Closed-Principle" class="headerlink" title="äºŒã€å¼€é—­åŸåˆ™ Open Closed Principle"></a>äºŒã€<strong>å¼€é—­åŸåˆ™</strong> Open Closed Principle</h3><blockquote>
<p>å³è½¯ä»¶å®ä½“å¦‚ç±»ã€æ¨¡å—å‡½æ•°åº”è¯¥å¯¹æ‰©å±•å¼€å‘ï¼Œå¯¹ä¿®æ”¹å…³é—­</p>
</blockquote>
<ul>
<li>æ¢…è€¶å¼€é—­åŸåˆ™<br>ä¸€ä¸ªç±»çš„å®ç°åªåº”è¯¥å› é”™è¯¯è€Œä¿®æ”¹ï¼Œæ–°çš„æˆ–è€…æ”¹å˜çš„ç‰¹æ€§åº”è¯¥é€šè¿‡æ–°å»ºä¸åŒçš„ç±»å®ç°ã€‚æ–°å»ºçš„ç±»å¯ä»¥é€šè¿‡ç»§æ‰¿çš„æ–¹å¼æ¥é‡ç”¨åŸç±»çš„ä»£ç ã€‚è¡ç”Ÿçš„å­ç±»å¯ä»¥æˆ–ä¸å¯ä»¥æ‹¥æœ‰å’ŒåŸç±»ç›¸åŒçš„æ¥å£ã€‚</li>
</ul>
<p>ç†è§£ï¼šä¸€ä¸ªè®¾è®¡å¥½çš„ç±»é”™è¯¯æ‰å»ä¿®æ”¹ã€é—­ã€‘ï¼Œæ–°åŠŸèƒ½æ–°å»ºç±»ï¼Œæ‰©å±•åŠŸèƒ½ç»§æ‰¿ç±»å®ç°ã€å¼€ã€‘</p>
<ul>
<li>å¤šæ€å¼€é—­åŸåˆ™<br>å¤šæ€å¼€é—­åŸåˆ™çš„å®šä¹‰å€¡å¯¼ç”±äºæŠ½è±¡åŒ–æ¥å£çš„ä½¿ç”¨ï¼Œåœ¨è¿™ä¸­é—´å®ç°å¯ä»¥è¢«æ”¹å˜ï¼Œå¤šç§å®ç°å¯ä»¥è¢«åˆ›å»ºï¼Œå¹¶ä¸”å¤šæ€åŒ–çš„æ›¿æ¢ä¸åŒçš„å®ç°ã€‚</li>
</ul>
<p>ç†è§£ï¼šæŠŠç±»å¯èƒ½è¢«ä¿®æ”¹çš„æ–¹æ³•ï¼ŒæŠ½è±¡åŒ–æ¥å£åŒ–ï¼Œå³æŠŠç¡®å®šæ€§é«˜çš„å±æ€§æ–¹æ³•è‡ªå·±å®ç°ã€é—­ã€‘ï¼Œå…¶ä»–çš„ç•™ç»™æ¥å£å®ç°ã€å¼€ã€‘</p>
<h3 id="ä¸‰ã€é‡Œæ°æ›¿æ¢åŸåˆ™-Liskov-Substitution-Principle"><a href="#ä¸‰ã€é‡Œæ°æ›¿æ¢åŸåˆ™-Liskov-Substitution-Principle" class="headerlink" title="ä¸‰ã€é‡Œæ°æ›¿æ¢åŸåˆ™ Liskov Substitution Principle"></a>ä¸‰ã€é‡Œæ°æ›¿æ¢åŸåˆ™ Liskov Substitution Principle</h3><blockquote>
<p>æ´¾ç”Ÿç±»ï¼ˆå­ç±»ï¼‰å¯¹è±¡å¯ä»¥åœ¨ç¨‹å¼ä¸­ä»£æ›¿å…¶åŸºç±»ï¼ˆè¶…ç±»ï¼‰å¯¹è±¡</p>
</blockquote>
<p><img src="https://cdn.linz.tech/parent_son.png" alt=""></p>
<p>ç†è§£ï¼š</p>
<ul>
<li>åœ¨ç¨‹åºä¸­å­ç±»æ›¿æ¢çˆ¶æ•´ä½“çš„åŠŸèƒ½ä¸æ”¶å½±å“ï¼Œæ³¨æ„ï¼šå­ç±»å¯ä»¥é‡å†™çˆ¶ç±»æ–¹æ³•ä½†æ˜¯æ‰€å®ç°çš„å†…å®¹ç»“æœå¿…é¡»å¤§ä½“ä¸€è‡´</li>
<li>å­ç±»è®¾è®¡æ—¶åº”æ›´å…³æ³¨æ‰©å±•åŠŸèƒ½ï¼Œè€Œä¸æ˜¯é‡å†™è¶…ç±»æ–¹æ³•</li>
<li>çˆ¶ç±»é‡å†™è¿‡å¤šåº”è€ƒè™‘æŠŠé‡å†™çš„æ–¹æ³•æŠ½è±¡åŒ–æ¥å£åŒ–</li>
</ul>
<h3 id="å››ã€ä¾èµ–å€’ç½®åŸåˆ™-Dependence-Inversion-Principle"><a href="#å››ã€ä¾èµ–å€’ç½®åŸåˆ™-Dependence-Inversion-Principle" class="headerlink" title="å››ã€ä¾èµ–å€’ç½®åŸåˆ™ Dependence Inversion Principle"></a>å››ã€ä¾èµ–å€’ç½®åŸåˆ™ Dependence Inversion Principle</h3><blockquote>
<p>ç¨‹åºè¦ä¾èµ–äºæŠ½è±¡æ¥å£ï¼Œä¸è¦ä¾èµ–äºå…·ä½“å®ç°ã€‚å³é¢å‘æ¥å£ç¼–ç¨‹</p>
</blockquote>
<p>ç†è§£ï¼šJavaè¯­è¨€è®¾è®¡æ¥å£å’Œå¯¹è±¡çš„å®šä½å†³å®šï¼Œå¼€å‘ä¸­å°½é‡ä½¿ç”¨<code>é¢å‘æ¥å£ç¼–ç¨‹</code>ï¼Œæˆ–è€…æŠ½è±¡é¡¹ç›®å®ç°é¢å‘æ¥å£ç¼–ç¨‹</p>
<h3 id="äº”ã€è¿ªç±³ç‰¹æ³•åˆ™-Law-of-Demeter"><a href="#äº”ã€è¿ªç±³ç‰¹æ³•åˆ™-Law-of-Demeter" class="headerlink" title="äº”ã€è¿ªç±³ç‰¹æ³•åˆ™ Law of Demeter"></a>äº”ã€è¿ªç±³ç‰¹æ³•åˆ™ Law of Demeter</h3><blockquote>
<p>æœ€å°‘çŸ¥è¯†åŸåˆ™ï¼ˆThe Least Knowledge Principleï¼‰ï¼Œä¸€ä¸ªç±»å¯¹äºå…¶ä»–ç±»çŸ¥é“çš„è¶Šå°‘è¶Šå¥½ï¼Œå°±æ˜¯è¯´ä¸€ä¸ªå¯¹è±¡åº”å½“å¯¹å…¶ä»–å¯¹è±¡æœ‰å°½å¯èƒ½å°‘çš„äº†è§£,åªå’Œæœ‹å‹é€šä¿¡ï¼Œä¸å’Œé™Œç”Ÿäººè¯´è¯ã€‚è‹±æ–‡ç®€å†™ä¸º: LODã€‚</p>
</blockquote>
<p>ç†è§£ï¼š</p>
<ol>
<li>ç”¨äºé™ä½ç±»ä¹‹é—´çš„è€¦åˆï¼Œä½¿å¾—ç³»ç»Ÿçš„åŠŸèƒ½æ¨¡å—åŠŸèƒ½ç‹¬ç«‹</li>
<li>ã€ç¼ºç‚¹ã€‘ä¸¤ä¸ªç±»éœ€è¦å»ºè®®ä¾èµ–å…³ç³»æ—¶ï¼Œå¿…é¡»é€šè¿‡ç¬¬ä¸‰æ–¹<a href="https://baike.baidu.com/item/å‹å…ƒç±»/518734" target="_blank" rel="noopener">å‹å…ƒç±»</a>æ¥ä¼ è¾¾ã€‚</li>
<li>ã€ç±»æ¯”ã€‘æˆ‘ä»¬ç”Ÿæ´»åœ¨è¿™ä¸ªç¤¾ä¼šï¼Œæ¯ä¸ªäººéƒ½æ˜¯ç›¸äº’ç‹¬ç«‹çš„ä¸ªä½“ï¼Œå½“éœ€è¦äº§ç”Ÿå…³è”æ—¶ä¸€èˆ¬çš„é€šè¿‡ç¬¬ä¸‰æ–¹ï¼Œæ‰¾æˆ¿å­ï¼Œä¹°æˆ¿å­ï¼Œæ‰¾å¯¹è±¡ï¼Œæ‰¾å·¥ä½œéƒ½éœ€è¦é€šè¿‡ç¬¬ä¸‰æ–¹ï¼Œå› ä¸ºæ¯ä¸ªäººæ—¶é—´çŸ¥è¯†èµ„æºæœ‰é™ï¼Œä¸€èˆ¬æƒ…å†µäº§ç”Ÿè¿æ¥éœ€è¦å·¨å¤§çš„æˆæœ¬ï¼Œå­¤ç‹¬æ‰æ˜¯ç”Ÿæ´»çš„æœ¬è´¨ã€‚</li>
<li>åº”ç”¨çš„ä¾‹å­ <a href="https://baike.baidu.com/item/é—¨é¢æ¨¡å¼/764642" target="_blank" rel="noopener">é—¨é¢æ¨¡å¼</a>ï¼ˆ<a href="https://baike.baidu.com/item/Facade/2954918" target="_blank" rel="noopener">Facade</a>ï¼‰å’Œä¸­ä»‹æ¨¡å¼ï¼ˆMediatorï¼‰</li>
</ol>
<h3 id="å…­ã€æ¥å£éš”ç¦»åŸåˆ™"><a href="#å…­ã€æ¥å£éš”ç¦»åŸåˆ™" class="headerlink" title="å…­ã€æ¥å£éš”ç¦»åŸåˆ™"></a>å…­ã€æ¥å£éš”ç¦»åŸåˆ™</h3><blockquote>
<p>ä½¿ç”¨å¤šä¸ªä¸“é—¨çš„æ¥å£æ¯”ä½¿ç”¨å•ä¸€çš„æ€»æ¥å£è¦å¥½<br>ç™¾åº¦æ¡ˆä¾‹è§£å†³ï¼š</p>
<p>â€‹    â€œä¸åº”è¯¥å¼ºè¿«å®¢æˆ·ä¾èµ–äºå®ƒä»¬ä¸ç”¨çš„æ–¹æ³•ã€‚æ¥å£å±äºå®¢æˆ·ï¼Œä¸å±äºå®ƒæ‰€åœ¨çš„<a href="https://baike.baidu.com/item/ç±»å±‚æ¬¡ç»“æ„/4685758" target="_blank" rel="noopener">ç±»å±‚æ¬¡ç»“æ„</a>ã€‚â€è¿™ä¸ªè¯´å¾—å¾ˆæ˜ç™½äº†ï¼Œå†é€šä¿—ç‚¹è¯´ï¼Œä¸è¦å¼ºè¿«å®¢æˆ·ä½¿ç”¨å®ƒä»¬ä¸ç”¨çš„æ–¹æ³•ï¼Œå¦‚æœå¼ºè¿«ç”¨æˆ·ä½¿ç”¨å®ƒä»¬ä¸ä½¿ç”¨çš„æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™äº›å®¢æˆ·å°±ä¼šé¢ä¸´ç”±äºè¿™äº›<code>ä¸ä½¿ç”¨çš„æ–¹æ³•çš„æ”¹å˜æ‰€å¸¦æ¥çš„æ”¹å˜ã€‚</code></p>
</blockquote>
<p>ç†è§£ï¼š</p>
<p>åˆç†æ›´åŠ å®æƒ…æŠŠä¸€ä¸ªæ¥å£åˆ†ä¸ºå¤šä¸ªæ¥å£ï¼Œè®©å®ç°ç±»åˆ†åˆ«å®ç°</p>
<h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><ul>
<li><a href="https://java-design-patterns.com/principles/" target="_blank" rel="noopener">https://java-design-patterns.com/principles/</a></li>
<li><a href="https://www.cnblogs.com/cainiao-chuanqi/p/10959800.html" target="_blank" rel="noopener">https://www.cnblogs.com/cainiao-chuanqi/p/10959800.html</a></li>
</ul>
<h1 id="Patterns-è®¾è®¡æ¨¡å¼"><a href="#Patterns-è®¾è®¡æ¨¡å¼" class="headerlink" title="Patterns è®¾è®¡æ¨¡å¼"></a>Patterns è®¾è®¡æ¨¡å¼</h1><h2 id="Abstract-Document-ï¼ˆæŠ½è±¡æ–‡æ¡£æ¨¡å¼ï¼‰"><a href="#Abstract-Document-ï¼ˆæŠ½è±¡æ–‡æ¡£æ¨¡å¼ï¼‰" class="headerlink" title="Abstract Document ï¼ˆæŠ½è±¡æ–‡æ¡£æ¨¡å¼ï¼‰"></a>Abstract Document ï¼ˆæŠ½è±¡æ–‡æ¡£æ¨¡å¼ï¼‰</h2><h3 id="ç™½è¯ï¼šæ€»åˆ†æ€»åˆ†"><a href="#ç™½è¯ï¼šæ€»åˆ†æ€»åˆ†" class="headerlink" title="ç™½è¯ï¼šæ€»åˆ†æ€»åˆ†"></a>ç™½è¯ï¼šæ€»åˆ†æ€»åˆ†</h3><h3 id="æ•…äº‹ï¼šä¹°è½¦"><a href="#æ•…äº‹ï¼šä¹°è½¦" class="headerlink" title="æ•…äº‹ï¼šä¹°è½¦"></a>æ•…äº‹ï¼šä¹°è½¦</h3><p><img src="http://cdn.linz.tech/abstract_doc_car_show.jpeg" alt=""></p>
<p>æˆ‘æƒ³ä¹°ä¸€è¾†è½¦ï¼Œé¦–å…ˆè¦çŸ¥é“å®ƒçš„å“ç‰Œå‹å·å¦‚ï¼š300SLï¼Œä»·æ ¼ 16W<font color="red">èµ·</font></p>
<p>ä½†æ˜¯æˆ‘æœ€è¿‘ç‹—å±è¿ç‰¹åˆ«å¥½ï¼Œå•æ‰€æ¡åˆ°äº†10Wå—ï¼Œå½“ç„¶ä¹°é«˜é…ç‰ˆï¼Œè½®èƒå‹å·15Cï¼Œä»·æ ¼100Â¥ï¼Œè½¦é—¨å‹å· Lambo ä»·æ ¼300Â¥ï¼Œæœ€ç»ˆç”¨<font color="red">æŠ½è±¡æ–‡æ¡£æ¨¡å¼</font>ä»£ç è¡¨ç¤ºï¼Œæˆ‘ä¹°åˆ°çš„è½¦ï¼š</p>
<p><a href="https://github.com/iluwatar/java-design-patterns/blob/master/abstract-document/src/main/java/com/iluwatar/abstractdocument/App.java" target="_blank" rel="noopener">App.java</a></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    LOGGER<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Constructing parts and car"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    var wheelProperties <span class="token operator">=</span> Map<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>
        Property<span class="token punctuation">.</span>TYPE<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"wheel"</span><span class="token punctuation">,</span>
        Property<span class="token punctuation">.</span>MODEL<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"15C"</span><span class="token punctuation">,</span>
        Property<span class="token punctuation">.</span>PRICE<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 100L<span class="token punctuation">)</span><span class="token punctuation">;</span>

    var doorProperties <span class="token operator">=</span> Map<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>
        Property<span class="token punctuation">.</span>TYPE<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"door"</span><span class="token punctuation">,</span>
        Property<span class="token punctuation">.</span>MODEL<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"Lambo"</span><span class="token punctuation">,</span>
        Property<span class="token punctuation">.</span>PRICE<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 300L<span class="token punctuation">)</span><span class="token punctuation">;</span>

    var carProperties <span class="token operator">=</span> Map<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>
        Property<span class="token punctuation">.</span>MODEL<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"300SL"</span><span class="token punctuation">,</span>
        Property<span class="token punctuation">.</span>PRICE<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 160400L<span class="token punctuation">,</span>
        Property<span class="token punctuation">.</span>PARTS<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> List<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>wheelProperties<span class="token punctuation">,</span> doorProperties<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    var car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span>carProperties<span class="token punctuation">)</span><span class="token punctuation">;</span>

    LOGGER<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Here is our car:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    LOGGER<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"-> model: {}"</span><span class="token punctuation">,</span> car<span class="token punctuation">.</span><span class="token function">getModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    LOGGER<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"-> price: {}"</span><span class="token punctuation">,</span> car<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    LOGGER<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"-> parts: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    car<span class="token punctuation">.</span><span class="token function">getParts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>p <span class="token operator">-</span><span class="token operator">></span> LOGGER<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"\t{}/{}/{}"</span><span class="token punctuation">,</span>
        p<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span>null<span class="token punctuation">)</span><span class="token punctuation">,</span>
        p<span class="token punctuation">.</span><span class="token function">getModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span>null<span class="token punctuation">)</span><span class="token punctuation">,</span>
        p<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span>null<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>é…ä¸€ä¸ªç½‘ä¸Šæ‰¾çš„ç±»å›¾</p>
<p><img src="http://cdn.linz.tech/abstract_doc_class_diagram.png" alt=""></p>
<h3 id="ç‚¹è¯„"><a href="#ç‚¹è¯„" class="headerlink" title="ç‚¹è¯„"></a>ç‚¹è¯„</h3><p>ä¸»è¦çš„ä¼˜ç‚¹æ˜¯æ‰¾åˆ°æ€»ä½“å’Œå±€éƒ¨å…±æœ‰çš„å±æ€§ï¼Œé€šè¿‡ç®€å•çš„å‡ ä¸ªå±æ€§èƒ½è¯¦ç»†æç»˜å¤æ‚çš„æ€»ä½“å’Œéƒ¨åˆ†ã€‚</p>
<h2 id="Factory-Method-ï¼ˆå·¥å‚æ–¹æ³•æ¨¡å¼ï¼‰"><a href="#Factory-Method-ï¼ˆå·¥å‚æ–¹æ³•æ¨¡å¼ï¼‰" class="headerlink" title="Factory Method ï¼ˆå·¥å‚æ–¹æ³•æ¨¡å¼ï¼‰"></a>Factory Method ï¼ˆå·¥å‚æ–¹æ³•æ¨¡å¼ï¼‰</h2><p><img src="https://cdn.linz.tech/method_factory.png" alt=""></p>
<h3 id="ä½¿ç”¨æ­¥éª¤ï¼š"><a href="#ä½¿ç”¨æ­¥éª¤ï¼š" class="headerlink" title="ä½¿ç”¨æ­¥éª¤ï¼š"></a>ä½¿ç”¨æ­¥éª¤ï¼š</h3><p>æ­¥éª¤1ï¼š åˆ›å»ºæŠ½è±¡å·¥å‚ç±»ï¼Œå®šä¹‰å…·ä½“å·¥å‚çš„å…¬å…±æ¥å£ï¼›<br>æ­¥éª¤2ï¼š åˆ›å»ºæŠ½è±¡äº§å“ç±» ï¼Œå®šä¹‰å…·ä½“äº§å“çš„å…¬å…±æ¥å£ï¼›<br>æ­¥éª¤3ï¼š åˆ›å»ºå…·ä½“äº§å“ç±»ï¼ˆç»§æ‰¿æŠ½è±¡äº§å“ç±»ï¼‰ &amp; å®šä¹‰ç”Ÿäº§çš„å…·ä½“äº§å“ï¼›<br>æ­¥éª¤4ï¼šåˆ›å»ºå…·ä½“å·¥å‚ç±»ï¼ˆç»§æ‰¿æŠ½è±¡å·¥å‚ç±»ï¼‰ï¼Œå®šä¹‰åˆ›å»ºå¯¹åº”å…·ä½“äº§å“å®ä¾‹çš„æ–¹æ³•ï¼›<br>æ­¥éª¤5ï¼šå¤–ç•Œé€šè¿‡è°ƒç”¨å…·ä½“å·¥å‚ç±»çš„æ–¹æ³•ï¼Œä»è€Œåˆ›å»ºä¸åŒå…·ä½“äº§å“ç±»çš„å®ä¾‹</p>
<h2 id="Abstract-Factory-ï¼ˆæŠ½è±¡å·¥å‚æ¨¡å¼ï¼‰"><a href="#Abstract-Factory-ï¼ˆæŠ½è±¡å·¥å‚æ¨¡å¼ï¼‰" class="headerlink" title="Abstract Factory ï¼ˆæŠ½è±¡å·¥å‚æ¨¡å¼ï¼‰"></a>Abstract Factory ï¼ˆæŠ½è±¡å·¥å‚æ¨¡å¼ï¼‰</h2><h3 id="ç™½è¯ï¼š-switch-ä¸€ä¸ªæŠ½è±¡ç±»"><a href="#ç™½è¯ï¼š-switch-ä¸€ä¸ªæŠ½è±¡ç±»" class="headerlink" title="ç™½è¯ï¼š switch ä¸€ä¸ªæŠ½è±¡ç±»"></a>ç™½è¯ï¼š switch ä¸€ä¸ªæŠ½è±¡ç±»</h3><h3 id="æ•…äº‹ï¼šâ€œä»0åˆ°100ä¸‡â€â€”â€”ä¸­å›½é‹éƒ½è†ç”°å£ç½©ç”Ÿäº§æ”»åšè®°"><a href="#æ•…äº‹ï¼šâ€œä»0åˆ°100ä¸‡â€â€”â€”ä¸­å›½é‹éƒ½è†ç”°å£ç½©ç”Ÿäº§æ”»åšè®°" class="headerlink" title="æ•…äº‹ï¼šâ€œä»0åˆ°100ä¸‡â€â€”â€”ä¸­å›½é‹éƒ½è†ç”°å£ç½©ç”Ÿäº§æ”»åšè®°"></a>æ•…äº‹ï¼šâ€œä»0åˆ°100ä¸‡â€â€”â€”ä¸­å›½é‹éƒ½<em>è†ç”°å£ç½©</em>ç”Ÿäº§æ”»åšè®°</h3><p><img src="http://cdn.linz.tech/%E4%B8%80%E6%AC%A1%E6%80%A7%E5%8F%A3%E7%BD%A9.jpg" alt=""></p>
<p>è¯´å®è¯æˆ‘å¬åˆ°è¿™ä¸ªæ•…äº‹è¿˜æ˜¯éœ‡æƒŠçš„ï¼Œ<span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ˜µ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f635.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> æˆ‘å°è±¡ä¸­çš„â€œè†ç”°â€ä¸æ˜¯è¿™ä¸ªæ ·å­çš„å‘€ï¼Ÿåº”è¯¥æ˜¯è†ç”°ç³»åšçˆ±ç”·ç§‘ï¼Œæˆ–è€…æ˜¯è†ç”°ç³»åšå£«ç”·ç§‘å•¥çš„ã€‚æƒ³ä¸åˆ°ç«Ÿç„¶æ˜¯é‹éƒ½ï¼Œè™½ç„¶æ˜¯â€œCostplayâ€æ­£ç‰ˆã€‚</p>
<p>å¥½è¿›å…¥æ­£é¢˜ï¼Œè†ç”°é€šè¿‡<font color="red">æŠ½è±¡å·¥å‚æ¨¡å¼</font> <font color="blue">ä»é‹å­-&gt;(è½¬æ¢)å£ç½©å·¥å‚</font> å°±æ˜¯å…¸å‹çš„æŠ½è±¡å·¥å‚æ¨¡å¼ï¼Œä»£ç ä¸Šå°±æ˜¯</p>
<pre class="line-numbers language-java"><code class="language-java">è†ç”° <span class="token keyword">class</span><span class="token punctuation">{</span>

  <span class="token keyword">public</span> FactoryImp <span class="token function">factory</span><span class="token punctuation">(</span>String type<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">switch</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">case</span> é‹å­<span class="token operator">:</span>
            <span class="token keyword">return</span> é‹å­_factory<span class="token punctuation">;</span>
      <span class="token keyword">case</span> å£ç½©<span class="token operator">:</span>
            <span class="token keyword">return</span> å£ç½©_factory<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å…¶å®æœ¬è´¨æ˜¯ç”±äºç”Ÿäº§é‹å­å’Œç”Ÿäº§å£ç½©çš„åŸæ–™å’Œå·¥è‰ºå¤§ä½“æ˜¯ç±»ä¼¼çš„ï¼Œé€šè¿‡ç›¸å¯¹ç®€å•çš„æ•´åˆåŸæ–™ï¼Œæœºå™¨å’Œç”Ÿäº§å·¥è‰ºå°±èƒ½å¾—åˆ°ç”Ÿäº§ä¸åŒäº§å“çš„å·¥å‚ã€‚è¿™ç§åšæ³•å¥½å¤„åœ¨äºå……åˆ†åˆ©ç”¨ç°æœ‰èµ„æºçš„æƒ…å†µä¸‹ï¼Œæœ€é«˜æ•ˆå¿«é€Ÿçš„ç”Ÿäº§å‡ºå£ç½©ï¼Œè§£å†³ç”±äºç–«æƒ…çˆ†å‘å¯¼è‡´çš„å£ç½©ç¨€ç¼ºçš„æƒ…å†µï¼›java-design-patterns ç»™çš„ä¾‹å­æ˜¯ä¸€ä¸ªåŸå ¡çš„ä¾‹å­ä¸å¤ªå–œæ¬¢ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å»çœ‹ä¸€ä¸‹ï¼Œåœ°å€å¦‚ä¸‹ï¼š<br><a href="https://github.com/iluwatar/java-design-patterns/blob/1e76d91929dcd874d63bb327f2339d5c07170565/abstract-factory/src/main/java/com/iluwatar/abstractfactory/App.java" target="_blank" rel="noopener">abstract factory github App.java</a></p>
<h3 id="ç‚¹è¯„-1"><a href="#ç‚¹è¯„-1" class="headerlink" title="ç‚¹è¯„"></a>ç‚¹è¯„</h3><p>æŠ½è±¡å·¥å‚æ¨¡å¼ï¼Œé€šè¿‡çš„è¾“å…¥ç®€å•é‹å­ã€å£ç½©å‘½ä»¤ï¼Œå¹¶æŠ½è±¡è§„å®šè¿™ä¸ªå·¥å‚çš„äº§å‡ºï¼Œè€Œå…·ä½“å¤æ‚çš„èµ„æºæ•´åˆåŠç±»çš„åˆå§‹åŒ–è°ƒç”¨çš„å¤æ‚é€»è¾‘æµç¨‹ç­‰ç­‰éƒ½ä¸éœ€è¦ä½¿ç”¨è€…å…³å¿ƒã€‚</p>
<h3 id="åº”ç”¨æ¡ˆä¾‹"><a href="#åº”ç”¨æ¡ˆä¾‹" class="headerlink" title="åº”ç”¨æ¡ˆä¾‹"></a>åº”ç”¨æ¡ˆä¾‹</h3><ul>
<li><a href="https://raw.githubusercontent.com/Blankj/AndroidUtilCode/b01e17e36f022c21d8bd032ecb25384dd32e578b/lib/utilcode/src/main/java/com/blankj/utilcode/util/ToastUtils.java" target="_blank" rel="noopener">ToastUtils.java</a></li>
</ul>
<p>ä½¿ç”¨æ­¥éª¤</p>
<h2 id="Acyclic-Visitor-ï¼ˆéå¾ªç¯è®¿é—®è€…æ¨¡å¼ï¼‰"><a href="#Acyclic-Visitor-ï¼ˆéå¾ªç¯è®¿é—®è€…æ¨¡å¼ï¼‰" class="headerlink" title="Acyclic Visitor ï¼ˆéå¾ªç¯è®¿é—®è€…æ¨¡å¼ï¼‰"></a>Acyclic Visitor ï¼ˆéå¾ªç¯è®¿é—®è€…æ¨¡å¼ï¼‰</h2><h3 id="ç™½è¯ï¼š-ä¸€æŠŠé’¥åŒ™å¼€ä¸€ä¸ªé—¨ï¼ˆé¡¹ç›®ï¼‰ï¼Œå¯ä»¥æœ‰åŠ¨æ€çš„æ•°é‡çš„é’¥åŒ™ç¯"><a href="#ç™½è¯ï¼š-ä¸€æŠŠé’¥åŒ™å¼€ä¸€ä¸ªé—¨ï¼ˆé¡¹ç›®ï¼‰ï¼Œå¯ä»¥æœ‰åŠ¨æ€çš„æ•°é‡çš„é’¥åŒ™ç¯" class="headerlink" title="ç™½è¯ï¼š ä¸€æŠŠé’¥åŒ™å¼€ä¸€ä¸ªé—¨ï¼ˆé¡¹ç›®ï¼‰ï¼Œå¯ä»¥æœ‰åŠ¨æ€çš„æ•°é‡çš„é’¥åŒ™ç¯"></a>ç™½è¯ï¼š ä¸€æŠŠé’¥åŒ™å¼€ä¸€ä¸ªé—¨ï¼ˆé¡¹ç›®ï¼‰ï¼Œå¯ä»¥æœ‰åŠ¨æ€çš„æ•°é‡çš„é’¥åŒ™ç¯</h3><p><img src="http://cdn.linz.tech/key_door.jpeg" alt=""></p>
<h3 id="æ•…äº‹ï¼šä»å°æˆ‘å°±æœ‰ä¸€ä¸ªå¼€æ¸¸ä¹å›­çš„çˆ¸çˆ¸ï¼Œå½“æœ‰åŒå­¦æ¥æ¸¸ä¹å›­ç©çš„æ—¶å€™ï¼Œä»–ä¼šæ ¹æ®åŒå­¦ä»¬çš„è¦æ±‚ï¼Œå…´è¶£å’Œèƒ†é‡åˆ†é…ç»™ä»–ä»¬æ¸¸ä¹é¡¹ç›®çš„é’¥åŒ™ï¼Œå½“ç„¶æœ‰çš„åŒå­¦æ‹¿åˆ°å¤šæœ‰çš„æ‹¿åˆ°å°‘ï¼Œè¿˜æœ‰å‡ ä¸ªæ‹¿åˆ°äº†æ¯”è¾ƒå±é™©çš„é¡¹ç›®ï¼›"><a href="#æ•…äº‹ï¼šä»å°æˆ‘å°±æœ‰ä¸€ä¸ªå¼€æ¸¸ä¹å›­çš„çˆ¸çˆ¸ï¼Œå½“æœ‰åŒå­¦æ¥æ¸¸ä¹å›­ç©çš„æ—¶å€™ï¼Œä»–ä¼šæ ¹æ®åŒå­¦ä»¬çš„è¦æ±‚ï¼Œå…´è¶£å’Œèƒ†é‡åˆ†é…ç»™ä»–ä»¬æ¸¸ä¹é¡¹ç›®çš„é’¥åŒ™ï¼Œå½“ç„¶æœ‰çš„åŒå­¦æ‹¿åˆ°å¤šæœ‰çš„æ‹¿åˆ°å°‘ï¼Œè¿˜æœ‰å‡ ä¸ªæ‹¿åˆ°äº†æ¯”è¾ƒå±é™©çš„é¡¹ç›®ï¼›" class="headerlink" title="æ•…äº‹ï¼šä»å°æˆ‘å°±æœ‰ä¸€ä¸ªå¼€æ¸¸ä¹å›­çš„çˆ¸çˆ¸ï¼Œå½“æœ‰åŒå­¦æ¥æ¸¸ä¹å›­ç©çš„æ—¶å€™ï¼Œä»–ä¼šæ ¹æ®åŒå­¦ä»¬çš„è¦æ±‚ï¼Œå…´è¶£å’Œèƒ†é‡åˆ†é…ç»™ä»–ä»¬æ¸¸ä¹é¡¹ç›®çš„é’¥åŒ™ï¼Œå½“ç„¶æœ‰çš„åŒå­¦æ‹¿åˆ°å¤šæœ‰çš„æ‹¿åˆ°å°‘ï¼Œè¿˜æœ‰å‡ ä¸ªæ‹¿åˆ°äº†æ¯”è¾ƒå±é™©çš„é¡¹ç›®ï¼›"></a>æ•…äº‹ï¼šä»å°æˆ‘å°±æœ‰ä¸€ä¸ªå¼€æ¸¸ä¹å›­çš„çˆ¸çˆ¸ï¼Œå½“æœ‰åŒå­¦æ¥æ¸¸ä¹å›­ç©çš„æ—¶å€™ï¼Œä»–ä¼šæ ¹æ®åŒå­¦ä»¬çš„è¦æ±‚ï¼Œå…´è¶£å’Œèƒ†é‡åˆ†é…ç»™ä»–ä»¬æ¸¸ä¹é¡¹ç›®çš„é’¥åŒ™ï¼Œå½“ç„¶æœ‰çš„åŒå­¦æ‹¿åˆ°å¤šæœ‰çš„æ‹¿åˆ°å°‘ï¼Œè¿˜æœ‰å‡ ä¸ªæ‹¿åˆ°äº†æ¯”è¾ƒå±é™©çš„é¡¹ç›®ï¼›</h3><p><a href="https://github.com/iluwatar/java-design-patterns/blob/1e76d91929/acyclic-visitor/src/main/java/com/iluwatar/acyclicvisitor/App.java" target="_blank" rel="noopener">App.java</a></p>
<pre class="line-numbers language-java"><code class="language-java">  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">/*åˆ†é…åˆ°çš„ç©é¡¹ç›®çš„æƒé™æˆ–é’¥åŒ™é›†åˆ*/</span>
    var conUnix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConfigureForUnixVisitor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    var conDos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConfigureForDosVisitor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//å„ç§å„æ ·çš„æ¸¸ä¹è®¾æ–½</span>
    var zoom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Zoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    var hayes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hayes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// å¼€ç©</span>
    hayes<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>conDos<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Hayes modem with Dos configurator</span>
    zoom<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>conDos<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Zoom modem with Dos configurator</span>
    hayes<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>conUnix<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Hayes modem with Unix configurator</span>
    zoom<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>conUnix<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Zoom modem with Unix configurator   </span>
  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸Šä¸€æ³¢é¡¹ç›®ç±»å›¾</p>
<p><img src="http://cdn.linz.tech/acyclic-visitor.png" alt=""></p>
<h3 id="ç‚¹è¯„-2"><a href="#ç‚¹è¯„-2" class="headerlink" title="ç‚¹è¯„"></a>ç‚¹è¯„</h3><p>éå¾ªç¯è®¿é—®è€…æ¨¡å¼ï¼Œå¾ˆè¿‘ä¼¼äºæˆ‘ä»¬ç”¨ä¸åŒçš„é’¥åŒ™æ‰“å¼€ä¸åŒçš„é—¨ï¼Œè€Œæ‰“å¼€ä¸åŒçš„é—¨ï¼Œé‡Œé¢ä¼šæœ‰ä¸åŒçš„èµ„æºæä¾›ç»™æˆ‘ä»¬ä½¿ç”¨ã€‚</p>
<ol>
<li>é’¥åŒ™å’Œé—¨çš„å…³ç³»æ¯”è¾ƒå•ä¸€ï¼Œå…·æœ‰å›ºå®šå±æ€§ã€‚</li>
<li>å­é—¨å­é’¥åŒ™å¯ä»¥ç»§æ‰¿çˆ¶é’¥åŒ™å’Œé—¨ï¼Œå®ç°å±‚çº§ç»“æ„çš„åˆ’åˆ†ã€‚</li>
</ol>
<p>ä½¿ç”¨åœºæ™¯</p>
<ol>
<li>å½“ä½ æƒ³åŠ¨æ€çš„å‘ç°æœ‰å±‚æ¬¡ç»“æ„æ·»åŠ åŠŸèƒ½ï¼ˆèµ„æºï¼‰æ—¶ï¼Œä¸æƒ³åšä¿®æ”¹æˆ–å½±å“æ•´ä½“çš„å±‚æ¬¡ç»“æ„ï¼Œå³å¢åŠ ä¸€ä¸ªé—¨å’Œé’¥åŒ™æ— éœ€å¯¹æ•´ä½“ä¿®æ”¹ï¼›</li>
<li>å½“å­˜åœ¨ä¸åŒå±‚çº§ç»“æ„çš„èµ„æºï¼ˆç±»æ¯”ï¼šé—¨ï¼‰è®¿é—®æ“ä½œæ—¶ï¼Œä¸ç”¨ä¿®æ”¹å±‚çº§ç»“æ„ï¼Œé€šè¿‡ConfigureXXXç±»è¿›è¡Œç®¡ç†æ§åˆ¶ï¼›</li>
</ol>
<p>å‚è€ƒï¼š<a href="https://java-design-patterns.com/patterns/acyclic-visitor/" target="_blank" rel="noopener">éå¾ªç¯è®¿é—®è€…æ¨¡å¼ï¼ˆ Acyclic Visitorï¼‰</a></p>
<h2 id="Adapter-ï¼ˆé€‚é…å™¨æ¨¡å¼ï¼‰"><a href="#Adapter-ï¼ˆé€‚é…å™¨æ¨¡å¼ï¼‰" class="headerlink" title="Adapter ï¼ˆé€‚é…å™¨æ¨¡å¼ï¼‰"></a>Adapter ï¼ˆé€‚é…å™¨æ¨¡å¼ï¼‰</h2><p><img src="http://cdn.linz.tech/java_pattern_adapter_1.png" alt=""></p>
<p><img src="http://cdn.linz.tech/java_pattern_adapter_2.jpeg" alt=""></p>
<h3 id="ç™½è¯-USBè½¬è§†é¢‘æ¥å£-USBè½¬é«˜æ¸…è§†é¢‘æ¥å£"><a href="#ç™½è¯-USBè½¬è§†é¢‘æ¥å£-USBè½¬é«˜æ¸…è§†é¢‘æ¥å£" class="headerlink" title="ç™½è¯ USBè½¬è§†é¢‘æ¥å£/USBè½¬é«˜æ¸…è§†é¢‘æ¥å£"></a>ç™½è¯ USBè½¬è§†é¢‘æ¥å£/USBè½¬é«˜æ¸…è§†é¢‘æ¥å£</h3><h3 id="ç‚¹è¯„-3"><a href="#ç‚¹è¯„-3" class="headerlink" title="ç‚¹è¯„"></a>ç‚¹è¯„</h3><ul>
<li>å®‰å“åŸç”Ÿæœ€å¸¸ç”¨ç±»ï¼Œå¸¸ç”¨äºæ•°æ®å¤„ç†ç±»ï¼Œå¤„ç†å®Œæ•°æ®å®šä¹‰å¥½æ ¼å¼ï¼Œè¿”å›ç»™è°ƒç”¨ç±»ä½¿ç”¨ï¼Œå¾€å¾€æ•°æ®ï¼ˆäº‹ä»¶ï¼‰å¤„ç†ç±»æ ¼å¼ä¸€å®šï¼Œè€Œè¿”å›çš„æ•°æ®éœ€è¦å¤„ç†å±•ç¤ºåƒå˜ä¸‡åŒ–ï¼Œå®šä¹‰ä¸€ä¸ªadapteræŠ½è±¡ç±»ï¼Œç»™æ•°æ®å¤„ç†ç±»è°ƒç”¨ï¼Œæ»¡è¶³æ•°æ®å¤„ç†ç±»æœ€å°åŠŸèƒ½å’Œæœ€å°‘æ”¹åŠ¨çš„è®¾è®¡åŸåˆ™ã€‚</li>
</ul>
<h2 id="Ambassadorï¼ˆå¤§ä½¿æ¨¡å¼ï¼‰"><a href="#Ambassadorï¼ˆå¤§ä½¿æ¨¡å¼ï¼‰" class="headerlink" title="Ambassadorï¼ˆå¤§ä½¿æ¨¡å¼ï¼‰"></a>Ambassadorï¼ˆå¤§ä½¿æ¨¡å¼ï¼‰</h2><p><img src="http://cdn.linz.tech/java_pattern_ambassador.jpeg" alt=""></p>
<p>ä¸ºä»€ä¹ˆå«å¤§ä½¿æ¨¡å¼ï¼Œæ— éäºŒç‚¹</p>
<ul>
<li>å¤§ä½¿æ˜¯è‡ªå·±äºº</li>
<li>å¤§ä½¿è´Ÿè´£å¤„ç†éæœ¬å›½ï¼ˆè¿œç«¯ï¼‰äº‹åŠ¡</li>
</ul>
<h3 id="ç™½è¯"><a href="#ç™½è¯" class="headerlink" title="ç™½è¯"></a>ç™½è¯</h3><p>å¤§ä½¿ä¸ºæˆ‘ä»¬ï¼ˆClientï¼‰å¤„ç†å¤–å›½ï¼ˆServiceï¼‰çš„å…³ç³»ï¼Œè®°å½•äº¤å¾€ä¿¡æ¯ï¼Œåˆ†æå¤–å›½å±€åŠ¿ï¼Œä½¿æˆ‘ä»¬æ›´å¥½çš„åº”å¯¹å¤–å›´ç¯å¢ƒçš„å˜åŒ–ã€‚</p>
<p><img src="http://cdn.linz.tech/ambassador.urm.png" alt=""></p>
<blockquote>
<p>æœ¬åœ°å’Œè¿œç«¯å…±åŒå®ç°ä¸€ä¸ªæ¥å£ï¼Œclientè°ƒç”¨æœ¬åœ°å¤§ä½¿ï¼Œå¤§ä½¿è°ƒç”¨è¿œç«¯æœåŠ¡</p>
</blockquote>
<h3 id="ç‚¹è¯„-4"><a href="#ç‚¹è¯„-4" class="headerlink" title="ç‚¹è¯„"></a>ç‚¹è¯„</h3><p>æŠŠç»´æŠ¤serviceé“¾æ¥çš„åŠŸèƒ½æ”¾åˆ°å¤§ä½¿ç±»ä¸­å¤„ç†ï¼Œå¦‚</p>
<ol>
<li>è®¿é—®æ§åˆ¶ï¼Œç»´æŠ¤â€¦</li>
<li>è®¿é—®æ—¥å¿—è®°å½•</li>
<li>é“¾æ¥ç»´æŠ¤ï¼ŒçŸ­è·¯é‡è¿ï¼Œæ‰åŒ…æµ‹è¯•â€¦</li>
<li>å¸è½½æœåŠ¡</li>
<li>å®‰å…¨ç®¡ç†</li>
</ol>
<h2 id="API-Gateway-API-ç½‘å…³"><a href="#API-Gateway-API-ç½‘å…³" class="headerlink" title="API-Gateway API ç½‘å…³"></a>API-Gateway API ç½‘å…³</h2><p>  <img src="http://cdn.linz.tech/java-pattern-gateway.png" alt=""></p>
<h3 id="ç™½è¯-æœ¬åœ°APIç»Ÿä¸€äº¤ç»™APIç½‘å…³ç®¡ç†ï¼Œå¯¹APIè¿›è¡Œæ•´åˆåŠä»£ç†ç®¡ç†"><a href="#ç™½è¯-æœ¬åœ°APIç»Ÿä¸€äº¤ç»™APIç½‘å…³ç®¡ç†ï¼Œå¯¹APIè¿›è¡Œæ•´åˆåŠä»£ç†ç®¡ç†" class="headerlink" title="ç™½è¯ æœ¬åœ°APIç»Ÿä¸€äº¤ç»™APIç½‘å…³ç®¡ç†ï¼Œå¯¹APIè¿›è¡Œæ•´åˆåŠä»£ç†ç®¡ç†"></a>ç™½è¯ æœ¬åœ°APIç»Ÿä¸€äº¤ç»™APIç½‘å…³ç®¡ç†ï¼Œå¯¹APIè¿›è¡Œæ•´åˆåŠä»£ç†ç®¡ç†</h3><h2 id="Arrange-Act-Assert-AAA"><a href="#Arrange-Act-Assert-AAA" class="headerlink" title="Arrange/Act/Assert (AAA)"></a>Arrange/Act/Assert (AAA)</h2><blockquote>
<p>å•å…ƒæµ‹è¯•çš„3éƒ¨æ¨¡å¼</p>
<ol>
<li>Arrange: Perform the setup and initialization required for the test.</li>
<li>Act: Take action(s) required for the test.</li>
<li>Assert: Verify the outcome(s) of the test.</li>
</ol>
</blockquote>
<p>Demo.java</p>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token annotation punctuation">@Test</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testPlus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//Arrange</span>
    var cash <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cash</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//Act</span>
    cash<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//Assert</span>
    <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> cash<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Balking"><a href="#Balking" class="headerlink" title="Balking"></a>Balking</h2><blockquote>
<p>å·¨ç®€å•æ¸…æ™°çš„å¤šçº¿ç¨‹ç«äº‰ä¸€ä¸ªèµ„æºçš„è®¾è®¡æ¨¡å¼ï¼Œå¤šä¸ªçº¿ç¨‹è®¿é—®ï¼Œåªæœ‰å½“å‰èµ„æºå¯ä»¥å¼€æ”¾è®¿é—®æ—¶å¯ä»¥è°ƒç”¨</p>
</blockquote>
<h2 id="Bytecode"><a href="#Bytecode" class="headerlink" title="Bytecode"></a><strong>Bytecode</strong></h2><blockquote>
<p>æ¥æ”¶å’Œå¤„ç†å®šä¹‰è¿‡çš„å‘½ä»¤ï¼Œæ¨¡æ‹Ÿè™šæ‹Ÿæœºçš„æŒ‡ä»¤æœº</p>
</blockquote>
<h2 id="Business-delegate-ï¼ˆä¸šåŠ¡ä»£è¡¨ï¼‰"><a href="#Business-delegate-ï¼ˆä¸šåŠ¡ä»£è¡¨ï¼‰" class="headerlink" title="Business-delegate ï¼ˆä¸šåŠ¡ä»£è¡¨ï¼‰"></a><a href="https://github.com/iluwatar/java-design-patterns/tree/master/business-delegate" target="_blank" rel="noopener">Business-delegate</a> ï¼ˆä¸šåŠ¡ä»£è¡¨ï¼‰</h2><blockquote>
<p>ä»£è¡¨è´Ÿè´£è·Ÿå®¢æˆ·æ²Ÿé€šï¼Œæˆ‘ä»¬æ˜¯æä¾›å®é™…ä¸šåŠ¡ç»™é”€å”®ä»£è¡¨å®¡æ ¸çš„äºº</p>
</blockquote>
<p> BusinessDelegate.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BusinessDelegate</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//å®é™…ä¸šåŠ¡æä¾›å…¬å¸</span>
  <span class="token keyword">private</span> BusinessLookup lookupService<span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">//æŠ½è±¡çš„ä¸šåŠ¡ç±»å‹</span>
  <span class="token keyword">private</span> BusinessService businessService<span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">//æŒ‡å®šä¸šåŠ¡ç±»å‹</span>
  <span class="token keyword">private</span> ServiceType serviceType<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setLookupService</span><span class="token punctuation">(</span>BusinessLookup businessLookup<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>lookupService <span class="token operator">=</span> businessLookup<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setServiceType</span><span class="token punctuation">(</span>ServiceType serviceType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>serviceType <span class="token operator">=</span> serviceType<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    businessService <span class="token operator">=</span> lookupService<span class="token punctuation">.</span><span class="token function">getBusinessService</span><span class="token punctuation">(</span>serviceType<span class="token punctuation">)</span><span class="token punctuation">;</span>
    businessService<span class="token punctuation">.</span><span class="token function">doProcessing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Bridgeï¼ˆæ¡¥æ¥æ¨¡å¼ï¼‰"><a href="#Bridgeï¼ˆæ¡¥æ¥æ¨¡å¼ï¼‰" class="headerlink" title="Bridgeï¼ˆæ¡¥æ¥æ¨¡å¼ï¼‰"></a>Bridgeï¼ˆæ¡¥æ¥æ¨¡å¼ï¼‰</h2><p>Real World  Example</p>
<blockquote>
<p>Consider you have a weapon with different enchantments, and you are supposed to allow mixing different weapons with different enchantments. What would you do? Create multiple copies of each of the weapons for each of the enchantments or would you just create separate enchantment and set it for the weapon as needed? Bridge pattern allows you to do the second.</p>
</blockquote>
<p><strong>Programmatic Example</strong></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Weapon</span> <span class="token punctuation">{</span>
  <span class="token keyword">void</span> <span class="token function">wield</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">void</span> <span class="token function">swing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">void</span> <span class="token function">unwield</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  Enchantment <span class="token function">getEnchantment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Sword</span> <span class="token keyword">implements</span> <span class="token class-name">Weapon</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token keyword">final</span> Enchantment enchantment<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token function">Sword</span><span class="token punctuation">(</span>Enchantment enchantment<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>enchantment <span class="token operator">=</span> enchantment<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">wield</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    LOGGER<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"The sword is wielded."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    enchantment<span class="token punctuation">.</span><span class="token function">onActivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">swing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    LOGGER<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"The sword is swinged."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    enchantment<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">unwield</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    LOGGER<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"The sword is unwielded."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    enchantment<span class="token punctuation">.</span><span class="token function">onDeactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> Enchantment <span class="token function">getEnchantment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> enchantment<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Enchantment</span> <span class="token punctuation">{</span>
  <span class="token keyword">void</span> <span class="token function">onActivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">void</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">void</span> <span class="token function">onDeactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ç†è§£"><a href="#ç†è§£" class="headerlink" title="ç†è§£"></a>ç†è§£</h3><ul>
<li><code>decouple an abstraction from its implementation so that the two can vary independently</code> ,ä»ä¸€ä¸ªæ¥å£è§£è€¦ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œä½¿ä»–ä»¬ç›¸äº’ç‹¬ç«‹</li>
<li>â€œnested generalizationsâ€ æŠŠéƒ¨åˆ†æ¬¡è¦æˆ–è€…è¾…åŠ©çš„åŠŸèƒ½æŠ½è±¡ï¼Œç”±å…¶ä»–ç±»è¿›è¡Œæ‰©å±•ï¼Œè¾…åŠ©åŠŸèƒ½æ”¹å˜ä¸å½±å“ä¸»ç±»</li>
<li>Bridge pattern is about preferring composition over inheritance æ¡¥æ¥æ›´å€¾å‘äºèšåˆè€Œä¸æ˜¯ç»§æ‰¿</li>
</ul>
<h2 id="Chainï¼ˆè´£ä»»é“¾æ¨¡å¼ï¼‰"><a href="#Chainï¼ˆè´£ä»»é“¾æ¨¡å¼ï¼‰" class="headerlink" title="Chainï¼ˆè´£ä»»é“¾æ¨¡å¼ï¼‰"></a>Chainï¼ˆè´£ä»»é“¾æ¨¡å¼ï¼‰</h2><h3 id="ç™½è¯-1"><a href="#ç™½è¯-1" class="headerlink" title="ç™½è¯"></a>ç™½è¯</h3><p>ä¼ é€’å‘½ä»¤ï¼Œå¸ˆé•¿-&gt; å›¢é•¿-&gt; è¥é•¿-&gt; è¿é•¿-&gt; æ’é•¿</p>
<h3 id="ç‚¹è¯„-5"><a href="#ç‚¹è¯„-5" class="headerlink" title="ç‚¹è¯„"></a>ç‚¹è¯„</h3><p>æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰æ¥å—å’Œä¸“é€’å‘½ä»¤çš„ä½œç”¨ï¼Œä½†æ˜¯æ¯ä¸ªèŠ‚ç‚¹åˆæœ‰å…¶å¤„ç†æƒé™å¤„ç†ä»–è¿™ä¸ªçº§åˆ«çš„å‘½ä»¤</p>
<h3 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h3><ol>
<li>å®˜æ–¹Demo</li>
</ol>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">RequestHandler</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Logger LOGGER <span class="token operator">=</span> LoggerFactory<span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span>RequestHandler<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">final</span> RequestHandler next<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token function">RequestHandler</span><span class="token punctuation">(</span>RequestHandler next<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> next<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span>Request req<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>next <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      next<span class="token punctuation">.</span><span class="token function">handleRequest</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">printHandling</span><span class="token punctuation">(</span>Request req<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    LOGGER<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"{} handling request \"{}\""</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> req<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">abstract</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrcCommander</span> <span class="token keyword">extends</span> <span class="token class-name">RequestHandler</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token function">OrcCommander</span><span class="token punctuation">(</span>RequestHandler handler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span>Request req<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token function">getRequestType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>RequestType<span class="token punctuation">.</span>DEFEND_CASTLE<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">printHandling</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
      req<span class="token punctuation">.</span><span class="token function">markHandled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">handleRequest</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">"Orc commander"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li>OKHttp é€šè¿‡Intercepterè¿™ç§è¿å¼è®¾è®¡ï¼Œå¤§å¤§ç®€åŒ–äº†è¯·æ±‚è®¿é—®çš„åŠŸèƒ½ï¼Œå¹¶ä¸”æä¾›äº†éå¸¸å¤šçš„å¯æ‰©å±•æ€§</li>
</ol>
<p><img src="http://cdn.linz.tech/Okhttp_client_pattern.webp" alt=""></p>
<ol start="3">
<li>Window inputäº‹ä»¶çš„è½¬å‘<br><img src="https://cdn.linz.tech/chain_input.jpg" alt=""><pre class="line-numbers language-java"><code class="language-java"><span class="token operator">/</span> äº‹ä»¶åˆ†å‘ä¸åŒé˜¶æ®µçš„åŸºç±»
<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">InputStage</span> <span class="token punctuation">{</span>
<span class="token keyword">private</span> <span class="token keyword">final</span> InputStage mNext<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// æŒ‡å‘äº‹ä»¶åˆ†å‘çš„ä¸‹ä¸€é˜¶æ®µ</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<p>// InputStageçš„å­ç±»ï¼Œè±¡å¾äº‹ä»¶åˆ†å‘çš„å„ä¸ªé˜¶æ®µ</p>
<p>final class ViewPreImeInputStage extends InputStage {}</p>
<p>final class EarlyPostImeInputStage extends InputStage {}<br>//è§†å›¾è¾“å…¥å¤„ç†é˜¶æ®µ ï¼Œä¸»è¦å¤„ç†æŒ‰é”®ã€è½¨è¿¹çƒã€æ‰‹æŒ‡è§¦æ‘¸åŠä¸€èˆ¬æ€§çš„è¿åŠ¨äº‹ä»¶<br>final class ViewPostImeInputStage extends InputStage {}<br>//ç»¼åˆæ€§å¤„ç†é˜¶æ®µ ï¼Œä¸»è¦é’ˆå¯¹è½¨è¿¹çƒã€æ“ä½œæ†ã€å¯¼èˆªé¢æ¿åŠæœªæ•è·çš„äº‹ä»¶ä½¿ç”¨é”®ç›˜è¿›è¡Œå¤„ç†:<br>final class SyntheticInputStage extends InputStage {}</p>
<p>abstract class AsyncInputStage extends InputStage {}</p>
<p>final class NativePreImeInputStage extends AsyncInputStage {}<br>//è¾“å…¥æ³•äº‹ä»¶å¤„ç†é˜¶æ®µ ï¼Œä¼šä»äº‹ä»¶ä¸­è¿‡æ»¤å‡ºç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ï¼Œå¦‚æœè¾“å…¥çš„å†…å®¹æ— æ³•è¢«è¯†åˆ«ï¼Œåˆ™å°†è¾“å…¥äº‹ä»¶å‘ä¸‹ä¸€ä¸ªé˜¶æ®µç»§ç»­åˆ†å‘<br>final class ImeInputStage extends AsyncInputStage {}</p>
<p>final class NativePostImeInputStage extends AsyncInputStage {}</p>
<p>//ä½¿ç”¨<br>mSyntheticInputStage = new SyntheticInputStage();<br>InputStage viewPostImeStage = new ViewPostImeInputStage(mSyntheticInputStage);<br>InputStage nativePostImeStage = new NativePostImeInputStage(viewPostImeStage,<br>                                                            â€œaq:native-post-ime:â€ + counterSuffix);<br>InputStage earlyPostImeStage = new EarlyPostImeInputStage(nativePostImeStage);<br>InputStage imeStage = new ImeInputStage(earlyPostImeStage,<br>                                        â€œaq:ime:â€ + counterSuffix);<br>InputStage viewPreImeStage = new ViewPreImeInputStage(imeStage);<br>InputStage nativePreImeStage = new NativePreImeInputStage(viewPreImeStage,<br>                                                          â€œaq:native-pre-ime:â€ + counterSuffix);<br>mFirstInputStage = nativePreImeStage;</p>
<pre><code>å‡ºå¤„ï¼š[åæ€|Android äº‹ä»¶åˆ†å‘æœºåˆ¶çš„è®¾è®¡ä¸å®ç°](https://juejin.cn/post/6844903926446161927)



## Cachingï¼ˆç¼“å­˜ç­–ç•¥ï¼‰

&gt; ä¸ºäº†å°½é‡å‡å°‘æ•°æ®è·å–/åˆ·æ–°çš„æˆæœ¬ï¼Œæ ¹æ®æ•°æ®è·å–çš„æ¶ˆè€—ï¼ˆç½‘ç»œã€å†…å­˜ã€æ–‡ä»¶ï¼‰ï¼Œæ ¹æ®æ•°æ®å±æ€§é€‰æ‹©æœ€ç¬¦åˆåº”ç”¨åœºæ™¯çš„ç¼“å­˜ç­–ç•¥

1. ä¸»è¦ç±»èŒè´£
   1. ChacheStore è´Ÿè´£æ•°æ®å¢åˆ æ”¹æŸ¥çš„åŠŸèƒ½ï¼Œå®šä¹‰æˆæ¥å£ç”±ä¸åŒçš„æ•°æ®æºå®ç°ï¼›
   2. CachingPolicy å®šä¹‰å¸¸ç”¨åº”ç”¨åœºæ™¯ä½¿ç”¨çš„ç¼“å­˜ç­–ç•¥ï¼Œæ’åˆ—è·å–æ•°æ®çš„ä¼˜å…ˆçº§ï¼Œæ›´æ–°æœ¬åœ°ç¼“å­˜çš„ç­–ç•¥
   3. CacheControl  okhttp3.CacheControl.java æ ¹æ®[Hypertext Transfer Protocol (HTTP/1.1): Caching](https://tools.ietf.org/html/rfc7234#section-5.2) æ ¹æ®HTTP Cachingåè®®åŠæ ¹æ®æœåŠ¡å™¨è¿”å›çš„CachingæŒ‡ä»¤è®¾ç½®ç¼“å­˜æ¨¡å¼
   4. CacheManager è´Ÿè´£åˆå§‹åŒ–storeï¼Œpolicyï¼ŒCachecontrolï¼Œåè°ƒå¥½å†…éƒ¨ç±»å‘å¤–éƒ¨æä¾›ç®€å•çš„æ“ä½œæ¥å£



### é˜…è¯»è®°å½•

- [ä¸€æ—¥ä¸€å­¦_okhttp(æœ¬åœ°ç¼“å­˜)](https://www.jianshu.com/p/80766c227bf8)



## Decorator ï¼ˆè£…é¥°æ¨¡å¼ï¼‰

&gt; æŒ‰ç…§æ¥å£çš„æ€ç»´ç†è§£ï¼Œéå¸¸æ¸…æ¥šï¼Œå³æŠŠç±»çš„éƒ¨åˆ†å›ºæœ‰æ–¹æ³•ï¼ˆä½œç”¨ï¼‰æŠ½è±¡æˆæ¥å£ï¼Œäº¤ç»™å®ç°äº†è¯¥æŠ½è±¡æ¥å£çš„ç±»æ¥å®ç°ï¼Œå…·ä½“æ€ä¹ˆå®ç°çœ‹å®ç°ç±»

### å…³é”®ç‚¹

1. éƒ¨åˆ†æ–¹æ³•æŠ½è±¡
2. è£…é¥°ç±»å®ç°æŠ½è±¡æ–¹æ³•çš„å…·ä½“å†…å®¹

## [Dao](https://github.com/iluwatar/java-design-patterns/tree/master/dao) ï¼ˆData Access Object,æ•°æ®è®¿é—®å¯¹è±¡ï¼‰

### DAOç»„æˆ

DatabaseConnectionï¼šä¸“é—¨è´Ÿè´£æ•°æ®åº“æ‰“å¼€ä¸å…³é—­æ“ä½œçš„ç±»

VOï¼šä¸»è¦ç”±å±æ€§ï¼Œsetter, getteræ–¹æ³•ç»„æˆï¼ŒVOç±»ä¸­çš„å±æ€§ä¸è¡¨ä¸­çš„å­—æ®µç›¸å¯¹åº”ï¼Œæ¯ä¸€ä¸ªVOç±»çš„å¯¹è±¡éƒ½è¡¨ç¤ºè¡¨ä¸­çš„æ¯ä¸€æ¡è®°å½•ï¼›

DAOï¼šä¸»è¦å®šä¹‰æ“ä½œçš„æ¥å£ï¼Œå®šä¹‰ä¸€ç³»åˆ—æ•°æ®åº“çš„åŸå­æ€§æ“ä½œï¼Œä¾‹å¦‚å¢åˆ æ”¹æŸ¥ç­‰ï¼›

Impl: DAOæ¥å£çš„çœŸå®å®ç°ç±»ï¼Œä¸»è¦å®Œæˆå…·ä½“æ•°æ®åº“æ“ä½œï¼Œä½†ä¸è´Ÿè´£æ•°æ®åº“çš„æ‰“å¼€å’Œå…³é—­ï¼›

Proxyï¼šä»£ç†å®ç°ç±»ï¼Œä¸»è¦å®Œæˆæ•°æ®åº“çš„æ‰“å¼€å’Œå…³é—­å¹¶ä¸”è°ƒç”¨çœŸå®å®ç°ç±»å¯¹è±¡çš„æ“ä½œï¼›

Factory: å·¥å‚ç±»ï¼Œé€šè¿‡å·¥å‚ç±»å–å¾—ä¸€ä¸ªDAOçš„å®ä¾‹åŒ–å¯¹è±¡ã€‚



### å¯¹äºåŒ…çš„å‘½åï¼š

- æ•°æ®åº“è¿æ¥ï¼š xxx.dbc.DatabaseConnection
- DAOæ¥å£ï¼š xxx.dao.IXxxDAO
- DAOæ¥å£çœŸå®å®ç°ç±»ï¼šxxx.dao.impl.XxxDAOImpl
- DAOæ¥å£ä»£ç†å®ç°ç±»ï¼šxxx.dao.proxy.XxxDAOProxy
- VOç±»ï¼š xxx.vo.Xxx, VOå‘½åè¦ä¸è¡¨çš„å‘½åä¸€è‡´
- å·¥å‚ç±»ï¼šxxx.factory.DAOFactory.

å‚è€ƒï¼š[DAOè®¾è®¡æ¨¡å¼ç®€ä»‹](https://blog.csdn.net/thystar/article/details/41786763)

##  Facade ï¼ˆå¤–è§‚æˆ–é—¨é¢æ¨¡å¼ï¼‰

&gt; Facade pattern provides a simplified interface to a complex subsystem.

ç›´æ¥ä¸Šjava-design-patterns æ¡ˆä¾‹

`é‡‘çŸ¿æŒ–çŸ¿å·¥ä½œ`

1. æŠŠä¸åŒçŸ¿å·¥è¿›è¡ŒæŠ½è±¡

   ```java
   public abstract class DwarvenMineWorker {

     private static final Logger LOGGER = LoggerFactory.getLogger(DwarvenMineWorker.class);

     public void goToSleep() {
       LOGGER.info("{} goes to sleep.", name());
     }

     public void wakeUp() {
       LOGGER.info("{} wakes up.", name());
     }

     public void goHome() {
       LOGGER.info("{} goes home.", name());
     }

     public void goToMine() {
       LOGGER.info("{} goes to the mine.", name());
     }

     private void action(Action action) {
       switch (action) {
         case GO_TO_SLEEP:
           goToSleep();
           break;
         case WAKE_UP:
           wakeUp();
           break;
         case GO_HOME:
           goHome();
           break;
         case GO_TO_MINE:
           goToMine();
           break;
         case WORK:
           work();
           break;
         default:
           LOGGER.info("Undefined action");
           break;
       }
     }

     public void action(Action... actions) {
       Arrays.stream(actions).forEach(this::action);
     }

     public abstract void work();

     public abstract String name();

     enum Action {
       GO_TO_SLEEP, WAKE_UP, GO_HOME, GO_TO_MINE, WORK
     }
   }</code></pre><ol start="2">
<li><p>å…·ä½“å®ç°å·¥å·¥ç§</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DwarvenTunnelDigger</span> <span class="token keyword">extends</span> <span class="token class-name">DwarvenMineWorker</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Logger LOGGER <span class="token operator">=</span> LoggerFactory<span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span>DwarvenTunnelDigger<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    LOGGER<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"{} creates another promising tunnel."</span><span class="token punctuation">,</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> String <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">"Dwarven tunnel digger"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DwarvenGoldDigger</span> <span class="token keyword">extends</span> <span class="token class-name">DwarvenMineWorker</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Logger LOGGER <span class="token operator">=</span> LoggerFactory<span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span>DwarvenGoldDigger<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    LOGGER<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"{} digs for gold."</span><span class="token punctuation">,</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> String <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">"Dwarf gold digger"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DwarvenCartOperator</span> <span class="token keyword">extends</span> <span class="token class-name">DwarvenMineWorker</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Logger LOGGER <span class="token operator">=</span> LoggerFactory<span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span>DwarvenCartOperator<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    LOGGER<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"{} moves gold chunks out of the mine."</span><span class="token punctuation">,</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> String <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">"Dwarf cart operator"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>æš´éœ²å‡ºæ•´ä¸ªç³»ç»Ÿéœ€è¦æš´éœ²çš„å†…å®¹</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DwarvenGoldmineFacade</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token keyword">final</span> List<span class="token operator">&lt;</span>DwarvenMineWorker<span class="token operator">></span> workers<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token function">DwarvenGoldmineFacade</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      workers <span class="token operator">=</span> List<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>
            <span class="token keyword">new</span> <span class="token class-name">DwarvenGoldDigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token class-name">DwarvenCartOperator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token class-name">DwarvenTunnelDigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">startNewDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">makeActions</span><span class="token punctuation">(</span>workers<span class="token punctuation">,</span> DwarvenMineWorker<span class="token punctuation">.</span>Action<span class="token punctuation">.</span>WAKE_UP<span class="token punctuation">,</span> DwarvenMineWorker<span class="token punctuation">.</span>Action<span class="token punctuation">.</span>GO_TO_MINE<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">digOutGold</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">makeActions</span><span class="token punctuation">(</span>workers<span class="token punctuation">,</span> DwarvenMineWorker<span class="token punctuation">.</span>Action<span class="token punctuation">.</span>WORK<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">endDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">makeActions</span><span class="token punctuation">(</span>workers<span class="token punctuation">,</span> DwarvenMineWorker<span class="token punctuation">.</span>Action<span class="token punctuation">.</span>GO_HOME<span class="token punctuation">,</span> DwarvenMineWorker<span class="token punctuation">.</span>Action<span class="token punctuation">.</span>GO_TO_SLEEP<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">makeActions</span><span class="token punctuation">(</span>Collection<span class="token operator">&lt;</span>DwarvenMineWorker<span class="token operator">></span> workers<span class="token punctuation">,</span>
      DwarvenMineWorker<span class="token punctuation">.</span>Action<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> actions<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    workers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>worker <span class="token operator">-</span><span class="token operator">></span> worker<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span>actions<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>è°ƒç”¨</p>
<pre class="line-numbers language-java"><code class="language-java">var facade <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DwarvenGoldmineFacade</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
facade<span class="token punctuation">.</span><span class="token function">startNewDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
facade<span class="token punctuation">.</span><span class="token function">digOutGold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
facade<span class="token punctuation">.</span><span class="token function">endDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h3 id="ç†è§£-1"><a href="#ç†è§£-1" class="headerlink" title="ç†è§£"></a>ç†è§£</h3><ul>
<li>å¤æ‚çš„å­ç³»ç»Ÿæä¾›æœ€ç®€å•çš„æ¥å£ï¼ˆprovides a simplified interface to a complex subsystemï¼‰</li>
</ul>
<h2 id="Mediator-ä¸­ä»‹è€…æ¨¡å¼"><a href="#Mediator-ä¸­ä»‹è€…æ¨¡å¼" class="headerlink" title="Mediator  (ä¸­ä»‹è€…æ¨¡å¼)"></a><strong>Mediator</strong>  (ä¸­ä»‹è€…æ¨¡å¼)</h2><blockquote>
<p>Define an object that encapsulates how a set of objects interact.</p>
</blockquote>
<p>java-patternæ¡ˆä¾‹ç±»å›¾    </p>
<p><img src="https://cdn.linz.tech/mediator_1.png" alt=""></p>
<h3 id="æˆ‘çš„ç†è§£"><a href="#æˆ‘çš„ç†è§£" class="headerlink" title="æˆ‘çš„ç†è§£"></a>æˆ‘çš„ç†è§£</h3><p><img src="https://cdn.linz.tech/meditor_my.png" alt=""></p>
<h2 id="Template-Method-ï¼ˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼‰"><a href="#Template-Method-ï¼ˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼‰" class="headerlink" title="Template Method ï¼ˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼‰"></a>Template Method ï¼ˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼‰</h2><p>è¿™ä¸ªå¾ˆå¸¸ç”¨ä¹Ÿå¾ˆå¥½ç†è§£ï¼ŒåŠçˆ¶ç±»å®šä¹‰å¥½å‡ ä¸ªæŠ½è±¡æ–¹æ³•ç»™å­ç±»å®ç°</p>
<p>ä¼˜ç‚¹</p>
<ol>
<li>çˆ¶ç±»å®ç°äº†è¯¥ç±»å‡ ä¹æ‰€æœ‰æ–¹æ³•ï¼Œç•™ä¸‹å‡ ä¸ªå˜åŠ¨çš„æŠ½è±¡æ–¹æ³•ç»™å­ç±»å®ç°ï¼Œå‡å°‘ä»£ç é‡æé«˜æ•ˆç‡ã€é‡ç‚¹ã€‘</li>
<li>è§„çŸ©è§„çŸ©ï¼Œæœ‰è§„çŸ©ä¹‹åä»£ç å°±æœ‰æ¸…æ™°çš„é€»è¾‘ï¼Œæ˜“äºåæœŸç»´æŠ¤ã€é‡ç‚¹ã€‘</li>
</ol>
<h1 id="æºç é˜…è¯»"><a href="#æºç é˜…è¯»" class="headerlink" title="æºç é˜…è¯»"></a>æºç é˜…è¯»</h1><h2 id="1-Retrofit-2-0"><a href="#1-Retrofit-2-0" class="headerlink" title="1. Retrofit 2.0"></a>1. Retrofit 2.0</h2><p>å‚è€ƒï¼š</p>
<ul>
<li><a href="https://www.jianshu.com/p/0c055ad46b6c" target="_blank" rel="noopener">Androidï¼šæ‰‹æŠŠæ‰‹å¸¦ä½  æ·±å…¥è¯»æ‡‚ Retrofit 2.0 æºç </a></li>
</ul>
<p>æ„Ÿæ‚Ÿï¼š</p>
<ol>
<li><p>çœ‹æºç </p>
<ol>
<li><p>é¦–å…ˆè¦æ¸…æ¥šæºç çš„å¤§ä½“æ¡†æ¶èµ°å‘åœ¨çœ‹ï¼Œå¦‚retrofitå°±æ˜¯è¯·æ±‚å’Œè¿”å›å¤„ç†ï¼›</p>
</li>
<li><p>æ ¹æ®ä»£ç ä½¿ç”¨æ–¹æ³•ï¼Œä¸€å±‚å±‚çš„åˆ†ææºç ï¼Œé€»è¾‘æ¸…æ™°</p>
</li>
<li><p>çœ‹æºç èƒ½å‘ç°æºç ä¸€äº›è‡ªå·±ä¸çŸ¥é“ä½¿ç”¨æ–¹æ³•ï¼Œé€šè¿‡è®¾ç½®ç¼“å­˜å¼ºåˆ¶ä½¿ç”¨responses </p>
<pre class="line-numbers language-java"><code class="language-java">Request request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token punctuation">.</span><span class="token function">cacheControl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CacheControl<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token punctuation">.</span><span class="token function">maxStale</span><span class="token punctuation">(</span><span class="token number">365</span><span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>DAYS<span class="token punctuation">)</span>
     <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">"http://publicobject.com/helloworld.txt"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
</li>
</ol>
<ol start="2">
<li><p>ä»£ç è®¾è®¡ç”±å¤§è‡ªå°ç†æ¸…åŠŸèƒ½å’Œå±æ€§æŠŠå®ƒä»¬å®šä¹‰åˆ°ç±»ä¸­ï¼Œå³ç¨‹åºè®¾è®¡æ¥æºäºç”Ÿæ´»ï¼Œ</p>
<ol>
<li>å…ˆå®šä¹‰å¥½ç±»ï¼Œå¦‚å®¶ï¼Œå®¶çš„å±æ€§ï¼Œå®¶çš„ä½œç”¨ï¼Œå®¶é‡Œé¢åˆæœ‰å®¶å…·ï¼Œå®¶ç”µå®ƒä»¬ä¹Ÿæœ‰ç›¸åº”çš„å±æ€§å’Œä½œç”¨ã€‚</li>
<li>ç„¶åé€šè¿‡è®¾è®¡æ¨¡å¼æ¥è®¾è®¡å¯æ‰©å±•ï¼Œæ–¹ä¾¿ç»´æŠ¤çš„å…³ç³»ç»“æ„ã€‚</li>
</ol>
</li>
<li><p>è®¾è®¡æ–¹æ³•</p>
<ol>
<li><p>builderï¼Œæä¾›ä¸€ä¸ªbuilderç±»åˆå§‹åŒ–ç±»ï¼Œåœ¨ä¸é…ç½®çš„æƒ…å†µä¸‹æä¾›ä¸€äº›é»˜è®¤æ“ä½œï¼Œæå¤§ç®€åŒ–ç±»çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼›</p>
</li>
<li><p>chainï¼Œ <code>okhttp3.Call.Factory</code>, <code>Converter.Factory</code>  é€šè¿‡<code>nextCallAdapter</code>éå†ï¼ŒæŠ½è±¡æ¥å£Listé€æ­¥è°ƒç”¨ï¼Œæå¤§çš„æé«˜ç¨‹åºæ‰©å±•æ€§</p>
<pre class="line-numbers language-java"><code class="language-java">  <span class="token keyword">public</span> CallAdapter<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token operator">></span> <span class="token function">nextCallAdapter</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> CallAdapter<span class="token punctuation">.</span>Factory skipPast<span class="token punctuation">,</span> Type returnType<span class="token punctuation">,</span>
      Annotation<span class="token punctuation">[</span><span class="token punctuation">]</span> annotations<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">int</span> start <span class="token operator">=</span> callAdapterFactories<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>skipPast<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> start<span class="token punctuation">,</span> count <span class="token operator">=</span> callAdapterFactories<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      CallAdapter<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token operator">></span> adapter <span class="token operator">=</span> callAdapterFactories<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>returnType<span class="token punctuation">,</span> annotations<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>adapter <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> adapter<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
</li>
</ol>
<h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h1><p><a href="https://github.com/iluwatar/java-design-patterns" target="_blank" rel="noopener">java-design-patterns</a></p>
<p><a href="https://www.cnblogs.com/WindSun/p/10223126.html" target="_blank" rel="noopener">è®¾è®¡æ¨¡å¼çš„åˆ†ç±»</a></p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaåå°åŸºç¡€å­¦ä¹ ç¬”è®°</title>
    <url>/2020/12/07/2019-2-26-server/</url>
    <content><![CDATA[<h1 id="é‡ç‚¹ç ”ç©¶å¼€æºåº“"><a href="#é‡ç‚¹ç ”ç©¶å¼€æºåº“" class="headerlink" title="é‡ç‚¹ç ”ç©¶å¼€æºåº“"></a>é‡ç‚¹ç ”ç©¶å¼€æºåº“</h1><ul>
<li><a href="https://gitee.com/shuzheng/zheng" target="_blank" rel="noopener">zheng</a> æ¯”è¾ƒçƒ­é—¨çš„åå°å¼€æºåº“</li>
<li><a href="https://gitee.com/naan1993/guns" target="_blank" rel="noopener">Guns</a> æƒé™ç®¡ç†<ul>
<li>å…¬å¼€è¯¾ <a href="https://www.bilibili.com/video/av32112009" target="_blank" rel="noopener">https://www.bilibili.com/video/av32112009</a></li>
</ul>
</li>
<li><a href="https://github.com/PanJiaChen/vue-element-admin" target="_blank" rel="noopener">vue-element-admin</a> éå¸¸æƒŠè‰³çš„å‰ç«¯UI <ul>
<li><a href="https://github.com/PanJiaChen/vue-element-admin/blob/master/README.zh-CN.md" target="_blank" rel="noopener"><strong>README.zh-CN.md</strong></a> ä¸­æ–‡æ–‡æ¡£æœ‰æ•™ç¨‹</li>
</ul>
</li>
<li><a href="https://gitee.com/minull/ace-security" target="_blank" rel="noopener">Cloud-Admin</a><ul>
<li><a href="http://www.evernote.com/l/AtsRl53hvoVG8qlWUWtuLddM0iS5QtylRo4/" target="_blank" rel="noopener">RabbitMQé…ç½®</a></li>
<li><a href="http://www.evernote.com/l/Att5XxYhqY9Gsr0jDsng-4APU7pn9MwK-SY/" target="_blank" rel="noopener">Consul1.2.2é…ç½®</a></li>
<li>Docker <ul>
<li><a href="https://docs.docker.com/get-started/" target="_blank" rel="noopener">Get started with Docker</a></li>
<li><a href="https://docs.docker.com/compose/" target="_blank" rel="noopener">Docker Compose</a></li>
<li><a href="https://blog.csdn.net/pushiqiang/article/details/78682323" target="_blank" rel="noopener">docker-composeæ•™ç¨‹ï¼ˆå®‰è£…ï¼Œä½¿ç”¨, å¿«é€Ÿå…¥é—¨ï¼‰</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="AG-Admin-v2-0"><a href="#AG-Admin-v2-0" class="headerlink" title="AG-Admin-v2.0"></a><a href="https://gitee.com/minull/AG-Admin-v2.0" target="_blank" rel="noopener">AG-Admin-v2.0</a></h2><ul>
<li>å®‰è£…é—®é¢˜è§£å†³ <a href="https://www.jianshu.com/p/fd3b19cacd99" target="_blank" rel="noopener">https://www.jianshu.com/p/fd3b19cacd99</a><pre class="line-numbers language-shell"><code class="language-shell">Error: Can't find Python executable "D:\workspace\env\common\Python\phyton_3.7.0\python.EXE", you can set the PYTHON env variable
## è§£å†³ï¼Œç®¡ç†å‘˜èº«ä»½
npm install --global --production windows-build-tools
npm install --global node-gyp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
Module build failed: Error: Node Sass does not yet support your current environment: Windows 64-bit with Unsupported runtime (64) </li>
</ul>
<p>åŸå› ï¼šNode Sass ç‰ˆæœ¬ä½</p>
<p>è§£å†³ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">npm uninstall node-sass -D
npm install node-sass -D<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="Mall"><a href="#Mall" class="headerlink" title="Mall"></a>Mall</h2><p><a href="https://github.com/macrozheng/mall" target="_blank" rel="noopener">https://github.com/macrozheng/mall</a></p>
<h2 id="Pay"><a href="#Pay" class="headerlink" title="Pay"></a>Pay</h2><p><a href="https://gitee.com/52itstyle/spring-boot-pay" target="_blank" rel="noopener">https://gitee.com/52itstyle/spring-boot-pay</a></p>
<h2 id="ç§’æ€ç³»ç»Ÿ"><a href="#ç§’æ€ç³»ç»Ÿ" class="headerlink" title="ç§’æ€ç³»ç»Ÿ"></a>ç§’æ€ç³»ç»Ÿ</h2><p><a href="https://gitee.com/52itstyle/spring-boot-seckill" target="_blank" rel="noopener">https://gitee.com/52itstyle/spring-boot-seckill</a></p>
<p><a href="https://gitee.com/xiandafu/springboot-plus" target="_blank" rel="noopener">https://gitee.com/xiandafu/springboot-plus</a></p>
<h1 id="å¸¸ç”¨å·¥å…·"><a href="#å¸¸ç”¨å·¥å…·" class="headerlink" title="å¸¸ç”¨å·¥å…·"></a>å¸¸ç”¨å·¥å…·</h1><ul>
<li><p><strong><a href="https://github.com/scouter-project/scouter" target="_blank" rel="noopener">scouter</a></strong>  is an open source APM and an open source profiler for java application like web applications on a tomcat .</p>
</li>
<li><p>tomcatæŒ‚æ‰è§£å†³æ–¹æ¡ˆ</p>
<ul>
<li>Tomcaté›†ç¾¤  </li>
<li>tomcatçº¿ç¨‹ç›‘æ§å¹¶è‡ªå¯</li>
</ul>
</li>
</ul>
<h2 id="ç®¡ç†å·¥å…·"><a href="#ç®¡ç†å·¥å…·" class="headerlink" title="ç®¡ç†å·¥å…·"></a>ç®¡ç†å·¥å…·</h2><ul>
<li><a href="https://github.com/thx/RAP" target="_blank" rel="noopener">RAP</a> Webæ¥å£ç®¡ç†å·¥å…·ï¼Œå¼€æºå…è´¹ï¼Œæ¥å£è‡ªåŠ¨åŒ–ï¼ŒMOCKæ•°æ®è‡ªåŠ¨ç”Ÿæˆï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä¼ä¸šçº§ç®¡ç†ã€‚é˜¿é‡Œå¦ˆå¦ˆMUXå›¢é˜Ÿå‡ºå“ï¼é˜¿é‡Œå·´å·´éƒ½åœ¨ç”¨ï¼1000+å…¬å¸çš„é€‰æ‹©ï¼API æ¥å£ç®¡ç†</li>
</ul>
<h3 id="Consul"><a href="#Consul" class="headerlink" title="Consul"></a>Consul</h3><p>å®˜ç½‘ä¸‹è½½åœ°å€ï¼š <a href="https://www.consul.io/downloads.html" target="_blank" rel="noopener">https://www.consul.io/downloads.html</a></p>
<ul>
<li><a href="https://blog.csdn.net/lc1010078424/article/details/82467399" target="_blank" rel="noopener">CentOS7.5.1804 Minimalå®‰è£…é…ç½®å•æœºConsul1.2.2</a></li>
<li><a href="https://blog.csdn.net/achenyuan/article/details/80389410" target="_blank" rel="noopener">consulå®‰è£…é…ç½®ï¼Œç”Ÿäº§ç¯å¢ƒéƒ¨ç½²é«˜å¯ç”¨ç¯å¢ƒ</a></li>
</ul>
<p>ä¸‹è½½è§£å‹åwindow ä½¿ç”¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">consul agent -dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="è¿œç¨‹è¿æ¥-SecureCRT"><a href="#è¿œç¨‹è¿æ¥-SecureCRT" class="headerlink" title="è¿œç¨‹è¿æ¥  SecureCRT"></a>è¿œç¨‹è¿æ¥  SecureCRT</h3><h4 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h4><p>MAC</p>
<ul>
<li>æœ¬åœ°å®Œæ•´å®‰è£…æ•™ç¨‹åŠç›¸å…³æ–‡æ¡£ <code>/Users/apple/Documents/env/tools</code></li>
<li><a href="https://blog.csdn.net/u011692780/article/details/89707017" target="_blank" rel="noopener">MACç‰ˆSecureCRT+SecureFXç ´è§£ï¼Œç‰ˆæœ¬8.5.1-ã€CSDN å¤–ç½‘ã€‘</a></li>
</ul>
<h4 id="å¸¸ç”¨è®¾ç½®"><a href="#å¸¸ç”¨è®¾ç½®" class="headerlink" title="å¸¸ç”¨è®¾ç½®"></a>å¸¸ç”¨è®¾ç½®</h4><p>è¶…æ—¶ä»è¿ï¼ˆ<code>Options-ï¼&gt;Session Optionsï¼ï¼&gt;Terminal</code>ï¼‰</p>
<ol>
<li>ç¬¬ä¸€æ­¥<br><img src="http://cdn.linz.tech/SecureCRT_1.png" alt=""></li>
<li><img src="http://cdn.linz.tech/SecureCRT_2.png" alt=""></li>
</ol>
<h2 id="è®¿é—®æ§åˆ¶"><a href="#è®¿é—®æ§åˆ¶" class="headerlink" title="è®¿é—®æ§åˆ¶"></a>è®¿é—®æ§åˆ¶</h2><h3 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h3><ul>
<li><p><a href="https://www.cnblogs.com/jiangwangxiang/p/8481661.html" target="_blank" rel="noopener">windowsä¸‹nginxçš„å®‰è£…åŠä½¿ç”¨</a> </p>
<pre class="line-numbers language-shell"><code class="language-shell">start nginx
nginx -s stop(å¿«é€Ÿåœæ­¢nginx)  æˆ–  nginx -s quit(å®Œæ•´æœ‰åºçš„åœæ­¢nginx)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
<ul>
<li><p>Nginx å¸¸ç”¨å‘½ä»¤</p>
<pre class="line-numbers language-shell"><code class="language-shell">sudo nginx #æ‰“å¼€ nginx
nginx -s reload|reopen|stop|quit  #é‡æ–°åŠ è½½é…ç½®|é‡å¯|åœæ­¢|é€€å‡º nginx
nginx -t   #æµ‹è¯•é…ç½®æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯

nginx [-?hvVtq] [-s signal] [-c filename] [-p prefix] [-g directives]

-?,-h           : æ‰“å¼€å¸®åŠ©ä¿¡æ¯
-v              : æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡º
-V              : æ˜¾ç¤ºç‰ˆæœ¬å’Œé…ç½®é€‰é¡¹ä¿¡æ¯ï¼Œç„¶åé€€å‡º
-t              : æ£€æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼Œç„¶åé€€å‡º
-q              : åœ¨æ£€æµ‹é…ç½®æ–‡ä»¶æœŸé—´å±è”½éé”™è¯¯ä¿¡æ¯
-s signal       : ç»™ä¸€ä¸ª nginx ä¸»è¿›ç¨‹å‘é€ä¿¡å·ï¼šstopï¼ˆåœæ­¢ï¼‰, quitï¼ˆé€€å‡ºï¼‰, reopenï¼ˆé‡å¯ï¼‰, reloadï¼ˆé‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼‰
-p prefix       : è®¾ç½®å‰ç¼€è·¯å¾„ï¼ˆé»˜è®¤æ˜¯ï¼š/usr/local/Cellar/nginx/1.2.6/ï¼‰
-c filename     : è®¾ç½®é…ç½®æ–‡ä»¶ï¼ˆé»˜è®¤æ˜¯ï¼š/usr/local/etc/nginx/nginx.confï¼‰
-g directives   : è®¾ç½®é…ç½®æ–‡ä»¶å¤–çš„å…¨å±€æŒ‡ä»¤<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<p>nginx -t  èƒ½æŸ¥çœ‹é…ç½®æ–‡ä»¶æ‰€åœ¨ç›®å½•</p>
<pre class="line-numbers language-shell"><code class="language-shell">nginx: the configuration file /usr/local/tengine/conf/nginx.conf syntax is ok
nginx: configuration file /usr/local/tengine/conf/nginx.conf test is successful<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>é˜¿é‡Œäº‘åå°é…ç½®æ–‡ä»¶è·¯å¾„ï¼š<code>/usr/local/tengine/conf/nginx.conf</code></p>
<h3 id="å¼€æºåº“"><a href="#å¼€æºåº“" class="headerlink" title="å¼€æºåº“"></a>å¼€æºåº“</h3><ul>
<li><a href="https://github.com/trimstray/nginx-quick-reference" target="_blank" rel="noopener">nginx-quick-reference ç½‘ä¸Šæ•™ç¨‹</a></li>
</ul>
<h2 id="è½¬åŒ–å·¥å…·"><a href="#è½¬åŒ–å·¥å…·" class="headerlink" title="è½¬åŒ–å·¥å…·"></a>è½¬åŒ–å·¥å…·</h2><p><a href="https://www.bejson.com/devtools/properties2yaml/" target="_blank" rel="noopener">properties2yml</a></p>
<h2 id="æ•°æ®åº“"><a href="#æ•°æ®åº“" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h2><ul>
<li><a href="https://www.fageka.com/Store/item/s/id/zWS3GuW4356" target="_blank" rel="noopener">æ•°æ®åº“ä»å…¥é—¨åˆ°è¿›é˜¶å¿…è¯»18æœ¬æŠ€æœ¯ä¹¦ç±ç½‘ç›˜åè¡€æ•´ç†</a></li>
<li><a href="https://github.com/cinience/RedisStudio/releases" target="_blank" rel="noopener">RedisStudio</a> rediså›¾å½¢ç•Œé¢ç®¡ç†å·¥å…· </li>
</ul>
<h3 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h3><ul>
<li><a href="http://redisdoc.com/" target="_blank" rel="noopener">Redis å‘½ä»¤å‚è€ƒ</a></li>
<li><a href="https://github.com/redisson/redisson" target="_blank" rel="noopener"><strong>redisson</strong></a></li>
</ul>
<h3 id="Hibernate"><a href="#Hibernate" class="headerlink" title="Hibernate"></a>Hibernate</h3><ul>
<li><a href="https://www.jianshu.com/p/50e0a7a28b53" target="_blank" rel="noopener">IntelliJ IDEA Hibernate</a>  hibernateç”Ÿæˆæ•°æ®åº“å®ä½“ç±»</li>
</ul>
<h3 id="MongoDB"><a href="#MongoDB" class="headerlink" title="MongoDB"></a>MongoDB</h3><p>é…ç½®æ–‡æ¡£ï¼š  <a href="https://docs.mongodb.com/manual/" target="_blank" rel="noopener">MongoDB manual</a></p>
<p><a href="https://www.runoob.com/mongodb/mongodb-tutorial.html" target="_blank" rel="noopener">MongoDB å…¥é—¨æ•™ç¨‹</a></p>
<ul>
<li><p><a href="https://blog.csdn.net/weixin_39308542/article/details/88377915" target="_blank" rel="noopener">studio 3tç ´è§£</a>, <code>studio3t.bat</code></p>
<pre class="line-numbers language-bat"><code class="language-bat">@echo off
ECHO é‡ç½®Studio 3Tçš„ä½¿ç”¨æ—¥æœŸ......
FOR /f "tokens=1,2,* " %%i IN ('reg query "HKEY_CURRENT_USER\Software\JavaSoft\Prefs\3t\mongochef\enterprise" ^| find /V "installation" ^| find /V "HKEY"') DO ECHO yes | reg add "HKEY_CURRENT_USER\Software\JavaSoft\Prefs\3t\mongochef\enterprise" /v %%i /t REG_SZ /d ""
ECHO é‡ç½®å®Œæˆ, æŒ‰ä»»æ„é”®é€€å‡º......
pause>nul
exit<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¤åˆ¶åˆ°ï¼š<code>C:\ProgramData\Microsoft\Windows\Start Menu\Programs\StartUp</code>, åŒå‡»è¿è¡Œ</p>
</li>
<li><p><a href="https://hub.docker.com/_/mongo" target="_blank" rel="noopener">Docker hub</a> </p>
</li>
<li><p><a href="https://docs.mongodb.com/manual/reference/program/mongod/" target="_blank" rel="noopener">mongod</a> å‘½ä»¤è§£æ</p>
</li>
</ul>
<h4 id="æƒé™"><a href="#æƒé™" class="headerlink" title="æƒé™"></a>æƒé™</h4><p>â€‹    Built-In Rolesï¼ˆå†…ç½®è§’è‰²ï¼‰ï¼š<br>â€‹    \1. æ•°æ®åº“ç”¨æˆ·è§’è‰²ï¼šreadã€readWrite;<br>â€‹    \2. æ•°æ®åº“ç®¡ç†è§’è‰²ï¼šdbAdminã€dbOwnerã€userAdminï¼›<br>â€‹    \3. é›†ç¾¤ç®¡ç†è§’è‰²ï¼šclusterAdminã€clusterManagerã€clusterMonitorã€hostManagerï¼›<br>â€‹    \4. å¤‡ä»½æ¢å¤è§’è‰²ï¼šbackupã€restoreï¼›<br>â€‹    \5. æ‰€æœ‰æ•°æ®åº“è§’è‰²ï¼šreadAnyDatabaseã€readWriteAnyDatabaseã€userAdminAnyDatabaseã€dbAdminAnyDatabase<br>â€‹    \6. è¶…çº§ç”¨æˆ·è§’è‰²ï¼šroot<br>â€‹    // è¿™é‡Œè¿˜æœ‰å‡ ä¸ªè§’è‰²é—´æ¥æˆ–ç›´æ¥æä¾›äº†ç³»ç»Ÿè¶…çº§ç”¨æˆ·çš„è®¿é—®ï¼ˆdbOwner ã€userAdminã€userAdminAnyDatabaseï¼‰<br>â€‹    \7. å†…éƒ¨è§’è‰²ï¼š__system</p>
<p>å…·ä½“è§’è‰²ï¼š<br>Readï¼šå…è®¸ç”¨æˆ·è¯»å–æŒ‡å®šæ•°æ®åº“<br>readWriteï¼šå…è®¸ç”¨æˆ·è¯»å†™æŒ‡å®šæ•°æ®åº“<br>dbAdminï¼šå…è®¸ç”¨æˆ·åœ¨æŒ‡å®šæ•°æ®åº“ä¸­æ‰§è¡Œç®¡ç†å‡½æ•°ï¼Œå¦‚ç´¢å¼•åˆ›å»ºã€åˆ é™¤ï¼ŒæŸ¥çœ‹ç»Ÿè®¡æˆ–è®¿é—®system.profile<br>userAdminï¼šå…è®¸ç”¨æˆ·å‘system.usersé›†åˆå†™å…¥ï¼Œå¯ä»¥æ‰¾æŒ‡å®šæ•°æ®åº“é‡Œåˆ›å»ºã€åˆ é™¤å’Œç®¡ç†ç”¨æˆ·<br>clusterAdminï¼šåªåœ¨adminæ•°æ®åº“ä¸­å¯ç”¨ï¼Œèµ‹äºˆç”¨æˆ·æ‰€æœ‰åˆ†ç‰‡å’Œå¤åˆ¶é›†ç›¸å…³å‡½æ•°çš„ç®¡ç†æƒé™ã€‚<br>readAnyDatabaseï¼šåªåœ¨adminæ•°æ®åº“ä¸­å¯ç”¨ï¼Œèµ‹äºˆç”¨æˆ·æ‰€æœ‰æ•°æ®åº“çš„è¯»æƒé™<br>readWriteAnyDatabaseï¼šåªåœ¨adminæ•°æ®åº“ä¸­å¯ç”¨ï¼Œèµ‹äºˆç”¨æˆ·æ‰€æœ‰æ•°æ®åº“çš„è¯»å†™æƒé™<br>userAdminAnyDatabaseï¼šåªåœ¨adminæ•°æ®åº“ä¸­å¯ç”¨ï¼Œèµ‹äºˆç”¨æˆ·æ‰€æœ‰æ•°æ®åº“çš„userAdminæƒé™<br>dbAdminAnyDatabaseï¼šåªåœ¨adminæ•°æ®åº“ä¸­å¯ç”¨ï¼Œèµ‹äºˆç”¨æˆ·æ‰€æœ‰æ•°æ®åº“çš„dbAdminæƒé™ã€‚<br>rootï¼šåªåœ¨adminæ•°æ®åº“ä¸­å¯ç”¨ã€‚è¶…çº§è´¦å·ï¼Œè¶…çº§æƒé™  </p>
<p>æˆæƒæ“ä½œ</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker exec -it mongodb_mongo_1 mongo admin
db.auth("mongo-admin","admin-initial-password")
use octblog

# Step2: create a user
db.createUser(
  {
    user: "gevin",
    pwd: "gevin",
    roles: [ { role: "readWrite", db: "octblog" },
             { role: "readWrite", db: "octblog-log" } ],
    mechanisms : ["SCRAM-SHA-1"]         
  }
)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æˆæƒéªŒè¯</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker exec -it {containerId} mongo localhost:27017/db_name -u user -p password<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h4><p>å®ä½“ç±»ä½¿ç”¨æµç¨‹</p>
<p>ç¬¬ä¸€æ­¥ï¼šå¯¼å…¥<code>pom.xml</code>ä¾èµ–ï¼Œé…ç½®æ•°æ®åº“</p>
<pre class="line-numbers language-yml"><code class="language-yml">  <!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-commons -->
    <dependency>
      <groupId>org.springframework.data</groupId>
      <artifactId>spring-data-commons</artifactId>
      <version>1.13.9.RELEASE</version>
    </dependency><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>mongoDB æ•°æ®åº“è®¾ç½®</p>
<pre class="line-numbers language-yml"><code class="language-yml">spring:
  data:
    mongodb:
      uri:  mongodb://root:123@localhost:27017
      database: xc_cms
spring:
  data:
    mongodb:
      database: xc_cms
      host: <ip>
      port: 27017
      password: 
      username: <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šå®šä¹‰å®ä½“ç±»</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>Id<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>core<span class="token punctuation">.</span>mapping<span class="token punctuation">.</span>Document<span class="token punctuation">;</span>

<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@ToString</span>
<span class="token annotation punctuation">@Document</span><span class="token punctuation">(</span>collection <span class="token operator">=</span> <span class="token string">"cms_page"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CmsPage</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> String siteId<span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">//é¡µé¢ID</span>
  <span class="token annotation punctuation">@Id</span>
  <span class="token keyword">private</span> String pageId<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šé…ç½®ç¬¦åˆjpaè§„èŒƒçš„æ“ä½œä»“åº“</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CmsPageRepository</span> <span class="token keyword">extends</span> <span class="token class-name">MongoRepository</span><span class="token operator">&lt;</span>CmsPage<span class="token punctuation">,</span> String<span class="token operator">></span> <span class="token punctuation">{</span>
     CmsPage <span class="token function">findByPageName</span><span class="token punctuation">(</span>String pageName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬å››æ­¥ï¼šå®ç°åˆ†é¡µ</p>
<p>å¯¼å…¥<code>pom.xml</code>ä¾èµ–</p>
<pre class="line-numbers language-xml"><code class="language-xml">    <span class="token comment" spellcheck="true">&lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-commons --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.data<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-data-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.13.9.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>PageService.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æŸ¥è¯¢æ¡ä»¶åŒ¹é…</span>
ExampleMatcher matcher <span class="token operator">=</span> ExampleMatcher<span class="token punctuation">.</span><span class="token function">matching</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Example example <span class="token operator">=</span> Example<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>cmsPage<span class="token punctuation">,</span> matcher<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//åˆ†é¡µè®¾ç½®</span>
Pageable pageable <span class="token operator">=</span> PageRequest<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>page <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> page<span class="token punctuation">,</span> size <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">10</span> <span class="token operator">:</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
Page<span class="token operator">&lt;</span>CmsPage<span class="token operator">></span> all <span class="token operator">=</span> cmsPageRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span>example<span class="token punctuation">,</span> pageable<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="RabbitMQ"><a href="#RabbitMQ" class="headerlink" title="RabbitMQ"></a>RabbitMQ</h3><ul>
<li><a href="https://www.cnblogs.com/ityouknow/p/6120544.html" target="_blank" rel="noopener">springboot(å…«)ï¼šRabbitMQè¯¦è§£</a> </li>
</ul>
<h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><pre class="line-numbers language-shell"><code class="language-shell">  #å¯åŠ¨
  rabbitmq-server -detached
  #æŸ¥çœ‹çš„æœåŠ¡çŠ¶æ€
  rabbitmqctl status
  #å…³é—­
  rabbitmqctl stop
  # é…ç½®ç½‘é¡µæ’ä»¶ï¼Œ 1. åˆ›å»ºç›®å½•ï¼› 2. å¯ç”¨æ’ä»¶
  mkdir /etc/rabbitmq 
  rabbitmq-plugins enable rabbitmq_management 
  # é…ç½®linuxç½‘é¡µç®¡ç†ç«¯å£ï¼š 15672 AMQPç«¯å£ï¼š5672
  # ç„¶åè®¿é—®http://localhost:15672å³å¯ï¼Œ é˜¿é‡Œäº‘ï¼šhttp://47.107.130.109:15672
  #é»˜è®¤ç”¨æˆ·guest å¯†ç guest<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><pre class="line-numbers language-shell"><code class="language-shell">#æ·»åŠ ç”¨æˆ·:
rabbitmqctl add_user <user_name> <password>
#æ·»åŠ æƒé™:
rabbitmqctl set_permissions -p "/" <user_name> ".*" ".*" ".*"
#ä¿®æ”¹ç”¨æˆ·è§’è‰²:
rabbitmqctl set_user_tags <user_name> administrator

# å¸¸ç”¨å‘½ä»¤
add_user        <UserName> <Password>
delete_user     <UserName>
change_password <UserName> <NewPassword>
list_users
add_vhost    <VHostPath>
delete_vhost <VHostPath>
list_vhostsset_permissions   [-p <VHostPath>] <UserName> <Regexp> <Regexp> <Regexp>
clear_permissions [-p <VHostPath>] <UserName>
list_permissions  [-p <VHostPath>]
list_user_permissions <UserName>
list_queues    [-p <VHostPath>] [<QueueInfoItem> ...]
list_exchanges [-p <VHostPath>] [<ExchangeInfoItem> ...]
list_bindings  [-p <VHostPath>]
list_connections [<ConnectionInfoItem> ...]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="MyBatis"><a href="#MyBatis" class="headerlink" title="MyBatis"></a>MyBatis</h3><h4 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h4><ol>
<li>mybatis é€†å‘å·¥ç¨‹ <a href="https://github.com/zouzg/mybatis-generator-gui" target="_blank" rel="noopener">mybatis-generator-gui</a><ol>
<li>ä½¿ç”¨æ•™ç¨‹ <a href="https://blog.csdn.net/bei_FengBoby/article/details/88546804" target="_blank" rel="noopener">æ¨èä¸€æ¬¾å¥½ç”¨çš„mybatisé€†å‘ç”Ÿæˆå·¥å…·(çœŸçš„å¾ˆå¥½ç”¨)</a></li>
</ol>
</li>
<li><a href="https://www.toutiao.com/a6677391666476745230/" target="_blank" rel="noopener">MyBatis Generator ä½¿ç”¨æ•™ç¨‹</a></li>
<li><a href="https://mybatis.plus/" target="_blank" rel="noopener">MyBatis-Plus å®˜ç½‘</a><ol>
<li><a href="https://blog.csdn.net/qq_32258777/article/details/83382855" target="_blank" rel="noopener">MyBatis-Plus + mysql ç½‘ç»œè®¿é—®å…¥é—¨demo</a></li>
<li><a href="https://github.com/baomidou/mybatis-plus-samples" target="_blank" rel="noopener"><strong>mybatis-plus-samples</strong></a></li>
</ol>
</li>
</ol>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul>
<li><a href="https://blog.csdn.net/qq_32953079/article/category/7493682" target="_blank" rel="noopener">Spring Data Jpaç³»åˆ—æ•™ç¨‹</a></li>
</ul>
<h3 id="é™„ä»¶"><a href="#é™„ä»¶" class="headerlink" title="é™„ä»¶"></a>é™„ä»¶</h3><p>1ã€<a href="http://www.mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/" target="_blank" rel="noopener">mybatis-spring-boot-starter é…ç½®é¡¹æ‰‹å†Œ</a></p>
<p>2ã€<a href="https://github.com/mybatis/spring-boot-starter" target="_blank" rel="noopener">GitHubä»“åº“åœ°å€ï¼ŒåŒ…å«ä»£ç ç¤ºä¾‹</a></p>
<p>3ã€<a href="http://www.mybatis.org/mybatis-3/zh/index.html" target="_blank" rel="noopener">ä¸­æ–‡å®˜æ–¹æ–‡æ¡£</a></p>
<p><a href="mailto:zhengyu@chinapay.com" target="_blank" rel="noopener">zhengyu@chinapay.com</a>; <a href="mailto:11770820@qq.com" target="_blank" rel="noopener">11770820@qq.com</a>; <a href="mailto:huang.haisong@chinapay.con" target="_blank" rel="noopener">huang.haisong@chinapay.con</a></p>
<h2 id="dubbo"><a href="#dubbo" class="headerlink" title="dubbo"></a>dubbo</h2><ul>
<li><a href="https://blog.csdn.net/noaman_wgs/article/details/70214612" target="_blank" rel="noopener">Dubboå…¥é—¨â€”æ­å»ºä¸€ä¸ªæœ€ç®€å•çš„Demoæ¡†æ¶</a></li>
<li><a href="https://github.com/apache/incubator-dubbo" target="_blank" rel="noopener">incubator-dubbo</a> Apache Dubbo (incubating) is a high-performance, java based, open source RPC framework.</li>
</ul>
<h2 id="zipkin"><a href="#zipkin" class="headerlink" title="zipkin"></a><strong>zipkin</strong></h2><ul>
<li><a href="https://blog.csdn.net/qq_21387171/article/details/53787019" target="_blank" rel="noopener">å¾®æœåŠ¡ä¹‹åˆ†å¸ƒå¼è·Ÿè¸ªç³»ç»Ÿï¼ˆspringboot+zipkinï¼‰</a></li>
<li><a href="https://blog.csdn.net/xiaoluo033/article/details/80961807" target="_blank" rel="noopener">spring cloud 2.0 å…¥é—¨ç³»åˆ—ä¸€ ï¼ˆ10ï¼‰åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª-Zipkin</a></li>
</ul>
<h2 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h2><p>é˜¿é‡Œäº‘Tomcatåœ°å€ <code>/root/document/backup/apache-tomcat-7.0.63</code></p>
<h3 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h3><ol>
<li><p><a href="https://blog.csdn.net/qq_22638399/article/details/81506448" target="_blank" rel="noopener">Spring Boot ä¸¤ç§éƒ¨ç½²åˆ°æœåŠ¡å™¨çš„æ–¹å¼</a></p>
<pre class="line-numbers language-java"><code class="language-java">jps 
kill <span class="token punctuation">[</span>ip<span class="token punctuation">]</span>
nohup java <span class="token operator">-</span>jar test<span class="token punctuation">.</span>jar <span class="token operator">></span>temp<span class="token punctuation">.</span>txt <span class="token operator">&amp;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h2 id="FastDFS"><a href="#FastDFS" class="headerlink" title="FastDFS"></a>FastDFS</h2><p>   [<a href="https://www.cnblogs.com/chiangchou/p/fastdfs.html" target="_blank" rel="noopener">ç”¨FastDFSä¸€æ­¥æ­¥æ­å»ºæ–‡ä»¶ç®¡ç†ç³»ç»Ÿ</a>]</p>
<p>   å®˜ç½‘ï¼š <a href="https://github.com/happyfish100/fastdfs" target="_blank" rel="noopener"><strong>fastdfs</strong></a></p>
<ol>
<li><a href="https://github.com/qbanxiaoli/fastdfs" target="_blank" rel="noopener">docker-compose  å’ŒDockerfile  ç”Ÿæˆfastdfs å­¦ä¹ æ¡ˆä¾‹</a><ol start="2">
<li><a href="https://github.com/Guu-mc/fastdfs" target="_blank" rel="noopener">moocu/fastdfs source </a></li>
<li>æˆåŠŸä½¿ç”¨çš„æ¡ˆä¾‹ <a href="https://www.jianshu.com/p/206b342cc689" target="_blank" rel="noopener">Dockerå®‰è£…fastdfs</a></li>
</ol>
</li>
</ol>
<h2 id="Frp-å†…ç½‘ç©¿é€"><a href="#Frp-å†…ç½‘ç©¿é€" class="headerlink" title="Frp å†…ç½‘ç©¿é€"></a>Frp å†…ç½‘ç©¿é€</h2><h3 id="1-å‚è€ƒèµ„æ–™"><a href="#1-å‚è€ƒèµ„æ–™" class="headerlink" title="1. å‚è€ƒèµ„æ–™"></a>1. å‚è€ƒèµ„æ–™</h3><ul>
<li><a href="https://blog.csdn.net/u013144287/article/details/78589643/" target="_blank" rel="noopener">ååˆ†é’Ÿæ•™ä½ é…ç½®frpå®ç°å†…ç½‘ç©¿é€</a></li>
<li><a href="https://www.cnblogs.com/sanduzxcvbnm/category/1171545.html" target="_blank" rel="noopener">frp æ•™ç¨‹</a></li>
<li><a href="https://github.com/fatedier/frp" target="_blank" rel="noopener">githubå®˜ç½‘</a></li>
</ul>
<h3 id="2-å®æˆ˜ç»éªŒè®°å½•"><a href="#2-å®æˆ˜ç»éªŒè®°å½•" class="headerlink" title="2. å®æˆ˜ç»éªŒè®°å½•"></a>2. å®æˆ˜ç»éªŒè®°å½•</h3><ol>
<li>ã€é‡ç‚¹-å¤‡ä»½ã€‘0.27ç‰ˆæœ¬å…¨å¹³å°ç‰ˆæœ¬å‚¨å­˜åœ¨ <code>E:\software\2.coder\debug</code> </li>
<li>ã€47å…¬ç½‘æœåŠ¡å™¨è·¯å¾„ã€‘ <code>/usr/local/frp/frp_0.27.0_linux_amd64</code></li>
<li>ã€ç‰ˆæœ¬é—®é¢˜ã€‘ æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ç‰ˆæœ¬å¿…é¡»ä¸€è‡´ï¼Œå¦åˆ™ä¼šå‡ºç°å„ç§æ— æ³•æ’æŸ¥çš„é—®é¢˜</li>
</ol>
<h3 id="3-å¸¸ç”¨å‘½ä»¤"><a href="#3-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="3. å¸¸ç”¨å‘½ä»¤"></a>3. å¸¸ç”¨å‘½ä»¤</h3><pre class="line-numbers language-shell"><code class="language-shell">#å¯åŠ¨æœåŠ¡
./frps -c ./frps.ini
#å¯åŠ¨åå°æœåŠ¡
nohup ./frps -c ./frps.ini &

#å¯åŠ¨å®¢æˆ·ç«¯
./frpc -c ./frpc.ini
#é…ç½®çƒ­æ›´æ–°
frpc reload -c ./frpc.ini
#å¾—åˆ°ä»£ç†ä»»åŠ¡
frpc status -c ./frpc.ini<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="4-æ¡ˆä¾‹"><a href="#4-æ¡ˆä¾‹" class="headerlink" title="4. æ¡ˆä¾‹"></a>4. æ¡ˆä¾‹</h3><h4 id="4-1-ç»å…¸å†…ç½‘ç©¿é€æ¡ˆä¾‹"><a href="#4-1-ç»å…¸å†…ç½‘ç©¿é€æ¡ˆä¾‹" class="headerlink" title="4.1 ç»å…¸å†…ç½‘ç©¿é€æ¡ˆä¾‹"></a>4.1 ç»å…¸å†…ç½‘ç©¿é€æ¡ˆä¾‹</h4><p>ç¬¬ä¸€æ­¥ï¼šé…ç½®å…¬ç½‘æœåŠ¡é…ç½®æ–‡ä»¶ï¼Œfrps.ini</p>
<pre class="line-numbers language-shell"><code class="language-shell">[common]
bind_port = 7000
token=1234567890
#å®¢æˆ·ç«¯é…ç½®çš„ç«¯å£
vhost_http_port = 6081<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¯åŠ¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">#å¯åŠ¨æœåŠ¡
./frps -c ./frps.ini
#å¯åŠ¨åå°æœåŠ¡
nohup ./frps -c ./frps.ini &<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šé…ç½®å†…ç½‘æœåŠ¡é…ç½®æ–‡ä»¶ï¼Œfrpc.ini</p>
<pre class="line-numbers language-shell"><code class="language-shell">[common]
server_addr = 47.107.130.109
server_port = 7000
token=1234567890

[web]
type = http
local_ip = 192.168.1.2
local_port = 50102
custom_domains = frps.linz.tech<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ã€æ³¨æ„ã€‘</p>
<ul>
<li>custom_domains é…ç½®çš„åŸŸåå¿…é¡»æŒ‡å‘å…¬ç½‘IP</li>
<li>local_ip ä¸ä¸€å®šæ˜¯æœ¬æœºIPï¼Œå³å†…ç½‘èƒ½è®¿é—®çš„IPåœ°å€éƒ½èƒ½æ˜ å°„</li>
</ul>
<h4 id="4-2-è‡ªå®šä¹‰å­åŸŸåä½¿å…¶è½¬å‘åˆ°å†…ç½‘æœåŠ¡ä¸­"><a href="#4-2-è‡ªå®šä¹‰å­åŸŸåä½¿å…¶è½¬å‘åˆ°å†…ç½‘æœåŠ¡ä¸­" class="headerlink" title="4.2 è‡ªå®šä¹‰å­åŸŸåä½¿å…¶è½¬å‘åˆ°å†…ç½‘æœåŠ¡ä¸­"></a>4.2 è‡ªå®šä¹‰å­åŸŸåä½¿å…¶è½¬å‘åˆ°å†…ç½‘æœåŠ¡ä¸­</h4><ol>
<li><p>é˜¿é‡Œäº‘é…ç½®æ‰€ä»¥*frp.linz.tech è½¬å‘åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨</p>
</li>
<li><p>æœåŠ¡ç«¯é…ç½®</p>
<pre class="line-numbers language-shell"><code class="language-shell">[common]
bind_port = 7000
subdomain_host = linz.tech
vhost_http_port = 6081

#log
log_file = ./frps.log
log_level = debug
log_max_days =3

dashboard_port = 7500
# dashboard ç”¨æˆ·åå¯†ç ï¼Œé»˜è®¤éƒ½ä¸º admin
dashboard_user = admin
dashboard_pwd = admin
#connection pool setting
max_pool_count = 3

#token å’Œå®¢æˆ·ç«¯é…ç½®çš„ accesstokenä¿æŒä¸€è‡´ï¼Œä¸ä¸€è‡´æ— æ³•ä¿æŒè¿æ¥
token=1234567890
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>å®¢æˆ·ç«¯è®¾ç½®</p>
<pre class="line-numbers language-shell"><code class="language-shell">[common]
server_addr = 47.107.130.109
server_port = 7000
user = jobs
token=1234567890
pool_count = 2

[portainer]
type = http
local_port = 9000
subdomain = portainer
#below 2 param default is false
use_encryption = true
use_compression = true

[eureka]
type = http
local_port = 50101
subdomain = eureka<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h4 id="4-3-ssh-ç™»å½•"><a href="#4-3-ssh-ç™»å½•" class="headerlink" title="4.3 ssh ç™»å½•"></a>4.3 ssh ç™»å½•</h4><pre class="line-numbers language-shell"><code class="language-shell"># frpc.ini
[common]
server_addr = x.x.x.x
server_port = 7000

[ssh]
type = tcp
local_ip = 127.0.0.1
local_port = 22
remote_port = 6000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ssh è¿æ¥ <code>ssh -oPort=6000 test@x.x.x.x</code> å…¶ä¸­ testä¸ºæœåŠ¡å™¨ç™»å½•åç§°</p>
<h2 id="zuul"><a href="#zuul" class="headerlink" title="zuul"></a>zuul</h2><ul>
<li><a href="https://www.cnblogs.com/lexiaofei/p/7080257.html" target="_blank" rel="noopener">zuulå…¥é—¨ï¼ˆ1ï¼‰zuul çš„æ¦‚å¿µå’ŒåŸç†</a></li>
<li><a href="https://blog.csdn.net/qq_21082615/article/details/91371252" target="_blank" rel="noopener">zuul åŠ¨æ€ç½‘å…³è·¯ç”±</a></li>
<li><a href="https://blog.csdn.net/u013815546/article/details/69669165" target="_blank" rel="noopener">Zuulæ€§èƒ½æµ‹è¯•</a></li>
</ul>
<h1 id="é…ç½®ç®¡ç†"><a href="#é…ç½®ç®¡ç†" class="headerlink" title="é…ç½®ç®¡ç†"></a>é…ç½®ç®¡ç†</h1><h2 id="å¯¹å¯†ç åŠ å¯†"><a href="#å¯¹å¯†ç åŠ å¯†" class="headerlink" title="å¯¹å¯†ç åŠ å¯†"></a>å¯¹å¯†ç åŠ å¯†</h2><ul>
<li><a href="https://blog.csdn.net/kecong532664/article/details/82257931" target="_blank" rel="noopener">springbootä¸­å¯¹æ•°æ®åº“å¯†ç åŠ å¯†</a></li>
<li><a href="https://github.com/gooree/spring-boot-security/blob/master/README.md" target="_blank" rel="noopener"><strong>spring-boot-security</strong></a> é…ç½®æ¡ˆä¾‹</li>
<li>å»ºè®®è¿˜æ˜¯æŠŠé…ç½®æ–‡ä»¶æ”¾åœ¨é…ç½®ä¸­å¿ƒï¼Œç±»ä¼¼çš„æœ‰æºç¨‹çš„é˜¿æ³¢ç½—<a href="https://github.com/ctripcorp/apollo/wiki/Quick-Start" target="_blank" rel="noopener">https://github.com/ctripcorp/apollo/wiki/Quick-Start</a></li>
<li>disconf <a href="https://github.com/knightliao/disconf" target="_blank" rel="noopener">https://github.com/knightliao/disconf</a></li>
</ul>
<h2 id="å¼€æºåº“-1"><a href="#å¼€æºåº“-1" class="headerlink" title="å¼€æºåº“"></a>å¼€æºåº“</h2><h3 id="nacos"><a href="#nacos" class="headerlink" title="nacos"></a>nacos</h3><ul>
<li><a href="https://github.com/alibaba/nacos" target="_blank" rel="noopener"><strong>nacos</strong></a></li>
</ul>
<h4 id="æœåŠ¡æä¾›è€…é›†æˆnacos"><a href="#æœåŠ¡æä¾›è€…é›†æˆnacos" class="headerlink" title="æœåŠ¡æä¾›è€…é›†æˆnacos"></a><strong>æœåŠ¡æä¾›è€…é›†æˆnacos</strong></h4><p><strong>ç¬¬ä¸€æ­¥</strong>ï¼šåŠ å…¥å¿…è¦çš„ä¾èµ–é…ç½® <code>pom.xml</code></p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.0.5.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/></span></span> <span class="token comment" spellcheck="true">&lt;!-- lookup parent from repository --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>Finchley.SR1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-alibaba-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.2.2.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.18.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼š åº”ç”¨å…¥å£Appå¯ç”¨ <code>@EnableDiscoveryClient</code></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@EnableDiscoveryClient</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestApplication</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p> ç¬¬ä¸‰æ­¥ï¼š æ¥å…¥nacosæœåŠ¡,å¦‚<code>application.properties</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">server.port=8001
spring.application.name=alibaba-nacos-discovery-server
spring.cloud.nacos.discovery.server-addr=127.0.0.1:8848
#å‘½åç©ºé—´è®¾ç½®
spring.cloud.nacos.discovery.namespace=f1e5a968-5ddb-479b-8e35-1f8c9ccea438<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="æœåŠ¡æ¶ˆè´¹è€…"><a href="#æœåŠ¡æ¶ˆè´¹è€…" class="headerlink" title="æœåŠ¡æ¶ˆè´¹è€…"></a>æœåŠ¡æ¶ˆè´¹è€…</h4><p><strong>ç¬¬ä¸€ï¼ŒäºŒï¼Œä¸‰æ­¥</strong>ï¼šåŒä¸Š</p>
<p>ç¬¬å››: è¯·æ±‚</p>
<p><strong>RestTemplate</strong></p>
<pre class="line-numbers language-java"><code class="language-java">      <span class="token annotation punctuation">@Bean</span>
    <span class="token annotation punctuation">@LoadBalanced</span>
    <span class="token keyword">public</span> RestTemplate <span class="token function">restTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
String result <span class="token operator">=</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span><span class="token string">"http://alibaba-nacos-discovery-server/hello?name=didi"</span><span class="token punctuation">,</span> String<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>WebClient</strong></p>
<p>ç¬¬ä¸€æ­¥ï¼šåŠ å…¥å¿…è¦ä¾èµ–é…ç½®</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-webflux<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@Bean</span>
<span class="token annotation punctuation">@LoadBalanced</span>
<span class="token keyword">public</span> WebClient<span class="token punctuation">.</span>Builder <span class="token function">loadBalancedWebClientBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> WebClient<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/test"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> Mono<span class="token operator">&lt;</span>String<span class="token operator">></span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Mono<span class="token operator">&lt;</span>String<span class="token operator">></span> result <span class="token operator">=</span> webClientBuilder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">uri</span><span class="token punctuation">(</span><span class="token string">"http://alibaba-nacos-discovery-server/hello?name=didi"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">retrieve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">bodyToMono</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>Feignä½¿ç”¨</strong></p>
<p>ç¬¬ä¸€æ­¥ï¼š å¢åŠ openfeignä¾èµ–</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šApp å…¥å£å¯ç”¨<code>@EnableFeignClients</code></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@EnableFeignClients</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestApplication</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"XC-SERVICE-MANAGE-CMS"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//æŒ‡å®šè¦è¿œç¨‹è°ƒç”¨çš„æœåŠ¡å</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CmsPageClient</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">/**
   * æ ¹æ®é¡µé¢idæŸ¥è¯¢é¡µé¢ä¿¡æ¯ï¼Œè¿œç¨‹è°ƒç”¨cmsè¯·æ±‚æ•°æ®
   * @param id page id
   * @return
   */</span>
  <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/cms/page/get/{id}"</span><span class="token punctuation">)</span>
  CmsPage <span class="token function">findCmsPageById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> String id<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">/**
   * ä¿å­˜é¡µé¢
   * @param cmsPage
   * @return
   */</span>
  <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/cms/page/save"</span><span class="token punctuation">)</span>
  CmsPageResult <span class="token function">saveCmsPage</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> CmsPage cmsPage<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">/**
   * ä¸€é”®å‘å¸ƒæ¥å£
   * @param cmsPage
   * @return
   */</span>
  <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/cms/page/postPageQuick"</span><span class="token punctuation">)</span>
  CmsPostPageResult <span class="token function">postPageQuick</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> CmsPage cmsPage<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="é…ç½®ä¸­å¿ƒé›†æˆ"><a href="#é…ç½®ä¸­å¿ƒé›†æˆ" class="headerlink" title="é…ç½®ä¸­å¿ƒé›†æˆ"></a>é…ç½®ä¸­å¿ƒé›†æˆ</h4><p>ç¬¬ä¸€æ­¥ï¼šåŠ å…¥å¿…è¦çš„ä¾èµ–ï¼Œ</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.0.5.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/></span></span> <span class="token comment" spellcheck="true">&lt;!-- lookup parent from repository --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>Finchley.SR1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-alibaba-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.2.2.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.18.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¦‚æœå·²ç»é›†æˆäº†æœåŠ¡æä¾›æˆ–è€…æ¶ˆè´¹ï¼Œåªéœ€å¢åŠ å¦‚ä¸‹é…ç½®ï¼š</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šä»£ç ä¸­ä½¿ç”¨</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestApplication</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        SpringApplication<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>TestApplication<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Slf4j</span>
    <span class="token annotation punctuation">@RestController</span>
    <span class="token annotation punctuation">@RefreshScope</span>
    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">TestController</span> <span class="token punctuation">{</span>

        <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${didispace.title:}"</span><span class="token punctuation">)</span>
        <span class="token keyword">private</span> String title<span class="token punctuation">;</span>

        <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/test"</span><span class="token punctuation">)</span>
        <span class="token keyword">public</span> String <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> title<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>é…æ³¨ï¼š</p>
<ol>
<li><code>@Value("${didispace.title:}")</code> è¯»å–é…ç½®ä¿¡æ¯</li>
<li><code>@RefreshScope</code> è¿™ä¸ªç±»é…ç½®å†…å®¹æ”¯æŒåŠ¨æ€æ›´æ–°</li>
</ol>
<p>ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºé…ç½®æ–‡ä»¶<code>bootstrap.properties</code></p>
<pre class="line-numbers language-yml"><code class="language-yml">spring.application.name=alibaba-nacos-config-client
server.port=8001
spring.cloud.nacos.config.server-addr=127.0.0.1:8848<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬å››æ­¥ï¼šè‡ªå®šä¹‰é…ç½®</p>
<pre class="line-numbers language-ynl"><code class="language-ynl"># blog: http://blog.didispace.com/spring-cloud-alibaba-nacos-config-1/
#è‡ªå®šä¹‰é…ç½®æ–‡ä»¶é€‰æ‹©
A
#spring.cloud.nacos.config.prefix=example
#spring.cloud.nacos.config.file-extension=properties
#spring.cloud.nacos.config.group=DEV_GROUP

# å¼€å‘æ¨¡å¼é€‰æ‹©
# blog: http://blog.didispace.com/spring-cloud-alibaba-nacos-config-2/
#spring.profiles.active=DEV 
#spring.cloud.nacos.config.group=DEV_GROUP

# blog: http://blog.didispace.com/spring-cloud-alibaba-nacos-config-3/
#å¤šæ–‡ä»¶é…ç½®
#1. B æ•°ç»„å½¢å¼
#spring.cloud.nacos.config.ext-config[0].data-id=actuator.properties
#spring.cloud.nacos.config.ext-config[0].group=DEFAULT_GROUP
#spring.cloud.nacos.config.ext-config[0].refresh=true
#spring.cloud.nacos.config.ext-config[1].data-id=log.properties
#spring.cloud.nacos.config.ext-config[1].group=DEFAULT_GROUP
#spring.cloud.nacos.config.ext-config[1].refresh=true
#2. C åˆ†å‰²ç¬¦å½¢å¼
#spring.cloud.nacos.config.shared-dataids=actuator.properties,log.properties
#spring.cloud.nacos.config.refreshable-dataids=actuator.properties,log.properties

#é…ç½®ä¼˜å…ˆçº§ï¼š A > B > C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="å¸¸ç”¨SDK-å¼€æºåº“"><a href="#å¸¸ç”¨SDK-å¼€æºåº“" class="headerlink" title="å¸¸ç”¨SDK/å¼€æºåº“"></a>å¸¸ç”¨SDK/å¼€æºåº“</h1><pre><code>1. åå°
ä¸»è¦æ˜¯åœ¨ç äº‘ä¸Šæ‰¾çš„ï¼Œ
å®˜ç½‘ï¼šhttps://gitee.com/explore
å‡ ä¸ªåˆ†æ•°å¾ˆé«˜çš„åå°
https://www.oschina.net/p/guns  ã€å‚è€ƒã€‘
https://gitee.com/shuzheng/zheng ã€æ¨èã€‘starä¸ªæ•°æœ€å¤š
https://gitee.com/jfinal/jfinal  ã€äº†è§£ã€‘

2. æƒé™ç®¡ç†
https://www.oschina.net/p/iBase4J æƒé™ç®¡ç†

3. UI
æœ‰å¾ˆå¤šçš„ç½‘é¡µç«¯çš„å¼€æºæ¡†æ¶ï¼Œå…·ä½“çš„å¯ä»¥å’¨è¯¢è—¤æ¥
http://www.layui.com/admin/ ã€æ¨èçœ‹ã€‘è¿™ä¸ªèƒ½ç›´æ¥çœ‹åˆ°æ¡ˆä¾‹ï¼Œæ„Ÿè§‰ç›´æ¥å¥—ç”¨å°±å¯ä»¥äº†
http://element-cn.eleme.io/

ä¸»è¦å‚è€ƒçš„èµ„æ–™ï¼š
2016 å¹´åº¦å¼€æºä¸­å›½æ–°å¢å¼€æºè½¯ä»¶æ’è¡Œæ¦œ TOP 100 
ç½‘å€ï¼šhttps://www.oschina.net/news/80846/2016-osc-new-open-source-software-top-100
2017 å¹´åº¦å¼€æºä¸­å›½æ–°å¢å¼€æºè½¯ä»¶æ’è¡Œæ¦œ TOP 100
ç½‘å€ï¼šhttps://www.jianshu.com/p/ea9f08267c83</code></pre><h2 id="æ–‡ä»¶å­˜å‚¨æœ"><a href="#æ–‡ä»¶å­˜å‚¨æœ" class="headerlink" title="æ–‡ä»¶å­˜å‚¨æœ"></a>æ–‡ä»¶å­˜å‚¨æœ</h2><ol>
<li><p><a href="https://www.oschina.net/p/fastdfs?hmsr=aladdin1e1" target="_blank" rel="noopener">FastDFS åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</a> æ­å»ºæ¯”è¾ƒéº»çƒ¦ï¼Œä½†æ˜¯ç°åœ¨ä¸€äº›ä¸­å‹äº’è”ç½‘å…¬å¸è¿˜åœ¨ç”¨</p>
</li>
<li><p><a href="https://docs.min.io/cn/" target="_blank" rel="noopener">MinIO</a> </p>
<blockquote>
<p>MinIO æ˜¯ä¸€ä¸ªåŸºäºApache License v2.0å¼€æºåè®®çš„å¯¹è±¡å­˜å‚¨æœåŠ¡ã€‚å®ƒå…¼å®¹äºšé©¬é€ŠS3äº‘å­˜å‚¨æœåŠ¡æ¥å£ï¼Œéå¸¸é€‚åˆäºå­˜å‚¨å¤§å®¹é‡éç»“æ„åŒ–çš„æ•°æ®ï¼Œä¾‹å¦‚å›¾ç‰‡ã€è§†é¢‘ã€æ—¥å¿—æ–‡ä»¶ã€å¤‡ä»½æ•°æ®å’Œå®¹å™¨/è™šæ‹Ÿæœºé•œåƒç­‰ï¼Œè€Œä¸€ä¸ªå¯¹è±¡æ–‡ä»¶å¯ä»¥æ˜¯ä»»æ„å¤§å°ï¼Œä»å‡ kbåˆ°æœ€å¤§5Tä¸ç­‰ã€‚</p>
</blockquote>
</li>
</ol>
<h2 id="å¸¸ç”¨SDK"><a href="#å¸¸ç”¨SDK" class="headerlink" title="å¸¸ç”¨SDK"></a>å¸¸ç”¨SDK</h2><h3 id="è…¾äº‘ç‚¹æ’­"><a href="#è…¾äº‘ç‚¹æ’­" class="headerlink" title="è…¾äº‘ç‚¹æ’­"></a>è…¾äº‘ç‚¹æ’­</h3><blockquote>
<p>ä¸€äº›æ–°å“é‡è¦çš„äº§å“å¯ä»¥ä½¿ç”¨è…¾äº‘ç‚¹æ’­<br>è…¾è®¯äº‘ç‚¹æ’­<br><a href="https://cloud.tencent.com/document/product/266" target="_blank" rel="noopener">https://cloud.tencent.com/document/product/266</a><br>è®¡è´¹æ–¹å¼<br><a href="https://cloud.tencent.com/document/product/266/14666" target="_blank" rel="noopener">https://cloud.tencent.com/document/product/266/14666</a></p>
</blockquote>
<p>Tengine CSDN æ­£åœ¨ä½¿ç”¨</p>
<blockquote>
<p>Tengineæ˜¯ç”±æ·˜å®ç½‘å‘èµ·çš„WebæœåŠ¡å™¨é¡¹ç›®ã€‚å®ƒåœ¨Nginxçš„åŸºç¡€ä¸Šï¼Œé’ˆå¯¹å¤§è®¿é—®é‡ç½‘ç«™çš„éœ€æ±‚ï¼Œæ·»åŠ äº†å¾ˆå¤šé«˜çº§åŠŸèƒ½å’Œç‰¹æ€§ã€‚å®ƒçš„ç›®çš„æ˜¯æ‰“é€ ä¸€ä¸ªé«˜æ•ˆã€å®‰å…¨çš„Webå¹³å°ã€‚</p>
</blockquote>
<h1 id="å­¦ä¹ èµ„æ–™"><a href="#å­¦ä¹ èµ„æ–™" class="headerlink" title="å­¦ä¹ èµ„æ–™"></a>å­¦ä¹ èµ„æ–™</h1><h2 id="åŸºç¡€æ•™ç¨‹"><a href="#åŸºç¡€æ•™ç¨‹" class="headerlink" title="åŸºç¡€æ•™ç¨‹"></a>åŸºç¡€æ•™ç¨‹</h2><ul>
<li><a href="https://gitee.com/didispace/SpringBoot-Learning" target="_blank" rel="noopener">Spring BootåŸºç¡€æ•™ç¨‹</a></li>
<li><a href="https://github.com/qibaoguang/Spring-Boot-Reference-Guide" target="_blank" rel="noopener">Spring-Boot-Reference-Guide</a></li>
<li><a href="https://my.oschina.net/genghz/blog/1789240" target="_blank" rel="noopener">spring-booté›†æˆgraphqlå…¥é—¨æ•™ç¨‹</a></li>
</ul>
<h2 id="å‰äººæ€»ç»“"><a href="#å‰äººæ€»ç»“" class="headerlink" title="å‰äººæ€»ç»“"></a>å‰äººæ€»ç»“</h2><ul>
<li><a href="http://www.ityouknow.com/springcloud/2016/12/30/springcloud-collect.html" target="_blank" rel="noopener">springcloudå­¦ä¹ èµ„æ–™æ±‡æ€»</a> ã€é‡ç‚¹ã€‘</li>
<li><a href="https://github.com/crossoverJie/JCSprout" target="_blank" rel="noopener">JCSprout å¤„äºèŒèŠ½é˜¶æ®µçš„ Java æ ¸å¿ƒçŸ¥è¯†åº“</a></li>
<li><a href="https://github.com/Snailclimb/JavaGuide" target="_blank" rel="noopener">JavaGuide</a></li>
</ul>
<h2 id="å­¦ä¹ è§†é¢‘æ±‡æ€»"><a href="#å­¦ä¹ è§†é¢‘æ±‡æ€»" class="headerlink" title="å­¦ä¹ è§†é¢‘æ±‡æ€»"></a>å­¦ä¹ è§†é¢‘æ±‡æ€»</h2><ul>
<li><a href="http://www.cnblogs.com/abc1168/p/9532326.html" target="_blank" rel="noopener">Javaæ¶æ„å¸ˆåˆ†äº«è‡ªå·±çš„ä»ä¸šå¿ƒå¾—ï¼Œä»ç å†œåˆ°æ¶æ„å¸ˆæˆ‘ç”¨äº†å…«å¹´ï¼Œé«˜çº§è§†é¢‘è¯¾ç¨‹å­¦ä¹ </a></li>
</ul>
<h2 id="å¼€æºåº“æ±‡æ€»"><a href="#å¼€æºåº“æ±‡æ€»" class="headerlink" title="å¼€æºåº“æ±‡æ€»"></a>å¼€æºåº“æ±‡æ€»</h2><ul>
<li><a href="https://www.toutiao.com/i6634379937220411912/?iid=54285592648" target="_blank" rel="noopener">springbootå¿«é€Ÿå¼€å‘æ¡†æ¶æ¨èï¼Œæ¥ç§æ´»åˆ©å™¨</a></li>
</ul>
<h2 id="åšå®¢èµ„æ–™"><a href="#åšå®¢èµ„æ–™" class="headerlink" title="åšå®¢èµ„æ–™"></a>åšå®¢èµ„æ–™</h2><ul>
<li><p><a href="http://blog.didispace.com/" target="_blank" rel="noopener">http://blog.didispace.com/</a></p>
</li>
<li><p><a href="http://www.ityouknow.com/" target="_blank" rel="noopener">çº¯æ´çš„å¾®ç¬‘</a></p>
</li>
</ul>
<h1 id="é˜¿é‡Œäº‘å­¦ä¹ "><a href="#é˜¿é‡Œäº‘å­¦ä¹ " class="headerlink" title="é˜¿é‡Œäº‘å­¦ä¹ "></a>é˜¿é‡Œäº‘å­¦ä¹ </h1><ul>
<li>è¿œç¨‹è¿æ¥å¯†ç  934698</li>
<li>å®ä¾‹å¯†ç ï¼šè€çˆ¸168 ï¼ˆLinï¼‰</li>
<li>é˜¿é‡Œäº‘åå° 47.107.130.109</li>
</ul>
<p>å®¹å™¨é•œåƒæœåŠ¡ç™»å½•å¯†ç ï¼š<br>è€çˆ¸168</p>
<ul>
<li>é˜¿é‡Œäº‘æ‰‹æœºç»ˆç«¯é€šè¿‡SSHè¿æ¥åå°<pre class="line-numbers language-shell"><code class="language-shell"># ç½‘é¡µç«¯åå°æ“ä½œæ­¥éª¤
# 1. æ‰¾åˆ°ç®¡ç†é¡µé¢
äº‘æœåŠ¡å™¨ECS-->ç½‘ç»œå’Œå®‰å…¨--> ç§˜é’¥å¯¹-> ç§˜é’¥å¯¹ç®¡ç†
# 2. æ–°å»ºç»‘å®šä¸‹è½½
åˆ›å»ºç§˜é’¥->ç»‘å®šæŒ‡å®šåå°-> é‡å¯æœåŠ¡å™¨
# Android SSHå·¥å…·ä½¿ç”¨
iPï¼š47.107.130.109 
ç™»å½•åï¼šroot
å¯†é’¥ï¼š é€‰æ‹©ä¸Šé¢ä¸‹è½½xxx.pem
å¯†é’¥å£ä»¤ï¼šä¸ç”¨å¡«
ç«¯å£ï¼š22ï¼ˆå’Œåå°sshç›¸åŒï¼‰
åˆ«å: éšæ„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<p>é€šè¿‡sshè¿œç¨‹ç™»å½•æœåŠ¡å™¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">#è·å–rootæƒé™
shh -i 
#ç”¨IPæˆ–è€…åŸŸåç™»å½•ï¼Œéœ€è¦è¾“å…¥å…ƒæœåŠ¡å™¨ECSç™»å½•å¯†ç  
ssh root@47.107.130.109 
ssh root@example.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å®‰å…¨ç»„é…ç½®"><a href="#å®‰å…¨ç»„é…ç½®" class="headerlink" title="å®‰å…¨ç»„é…ç½®"></a>å®‰å…¨ç»„é…ç½®</h2><ul>
<li>Redis æœ‰ä¸“é—¨çš„é€‰æ‹©ä¸“é—¨çš„Redisåè®® 6379 è‡ªå®šä¹‰TCPåè®®æ— æ•ˆ</li>
</ul>
<h2 id="å¸¸ç”¨é…ç½®ç•Œé¢"><a href="#å¸¸ç”¨é…ç½®ç•Œé¢" class="headerlink" title="å¸¸ç”¨é…ç½®ç•Œé¢"></a>å¸¸ç”¨é…ç½®ç•Œé¢</h2><ul>
<li><a href="https://dns.console.aliyun.com/#/dns/setting/linz.tech" target="_blank" rel="noopener">linz.tech åŸŸåé…ç½®ç•Œé¢</a></li>
<li><a href="https://ecs.console.aliyun.com/?spm=a2c1d.8251892.aliyun_sidebar.aliyun_sidebar_ecs.34f85b76YnLmUP#/securityGroupDetail/region/cn-shenzhen/groupId/sg-wz933l0ge76qamrg3ng3/rule/intranetIngress" target="_blank" rel="noopener">åå°ç«¯å£å¼€å‘è®¾ç½®ç•Œé¢</a></li>
<li><a href="https://cloudmonitor.console.aliyun.com/index.htm?spm=5176.2020520101.223.d101.627a4df5vTHaWk&amp;custom_trace=ecs_console#/hostDetail/alarm/instanceId=i-wz933l0ge76qamri4req&amp;system=Linux&amp;region=cn-shenzhen&amp;aliyunhost=true&amp;category=ecs" target="_blank" rel="noopener">æ–°å»ºæŠ¥è­¦æœºåˆ¶</a></li>
<li><a href="https://yundun.console.aliyun.com/?spm=5176.6660585.774526198.1.31926bf8YSEGxy&amp;p=cas#/overview/cn-hangzhou" target="_blank" rel="noopener">ssl è¯ä¹¦ç”³è¯·</a></li>
<li><a href="https://help.aliyun.com/document_detail/98737.html?spm=a2c4g.11186623.6.567.7ce447b9n5gZ2a&amp;short_name=I3.ZW3uZ&amp;app=chrome" target="_blank" rel="noopener">è¯ä¹¦ä¸‹è½½</a></li>
</ul>
<h1 id="äºšé©¬é€Šäº‘å­¦ä¹ "><a href="#äºšé©¬é€Šäº‘å­¦ä¹ " class="headerlink" title="äºšé©¬é€Šäº‘å­¦ä¹ "></a>äºšé©¬é€Šäº‘å­¦ä¹ </h1><p>Linuxç”¨r3.pemç™»å½•</p>
<pre class="line-numbers language-shell"><code class="language-shell">/mnt/hgfs/ubuntu/workspace/tools/äºšé©¬é€ŠæœåŠ¡å™¨è¿æ¥
chmod 400 awsäºšé©¬é€Š_æœåŠ¡ç§˜é’¥r3.pem
ssh -i awsäºšé©¬é€Š_æœåŠ¡ç§˜é’¥r3.pem ubuntu@ec2-18-191-169-66.us-east-2.compute.amazonaws.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="shadowsocket"><a href="#shadowsocket" class="headerlink" title="shadowsocket"></a>shadowsocket</h2><ul>
<li><p><a href="http://www.ycnote.com/post-234.html" target="_blank" rel="noopener">è¯¦ç»†æ•™ç¨‹ï¼šshadowsocketï¼šæ¯”vpnæ›´ç‰›çš„ç§‘å­¦ä¸Šç½‘æ–¹å¼ï¼Œè‡ªå·±æ­å»ºshadowsocketçš„è¶…è¯¦ç»†æ•™ç¨‹</a></p>
</li>
<li><p><a href="https://github.com/shadowsocks" target="_blank" rel="noopener">https://github.com/shadowsocks</a> å¼€æºåº“å®˜ç½‘</p>
</li>
</ul>
<p>æ€»ç»“å‘½ä»¤</p>
<ul>
<li><p>install</p>
<pre class="line-numbers language-shell"><code class="language-shell"># root
sudo -s
# install 
apt-get update
apt-get install python-pip
pip install shadowsocks
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>setting <code>vi /etc/shadowsocks.json</code></p>
<ul>
<li><p>å•ç”¨æˆ·</p>
<pre class="line-numbers language-shell"><code class="language-shell">{
    "server":"0.0.0.0",
    "server_port":8989,
    "local_address":"127.0.0.1",
    "local_port":1080,
    "password":"yourpassword",
    "timeout":300,
    "method":"aes-256-cfb",
    "fast_open": false
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>å¤šç”¨æˆ·</p>
<pre class="line-numbers language-shell"><code class="language-shell">{
    "server":"0.0.0.0",
    "local_address":"127.0.0.1",
    "local_port":1080,
    "port_password":{
        "8989":"password0",
        "9001":"password1",
        "9002":"password2",
        "9003":"password3",
        "9004":"password4"
    },
    "timeout":300,
    "method":"aes-256-cfb",
    "fast_open": false
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
<li><p>è¿è¡Œ</p>
<pre class="line-numbers language-shell"><code class="language-shell">ssserver -c /etc/shadowsocks.json -d start<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å‡ºç°å¦‚ä¸‹æ‰“å°æˆåŠŸå¯åŠ¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">INFO: loading config from /etc/shadowsocks.json
2019-02-18 14:32:45 INFO     loading libcrypto from libcrypto.so.1.0.0
started<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>è®¾ç½®å¼€æœºå¯åŠ¨ <code>vi /etc/rc.local</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">#!/bin/sh -e
#
# rc.local
#
# This script is executed at the end of each multiuser runlevel.
# Make sure that the script will "exit 0" on success or any other
# value on error.
#
# In order to enable or disable this script just change the execution
# bits.
# By default this script does nothing.

#å¢åŠ 
ssserver -c /etc/shadowsocks.json -d start
exit 0
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h1 id="Node-js"><a href="#Node-js" class="headerlink" title="Node js"></a>Node js</h1><p>nodejs åœ¨linuxä¸Šåå°è¿è¡Œ</p>
<pre><code>1.ç”¨forever  è¿›è¡Œç®¡ç†æœç´¢
ã€€ã€€ã€€ã€€npm install -g forever
ã€€ã€€ã€€ã€€forever start index.js</code></pre><h1 id="åŸŸåé…ç½®"><a href="#åŸŸåé…ç½®" class="headerlink" title="åŸŸåé…ç½®"></a>åŸŸåé…ç½®</h1><ul>
<li><a href="https://www.cnblogs.com/osfipin/p/freessl.html" target="_blank" rel="noopener">å…è´¹SSLè¯ä¹¦(httpsç½‘ç«™)ç”³è¯·</a></li>
</ul>
<h1 id="å¸¸ç”¨é…ç½®"><a href="#å¸¸ç”¨é…ç½®" class="headerlink" title="å¸¸ç”¨é…ç½®"></a>å¸¸ç”¨é…ç½®</h1><h2 id="Centos-virtual-box-å®‰è£…"><a href="#Centos-virtual-box-å®‰è£…" class="headerlink" title="Centos virtual-box å®‰è£…"></a>Centos virtual-box å®‰è£…</h2><ul>
<li><a href="https://www.virtualbox.org/wiki/Linux_Downloads" target="_blank" rel="noopener">Download VirtualBox for Linux Hosts</a></li>
<li>é…ç½®ç‰ˆæœ¬ä»“åº“ï¼Œåœ¨<code>/etc/yum.repos.d/</code>ç›®å½•ä¸‹æ–°å»º<code>virtualbox.repo</code>å¹¶å†™å…¥å¦‚ä¸‹å†…å®¹<pre class="line-numbers language-shell"><code class="language-shell">[virtualbox]
name=Oracle Linux / RHEL / CentOS-$releasever / $basearch - VirtualBox
baseurl=http://download.virtualbox.org/virtualbox/rpm/el/$releasever/$basearch
enabled=1
gpgcheck=1
repo_gpgcheck=1
gpgkey=https://www.virtualbox.org/download/oracle_vbox.asc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>å®‰è£…<pre class="line-numbers language-shell"><code class="language-shell"># 6.æ›´æ–°yumç¼“å­˜
yum clean all
yum makecache
# 7.å®‰è£…virtualbox
yum install VirtualBox-6.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h2 id="Mail"><a href="#Mail" class="headerlink" title="Mail"></a>Mail</h2><h2 id="126é‚®ç®±è®¾ç½®"><a href="#126é‚®ç®±è®¾ç½®" class="headerlink" title="126é‚®ç®±è®¾ç½®"></a>126é‚®ç®±è®¾ç½®</h2><table>
<thead>
<tr>
<th>é‚®ä»¶æœåŠ¡å™¨åç§°</th>
<th>æœåŠ¡å™¨åœ°å€</th>
<th>ç«¯å£å·</th>
</tr>
</thead>
<tbody><tr>
<td>POP3æœåŠ¡å™¨</td>
<td>pop.126.com</td>
<td>110</td>
</tr>
<tr>
<td>SMTPæœåŠ¡å™¨</td>
<td>smtp.126.com</td>
<td>25</td>
</tr>
<tr>
<td>IMAPæœåŠ¡å™¨</td>
<td>imap.126.com</td>
<td>143</td>
</tr>
</tbody></table>
<p>Navicat è‡ªåŠ¨å‘é€çŸ­ä¿¡è®¾ç½®</p>
<pre class="line-numbers language-shell"><code class="language-shell">SMTPæœåŠ¡å™¨ï¼š smtp.126.com:25
ç”¨æˆ·åï¼š zhilinchn@126.com
å¯†ç (åŒºåˆ†å¤§å°å†™)ï¼š !!16...99qQ
å®‰å…¨è¿æ¥: TLS<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Maven-ç§æœåŠ¡æ­å»º"><a href="#Maven-ç§æœåŠ¡æ­å»º" class="headerlink" title="Maven ç§æœåŠ¡æ­å»º"></a>Maven ç§æœåŠ¡æ­å»º</h2><ul>
<li><a href="https://blog.csdn.net/dhmpgt/article/details/9998321" target="_blank" rel="noopener">Nexusåˆ›å»ºMavenç§æœ‰ä»“åº“</a></li>
</ul>
<h2 id="Redis-1"><a href="#Redis-1" class="headerlink" title="Redis"></a>Redis</h2><p>Redis å¤–éƒ¨è®¿é—®è®¾ç½®</p>
<pre><code>1&gt;æ³¨é‡Šæ‰bind
#bind 127.0.0.1

3&gt;ç¦ç”¨ä¿æŠ¤æ¨¡å¼
protected-mode no</code></pre><h2 id="Jenkins"><a href="#Jenkins" class="headerlink" title="Jenkins"></a>Jenkins</h2><ul>
<li><a href="https://blog.csdn.net/qq_30886555/article/details/61920105" target="_blank" rel="noopener">Jenkinsè®¾ç½®ç½‘æ˜“ç³»é‚®ä»¶é€šçŸ¥</a></li>
</ul>
<h1 id="é—®é¢˜è§£å†³"><a href="#é—®é¢˜è§£å†³" class="headerlink" title="é—®é¢˜è§£å†³"></a>é—®é¢˜è§£å†³</h1><h2 id="SpringBoot"><a href="#SpringBoot" class="headerlink" title="SpringBoot"></a>SpringBoot</h2><ul>
<li>Tomcat 8080 ç«¯å£é…å ç”¨<ul>
<li>Windows<pre class="line-numbers language-shell"><code class="language-shell"># æ‰¾åˆ°pid  ä»£LISTENINGçš„
netstat -ano | findstr "8080"
# æ‰¾åˆ°è¿›ç¨‹
tasklist | findstr "pid"
# æ€æ‰è¿›ç¨‹
taskkill /f /t /im java.exe <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
</ul>
<h2 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h2><ul>
<li><p>[Windows10ä¸‹Dockerå‡ºç°net/http:TLS handshake timeout](<a href="https://blog.csdn.net/pop0fa/article/details/80029739ï¼‰" target="_blank" rel="noopener">https://blog.csdn.net/pop0fa/article/details/80029739ï¼‰</a></p>
<pre><code>http://69292621.m.daocloud.io
settings-&gt; daemon-&gt; registry mirrors: 
add 
http://69292621.m.daocloud.io</code></pre></li>
<li><p>VMware Workstation ä¸ Device/Credential Guard ä¸å…¼å®¹ã€‚åœ¨ç¦ç”¨ Device/Credential Guard åï¼Œå¯ä»¥è¿è¡Œ VMware Workstationã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·è®¿é—® </p>
<p>å…³é—­Hyper-v</p>
</li>
<li><pre class="line-numbers language-shell"><code class="language-shell">WARNING: The vboxdrv kernel module is not loaded. Either there is no module
         available for the current kernel (3.10.0-862.14.4.el7.x86_64) or it failed to
         load. Please recompile the kernel module and install it by
           sudo /sbin/vboxconfig
         You will not be able to start VMs until this problem is fixed.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>/sbin/vboxconfig</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">vboxdrv.sh: Stopping VirtualBox services.
vboxdrv.sh: Starting VirtualBox services.
vboxdrv.sh: Building VirtualBox kernel modules.
This system is currently not set up to build kernel modules.
Please install the Linux kernel "header" files matching the current kernel
for adding new hardware support to the system.
The distribution packages containing the headers are probably:
    kernel-devel kernel-devel-3.10.0-862.14.4.el7.x86_64
This system is currently not set up to build kernel modules.
Please install the Linux kernel "header" files matching the current kernel
for adding new hardware support to the system.
The distribution packages containing the headers are probably:
    kernel-devel kernel-devel-3.10.0-862.14.4.el7.x86_64
There were problems setting up VirtualBox.  To re-start the set-up process, run
  /sbin/vboxconfig
as root.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h2 id="ä¸ƒç‰›äº‘æµ‹è¯•åŸŸåè¿‡æ¸¡"><a href="#ä¸ƒç‰›äº‘æµ‹è¯•åŸŸåè¿‡æ¸¡" class="headerlink" title="ä¸ƒç‰›äº‘æµ‹è¯•åŸŸåè¿‡æ¸¡"></a>ä¸ƒç‰›äº‘æµ‹è¯•åŸŸåè¿‡æ¸¡</h2><ol>
<li><p>æ“ä½œç•Œé¢ï¼š<a href="https://portal.qiniu.com/cdn/domain/create?bucket=image&amp;fixBucket" target="_blank" rel="noopener"> åŸŸåç®¡ç†-&gt; åˆ›å»ºåŸŸå  </a><br>æ“ä½œï¼š å¦‚åŸŸåä¸º linz.tech, å¡«å†™åŠ é€ŸåŸŸåä¸º cdn.linz.tech å…¶ä»–é»˜è®¤ç‚¹å‡»åˆ›å»ºå³å¯ã€‚<br>è¯´æ˜ï¼šcdnæ˜¯å¯ä»¥éšæ„å–åçš„äºŒçº§åŸŸå<br>æ“ä½œç»“æœï¼š  <a href="https://portal.qiniu.com/cdn/domain?ref=developer.qiniu.com" target="_blank" rel="noopener"><strong>åŸŸåç®¡ç†</strong></a> ç•Œé¢æ–°å¢ä¸€ä¸ªåŸŸååˆ—è¡¨ï¼Œç‚¹å‡»é…ç½® è·å–å¦‚: <code>CNAMEï¼šcdn.linz.tech.qiniudns.com</code>çš„åŸŸåæ˜ å°„ï¼›</p>
</li>
<li><p>é…ç½®CNAMEï¼š<a href="https://dns.console.aliyun.com/?spm=5176.100251.111252.28.6dc04f157ZpxzS#/dns/setting/linz.tech" target="_blank" rel="noopener">åˆ°åŸŸåè§£æç®¡ç†é‡Œé¢å¢åŠ äºŒçº§åŸŸå</a><br>æ“ä½œæ­¥éª¤ï¼š </p>
<ol>
<li>æ·»åŠ è®°å½•</li>
<li>è®°å½•ç±»å‹ï¼Œé€‰æ‹©<code>CNAME</code>ï¼›</li>
<li>ä¸»æœºè®°å½•ï¼š å¡«å…¥<code>cdn</code>,ä¸Šé¢è‡ªå®šä¹‰çš„äºŒçº§åŸŸå</li>
<li>è®°å½•å€¼æŠŠä¸Šä¸€æ­¥æ“ä½œçš„å€¼ï¼ˆ<code>cdn.linz.tech.qiniudns.com</code>ï¼‰å¡«å…¥ï¼Œå…¶ä»–é»˜è®¤ï¼Œç¡®å®šå³å¯ï¼›</li>
</ol>
</li>
<li><p>æµ‹è¯•ï¼š åˆ°<a href="https://portal.qiniu.com/bucket/image/resource" target="_blank" rel="noopener">å†…å®¹ç®¡ç†ç•Œé¢</a>éšä¾¿å¤åˆ¶ä¸€ä¸ªæ–‡ä»¶æµ‹è¯•è®¿é—®ï¼Œè®¿é—®åŸŸåä¸º<code>http://cdn.linz.tech</code>å¹¶è®¿é—®æˆåŠŸï¼Œè®¾ç½®æˆåŠŸ</p>
<h3 id="å‚è€ƒ-1"><a href="#å‚è€ƒ-1" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3></li>
</ol>
<ul>
<li><a href="https://developer.qiniu.com/kodo/kb/5158/how-to-transition-from-test-domain-name-to-a-custom-domain-name" target="_blank" rel="noopener">å¦‚ä½•ä»æµ‹è¯•åŸŸåè¿‡æ¸¡åˆ°è‡ªå®šä¹‰åŸŸå</a></li>
<li><a href="https://developer.qiniu.com/fusion/manual/4939/the-domain-name-to-accessã€‚" target="_blank" rel="noopener">åŸŸåæ¥å…¥æ–‡æ¡£</a></li>
</ul>
<h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h1><h2 id="å¸¸ç”¨å‘½ä»¤-1"><a href="#å¸¸ç”¨å‘½ä»¤-1" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><p>çŠ¶æ€ç›‘æµ‹</p>
<pre class="line-numbers language-shell"><code class="language-shell">#æŸ¥çœ‹ç«¯å£å·æ˜¯å¦è¢«å ç”¨
netstat -tunlp |grep 8000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>åå°</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ç¡¬æ ¸ã€‘ä»æ–°åŠ¿åŠ›ç”µå•†æ‹¼å¤•å¤•Appæ´å¯Ÿï¼Œç”µå•†Appéƒ½éœ€è¦å¼•ç”¨ä»€ä¹ˆåº“</title>
    <url>/2020/12/05/2020-12-5-%E5%A4%A7%E5%8E%82%E9%83%BD%E7%94%A8%E4%BB%80%E4%B9%88%E5%BC%80%E6%BA%90%E5%BA%93/</url>
    <content><![CDATA[<p>ã€<strong>è¡¥å……ï¼šåˆšçœ‹åˆ°åä¸ºAndroidç›¸å…³çš„SDKï¼Œçªç„¶æ„Ÿå—åˆ°åä¸ºåœ¨Androidé¢†åŸŸçš„æ·±åšçš„æŠ€æœ¯ç§¯ç´¯ï¼Œæ‰€ä»¥ä¸Šä¸¤å¼ å›¾</strong>ã€‘</p>
<p>åœ¨ä¸€ä¸ªæŠ€æœ¯ä»ä¸šè€…çš„è§’åº¦çœ‹åä¸ºï¼Œç‰›æ°ä½©æœï¼Œè¿™å°±æ˜¯æˆ‘çš„æ¢¦æƒ³å‘€ï¼æŠ€æœ¯å‚èº«æŠ«è†æ–©æ£˜ï¼Œæ ¼å±€å®å¤§ï¼Œæˆ˜ç•¥æ·±è°‹ã€‚</p>
<p><strong>é±¼ç¿”æµ…åº•</strong></p>
<p><strong>é¹°å‡»é•¿ç©º,</strong></p>
<p><strong>ä¸‡ç±»éœœå¤©ç«è‡ªç”±</strong></p>
<p>å¸Œæœ›æˆ‘æœªæ¥ä¹Ÿèƒ½æœ‰è¿™ç§ç±»ä¼¼ç²¾ç¥å’Œæ°”è´¨ã€‚</p>
<p><img src="https://cdn.linz.tech/%E5%8D%8E%E4%B8%BA%E7%A0%B4%E9%A3%9E%E6%9C%BA.jpg" alt=""></p>
<p><img src="https://cdn.linz.tech/%E5%8D%8E%E4%B8%BA%E8%8A%AD%E8%95%BE%E8%88%9E%E9%9E%8B.jpeg" alt=""></p>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p><img src="https://cdn.linz.tech/top_2020_mobile_app.png" alt=""></p>
<p>æœ€è¿‘å¥½åƒç€äº†æ‹¼å¤•å¤•çš„é“äº†ï¼ŒæˆåŠŸæˆä¸ºæ‹¼å¤•å¤•é‡åº¦ç”¨æˆ·ï¼Œèº«ä¸ºAndroidç¨‹åºå‘˜ï¼Œæ€»è§‰å¾—æ‹¼å¤•å¤•çš„æ›´æ–°Appçš„é¢‘ç‡æœ‰ç‚¹ä½ï¼Œä¸æ˜¯æœ‰ç‚¹ä½ï¼Œåœ¨æˆ‘æ‰‹ä¸ŠåŠå¹´æ²¡æ›´æ–°äº†ï¼Œä½†æ˜¯å„ç§æ´»åŠ¨æ¨é™ˆå‡ºæ–°ï¼Œç‰¹åˆ«æ˜¯æœ€è¿‘æˆ‘çœ‹åˆ°</p>
<p><img src="https://cdn.linz.tech/%E6%8B%BC%E5%A4%95%E5%A4%95.jpeg" alt=""></p>
<p>ä¸€ä¸ªä¹‹å‰åŸç”ŸUIç•Œé¢çš„åŠŸèƒ½çªç„¶å†’å‡ºæ¥ï¼ˆå¤šå¤šé’±åŒ…åŠŸèƒ½ï¼‰ï¼Œå½“ç„¶è¿™ä¸ªå¯èƒ½æ˜¯åå°é…ç½®æ•°æ®è€Œæ¥ï¼Œä¹‹å‰çš„åŠŸèƒ½åŸæ¥å°±æœ‰ï¼Œä½†æ˜¯è¿™ä¸ªå¼•èµ·äº†æˆ‘ç ”ç©¶å¤§å‚Appçš„å…´è‡´ï¼Œæ’¸èµ·è¢–å­å¼€èµ¶ï¼ŒæŠŠä¹‹å‰çŸ¥é“çš„åç¼–è¯‘çŸ¥è¯†åœ¨æ¡èµ·æ¥ç”¨ç”¨ã€‚</p>
<p><img src="https://cdn.linz.tech/80s_picture.jpg" alt=""></p>
<h1 id="æ‹¼å¤šå¤š"><a href="#æ‹¼å¤šå¤š" class="headerlink" title="æ‹¼å¤šå¤š"></a>æ‹¼å¤šå¤š</h1><p>å½“ç„¶ç¬¬ä¸€ä¸ªä¸‹æ‰‹çš„å°±æ˜¯æ‹¼å¤šå¤šäº†</p>
<ol>
<li><p><strong>å¼‚å¸¸æ•è·</strong> <a href="https://github.com/iqiyi/xCrash" target="_blank" rel="noopener">xCrash</a>  2019 å¹´ç”±çˆ±å¥‡è‰ºåœ¨ GitHub ä¸Šå¼€æºã€‚</p>
<h2 id="ååº•å±‚ä¼˜åŒ–"><a href="#ååº•å±‚ä¼˜åŒ–" class="headerlink" title="ååº•å±‚ä¼˜åŒ–"></a>ååº•å±‚ä¼˜åŒ–</h2></li>
<li><p><a href="https://github.com/bytedance/BoostMultiDex" target="_blank" rel="noopener"><strong>BoostMultiDex</strong></a></p>
<blockquote>
<p>ç›¸æ¯”äº Android å®˜æ–¹åŸå§‹ MultiDex æ–¹æ¡ˆï¼Œå®ƒèƒ½å¤Ÿå‡å°‘ 80% ä»¥ä¸Šçš„é»‘å±ç­‰å¾…æ—¶é—´<br><img src="https://cdn.linz.tech/BoostMultiDex.jpg" alt=""></p>
</blockquote>
</li>
<li><p><strong><a href="https://github.com/Tencent/MMKV" target="_blank" rel="noopener">MMKV</a></strong> åŸºäº mmap çš„é«˜æ€§èƒ½é€šç”¨ key-value ç»„ä»¶</p>
<blockquote>
<p>MMKV æ˜¯åŸºäº mmap å†…å­˜æ˜ å°„çš„ key-value ç»„ä»¶ï¼Œåº•å±‚åºåˆ—åŒ–/ååºåˆ—åŒ–ä½¿ç”¨ protobuf å®ç°ï¼Œæ€§èƒ½é«˜ï¼Œç¨³å®šæ€§å¼ºã€‚ä» 2015 å¹´ä¸­è‡³ä»Šåœ¨å¾®ä¿¡ä¸Šä½¿ç”¨ï¼Œå…¶æ€§èƒ½å’Œç¨³å®šæ€§ç»è¿‡äº†æ—¶é—´çš„éªŒè¯ã€‚è¿‘æœŸä¹Ÿå·²ç§»æ¤åˆ° Android / macOS / Win32 / POSIX å¹³å°ï¼Œä¸€å¹¶å¼€æºã€‚</p>
<p>å®˜æ–¹æä¾›çš„æ€§èƒ½å¯¹æ¯”å›¾ï¼Œè¿™ä¸ªæœ‰ç‚¹å‡¶æ®‹äº†ï¼Œå“ˆå“ˆ</p>
<p><img src="https://cdn.linz.tech/profile_android_mini.png" alt=""></p>
</blockquote>
</li>
<li><p><a href="https://github.com/iqiyi/xHook" target="_blank" rel="noopener">xHook</a>  </p>
<blockquote>
<p>å®˜æ–¹æè¿°ï¼šxhook æ˜¯ä¸€ä¸ªé’ˆå¯¹ Android å¹³å° ELF (å¯æ‰§è¡Œæ–‡ä»¶å’ŒåŠ¨æ€åº“) çš„ PLT (Procedure Linkage Table) hook åº“</p>
<p>æ„Ÿè§‰æœ‰ç‚¹åŠsoåº“éƒ½èƒ½hookæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥çœ‹çœ‹</p>
</blockquote>
</li>
<li><p><a href="https://github.com/eclipsesource/J2V8" target="_blank" rel="noopener">J2V8</a>  ä¸çŸ¥é“æ‹¼å¤šå¤šæ˜¯å¦åœ¨Javascriptå¼•æ“ä¸Šåšäº†ä¼˜åŒ–ï¼Œä¹Ÿå¯èƒ½æ˜¯ç¬¬ä¸‰æ–¹å¼•ç”¨</p>
<blockquote>
<p>J2V8æ˜¯ä¸€å¥—é’ˆå¯¹è°·æ­Œçš„V8 Javascriptå¼•æ“çš„javaç»‘å®šã€‚J2V8çš„å¼€å‘ä¸ºAndroidå¹³å°å¸¦æ¥äº†é«˜æ•ˆçš„Javascriptçš„æ‰§è¡Œç¯å¢ƒ </p>
<p>æ•™ç¨‹ï¼š<a href="https://blog.csdn.net/zyzzate/article/details/52303376?locationNum=8&amp;fps=1" target="_blank" rel="noopener">Java è°ƒç”¨Javascript è¾“å‡ºHello World!</a></p>
</blockquote>
</li>
<li><p><a href="https://github.com/protocolbuffers/protobuf" target="_blank" rel="noopener"><strong>protobuf</strong></a>  ã€å·²ç»45.1k startå¯è§è¿™ä¸ªåº”ç”¨èŒƒå›´æœ‰å¤šå¹¿ã€‘æ˜¯äºŒè¿›åˆ¶å­˜å‚¨ æ‰€ä»¥æ¯” jsonä¼ è¾“æ›´å¿« æ›´æ˜“äºè·¨å¹³å°å¼€å‘ ä½†æ˜¯è¯»å†™æ›´éº»çƒ¦,è¿™ä¸ªåœ¨Googleå¼€æºçš„æ—¶å€™å°±çŸ¥é“äº†ï¼Œä½†æ˜¯èº«ä¸ºAndroidå¼€å‘æ²¡æœ‰æœºä¼šæ¨è¡Œè¿™ä¸ªæŠ€æœ¯ï¼Œå…ˆè®°å½•ä¸‹æ¥ï¼Œæ¥ä¸€æ®µç½‘ä¸Šçš„æ€§èƒ½æµ‹è¯•ï¼Œæ¿€å‘ä¸€ä¸‹å®è·µå†²åŠ¨</p>
<blockquote>
<p><strong>ç©ºé—´æ•ˆç‡</strong></p>
<p>Json:<strong>107ä¸ªå­—èŠ‚</strong></p>
<p>Protobuf:<strong>32ä¸ªå­—èŠ‚</strong></p>
<p><strong>æ—¶é—´æ•ˆç‡</strong></p>
<p>Jsonåºåˆ—åŒ–: <strong>1ms</strong> , ååºåˆ—åŒ–:<strong>0ms</strong></p>
<p>Protobuf åºåˆ—åŒ–: <strong>0ms</strong> ååºåˆ—åŒ–:<strong>0ms</strong></p>
<p>å°†public List<phone> listå’Œrepeated PhoneInfo phoneInfoList =3;éƒ½èµ‹å€¼ä¸º1000ä¸ªPhoneInfo</phone></p>
<p><strong>ç©ºé—´æ•ˆç‡</strong></p>
<p>Json:<strong>4206ä¸ªå­—èŠ‚</strong></p>
<p>Protobuf:<strong>1332ä¸ªå­—èŠ‚</strong></p>
<p><strong>æ—¶é—´æ•ˆç‡</strong></p>
<p>Jsonåºåˆ—åŒ–: <strong>4ms</strong> , ååºåˆ—åŒ–:<strong>1ms</strong></p>
<p>Protobuf åºåˆ—åŒ–: <strong>1ms</strong> ååºåˆ—åŒ–:<strong>0ms</strong></p>
</blockquote>
<p>å‚è€ƒï¼š<a href="https://blog.csdn.net/yyz_1987/article/details/81146925" target="_blank" rel="noopener">protobufåœ¨java, Androidä¸‹çš„ä½¿ç”¨æ€»ç»“</a></p>
</li>
<li><p><a href="https://github.com/Tencent/wcdb" target="_blank" rel="noopener">wcdb</a> </p>
<blockquote>
<p>WCDBæ˜¯ä¸€ä¸ªé«˜æ•ˆã€å®Œæ•´ã€æ˜“ç”¨çš„ç§»åŠ¨æ•°æ®åº“æ¡†æ¶ï¼ŒåŸºäº<a href="https://github.com/sqlcipher/sqlcipher" target="_blank" rel="noopener">SQLCipher</a>ï¼Œæ”¯æŒiOS, macOSå’ŒAndroidã€‚</p>
</blockquote>
</li>
</ol>
<h2 id="è°ƒè¯•è¿è¥ç»´æŠ¤"><a href="#è°ƒè¯•è¿è¥ç»´æŠ¤" class="headerlink" title="è°ƒè¯•è¿è¥ç»´æŠ¤"></a>è°ƒè¯•è¿è¥ç»´æŠ¤</h2><ol>
<li><p>LDNetDiagnoService_Android </p>
<blockquote>
<p>åˆ©ç”¨pingã€tcp connectå’Œtracerouteçš„åŸç†ï¼Œå¯¹æŒ‡å®šåŸŸåï¼ˆé€šå¸¸ä¸ºåå°APIçš„æä¾›åŸŸåï¼‰è¿›è¡Œç½‘ç»œè¯Šæ–­ï¼Œå¹¶æ”¶é›†è¯Šæ–­æ—¥å¿—</p>
</blockquote>
</li>
<li><p><a href="https://github.com/KeepSafe/dexcount-gradle-plugin" target="_blank" rel="noopener">dexcount-gradle-plugin</a>  Android Studio å¦‚ä½•æŸ¥çœ‹Android Appçš„æ–¹æ³•æ€»æ•°</p>
</li>
<li><p><a href="https://github.com/Tencent/tinker" target="_blank" rel="noopener"><em>tinker</em></a> ä¸å‡ºæ‰€æ–™æ‹¼å¤šå¤šä½¿ç”¨çš„æ˜¯è…¾è®¯çš„tinkerä½œä¸ºçƒ­ä¿®å¤å·¥å…·ï¼Œä½†æ˜¯ä¸çŸ¥é“æ˜¯æˆ‘çš„åŸå› è¿˜æ˜¯æ‰‹æœºçš„åŸå› ï¼Œæˆ‘åœ¨æœ¬å…¬å¸é¡¹ç›®ä¸­ä½¿ç”¨åä¸ºå’Œä¸‰æ˜Ÿæ‰‹æœºéƒ½æ˜¯å‡çº§å¤±è´¥ï¼Œè€Œä¸”è¿˜æœ‰è‡´å‘½çš„ç”Ÿæ•ˆé—®é¢˜æœ‰æ—¶å€™æŠŠåº”ç”¨æ€æ‰3-4æ¬¡æ‰ç”Ÿæ•ˆï¼Œæ¯•ç«Ÿæ”¯æŒUIç›¸å…³çš„èµ„æºæ›´æ–°ï¼Œè¿™ä¸ªé¿å…ä¸äº†æé«˜å¤æ‚çš„åº¦ï¼Œä½¿ç”Ÿäº§ç¯å¢ƒä¸‹å‡çº§æˆåŠŸç‡ä½ã€‚æ•…æˆ‘è¿˜æ˜¯é€‰æ‹©<a href="https://www.jianshu.com/p/f7e079480053" target="_blank" rel="noopener">Androidâ€”â€”Sophixçƒ­ä¿®å¤æ¥å…¥</a> æˆåŠŸç‡é«˜ç‚¹ï¼Œè¯•äº†å‡ æ¬¡éƒ½æˆåŠŸï¼Œç»å¯¹èƒ½è§£å†³è€æ¿å‘ç°bugå¤ºå‘½è¿ç¯callï¼Œæˆ–è€…è‡´å‘½bugä¸–ç•Œæœ«æ—¥</p>
<blockquote>
<p>ã€ç”»é‡ç‚¹Â·ç»éªŒä¹‹è°ˆã€‘åœ¨ä¸€äº›æ ¸å¿ƒçš„åŠŸèƒ½ä¸Šå°½é‡è€ƒè™‘å……åˆ†å„ç§æƒ…å†µï¼Œæœ‰æ¡ä»¶å¿…é¡»å‡†å¤‡plan Bï¼Œåœ¨ä¸ç”Ÿæ•ˆçš„æƒ…å†µä¸‹èƒ½æ•‘ä½ ä¸€å‘½ï¼Œo(â•¥ï¹â•¥)oã€‚ğŸ˜</p>
</blockquote>
</li>
</ol>
<h2 id="UIå¸ƒå±€ç›¸å…³"><a href="#UIå¸ƒå±€ç›¸å…³" class="headerlink" title="UIå¸ƒå±€ç›¸å…³"></a>UIå¸ƒå±€ç›¸å…³</h2><ol>
<li><p><a href="https://github.com/airbnb/lottie-android" target="_blank" rel="noopener">lottie-android</a> airbnb json æ–‡ä»¶è½¬æ¢æˆåŠ¨æ€å›¾ç‰‡çš„åº“</p>
</li>
<li><p><a href="https://github.com/alibaba/Virtualview-Android" target="_blank" rel="noopener">Virtualview-Android</a> åŒ…åcom.tmall.wireless.virtualview å¤©çŒ«ä¹Ÿå°±æ˜¯é˜¿é‡Œå¼€æºçš„åº“ï¼Œæƒ³ä¸åˆ°è¿™ä¸¤ä¸ªåŠ²æ•Œåœ¨è¿™é‡Œåˆä½œäº†ï¼ŒO(âˆ©_âˆ©)Oå“ˆå“ˆ~</p>
<blockquote>
<p>ä¸»è¦åŠŸèƒ½ï¼šAndroid å’Œ IOSéƒ½æ”¯æŒï¼ŒåŠ¨æ€ä¸‹å‘XMLæ¨¡æ¿æ•°æ®åŠ¨æ€åˆ·æ–°UI</p>
<p>å®˜æ–¹æè¿°ï¼š</p>
<ul>
<li>ä¸€ä»½æ¨¡æ¿ï¼Œä¸¤ç«¯æ”¯æŒã€‚</li>
<li>æä¾›åŸºç¡€çš„åŸå­æ§ä»¶ä¸å®¹å™¨æ§ä»¶ï¼Œæ”¯æŒåŠ å…¥è‡ªå®šä¹‰ç»„ä»¶ã€‚</li>
<li>æ”¯æŒä¸€ç§è™šæ‹ŸåŒ–å®ç°æ§ä»¶çš„åè®®ï¼Œåœ¨æ¨¡æ¿é‡Œæ··åˆä½¿ç”¨è™šæ‹Ÿæ§ä»¶å’Œå®ä½“æ§ä»¶ã€‚</li>
<li>æ”¯æŒåœ¨æ¨¡æ¿é‡Œç¼–å†™æ•°æ®ç»‘å®šçš„è¡¨è¾¾å¼ã€‚</li>
<li>æ”¯æŒåœ¨æ¨¡æ¿é‡Œå†™äº‹ä»¶è§¦å‘çš„é€»è¾‘è¡¨è¾¾å¼ã€‚</li>
<li>æä¾›é…å¥—çš„å¼€å‘å·¥å…·ï¼Œè¾…åŠ©æ¨¡æ¿å¼€å‘å·¥å…·ã€‚</li>
</ul>
</blockquote>
</li>
<li><p><strong><a href="https://github.com/alibaba/vlayout" target="_blank" rel="noopener"> vlayout</a></strong> åˆä¸€ä¸ªé˜¿é‡Œå¼€æºçš„åº“</p>
</li>
<li><p><a href="https://github.com/vinc3m1/RoundedImageView" target="_blank" rel="noopener">RoundedImageView</a><br><img src="https://cdn.linz.tech/roundImageView.png" alt=""></p>
</li>
<li><p><a href="https://github.com/google/flexbox-layout" target="_blank" rel="noopener">flexbox-layout</a> </p>
<blockquote>
<p>FlexboxLayout is a library project which brings the similar capabilities of <a href="https://www.w3.org/TR/css-flexbox-1" target="_blank" rel="noopener">CSS Flexible Box Layout Module</a> to Android.</p>
</blockquote>
</li>
</ol>
<h2 id="å¸¸ç”¨ç¬¬ä¸‰æ–¹SDK"><a href="#å¸¸ç”¨ç¬¬ä¸‰æ–¹SDK" class="headerlink" title="å¸¸ç”¨ç¬¬ä¸‰æ–¹SDK"></a>å¸¸ç”¨ç¬¬ä¸‰æ–¹SDK</h2><ol>
<li><p>QQ/å¾®ä¿¡/æ”¯ä»˜å®æ”¯ä»˜</p>
</li>
<li><p><a href="https://wiki.open.qq.com/wiki/mobile/Android_SDK%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E#1._Andriod_SDK.E7.AE.80.E4.BB.8B" target="_blank" rel="noopener">è…¾è®¯å¼€å‘å¹³å° Android_SDK</a></p>
<blockquote>
<p>Android SDKä»¥JaråŒ…å½¢å¼æä¾›ï¼Œå°è£…äº†QQç™»å½•çš„ç™»å½•æˆæƒä»¥åŠå¤§éƒ¨åˆ†OpenAPIåŠç¤¾äº¤æ¸ é“çš„åˆ†äº«ã€é‚€è¯·ã€è¯·æ±‚ç¤¼ç‰©ã€æŒ‘æˆ˜ç‚«è€€ã€è¯­éŸ³ã€åº”ç”¨è¯„ä»·ã€å¥½å‹å¬å›ã€è·å–é™„è¿‘çš„äººAPIï¼Œç§»åŠ¨åº”ç”¨åªéœ€è¦ä¿®æ”¹å°‘é‡ä»£ç ï¼Œå³å¯å¿«é€Ÿå®ç°QQç™»å½•åŠŸèƒ½ï¼Œå¹¶å¯è°ƒç”¨å¹³å° æä¾›çš„OpenAPIåŠç¤¾äº¤æ¸ é“APIçš„åŠŸèƒ½ã€‚<br>ä¸»è¦æä¾›çš„åŠŸèƒ½æ¥å£æœ‰ï¼šç™»å½•ã€æ³¨é”€ã€é‚€è¯·å¥½å‹ã€åº”ç”¨åˆ†äº«ã€è·å–ç”¨æˆ·ä¿¡æ¯ã€è·å–ç”¨æˆ·ç›¸å†Œåˆ—è¡¨ã€å‘é€åˆ†äº«ã€å‘è¡¨è¯´è¯´ã€ä¸Šä¼ å›¾ç‰‡ã€åˆ›å»ºç›¸å†Œã€è®¾ç½®QQå¤´åƒã€å¢é‡æˆæƒã€åˆ†äº«æ¶ˆæ¯ç»™QQå¥½å‹ã€å‘é€å¸¦å›¾å¾®åšå‘é€è¯·æ±‚ã€èµ é€ç¤¼ç‰©ã€å‘é€æŒ‘æˆ˜ã€ç‚«è€€ç­‰åŠŸèƒ½ï¼ŒAndriod_SDK_V2.1æ–°å¢äº†å¥½å‹å¬å›ï¼Œè·å–é™„è¿‘ä¹Ÿåœ¨ç©è¯¥åº”ç”¨çš„äººç­‰æ–°åŠŸèƒ½ã€‚å…·ä½“ä¿®æ”¹å¯å‚è€ƒã€Šæ¥å£è°ƒç”¨è¯´æ˜ã€‹æ–‡æ¡£ã€‚</p>
</blockquote>
</li>
<li><p>ã€æ¨é€ã€‘å°ç±³æ¨é€/hentap(OPPO)æ¨é€/vivoæ¨é€/é­…æ—æ¨é€/<a href="https://www.cnblogs.com/zt007/p/6222160.html" target="_blank" rel="noopener"><strong>è…¾è®¯ä¿¡é¸½æ¨é€</strong></a></p>
</li>
<li><p>wechat-sdk-android-without-mta:+ æ˜¯å¾®ä¿¡æä¾›ç»™ç¬¬ä¸‰æ–¹sdkï¼ˆæ”¯ä»˜ã€ç™»å½•å’Œåˆ†äº«ç­‰ï¼‰</p>
</li>
<li><p><a href="https://cloud.tencent.com/product/mta" target="_blank" rel="noopener">è…¾è®¯ç§»åŠ¨åˆ†æ MTA æ¥å…¥æ–‡æ¡£</a> æ²¡ç”¨è¿‡ï¼Œä½†æ˜¯buglyä¸Šé¢æœ‰æä¾›ç›¸è¯†çš„åŠŸèƒ½</p>
<blockquote>
<p>è…¾è®¯ç§»åŠ¨åˆ†ææœ‰ä¸“ä¸šçš„ç§»åŠ¨åº”ç”¨æ•°æ®åˆ†æèƒ½åŠ›ï¼Œä¸ºæ‚¨çš„åº”ç”¨æä¾›å®æ—¶æ•°æ®ç»Ÿè®¡åˆ†ææœåŠ¡ï¼Œç›‘æ§ç‰ˆæœ¬è´¨é‡ã€æ¸ é“çŠ¶å†µã€ç”¨æˆ·ç”»åƒå±æ€§åŠç”¨æˆ·ç»†åˆ†è¡Œä¸ºï¼Œé€šè¿‡æ•°æ®å¯è§†åŒ–å±•ç°ï¼ŒååŠ©äº§å“è¿è¥å†³ç­–ã€‚</p>
</blockquote>
</li>
<li><p><a href="https://x5.tencent.com/tbs/guide/sdkInit.html" target="_blank" rel="noopener">TBSè…¾è®¯X5æµè§ˆå™¨SDK æ¥å…¥æ–‡æ¡£</a></p>
<blockquote>
<p>å®˜æ–¹ã€è‡ªå–è‡ªå¤¸ã€‘å¤§å°250kå®Œå…¨å¯æ¥å—</p>
<p>1) é€Ÿåº¦å¿«ï¼šç›¸æ¯”ç³»ç»Ÿwebviewçš„ç½‘é¡µæ‰“å¼€é€Ÿåº¦æœ‰30+%çš„æå‡ï¼›</p>
<p>2) çœæµé‡ï¼šä½¿ç”¨äº‘ç«¯ä¼˜åŒ–æŠ€æœ¯ä½¿æµé‡èŠ‚çœ20+%ï¼›</p>
<p>3) æ›´å®‰å…¨ï¼šå®‰å…¨é—®é¢˜å¯ä»¥åœ¨24å°æ—¶å†…ä¿®å¤ï¼›</p>
<p>4) æ›´ç¨³å®šï¼šç»è¿‡äº¿çº§ç”¨æˆ·çš„ä½¿ç”¨è€ƒéªŒï¼ŒCRASHç‡ä½äº0.15%ï¼›</p>
<p>5) å…¼å®¹å¥½ï¼šæ— ç³»ç»Ÿå†…æ ¸çš„ç¢ç‰‡åŒ–é—®é¢˜ï¼Œæ›´å°‘çš„å…¼å®¹æ€§é—®é¢˜ï¼›</p>
<p>6) ä½“éªŒä¼˜ï¼šæ”¯æŒå¤œé—´æ¨¡å¼ã€é€‚å±æ’ç‰ˆã€å­—ä½“è®¾ç½®ç­‰æµè§ˆå¢å¼ºåŠŸèƒ½ï¼›</p>
<p>7) åŠŸèƒ½å…¨ï¼šåœ¨Html5ã€ES6ä¸Šæœ‰æ›´å®Œæ•´æ”¯æŒï¼›</p>
<p>8) æ›´å¼ºå¤§ï¼šé›†æˆå¼ºå¤§çš„è§†é¢‘æ’­æ”¾å™¨ï¼Œæ”¯æŒè§†é¢‘æ ¼å¼è¿œå¤šäºç³»ç»Ÿwebviewï¼›</p>
<p>9) è§†é¢‘å’Œæ–‡ä»¶æ ¼å¼çš„æ”¯æŒx5å†…æ ¸å¤šäºç³»ç»Ÿå†…æ ¸</p>
<p>10) é˜²åŠ«æŒæ˜¯x5å†…æ ¸çš„ä¸€å¤§äº®ç‚¹</p>
</blockquote>
</li>
<li><p><a href="https://github.com/Tencent/mars" target="_blank" rel="noopener">Github Mars</a><br><a href="https://github.com/Tencent/mars/wiki/Mars-Android-%E6%8E%A5%E5%85%A5%E6%8C%87%E5%8D%97" target="_blank" rel="noopener">å®˜ç½‘ Mars Android æ¥å…¥æŒ‡å—</a></p>
<blockquote>
<p>ã€å®˜æ–¹è¯´æ˜ã€‘è·¨å¹³å°</p>
<ul>
<li>commï¼šå¯ä»¥ç‹¬ç«‹ä½¿ç”¨çš„å…¬å…±åº“ï¼ŒåŒ…æ‹¬ socketã€çº¿ç¨‹ã€æ¶ˆæ¯é˜Ÿåˆ—ã€åç¨‹ç­‰ï¼›</li>
<li>xlogï¼šé«˜å¯é æ€§é«˜æ€§èƒ½çš„è¿è¡ŒæœŸæ—¥å¿—ç»„ä»¶ï¼›</li>
<li>SDTï¼š ç½‘ç»œè¯Šæ–­ç»„ä»¶ï¼›</li>
<li>STNï¼š ä¿¡ä»¤åˆ†å‘ç½‘ç»œæ¨¡å—ï¼Œä¹Ÿæ˜¯ Mars æœ€ä¸»è¦çš„éƒ¨åˆ†ã€‚</li>
</ul>
</blockquote>
</li>
<li><p>facebook SDK æ„Ÿè§‰è¿™ä¸ªåŠŸèƒ½åº”è¯¥æä¾›ç»™åœ¨ä¸­å›½çš„å¤–å›½äººä½¿ç”¨çš„ï¼Œå¤§å‚å°±æ˜¯è€ƒè™‘å‘¨å…¨ğŸ‘</p>
</li>
</ol>
<h3 id="åä¸ºSDK"><a href="#åä¸ºSDK" class="headerlink" title="åä¸ºSDK"></a>åä¸ºSDK</h3><blockquote>
<p>ç‰¹æ„å•ç‹¬åˆ—å‡ºåä¸ºSDKè¿™ä¹ˆå¤šå¹´å­¦Androidï¼Œä¸€ç›´æ²¡æœ‰è§‰å¾—åä¸ºåœ¨Androidè½¯ä»¶é¢†åŸŸæœ‰å’Œé˜¿é‡Œè…¾è®¯çš„å½±å“åŠ›ï¼Œè¿™æ¬¡å­¦åˆ°äº†ï¼Œè€Œä¸”åä¸ºå¼€æºçš„ä¸€ä¸‹SDKéƒ½æ˜¯å¾ˆæœ‰æ·±åº¦çš„ï¼Œè¿™é‡Œå¿…é¡»ğŸ‘ğŸ‘ï¼ˆç‚¹èµä¸‰è¿ï¼‰</p>
</blockquote>
<ol>
<li><p>åä¸ºæ¨é€ <a href="https://links.jianshu.com/go?to=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fservice%2Fhms%2Fcatalog%2Fhuaweipush.html%3Fpage%3Dhmssdk_huaweipush_devprepare%233%20%E9%9B%86%E6%88%90SDK" target="_blank" rel="noopener">åä¸ºå¼€å‘è€…è”ç›Ÿ&gt;HMS&gt;èµ„æºä¸­å¿ƒ&gt;æ¶ˆæ¯æ¨é€æœåŠ¡&gt;é›†æˆSDK</a></p>
</li>
<li><p><a href="https://developer.huawei.com/consumer/cn/doc/development/huaweihealth-Guides/introduction-0000001051004855" target="_blank" rel="noopener">HUAWEI HiHealth </a></p>
<blockquote>
<p>HUAWEI HiHealth å¼€æ”¾åä¸ºåœ¨è¿åŠ¨å¥åº·é¢†åŸŸçš„ä¸“ä¸šèƒ½åŠ›ï¼Œä¸ºå¼€å‘è€…æä¾›äº†ä¸€ä¸ªæ•°æ®æ¥å…¥å’ŒæœåŠ¡æ±‡èšçš„å¼€æ”¾å¹³å°ï¼Œæ»¡è¶³å„è¡Œå„ä¸šçš„åˆä½œä¼™ä¼´åœ¨è¿åŠ¨å¥åº·æ–¹é¢çš„éœ€æ±‚åœºæ™¯ã€‚</p>
<p><a href="https://developer.huawei.com/consumer/cn/doc/#ZH-CN_TOPIC_0000001050060843__section1569462419384" target="_blank" rel="noopener">åœºæ™¯ä¸€ï¼šæ•°æ®è·å–åœºæ™¯</a></p>
<p><a href="https://developer.huawei.com/consumer/cn/doc/#ZH-CN_TOPIC_0000001050060843__section86051845123819" target="_blank" rel="noopener">åœºæ™¯äºŒï¼šæ•°æ®å†™å…¥åœºæ™¯</a></p>
</blockquote>
</li>
<li><p>HiAI</p>
<blockquote>
</blockquote>
</li>
</ol>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><ol>
<li><p><a href="https://github.com/AlbieLiang/IPCInvoker" target="_blank" rel="noopener">IPCInvoker</a> start ä¸ªæ•°ä¸å¤šè€Œä¸”æ˜¯ä¸ªäººç»´æŠ¤ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯æ‹¼å¤šå¤šåˆæœŸæ²¿ç”¨è‡³ä»Šçš„ã€‚ IPCé€šä¿¡å»ºè®®ä½¿ç”¨çˆ±å¥‡è‰ºå¼€æºç»´æŠ¤çš„<a href="https://github.com/iqiyi/Andromeda" target="_blank" rel="noopener">Andromeda</a> ä½¿ç”¨ç›¸å¯¹ç®€å•</p>
<blockquote>
<p><strong>åŸºäºServiceçš„IPCé€šä¿¡</strong></p>
<p>IPCInvokerå°±æ˜¯ä¸€ä¸ªç”¨æ¥ç®€åŒ–è·¨è¿›ç¨‹è°ƒç”¨çš„ç»„ä»¶ï¼ŒIPCInvokeråº•å±‚ä¹Ÿæ˜¯é€šè¿‡AIDLå®ç°çš„ï¼Œåªæ˜¯æŠŠæ¥å£å°è£…å¾—æ›´åŠ å®¹æ˜“ä½¿ç”¨</p>
</blockquote>
</li>
</ol>
<h1 id="å­¦ä¹ è¿‡ç¨‹å¶é‡"><a href="#å­¦ä¹ è¿‡ç¨‹å¶é‡" class="headerlink" title="å­¦ä¹ è¿‡ç¨‹å¶é‡"></a>å­¦ä¹ è¿‡ç¨‹å¶é‡</h1><h2 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h2><ol>
<li><a href="https://github.com/zhengcx/MethodTraceMan" target="_blank" rel="noopener">MethodTraceMan</a></li>
</ol>
<blockquote>
<p>ç”¨äºå¿«é€Ÿæ‰¾åˆ°é«˜è€—æ—¶æ–¹æ³•ï¼Œå®šä½è§£å†³Android Appå¡é¡¿é—®é¢˜ã€‚é€šè¿‡gradle plugin+ASMå®ç°å¯é…ç½®èŒƒå›´çš„æ–¹æ³•æ’æ¡©æ¥ç»Ÿè®¡æ‰€æœ‰æ–¹æ³•çš„è€—æ—¶ï¼Œå¹¶åœ¨æµè§ˆå™¨æä¾›å‹å¥½çš„ç•Œé¢å±•ç¤ºï¼Œæ”¯æŒè€—æ—¶ç­›é€‰ã€çº¿ç¨‹ç­›é€‰ã€æ–¹æ³•åç­›é€‰ç­‰ã€‚</p>
</blockquote>
<h2 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h2><ol>
<li>HMS Scankit <a href="https://blog.csdn.net/winisit86/article/details/104807678" target="_blank" rel="noopener">è¶…ç®€å•é›†æˆåä¸ºHMS Scankitæ‰«ç æœåŠ¡å®ç°æ‰«ä¸€æ‰«äºŒç»´ç </a> æ¯”zingè¯†åˆ«ç‡æ</li>
</ol>
<h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h1><ul>
<li><p><a href="https://developer.huawei.com/consumer/cn/doc/start/services-provided-by-huawei-developer-0000001053288028" target="_blank" rel="noopener">åä¸ºè”ç›Ÿå¼€æ”¾çš„æœåŠ¡ä¸€è§ˆè¡¨</a> ã€é‡ç‚¹ç ”ç©¶ã€‘å¾ˆå¤šæœ‰è¶£çš„å†…å®¹ï¼Œå¯ä»¥ç ”ç©¶åˆ·ä¸€é</p>
</li>
<li><p><a href="https://blog.csdn.net/whumr1/article/details/81176494" target="_blank" rel="noopener">é›¶åŸºç¡€å¼€å‘AIåº”ç”¨â€“åä¸ºHiAIçš„åº”ç”¨</a></p>
</li>
<li><p><a href="https://blog.csdn.net/DevEco" target="_blank" rel="noopener">CSDN å®˜ç½‘ DevEco</a> åä¸ºåœ¨CSDNçš„ä¸€ä¸ªå®˜æ–¹åšå®¢ï¼Œæä¾›äº†ä¸€ä¸‹æ¯”è¾ƒè¯¦ç»†çš„æ•™ç¨‹</p>
</li>
</ul>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Android å¸¸ç”¨å¼€æºåº“</title>
    <url>/2020/12/03/2018-4-14-android-open-source-tools/</url>
    <content><![CDATA[<h2 id="æ­£åœ¨ç ”ç©¶"><a href="#æ­£åœ¨ç ”ç©¶" class="headerlink" title="æ­£åœ¨ç ”ç©¶"></a>æ­£åœ¨ç ”ç©¶</h2><hr>
<ul>
<li><strong><a href="https://github.com/albert-lii/SUtils" target="_blank" rel="noopener">SUtils</a></strong> å°è£…æœ‰è®¸å¤šå®ç”¨çš„å¼€å‘å·¥å…·ç±»</li>
<li><strong><a href="https://github.com/jaredrummler/APKParser" target="_blank" rel="noopener">APKParser</a></strong></li>
<li><strong><a href="https://github.com/johncarl81/parceler" target="_blank" rel="noopener">parceler</a></strong>é€šè¿‡æ³¨è§£çš„æ–¹å¼åºåˆ—åŒ–å¯¹è±¡<br><a href="http://androidtransfuse.org/" target="_blank" rel="noopener">more: Transfuse</a> Transfuse is a Java Dependency Injection (DI) and integration library geared specifically for the Google Android API.</li>
</ul>
<h2 id="æ•°æ®æŒä¹…åŒ–"><a href="#æ•°æ®æŒä¹…åŒ–" class="headerlink" title="æ•°æ®æŒä¹…åŒ–"></a>æ•°æ®æŒä¹…åŒ–</h2><hr>
<ul>
<li><a href="https://github.com/skydoves/Awesome-Android-Persistence" target="_blank" rel="noopener">Awesome-Android-Persistence</a> æ•°æ®æŒä¹…åŒ–ä¼˜ç§€çš„å¼€æºåº“åˆ—è¡¨ ã€é‡ç‚¹ã€‘</li>
<li><strong><a href="https://github.com/jgilfelt/android-sqlite-asset-helper" target="_blank" rel="noopener">android-sqlite-asset-helper</a></strong></li>
</ul>
<h2 id="æ•°æ®å¤„ç†"><a href="#æ•°æ®å¤„ç†" class="headerlink" title="æ•°æ®å¤„ç†"></a>æ•°æ®å¤„ç†</h2><hr>
<ul>
<li><a href="https://github.com/promeG/TinyPinyin" target="_blank" rel="noopener">æ±‰å­—è½¬æ‹¼éŸ³åº“</a>  ç”¨äºå¯¹äººåè¿›è¡Œæ’åº</li>
</ul>
<h3 id="Gson"><a href="#Gson" class="headerlink" title="Gson"></a><a href="https://github.com/google/gson" target="_blank" rel="noopener">Gson</a></h3><p>å¯¼å…¥</p>
<pre class="line-numbers language-gradle"><code class="language-gradle">dependencies {
    implementation 'com.google.code.gson:gson:2.8.4'
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h4 id="åºåˆ—åŒ–-ååºåˆ—åŒ–"><a href="#åºåˆ—åŒ–-ååºåˆ—åŒ–" class="headerlink" title="åºåˆ—åŒ–/ååºåˆ—åŒ–"></a>åºåˆ—åŒ–/ååºåˆ—åŒ–</h4><p>Array&lt;=&gt; json</p>
<pre class="line-numbers language-java"><code class="language-java">String namesJson <span class="token operator">=</span> <span class="token string">"['xiaoqiang','chenrenxiang','hahaha']"</span><span class="token punctuation">;</span>
Gson gson <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
String<span class="token punctuation">[</span><span class="token punctuation">]</span> nameArray <span class="token operator">=</span> gson<span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>namesJson<span class="token punctuation">,</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>json =&gt; list</p>
<pre class="line-numbers language-java"><code class="language-java">String userJson <span class="token operator">=</span> <span class="token string">"[{'isDeveloper':false,'name':'xiaoqiang','age':26,'email':'578570174@qq.com'},{'isDeveloper':true,'name':'xiaoqiang123','age':27,'email':'578570174@gmail.com'}]"</span><span class="token punctuation">;</span>

Gson gson <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Type userListType <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TypeToken</span><span class="token operator">&lt;</span>ArrayList<span class="token operator">&lt;</span>User<span class="token operator">>></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

List<span class="token operator">&lt;</span>User<span class="token operator">></span> userList <span class="token operator">=</span> gson<span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>userJson<span class="token punctuation">,</span> userListType<span class="token punctuation">)</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="æ§åˆ¶åºåˆ—åŒ–-ååºåˆ—åŒ–çš„å˜é‡åç§°"><a href="#æ§åˆ¶åºåˆ—åŒ–-ååºåˆ—åŒ–çš„å˜é‡åç§°" class="headerlink" title="æ§åˆ¶åºåˆ—åŒ–/ååºåˆ—åŒ–çš„å˜é‡åç§°"></a>æ§åˆ¶åºåˆ—åŒ–/ååºåˆ—åŒ–çš„å˜é‡åç§°</h5><pre class="line-numbers language-java"><code class="language-java">
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>  
    <span class="token annotation punctuation">@Expose</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    String name<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å‚ä¸åºåˆ—åŒ–/ååºåˆ—åŒ–</span>

    <span class="token annotation punctuation">@Expose</span><span class="token punctuation">(</span>serialize <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> deserialize <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    String email<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ä¸å‚ä¸åºåˆ—åŒ–ï¼Œä¹Ÿä¸å‚ä¸ååºåˆ—åŒ–</span>

    <span class="token annotation punctuation">@Expose</span><span class="token punctuation">(</span>serialize <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">int</span> age<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// åªå‚ä¸ååºåˆ—åŒ–</span>

    <span class="token annotation punctuation">@Expose</span><span class="token punctuation">(</span>deserialize <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">boolean</span> isDeveloper<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// åªå‚ä¸åºåˆ—åŒ–</span>
      <span class="token annotation punctuation">@SerializedName</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"name"</span><span class="token punctuation">,</span> alternate <span class="token operator">=</span> <span class="token string">"fullName"</span><span class="token punctuation">)</span>
      String userName <span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><font color="red"> æ³¨æ„ï¼šä½¿ç”¨ä»¥ä¸Šå¿…é¡»ä½¿ç”¨å¦‚ä¸‹</font></p>
<pre class="line-numbers language-java"><code class="language-java">GsonBuilder builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GsonBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
builder<span class="token punctuation">.</span><span class="token function">excludeFieldsWithoutExposeAnnotation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
Gson gson <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h5 id="å­—æ®µå€¼ä¸º-null-æ—¶æ˜¯å¦åºåˆ—åŒ–"><a href="#å­—æ®µå€¼ä¸º-null-æ—¶æ˜¯å¦åºåˆ—åŒ–" class="headerlink" title="å­—æ®µå€¼ä¸º null æ—¶æ˜¯å¦åºåˆ—åŒ–"></a>å­—æ®µå€¼ä¸º null æ—¶æ˜¯å¦åºåˆ—åŒ–</h5><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**
 * Person å®ä½“ä¸€å…±4ä¸ªå­—æ®µï¼šInteger pIdã€String pNameã€Date birthdayã€Boolean isMarry
 * ç°åœ¨å®ƒçš„å±æ€§å…¨éƒ¨ä¸è¿›è¡Œèµ‹å€¼
 */</span>
Person person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/** ä¸å¯¹å±æ€§å€¼ä¸º null çš„å­—æ®µè¿›è¡Œåºåˆ—åŒ–ï¼Œè½¬æ¢ç»“æœä¼šä¸ºç©º*/</span>
String personStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/** å¯¹å±æ€§å€¼ä¸º null çš„å­—æ®µè¿›è¡Œåºåˆ—åŒ–*/</span>
String personStrFinal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GsonBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">serializeNulls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>

System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>personStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//è¾“å‡ºï¼š{}</span>
System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>personStrFinal<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="TypeAdapter"><a href="#TypeAdapter" class="headerlink" title="TypeAdapter"></a>TypeAdapter</h5><p><a href="https://www.jianshu.com/p/8cc857583ff4" target="_blank" rel="noopener">Gsonå…¨è§£æï¼ˆä¸­ï¼‰-TypeAdapterçš„ä½¿ç”¨</a></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">final</span> GsonBuilder gsonBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GsonBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gsonBuilder<span class="token punctuation">.</span><span class="token function">registerTypeAdapter</span><span class="token punctuation">(</span>Book<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BookTypeAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> Gson gson <span class="token operator">=</span> gsonBuilder<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**
 * Integer è½¬æ¢ é˜²æ­¢ åå°è¿”å›null è½¬æ¢å¼‚å¸¸
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IntegerDefaultAdapter</span> <span class="token keyword">extends</span> <span class="token class-name">TypeAdapter</span><span class="token operator">&lt;</span>Integer<span class="token operator">></span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">write</span><span class="token punctuation">(</span>JsonWriter jsonWriter<span class="token punctuation">,</span> Integer integer<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>
        jsonWriter<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> Integer <span class="token function">read</span><span class="token punctuation">(</span>JsonReader jsonReader<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>jsonReader<span class="token punctuation">.</span><span class="token function">nextString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NumberFormatException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/**
 * String è½¬æ¢ é˜²æ­¢ åå°è¿”å›null è½¬æ¢å¼‚å¸¸
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StringDefaultAdapter</span> <span class="token keyword">extends</span> <span class="token class-name">TypeAdapter</span><span class="token operator">&lt;</span>String<span class="token operator">></span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">write</span><span class="token punctuation">(</span>JsonWriter jsonWriter<span class="token punctuation">,</span> String s<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>
        jsonWriter<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> String <span class="token function">read</span><span class="token punctuation">(</span>JsonReader jsonReader<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>jsonReader<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> JsonToken<span class="token punctuation">.</span>NULL<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            jsonReader<span class="token punctuation">.</span><span class="token function">nextNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> jsonReader<span class="token punctuation">.</span><span class="token function">nextString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="ç›´æ¥æ“ä½œJSON"><a href="#ç›´æ¥æ“ä½œJSON" class="headerlink" title="ç›´æ¥æ“ä½œJSON"></a>ç›´æ¥æ“ä½œJSON</h4><p><font color="red">ã€é‡ç‚¹ã€‘</font>æ–¹æ³•æ ¹æ®ä¸åŒJsonç±»å‹è¿›è¡Œè§£æ</p>
<pre class="line-numbers language-java"><code class="language-java"> parse<span class="token punctuation">.</span><span class="token function">isJsonArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 parse<span class="token punctuation">.</span><span class="token function">isJsonNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 parse<span class="token punctuation">.</span><span class="token function">isJsonObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 parse<span class="token punctuation">.</span><span class="token function">isJsonPrimitive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¸¸ç”¨æ“ä½œJsonObject</p>
<pre class="line-numbers language-java"><code class="language-java">  String jsonStr <span class="token operator">=</span> <span class="token string">"{\"pId\":9527,\"pName\":\"åå®‰\",\"birthday\":\"Nov 23, 2018 1:50:56 PM\",\"isMarry\":true}"</span><span class="token punctuation">;</span>

JsonParser jsonParser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JsonParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/**
* JsonElement parse(String json)
* å¦‚æœè¢«è§£æçš„å­—ç¬¦ä¸²ä¸ç¬¦åˆ json æ ¼å¼ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸
* */</span>
JsonObject jsonObject <span class="token operator">=</span> jsonParser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAsJsonObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
* JsonElement get(String memberName)
* æ³¨æ„ï¼šå¦‚æœ get çš„ key ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› nullï¼Œå¦‚æœä¸åŠ åˆ¤æ–­è€Œè¿›è¡Œå–å€¼çš„è¯ï¼Œä¼šæŠ›ï¼šjava.lang.NullPointerException
* */</span>
Integer pId <span class="token operator">=</span> jsonObject<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"pId"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAsInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>JsonArray</p>
<pre class="line-numbers language-java"><code class="language-java">String jsonArrayStr <span class="token operator">=</span> <span class="token string">"[{\"pId\":9527,\"pName\":\"åå®‰\",\"isMarry\":true},{\"pId\":8866,\"pName\":\"å®ç‹\",\"isMarry\":false}]"</span><span class="token punctuation">;</span>
JsonParser jsonParser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JsonParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
JsonArray jsonArray <span class="token operator">=</span> jsonParser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonArrayStr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAsJsonArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>æ„å»ºJSON</p>
<pre class="line-numbers language-java"><code class="language-java">JsonObject jsonObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JsonObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jsonObject<span class="token punctuation">.</span><span class="token function">addProperty</span><span class="token punctuation">(</span><span class="token string">"pId"</span><span class="token punctuation">,</span> <span class="token number">9527</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jsonObject<span class="token punctuation">.</span><span class="token function">addProperty</span><span class="token punctuation">(</span><span class="token string">"pName"</span><span class="token punctuation">,</span> <span class="token string">"åå®‰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jsonObject<span class="token punctuation">.</span><span class="token function">addProperty</span><span class="token punctuation">(</span><span class="token string">"isMarry"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//JsonObject æ·»åŠ å¤æ‚ç±»å‹å±æ€§ä½¿ç”¨ </span>
<span class="token comment" spellcheck="true">//add(String property, JsonElement value)</span>
<span class="token comment" spellcheck="true">//JsonObject ä¸ JsonArray éƒ½æ˜¯ JsonElement ç±»çš„å­ç±»</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="æ„å»ºå·¥å…·"><a href="#æ„å»ºå·¥å…·" class="headerlink" title="æ„å»ºå·¥å…·"></a>æ„å»ºå·¥å…·</h2><hr>
<p><strong><a href="https://github.com/seven456/MultiChannelPackageTool" target="_blank" rel="noopener">MultiChannelPackageTool</a></strong> å¿«é€Ÿå¤šæ¸ é“æ‰“åŒ…å·¥å…·ã€‚</p>
<h2 id="å¼€å‘ä¸­å®ç”¨çš„å·¥å…·"><a href="#å¼€å‘ä¸­å®ç”¨çš„å·¥å…·" class="headerlink" title="å¼€å‘ä¸­å®ç”¨çš„å·¥å…·"></a>å¼€å‘ä¸­å®ç”¨çš„å·¥å…·</h2><hr>
<ul>
<li><strong><a href="https://github.com/izacus/RoboGif" target="_blank" rel="noopener">RoboGif</a></strong>  A small utility to record Android device screen to a GIF</li>
<li><a href="https://github.com/venshine/AppUninstall" target="_blank" rel="noopener">AppUninstall Android Appç›‘å¬è‡ªèº«å¸è½½ï¼Œåé¦ˆç»Ÿè®¡</a></li>
<li><a href="https://github.com/ljuns/LogCollector" target="_blank" rel="noopener">LogCollector</a> ä¸€ä¸ªæ”¶é›† app è¾“å‡ºæ—¥å¿—çš„å·¥å…·</li>
</ul>
<h2 id="UI"><a href="#UI" class="headerlink" title="UI"></a>UI</h2><hr>
<ul>
<li><strong><a href="https://github.com/romannurik/AndroidDesignPreview" target="_blank" rel="noopener">AndroidDesignPreview</a></strong></li>
<li><a href="https://github.com/romannurik/AndroidAssetStudio" target="_blank" rel="noopener">AndroidAssetStudio</a> Androidå¸¸ç”¨å›¾æ ‡ç”ŸæˆWeb</li>
<li><a href="http://bigertech.com/post/assistor-ps-1/" target="_blank" rel="noopener">åˆ‡å›¾æ ‡è®°å¤–æŒ‚ç¥å™¨ Assistor PS ä»‹ç»</a></li>
<li><a href="https://github.com/JcMinarro/Philology" target="_blank" rel="noopener">åŠ¨æ€ä¿®æ”¹Appå­—ç¬¦å¼€æºåº“ Philology</a></li>
</ul>
<h3 id="ä¸»é¢˜"><a href="#ä¸»é¢˜" class="headerlink" title="ä¸»é¢˜"></a>ä¸»é¢˜</h3><ul>
<li><a href="https://github.com/jaredrummler/Cyanea" target="_blank" rel="noopener">Cyanea</a><br><img src="https://camo.githubusercontent.com/b0cdc1242d8170b8184ef2a92d8afd5af4152563/68747470733a2f2f692e696d6775722e636f6d2f706a44456a576c2e676966" alt=""></li>
</ul>
<h3 id="æ˜¾ç¤ºæ•ˆæœ"><a href="#æ˜¾ç¤ºæ•ˆæœ" class="headerlink" title="æ˜¾ç¤ºæ•ˆæœ"></a>æ˜¾ç¤ºæ•ˆæœ</h3><ul>
<li>é—ªå…‰ Shimmer<ul>
<li><a href="https://github.com/mike14u/shimmer-recyclerview-x" target="_blank" rel="noopener">shimmer-recyclerview-x</a> é—ªå…‰list<br><img src="https://raw.githubusercontent.com/mike14u/shimmer-recyclerview-x/master/screenshots/second_list_demo.gif" alt=""></li>
</ul>
</li>
</ul>
<h4 id="æœªè¯»æ¶ˆæ¯"><a href="#æœªè¯»æ¶ˆæ¯" class="headerlink" title="æœªè¯»æ¶ˆæ¯"></a>æœªè¯»æ¶ˆæ¯</h4><pre class="line-numbers language-gradle"><code class="language-gradle"> implementation 'q.rorbin:badgeview:1.1.3'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ä½¿ç”¨</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">new</span> <span class="token class-name">QBadgeView</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bindTarget</span><span class="token punctuation">(</span>textview<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setBadgeNumber</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><a href="https://github.com/qstumn/BadgeView" target="_blank" rel="noopener">https://github.com/qstumn/BadgeView</a></p>
<h2 id="æ£€æµ‹ä¼˜åŒ–å·¥å…·"><a href="#æ£€æµ‹ä¼˜åŒ–å·¥å…·" class="headerlink" title="æ£€æµ‹ä¼˜åŒ–å·¥å…·"></a>æ£€æµ‹ä¼˜åŒ–å·¥å…·</h2><hr>
<ul>
<li><a href="http://github.com/square/leakcanary" target="_blank" rel="noopener">LeakCanary</a> Android å’Œ Java å†…å­˜æ³„éœ²æ£€æµ‹<br>Tutorial <a href="http://www.liaohuqiu.net/cn/posts/leak-canary-read-me/" target="_blank" rel="noopener">Chinese</a><a href="http://https//corner.squareup.com/2015/05/leak-canary.html" target="_blank" rel="noopener">English</a><br>phrof file path: /storage/sdcard0/Download/leakcanary/<br>hprof-conv leakCanary</li>
<li><a href="http://inloop.github.io/apk-method-count/" target="_blank" rel="noopener">apk-method-count</a> ä¸Šä¼ Apkï¼Œå¯ä»¥æ ¹æ®åŒ…åç»Ÿè®¡æ–¹æ³•æ•°é‡çš„ç½‘ç«™ï¼ŒUIå¾ˆå‹å¥½ã€‚</li>
<li><strong><a href="https://github.com/google/battery-historian" target="_blank" rel="noopener">battery-historian</a></strong> Google å®˜ç½‘æ–¹ é’ˆå¯¹ Api21 5.0ä»¥ä¸Šç³»ç»Ÿå¼€å‘çš„ç”µé‡ä½¿ç”¨æƒ…å†µåˆ†æå·¥å…·</li>
</ul>
<h2 id="åŠŸèƒ½æ€§å¼€å‘å·¥å…·"><a href="#åŠŸèƒ½æ€§å¼€å‘å·¥å…·" class="headerlink" title="åŠŸèƒ½æ€§å¼€å‘å·¥å…·"></a>åŠŸèƒ½æ€§å¼€å‘å·¥å…·</h2><hr>
<ul>
<li><p><a href="http://github.com/card-io/card.io-Android-source" target="_blank" rel="noopener">card.io-Android-source</a> ä¿¡ç”¨å¡æ‰«æï¼³ï¼¤ï¼«</p>
</li>
<li><p><a href="http://https//github.com/ajalt/reprint" target="_blank" rel="noopener">reprint</a> A simple, unified fingerprint authentication library for Android with ReactiveX extensions.</p>
</li>
<li><p><a href="http://github.com/ng2Kaming/DimensCodeTools" target="_blank" rel="noopener">DimensCodeTools </a> ä¸€ä¸ªå¯ä»¥æ”¯æŒç”ŸæˆäºŒç»´ç ï¼Œæ¡å½¢ç å’Œæ‰«æçš„åº“</p>
</li>
<li><p>Permission</p>
<ul>
<li>Dexter  Dexter is an Android library that simplifies the process of requesting permissions at runtime.</li>
<li><a href="http://github.com/k0shk0sh/PermissionHelper" target="_blank" rel="noopener">PermissionHelper</a>  </li>
<li><a href="https://github.com/googlesamples/easypermissions" target="_blank" rel="noopener">easypermissions</a> </li>
</ul>
</li>
<li><p>å›¾ç‰‡åŠ è½½<br>Picasso<br>Universal-ImageLoader<br>Volley<br><a href="https://github.com/bumptech/glide" target="_blank" rel="noopener">Glide</a>  <a href="http://www.jianshu.com/p/4a3177b57949?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=writer_share&amp;utm_source=weibo" target="_blank" rel="noopener">Tutorial Chinese</a><br>ç»¼åˆï¼š  <a href="http://blog.csdn.net/richiezhu/article/details/46968569" target="_blank" rel="noopener">å¼€æºç»„ä»¶åŠ è½½ç½‘ç»œå›¾ç‰‡çš„ä¼˜ç¼ºç‚¹æ¯”è¾ƒ
</a></p>
</li>
<li><p><strong>FileDownload</strong></p>
<ul>
<li><a href="http://github.com/majidgolshadi/Android-Download-Manager-Pro" target="_blank" rel="noopener">Android-Download-Manager-Pro</a></li>
<li><a href="https://github.com/AigeStudio/MultiThreadDownloade" target="_blank" rel="noopener">MultiThreadDownloader</a>  ä¸‹è½½ </li>
<li><a href="http://github.com/lingochamp/FileDownloader" target="_blank" rel="noopener">FileDownloader</a>  Multitaskã€Breakpoint-resumeã€High-concurrencyã€Simple to useã€Single-process<br><img src="https://github.com/lingochamp/FileDownloader/raw/master/art/parallel_tasks_demo.gif" alt=""></li>
</ul>
</li>
<li><p><a href="http://https//github.com/jonfinerty/Once" target="_blank" rel="noopener">Once</a>  some info may show once in a new app in a update or first time install this via share sharedPreferences sore the timestamp</p>
</li>
</ul>
<h2 id="åŸºç¡€çš„å¼€å‘å·¥å…·"><a href="#åŸºç¡€çš„å¼€å‘å·¥å…·" class="headerlink" title="åŸºç¡€çš„å¼€å‘å·¥å…·"></a>åŸºç¡€çš„å¼€å‘å·¥å…·</h2><hr>
<ul>
<li><strong><a href="https://github.com/VerbalExpressions/JavaVerbalExpressions" target="_blank" rel="noopener">JavaVerbalExpressions</a></strong> Java regular expressions made easy. å¸®åŠ©ç®€å•çš„å®ç°æ­£åˆ™è¡¨è¾¾</li>
<li>joda-time-androidï¼ThreeTenABP Java8 çš„DateåŒ…ç§»æ¤åˆ°Androidä¸­æ¥çš„åº“</li>
<li><a href="http://github.com/kexanie/MathView" target="_blank" rel="noopener">MathView</a>    A library for displaying math formula in Android apps.<img src="https://github.com/kexanie/MathView/raw/master/screenshot/screenshot.png" alt=""></li>
</ul>
<h2 id="å´©æºƒé”™è¯¯å¤„ç†"><a href="#å´©æºƒé”™è¯¯å¤„ç†" class="headerlink" title="å´©æºƒé”™è¯¯å¤„ç†"></a>å´©æºƒé”™è¯¯å¤„ç†</h2><h3 id="LoadSir-ä¼˜é›…åœ°å¤„ç†åŠ è½½ä¸­ï¼Œé‡è¯•ï¼Œæ— æ•°æ®ç­‰"><a href="#LoadSir-ä¼˜é›…åœ°å¤„ç†åŠ è½½ä¸­ï¼Œé‡è¯•ï¼Œæ— æ•°æ®ç­‰" class="headerlink" title="LoadSir ä¼˜é›…åœ°å¤„ç†åŠ è½½ä¸­ï¼Œé‡è¯•ï¼Œæ— æ•°æ®ç­‰"></a><strong><a href="https://github.com/KingJA/LoadSir" target="_blank" rel="noopener">LoadSir</a></strong> ä¼˜é›…åœ°å¤„ç†åŠ è½½ä¸­ï¼Œé‡è¯•ï¼Œæ— æ•°æ®ç­‰</h3><p><em>é…ç½®:</em> compile â€˜com.kingja.loadsir:loadsir:1.3.6â€™<br>ProGuard:</p>
<pre><code>-dontwarn com.kingja.loadsir.**
-keep class com.kingja.loadsir.** {*;}</code></pre><h3 id="YCStateLayout-ç‰¹æ®ŠçŠ¶æ€æç¤º"><a href="#YCStateLayout-ç‰¹æ®ŠçŠ¶æ€æç¤º" class="headerlink" title="YCStateLayout ç‰¹æ®ŠçŠ¶æ€æç¤º"></a>YCStateLayout ç‰¹æ®ŠçŠ¶æ€æç¤º</h3><blockquote>
<p>çŠ¶æ€åˆ‡æ¢ï¼Œè®© View çŠ¶æ€çš„åˆ‡æ¢å’Œ Activity å½»åº•åˆ†ç¦»å¼€ã€‚</p>
</blockquote>
<ul>
<li><a href="https://github.com/yangchong211/YCStateLayout" target="_blank" rel="noopener">YCStateLayout</a></li>
</ul>
<h2 id="BufferKnife"><a href="#BufferKnife" class="headerlink" title="BufferKnife"></a><a href="http://jakewharton.github.io/butterknife/" target="_blank" rel="noopener">BufferKnife</a></h2><h3 id="å¸ƒå±€ç»‘å®š"><a href="#å¸ƒå±€ç»‘å®š" class="headerlink" title="å¸ƒå±€ç»‘å®š"></a>å¸ƒå±€ç»‘å®š</h3><pre class="line-numbers language-java"><code class="language-java"> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">ViewHolder</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@BindView</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>form_start_date_tv<span class="token punctuation">)</span> TextView formStartDateTv<span class="token punctuation">;</span>
    <span class="token function">ViewHolder</span><span class="token punctuation">(</span>View view<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ButterKnife<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> view<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="VIEW-LISTS"><a href="#VIEW-LISTS" class="headerlink" title="VIEW LISTS"></a>VIEW LISTS</h3><p>@OnClick({ R.id.door1, R.id.door2, R.id.door3 })</p>
<pre><code>@BindViews({ R.id.first_name, R.id.middle_name, R.id.last_name })
List&lt;EditText&gt; nameViews;

// The apply method allows you to act on all the views in a list at once.

ButterKnife.apply(nameViews, DISABLE);
ButterKnife.apply(nameViews, ENABLED, false);
//Action and Setter interfaces allow specifying simple behavior.
static final ButterKnife.Action&lt;View&gt; DISABLE = new ButterKnife.Action&lt;View&gt;() {
  @Override public void apply(View view, int index) {
    view.setEnabled(false);
  }
};
static final ButterKnife.Setter&lt;View, Boolean&gt; ENABLED = new ButterKnife.Setter&lt;View, Boolean&gt;() {
  @Override public void set(View view, Boolean value, int index) {
    view.setEnabled(value);
  }
};</code></pre><p>An Android <a href="https://developer.android.com/reference/android/util/Property.html" target="_blank" rel="noopener"><code>Property</code></a> can also be used with the <code>apply</code> method.<br><code>ButterKnife.apply(nameViews,  View.ALPHA,  0.0f);</code></p>
<h3 id="RESOURCE-BINDING"><a href="#RESOURCE-BINDING" class="headerlink" title="RESOURCE BINDING"></a>RESOURCE BINDING</h3><pre><code>class ExampleActivity extends Activity {
  @BindString(R.string.title) String title;
  @BindDrawable(R.drawable.graphic) Drawable graphic;
  @BindColor(R.color.red) int red; // int or ColorStateList field
  @BindDimen(R.dimen.spacer) Float spacer; // int (for pixel size) or float (for exact value) field
  // ...
}</code></pre><h3 id="automatically-be-cast"><a href="#automatically-be-cast" class="headerlink" title="automatically be cast."></a>automatically be cast.</h3><pre><code>@OnClick(R.id.submit)
public void sayHi(Button button) {
  button.setText("Hello!");
}</code></pre><h3 id="OPTIONAL-BINDINGS"><a href="#OPTIONAL-BINDINGS" class="headerlink" title="OPTIONAL BINDINGS"></a>OPTIONAL BINDINGS</h3><pre><code>@Optional @OnClick(R.id.maybe_missing) void onMaybeMissingClicked() {
  // TODO ...
}</code></pre><h3 id="BINDING-RESET-on-Fragments"><a href="#BINDING-RESET-on-Fragments" class="headerlink" title="BINDING RESET on Fragments"></a>BINDING RESET on Fragments</h3><pre><code> @Override public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
    View view = inflater.inflate(R.layout.fancy_fragment, container, false);
    unbinder = ButterKnife.bind(this, view);
    // TODO Use fields...
    return view;
  }

@Override public void onDestroyView() {
    super.onDestroyView();
    unbinder.unbind();
  }</code></pre><h3 id="æ¨¡å—åŒ–çš„å¼€å‘å·¥å…·"><a href="#æ¨¡å—åŒ–çš„å¼€å‘å·¥å…·" class="headerlink" title="æ¨¡å—åŒ–çš„å¼€å‘å·¥å…·"></a>æ¨¡å—åŒ–çš„å¼€å‘å·¥å…·</h3><ul>
<li><a href="https://github.com/rosuH/AndroidFilePicker" target="_blank" rel="noopener">AndroidFilePicker</a> FilePicker æ˜¯ä¸€ä¸ªå°å·§å¿«é€Ÿçš„æ–‡ä»¶é€‰æ‹©å™¨æ¡†æ¶ï¼Œä»¥å¿«é€Ÿé›†æˆã€é«˜è‡ªå®šä¹‰åŒ–å’Œå¯é…ç½®åŒ–ä¸ºç›®æ ‡ä¸æ–­å‰è¿›</li>
</ul>
<h2 id="ç½‘ç»œå·¥å…·"><a href="#ç½‘ç»œå·¥å…·" class="headerlink" title="ç½‘ç»œå·¥å…·"></a>ç½‘ç»œå·¥å…·</h2><ul>
<li><a href="https://github.com/r0ysue/r0capture" target="_blank" rel="noopener">r0capture</a>  å®‰å“åº”ç”¨å±‚æŠ“åŒ…é€šæ€è„šæœ¬ </li>
</ul>
<h2 id="ç¿»éå·¥å…·"><a href="#ç¿»éå·¥å…·" class="headerlink" title="ç¿»éå·¥å…·"></a>ç¿»éå·¥å…·</h2><ul>
<li><a href="https://github.com/google/android-classyshark" target="_blank" rel="noopener">android-classyshark</a><br>mac/win ä½¿ç”¨ java -jar ClassyShark.jar</li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ç»éªŒ</tag>
      </tags>
  </entry>
  <entry>
    <title>Android å’Œç½‘é¡µç«¯æ··åˆå¼€å‘å°è®¡</title>
    <url>/2020/11/25/2020-11-25-%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/</url>
    <content><![CDATA[<p><img src="https://cdn.linz.tech/chrome.png" alt=""></p>
<h2 id="WebView-è¯¦è§£"><a href="#WebView-è¯¦è§£" class="headerlink" title="WebView è¯¦è§£"></a>WebView è¯¦è§£</h2><h3 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h3><ul>
<li>åŠ è½½ç½‘é¡µ<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//åŠ è½½ç½‘é¡µé“¾æ¥</span>
mWebView<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span><span class="token string">"http://www.itheima.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//åŠ è½½æœ¬åœ°assetsç›®å½•ä¸‹çš„ç½‘é¡µ</span>
mWebView<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span><span class="token string">"file:///android_asset/demo.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>åŠ è½½æ§åˆ¶<pre class="line-numbers language-java"><code class="language-java">webView<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//åˆ·æ–°é¡µé¢ï¼ˆå½“å‰é¡µé¢çš„æ‰€æœ‰èµ„æºéƒ½ä¼šé‡æ–°åŠ è½½ï¼‰</span>
webView<span class="token punctuation">.</span><span class="token function">stopLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//åœæ­¢åŠ è½½</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li>æ§ä»¶é«˜åº¦è·ç¦»<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//è·å–å½“å‰å¯è§åŒºåŸŸçš„é¡¶ç«¯è·æ•´ä¸ªé¡µé¢é¡¶ç«¯çš„è·ç¦»ï¼Œä¹Ÿå°±æ˜¯å½“å‰å†…å®¹æ»šåŠ¨çš„è·ç¦»ã€‚</span>
webView<span class="token punctuation">.</span><span class="token function">getScrollY</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//è·å–WebViewæ§ä»¶çš„é«˜åº¦ã€‚</span>
webView<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>webView<span class="token punctuation">.</span><span class="token function">getBottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//è·å–HTMLçš„é«˜åº¦ï¼ˆåŸå§‹é«˜åº¦ï¼Œä¸åŒ…æ‹¬ç¼©æ”¾åçš„é«˜åº¦ï¼‰</span>
webView<span class="token punctuation">.</span><span class="token function">getContentHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>WebViewåŠ è½½ä¸Šä¸€é¡µå’Œä¸‹ä¸€é¡µ<pre class="line-numbers language-java"><code class="language-java">mWebView<span class="token punctuation">.</span><span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·³åˆ°ä¸Šä¸ªé¡µé¢</span>
mWebView<span class="token punctuation">.</span><span class="token function">goForward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·³åˆ°ä¸‹ä¸ªé¡µé¢</span>
mWebView<span class="token punctuation">.</span><span class="token function">canGoBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ˜¯å¦å¯ä»¥è·³åˆ°ä¸Šä¸€é¡µ(å¦‚æœè¿”å›false,è¯´æ˜å·²ç»æ˜¯ç¬¬ä¸€é¡µ)</span>
mWebView<span class="token punctuation">.</span><span class="token function">canGoForward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ˜¯å¦å¯ä»¥è·³åˆ°ä¸‹ä¸€é¡µ(å¦‚æœè¿”å›false,è¯´æ˜å·²ç»æ˜¯æœ€åä¸€é¡µ)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>WebViewåŸºæœ¬è®¾ç½®<pre class="line-numbers language-java"><code class="language-java">WebSettings settings <span class="token operator">=</span> mWebView<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
settings<span class="token punctuation">.</span><span class="token function">setBuiltInZoomControls</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// æ˜¾ç¤ºç¼©æ”¾æŒ‰é’®(wapç½‘é¡µä¸æ”¯æŒ)</span>
settings<span class="token punctuation">.</span><span class="token function">setUseWideViewPort</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// æ”¯æŒåŒå‡»ç¼©æ”¾(wapç½‘é¡µä¸æ”¯æŒ)</span>
settings<span class="token punctuation">.</span><span class="token function">setJavaScriptEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// æ”¯æŒjsåŠŸèƒ½</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h3 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//æ¢å¤webviewçš„çŠ¶æ€ï¼ˆä¸é è°±ï¼‰</span>
    webView<span class="token punctuation">.</span><span class="token function">resumeTimers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//æ¿€æ´»webViewçš„çŠ¶æ€ï¼Œèƒ½æ­£å¸¸åŠ è½½ç½‘é¡µ</span>
    webView<span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//å½“é¡µé¢è¢«å¤±å»ç„¦ç‚¹è¢«åˆ‡æ¢åˆ°åå°ä¸å¯è§çŠ¶æ€ï¼Œéœ€è¦æ‰§è¡ŒonPause</span>
    <span class="token comment" spellcheck="true">//é€šè¿‡onPauseåŠ¨ä½œé€šçŸ¥å†…æ ¸æš‚åœæ‰€æœ‰çš„åŠ¨ä½œï¼Œæ¯”å¦‚DOMçš„è§£æã€pluginçš„æ‰§è¡Œã€JavaScriptæ‰§è¡Œã€‚</span>
    webView<span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//å½“åº”ç”¨ç¨‹åº(å­˜åœ¨webview)è¢«åˆ‡æ¢åˆ°åå°æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•ä¸ä»…ä»…é’ˆå¯¹å½“å‰çš„webviewè€Œæ˜¯å…¨å±€çš„å…¨åº”ç”¨ç¨‹åºçš„webview</span>
    <span class="token comment" spellcheck="true">//å®ƒä¼šæš‚åœæ‰€æœ‰webviewçš„layoutï¼Œparsingï¼Œjavascripttimerã€‚é™ä½CPUåŠŸè€—ã€‚ï¼ˆä¸é è°±ï¼‰</span>
    webView<span class="token punctuation">.</span><span class="token function">pauseTimers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//åœ¨å…³é—­äº†Activityæ—¶ï¼Œå¦‚æœWebviewçš„éŸ³ä¹æˆ–è§†é¢‘ï¼Œè¿˜åœ¨æ’­æ”¾ã€‚å°±å¿…é¡»é”€æ¯Webview</span>
<span class="token comment" spellcheck="true">//ä½†æ˜¯æ³¨æ„ï¼šwebviewè°ƒç”¨destoryæ—¶,webviewä»ç»‘å®šåœ¨Activityä¸Š</span>
<span class="token comment" spellcheck="true">//è¿™æ˜¯ç”±äºè‡ªå®šä¹‰webviewæ„å»ºæ—¶ä¼ å…¥äº†è¯¥Activityçš„contextå¯¹è±¡</span>
<span class="token comment" spellcheck="true">//å› æ­¤éœ€è¦å…ˆä»çˆ¶å®¹å™¨ä¸­ç§»é™¤webview,ç„¶åå†é”€æ¯webview:</span>
ViewGroup parent <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>
parent<span class="token punctuation">.</span><span class="token function">removeView</span><span class="token punctuation">(</span>webView<span class="token punctuation">)</span><span class="token punctuation">;</span>
webView<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="WebViewClient-ä¸-WebChromeClient"><a href="#WebViewClient-ä¸-WebChromeClient" class="headerlink" title="WebViewClient ä¸ WebChromeClient"></a>WebViewClient ä¸ WebChromeClient</h3><ul>
<li><p>WebViewClient </p>
<pre class="line-numbers language-java"><code class="language-java">mWebView<span class="token punctuation">.</span><span class="token function">setWebViewClient</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WebViewClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// å¼€å§‹åŠ è½½ç½‘é¡µ</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onPageStarted</span><span class="token punctuation">(</span>WebView view<span class="token punctuation">,</span> String url<span class="token punctuation">,</span> Bitmap favicon<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPageStarted</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> url<span class="token punctuation">,</span> favicon<span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å¼€å§‹åŠ è½½ç½‘é¡µäº†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// ç½‘é¡µåŠ è½½ç»“æŸ</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onPageFinished</span><span class="token punctuation">(</span>WebView view<span class="token punctuation">,</span> String url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPageFinished</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç½‘é¡µåŠ è½½ç»“æŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// æ‰€æœ‰é“¾æ¥è·³è½¬ä¼šèµ°æ­¤æ–¹æ³•</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">shouldOverrideUrlLoading</span><span class="token punctuation">(</span>WebView view<span class="token punctuation">,</span> String url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è·³è½¬é“¾æ¥:"</span> <span class="token operator">+</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        view<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// åœ¨è·³è½¬é“¾æ¥æ—¶å¼ºåˆ¶åœ¨å½“å‰webviewä¸­åŠ è½½</span>

        <span class="token comment" spellcheck="true">//æ­¤æ–¹æ³•è¿˜æœ‰å…¶ä»–åº”ç”¨åœºæ™¯, æ¯”å¦‚å†™ä¸€ä¸ªè¶…é“¾æ¥&lt;a href="tel:110">è”ç³»æˆ‘ä»¬&lt;/a>, å½“ç‚¹å‡»è¯¥è¶…é“¾æ¥æ—¶,å¯ä»¥åœ¨æ­¤æ–¹æ³•ä¸­è·å–é“¾æ¥åœ°å€tel:110, è§£æè¯¥åœ°å€,è·å–ç”µè¯å·ç , ç„¶åè·³è½¬åˆ°æœ¬åœ°æ‰“ç”µè¯é¡µé¢, è€Œä¸æ˜¯åŠ è½½ç½‘é¡µ, ä»è€Œå®ç°äº†webViewå’Œæœ¬åœ°ä»£ç çš„äº¤äº’</span>

        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>onPageStarted()onPageFinished()ï¼šé¡µé¢åŠ è½½æ—¶å’Œé¡µé¢åŠ è½½å®Œæ¯•æ—¶è°ƒç”¨ã€‚<br>shouldOverrideKeyEvent()ï¼šé‡å†™æ­¤æ–¹æ³•æ‰èƒ½å¤„ç†æµè§ˆå™¨ä¸­çš„æŒ‰é”®äº‹ä»¶ã€‚<br>shouldInterceptRequest()ï¼šé¡µé¢æ¯ä¸€æ¬¡è¯·æ±‚èµ„æºä¹‹å‰éƒ½ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼ˆéUIçº¿ç¨‹è°ƒç”¨ï¼‰ã€‚<br>onLoadResource()ï¼šé¡µé¢åŠ è½½èµ„æºæ—¶è°ƒç”¨ï¼Œæ¯åŠ è½½ä¸€ä¸ªèµ„æºï¼ˆæ¯”å¦‚å›¾ç‰‡ï¼‰å°±è°ƒç”¨ä¸€æ¬¡ã€‚<br>onReceivedError()ï¼šåŠ è½½é¡µé¢çš„æœåŠ¡å™¨å‡ºç°é”™è¯¯ï¼ˆæ¯”å¦‚404ï¼‰æ—¶å›è°ƒã€‚<br>onReceivedSslError()ï¼šé‡å†™æ­¤æ–¹æ³•å¯ä»¥è®©webviewå¤„ç†httpsè¯·æ±‚ã€‚<br>doUpdateVisitedHistory()ï¼šæ›´æ–°å†å²è®°å½•ã€‚<br>onFormResubmission()ï¼šåº”ç”¨ç¨‹åºé‡æ–°è¯·æ±‚ç½‘é¡µæ•°æ®ã€‚<br>onReceivedHttpAuthRequest()ï¼šè·å–è¿”å›ä¿¡æ¯æˆæƒè¯·æ±‚ã€‚<br>onScaleChanged()ï¼šWebViewå‘ç”Ÿç¼©æ”¾æ”¹å˜æ—¶è°ƒç”¨ã€‚<br>onUnhandledKeyEvent()ï¼šKeyäº‹ä»¶æœªè¢«åŠ è½½æ—¶è°ƒç”¨ã€‚</p>
</li>
<li><p>WebChromeClient </p>
<blockquote>
<p>è¾…åŠ© WebView å¤„ç† Javascript çš„å¯¹è¯æ¡†ï¼Œç½‘ç«™å›¾æ ‡ï¼Œç½‘ç«™æ ‡é¢˜ç­‰ç­‰</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java">mWebView<span class="token punctuation">.</span><span class="token function">setWebChromeClient</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WebChromeClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onProgressChanged</span><span class="token punctuation">(</span>WebView view<span class="token punctuation">,</span> <span class="token keyword">int</span> newProgress<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onProgressChanged</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> newProgress<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// è¿›åº¦å‘ç”Ÿå˜åŒ–</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¿›åº¦:"</span> <span class="token operator">+</span> newProgress<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReceivedTitle</span><span class="token punctuation">(</span>WebView view<span class="token punctuation">,</span> String title<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onReceivedTitle</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> title<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// ç½‘é¡µæ ‡é¢˜</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç½‘é¡µæ ‡é¢˜:"</span> <span class="token operator">+</span> title<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>onReceivedTitle()ï¼šè·å¾—ç½‘é¡µçš„æ ‡é¢˜æ—¶å›è°ƒã€‚<br>onReceivedIcon()ï¼šè·å¾—ç½‘é¡µçš„å›¾æ ‡æ—¶å›è°ƒã€‚<br>onCreateWindow()ï¼šæ‰“å¼€æ–°çª—å£æ—¶å›è°ƒã€‚<br>onCloseWindow()ï¼šå…³é—­çª—å£æ—¶å›è°ƒã€‚</p>
</li>
</ul>
<h3 id="é«˜çº§ç”¨æ³•"><a href="#é«˜çº§ç”¨æ³•" class="headerlink" title="é«˜çº§ç”¨æ³•"></a>é«˜çº§ç”¨æ³•</h3><h4 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a>ç¼“å­˜</h4><ul>
<li>ç¼“å­˜è®¾ç½®</li>
</ul>
<pre class="line-numbers language-java"><code class="language-java">WebSettings settings <span class="token operator">=</span> mWebView<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//åªè¦æœ¬åœ°æœ‰ï¼Œæ— è®ºæ˜¯å¦è¿‡æœŸï¼Œæˆ–è€…no-cacheï¼Œéƒ½ä½¿ç”¨ç¼“å­˜ä¸­çš„æ•°æ®</span>
settings<span class="token punctuation">.</span><span class="token function">setCacheMode</span><span class="token punctuation">(</span>WebSettings<span class="token punctuation">.</span>LOAD_CACHE_ELSE_NETWORK<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//åªåŠ è½½ç¼“å­˜</span>
settings<span class="token punctuation">.</span><span class="token function">setCacheMode</span><span class="token punctuation">(</span>WebSettings<span class="token punctuation">.</span>LOAD_CACHE_ONLY<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//æ ¹æ®cache-controlå†³å®šæ˜¯å¦ä»ç½‘ç»œä¸Šå–æ•°æ®</span>
settings<span class="token punctuation">.</span><span class="token function">setCacheMode</span><span class="token punctuation">(</span>WebSettings<span class="token punctuation">.</span>LOAD_DEFAULT<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//ä¸åŠ è½½ç¼“å­˜</span>
settings<span class="token punctuation">.</span><span class="token function">setCacheMode</span><span class="token punctuation">(</span>WebSettings<span class="token punctuation">.</span>LOAD_NO_CACHE<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>ç¼“å­˜æ¸…æ¥š</li>
</ul>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æœ€ç®€ä¾¿çš„æ–¹å¼:</span>
mWebView<span class="token punctuation">.</span><span class="token function">clearCache</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//å¦å¤–ä¸€ç§æ–¹å¼:</span>
<span class="token comment" spellcheck="true">//åˆ é™¤ç¼“å­˜æ–‡ä»¶å¤¹</span>
File file <span class="token operator">=</span> CacheManager<span class="token punctuation">.</span><span class="token function">getCacheFileBaseDir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token keyword">if</span> <span class="token punctuation">(</span>file <span class="token operator">!=</span> null <span class="token operator">&amp;&amp;</span> file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> file<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token keyword">for</span> <span class="token punctuation">(</span>File item <span class="token operator">:</span> file<span class="token punctuation">.</span><span class="token function">listFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    item<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span> 
  file<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
<span class="token comment" spellcheck="true">//åˆ é™¤ç¼“å­˜æ•°æ®åº“</span>
context<span class="token punctuation">.</span><span class="token function">deleteDatabase</span><span class="token punctuation">(</span><span class="token string">"webview.db"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
context<span class="token punctuation">.</span><span class="token function">deleteDatabase</span><span class="token punctuation">(</span><span class="token string">"webviewCache.db"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//æ¸…é™¤å½“å‰webviewè®¿é—®çš„å†å²è®°å½•</span>
<span class="token comment" spellcheck="true">//åªä¼šwebviewè®¿é—®å†å²è®°å½•é‡Œçš„æ‰€æœ‰è®°å½•é™¤äº†å½“å‰è®¿é—®è®°å½•</span>
Webview<span class="token punctuation">.</span><span class="token function">clearHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//è¿™ä¸ªapiä»…ä»…æ¸…é™¤è‡ªåŠ¨å®Œæˆå¡«å……çš„è¡¨å•æ•°æ®ï¼Œå¹¶ä¸ä¼šæ¸…é™¤WebViewå­˜å‚¨åˆ°æœ¬åœ°çš„æ•°æ®</span>
Webview<span class="token punctuation">.</span><span class="token function">clearFormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h4><ul>
<li>Cookieè®¾ç½®</li>
</ul>
<pre class="line-numbers language-java"><code class="language-java">    CookieSyncManager<span class="token punctuation">.</span><span class="token function">createInstance</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    CookieManager cookieManager <span class="token operator">=</span> CookieManager<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cookieManager<span class="token punctuation">.</span><span class="token function">setAcceptCookie</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    String cookie <span class="token operator">=</span> <span class="token string">"name=xxx;age=18"</span><span class="token punctuation">;</span>
    cookieManager<span class="token punctuation">.</span><span class="token function">setCookie</span><span class="token punctuation">(</span>URL<span class="token punctuation">,</span> cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>
    CookieSyncManager<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><p>è·å–Cookie</p>
<pre class="line-numbers language-java"><code class="language-java">  CookieManager cookieManager <span class="token operator">=</span> CookieManager<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  String cookie <span class="token operator">=</span> cookieManager<span class="token punctuation">.</span><span class="token function">getCookie</span><span class="token punctuation">(</span>URL<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>æ¸…é™¤Cookie</p>
<pre class="line-numbers language-java"><code class="language-java">  CookieSyncManager<span class="token punctuation">.</span><span class="token function">createInstance</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>  
  CookieManager cookieManager <span class="token operator">=</span> CookieManager<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment" spellcheck="true">//è¿™ä¸ªä¸¤ä¸ªåœ¨ API level 21 è¢«æŠ›å¼ƒ</span>
cookieManager<span class="token punctuation">.</span><span class="token function">removeSessionCookie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cookieManager<span class="token punctuation">.</span><span class="token function">removeAllCookie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//Api 21 æ–°å¢</span>
<span class="token comment" spellcheck="true">//ç§»é™¤æ‰€æœ‰è¿‡æœŸ cookie</span>
cookieManager<span class="token punctuation">.</span><span class="token function">removeSessionCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//ç§»é™¤æ‰€æœ‰çš„ cookie</span>
cookieManager<span class="token punctuation">.</span><span class="token function">removeAllCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//å›è°ƒ</span>
CookieManager<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeAllCookies</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ValueCallback</span><span class="token operator">&lt;</span>Boolean<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReceiveValue</span><span class="token punctuation">(</span>Boolean value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// æ¸…é™¤ç»“æœ</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<pre><code>CookieSyncManager.getInstance().sync();  </code></pre><pre><code>#### é«˜çº§è®¾ç½®

```java
 //è®¾ç½®è‡ªé€‚åº”å±å¹•ï¼Œä¸¤è€…åˆç”¨
    webSettings.setUseWideViewPort(true); //å°†å›¾ç‰‡è°ƒæ•´åˆ°é€‚åˆwebviewçš„å¤§å°
    webSettings.setLoadWithOverviewMode(true); // ç¼©æ”¾è‡³å±å¹•çš„å¤§å°

    webSettings.setLayoutAlgorithm(WebSettings.LayoutAlgorithm.SINGLE_COLUMN); //æ”¯æŒå†…å®¹é‡æ–°å¸ƒå±€

    //ç¼©æ”¾æ“ä½œ
    webSettings.setSupportZoom(true); //æ”¯æŒç¼©æ”¾ï¼Œé»˜è®¤ä¸ºtrueã€‚æ˜¯ä¸‹é¢é‚£ä¸ªçš„å‰æã€‚
    webSettings.setBuiltInZoomControls(true); //è®¾ç½®å†…ç½®çš„ç¼©æ”¾æ§ä»¶ã€‚è‹¥ä¸ºfalseï¼Œåˆ™è¯¥WebViewä¸å¯ç¼©æ”¾
    webSettings.setDisplayZoomControls(false); //éšè—åŸç”Ÿçš„ç¼©æ”¾æ§ä»¶
    webSettings.setTextZoom(2);//è®¾ç½®æ–‡æœ¬çš„ç¼©æ”¾å€æ•°ï¼Œé»˜è®¤ä¸º 100

    webSettings.setRenderPriority(WebSettings.RenderPriority.HIGH);  //æé«˜æ¸²æŸ“çš„ä¼˜å…ˆçº§

    webSettings.setStandardFontFamily("");//è®¾ç½® WebView çš„å­—ä½“ï¼Œé»˜è®¤å­—ä½“ä¸º "sans-serif"
    webSettings.setDefaultFontSize(20);//è®¾ç½® WebView å­—ä½“çš„å¤§å°ï¼Œé»˜è®¤å¤§å°ä¸º 16
    webSettings.setMinimumFontSize(12);//è®¾ç½® WebView æ”¯æŒçš„æœ€å°å­—ä½“å¤§å°ï¼Œé»˜è®¤ä¸º 8
        webSettings.setVerticalScrollBarEnabled(false); //vertical bar ä¸æ˜¾ç¤º
        webSettings.setHorizontalScrollBarEnabled(false); // horizontal bar ä¸æ˜¾ç¤º

    // 5.1ä»¥ä¸Šé»˜è®¤ç¦æ­¢äº†httpså’Œhttpæ··ç”¨ï¼Œä»¥ä¸‹æ–¹å¼æ˜¯å¼€å¯
    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {
        webSettings.setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);
    }


        //å…¶ä»–
    webSettings.setAllowFileAccess(true); //è®¾ç½®å¯ä»¥è®¿é—®æ–‡ä»¶
    webSettings.setJavaScriptCanOpenWindowsAutomatically(true); //æ”¯æŒé€šè¿‡JSæ‰“å¼€æ–°çª—å£
    webSettings.setLoadsImagesAutomatically(true); //æ”¯æŒè‡ªåŠ¨åŠ è½½å›¾ç‰‡
    webSettings.setDefaultTextEncodingName("utf-8");//è®¾ç½®ç¼–ç æ ¼å¼
    webSettings.setGeolocationEnabled(true);//å…è®¸ç½‘é¡µæ‰§è¡Œå®šä½æ“ä½œ

        //åˆ†æ®µåŠ è½½HTMLæ–‡ä»¶
        if (VERSION.SDK_INT &gt;= 21) {
        WebView.enableSlowWholeDocumentDraw();
    }</code></pre><h2 id="JavaScript-å’Œ-Native-äº¤äº’"><a href="#JavaScript-å’Œ-Native-äº¤äº’" class="headerlink" title="JavaScript å’Œ Native äº¤äº’"></a>JavaScript å’Œ Native äº¤äº’</h2><h3 id="DSBridge-Android"><a href="#DSBridge-Android" class="headerlink" title="DSBridge-Android"></a><a href="https://github.com/wendux/DSBridge-Android" target="_blank" rel="noopener">DSBridge-Android</a></h3><p>ç”¨äºJavaScript and native applications ç›¸äº’è°ƒç”¨</p>
<ol>
<li><p>ä¾èµ–å¼•ç”¨</p>
<pre class="line-numbers language-groovy"><code class="language-groovy">dependencies <span class="token punctuation">{</span>
 <span class="token comment" spellcheck="true">//compile 'com.github.wendux:DSBridge-Android:3.0-SNAPSHOT'</span>
 <span class="token comment" spellcheck="true">//support the x5 browser core of Tencent</span>
 <span class="token comment" spellcheck="true">//compile 'com.github.wendux:DSBridge-Android:x5-3.0-SNAPSHOT'</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>JavaScript è°ƒç”¨åŸç”Ÿ</p>
<ul>
<li><p>åŸç”Ÿæä¾›è°ƒç”¨æ–¹æ³•</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JsApi</span><span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//for synchronous invocation</span>
      <span class="token comment" spellcheck="true">//ã€errã€‘æ˜“é”™ç‚¹ï¼š msg è¿™ä¸ªå‚æ•°å¿…é¡»æ˜¯Objectå¦åˆ™JavaScriptä¼šä¸è¯†åˆ«æ–¹æ³•</span>
    <span class="token annotation punctuation">@JavascriptInterface</span>
    <span class="token keyword">public</span> String <span class="token function">testSyn</span><span class="token punctuation">(</span>Object msg<span class="token punctuation">)</span>  <span class="token punctuation">{</span>
        <span class="token keyword">return</span> msg <span class="token operator">+</span> <span class="token string">"ï¼»syn callï¼½"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">//for asynchronous invocation</span>
    <span class="token annotation punctuation">@JavascriptInterface</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testAsyn</span><span class="token punctuation">(</span>Object msg<span class="token punctuation">,</span> CompletionHandler handler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        handler<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span>msg<span class="token operator">+</span><span class="token string">" [ asyn call]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>åŠ å…¥DWebViewç”Ÿæ•ˆ</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> wendu<span class="token punctuation">.</span>dsbridge<span class="token punctuation">.</span>DWebView
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
DWebView dwebView<span class="token operator">=</span> <span class="token punctuation">(</span>DWebView<span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>dwebview<span class="token punctuation">)</span><span class="token punctuation">;</span>
dwebView<span class="token punctuation">.</span><span class="token function">addJavascriptObject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">JsApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>JavaScript  <a href="https://raw.githubusercontent.com/wendux/DSBridge-Android/master/app/src/main/assets/js-call-native.html" target="_blank" rel="noopener">é¡¹ç›®demo js-call-native.htmlï¼ˆéœ€è¦é…ç½®ç§‘å­¦ä¸Šç½‘ï¼‰</a></p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//cdn</span>
<span class="token comment" spellcheck="true">//&lt;script src="https://unpkg.com/dsbridge@3.1.3/dist/dsbridge.js"> &lt;/script></span>
<span class="token comment" spellcheck="true">//npm</span>
<span class="token comment" spellcheck="true">//npm install dsbridge@3.1.3</span>
<span class="token keyword">var</span> dsBridge<span class="token operator">=</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"dsbridge"</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//Call synchronously </span>
<span class="token keyword">var</span> str<span class="token operator">=</span>dsBridge<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">"testSyn"</span><span class="token punctuation">,</span><span class="token string">"testSyn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//Call asynchronously</span>
dsBridge<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">"testAsyn"</span><span class="token punctuation">,</span><span class="token string">"testAsyn"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">//Register javascript API for Native</span>
 dsBridge<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'addValue'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span>r<span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">return</span> l<span class="token operator">+</span>r<span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
</ol>
<h2 id="å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åº“"><a href="#å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åº“" class="headerlink" title="å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åº“"></a>å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åº“</h2><p><img src="https://cdn.linz.tech/1200px-Apache_Cordova_Logo.svg.png" alt=""></p>
<h3 id="cordova"><a href="#cordova" class="headerlink" title="cordova"></a>cordova</h3><blockquote>
<p>Cordovaæä¾›äº†ä¸€ç»„è®¾å¤‡ç›¸å…³çš„APIï¼Œé€šè¿‡è¿™ç»„APIï¼Œç§»åŠ¨åº”ç”¨èƒ½å¤Ÿä»¥JavaScriptè®¿é—®åŸç”Ÿçš„è®¾å¤‡åŠŸèƒ½ï¼Œå¦‚æ‘„åƒå¤´ã€éº¦å…‹é£ç­‰ã€‚</p>
</blockquote>
<ul>
<li><a href="http://cordova.axuer.com/" target="_blank" rel="noopener">cordova ä¸­æ–‡</a></li>
<li><a href="https://www.jianshu.com/p/43872edf70e2" target="_blank" rel="noopener">Androidé›†æˆCordova</a></li>
<li><a href="https://blog.csdn.net/github_39500961/article/details/76270299" target="_blank" rel="noopener">cordovaæ’ä»¶æ±‡æ€»å¤§å…¨</a></li>
</ul>
<h3 id="mui"><a href="#mui" class="headerlink" title="mui"></a><a href="https://github.com/dcloudio/mui" target="_blank" rel="noopener">mui</a></h3><ul>
<li>muiæ˜¯æœ€æ¥è¿‘åŸç”ŸAppä½“éªŒçš„å‰ç«¯æ¡†æ¶</li>
</ul>
<p>å‚è€ƒåšæ–‡</p>
<ul>
<li><p><a href="https://blog.csdn.net/qq_42618969/article/details/102916085" target="_blank" rel="noopener">AndroidåŸç”Ÿé›†æˆMUIæ¡†æ¶è¿›è¡Œæ··åˆå¼€å‘</a></p>
</li>
<li><p><a href="https://blog.csdn.net/qq_33018731/article/details/83650579?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.control&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.control" target="_blank" rel="noopener">æµ…èŠåŸºäºMUIæ¡†æ¶çš„æ··åˆå¼€å‘</a></p>
</li>
</ul>
<h2 id="å®è·µæ¡ˆä¾‹"><a href="#å®è·µæ¡ˆä¾‹" class="headerlink" title="å®è·µæ¡ˆä¾‹"></a>å®è·µæ¡ˆä¾‹</h2><ul>
<li><a href="https://blog.csdn.net/lsyz0021/article/details/56677132" target="_blank" rel="noopener">Android webviewå¤„ç†404ã€500ã€æ–­ç½‘ã€timeouté¡µé¢çš„é—®é¢˜</a></li>
<li></li>
</ul>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://blog.csdn.net/vicwudi/article/details/81990467" target="_blank" rel="noopener">WebViewå…¨é¢è§£æ</a></li>
</ul>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Android studio ä¸ IntelliJ IDEA  ä½¿ç”¨æ€»ç»“</title>
    <url>/2020/09/17/2018-4-15-android-studio-usage/</url>
    <content><![CDATA[<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><p><a href="https://zhile.io/2018/08/17/jetbrains-license-server-crack.html" target="_blank" rel="noopener">intellj idea ç ´è§£å®‰è£…</a></p>
<h1 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h1><h2 id="å¸¸ç”¨æ’ä»¶"><a href="#å¸¸ç”¨æ’ä»¶" class="headerlink" title="å¸¸ç”¨æ’ä»¶"></a>å¸¸ç”¨æ’ä»¶</h2><h3 id="Android-1"><a href="#Android-1" class="headerlink" title="Android"></a>Android</h3><ul>
<li><a href="https://github.com/avast/android-butterknife-zelezny" target="_blank" rel="noopener">ButterKnifeZelezny 5 æ˜Ÿ</a><br><img src="https://raw.githubusercontent.com/avast/android-butterknife-zelezny/master/img/zelezny_animated.gif" alt=""></li>
<li><a href="https://github.com/pbreault/adb-idea" target="_blank" rel="noopener">ADB Comand 3æ˜Ÿ</a><br><img src="https://raw.githubusercontent.com/pbreault/adb-idea/master/website/find_actions.png" alt=""></li>
<li><a href="https://github.com/zzz40500/GsonFormat" target="_blank" rel="noopener">GsonFormatString è§£ææˆå®ä½“</a> <code>Default Option + s(Mac), Alt + s (win)</code><br><img src="https://camo.githubusercontent.com/0d45c79c54ab57f6efe31e9019b11d93974fa039/687474703a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f3136363836362d666639646333333661663732643764372e6769663f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970" alt=""></li>
<li><a href="https://github.com/halirutan/IntelliJ-Key-Promoter-X" target="_blank" rel="noopener">Key Promoter X å¿«æ·é”®æç¤º</a> AS plugin æœç´¢å®‰è£…<br><img src="https://camo.githubusercontent.com/c5696e472c432542417a8c0cb795524b572b1c56/687474703a2f2f692e696d6775722e636f6d2f327a42644d54382e676966" alt=""></li>
<li><a href="https://www.codota.com/thankYou" target="_blank" rel="noopener">codota ä»£ç æ¡ˆä¾‹æŸ¥æ‰¾ã€é‡ç‚¹ã€‘</a> å¿«æ·é”® <code>Shift + Alt + Space</code></li>
<li><a href="https://github.com/Vektah/CodeGlance" target="_blank" rel="noopener">CodeGlance ä»£ç æ¦‚å†µ</a><br><img src="https://camo.githubusercontent.com/d25bcf62d90bfee3308428a4836afe32d347934d/68747470733a2f2f7261772e6769746875622e636f6d2f56656b7461682f436f6465476c616e63652f6d61737465722f7075622f6578616d706c652e706e67" alt=""></li>
<li><a href="https://github.com/mcharmas/android-parcelable-intellij-plugin" target="_blank" rel="noopener">Parcelable Plugin</a><br><img src="https://raw.githubusercontent.com/mcharmas/android-parcelable-intellij-plugin/master/screenshot.png" alt=""></li>
<li><a href="https://github.com/nekocode/JarFilterPlugin/" target="_blank" rel="noopener">JarFilterPlugin</a> ä¿®æ”¹ç¬¬ä¸‰æ–¹Jarå¹¶æ‰“åŒ…è¿›åº”ç”¨ï¼Œå¦‚å¯ä»¥å€ŸåŠ© JarFilterPlugin æ¥ä¿®æ”¹ Retrofit çš„å†…éƒ¨ä»£ç </li>
</ul>
<h3 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h3><h4 id="è‡ªåŠ¨ç”Ÿæˆ-serialVersionUID"><a href="#è‡ªåŠ¨ç”Ÿæˆ-serialVersionUID" class="headerlink" title="è‡ªåŠ¨ç”Ÿæˆ serialVersionUID"></a><a href="https://blog.csdn.net/qq_35246620/article/details/77686098" target="_blank" rel="noopener">è‡ªåŠ¨ç”Ÿæˆ serialVersionUID</a></h4><ul>
<li><a href="">lombok</a></li>
</ul>
<h3 id="bashsupport"><a href="#bashsupport" class="headerlink" title="bashsupport"></a>bashsupport</h3><ul>
<li><a href="https://blog.csdn.net/u012443641/article/details/81295999" target="_blank" rel="noopener">IDEAä¸­ç¼–å†™è„šæœ¬å¹¶è¿è¡Œshellè„šæœ¬</a></li>
</ul>
<h2 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h2><ul>
<li><a href="https://github.com/KeepSafe/dexcount-gradle-plugin" target="_blank" rel="noopener">dexcount-gradle-plugin</a> æ¯æ¬¡ç¼–è¯‘éƒ½ç»Ÿè®¡Field and Method number<br><img src="https://raw.githubusercontent.com/KeepSafe/dexcount-gradle-plugin/master/web/example.png" alt=""></li>
</ul>
<h2 id="UI"><a href="#UI" class="headerlink" title="UI"></a>UI</h2><ul>
<li><a href="https://github.com/winterDroid/android-drawable-importer-intellij-plugin" target="_blank" rel="noopener">android-drawable-importer</a><br><img src="https://raw.githubusercontent.com/winterDroid/android-drawable-importer-intellij-plugin/develop/src/main/resources/images/scale_add.png" alt=""></li>
<li><a href="https://github.com/inmite/android-selector-chapek" target="_blank" rel="noopener">android-selector</a><br><img src="https://raw.githubusercontent.com/inmite/android-selector-chapek/master/img/select_option.png" alt=""></li>
<li><a href="https://github.com/konifar/android-material-design-icon-generator-plugin" target="_blank" rel="noopener">Material Design Icon Generator</a><br><img src="https://raw.githubusercontent.com/konifar/android-material-design-icon-generator-plugin/master/docs/capture.gif" alt=""></li>
<li><a href="https://github.com/mistamek/Android-drawable-preview-plugin" target="_blank" rel="noopener">Android-drawable-preview-plugin</a><br><img src="https://raw.githubusercontent.com/mistamek/Android-drawable-preview-plugin/master/screenshot.png" alt=""></li>
<li><a href="https://plugins.jetbrains.com/plugin/7972-android-styler" target="_blank" rel="noopener">Android Styler</a> ç›¸å¯¹äºASæä¾›çš„åŠŸèƒ½ï¼Œè¿™ä¸ªä¼˜åŠ¿åœ¨èƒ½æŒ‡å®šstyleå­˜æ”¾çš„æ–‡ä»¶åŠç›¸å¯¹çš„ä½ç½®ï¼›</li>
</ul>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><ul>
<li><a href="https://github.com/vsch/idea-multimarkdown" target="_blank" rel="noopener">idea-multimarkdownã€æ”¶è´¹ã€‘</a></li>
<li><a href="https://github.com/vanniktech/gradle-maven-publish-plugin" target="_blank" rel="noopener">gradle-maven-publish-plugin</a> ä¸Šä¼ ä½ çš„ä»£ç åˆ°æ‰€æœ‰çš„ç‰ˆæœ¬ä»“åº“ä¸­</li>
<li><a href="https://github.com/qiugang/DepSwitchPlugin" target="_blank" rel="noopener">DepSwitchPlugin aarå’Œæºç åˆ‡æ¢ï¼Œå¼€å‘é˜¶æ®µæºç ï¼Œç¨³å®šé˜¶æ®µç”¨aar</a></li>
</ul>
<h2 id="é«˜çº§"><a href="#é«˜çº§" class="headerlink" title="é«˜çº§"></a>é«˜çº§</h2><h3 id="Android-studio-æ’ä»¶çš„å¼€å‘"><a href="#Android-studio-æ’ä»¶çš„å¼€å‘" class="headerlink" title="Android studio æ’ä»¶çš„å¼€å‘"></a>Android studio æ’ä»¶çš„å¼€å‘</h3><ul>
<li><a href="https://yalantis.com/blog/android-studio-plugin-development/" target="_blank" rel="noopener">How to Develop Android Studio Plugin</a></li>
</ul>
<h2 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h2><p>File and code template -&gt; includes -&gt; file header</p>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token comment" spellcheck="true">/**
 * 
 *
 * @author ex-linzhi002 &lt;a href="mailto:ex-linzhi002@pingan.com.cn">Contact me.&lt;/a>
 * @version 1.0
 * @since ${DATE} ${TIME}
 */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ–°å»ºç±»çš„æ—¶å€™è¿›è¡Œè¯´æ˜</p>
<h1 id="Intellj-åå°å¼€å‘"><a href="#Intellj-åå°å¼€å‘" class="headerlink" title="Intellj åå°å¼€å‘"></a>Intellj åå°å¼€å‘</h1><h2 id="1-RestfulToolkit-å¿«é€ŸURL"><a href="#1-RestfulToolkit-å¿«é€ŸURL" class="headerlink" title="1. RestfulToolkit å¿«é€ŸURL"></a><strong>1. RestfulToolkit</strong> å¿«é€ŸURL</h2><p>åŠŸèƒ½æè¿°ï¼š </p>
<ol>
<li><strong>æ ¹æ® URL ç›´æ¥è·³è½¬åˆ°å¯¹åº”çš„æ–¹æ³•å®šä¹‰</strong>ã€‚<ol>
<li>ï¼ˆWindow å¿«æ·é”® <strong>Ctrl + Alt + N</strong> ï¼‰</li>
<li>Mac å¿«æ·é”® option  + cmd + N </li>
</ol>
</li>
<li>RestServicesä¾§è¾¹æ <br><img src="http://cdn.linz.tech/Intellij_RestfulToolkit.png" alt=""></li>
</ol>
<h2 id="2-Maven-Helper-ä¾èµ–åˆ†æ"><a href="#2-Maven-Helper-ä¾èµ–åˆ†æ" class="headerlink" title="2. Maven Helper ä¾èµ–åˆ†æ"></a><strong>2. Maven Helper</strong> ä¾èµ–åˆ†æ</h2><p><img src="http://cdn.linz.tech/intellj_maven_helper.png" alt="">  </p>
<h2 id="3-JRebel-çƒ­éƒ¨ç½²-ã€å¾…å®è·µã€‘"><a href="#3-JRebel-çƒ­éƒ¨ç½²-ã€å¾…å®è·µã€‘" class="headerlink" title="3. JRebel çƒ­éƒ¨ç½² ã€å¾…å®è·µã€‘"></a>3. <strong>JRebel</strong> çƒ­éƒ¨ç½² ã€å¾…å®è·µã€‘</h2><p>å‚è€ƒç ´è§£åœ°å€ ï¼ˆé™„ä¸€ä¸ªå‚è€ƒåœ°å€ï¼š<a href="https://blog.csdn.net/qierkang/article/details/95095954ï¼‰" target="_blank" rel="noopener">https://blog.csdn.net/qierkang/article/details/95095954ï¼‰</a></p>
<h1 id="Android-Intellj-å…±ç”¨"><a href="#Android-Intellj-å…±ç”¨" class="headerlink" title="Android / Intellj å…±ç”¨"></a>Android / Intellj å…±ç”¨</h1><h2 id="1-Translation"><a href="#1-Translation" class="headerlink" title="1. Translation"></a><strong>1. Translation</strong></h2><p>ç”¨æ³•è¯¦è§£</p>
<ol>
<li><p>Translate and Replace ã€é‡ç‚¹åº”ç”¨ã€‘ç”¨äºæ–¹æ³•å’Œç±»çš„å‘½åä¸Šæé«˜ä»£ç çš„å¯è¯»æ€§<br><img src="http://cdn.linz.tech/Translate_and_Replace.png" alt=""></p>
</li>
<li><p>Translate Documentation èƒ½ç¿»è¯‘æ–‡æ¡£å¹¶ä¸”è‡ªåŠ¨æ’ç‰ˆï¼Œéå¸¸æ˜“äºé˜…è¯»</p>
</li>
<li><p>Mac Pro å¿«æ·é”®</p>
<ol>
<li>Ctrl + command + i å¿«é€Ÿç¿»è¯‘æ¡†</li>
<li>+U ç¿»è¯‘ / + O translter replate  </li>
</ol>
</li>
</ol>
<h2 id="2-codota"><a href="#2-codota" class="headerlink" title="2. codota"></a>2. codota</h2><p><img src="http://cdn.linz.tech/intellj_codota.png" alt=""></p>
<p>ã€æ³¨æ„ã€‘ï¼šé€šè¿‡æŸ¥æ‰¾å…³è”çš„æ¡ˆä¾‹ï¼Œæé«˜è‡ªå·±çš„ç¼–ç¨‹èƒ½åŠ›</p>
<p>ä½¿ç”¨æ–¹å¼</p>
<ol>
<li>é€‰ä¸­è¦æŸ¥è¯¢çš„ç±»-&gt; <ol>
<li>å³å‡» get relevant examples / (Mac Pro )ctrl + Shift + O</li>
<li>window  Ctrl + Shift + O</li>
</ol>
</li>
</ol>
<h2 id="3-Rainbow-brackets-ä¸åŒå±‚çº§çš„bracketsæ˜¾ç¤ºä¸åŒé¢œè‰²"><a href="#3-Rainbow-brackets-ä¸åŒå±‚çº§çš„bracketsæ˜¾ç¤ºä¸åŒé¢œè‰²" class="headerlink" title="3. Rainbow brackets ä¸åŒå±‚çº§çš„bracketsæ˜¾ç¤ºä¸åŒé¢œè‰²"></a>3. Rainbow brackets ä¸åŒå±‚çº§çš„bracketsæ˜¾ç¤ºä¸åŒé¢œè‰²</h2><h2 id="æé«˜å¼€å‘æ•ˆç‡"><a href="#æé«˜å¼€å‘æ•ˆç‡" class="headerlink" title="æé«˜å¼€å‘æ•ˆç‡"></a>æé«˜å¼€å‘æ•ˆç‡</h2><h3 id="Lombok-è‡ªåŠ¨ç”Ÿæˆ-getã€set-toString"><a href="#Lombok-è‡ªåŠ¨ç”Ÿæˆ-getã€set-toString" class="headerlink" title="Lombok è‡ªåŠ¨ç”Ÿæˆ getã€set toString"></a><a href="https://projectlombok.org/" target="_blank" rel="noopener">Lombok</a> è‡ªåŠ¨ç”Ÿæˆ getã€set toString</h3><blockquote>
<p>è‡ªåŠ¨ç”Ÿæˆ getã€setã€toStringã€equalså’ŒhashCodeæ–¹æ³•</p>
</blockquote>
<ul>
<li><a href="https://blog.csdn.net/zhglance/article/details/54931430" target="_blank" rel="noopener">Intellij IDEA å®‰è£…lombokåŠä½¿ç”¨è¯¦è§£</a></li>
</ul>
<h3 id="Android-Studio"><a href="#Android-Studio" class="headerlink" title="Android Studio"></a>Android Studio</h3><ol>
<li>å®‰è£… <code>Lombok Plugin</code></li>
<li>å¢åŠ ä¾èµ–<pre class="line-numbers language-gradle"><code class="language-gradle">dependencies {
 compileOnly 'org.projectlombok:lombok:1.18.10'
 annotationProcessor 'org.projectlombok:lombok:1.18.10'
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h3 id="GoogleLibraryVersionQuerier"><a href="#GoogleLibraryVersionQuerier" class="headerlink" title="GoogleLibraryVersionQuerier"></a><a href="https://github.com/wuyr/GoogleLibraryVersionQuerier" target="_blank" rel="noopener">GoogleLibraryVersionQuerier</a></h3><blockquote>
<p>å¸®åŠ©ä½ å¿«é€Ÿæ·»åŠ ä¾èµ–åº“å’ŒæŸ¥è¯¢å†å²ç‰ˆæœ¬</p>
</blockquote>
<h4 id="ä½¿ç”¨æŠ€å·§"><a href="#ä½¿ç”¨æŠ€å·§" class="headerlink" title="ä½¿ç”¨æŠ€å·§"></a>ä½¿ç”¨æŠ€å·§</h4><p><img src="http://cdn.linz.tech/android_sutdio_lib2.gif" alt=""></p>
<p><img src="http://cdn.linz.tech/android_sutdio_lib.gif" alt=""></p>
]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>IDE</tag>
      </tags>
  </entry>
  <entry>
    <title>com.google.android.material ä¸Šæ‰‹ç¬”è®°</title>
    <url>/2020/09/15/2020-09-15-hello-MaterialButton/</url>
    <content><![CDATA[<p>å¯¼å…¥ä¾èµ–åŒ…</p>
<pre class="line-numbers language-groovy"><code class="language-groovy">implementation <span class="token string">'com.google.android.material:material:1.2.0'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="MaterialButton"><a href="#MaterialButton" class="headerlink" title="MaterialButton"></a>MaterialButton</h1><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><p>æœ€å°æ¡ˆä¾‹</p>
<pre class="line-numbers language-xml"><code class="language-xml">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>com.google.android.material.button.MaterialButton</span>
      <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Hello World!<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">app:</span>strokeColor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@android:color/black<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">app:</span>strokeWidth</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1dp<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">app:</span>cornerRadius</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>16dp<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">app:</span>icon</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@drawable/ic_like<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">app:</span>iconSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20dp<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">app:</span>iconTint</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@android:color/holo_red_light<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">app:</span>backgroundTint</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@color/colorAccent<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintBottom_toBottomOf</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintLeft_toLeftOf</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintRight_toRightOf</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintTop_toTopOf</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">app:</span>rippleColor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@android:color/holo_purple<span class="token punctuation">"</span></span>
      <span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¸¸ç”¨å±æ€§</p>
<p><img src="http://cdn.linz.tech/material_button_screen_shot.png" alt=""></p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>app:backgroundTint</td>
<td>èƒŒæ™¯ç€è‰²</td>
</tr>
<tr>
<td>app:backgroundTintMode</td>
<td>ç€è‰²æ¨¡å¼</td>
</tr>
<tr>
<td>app:strokeColor</td>
<td>æè¾¹é¢œè‰²</td>
</tr>
<tr>
<td>app:strokeWidth</td>
<td>æè¾¹å®½åº¦</td>
</tr>
<tr>
<td>app:cornerRadius</td>
<td>åœ†è§’å¤§å°</td>
</tr>
<tr>
<td>app:rippleColor</td>
<td>æŒ‰å‹æ°´æ³¢çº¹é¢œè‰²</td>
</tr>
<tr>
<td>app:icon</td>
<td>å›¾æ ‡icon</td>
</tr>
<tr>
<td>app:iconSize</td>
<td>å›¾æ ‡å¤§å°</td>
</tr>
<tr>
<td>app:iconGravity</td>
<td>å›¾æ ‡é‡å¿ƒ</td>
</tr>
<tr>
<td>app:iconTint</td>
<td>å›¾æ ‡ç€è‰²</td>
</tr>
<tr>
<td>app:iconTintMode</td>
<td>å›¾æ ‡ç€è‰²æ¨¡å¼</td>
</tr>
<tr>
<td>app:iconPadding</td>
<td>å›¾æ ‡å’Œæ–‡æœ¬ä¹‹é—´çš„é—´è·</td>
</tr>
</tbody></table>
<h2 id="ä¸Šæ‰‹å‘ç°"><a href="#ä¸Šæ‰‹å‘ç°" class="headerlink" title="ä¸Šæ‰‹å‘ç°"></a>ä¸Šæ‰‹å‘ç°</h2><h3 id="backgroundTint-é»˜è®¤é¢œè‰²"><a href="#backgroundTint-é»˜è®¤é¢œè‰²" class="headerlink" title="backgroundTint é»˜è®¤é¢œè‰²"></a>backgroundTint é»˜è®¤é¢œè‰²</h3><pre class="line-numbers language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- ä¸»é¢˜è®¾ç½®çš„é¢œè‰² --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>colorPrimary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@color/colorPrimary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="æ¸å˜è‰²"><a href="#æ¸å˜è‰²" class="headerlink" title="æ¸å˜è‰²"></a>æ¸å˜è‰²</h3><pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>com.google.android.material.button.MaterialButton</span>
    <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span>â€@drawable/custom_backgroundâ€</span>
    <span class="token attr-name"><span class="token namespace">app:</span>backgroundTint</span><span class="token attr-value"><span class="token punctuation">=</span>â€@emptyâ€</span> <span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ul>
<li><code>@empty</code> AS ä¸è¯†åˆ«</li>
<li>ä»¥ä¸‹é…ç½®ä¹‹åä¸‹é¢å±æ€§è®¾ç½®å°†æ— æ•ˆ<pre class="line-numbers language-xml"><code class="language-xml">app:cornerRadius="16dp"
app:rippleColor="@android:color/holo_purple"
app:strokeColor="@android:color/black"
app:strokeWidth="1dp"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h3 id="å»æ‰é˜´å½±"><a href="#å»æ‰é˜´å½±" class="headerlink" title="å»æ‰é˜´å½±"></a>å»æ‰é˜´å½±</h3><p>å¸ƒå±€ä¸­åŠ å…¥</p>
<pre class="line-numbers language-xml"><code class="language-xml"> style="@style/Widget.MaterialComponents.Button.UnelevatedButton"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="Disable-æ— é¢œè‰²æ”¹å˜"><a href="#Disable-æ— é¢œè‰²æ”¹å˜" class="headerlink" title="Disable æ— é¢œè‰²æ”¹å˜"></a>Disable æ— é¢œè‰²æ”¹å˜</h3><p>è§£å†³ï¼š</p>
<p>ç¬¬ä¸€æ­¥ï¼šæ–°å»º<code>res/color</code>æ–‡ä»¶å¤¹ <font color="red">æ³¨æ„ï¼šselecctor_color.xml å¿…é¡»æ”¾åˆ°è¯¥æ–‡ä»¶å¤¹ä¸‹</font></p>
<p>ç¬¬äºŒæ­¥ï¼šæ–°å»ºselectoræ–‡ä»¶ï¼Œselector_blue_material_btn.xml</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>selector</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!--  disable æ˜¾ç¤º--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#999999<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">android:</span>state_enabled</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token comment" spellcheck="true">&lt;!--  æ­£å¸¸çŠ¶æ€ä¸‹æ˜¾ç¤º--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#0D78F5<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>selector</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>com.google.android.material.button.MaterialButton</span> 
    <span class="token attr-name">...</span>
    <span class="token attr-name"><span class="token namespace">android:</span>backgroundTint</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@color/selector_blue_material_btn<span class="token punctuation">"</span></span>
    <span class="token attr-name">..</span>                                                   
<span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ä¸Šæ‰‹é—®é¢˜"><a href="#ä¸Šæ‰‹é—®é¢˜" class="headerlink" title="ä¸Šæ‰‹é—®é¢˜"></a>ä¸Šæ‰‹é—®é¢˜</h2><h3 id="é—®é¢˜ä¸€"><a href="#é—®é¢˜ä¸€" class="headerlink" title="é—®é¢˜ä¸€"></a>é—®é¢˜ä¸€</h3><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/github_35186068/article/details/83929124" target="_blank" rel="noopener">è¿ç§»åˆ° AndroidX è¿‡ç¨‹ä¸­é‡åˆ°çš„å„ç§é—®é¢˜</a></p>
<pre class="line-numbers language-java"><code class="language-java">Caused by<span class="token operator">:</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>IllegalArgumentException<span class="token operator">:</span> The style on <span class="token keyword">this</span> component requires your app theme to be Theme<span class="token punctuation">.</span>MaterialComponents<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è§£å†³ä¸€ï¼š</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Theme.MyApp<span class="token punctuation">"</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Theme.MaterialComponents.Light.Bridge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!-- ... --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>å¯ä»¥é€‰æ‹©ä¸»é¢˜</p>
<pre class="line-numbers language-xml"><code class="language-xml">Theme.MaterialComponents.Bridge
Theme.MaterialComponents.Light.Bridge
Theme.MaterialComponents.NoActionBar.Bridge
Theme.MaterialComponents.Light.NoActionBar.Bridge
Theme.MaterialComponents.Light.DarkActionBar.Bridge<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è§£å†³äºŒAppCompatå¢åŠ å±æ€§ï¼š</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Theme.MyApp<span class="token punctuation">"</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Theme.AppCompat<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- Original AppCompat attributes. --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>colorPrimary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@color/my_app_primary_color<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>colorSecondary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@color/my_app_secondary_color<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android:colorBackground<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@color/my_app_background_color<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>colorError<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@color/my_app_error_color<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- New MaterialComponents attributes. --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>colorPrimaryVariant<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@color/my_app_primary_variant_color<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>colorSecondaryVariant<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@color/my_app_secondary_variant_color<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>colorSurface<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@color/my_app_surface_color<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>colorOnPrimary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@color/my_app_color_on_primary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>colorOnSecondary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@color/my_app_color_on_secondary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>colorOnBackground<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@color/my_app_color_on_background<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>colorOnError<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@color/my_app_color_on_error<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>colorOnSurface<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@color/my_app_color_on_surface<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>scrimBackground<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@color/mtrl_scrim_color<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>textAppearanceHeadline1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@style/TextAppearance.MaterialComponents.Headline1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>textAppearanceHeadline2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@style/TextAppearance.MaterialComponents.Headline2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>textAppearanceHeadline3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@style/TextAppearance.MaterialComponents.Headline3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>textAppearanceHeadline4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@style/TextAppearance.MaterialComponents.Headline4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>textAppearanceHeadline5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@style/TextAppearance.MaterialComponents.Headline5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>textAppearanceHeadline6<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@style/TextAppearance.MaterialComponents.Headline6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>textAppearanceSubtitle1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@style/TextAppearance.MaterialComponents.Subtitle1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>textAppearanceSubtitle2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@style/TextAppearance.MaterialComponents.Subtitle2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>textAppearanceBody1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@style/TextAppearance.MaterialComponents.Body1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>textAppearanceBody2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@style/TextAppearance.MaterialComponents.Body2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>textAppearanceCaption<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@style/TextAppearance.MaterialComponents.Caption<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>textAppearanceButton<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@style/TextAppearance.MaterialComponents.Button<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>textAppearanceOverline<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@style/TextAppearance.MaterialComponents.Overline<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="ShapeableImageView"><a href="#ShapeableImageView" class="headerlink" title="ShapeableImageView"></a>ShapeableImageView</h1><p><img src="http://cdn.linz.tech/ShapeableImageView.png" alt=""></p>
<h2 id="style-è®¾ç½®"><a href="#style-è®¾ç½®" class="headerlink" title="style è®¾ç½®"></a>style è®¾ç½®</h2><pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>StyleShapeAppearanceImage<span class="token punctuation">"</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style language-css">
    &lt;item name=<span class="token string">"cornerFamily"</span>>rounded&lt;/item>
    &lt;item name=<span class="token string">"cornerSize"</span>><span class="token number">16</span>dp&lt;/item>
    &lt;item name=<span class="token string">"cornerSizeTopRight"</span>><span class="token number">10</span>dp&lt;/item>
    &lt;item name=<span class="token string">"cornerSizeBottomRight"</span>><span class="token number">0</span>dp&lt;/item>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>com.google.android.material.imageview.ShapeableImageView</span>
    <span class="token attr-name"><span class="token namespace">app:</span>shapeAppearance</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@style/StyleShapeAppearanceImage<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>
    <span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ä»£ç è®¾ç½®"><a href="#ä»£ç è®¾ç½®" class="headerlink" title="ä»£ç è®¾ç½®"></a>ä»£ç è®¾ç½®</h2><pre class="line-numbers language-java"><code class="language-java">imageView<span class="token operator">?</span><span class="token punctuation">.</span>shapeAppearanceModel <span class="token operator">=</span> ShapeAppearanceModel<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setAllCorners</span><span class="token punctuation">(</span>CornerFamily<span class="token punctuation">.</span>ROUNDED<span class="token punctuation">,</span><span class="token number">20f</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setTopLeftCorner</span><span class="token punctuation">(</span>CornerFamily<span class="token punctuation">.</span>CUT<span class="token punctuation">,</span><span class="token function">RelativeCornerSize</span><span class="token punctuation">(</span><span class="token number">0.3f</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setTopRightCorner</span><span class="token punctuation">(</span>CornerFamily<span class="token punctuation">.</span>CUT<span class="token punctuation">,</span><span class="token function">RelativeCornerSize</span><span class="token punctuation">(</span><span class="token number">0.3f</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setBottomRightCorner</span><span class="token punctuation">(</span>CornerFamily<span class="token punctuation">.</span>CUT<span class="token punctuation">,</span><span class="token function">RelativeCornerSize</span><span class="token punctuation">(</span><span class="token number">0.3f</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setBottomLeftCorner</span><span class="token punctuation">(</span>CornerFamily<span class="token punctuation">.</span>CUT<span class="token punctuation">,</span><span class="token function">RelativeCornerSize</span><span class="token punctuation">(</span><span class="token number">0.3f</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setAllCornerSizes</span><span class="token punctuation">(</span>ShapeAppearanceModel<span class="token punctuation">.</span>PILL<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setTopLeftCornerSize</span><span class="token punctuation">(</span><span class="token number">20f</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setTopRightCornerSize</span><span class="token punctuation">(</span><span class="token function">RelativeCornerSize</span><span class="token punctuation">(</span><span class="token number">0.5f</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setBottomLeftCornerSize</span><span class="token punctuation">(</span><span class="token number">10f</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setBottomRightCornerSize</span><span class="token punctuation">(</span><span class="token function">AbsoluteCornerSize</span><span class="token punctuation">(</span><span class="token number">30f</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>cornerSize è¡¨ç¤ºè®¾ç½®çš„å¤§å°ï¼Œæœ‰RelativeCornerSizeå’ŒAbsoluteCornerSizeï¼ŒRelativeCornerSizeæ„é€ æ–¹æ³•æ¥æ”¶ä¸€ä¸ªç™¾åˆ†æ¯”ï¼ŒèŒƒå›´0-1ï¼›AbsoluteCornerSizeæ„é€ æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå…·ä½“æ•°å€¼ï¼Œè¿™ä¸ªæ•°å€¼å°±æ˜¯åœ†è§’çš„æ•°å€¼ã€‚</li>
<li>CornerFamily æœ‰ROUNDEDå’ŒCUTä¸¤ç§ï¼ŒROUNDEDæ˜¯åœ†è§’ï¼ŒCUTæ˜¯ç›´æ¥å°†åœ†è§’éƒ¨åˆ†è£åˆ‡æ‰ã€‚setAllCornerSizes(ShapeAppearanceModel.PILL)å¯ä»¥ç›´æ¥å®ç°åœ†å½¢æ•ˆæœã€‚</li>
</ul>
<h1 id="Slider-åŠ å¼ºç‰ˆçš„SeekBar"><a href="#Slider-åŠ å¼ºç‰ˆçš„SeekBar" class="headerlink" title="Slider(åŠ å¼ºç‰ˆçš„SeekBar)"></a>Slider(åŠ å¼ºç‰ˆçš„SeekBar)</h1><p><img src="http://cdn.linz.tech/material_google_slider.png" alt=""></p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>android:valueFrom</td>
<td>è¿›åº¦èµ·ç‚¹</td>
</tr>
<tr>
<td>android:valueTo</td>
<td>è¿›åº¦ç»ˆç‚¹</td>
</tr>
<tr>
<td>android:value</td>
<td>å½“å‰è¿›åº¦ç‚¹</td>
</tr>
<tr>
<td>android:stepSize</td>
<td>æ­¥é•¿ï¼ˆå¿…é¡»å¤§äº0ï¼‰</td>
</tr>
<tr>
<td>app:values</td>
<td>é…ç½®å¤šä¸ªsliderèŠ‚ç‚¹</td>
</tr>
<tr>
<td>app:labelBehavior</td>
<td>slider æ»‘åŠ¨æ—¶é¡¶éƒ¨æ˜¯å¦æ˜¾ç¤ºå˜åŒ–æ•ˆæœ</td>
</tr>
<tr>
<td>app:labelStyle</td>
<td>é…ç½®sliderèŠ‚ç‚¹é¡¶éƒ¨view style</td>
</tr>
</tbody></table>
<h1 id="BottomNavigationView"><a href="#BottomNavigationView" class="headerlink" title="BottomNavigationView"></a>BottomNavigationView</h1><p><img src="http://cdn.linz.tech/BottomNavigationView.png" alt=""></p>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><h2 id="material-components-android"><a href="#material-components-android" class="headerlink" title="material-components-android"></a><a href="https://github.com/material-components/material-components-android" target="_blank" rel="noopener">material-components-android</a></h2><h2 id="Android-Materialç»„ä»¶ä½¿ç”¨è¯¦è§£"><a href="#Android-Materialç»„ä»¶ä½¿ç”¨è¯¦è§£" class="headerlink" title="Android Materialç»„ä»¶ä½¿ç”¨è¯¦è§£"></a><a href="https://blog.csdn.net/magic0908/article/details/101029876" target="_blank" rel="noopener">Android Materialç»„ä»¶ä½¿ç”¨è¯¦è§£</a></h2>]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Android Jetpack Compose ä¸Šæ‰‹ç¬”è®°</title>
    <url>/2020/09/14/2020-09-14-hello-compose/</url>
    <content><![CDATA[<p>å‚è€ƒæ–‡ç« ï¼š<a href="https://juejin.im/post/6844903999347359751" target="_blank" rel="noopener">æ–°æŠ€æœ¯åˆæ¥äº†ï¼ŒAndroid Jetpack Compose æœ€å…¨ä¸Šæ‰‹æŒ‡å—</a></p>
<p>ã€æ³¨æ„ã€‘: preview åŠ¨æ€é¢„è§ˆæ¨¡å¼<a href="https://developer.android.com/studio/preview" target="_blank" rel="noopener">Android studio &gt;= 4.2 ç‰ˆæœ¬(ç‚¹å‡»ä¸‹è½½)</a></p>
<h2 id="èµ„æº"><a href="#èµ„æº" class="headerlink" title="èµ„æº"></a>èµ„æº</h2><p>å®˜ç½‘ï¼š</p>
<p><em><a href="https://developer.android.com/jetpack/compose" target="_blank" rel="noopener">https://developer.android.com/jetpack/compose</a></em></p>
<p>å®˜æ–¹demo ï¼š</p>
<p><em><a href="https://github.com/android/compose-samples" target="_blank" rel="noopener">https://github.com/android/compose-samples</a></em></p>
<p>å®˜æ–¹çš„ä»‹ç»ï¼š </p>
<p><em><a href="https://developer.android.com/jetpack/compose/setup" target="_blank" rel="noopener">https://developer.android.com/jetpack/compose/setup</a></em></p>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»é›¶æ­å»ºç¦…é“</title>
    <url>/2020/07/13/2020-07-13-zentao/</url>
    <content><![CDATA[<h2 id="Docker-å®‰è£…"><a href="#Docker-å®‰è£…" class="headerlink" title="Docker å®‰è£…"></a>Docker å®‰è£…</h2><pre class="line-numbers language-shell"><code class="language-shell">curl -fsSL get.docker.com -o get-docker.sh
sudo sh get-docker.sh --mirror Aliyun
mkdir -p /etc/docker/
vim /etc/docker/daemon.json<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>å‘daemon.jsonå†™å…¥å›½å†…dockeré•œåƒ</p>
<pre class="line-numbers language-shell"><code class="language-shell">{
  "registry-mirrors": ["http://hub-mirror.c.163.com"]
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>å¯åŠ¨docker</p>
<pre class="line-numbers language-shell"><code class="language-shell">su root #åˆ‡æ¢åˆ°rootç”¨æˆ·
systemctl enable docker #è®¾ç½®å¼€æœºè‡ªåŠ¨å¯ç”¨dockeræœåŠ¡
systemctl start docker #å¯åŠ¨docker æœåŠ¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>æ£€æŸ¥æ˜¯å¦å¯åŠ¨æˆåŠŸ</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="ç¦…é“å®‰è£…"><a href="#ç¦…é“å®‰è£…" class="headerlink" title="ç¦…é“å®‰è£…"></a>ç¦…é“å®‰è£…</h2><p>ä¸‹è½½æœ€æ–°çš„é•œåƒï¼Œå®˜æ–¹é•œåƒåœ°å€  <a href="https://hub.docker.com/r/easysoft/zentao" target="_blank" rel="noopener">https://hub.docker.com/r/easysoft/zentao</a></p>
<pre class="line-numbers language-shell"><code class="language-shell">docker pull easysoft/zentao:latest
##å¼€æºç‰ˆæœ¬
sudo docker pull easysoft/zentao:12.2.stable<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Quick start æ¡ˆä¾‹</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker run --name [å®¹å™¨å] -p [ä¸»æœºç«¯å£]:80 -v [ä¸»æœºç¦…é“ç›®å½•]:/app/zentaopms \
       -v [ä¸»æœºmysqlç›®å½•]:/var/lib/mysql \
       -e MYSQL_ROOT_PASSWORD=[æ•°æ®åº“å¯†ç ] -d easysoft/zentao:[é•œåƒæ ‡ç­¾]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>å…¶ä¸­ï¼Œå®¹å™¨åï¼šå¯åŠ¨çš„å®¹å™¨åå­—ï¼Œå¯éšæ„æŒ‡å®šï¼›<br>ä¸»æœºç«¯å£ï¼šä¸»æœºç«¯å£ä¸ºwebè®¿é—®ç«¯å£ï¼›<br>ä¸»æœºç¦…é“ç›®å½•ï¼šå¿…é¡»æŒ‡å®šï¼Œæ–¹ä¾¿ç¦…é“ä»£ç ã€é™„ä»¶ç­‰æ•°æ®çš„æŒä¹…åŒ–ï¼Œéå‡çº§æƒ…å†µéœ€æŒ‡å®šç©ºç›®å½•ï¼›<br>ä¸»æœºmysqlç›®å½•ï¼šå¿…é¡»æŒ‡å®šï¼Œæ–¹ä¾¿ç¦…é“æ•°æ®æŒä¹…åŒ–ï¼Œéå‡çº§æƒ…å†µéœ€æŒ‡å®šç©ºç›®å½•ï¼›<br>æ•°æ®åº“å¯†ç ï¼š å®¹å™¨å†…ç½®mysqlç”¨æˆ·åä¸ºroot,é»˜è®¤å¯†ç 123456ï¼Œå¦‚æœä¸ä¿®æ”¹å¯ä»¥ä¸æŒ‡å®šè¯¥å˜é‡ï¼Œ<br>æœæƒ³æ›´æ”¹å¯†ç å¯ä»¥è®¾ç½® MYSQL_ROOT_PASSWORDå˜é‡æ¥æ›´æ”¹å¯†ç ï¼›</p>
</blockquote>
<p>å®è·µä¸­ä½¿ç”¨çš„æ¡ˆä¾‹</p>
<p>ç¬¬ä¸€æ­¥ï¼š æ–°å»ºæŒä¹…åŒ–éœ€è¦çš„ç›®å½•</p>
<pre class="line-numbers language-shell"><code class="language-shell">mkdir -p /root/app/zentao/zentaopms && mkdir -p /root/app/zentao/mysqldata<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šç›´æ¥è·‘èµ·æ¥</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker run --name zentao_container -p 10371:80 -v /root/app/zentao/zentaopms:/app/zentaopms \
       -v /root/app/zentao/mysqldata:/var/lib/mysql \
       -e MYSQL_ROOT_PASSWORD=66688866 -d easysoft/zentao:latest<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="å‚è€ƒæ–‡ä»¶"><a href="#å‚è€ƒæ–‡ä»¶" class="headerlink" title="å‚è€ƒæ–‡ä»¶"></a>å‚è€ƒæ–‡ä»¶</h2><ul>
<li><a href="https://www.zentao.net/book/zentaopmshelp/405.html#5" target="_blank" rel="noopener">ç¦…é“å®˜æ–¹Dockerå®‰è£…æ–‡æ¡£</a></li>
</ul>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Facebook reboundæ¨¡ä»¿ç°å®ç”Ÿæ´»ä¸­çš„é˜»åŠ›å’Œå¼¹åŠ›çš„åº“</title>
    <url>/2020/07/12/2020-07-12-rebound/</url>
    <content><![CDATA[<h1 id="Reboundåº“å®æˆ˜ç¬”è®°"><a href="#Reboundåº“å®æˆ˜ç¬”è®°" class="headerlink" title="Reboundåº“å®æˆ˜ç¬”è®°"></a>Reboundåº“å®æˆ˜ç¬”è®°</h1><h2 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h2><p> <strong><a href="https://github.com/facebookarchive/rebound" target="_blank" rel="noopener"> github rebound</a></strong> </p>
<p>å¯¼å…¥</p>
<pre class="line-numbers language-groovy"><code class="language-groovy">implementation <span class="token string">'com.facebook.rebound:rebound:0.3.8'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="å¸¸ç”¨æ–¹æ³•"><a href="#å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h2><h3 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h3><pre class="line-numbers language-java"><code class="language-java">Spring spring <span class="token operator">=</span> SpringSystem<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createSpring</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//tension(æ‹‰åŠ›)å€¼æ”¹æˆ100(æ‹‰åŠ›å€¼è¶Šå°ï¼Œæ™ƒåŠ¨è¶Šæ…¢)ï¼Œfriction(æ‘©æ“¦åŠ›)å€¼æ”¹æˆ1(æ‘©æ“¦åŠ›è¶Šå°ï¼Œå¼¹åŠ¨å¤§å°è¶Šæ˜æ˜¾)</span>
spring<span class="token punctuation">.</span><span class="token function">setSpringConfig</span><span class="token punctuation">(</span>SpringConfig<span class="token punctuation">.</span><span class="token function">fromOrigamiTensionAndFriction</span><span class="token punctuation">(</span>tension<span class="token punctuation">,</span> friction<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
spring<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SimpleSpringListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="SpringChain"><a href="#SpringChain" class="headerlink" title="SpringChain"></a>SpringChain</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//åˆ›å»ºSpringChainå¯¹è±¡</span>
SpringChain springChain <span class="token operator">=</span> SpringChain<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 springChain<span class="token punctuation">.</span><span class="token function">addSpring</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SimpleSpringListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><h3 id="å¼¹ç°§æ•ˆæœ"><a href="#å¼¹ç°§æ•ˆæœ" class="headerlink" title="å¼¹ç°§æ•ˆæœ"></a>å¼¹ç°§æ•ˆæœ</h3><p>Demo1 </p>
<pre class="line-numbers language-java"><code class="language-java">    <span class="token comment" spellcheck="true">//Facebook-Reboundå¼¹ç°§</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">Two</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//åˆ›å»ºSpringSystemå¯¹è±¡</span>
        SpringSystem springSystem <span class="token operator">=</span> SpringSystem<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//æ·»åŠ åˆ°å¼¹ç°§ç³»ç»Ÿ</span>
        Spring spring <span class="token operator">=</span> springSystem<span class="token punctuation">.</span><span class="token function">createSpring</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        spring<span class="token punctuation">.</span><span class="token function">setCurrentValue</span><span class="token punctuation">(</span><span class="token number">1.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//tension(æ‹‰åŠ›)å€¼æ”¹æˆ100(æ‹‰åŠ›å€¼è¶Šå°ï¼Œæ™ƒåŠ¨è¶Šæ…¢)ï¼Œfriction(æ‘©æ“¦åŠ›)å€¼æ”¹æˆ1(æ‘©æ“¦åŠ›è¶Šå°ï¼Œå¼¹åŠ¨å¤§å°è¶Šæ˜æ˜¾)</span>
        spring<span class="token punctuation">.</span><span class="token function">setSpringConfig</span><span class="token punctuation">(</span>SpringConfig<span class="token punctuation">.</span><span class="token function">fromOrigamiTensionAndFriction</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//ä¸ä¸Šé¢ä¸€æ ·ï¼Œå›å¼¹æ•ˆæœæ›´æ˜æ˜¾ï¼Œä½†é€Ÿåº¦æ…¢</span>
<span class="token comment" spellcheck="true">//        spring.setSpringConfig(new SpringConfig(100, 1));</span>
        spring<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SimpleSpringListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSpringUpdate</span><span class="token punctuation">(</span>Spring spring<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">float</span> value <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span> spring<span class="token punctuation">.</span><span class="token function">getCurrentValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">float</span> scale <span class="token operator">=</span> <span class="token number">1f</span> <span class="token operator">-</span> <span class="token punctuation">(</span>value <span class="token operator">*</span> <span class="token number">0.5f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                imageView<span class="token punctuation">.</span><span class="token function">setScaleX</span><span class="token punctuation">(</span>scale<span class="token punctuation">)</span><span class="token punctuation">;</span>
                imageView<span class="token punctuation">.</span><span class="token function">setScaleY</span><span class="token punctuation">(</span>scale<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          spring<span class="token punctuation">.</span><span class="token function">setEndValue</span><span class="token punctuation">(</span><span class="token number">0.1f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Demo2 </p>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token comment" spellcheck="true">/**
   * å¼¹ç°§åŠ¨ç”»
   * @param v åŠ¨ç”»View
   * @param tension æ‹‰åŠ›ç³»æ•°
   * @param friction æ‘©æ“¦åŠ›ç³»æ•°
   */</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">animateViewDirection</span><span class="token punctuation">(</span><span class="token keyword">final</span> View v<span class="token punctuation">,</span> <span class="token keyword">float</span> from<span class="token punctuation">,</span> <span class="token keyword">float</span> to<span class="token punctuation">,</span> <span class="token keyword">double</span> tension<span class="token punctuation">,</span>
      <span class="token keyword">double</span> friction<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Spring spring <span class="token operator">=</span> SpringSystem<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createSpring</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    spring<span class="token punctuation">.</span><span class="token function">setCurrentValue</span><span class="token punctuation">(</span>from<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment" spellcheck="true">//tension(æ‹‰åŠ›)å€¼æ”¹æˆ100(æ‹‰åŠ›å€¼è¶Šå°ï¼Œæ™ƒåŠ¨è¶Šæ…¢)ï¼Œfriction(æ‘©æ“¦åŠ›)å€¼æ”¹æˆ1(æ‘©æ“¦åŠ›è¶Šå°ï¼Œå¼¹åŠ¨å¤§å°è¶Šæ˜æ˜¾)</span>
    spring<span class="token punctuation">.</span><span class="token function">setSpringConfig</span><span class="token punctuation">(</span>SpringConfig<span class="token punctuation">.</span><span class="token function">fromOrigamiTensionAndFriction</span><span class="token punctuation">(</span>tension<span class="token punctuation">,</span> friction<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    spring<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SimpleSpringListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSpringUpdate</span><span class="token punctuation">(</span>Spring spring<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//æ ¹æ®reboundè¿”å›çš„å€¼è¿›è¡Œæ›´æ–°</span>
         <span class="token keyword">float</span> value <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span> spring<span class="token punctuation">.</span><span class="token function">getCurrentValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">float</span> scale <span class="token operator">=</span> <span class="token number">1f</span> <span class="token operator">-</span> <span class="token punctuation">(</span>value <span class="token operator">*</span> <span class="token number">0.5f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        v<span class="token punctuation">.</span><span class="token function">setTranslationY</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span> spring<span class="token punctuation">.</span><span class="token function">getCurrentValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    spring<span class="token punctuation">.</span><span class="token function">setEndValue</span><span class="token punctuation">(</span>to<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">//setControlSpringIndexï¼šä»ç¬¬å‡ ä¸ªå­viewå¼€å§‹</span>
  springChain<span class="token punctuation">.</span><span class="token function">setControlSpringIndex</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">//è®¾ç½®ç»“æŸçš„ä½ç½®ï¼Œ</span>
  springChain<span class="token punctuation">.</span><span class="token function">getControlSpring</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setEndValue</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å¤šä¸ªchildView-â€œchain-â€œ-è¿›è¡Œæ§åˆ¶"><a href="#å¤šä¸ªchildView-â€œchain-â€œ-è¿›è¡Œæ§åˆ¶" class="headerlink" title="å¤šä¸ªchildView â€œchain â€œ è¿›è¡Œæ§åˆ¶"></a>å¤šä¸ªchildView â€œchain â€œ è¿›è¡Œæ§åˆ¶</h3><pre class="line-numbers language-java"><code class="language-java">    <span class="token comment" spellcheck="true">//Facebook-Rebound</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">One</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ViewGroup viewGroup <span class="token operator">=</span> <span class="token punctuation">(</span>ViewGroup<span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>chain_layout<span class="token punctuation">)</span><span class="token punctuation">;</span>
        viewGroup<span class="token punctuation">.</span><span class="token function">setVisibility</span><span class="token punctuation">(</span>View<span class="token punctuation">.</span>VISIBLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//åˆ›å»ºSpringChainå¯¹è±¡</span>
        SpringChain springChain <span class="token operator">=</span> SpringChain<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//è·å–åˆ°å­æ§ä»¶</span>
        <span class="token keyword">int</span> childCount <span class="token operator">=</span> viewGroup<span class="token punctuation">.</span><span class="token function">getChildCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> childCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">final</span> View view <span class="token operator">=</span> viewGroup<span class="token punctuation">.</span><span class="token function">getChildAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>

            springChain<span class="token punctuation">.</span><span class="token function">addSpring</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SimpleSpringListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSpringUpdate</span><span class="token punctuation">(</span>Spring spring<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">float</span> value <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span> spring<span class="token punctuation">.</span><span class="token function">getCurrentValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">//åªè®¾ç½®æ²¿Xè½´</span>
                    view<span class="token punctuation">.</span><span class="token function">setTranslationX</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        List<span class="token operator">&lt;</span>Spring<span class="token operator">></span> springs <span class="token operator">=</span> springChain<span class="token punctuation">.</span><span class="token function">getAllSprings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> springs<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            springs<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setCurrentValue</span><span class="token punctuation">(</span><span class="token number">1080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment" spellcheck="true">//setControlSpringIndexï¼šä»ç¬¬å‡ ä¸ªå­viewå¼€å§‹</span>
        springChain<span class="token punctuation">.</span><span class="token function">setControlSpringIndex</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//è®¾ç½®ç»“æŸçš„ä½ç½®ï¼Œ</span>
        springChain<span class="token punctuation">.</span><span class="token function">getControlSpring</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setEndValue</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://blog.csdn.net/wuqingsen1/article/details/84635115" target="_blank" rel="noopener">Facebook-Reboundå¼¹ç°§æ•ˆæœ</a></li>
</ul>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Macè‹¹æœç”µè„‘ä½¿ç”¨</title>
    <url>/2020/06/04/2020-06-04-Mac_pro_usage/</url>
    <content><![CDATA[<h1 id="å¸¸ç”¨è½¯ä»¶å®‰è£…"><a href="#å¸¸ç”¨è½¯ä»¶å®‰è£…" class="headerlink" title="å¸¸ç”¨è½¯ä»¶å®‰è£…"></a>å¸¸ç”¨è½¯ä»¶å®‰è£…</h1><h2 id="ç¬¬ä¸€èŠ‚-å¼€å‘è½¯ä»¶å®‰è£…"><a href="#ç¬¬ä¸€èŠ‚-å¼€å‘è½¯ä»¶å®‰è£…" class="headerlink" title="ç¬¬ä¸€èŠ‚ å¼€å‘è½¯ä»¶å®‰è£…"></a>ç¬¬ä¸€èŠ‚ å¼€å‘è½¯ä»¶å®‰è£…</h2><ul>
<li><a href="https://www.jianshu.com/p/4e93b48f9f63" target="_blank" rel="noopener">navicat</a> æ•°æ®åº“</li>
</ul>
<h2 id="ç¬¬äºŒèŠ‚-æ—¥å¸¸ä½¿ç”¨"><a href="#ç¬¬äºŒèŠ‚-æ—¥å¸¸ä½¿ç”¨" class="headerlink" title="ç¬¬äºŒèŠ‚ æ—¥å¸¸ä½¿ç”¨"></a>ç¬¬äºŒèŠ‚ æ—¥å¸¸ä½¿ç”¨</h2><p>Macé”®ç›˜å¸ƒå±€åŠå›¾æ ‡å¯¹ç…§</p>
<p><img src="http://cdn.linz.tech/Mac%E9%94%AE%E7%9B%98%E5%B8%83%E5%B1%80%E5%AF%B9%E7%85%A7%E5%9B%BE.png" alt=""></p>
<h2 id="Macç³»ç»Ÿå¿«æ·é”®"><a href="#Macç³»ç»Ÿå¿«æ·é”®" class="headerlink" title="Macç³»ç»Ÿå¿«æ·é”®"></a>Macç³»ç»Ÿå¿«æ·é”®</h2><p>Mac å¿«æ·é”®</p>
<h3 id="ç³»ç»Ÿåº”ç”¨"><a href="#ç³»ç»Ÿåº”ç”¨" class="headerlink" title="ç³»ç»Ÿåº”ç”¨"></a>ç³»ç»Ÿåº”ç”¨</h3><ol>
<li>é€€å‡ºå½“å‰åº”ç”¨ cmd + Q</li>
<li>å…³é—­å½“å‰çª—å£ command+W</li>
<li>âŒ˜ + option + v ç§»åŠ¨</li>
<li>âŒ˜+ delete åˆ é™¤</li>
<li>âŒ˜ + Tæ‰“å¼€æ ‡ç­¾é¡µ</li>
<li>âŒ˜ + i  æ˜¾ç¤ºå½“å‰æ–‡ä»¶ç®€ä»‹</li>
<li>âŒ˜ + H éšè—çª—å£</li>
<li>âŒ˜ + H æœ€å°åŒ–çª—å£ </li>
<li>å¼ºåˆ¶é€€å‡ºåº”ç”¨ç¨‹åºï¼šoption+command+esc</li>
<li>Command + Shift + 4 æˆªå›¾åŒºåŸŸ ï¼ˆé¼ æ ‡æ‚¬åœ+ åŠ ç©ºæ ¼é”®æˆªå–è½¯ä»¶è½¯ä»¶å•ä¸ªçª—å£ï¼‰</li>
<li>Command + Shift + 5 æˆªå±è´§å½•å±</li>
<li>Command + Shift + 3 æˆªå–å…¨å±å±å¹•</li>
<li>âŒ˜ + O æ‰“å¼€æ–‡ä»¶</li>
<li>é€‰æ‹©æ–‡ä»¶ + ç©ºæ ¼é”® å¿«é€Ÿé¢„è§ˆ</li>
<li>é€‰ä¸­å¤šä¸ªæ–‡ä»¶ + âŒ˜ + ctrl + n å¿«é€Ÿæ”¶çº³</li>
<li>âŒ˜ + option + å…³æœºé”® è¿›å…¥ä¼‘çœ  </li>
<li>âŒ˜ + ctrl + å…³æœºé”®  é‡å¯ç”µè„‘ </li>
<li>âŒ˜ + option + ctrl + å…³æœºé”® å¿«é€Ÿå…³æœº</li>
<li>F11 æ˜¾ç¤ºæ¡Œé¢</li>
</ol>
<h3 id="è½¯ä»¶åº”ç”¨"><a href="#è½¯ä»¶åº”ç”¨" class="headerlink" title="è½¯ä»¶åº”ç”¨"></a>è½¯ä»¶åº”ç”¨</h3><ol>
<li>bof</li>
<li>. âŒ˜â‡§.(Command + Shift + .) æ˜¾ç¤ºå’Œéšè—æ–‡ä»¶</li>
</ol>
<p>Fasdf</p>
<p>ç»ˆç«¯å¿«æ·é”®</p>
<p>cmmand + D ç»ˆç«¯åˆ†å±å¹•</p>
<p>æ‰“å¼€finder ï¼š åœ¨Terminalä¸­è¾“å…¥å‘½ä»¤: open .</p>
<p>android studio Mac å¿«æ·é”®</p>
<p>new scratch file </p>
<p>Command + shift + N </p>
<p>Cmd + alt + control + r rebuild </p>
<p>Control +cmc + F12 attach to process</p>
<p>æ–°å»ºtyporaå¿«æ·é”®</p>
<p>alias typora=â€open -a typoraâ€</p>
<p>Typora . //æ‰“å¼€æœ¬åœ°æ–‡ä»¶</p>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Coding Interview University</title>
    <url>/2020/03/27/2020-03-27-Coding%20Interview%20University-Readme-cn/</url>
    <content><![CDATA[<h1 id="è¯‘-Coding-Interview-University-ä¸€å¥—å®Œæ•´çš„å­¦ä¹ æ‰‹å†Œå¸®åŠ©è‡ªå·±å‡†å¤‡-Google-çš„é¢è¯•"><a href="#è¯‘-Coding-Interview-University-ä¸€å¥—å®Œæ•´çš„å­¦ä¹ æ‰‹å†Œå¸®åŠ©è‡ªå·±å‡†å¤‡-Google-çš„é¢è¯•" class="headerlink" title="[è¯‘] Coding Interview University ä¸€å¥—å®Œæ•´çš„å­¦ä¹ æ‰‹å†Œå¸®åŠ©è‡ªå·±å‡†å¤‡ Google çš„é¢è¯•"></a>[è¯‘] Coding Interview University ä¸€å¥—å®Œæ•´çš„å­¦ä¹ æ‰‹å†Œå¸®åŠ©è‡ªå·±å‡†å¤‡ Google çš„é¢è¯•</h1><blockquote>
<ul>
<li>åŸæ–‡åœ°å€ï¼š<a href="https://github.com/jwasham/coding-interview-university" target="_blank" rel="noopener">Coding Interview University</a></li>
</ul>
</blockquote>
<ul>
<li>åŸæ–‡ä½œè€…ï¼š<a href="https://github.com/jwasham" target="_blank" rel="noopener">John Washam</a></li>
<li>è¯‘æ–‡å‡ºè‡ªï¼š<a href="https://github.com/xitu/gold-miner" target="_blank" rel="noopener">æ˜é‡‘ç¿»è¯‘è®¡åˆ’</a></li>
<li>è¯‘è€…ï¼š<a href="https://github.com/aleen42" target="_blank" rel="noopener">aleen42</a>ï¼Œ<a href="https://github.com/Newt0n" target="_blank" rel="noopener">Newton</a>ï¼Œ<a href="https://github.com/bobmayuze" target="_blank" rel="noopener">bobmayuze</a>ï¼Œ<a href="https://github.com/laobie" target="_blank" rel="noopener">Jaeger</a>ï¼Œ<a href="https://github.com/sqrthree" target="_blank" rel="noopener">sqrthree</a></li>
</ul>
<p><a href="https://github.com/xitu/gold-miner" target="_blank" rel="noopener"><img src="https://camo.githubusercontent.com/c9c9db0a39b56738a62332f0791d58b1522fdf82/68747470733a2f2f7261776769742e636f6d2f616c65656e34322f6261646765732f6d61737465722f7372632f786974752e737667" alt="xitu"></a></p>
<h2 id="è¿™æ˜¯ï¼Ÿ"><a href="#è¿™æ˜¯ï¼Ÿ" class="headerlink" title="è¿™æ˜¯ï¼Ÿ"></a>è¿™æ˜¯ï¼Ÿ</h2><p>è¿™æ˜¯æˆ‘ä¸ºäº†ä» web å¼€å‘è€…ï¼ˆè‡ªå­¦ã€éè®¡ç®—æœºç§‘å­¦å­¦ä½ï¼‰èœ•å˜è‡³ Google è½¯ä»¶å·¥ç¨‹å¸ˆæ‰€åˆ¶å®šçš„è®¡åˆ’ï¼Œå…¶å†…å®¹å†æ—¶æ•°æœˆã€‚</p>
<p><img src="https://d3j2pkmjtin6ou.cloudfront.net/coding-at-the-whiteboard-silicon-valley.png" alt="ç™½æ¿ä¸Šç¼–ç¨‹ â€”â€”â€”â€” æ¥è‡ª HBO é¢‘é“çš„å‰§é›†ï¼Œâ€œç¡…è°·â€"></p>
<p>è¿™ä¸€é•¿åˆ—è¡¨æ˜¯ä» <strong>Google çš„æŒ‡å¯¼ç¬”è®°</strong> ä¸­èƒå–å‡ºæ¥å¹¶è¿›è¡Œæ‰©å±•ã€‚å› æ­¤ï¼Œæœ‰äº›äº‹æƒ…ä½ å¿…é¡»å»äº†è§£ä¸€ä¸‹ã€‚æˆ‘åœ¨åˆ—è¡¨çš„åº•éƒ¨æ·»åŠ äº†ä¸€äº›é¢å¤–é¡¹ï¼Œç”¨äºè§£å†³é¢è¯•ä¸­å¯èƒ½ä¼šå‡ºç°çš„é—®é¢˜ã€‚è¿™äº›é¢å¤–é¡¹å¤§éƒ¨åˆ†æ˜¯æ¥è‡ªäº Steve Yegge çš„â€œ<a href="http://steve-yegge.blogspot.com/2008/03/get-that-job-at-google.html" target="_blank" rel="noopener">å¾—åˆ°åœ¨ Google å·¥ä½œçš„æœºä¼š</a>â€ã€‚è€Œåœ¨ Google æŒ‡å¯¼ç¬”è®°çš„é€å­—é—´ï¼Œå®ƒä»¬æœ‰æ—¶ä¹Ÿä¼šè¢«åæ˜ å‡ºæ¥ã€‚</p>
<hr>
<h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><ul>
<li><a href="#è¿™æ˜¯">è¿™æ˜¯ï¼Ÿ</a></li>
<li><a href="#ä¸ºä½•è¦ç”¨åˆ°å®ƒ">ä¸ºä½•è¦ç”¨åˆ°å®ƒï¼Ÿ</a></li>
<li><a href="#å¦‚ä½•ä½¿ç”¨å®ƒ">å¦‚ä½•ä½¿ç”¨å®ƒ</a></li>
<li><a href="#æ‹¥æœ‰ä¸€å-googler-çš„å¿ƒæ€">æ‹¥æœ‰ä¸€å Googler çš„å¿ƒæ€</a></li>
<li><a href="#æˆ‘å¾—åˆ°äº†å·¥ä½œå—">æˆ‘å¾—åˆ°äº†å·¥ä½œå—ï¼Ÿ</a></li>
<li><a href="#è·Ÿç€æˆ‘çš„è„šæ­¥">è·Ÿç€æˆ‘çš„è„šæ­¥</a></li>
<li><a href="#ä¸è¦å¦„è‡ªè²è–„">ä¸è¦å¦„è‡ªè²è–„</a></li>
<li><a href="#å…³äº-google">å…³äº Google</a></li>
<li><a href="#ç›¸å…³è§†é¢‘èµ„æº">ç›¸å…³è§†é¢‘èµ„æº</a></li>
<li><a href="#é¢è¯•è¿‡ç¨‹--é€šç”¨çš„é¢è¯•å‡†å¤‡">é¢è¯•è¿‡ç¨‹ &amp; é€šç”¨çš„é¢è¯•å‡†å¤‡</a></li>
<li><a href="#ä¸ºä½ çš„é¢è¯•é€‰æ‹©ä¸€ç§è¯­è¨€">ä¸ºä½ çš„é¢è¯•é€‰æ‹©ä¸€ç§è¯­è¨€</a></li>
<li><a href="#åœ¨ä½ å¼€å§‹ä¹‹å‰">åœ¨ä½ å¼€å§‹ä¹‹å‰</a></li>
<li><a href="#ä½ æ‰€çœ‹ä¸åˆ°çš„">ä½ æ‰€çœ‹ä¸åˆ°çš„</a></li>
<li><a href="#æ—¥å¸¸è®¡åˆ’">æ—¥å¸¸è®¡åˆ’</a></li>
<li><a href="#å¿…å¤‡çŸ¥è¯†">å¿…å¤‡çŸ¥è¯†</a></li>
<li><a href="#ç®—æ³•å¤æ‚åº¦--big-o--æ¸è¿›åˆ†ææ³•">ç®—æ³•å¤æ‚åº¦ / Big-O / æ¸è¿›åˆ†ææ³•</a></li>
<li><a href="#æ•°æ®ç»“æ„">æ•°æ®ç»“æ„</a><ul>
<li><a href="#æ•°ç»„arrays">æ•°ç»„ï¼ˆArraysï¼‰</a></li>
<li><a href="#é“¾è¡¨linked-lists">é“¾è¡¨ï¼ˆLinked Listsï¼‰</a></li>
<li><a href="#å †æ ˆstack">å †æ ˆï¼ˆStackï¼‰</a></li>
<li><a href="#é˜Ÿåˆ—queue">é˜Ÿåˆ—ï¼ˆQueueï¼‰</a></li>
<li><a href="#å“ˆå¸Œè¡¨hash-table">å“ˆå¸Œè¡¨ï¼ˆHash tableï¼‰</a></li>
</ul>
</li>
<li><a href="#æ›´å¤šçš„çŸ¥è¯†">æ›´å¤šçš„çŸ¥è¯†</a><ul>
<li><a href="#äºŒåˆ†æŸ¥æ‰¾binary-search">äºŒåˆ†æŸ¥æ‰¾ï¼ˆBinary searchï¼‰</a></li>
<li><a href="#æŒ‰ä½è¿ç®—bitwise-operations">æŒ‰ä½è¿ç®—ï¼ˆBitwise operationsï¼‰</a></li>
</ul>
</li>
<li><a href="#æ ‘trees">æ ‘ï¼ˆTreesï¼‰</a><ul>
<li><a href="#æ ‘--ç¬”è®°--èƒŒæ™¯">æ ‘ â€”â€” ç¬”è®° &amp; èƒŒæ™¯</a></li>
<li><a href="#äºŒå‰æŸ¥æ‰¾æ ‘binary-search-treesbsts">äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBinary search treesï¼‰ï¼šBSTs</a></li>
<li><a href="#å †heap--ä¼˜å…ˆçº§é˜Ÿåˆ—priority-queue--äºŒå‰å †binary-heap">å †ï¼ˆHeapï¼‰ / ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ˆPriority Queueï¼‰ / äºŒå‰å †ï¼ˆBinary Heapï¼‰</a></li>
<li><a href="#å­—å…¸æ ‘tries">å­—å…¸æ ‘ï¼ˆTriesï¼‰</a></li>
<li><a href="#å¹³è¡¡æŸ¥æ‰¾æ ‘balanced-search-trees">å¹³è¡¡æŸ¥æ‰¾æ ‘ï¼ˆBalanced search treesï¼‰</a></li>
<li><a href="#n-å‰æ ‘k-å‰æ ‘m-å‰æ ‘">N å‰æ ‘ï¼ˆK å‰æ ‘ã€M å‰æ ‘ï¼‰</a></li>
</ul>
</li>
<li><a href="#æ’åºsorting">æ’åº</a></li>
<li><a href="#å›¾graphs">å›¾ï¼ˆGraphsï¼‰</a></li>
<li><a href="#æ›´å¤šçŸ¥è¯†">æ›´å¤šçŸ¥è¯†</a><ul>
<li><a href="#é€’å½’recursion">é€’å½’</a></li>
<li><a href="#åŠ¨æ€è§„åˆ’dynamic-programming">åŠ¨æ€è§„åˆ’</a></li>
<li><a href="#ç»„åˆcombinatorics-n-ä¸­é€‰-k-ä¸ª--æ¦‚ç‡probability">ç»„åˆ &amp; æ¦‚ç‡</a></li>
<li><a href="#np-np-å®Œå…¨å’Œè¿‘ä¼¼ç®—æ³•">NP, NP-å®Œå…¨å’Œè¿‘ä¼¼ç®—æ³•</a></li>
<li><a href="#ç¼“å­˜cache">ç¼“å­˜</a></li>
<li><a href="#è¿›ç¨‹processeå’Œçº¿ç¨‹thread">è¿›ç¨‹å’Œçº¿ç¨‹</a></li>
<li><a href="#ç³»ç»Ÿè®¾è®¡å¯ä¼¸ç¼©æ€§æ•°æ®å¤„ç†">ç³»ç»Ÿè®¾è®¡ã€å¯ä¼¸ç¼©æ€§ã€æ•°æ®å¤„ç†</a></li>
<li><a href="#è®ºæ–‡">è®ºæ–‡</a></li>
<li><a href="#æµ‹è¯•">æµ‹è¯•</a></li>
<li><a href="#è°ƒåº¦">è°ƒåº¦</a></li>
<li><a href="#å®ç°ç³»ç»Ÿä¾‹ç¨‹">å®ç°ç³»ç»Ÿä¾‹ç¨‹</a></li>
<li><a href="#å­—ç¬¦ä¸²æœç´¢å’Œæ“ä½œ">å­—ç¬¦ä¸²æœç´¢å’Œæ“ä½œ</a></li>
</ul>
</li>
<li><a href="#ç»ˆé¢">ç»ˆé¢</a></li>
<li><a href="#ä¹¦ç±">ä¹¦ç±</a></li>
<li><a href="#ç¼–ç ç»ƒä¹ å’ŒæŒ‘æˆ˜">ç¼–ç ç»ƒä¹ å’ŒæŒ‘æˆ˜</a></li>
<li><a href="#å½“ä½ ä¸´è¿‘é¢è¯•æ—¶">å½“ä½ ä¸´è¿‘é¢è¯•æ—¶</a></li>
<li><a href="#ä½ çš„ç®€å†">ä½ çš„ç®€å†</a></li>
<li><a href="#å½“é¢è¯•æ¥ä¸´çš„æ—¶å€™">å½“é¢è¯•æ¥ä¸´çš„æ—¶å€™</a></li>
<li><a href="#é—®é¢è¯•å®˜çš„é—®é¢˜">é—®é¢è¯•å®˜çš„é—®é¢˜</a></li>
<li><a href="#å½“ä½ è·å¾—äº†æ¢¦æƒ³çš„èŒä½">å½“ä½ è·å¾—äº†æ¢¦æƒ³çš„èŒä½</a></li>
</ul>
<p>â€”â€”â€”â€”â€”- ä¸‹é¢çš„å†…å®¹æ˜¯å¯é€‰çš„ â€”â€”â€”â€”â€”-</p>
<ul>
<li><a href="#é™„åŠ çš„å­¦ä¹ ">é™„åŠ çš„å­¦ä¹ </a><ul>
<li><a href="#unicode">Unicode</a></li>
<li><a href="#å­—èŠ‚é¡ºåº">å­—èŠ‚é¡ºåº</a></li>
<li><a href="#emacs-and-vim">Emacs and vi(m)</a></li>
<li><a href="#unix-å‘½ä»¤è¡Œå·¥å…·">Unix å‘½ä»¤è¡Œå·¥å…·</a></li>
<li><a href="#ä¿¡æ¯èµ„æº-è§†é¢‘">ä¿¡æ¯èµ„æº (è§†é¢‘)</a></li>
<li><a href="#å¥‡å¶æ ¡éªŒä½--æ±‰æ˜ç -è§†é¢‘">å¥‡å¶æ ¡éªŒä½ &amp; æ±‰æ˜ç  (è§†é¢‘)</a></li>
<li><a href="#ç³»ç»Ÿç†µå€¼ç³»ç»Ÿå¤æ‚åº¦">ç³»ç»Ÿç†µå€¼ï¼ˆç³»ç»Ÿå¤æ‚åº¦ï¼‰</a></li>
<li><a href="#å¯†ç å­¦">å¯†ç å­¦</a></li>
<li><a href="#å‹ç¼©">å‹ç¼©</a></li>
<li><a href="#ç½‘ç»œ-è§†é¢‘">ç½‘ç»œ (è§†é¢‘)</a></li>
<li><a href="#è®¡ç®—æœºå®‰å…¨">è®¡ç®—æœºå®‰å…¨</a></li>
<li><a href="#é‡Šæ”¾ç¼“å­˜">é‡Šæ”¾ç¼“å­˜</a></li>
<li><a href="#å¹¶è¡Œå¹¶å‘ç¼–ç¨‹">å¹¶è¡Œ/å¹¶å‘ç¼–ç¨‹</a></li>
<li><a href="#è®¾è®¡æ¨¡å¼">è®¾è®¡æ¨¡å¼</a></li>
<li><a href="#ä¿¡æ¯ä¼ è¾“-åºåˆ—åŒ–å’Œé˜Ÿåˆ—åŒ–çš„ç³»ç»Ÿ">ä¿¡æ¯ä¼ è¾“, åºåˆ—åŒ–, å’Œé˜Ÿåˆ—åŒ–çš„ç³»ç»Ÿ</a></li>
<li><a href="#å¿«é€Ÿå‚…é‡Œå¶å˜æ¢">å¿«é€Ÿå‚…é‡Œå¶å˜æ¢</a></li>
<li><a href="#å¸ƒéš†è¿‡æ»¤å™¨">å¸ƒéš†è¿‡æ»¤å™¨</a></li>
<li><a href="#van-emde-boas-æ ‘">van Emde Boas æ ‘</a></li>
<li><a href="#æ›´æ·±å…¥çš„æ•°æ®ç»“æ„">æ›´æ·±å…¥çš„æ•°æ®ç»“æ„</a></li>
<li><a href="#è·³è¡¨">è·³è¡¨</a></li>
<li><a href="#ç½‘ç»œæµ">ç½‘ç»œæµ</a></li>
<li><a href="#ä¸ç›¸äº¤é›†--è”åˆæŸ¥æ‰¾">ä¸ç›¸äº¤é›† &amp; è”åˆæŸ¥æ‰¾</a></li>
<li><a href="#math-for-fast-processing">å¿«é€Ÿå¤„ç†æ•°å­¦</a></li>
<li><a href="#æ ‘å †-treap">æ ‘å † (Treap)</a></li>
<li><a href="#çº¿æ€§è§„åˆ’linear-programmingè§†é¢‘">çº¿æ€§è§„åˆ’</a></li>
<li><a href="#å‡ ä½•å‡¸åŒ…geometry-convex-hullè§†é¢‘">å‡ ä½•ï¼šå‡¸åŒ…ï¼ˆGeometry, Convex hullï¼‰</a></li>
<li><a href="#ç¦»æ•£æ•°å­¦">ç¦»æ•£æ•°å­¦</a></li>
<li><a href="#æœºå™¨å­¦ä¹ machine-learning">æœºå™¨å­¦ä¹ </a></li>
<li><a href="#go-è¯­è¨€">Go è¯­è¨€</a></li>
</ul>
</li>
<li><a href="#ä¸€äº›ä¸»é¢˜çš„é¢å¤–å†…å®¹">ä¸€äº›ä¸»é¢˜çš„é¢å¤–å†…å®¹</a></li>
<li><a href="#è§†é¢‘ç³»åˆ—">è§†é¢‘ç³»åˆ—</a></li>
<li><a href="#è®¡ç®—æœºç§‘å­¦è¯¾ç¨‹">è®¡ç®—æœºç§‘å­¦è¯¾ç¨‹</a></li>
</ul>
<hr>
<h2 id="ä¸ºä½•è¦ç”¨åˆ°å®ƒï¼Ÿ"><a href="#ä¸ºä½•è¦ç”¨åˆ°å®ƒï¼Ÿ" class="headerlink" title="ä¸ºä½•è¦ç”¨åˆ°å®ƒï¼Ÿ"></a>ä¸ºä½•è¦ç”¨åˆ°å®ƒï¼Ÿ</h2><p>æˆ‘ä¸€ç›´éƒ½æ˜¯éµå¾ªè¯¥è®¡åˆ’å»å‡†å¤‡ Google çš„é¢è¯•ã€‚è‡ª 1997 å¹´ä»¥æ¥ï¼Œæˆ‘ä¸€ç›´ä»äº‹äº web ç¨‹åºçš„æ„å»ºã€æœåŠ¡å™¨çš„æ„å»ºåŠåˆ›ä¸šå‹å…¬å¸çš„åˆ›åŠã€‚å¯¹äºåªæœ‰ç€ä¸€ä¸ªç»æµå­¦å­¦ä½ï¼Œè€Œä¸æ˜¯è®¡ç®—æœºç§‘å­¦å­¦ä½ï¼ˆCS degreeï¼‰çš„æˆ‘æ¥è¯´ï¼Œåœ¨èŒä¸šç”Ÿæ¶¯ä¸­æ‰€å–å¾—çš„éƒ½éå¸¸æˆåŠŸã€‚ç„¶è€Œï¼Œæˆ‘æƒ³åœ¨ Google å·¥ä½œï¼Œå¹¶è¿›å…¥å¤§å‹ç³»ç»Ÿä¸­ï¼ŒçœŸæ­£åœ°å»ç†è§£è®¡ç®—æœºç³»ç»Ÿã€ç®—æ³•æ•ˆç‡ã€æ•°æ®ç»“æ„æ€§èƒ½ã€ä½çº§åˆ«ç¼–ç¨‹è¯­è¨€åŠå…¶å·¥ä½œåŸç†ã€‚å¯ä¸€é¡¹éƒ½ä¸äº†è§£çš„æˆ‘ï¼Œæ€ä¹ˆä¼šè¢« Google æ‰€åº”è˜å‘¢ï¼Ÿ</p>
<p>å½“æˆ‘åˆ›å»ºè¯¥é¡¹ç›®æ—¶ï¼Œæˆ‘ä»ä¸€ä¸ªå †æ ˆåˆ°ä¸€ä¸ªå †éƒ½ä¸äº†è§£ã€‚é‚£æ—¶çš„æˆ‘ï¼Œå®Œå…¨ä¸äº†è§£ Big-O ã€æ ‘ï¼Œæˆ–å¦‚ä½•å»éå†ä¸€ä¸ªå›¾ã€‚å¦‚æœéè¦æˆ‘å»ç¼–å†™ä¸€ä¸ªæ’åºç®—æ³•çš„è¯ï¼Œæˆ‘åªèƒ½è¯´æˆ‘æ‰€å†™çš„è‚¯å®šæ˜¯å¾ˆç³Ÿç³•ã€‚ä¸€ç›´ä»¥æ¥ï¼Œæˆ‘æ‰€ç”¨çš„ä»»ä½•æ•°æ®ç»“æ„éƒ½æ˜¯å†…å»ºäºç¼–ç¨‹è¯­è¨€å½“ä¸­ã€‚è‡³äºå®ƒä»¬åœ¨èƒŒåæ˜¯å¦‚ä½•è¿ä½œï¼Œå¯¹æ­¤æˆ‘ä¸€æ¦‚ä¸æ¸…æ¥šã€‚æ­¤å¤–ï¼Œä»¥å‰çš„æˆ‘å¹¶ä¸éœ€è¦å¯¹å†…å­˜è¿›è¡Œç®¡ç†ï¼Œæœ€å¤šå°±åªæ˜¯åœ¨ä¸€ä¸ªæ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹æŠ›å‡ºäº†â€œå†…å­˜ä¸è¶³â€çš„é”™è¯¯åï¼Œé‡‡å–ä¸€äº›æƒå˜æªæ–½ã€‚è€Œåœ¨æˆ‘çš„ç¼–ç¨‹ç”Ÿæ´»ä¸­ï¼Œä¹Ÿç”šå°‘ä½¿ç”¨åˆ°å¤šç»´æ•°ç»„ï¼Œå¯å…³è”æ•°ç»„å´æˆåƒä¸Šä¸‡ã€‚è€Œä¸”ï¼Œä»ä¸€å¼€å§‹åˆ°ç°åœ¨ï¼Œæˆ‘éƒ½è¿˜æœªæ›¾è‡ªå·±å®ç°è¿‡æ•°æ®ç»“æ„ã€‚</p>
<p>å°±æ˜¯è¿™æ ·çš„æˆ‘ï¼Œåœ¨ç»è¿‡è¯¥å­¦ä¹ è®¡åˆ’åï¼Œå·²ç„¶å¯¹è¢« Google æ‰€é›‡ä½£å……æ»¡ä¿¡å¿ƒã€‚è¿™æ˜¯ä¸€ä¸ªæ¼«é•¿çš„è®¡åˆ’ï¼Œä»¥è‡³äºèŠ±è´¹äº†æˆ‘æ•°æœˆçš„æ—¶é—´ã€‚è‹¥æ‚¨æ—©å·²ç†Ÿæ‚‰å¤§éƒ¨åˆ†çš„çŸ¥è¯†ï¼Œé‚£ä¹ˆä¹Ÿè®¸èƒ½èŠ‚çœå¤§é‡çš„æ—¶é—´ã€‚</p>
<h2 id="å¦‚ä½•ä½¿ç”¨å®ƒ"><a href="#å¦‚ä½•ä½¿ç”¨å®ƒ" class="headerlink" title="å¦‚ä½•ä½¿ç”¨å®ƒ"></a>å¦‚ä½•ä½¿ç”¨å®ƒ</h2><p>ä¸‹é¢æ‰€æœ‰çš„ä¸œè¥¿éƒ½åªæ˜¯ä¸€ä¸ªæ¦‚è¿°ã€‚å› æ­¤ï¼Œä½ éœ€è¦ç”±ä¸Šè€Œä¸‹é€ä¸€åœ°å»å¤„ç†å®ƒã€‚</p>
<p>åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ˜¯ä½¿ç”¨ GitHub ç‰¹æ®Šçš„è¯­æ³•ç‰¹æ€§ markdown flavor å»æ£€æŸ¥è®¡åˆ’çš„è¿›å±•ï¼ŒåŒ…æ‹¬ä½¿ç”¨ä»»åŠ¡åˆ—è¡¨ã€‚</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œä»¥ä½¿å¾—ä½ å¯ä»¥åƒè¿™æ ·å»æ£€æŸ¥è®¡åˆ’çš„è¿›å±•ã€‚ç›´æ¥å¾€æ–¹æ‹¬å·ä¸­å¡«å†™ä¸€ä¸ªå­—ç¬¦ x å³å¯ï¼š[x]</li>
</ul>
<p><a href="https://guides.github.com/features/mastering-markdown/#GitHub-flavored-markdown" target="_blank" rel="noopener">æ›´å¤šå…³äº Github-flavored markdown çš„è¯¦æƒ…</a></p>
<h2 id="æˆ‘å¾—åˆ°äº†å·¥ä½œå—ï¼Ÿ"><a href="#æˆ‘å¾—åˆ°äº†å·¥ä½œå—ï¼Ÿ" class="headerlink" title="æˆ‘å¾—åˆ°äº†å·¥ä½œå—ï¼Ÿ"></a>æˆ‘å¾—åˆ°äº†å·¥ä½œå—ï¼Ÿ</h2><p>æˆ‘è¿˜æ²¡å»åº”è˜ã€‚</p>
<p>å› ä¸ºæˆ‘ç¦»å®Œæˆå­¦ä¹ ï¼ˆå®Œæˆè¯¥ç–¯ç‹‚çš„è®¡åˆ’åˆ—è¡¨ï¼‰è¿˜éœ€è¦æ•°å¤©çš„æ—¶é—´ï¼Œå¹¶æ‰“ç®—åœ¨ä¸‹å‘¨å¼€å§‹ç”¨ä¸€æ•´å¤©çš„æ—¶é—´ï¼Œä»¥ç¼–ç¨‹çš„æ–¹å¼å»è§£å†³é—®é¢˜ã€‚å½“ç„¶ï¼Œè¿™å°†ä¼šæŒç»­æ•°å‘¨çš„æ—¶é—´ã€‚ç„¶åï¼Œæˆ‘æ‰é€šè¿‡ä½¿ç”¨åœ¨äºŒæœˆä»½æ‰€å¾—åˆ°çš„ä¸€ä¸ªä»‹ç»èµ„æ ¼ï¼Œå»æ­£å¼åº”è˜ Googleï¼ˆæ²¡é”™ï¼Œæ˜¯äºŒæœˆä»½æ—¶å°±å¾—åˆ°çš„ï¼‰ã€‚</p>
<pre><code>æ„Ÿè°¢ JP çš„è¿™æ¬¡ä»‹ç»ã€‚</code></pre><h2 id="è·Ÿç€æˆ‘çš„è„šæ­¥"><a href="#è·Ÿç€æˆ‘çš„è„šæ­¥" class="headerlink" title="è·Ÿç€æˆ‘çš„è„šæ­¥"></a>è·Ÿç€æˆ‘çš„è„šæ­¥</h2><p>ç›®å‰æˆ‘ä»åœ¨è¯¥è®¡åˆ’çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æœä½ æƒ³è·Ÿéšæˆ‘è„šæ­¥å»å­¦ä¹ çš„è¯ï¼Œå¯ä»¥ç™»è¿›æˆ‘åœ¨ <a href="https://googleyasheck.com/" target="_blank" rel="noopener">GoogleyAsHeck.com</a> ä¸Šæ‰€å†™çš„åšå®¢ã€‚</p>
<p>ä¸‹é¢æ˜¯æˆ‘çš„è”ç³»æ–¹å¼ï¼š</p>
<ul>
<li>Twitter: <a href="https://twitter.com/googleyasheck" target="_blank" rel="noopener">@googleyasheck</a></li>
<li>Twitter: <a href="https://twitter.com/StartupNextDoor" target="_blank" rel="noopener">@StartupNextDoor</a></li>
<li>Google+: <a href="https://plus.google.com/+Googleyasheck" target="_blank" rel="noopener">+Googleyasheck</a></li>
<li>LinkedIn: <a href="https://www.linkedin.com/in/johnawasham" target="_blank" rel="noopener">johnawasham</a></li>
</ul>
<p><img src="https://dng5l3qzreal6.cloudfront.net/2016/Aug/book_stack_photo_resized_18_1469302751157-1472661280368.png" alt="John Washam - Coding Interview University"></p>
<h2 id="ä¸è¦å¦„è‡ªè²è–„"><a href="#ä¸è¦å¦„è‡ªè²è–„" class="headerlink" title="ä¸è¦å¦„è‡ªè²è–„"></a>ä¸è¦å¦„è‡ªè²è–„</h2><ul>
<li>Google çš„å·¥ç¨‹å¸ˆéƒ½æ˜¯æ‰æ™ºè¿‡äººçš„ã€‚ä½†æ˜¯ï¼Œå°±ç®—æ˜¯å·¥ä½œåœ¨ Google çš„ä»–ä»¬ï¼Œä»ç„¶ä¼šå› ä¸ºè§‰å¾—è‡ªå·±ä¸å¤Ÿèªæ˜è€Œæ„Ÿåˆ°ä¸€ç§ä¸å®‰ã€‚</li>
<li><a href="https://www.youtube.com/watch?v=0SARbwvhupQ" target="_blank" rel="noopener">å¤©æ‰ç¨‹åºå‘˜çš„ç¥è¯</a></li>
</ul>
<h2 id="å…³äº-Google"><a href="#å…³äº-Google" class="headerlink" title="å…³äº Google"></a>å…³äº Google</h2><ul>
<li><input disabled="" type="checkbox"> é¢å‘å­¦ç”Ÿ â€”â€” <a href="https://www.google.com/about/careers/students/guide-to-technical-development.html" target="_blank" rel="noopener">Google çš„èŒä¸šç”Ÿæ¶¯ï¼šæŠ€æœ¯å¼€å‘æŒ‡å¯¼</a></li>
<li><input disabled="" type="checkbox"> Google æ£€ç´¢çš„åŸç†ï¼š<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=mTBShTwCnD4" target="_blank" rel="noopener">Google æ£€ç´¢çš„å‘å±•å²ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.google.com/insidesearch/howsearchworks/thestory/" target="_blank" rel="noopener">Google æ£€ç´¢çš„åŸç† â€”â€” æ•…äº‹ç¯‡</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.google.com/insidesearch/howsearchworks/" target="_blank" rel="noopener">Google æ£€ç´¢çš„åŸç†</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=BNHR6IQJGZs" target="_blank" rel="noopener">Google æ£€ç´¢çš„åŸç† â€”â€” Matt Cuttsï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=J5RZOU6vK4Q" target="_blank" rel="noopener">Google æ˜¯å¦‚ä½•æ”¹å–„å…¶æ£€ç´¢ç®—æ³•ï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> ç³»åˆ—æ–‡ç« ï¼š<ul>
<li><input disabled="" type="checkbox"> <a href="https://backchannel.com/how-google-search-dealt-with-mobile-33bc09852dc9" target="_blank" rel="noopener">Google æ£€ç´¢æ˜¯å¦‚ä½•å¤„ç†ç§»åŠ¨è®¾å¤‡</a></li>
<li><input disabled="" type="checkbox"> <a href="https://backchannel.com/googles-secret-study-to-find-out-our-needs-eba8700263bf" target="_blank" rel="noopener">Google ä¸ºäº†å¯»æ‰¾å¤§ä¼—éœ€æ±‚çš„ç§˜å¯†ç ”ç©¶</a></li>
<li><input disabled="" type="checkbox"> <a href="https://backchannel.com/google-search-will-be-your-next-brain-5207c26e4523" target="_blank" rel="noopener">Google æ£€ç´¢å°†æˆä¸ºä½ çš„ä¸‹ä¸€ä¸ªå¤§è„‘</a></li>
<li><input disabled="" type="checkbox"> <a href="https://backchannel.com/the-deep-mind-of-demis-hassabis-156112890d8a" target="_blank" rel="noopener">Demis Hassabis çš„å¿ƒçµç›´ç™½</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.amazon.com/How-Google-Works-Eric-Schmidt/dp/1455582344" target="_blank" rel="noopener">ä¹¦ç±ï¼šGoogle å…¬å¸æ˜¯å¦‚ä½•è¿ä½œçš„</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=q4y0KOeXViI" target="_blank" rel="noopener">ç”± Google é€šå‘Šæ‰€åˆ¶ä½œ â€”â€” 2016å¹´10æœˆï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
<h2 id="ç›¸å…³è§†é¢‘èµ„æº"><a href="#ç›¸å…³è§†é¢‘èµ„æº" class="headerlink" title="ç›¸å…³è§†é¢‘èµ„æº"></a>ç›¸å…³è§†é¢‘èµ„æº</h2><p>éƒ¨åˆ†è§†é¢‘åªèƒ½é€šè¿‡åœ¨ Courseraã€Edx æˆ– Lynda.com class ä¸Šæ³¨å†Œç™»å½•æ‰èƒ½è§‚çœ‹ã€‚è¿™äº›è§†é¢‘è¢«ç§°ä¸ºç½‘ç»œå…¬å¼€è¯¾ç¨‹ï¼ˆMOOCï¼‰ã€‚å³ä¾¿æ˜¯å…è´¹è§‚çœ‹ï¼Œéƒ¨åˆ†è¯¾ç¨‹å¯èƒ½ä¼šç”±äºä¸åœ¨æ—¶é—´æ®µå†…è€Œæ— æ³•è·å–ã€‚å› æ­¤ï¼Œä½ éœ€è¦å¤šç­‰å¾…å‡ ä¸ªæœˆã€‚</p>
<pre><code>å¾ˆæ„Ÿè°¢æ‚¨èƒ½å¸®æˆ‘æŠŠç½‘ç»œå…¬å¼€è¯¾ç¨‹çš„è§†é¢‘é“¾æ¥è½¬æ¢æˆå…¬å¼€çš„è§†é¢‘æºï¼Œä»¥ä»£æ›¿é‚£äº›åœ¨çº¿è¯¾ç¨‹çš„è§†é¢‘ã€‚æ­¤å¤–ï¼Œä¸€äº›å¤§å­¦çš„è®²åº§è§†é¢‘ä¹Ÿæ˜¯æˆ‘æ‰€é’ççš„ã€‚</code></pre><h2 id="é¢è¯•è¿‡ç¨‹-amp-é€šç”¨çš„é¢è¯•å‡†å¤‡"><a href="#é¢è¯•è¿‡ç¨‹-amp-é€šç”¨çš„é¢è¯•å‡†å¤‡" class="headerlink" title="é¢è¯•è¿‡ç¨‹ &amp; é€šç”¨çš„é¢è¯•å‡†å¤‡"></a>é¢è¯•è¿‡ç¨‹ &amp; é€šç”¨çš„é¢è¯•å‡†å¤‡</h2><ul>
<li><input disabled="" type="checkbox"> <p>è§†é¢‘ï¼š</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=oWbUtlUhwa8&amp;feature=youtu.be" target="_blank" rel="noopener">å¦‚ä½•åœ¨ Google å·¥ä½œ â€”â€” è€ƒç”ŸæŒ‡å¯¼è¯¾ç¨‹ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=qc1owf2-220&amp;feature=youtu.be" target="_blank" rel="noopener">Google æ‹›è˜è€…æ‰€åˆ†äº«çš„æŠ€æœ¯é¢è¯•å°çªé—¨ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=8npJLXkcmu8" target="_blank" rel="noopener">å¦‚ä½•åœ¨ Google å·¥ä½œï¼šæŠ€æœ¯å‹ç®€å†çš„å‡†å¤‡ï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>æ–‡ç« ï¼š</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="http://www.google.com/about/careers/lifeatgoogle/hiringprocess/" target="_blank" rel="noopener">ä¸‰æ­¥æˆä¸º Googler</a></li>
<li><input disabled="" type="checkbox"> <a href="http://steve-yegge.blogspot.com/2008/03/get-that-job-at-google.html" target="_blank" rel="noopener">å¾—åˆ°åœ¨ Google çš„å·¥ä½œæœºä¼š</a><ul>
<li>æ‰€æœ‰ä»–æ‰€æåŠçš„äº‹æƒ…éƒ½åˆ—åœ¨äº†ä¸‹é¢</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <em>ï¼ˆæ—©å·²è¿‡æœŸï¼‰</em> <a href="http://dondodge.typepad.com/the_next_big_thing/2010/09/how-to-get-a-job-at-google-interview-questions-hiring-process.html" target="_blank" rel="noopener">å¦‚ä½•å¾—åˆ° Google çš„ä¸€ä»½å·¥ä½œï¼Œé¢è¯•é¢˜ï¼Œåº”è˜è¿‡ç¨‹</a></li>
<li><input disabled="" type="checkbox"> <a href="http://sites.google.com/site/steveyegge2/five-essential-phone-screen-questions" target="_blank" rel="noopener">ç”µè¯é¢è¯•çš„é—®é¢˜</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>é™„åŠ çš„ï¼ˆè™½ç„¶ Google ä¸å»ºè®®ï¼Œä½†æˆ‘è¿˜æ˜¯æ·»åŠ åœ¨æ­¤ï¼‰ï¼š</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://medium.com/always-be-coding/abc-always-be-coding-d5f8051afce2#.4heg8zvm4" target="_blank" rel="noopener">ABCï¼šæ°¸è¿œéƒ½è¦å»ç¼–ç¨‹ï¼ˆAlways Be Codingï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://medium.com/always-be-coding/four-steps-to-google-without-a-degree-8f381aa6bd5e#.asalo1vfx" target="_blank" rel="noopener">å››æ­¥æˆä¸º Google é‡Œä¸€åæ²¡æœ‰å­¦ä½çš„å‘˜å·¥</a></li>
<li><input disabled="" type="checkbox"> <a href="https://medium.com/@dpup/whiteboarding-4df873dbba2e#.hf6jn45g1" target="_blank" rel="noopener">å…±äº«ç™½æ¿ï¼ˆWhiteboardingï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="http://www.kpcb.com/blog/lessons-learned-how-google-thinks-about-hiring-management-and-culture" target="_blank" rel="noopener">Google æ˜¯å¦‚ä½•çœ‹å¾…åº”è˜ã€ç®¡ç†å’Œå…¬å¸æ–‡åŒ–</a></li>
<li><input disabled="" type="checkbox"> <a href="http://www.coderust.com/blog/2014/04/10/effective-whiteboarding-during-programming-interviews/" target="_blank" rel="noopener">ç¨‹åºå¼€å‘é¢è¯•ä¸­æœ‰æ•ˆçš„ç™½æ¿ï¼ˆWhiteboardingï¼‰</a></li>
<li><input disabled="" type="checkbox"> éœ‡æ’¼å¼€å‘ç±»é¢è¯• ç¬¬ä¸€é›†ï¼š<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=rEJzOhC5ZtQ" target="_blank" rel="noopener">Gayle L McDowell â€”â€” éœ‡æ’¼å¼€å‘ç±»é¢è¯•ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=aClxtDcdpsQ" target="_blank" rel="noopener">éœ‡æ’¼å¼€å‘ç±»é¢è¯• â€”â€” ä½œè€… Gayle Laakmann McDowellï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> å¦‚ä½•åœ¨ä¸–ç•Œå››å¼ºä¼ä¸šä¸­è·å¾—ä¸€ä»½å·¥ä½œï¼š<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=YJZCUhxNCv8" target="_blank" rel="noopener">â€œå¦‚ä½•åœ¨ä¸–ç•Œå››å¼ºä¼ä¸šä¸­è·å¾—ä¸€ä»½å·¥ä½œ â€”â€” Amazonã€Facebookã€Google å’Œ Microsoftâ€ï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://alexbowe.com/failing-at-google-interviews/" target="_blank" rel="noopener">é¢è¯• Google å¤±è´¥</a></li>
</ul>
</li>
</ul>
<h2 id="ä¸ºä½ çš„é¢è¯•é€‰æ‹©ä¸€ç§è¯­è¨€"><a href="#ä¸ºä½ çš„é¢è¯•é€‰æ‹©ä¸€ç§è¯­è¨€" class="headerlink" title="ä¸ºä½ çš„é¢è¯•é€‰æ‹©ä¸€ç§è¯­è¨€"></a>ä¸ºä½ çš„é¢è¯•é€‰æ‹©ä¸€ç§è¯­è¨€</h2><p>åœ¨è¿™ï¼Œæˆ‘å°±ä»¥ä¸‹è¯é¢˜å†™ä¸€ç¯‡çŸ­æ–‡ â€”â€” <a href="https://googleyasheck.com/important-pick-one-language-for-the-google-interview/" target="_blank" rel="noopener">é‡ç‚¹ï¼šä¸ºåœ¨ Google çš„é¢è¯•é€‰æ‹©ä¸€ç§è¯­è¨€</a></p>
<p>åœ¨å¤§å¤šæ•°å…¬å¸çš„é¢è¯•å½“ä¸­ï¼Œä½ å¯ä»¥åœ¨ç¼–ç¨‹è¿™ä¸€ç¯èŠ‚ï¼Œä½¿ç”¨ä¸€ç§è‡ªå·±ç”¨èµ·æ¥è¾ƒä¸ºèˆ’é€‚çš„è¯­è¨€å»å®Œæˆç¼–ç¨‹ã€‚ä½†åœ¨ Googleï¼Œä½ åªæœ‰ä¸‰ç§å›ºå®šçš„é€‰æ‹©ï¼š</p>
<ul>
<li>C++</li>
<li>Java</li>
<li>Python</li>
</ul>
<p>æœ‰æ—¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢ä¸¤ç§ï¼Œä½†éœ€è¦äº‹å…ˆæŸ¥é˜…è¯´æ˜ã€‚å› ä¸ºï¼Œè¯´æ˜ä¸­ä¼šæœ‰è­¦å‘Šï¼š</p>
<ul>
<li>JavaScript</li>
<li>Ruby</li>
</ul>
<p>ä½ éœ€è¦å¯¹ä½ æ‰€é€‰æ‹©çš„è¯­è¨€æ„Ÿåˆ°éå¸¸èˆ’é€‚ä¸”è¶³å¤Ÿäº†è§£ã€‚</p>
<p>æ›´å¤šå…³äºè¯­è¨€é€‰æ‹©çš„é˜…è¯»ï¼š</p>
<ul>
<li><a href="http://www.byte-by-byte.com/choose-the-right-language-for-your-coding-interview/" target="_blank" rel="noopener">http://www.byte-by-byte.com/choose-the-right-language-for-your-coding-interview/</a></li>
<li><a href="http://blog.codingforinterviews.com/best-programming-language-jobs/" target="_blank" rel="noopener">http://blog.codingforinterviews.com/best-programming-language-jobs/</a></li>
<li><a href="https://www.quora.com/What-is-the-best-language-to-program-in-for-an-in-person-Google-interview" target="_blank" rel="noopener">https://www.quora.com/What-is-the-best-language-to-program-in-for-an-in-person-Google-interview</a></li>
</ul>
<p><a href="../programming-language-resources.md">åœ¨æ­¤æŸ¥çœ‹ç›¸å…³è¯­è¨€çš„èµ„æº</a></p>
<p>ç”±äºï¼Œæˆ‘æ­£åœ¨å­¦ä¹ Cã€C++ å’Œ Pythonã€‚å› æ­¤ï¼Œåœ¨ä¸‹é¢ä½ ä¼šçœ‹åˆ°éƒ¨åˆ†å…³äºå®ƒä»¬çš„å­¦ä¹ èµ„æ–™ã€‚ç›¸å…³ä¹¦ç±è¯·çœ‹æ–‡ç« çš„åº•éƒ¨ã€‚</p>
<h2 id="åœ¨ä½ å¼€å§‹ä¹‹å‰"><a href="#åœ¨ä½ å¼€å§‹ä¹‹å‰" class="headerlink" title="åœ¨ä½ å¼€å§‹ä¹‹å‰"></a>åœ¨ä½ å¼€å§‹ä¹‹å‰</h2><p>è¯¥åˆ—è¡¨å·²ç»æŒç»­æ›´æ–°äº†å¾ˆé•¿çš„ä¸€æ®µæ—¶é—´ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬çš„ç¡®å¾ˆå®¹æ˜“ä¼šå¯¹å…¶å¤±å»æ§åˆ¶ã€‚</p>
<p>è¿™é‡Œåˆ—å‡ºäº†ä¸€äº›æˆ‘æ‰€çŠ¯è¿‡çš„é”™è¯¯ï¼Œå¸Œæœ›æ‚¨ä¸è¦é‡æ»”è¦†è¾™ã€‚</p>
<h3 id="1-ä½ ä¸å¯èƒ½æŠŠæ‰€æœ‰çš„ä¸œè¥¿éƒ½è®°ä½"><a href="#1-ä½ ä¸å¯èƒ½æŠŠæ‰€æœ‰çš„ä¸œè¥¿éƒ½è®°ä½" class="headerlink" title="1. ä½ ä¸å¯èƒ½æŠŠæ‰€æœ‰çš„ä¸œè¥¿éƒ½è®°ä½"></a>1. ä½ ä¸å¯èƒ½æŠŠæ‰€æœ‰çš„ä¸œè¥¿éƒ½è®°ä½</h3><p>å°±ç®—æˆ‘æŸ¥çœ‹äº†æ•°å°æ—¶çš„è§†é¢‘ï¼Œå¹¶è®°å½•äº†å¤§é‡çš„ç¬”è®°ã€‚å‡ ä¸ªæœˆåçš„æˆ‘ï¼Œä»ç„¶ä¼šå¿˜å´å…¶ä¸­å¤§éƒ¨åˆ†çš„ä¸œè¥¿ã€‚æ‰€ä»¥ï¼Œæˆ‘ç¿»é˜…äº†æˆ‘çš„ç¬”è®°ï¼Œå¹¶å°†å¯å›é¡¾çš„ä¸œè¥¿åˆ¶ä½œæˆæŠ½è®¤å¡ï¼ˆflashcardï¼‰ï¼ˆè¯·å¾€ä¸‹çœ‹ï¼‰</p>
<h3 id="2-ä½¿ç”¨æŠ½è®¤å¡"><a href="#2-ä½¿ç”¨æŠ½è®¤å¡" class="headerlink" title="2. ä½¿ç”¨æŠ½è®¤å¡"></a>2. ä½¿ç”¨æŠ½è®¤å¡</h3><p>ä¸ºäº†è§£å†³å–„å¿˜çš„é—®é¢˜ï¼Œæˆ‘åˆ¶ä½œäº†ä¸€äº›å…³äºæŠ½è®¤å¡çš„é¡µé¢ï¼Œç”¨äºæ·»åŠ ä¸¤ç§æŠ½è®¤å¡ï¼šæ­£å¸¸çš„åŠå¸¦æœ‰ä»£ç çš„ã€‚æ¯ç§å¡éƒ½ä¼šæœ‰ä¸åŒçš„æ ¼å¼è®¾è®¡ã€‚</p>
<p>è€Œä¸”ï¼Œæˆ‘è¿˜ä»¥ç§»åŠ¨è®¾å¤‡ä¸ºå…ˆå»è®¾è®¡è¿™äº›ç½‘é¡µï¼Œä»¥ä½¿å¾—åœ¨ä»»ä½•åœ°æ–¹çš„æˆ‘ï¼Œéƒ½èƒ½é€šè¿‡æˆ‘çš„æ‰‹æœºåŠå¹³æ¿å»å›é¡¾çŸ¥è¯†ã€‚</p>
<p>ä½ ä¹Ÿå¯ä»¥å…è´¹åˆ¶ä½œå±äºä½ è‡ªå·±çš„æŠ½è®¤å¡ç½‘ç«™ï¼š</p>
<ul>
<li><a href="https://github.com/jwasham/computer-science-flash-cards" target="_blank" rel="noopener">æŠ½è®¤å¡é¡µé¢çš„ä»£ç ä»“åº“</a></li>
<li><a href="https://github.com/jwasham/computer-science-flash-cards/blob/master/cards-jwasham.db" target="_blank" rel="noopener">æˆ‘çš„æŠ½è®¤å¡æ•°æ®åº“</a>ï¼šæœ‰ä¸€ç‚¹éœ€è¦è®°ä½çš„æ˜¯ï¼Œæˆ‘åšäº‹æœ‰ç‚¹è¿‡å¤´ï¼Œä»¥è‡³äºæŠŠå¡ç‰‡éƒ½è¦†ç›–åˆ°æ‰€æœ‰çš„ä¸œè¥¿ä¸Šã€‚ä»æ±‡ç¼–è¯­è¨€å’Œ Python çš„ç»†ææœ«èŠ‚ï¼Œä¹ƒè‡³åˆ°æœºå™¨å­¦ä¹ å’Œç»Ÿè®¡éƒ½è¢«è¦†ç›–åˆ°å¡ç‰‡ä¸Šã€‚è€Œè¿™ç§åšæ³•ï¼Œå¯¹äº Google çš„è¦æ±‚æ¥è¯´ï¼Œå´æ˜¯å¤šä½™ã€‚</li>
</ul>
<p><strong>åœ¨æŠ½è®¤å¡ä¸Šåšç¬”è®°ï¼š</strong> è‹¥ä½ ç¬¬ä¸€æ¬¡å‘ç°ä½ çŸ¥é“é—®é¢˜çš„ç­”æ¡ˆæ—¶ï¼Œå…ˆä¸è¦æ€¥ç€æŠŠå…¶æ ‡æ³¨æˆâ€œå·²æ‡‚â€ã€‚ä½ éœ€è¦åšçš„ï¼Œæ˜¯å»æŸ¥çœ‹ä¸€ä¸‹æ˜¯å¦æœ‰åŒæ ·çš„æŠ½è®¤å¡ï¼Œå¹¶åœ¨ä½ çœŸæ­£æ‡‚å¾—å¦‚ä½•è§£å†³é—®é¢˜ä¹‹å‰ï¼Œå¤šé—®è‡ªå·±å‡ æ¬¡ã€‚é‡å¤åœ°é—®ç­”å¯å¸®åŠ©æ‚¨æ·±åˆ»è®°ä½è¯¥çŸ¥è¯†ç‚¹ã€‚</p>
<h3 id="3-å›é¡¾ï¼Œå›é¡¾ï¼Œå›é¡¾"><a href="#3-å›é¡¾ï¼Œå›é¡¾ï¼Œå›é¡¾" class="headerlink" title="3. å›é¡¾ï¼Œå›é¡¾ï¼Œå›é¡¾"></a>3. å›é¡¾ï¼Œå›é¡¾ï¼Œå›é¡¾</h3><p>æˆ‘ç•™æœ‰ä¸€ç»„ ASCII ç è¡¨ã€OSI å †æ ˆã€Big-O è®°å·åŠæ›´å¤šçš„å°æŠ„çº¸ï¼Œä»¥ä¾¿åœ¨ç©ºä½™çš„æ—¶å€™å¯ä»¥å­¦ä¹ ã€‚</p>
<p>æ¯ç¼–ç¨‹åŠä¸ªå°æ—¶å°±è¦ä¼‘æ¯ä¸€ä¸‹ï¼Œå¹¶å»å›é¡¾ä½ çš„æŠ½è®¤å¡ã€‚</p>
<h3 id="4-ä¸“æ³¨"><a href="#4-ä¸“æ³¨" class="headerlink" title="4. ä¸“æ³¨"></a>4. ä¸“æ³¨</h3><p>åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œå¾€å¾€ä¼šæœ‰è®¸å¤šä»¤äººåˆ†å¿ƒçš„äº‹å æ®ç€æˆ‘ä»¬å®è´µçš„æ—¶é—´ã€‚å› æ­¤ï¼Œä¸“æ³¨å’Œé›†ä¸­æ³¨æ„åŠ›æ˜¯éå¸¸å›°éš¾çš„ã€‚</p>
<h2 id="ä½ æ‰€çœ‹ä¸åˆ°çš„"><a href="#ä½ æ‰€çœ‹ä¸åˆ°çš„" class="headerlink" title="ä½ æ‰€çœ‹ä¸åˆ°çš„"></a>ä½ æ‰€çœ‹ä¸åˆ°çš„</h2><p>ç”±äºï¼Œè¿™ä¸ªå·¨å¤§çš„åˆ—è¡¨ä¸€å¼€å§‹æ˜¯ä½œä¸ºæˆ‘ä¸ªäººä» Google é¢è¯•æŒ‡å¯¼ç¬”è®°æ‰€å½¢æˆçš„ä¸€ä¸ªäº‹ä»¶å¤„ç†åˆ—è¡¨ã€‚å› æ­¤ï¼Œæœ‰ä¸€äº›æˆ‘ç†Ÿæ‚‰ä¸”æ™®éçš„æŠ€æœ¯åœ¨æ­¤éƒ½æœªè¢«è°ˆåŠåˆ°ï¼š</p>
<ul>
<li>SQL</li>
<li>Javascript</li>
<li>HTMLã€CSS å’Œå…¶ä»–å‰ç«¯æŠ€æœ¯</li>
</ul>
<h2 id="æ—¥å¸¸è®¡åˆ’"><a href="#æ—¥å¸¸è®¡åˆ’" class="headerlink" title="æ—¥å¸¸è®¡åˆ’"></a>æ—¥å¸¸è®¡åˆ’</h2><p>éƒ¨åˆ†é—®é¢˜å¯èƒ½ä¼šèŠ±è´¹ä¸€å¤©çš„æ—¶é—´å»å­¦ä¹ ï¼Œè€Œéƒ¨åˆ†åˆ™ä¼šèŠ±è´¹å¤šå¤©ã€‚å½“ç„¶ï¼Œæœ‰äº›å­¦ä¹ å¹¶ä¸éœ€è¦æˆ‘ä»¬æ‡‚å¾—å¦‚ä½•å®ç°ã€‚</p>
<p>å› æ­¤ï¼Œæ¯ä¸€å¤©æˆ‘éƒ½ä¼šåœ¨ä¸‹é¢æ‰€åˆ—å‡ºçš„åˆ—è¡¨ä¸­é€‰æ‹©ä¸€é¡¹ï¼Œå¹¶æŸ¥çœ‹ç›¸å…³çš„è§†é¢‘ã€‚ç„¶åï¼Œä½¿ç”¨ä»¥ä¸‹çš„ä¸€ç§è¯­è¨€å»å®ç°ï¼š</p>
<pre><code>C â€”â€” ä½¿ç”¨ç»“æ„ä½“å’Œå‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šæ¥å—ä¸€ä¸ªç»“æ„ä½“æŒ‡é’ˆ * åŠå…¶ä»–æ•°æ®ä½œä¸ºå‚æ•°ã€‚
C++ â€”â€” ä¸ä½¿ç”¨å†…å»ºçš„æ•°æ®ç±»å‹ã€‚
C++ â€”â€” ä½¿ç”¨å†…å»ºçš„æ•°æ®ç±»å‹ï¼Œå¦‚ä½¿ç”¨ STL çš„ std::list æ¥ä½œä¸ºé“¾è¡¨ã€‚
Python â€”â€”  ä½¿ç”¨å†…å»ºçš„æ•°æ®ç±»å‹ï¼ˆä¸ºäº†æŒç»­ç»ƒä¹  Pythonï¼‰ï¼Œå¹¶ç¼–å†™ä¸€äº›æµ‹è¯•å»ä¿è¯è‡ªå·±ä»£ç çš„æ­£ç¡®æ€§ã€‚æœ‰æ—¶ï¼Œåªéœ€è¦ä½¿ç”¨æ–­è¨€å‡½æ•° assert() å³å¯ã€‚
æ­¤å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ Java æˆ–å…¶ä»–è¯­è¨€ã€‚ä»¥ä¸Šåªæ˜¯æˆ‘çš„ä¸ªäººåå¥½è€Œå·²ã€‚</code></pre><p>ä¸ºä½•è¦åœ¨è¿™äº›è¯­è¨€ä¸Šåˆ†åˆ«å®ç°ä¸€æ¬¡ï¼Ÿ</p>
<pre><code>å› ä¸ºå¯ä»¥ç»ƒä¹ ï¼Œç»ƒä¹ ï¼Œç»ƒä¹ ï¼Œç›´è‡³æˆ‘åŒå€¦å®ƒï¼Œå¹¶å®Œç¾åœ°å®ç°å‡ºæ¥ã€‚ï¼ˆè‹¥æœ‰éƒ¨åˆ†è¾¹ç¼˜æ¡ä»¶æ²¡æƒ³åˆ°æ—¶ï¼Œæˆ‘ä¼šç”¨ä¹¦å†™çš„å½¢å¼è®°å½•ä¸‹æ¥å¹¶å»è®°å¿†ï¼‰
å› ä¸ºå¯ä»¥åœ¨çº¯åŸç”Ÿçš„æ¡ä»¶ä¸‹å·¥ä½œï¼ˆä¸éœ€åƒåœ¾å›æ”¶æœºåˆ¶çš„å¸®åŠ©ä¸‹ï¼Œåˆ†é…/é‡Šæ”¾å†…å­˜ï¼ˆé™¤äº† Pythonï¼‰ï¼‰
å› ä¸ºå¯ä»¥åˆ©ç”¨ä¸Šå†…å»ºçš„æ•°æ®ç±»å‹ï¼Œä»¥ä½¿å¾—æˆ‘æ‹¥æœ‰åœ¨ç°å®ä¸­ä½¿ç”¨å†…å»ºå·¥å…·çš„ç»éªŒï¼ˆåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä¸ä¼šå»å®ç°è‡ªå·±çš„é“¾è¡¨ï¼‰</code></pre><p>å°±ç®—æˆ‘æ²¡æœ‰æ—¶é—´å»æ¯ä¸€é¡¹éƒ½è¿™ä¹ˆåšï¼Œä½†æˆ‘ä¹Ÿä¼šå°½æˆ‘æ‰€èƒ½çš„ã€‚</p>
<p>åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥æŸ¥çœ‹åˆ°æˆ‘çš„ä»£ç ï¼š</p>
<ul>
<li><a href="https://github.com/jwasham/practice-c" target="_blank" rel="noopener">C</a></li>
<li><a href="https://github.com/jwasham/practice-cpp" target="_blank" rel="noopener">C++</a></li>
<li><a href="https://github.com/jwasham/practice-python" target="_blank" rel="noopener">Python</a></li>
</ul>
<p>ä½ ä¸éœ€è¦è®°ä½æ¯ä¸€ä¸ªç®—æ³•çš„å†…éƒ¨åŸç†ã€‚</p>
<p>åœ¨ä¸€ä¸ªç™½æ¿ä¸Šå†™ä»£ç ï¼Œè€Œä¸è¦ç›´æ¥åœ¨è®¡ç®—æœºä¸Šç¼–å†™ã€‚åœ¨æµ‹è¯•å®Œéƒ¨åˆ†ç®€å•çš„è¾“å…¥åï¼Œåˆ°è®¡ç®—æœºä¸Šå†æµ‹è¯•ä¸€éã€‚</p>
<h2 id="å¿…å¤‡çŸ¥è¯†"><a href="#å¿…å¤‡çŸ¥è¯†" class="headerlink" title="å¿…å¤‡çŸ¥è¯†"></a>å¿…å¤‡çŸ¥è¯†</h2><ul>
<li><input disabled="" type="checkbox"> <p><strong>è®¡ç®—æœºæ˜¯å¦‚ä½•å¤„ç†ä¸€æ®µç¨‹åºï¼š</strong></p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=42KTvGYQYnA" target="_blank" rel="noopener">CPU æ˜¯å¦‚ä½•æ‰§è¡Œä»£ç ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Mv2XQgpbTNE" target="_blank" rel="noopener">æœºå™¨ç æŒ‡ä»¤ï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><strong>ç¼–è¯‘å™¨</strong></p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=IhC7sdYe-Jg" target="_blank" rel="noopener">ç¼–è¯‘å™¨æ˜¯å¦‚ä½•åœ¨ ~1 åˆ†é’Ÿå†…å·¥ä½œï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=CSZLNYF4Klo" target="_blank" rel="noopener">Hardvard CS50 â€”â€” ç¼–è¯‘å™¨ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=twodd1KFfGk" target="_blank" rel="noopener">C++ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=FnGCDLhaxKU" target="_blank" rel="noopener">æŒæ¡ç¼–è¯‘å™¨çš„ä¼˜åŒ–ï¼ˆC++ï¼‰ï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><strong>æµ®ç‚¹æ•°æ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼š</strong></p>
<ul>
<li><input disabled="" type="checkbox"> ç®€å•çš„ 8-bitï¼š<a href="https://www.youtube.com/watch?v=ji3SfClm8TU" target="_blank" rel="noopener">æµ®ç‚¹æ•°çš„è¡¨è¾¾å½¢å¼ã€€â€”â€” 1ï¼ˆè§†é¢‘ â€”â€” åœ¨è®¡ç®—ä¸Šæœ‰ä¸€ä¸ªé”™è¯¯ â€”â€” è¯¦æƒ…è¯·æŸ¥çœ‹è§†é¢‘çš„ä»‹ç»ï¼‰</a></li>
<li><input disabled="" type="checkbox"> 32 bitï¼š<a href="https://www.youtube.com/watch?v=50ZYcZebIec" target="_blank" rel="noopener">IEEE754 32-bit æµ®ç‚¹äºŒè¿›åˆ¶ï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
</li>
</ul>
<h2 id="ç®—æ³•å¤æ‚åº¦-Big-O-æ¸è¿›åˆ†ææ³•"><a href="#ç®—æ³•å¤æ‚åº¦-Big-O-æ¸è¿›åˆ†ææ³•" class="headerlink" title="ç®—æ³•å¤æ‚åº¦ / Big-O / æ¸è¿›åˆ†ææ³•"></a>ç®—æ³•å¤æ‚åº¦ / Big-O / æ¸è¿›åˆ†ææ³•</h2><ul>
<li><p>å¹¶ä¸éœ€è¦å®ç°</p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=iOq5kSKqeR4" target="_blank" rel="noopener">Harvard CS50 â€”â€” æ¸è¿›è¡¨ç¤ºï¼ˆè§†é¢‘ï¼‰</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=V6mKVRU1evU" target="_blank" rel="noopener">Big O è®°å·ï¼ˆé€šç”¨å¿«é€Ÿæ•™ç¨‹ï¼‰ï¼ˆè§†é¢‘ï¼‰</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=ei-A_wy5Yxw&amp;index=2&amp;list=PL1BaGV1cIH4UhkL8a9bJGG356covJ76qN" target="_blank" rel="noopener">Big O è®°å·ï¼ˆä»¥åŠ Omega å’Œ Thetaï¼‰â€”â€”  æœ€ä½³æ•°å­¦è§£é‡Šï¼ˆè§†é¢‘ï¼‰</a></p>
</li>
<li><input disabled="" type="checkbox"> <p>Skiena ç®—æ³•ï¼š</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=gSyDMtdPNpU&amp;index=2&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b" target="_blank" rel="noopener">è§†é¢‘</a></li>
<li><a href="http://www3.cs.stonybrook.edu/~algorith/video-lectures/2007/lecture2.pdf" target="_blank" rel="noopener">å¹»ç¯ç‰‡</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><a href="http://discrete.gr/complexity/" target="_blank" rel="noopener">å¯¹äºç®—æ³•å¤æ‚åº¦åˆ†æçš„ä¸€æ¬¡è¯¦ç»†ä»‹ç»</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://class.coursera.org/algorithmicthink1-004/lecture/59" target="_blank" rel="noopener">å¢é•¿é˜¶æ•°ï¼ˆOrders of Growthï¼‰ï¼ˆè§†é¢‘ï¼‰</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://class.coursera.org/algorithmicthink1-004/lecture/61" target="_blank" rel="noopener">æ¸è¿›æ€§ï¼ˆAsymptoticsï¼‰ï¼ˆè§†é¢‘ï¼‰</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://youtu.be/VIS4YDpuP98" target="_blank" rel="noopener">UC Berkeley Big Oï¼ˆè§†é¢‘ï¼‰</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://youtu.be/ca3e7UVmeUc" target="_blank" rel="noopener">UC Berkeley Big Omegaï¼ˆè§†é¢‘ï¼‰</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=B3SpQZaAZP4&amp;index=10&amp;list=PL1BaGV1cIH4UhkL8a9bJGG356covJ76qN" target="_blank" rel="noopener">å¹³æ‘Šåˆ†ææ³•ï¼ˆAmortized Analysisï¼‰ï¼ˆè§†é¢‘ï¼‰</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://class.coursera.org/algorithmicthink1-004/lecture/63" target="_blank" rel="noopener">ä¸¾è¯â€œBig Oâ€ï¼ˆè§†é¢‘ï¼‰</a></p>
</li>
<li><input disabled="" type="checkbox"> <p>é«˜çº§ç¼–ç¨‹ï¼ˆåŒ…æ‹¬é€’å½’å…³ç³»å’Œä¸»å®šç†ï¼‰ï¼š</p>
<ul>
<li><a href="https://www.topcoder.com/community/data-science/data-science-tutorials/computational-complexity-section-1/" target="_blank" rel="noopener">è®¡ç®—æ€§å¤æ‚åº¦ï¼šç¬¬ä¸€éƒ¨</a></li>
<li><a href="https://www.topcoder.com/community/data-science/data-science-tutorials/computational-complexity-section-2/" target="_blank" rel="noopener">è®¡ç®—æ€§å¤æ‚åº¦ï¼šç¬¬äºŒéƒ¨</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><a href="http://bigocheatsheet.com/" target="_blank" rel="noopener">é€ŸæŸ¥è¡¨ï¼ˆCheat sheetï¼‰</a></p>
<p>  å¦‚æœéƒ¨åˆ†è¯¾ç¨‹è¿‡äºå­¦æœ¯æ€§ï¼Œä½ å¯ç›´æ¥è·³åˆ°æ–‡ç« åº•éƒ¨ï¼Œå»æŸ¥çœ‹ç¦»æ•£æ•°å­¦çš„è§†é¢‘ä»¥è·å–ç›¸å…³èƒŒæ™¯çŸ¥è¯†ã€‚</p>
</li>
</ul>
<h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><ul>
<li><h3 id="æ•°ç»„ï¼ˆArraysï¼‰"><a href="#æ•°ç»„ï¼ˆArraysï¼‰" class="headerlink" title="æ•°ç»„ï¼ˆArraysï¼‰"></a>æ•°ç»„ï¼ˆArraysï¼‰</h3><ul>
<li>å®ç°ä¸€ä¸ªå¯è‡ªåŠ¨è°ƒæ•´å¤§å°çš„åŠ¨æ€æ•°ç»„ã€‚</li>
<li><input disabled="" type="checkbox"> ä»‹ç»ï¼š<ul>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/OsBSF/arrays" target="_blank" rel="noopener">æ•°ç»„ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><a href="https://archive.org/details/0102WhatYouShouldKnow/02_04-basicArrays.mp4" target="_blank" rel="noopener">æ•°ç»„çš„åŸºç¡€çŸ¥è¯†ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><a href="https://archive.org/details/0102WhatYouShouldKnow/02_05-multidimensionalArrays.mp4" target="_blank" rel="noopener">å¤šç»´æ•°ç»„ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/EwbnV/dynamic-arrays" target="_blank" rel="noopener">åŠ¨æ€æ•°ç»„ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><a href="https://archive.org/details/0102WhatYouShouldKnow/02_06-jaggedArrays.mp4" target="_blank" rel="noopener">ä¸è§„åˆ™æ•°ç»„ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><a href="https://archive.org/details/0102WhatYouShouldKnow/03_01-resizableArrays.mp4" target="_blank" rel="noopener">è°ƒæ•´æ•°ç»„çš„å¤§å°ï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> å®ç°ä¸€ä¸ªåŠ¨æ€æ•°ç»„ï¼ˆå¯è‡ªåŠ¨è°ƒæ•´å¤§å°çš„å¯å˜æ•°ç»„ï¼‰ï¼š<ul>
<li><input disabled="" type="checkbox"> ç»ƒä¹ ä½¿ç”¨æ•°ç»„å’ŒæŒ‡é’ˆå»ç¼–ç ï¼Œå¹¶ä¸”æŒ‡é’ˆæ˜¯é€šè¿‡è®¡ç®—å»è·³è½¬è€Œä¸æ˜¯ä½¿ç”¨ç´¢å¼•</li>
<li><input disabled="" type="checkbox"> é€šè¿‡åˆ†é…å†…å­˜æ¥æ–°å»ºä¸€ä¸ªåŸç”Ÿæ•°æ®å‹æ•°ç»„<ul>
<li>å¯ä»¥ä½¿ç”¨ int ç±»å‹çš„æ•°ç»„ï¼Œä½†ä¸èƒ½ä½¿ç”¨å…¶è¯­æ³•ç‰¹æ€§</li>
<li>ä»å¤§å°ä¸º16æˆ–æ›´å¤§çš„æ•°ï¼ˆä½¿ç”¨2çš„å€æ•° â€”â€” 16ã€32ã€64ã€128ï¼‰å¼€å§‹ç¼–å†™</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> size() â€”â€” æ•°ç»„å…ƒç´ çš„ä¸ªæ•°</li>
<li><input disabled="" type="checkbox"> capacity() â€”â€” å¯å®¹çº³å…ƒç´ çš„ä¸ªæ•°</li>
<li><input disabled="" type="checkbox"> is_empty()</li>
<li><input disabled="" type="checkbox"> at(index) â€”â€” è¿”å›å¯¹åº”ç´¢å¼•çš„å…ƒç´ ï¼Œä¸”è‹¥ç´¢å¼•è¶Šç•Œåˆ™æ„¤ç„¶æŠ¥é”™</li>
<li><input disabled="" type="checkbox"> push(item)</li>
<li><input disabled="" type="checkbox"> insert(index, item) â€”â€” åœ¨æŒ‡å®šç´¢å¼•ä¸­æ’å…¥å…ƒç´ ï¼Œå¹¶æŠŠåé¢çš„å…ƒç´ ä¾æ¬¡åç§»</li>
<li><input disabled="" type="checkbox"> prepend(item) â€”â€” å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„ insert å‡½æ•°ï¼Œä¼ å‚ index ä¸º 0</li>
<li><input disabled="" type="checkbox"> pop() â€”â€” åˆ é™¤åœ¨æ•°ç»„æœ«ç«¯çš„å…ƒç´ ï¼Œå¹¶è¿”å›å…¶å€¼</li>
<li><input disabled="" type="checkbox"> delete(index) â€”â€” åˆ é™¤æŒ‡å®šç´¢å¼•çš„å…ƒç´ ï¼Œå¹¶æŠŠåé¢çš„å…ƒç´ ä¾æ¬¡å‰ç§»</li>
<li><input disabled="" type="checkbox"> remove(item) â€”â€” åˆ é™¤æŒ‡å®šå€¼çš„å…ƒç´ ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ï¼ˆå³ä½¿æœ‰å¤šä¸ªå…ƒç´ ï¼‰</li>
<li><input disabled="" type="checkbox"> find(item) â€”â€” å¯»æ‰¾æŒ‡å®šå€¼çš„å…ƒç´ å¹¶è¿”å›å…¶ä¸­ç¬¬ä¸€ä¸ªå‡ºç°çš„å…ƒç´ å…¶ç´¢å¼•ï¼Œè‹¥æœªæ‰¾åˆ°åˆ™è¿”å› -1</li>
<li><input disabled="" type="checkbox"> resize(new_capacity) // ç§æœ‰å‡½æ•°<ul>
<li>è‹¥æ•°ç»„çš„å¤§å°åˆ°è¾¾å…¶å®¹ç§¯ï¼Œåˆ™å˜å¤§ä¸€å€</li>
<li>è·å–å…ƒç´ åï¼Œè‹¥æ•°ç»„å¤§å°ä¸ºå…¶å®¹ç§¯çš„1/4ï¼Œåˆ™ç¼©å°ä¸€åŠ</li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> æ—¶é—´å¤æ‚åº¦<ul>
<li>åœ¨æ•°ç»„æœ«ç«¯å¢åŠ /åˆ é™¤ã€å®šä½ã€æ›´æ–°å…ƒç´ ï¼Œåªå…è®¸å  O(1) çš„æ—¶é—´å¤æ‚åº¦ï¼ˆå¹³æ‘Šï¼ˆamortizedï¼‰å»åˆ†é…å†…å­˜ä»¥è·å–æ›´å¤šç©ºé—´ï¼‰</li>
<li>åœ¨æ•°ç»„ä»»ä½•åœ°æ–¹æ’å…¥/ç§»é™¤å…ƒç´ ï¼Œåªå…è®¸ O(n) çš„æ—¶é—´å¤æ‚åº¦</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> ç©ºé—´å¤æ‚åº¦<ul>
<li>å› ä¸ºåœ¨å†…å­˜ä¸­åˆ†é…çš„ç©ºé—´é‚»è¿‘ï¼Œæ‰€ä»¥æœ‰åŠ©äºæé«˜æ€§èƒ½</li>
<li>ç©ºé—´éœ€æ±‚ = ï¼ˆå¤§äºæˆ–ç­‰äº n çš„æ•°ç»„å®¹ç§¯ï¼‰* å…ƒç´ çš„å¤§å°ã€‚å³ä¾¿ç©ºé—´éœ€æ±‚ä¸º 2nï¼Œå…¶ç©ºé—´å¤æ‚åº¦ä»ç„¶æ˜¯ O(n)</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="é“¾è¡¨ï¼ˆLinked-Listsï¼‰"><a href="#é“¾è¡¨ï¼ˆLinked-Listsï¼‰" class="headerlink" title="é“¾è¡¨ï¼ˆLinked Listsï¼‰"></a>é“¾è¡¨ï¼ˆLinked Listsï¼‰</h3><ul>
<li><input disabled="" type="checkbox"> ä»‹ç»ï¼š<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/kHhgK/singly-linked-lists" target="_blank" rel="noopener">å•å‘é“¾è¡¨ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=sJtJOtXCW_M&amp;list=PL-XXv-cvA_iAlnI-BQr9hjqADPBtujFJd&amp;index=5" target="_blank" rel="noopener">CS 61B â€”â€” é“¾è¡¨ï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=QN6FPiD0Gzo" target="_blank" rel="noopener">C ä»£ç ï¼ˆè§†é¢‘ï¼‰</a><ul>
<li>å¹¶éçœ‹å®Œæ•´ä¸ªè§†é¢‘ï¼Œåªéœ€è¦çœ‹å…³äºèŠ‚ç‚¹ç»“æœå’Œå†…å­˜åˆ†é…é‚£ä¸€éƒ¨åˆ†å³å¯</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> é“¾è¡¨ vs æ•°ç»„ï¼š<ul>
<li><a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/rjBs9/core-linked-lists-vs-arrays" target="_blank" rel="noopener">åŸºæœ¬é“¾è¡¨ Vs æ•°ç»„ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/QUaUd/in-the-real-world-lists-vs-arrays" target="_blank" rel="noopener">åœ¨ç°å®ä¸­ï¼Œé“¾è¡¨ Vs æ•°ç»„ï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=YQs6IC-vgmo" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆä½ éœ€è¦é¿å…ä½¿ç”¨é“¾è¡¨ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> çš„ç¡®ï¼šä½ éœ€è¦å…³äºâ€œæŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆâ€çš„ç›¸å…³çŸ¥è¯†ï¼šï¼ˆå› ä¸ºå½“ä½ ä¼ é€’ä¸€ä¸ªæŒ‡é’ˆåˆ°ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°å¯èƒ½ä¼šæ”¹å˜æŒ‡é’ˆæ‰€æŒ‡å‘çš„åœ°å€ï¼‰è¯¥é¡µåªæ˜¯ä¸ºäº†è®©ä½ äº†è§£â€œæŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆâ€è¿™ä¸€æ¦‚å¿µã€‚ä½†æˆ‘å¹¶ä¸æ¨èè¿™ç§é“¾å¼éå†çš„é£æ ¼ã€‚å› ä¸ºï¼Œè¿™ç§é£æ ¼çš„ä»£ç ï¼Œå…¶å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§å¤ªä½ã€‚<ul>
<li><a href="https://www.eskimo.com/~scs/cclass/int/sx8.html" target="_blank" rel="noopener">æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆ</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> å®ç°ï¼ˆæˆ‘å®ç°äº†ä½¿ç”¨å°¾æŒ‡é’ˆä»¥åŠæ²¡æœ‰ä½¿ç”¨å°¾æŒ‡é’ˆè¿™ä¸¤ç§æƒ…å†µï¼‰ï¼š<ul>
<li><input disabled="" type="checkbox"> size() â€”â€” è¿”å›é“¾è¡¨ä¸­æ•°æ®å…ƒç´ çš„ä¸ªæ•°</li>
<li><input disabled="" type="checkbox"> empty() â€”â€” è‹¥é“¾è¡¨ä¸ºç©ºåˆ™è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ true</li>
<li><input disabled="" type="checkbox"> value_at(index) â€”â€” è¿”å›ç¬¬ n ä¸ªå…ƒç´ çš„å€¼ï¼ˆä»0å¼€å§‹è®¡ç®—ï¼‰</li>
<li><input disabled="" type="checkbox"> push_front(value) â€”â€” æ·»åŠ å…ƒç´ åˆ°é“¾è¡¨çš„é¦–éƒ¨</li>
<li><input disabled="" type="checkbox"> pop_front() â€”â€” åˆ é™¤é¦–éƒ¨å…ƒç´ å¹¶è¿”å›å…¶å€¼</li>
<li><input disabled="" type="checkbox"> push_back(value) â€”â€” æ·»åŠ å…ƒç´ åˆ°é“¾è¡¨çš„å°¾éƒ¨</li>
<li><input disabled="" type="checkbox"> pop_back() â€”â€” åˆ é™¤å°¾éƒ¨å…ƒç´ å¹¶è¿”å›å…¶å€¼</li>
<li><input disabled="" type="checkbox"> front() â€”â€” è¿”å›é¦–éƒ¨å…ƒç´ çš„å€¼</li>
<li><input disabled="" type="checkbox"> back() â€”â€” è¿”å›å°¾éƒ¨å…ƒç´ çš„å€¼</li>
<li><input disabled="" type="checkbox"> insert(index, value) â€”â€” æ’å…¥å€¼åˆ°æŒ‡å®šçš„ç´¢å¼•ï¼Œå¹¶æŠŠå½“å‰ç´¢å¼•çš„å…ƒç´ æŒ‡å‘åˆ°æ–°çš„å…ƒç´ </li>
<li><input disabled="" type="checkbox"> erase(index) â€”â€” åˆ é™¤æŒ‡å®šç´¢å¼•çš„èŠ‚ç‚¹</li>
<li><input disabled="" type="checkbox"> value_n_from_end(n) â€”â€” è¿”å›å€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹çš„å€¼</li>
<li><input disabled="" type="checkbox"> reverse() â€”â€” é€†åºé“¾è¡¨</li>
<li><input disabled="" type="checkbox"> remove_value(value) â€”â€” åˆ é™¤é“¾è¡¨ä¸­æŒ‡å®šå€¼çš„ç¬¬ä¸€ä¸ªå…ƒç´ </li>
</ul>
</li>
<li><input disabled="" type="checkbox"> åŒå‘é“¾è¡¨<ul>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/jpGKD/doubly-linked-lists" target="_blank" rel="noopener">ä»‹ç»ï¼ˆè§†é¢‘ï¼‰</a></li>
<li>å¹¶ä¸éœ€è¦å®ç°</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="å †æ ˆï¼ˆStackï¼‰"><a href="#å †æ ˆï¼ˆStackï¼‰" class="headerlink" title="å †æ ˆï¼ˆStackï¼‰"></a>å †æ ˆï¼ˆStackï¼‰</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/UdKzQ/stacks" target="_blank" rel="noopener">å †æ ˆï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/0102WhatYouShouldKnow/05_01-usingStacksForLast-inFirst-out.mp4" target="_blank" rel="noopener">ä½¿ç”¨å †æ ˆ â€”â€” åè¿›å…ˆå‡ºï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> å¯ä»¥ä¸å®ç°ï¼Œå› ä¸ºä½¿ç”¨æ•°ç»„æ¥å®ç°å¹¶ä¸é‡è¦</li>
</ul>
</li>
<li><h3 id="é˜Ÿåˆ—ï¼ˆQueueï¼‰"><a href="#é˜Ÿåˆ—ï¼ˆQueueï¼‰" class="headerlink" title="é˜Ÿåˆ—ï¼ˆQueueï¼‰"></a>é˜Ÿåˆ—ï¼ˆQueueï¼‰</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/0102WhatYouShouldKnow/05_03-usingQueuesForFirst-inFirst-out.mp4" target="_blank" rel="noopener">ä½¿ç”¨é˜Ÿåˆ— â€”â€” å…ˆè¿›å…ˆå‡ºï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/EShpq/queue" target="_blank" rel="noopener">é˜Ÿåˆ—ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/Circular_buffer" target="_blank" rel="noopener">åŸå‹é˜Ÿåˆ—/å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/0102WhatYouShouldKnow/05_04-priorityQueuesAndDeques.mp4" target="_blank" rel="noopener">ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> ä½¿ç”¨å«æœ‰å°¾éƒ¨æŒ‡é’ˆçš„é“¾è¡¨æ¥å®ç°:<ul>
<li>enqueue(value) â€”â€” åœ¨å°¾éƒ¨æ·»åŠ å€¼</li>
<li>dequeue() â€”â€” åˆ é™¤æœ€æ—©æ·»åŠ çš„å…ƒç´ å¹¶è¿”å›å…¶å€¼ï¼ˆé¦–éƒ¨å…ƒç´ ï¼‰</li>
<li>empty()</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> ä½¿ç”¨å›ºå®šå¤§å°çš„æ•°ç»„å®ç°ï¼š<ul>
<li>enqueue(value) â€”â€” åœ¨å¯å®¹çš„æƒ…å†µä¸‹æ·»åŠ å…ƒç´ åˆ°å°¾éƒ¨</li>
<li>dequeue() â€”â€” åˆ é™¤æœ€æ—©æ·»åŠ çš„å…ƒç´ å¹¶è¿”å›å…¶å€¼</li>
<li>empty()</li>
<li>full()</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> èŠ±é”€ï¼š<ul>
<li>åœ¨ç³Ÿç³•çš„å®ç°æƒ…å†µä¸‹ï¼Œä½¿ç”¨é“¾è¡¨æ‰€å®ç°çš„é˜Ÿåˆ—ï¼Œå…¶å…¥åˆ—å’Œå‡ºåˆ—çš„æ—¶é—´å¤æ‚åº¦å°†ä¼šæ˜¯ O(n)ã€‚å› ä¸ºï¼Œä½ éœ€è¦æ‰¾åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä»¥è‡´å¾ªç¯æ•´ä¸ªé˜Ÿåˆ—</li>
<li>enqueueï¼šO(1)ï¼ˆå¹³æ‘Šï¼ˆamortizedï¼‰ã€é“¾è¡¨å’Œæ•°ç»„ [æ¢æµ‹ï¼ˆprobingï¼‰]ï¼‰</li>
<li>dequeueï¼šO(1)ï¼ˆé“¾è¡¨å’Œæ•°ç»„ï¼‰</li>
<li>emptyï¼šO(1)ï¼ˆé“¾è¡¨å’Œæ•°ç»„ï¼‰</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="å“ˆå¸Œè¡¨ï¼ˆHash-tableï¼‰"><a href="#å“ˆå¸Œè¡¨ï¼ˆHash-tableï¼‰" class="headerlink" title="å“ˆå¸Œè¡¨ï¼ˆHash tableï¼‰"></a>å“ˆå¸Œè¡¨ï¼ˆHash tableï¼‰</h3><ul>
<li><input disabled="" type="checkbox"> <p>è§†é¢‘ï¼š</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=0M_kIqhwbFo&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=8" target="_blank" rel="noopener">é“¾å¼å“ˆå¸Œè¡¨ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=BRO7mVIFt08&amp;index=9&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">Table Doubling å’Œ Karp-Rabinï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=rvdJDijO2Ro&amp;index=10&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">Open Addressing å’Œå¯†ç å‹å“ˆå¸Œï¼ˆCryptographic Hashingï¼‰ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=C4Kc8xzcA68" target="_blank" rel="noopener">PyCon 2010ï¼šThe Mighty Dictionaryï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=z0lJ2k0sl1g&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=11" target="_blank" rel="noopener">ï¼ˆè¿›é˜¶ï¼‰éšæœºå–æ ·ï¼ˆRandomizationï¼‰ï¼šå…¨åŸŸå“ˆå¸Œï¼ˆUniversal Hashingï¼‰&amp; å®Œç¾å“ˆå¸Œï¼ˆPerfect Hashingï¼‰ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=N0COwN14gt0&amp;list=PL2B4EEwhKD-NbwZ4ezj7gyc_3yNrojKM9&amp;index=4" target="_blank" rel="noopener">ï¼ˆè¿›é˜¶ï¼‰å®Œç¾å“ˆå¸Œï¼ˆPerfect hashingï¼‰ï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>åœ¨çº¿è¯¾ç¨‹ï¼š</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/0102WhatYouShouldKnow/06_02-understandingHashFunctions.mp4" target="_blank" rel="noopener">å“ˆå¸Œå‡½æ•°çš„æŒæ¡ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/0102WhatYouShouldKnow/06_03-usingHashTables.mp4" target="_blank" rel="noopener">ä½¿ç”¨å“ˆå¸Œè¡¨ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/0102WhatYouShouldKnow/06_04-supportingHashing.mp4" target="_blank" rel="noopener">å“ˆå¸Œè¡¨çš„æ”¯æŒï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/0102WhatYouShouldKnow/06_05-languageSupportForHashTables.mp4" target="_blank" rel="noopener">å“ˆå¸Œè¡¨çš„è¯­è¨€æ”¯æŒï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/m7UuP/core-hash-tables" target="_blank" rel="noopener">åŸºæœ¬å“ˆå¸Œè¡¨ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/home/week/3" target="_blank" rel="noopener">æ•°æ®ç»“æ„ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/NYZZP/phone-book-problem" target="_blank" rel="noopener">ç”µè¯è–„é—®é¢˜ï¼ˆPhone Book Problemï¼‰ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> åˆ†å¸ƒå¼å“ˆå¸Œè¡¨ï¼š<ul>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/DvaIb/instant-uploads-and-storage-optimization-in-dropbox" target="_blank" rel="noopener">Dropbox ä¸­çš„ç¬æ—¶ä¸Šä¼ åŠå­˜å‚¨ä¼˜åŒ–ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/tvH8H/distributed-hash-tables" target="_blank" rel="noopener">åˆ†å¸ƒå¼å“ˆå¸Œè¡¨ï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>ä½¿ç”¨çº¿æ€§æ¢æµ‹çš„æ•°ç»„å»å®ç°</p>
<ul>
<li>hash(k, m) â€”â€” m æ˜¯å“ˆå¸Œè¡¨çš„å¤§å°</li>
<li>add(key, value) â€”â€” å¦‚æœ key å·²å­˜åœ¨åˆ™æ›´æ–°å€¼</li>
<li>exists(key)</li>
<li>get(key)</li>
<li>remove(key)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="æ›´å¤šçš„çŸ¥è¯†"><a href="#æ›´å¤šçš„çŸ¥è¯†" class="headerlink" title="æ›´å¤šçš„çŸ¥è¯†"></a>æ›´å¤šçš„çŸ¥è¯†</h2><ul>
<li><h3 id="äºŒåˆ†æŸ¥æ‰¾ï¼ˆBinary-searchï¼‰"><a href="#äºŒåˆ†æŸ¥æ‰¾ï¼ˆBinary-searchï¼‰" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾ï¼ˆBinary searchï¼‰"></a>äºŒåˆ†æŸ¥æ‰¾ï¼ˆBinary searchï¼‰</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=D5SrAga1pno" target="_blank" rel="noopener">äºŒåˆ†æŸ¥æ‰¾ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.khanacademy.org/computing/computer-science/algorithms/binary-search/a/binary-search" target="_blank" rel="noopener">äºŒåˆ†æŸ¥æ‰¾ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.topcoder.com/community/data-science/data-science-tutorials/binary-search/" target="_blank" rel="noopener">è¯¦æƒ…</a></li>
<li><input disabled="" type="checkbox"> å®ç°ï¼š<ul>
<li>äºŒåˆ†æŸ¥æ‰¾ï¼ˆåœ¨ä¸€ä¸ªå·²æ’åºå¥½çš„æ•´å‹æ•°ç»„ä¸­æŸ¥æ‰¾ï¼‰</li>
<li>è¿­ä»£å¼äºŒåˆ†æŸ¥æ‰¾</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="æŒ‰ä½è¿ç®—ï¼ˆBitwise-operationsï¼‰"><a href="#æŒ‰ä½è¿ç®—ï¼ˆBitwise-operationsï¼‰" class="headerlink" title="æŒ‰ä½è¿ç®—ï¼ˆBitwise operationsï¼‰"></a>æŒ‰ä½è¿ç®—ï¼ˆBitwise operationsï¼‰</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://github.com/jwasham/coding-interview-university/blob/master/extras/cheat%20sheets/bits-cheat-cheet.pdf" target="_blank" rel="noopener">Bits é€ŸæŸ¥è¡¨</a><ul>
<li>ä½ éœ€è¦çŸ¥é“å¤§é‡2çš„å¹‚æ•°å€¼ï¼ˆä»2^1 åˆ° 2^16 åŠ 2^32ï¼‰</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> å¥½å¥½ç†è§£ä½æ“ä½œç¬¦çš„å«ä¹‰ï¼š&amp;ã€|ã€^ã€~ã€&gt;&gt;ã€&lt;&lt;<ul>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/Word_(computer_architecture)" target="_blank" rel="noopener">å­—ç ï¼ˆwordsï¼‰</a></li>
<li><input disabled="" type="checkbox"> å¥½çš„ä»‹ç»ï¼š<br>  <a href="https://www.youtube.com/watch?v=7jkIUgLC29I" target="_blank" rel="noopener">ä½æ“ä½œï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=d0AwjSpNXR0" target="_blank" rel="noopener">C è¯­è¨€ç¼–ç¨‹æ•™ç¨‹ 2-10ï¼šæŒ‰ä½è¿ç®—ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/Bit_manipulation" target="_blank" rel="noopener">ä½æ“ä½œ</a></li>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/Bitwise_operation" target="_blank" rel="noopener">æŒ‰ä½è¿ç®—</a></li>
<li><input disabled="" type="checkbox"> <a href="https://graphics.stanford.edu/~seander/bithacks.html" target="_blank" rel="noopener">Bithacks</a></li>
<li><input disabled="" type="checkbox"> <a href="http://bits.stephan-brumme.com/" target="_blank" rel="noopener">ä½å…ƒæŠšå¼„è€…ï¼ˆThe Bit Twiddlerï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="http://bits.stephan-brumme.com/interactive.html" target="_blank" rel="noopener">äº¤äº’å¼ä½å…ƒæŠšå¼„è€…ï¼ˆThe Bit Twiddler Interactiveï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> ä¸€è¡¥æ•°å’Œè¡¥ç <ul>
<li><a href="https://www.youtube.com/watch?v=lKTsv6iVxV4" target="_blank" rel="noopener">äºŒè¿›åˆ¶ï¼šåˆ© &amp; å¼Šï¼ˆä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ä½¿ç”¨è¡¥ç ï¼‰ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><a href="https://en.wikipedia.org/wiki/Ones%27_complement" target="_blank" rel="noopener">ä¸€è¡¥æ•°ï¼ˆ1s Complementï¼‰</a></li>
<li><a href="https://en.wikipedia.org/wiki/Two%27s_complement" target="_blank" rel="noopener">è¡¥ç ï¼ˆ2s Complementï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> è®¡ç®—ç½®ä½ï¼ˆSet Bitsï¼‰<ul>
<li><a href="https://youtu.be/Hzuzo9NJrlc" target="_blank" rel="noopener">è®¡ç®—ä¸€ä¸ªå­—èŠ‚ä¸­ç½®ä½ï¼ˆSet Bitsï¼‰çš„å››ç§æ–¹å¼ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><a href="https://graphics.stanford.edu/~seander/bithacks.html#CountBitsSetKernighan" target="_blank" rel="noopener">è®¡ç®—æ¯”ç‰¹ä½</a></li>
<li><a href="http://stackoverflow.com/questions/109023/how-to-count-the-number-of-set-bits-in-a-32-bit-integer" target="_blank" rel="noopener">å¦‚ä½•åœ¨ä¸€ä¸ª 32 ä½çš„æ•´å‹ä¸­è®¡ç®—ç½®ä½ï¼ˆSet Bitsï¼‰çš„æ•°é‡</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> å››èˆäº”å…¥2çš„å¹‚æ•°ï¼š<ul>
<li><a href="http://bits.stephan-brumme.com/roundUpToNextPowerOfTwo.html" target="_blank" rel="noopener">å››èˆäº”å…¥åˆ°2çš„ä¸‹ä¸€å¹‚æ•°</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> äº¤æ¢å€¼ï¼š<ul>
<li><a href="http://bits.stephan-brumme.com/swap.html" target="_blank" rel="noopener">äº¤æ¢ï¼ˆSwapï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> ç»å¯¹å€¼ï¼š<ul>
<li><a href="http://bits.stephan-brumme.com/absInteger.html" target="_blank" rel="noopener">ç»å¯¹æ•´å‹ï¼ˆAbsolute Integerï¼‰</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="æ ‘ï¼ˆTreesï¼‰"><a href="#æ ‘ï¼ˆTreesï¼‰" class="headerlink" title="æ ‘ï¼ˆTreesï¼‰"></a>æ ‘ï¼ˆTreesï¼‰</h2><ul>
<li><h3 id="æ ‘-â€”â€”-ç¬”è®°-amp-èƒŒæ™¯"><a href="#æ ‘-â€”â€”-ç¬”è®°-amp-èƒŒæ™¯" class="headerlink" title="æ ‘ â€”â€” ç¬”è®° &amp; èƒŒæ™¯"></a>æ ‘ â€”â€” ç¬”è®° &amp; èƒŒæ™¯</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/ovovP/core-trees" target="_blank" rel="noopener">ç³»åˆ—ï¼šåŸºæœ¬æ ‘ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/95qda/trees" target="_blank" rel="noopener">ç³»åˆ—ï¼šæ ‘ï¼ˆè§†é¢‘ï¼‰</a></li>
<li>åŸºæœ¬çš„æ ‘å½¢ç»“æ„</li>
<li>éå†</li>
<li>æ“ä½œç®—æ³•</li>
<li>BFSï¼ˆå¹¿åº¦ä¼˜å…ˆæ£€ç´¢ï¼Œbreadth-first searchï¼‰<ul>
<li><a href="https://www.youtube.com/watch?v=s-CYnVz-uh4&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=13" target="_blank" rel="noopener">MITï¼ˆè§†é¢‘ï¼‰</a></li>
<li>å±‚åºéå†ï¼ˆä½¿ç”¨é˜Ÿåˆ—çš„ BFS ç®—æ³•ï¼‰<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š O(n)</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<ul>
<li>æœ€å¥½æƒ…å†µï¼š O(1)</li>
<li>æœ€åæƒ…å†µï¼šO(n/2)=O(n)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>DFSï¼ˆæ·±åº¦ä¼˜å…ˆæ£€ç´¢ï¼Œdepth-first searchï¼‰<ul>
<li><a href="https://www.youtube.com/watch?v=AfSk24UTFS8&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=14" target="_blank" rel="noopener">MITï¼ˆè§†é¢‘ï¼‰</a></li>
<li>ç¬”è®°ï¼š<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<ul>
<li>æœ€å¥½æƒ…å†µï¼šO(log n) - æ ‘çš„å¹³å‡é«˜åº¦</li>
<li>æœ€åæƒ…å†µï¼šO(n)</li>
</ul>
</li>
</ul>
</li>
<li>ä¸­åºéå†ï¼ˆDFSï¼šå·¦ã€èŠ‚ç‚¹æœ¬èº«ã€å³ï¼‰</li>
<li>ååºéå†ï¼ˆDFSï¼šå·¦ã€å³ã€èŠ‚ç‚¹æœ¬èº«ï¼‰</li>
<li>å…ˆåºéå†ï¼ˆDFSï¼šèŠ‚ç‚¹æœ¬èº«ã€å·¦ã€å³ï¼‰</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBinary-search-treesï¼‰ï¼šBSTs"><a href="#äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBinary-search-treesï¼‰ï¼šBSTs" class="headerlink" title="äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBinary search treesï¼‰ï¼šBSTs"></a>äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBinary search treesï¼‰ï¼šBSTs</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=x6At0nzX92o&amp;index=1&amp;list=PLA5Lqm4uh9Bbq-E0ZnqTIa8LRaL77ica6" target="_blank" rel="noopener">äºŒå‰æŸ¥æ‰¾æ ‘æ¦‚è§ˆï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/p82sw/core-introduction-to-binary-search-trees" target="_blank" rel="noopener">ç³»åˆ—ï¼ˆè§†é¢‘ï¼‰</a><ul>
<li>ä»ç¬¦å·è¡¨å¼€å§‹åˆ° BST ç¨‹åº</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/E7cXP/introduction" target="_blank" rel="noopener">ä»‹ç»ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=9Jry5-82I68" target="_blank" rel="noopener">MITï¼ˆè§†é¢‘ï¼‰</a></li>
<li>C/C++:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=COZK7NATh4k&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P&amp;index=28" target="_blank" rel="noopener">äºŒå‰æŸ¥æ‰¾æ ‘ â€”â€” åœ¨ C/C++ ä¸­å®ç°ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=hWokyBoo0aI&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P&amp;index=29" target="_blank" rel="noopener">BST çš„å®ç° â€”â€” åœ¨å †æ ˆå’Œå †ä¸­çš„å†…å­˜åˆ†é…ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Ut90klNN264&amp;index=30&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P" target="_blank" rel="noopener">åœ¨äºŒå‰æŸ¥æ‰¾æ ‘ä¸­æ‰¾åˆ°æœ€å°å’Œæœ€å¤§çš„å…ƒç´ ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=_pnqMz5nrRs&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P&amp;index=31" target="_blank" rel="noopener">å¯»æ‰¾äºŒå‰æ ‘çš„é«˜åº¦ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=9RHO6jU--GU&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P&amp;index=32" target="_blank" rel="noopener">äºŒå‰æ ‘çš„éå† â€”â€” å¹¿åº¦ä¼˜å…ˆå’Œæ·±åº¦ä¼˜å…ˆç­–ç•¥ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=86g8jAQug04&amp;index=33&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P" target="_blank" rel="noopener">äºŒå‰æ ‘ï¼šå±‚åºéå†ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=gm8DUJJhmY4&amp;index=34&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P" target="_blank" rel="noopener">äºŒå‰æ ‘çš„éå†ï¼šå…ˆåºã€ä¸­åºã€ååºï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=yEwSGhSsT0U&amp;index=35&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P" target="_blank" rel="noopener">åˆ¤æ–­ä¸€æ£µäºŒå‰æ ‘æ˜¯å¦ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=gcULXE7ViZw&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P&amp;index=36" target="_blank" rel="noopener">ä»äºŒå‰æŸ¥æ‰¾æ ‘ä¸­åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=5cPbNCrdotA&amp;index=37&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P" target="_blank" rel="noopener">äºŒå‰æŸ¥æ‰¾æ ‘ä¸­åºéå†çš„åç»§è€…ï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> å®ç°ï¼š<ul>
<li><input disabled="" type="checkbox"> insert    // å¾€æ ‘ä¸Šæ’å€¼</li>
<li><input disabled="" type="checkbox"> get_node_count // æŸ¥æ‰¾æ ‘ä¸Šçš„èŠ‚ç‚¹æ•°</li>
<li><input disabled="" type="checkbox"> print_values // ä»å°åˆ°å¤§æ‰“å°æ ‘ä¸­èŠ‚ç‚¹çš„å€¼</li>
<li><input disabled="" type="checkbox"> delete_tree</li>
<li><input disabled="" type="checkbox"> is_in_tree // å¦‚æœå€¼å­˜åœ¨äºæ ‘ä¸­åˆ™è¿”å› true</li>
<li><input disabled="" type="checkbox"> get_height // è¿”å›èŠ‚ç‚¹æ‰€åœ¨çš„é«˜åº¦ï¼ˆå¦‚æœåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆé«˜åº¦åˆ™ä¸º1ï¼‰</li>
<li><input disabled="" type="checkbox"> get_min   // è¿”å›æ ‘ä¸Šçš„æœ€å°å€¼</li>
<li><input disabled="" type="checkbox"> get_max   // è¿”å›æ ‘ä¸Šçš„æœ€å¤§å€¼</li>
<li><input disabled="" type="checkbox"> is_binary_search_tree</li>
<li><input disabled="" type="checkbox"> delete_value</li>
<li><input disabled="" type="checkbox"> get_successor // è¿”å›ç»™å®šå€¼çš„åç»§è€…ï¼Œè‹¥æ²¡æœ‰åˆ™è¿”å›-1</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="å †ï¼ˆHeapï¼‰-ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ˆPriority-Queueï¼‰-äºŒå‰å †ï¼ˆBinary-Heapï¼‰"><a href="#å †ï¼ˆHeapï¼‰-ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ˆPriority-Queueï¼‰-äºŒå‰å †ï¼ˆBinary-Heapï¼‰" class="headerlink" title="å †ï¼ˆHeapï¼‰ / ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ˆPriority Queueï¼‰ / äºŒå‰å †ï¼ˆBinary Heapï¼‰"></a>å †ï¼ˆHeapï¼‰ / ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ˆPriority Queueï¼‰ / äºŒå‰å †ï¼ˆBinary Heapï¼‰</h3><ul>
<li>å¯è§†åŒ–æ˜¯ä¸€æ£µæ ‘ï¼Œä½†é€šå¸¸æ˜¯ä»¥çº¿æ€§çš„å½¢å¼å­˜å‚¨ï¼ˆæ•°ç»„ã€é“¾è¡¨ï¼‰</li>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/Heap_(data_structure)" target="_blank" rel="noopener">å †</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/2OpTs/introduction" target="_blank" rel="noopener">ä»‹ç»ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/z3l9N/naive-implementations" target="_blank" rel="noopener">æ— çŸ¥çš„å®ç°ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/GRV2q/binary-trees" target="_blank" rel="noopener">äºŒå‰æ ‘ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/supplement/S5xxz/tree-height-remark" target="_blank" rel="noopener">å…³äºæ ‘é«˜çš„è®¨è®ºï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/0g1dl/basic-operations" target="_blank" rel="noopener">åŸºæœ¬æ“ä½œï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/gl5Ni/complete-binary-trees" target="_blank" rel="noopener">å®Œå…¨äºŒå‰æ ‘ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/HxQo9/pseudocode" target="_blank" rel="noopener">ä¼ªä»£ç ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/odNJmw5TOEE?list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;t=3291" target="_blank" rel="noopener">å †æ’åº â€”â€” è·³åˆ°èµ·ç‚¹ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/hSzMO/heap-sort" target="_blank" rel="noopener">å †æ’åºï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/dwrOS/building-a-heap" target="_blank" rel="noopener">æ„å»ºä¸€ä¸ªå †ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=B7hVxCmfPtM&amp;index=4&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">MITï¼šå †ä¸å †æ’åºï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=yIUFT6AKBGE&amp;index=24&amp;list=PL4BBB74C7D2A1049C" target="_blank" rel="noopener">CS 61B Lecture 24ï¼šä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=MiyLo8adrWw" target="_blank" rel="noopener">æ„å»ºçº¿æ€§æ—¶é—´å¤æ‚åº¦çš„å †ï¼ˆå¤§é¡¶å †ï¼‰</a></li>
<li><input disabled="" type="checkbox"> å®ç°ä¸€ä¸ªå¤§é¡¶å †ï¼š<ul>
<li><input disabled="" type="checkbox"> insert</li>
<li><input disabled="" type="checkbox"> sift_up â€”â€” ç”¨äºæ’å…¥å…ƒç´ </li>
<li><input disabled="" type="checkbox"> get_max â€”â€” è¿”å›æœ€å¤§å€¼ä½†ä¸ç§»é™¤å…ƒç´ </li>
<li><input disabled="" type="checkbox"> get_size() â€”â€” è¿”å›å­˜å‚¨çš„å…ƒç´ æ•°é‡</li>
<li><input disabled="" type="checkbox"> is_empty() â€”â€” è‹¥å †ä¸ºç©ºåˆ™è¿”å› true</li>
<li><input disabled="" type="checkbox"> extract_max â€”â€” è¿”å›æœ€å¤§å€¼å¹¶ç§»é™¤</li>
<li><input disabled="" type="checkbox"> sift_down â€”â€” ç”¨äºè·å–æœ€å¤§å€¼å…ƒç´ </li>
<li><input disabled="" type="checkbox"> remove(i) â€”â€” åˆ é™¤æŒ‡å®šç´¢å¼•çš„å…ƒç´ </li>
<li><input disabled="" type="checkbox"> heapify â€”â€” æ„å»ºå †ï¼Œç”¨äºå †æ’åº</li>
<li><input disabled="" type="checkbox"> heap_sort() â€”â€” æ‹¿åˆ°ä¸€ä¸ªæœªæ’åºçš„æ•°ç»„ï¼Œç„¶åä½¿ç”¨å¤§é¡¶å †è¿›è¡Œå°±åœ°æ’åº<ul>
<li>æ³¨æ„ï¼šè‹¥ç”¨å°é¡¶å †å¯èŠ‚çœæ“ä½œï¼Œä½†å¯¼è‡´ç©ºé—´å¤æ‚åº¦åŠ å€ã€‚ï¼ˆæ— æ³•åšåˆ°å°±åœ°ï¼‰</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="å­—å…¸æ ‘ï¼ˆTriesï¼‰"><a href="#å­—å…¸æ ‘ï¼ˆTriesï¼‰" class="headerlink" title="å­—å…¸æ ‘ï¼ˆTriesï¼‰"></a>å­—å…¸æ ‘ï¼ˆTriesï¼‰</h3><ul>
<li>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå­—å…¸æ ‘å„å¼å„æ ·ã€‚æœ‰äº›æœ‰å‰ç¼€ï¼Œè€Œæœ‰äº›åˆ™æ²¡æœ‰ã€‚æœ‰äº›ä½¿ç”¨å­—ç¬¦ä¸²è€Œä¸ä½¿ç”¨æ¯”ç‰¹ä½æ¥è¿½è¸ªè·¯å¾„ã€‚</li>
<li>é˜…è¯»ä»£ç ï¼Œä½†ä¸å®ç°ã€‚</li>
<li><input disabled="" type="checkbox"> <a href="http://www.cs.yale.edu/homes/aspnes/classes/223/notes.html#Tries" target="_blank" rel="noopener">æ•°æ®ç»“æ„ç¬”è®°åŠç¼–ç¨‹æŠ€æœ¯</a></li>
<li><input disabled="" type="checkbox"> çŸ­è¯¾ç¨‹è§†é¢‘ï¼š<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/08Xyf/core-introduction-to-tries" target="_blank" rel="noopener">å¯¹å­—å…¸æ ‘çš„ä»‹ç»ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/PvlZW/core-performance-of-tries" target="_blank" rel="noopener">å­—å…¸æ ‘çš„æ€§èƒ½ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/DFvd3/core-implementing-a-trie" target="_blank" rel="noopener">å®ç°ä¸€æ£µå­—å…¸æ ‘ï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.toptal.com/java/the-trie-a-neglected-data-structure" target="_blank" rel="noopener">å­—å…¸æ ‘ï¼šä¸€ä¸ªè¢«å¿½ç•¥çš„æ•°æ®ç»“æ„</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.topcoder.com/community/data-science/data-science-tutorials/using-tries/" target="_blank" rel="noopener">é«˜çº§ç¼–ç¨‹ â€”â€” ä½¿ç”¨å­—å…¸æ ‘</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=TJ8SkcUSdbU" target="_blank" rel="noopener">æ ‡å‡†æ•™ç¨‹ï¼ˆç°å®ä¸­çš„ç”¨ä¾‹ï¼‰ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=NinWEPPrkDQ&amp;index=16&amp;list=PLUl4u3cNGP61hsJNdULdudlRL493b-XZf" target="_blank" rel="noopener">MITï¼Œé«˜é˜¶æ•°æ®ç»“æ„ï¼Œä½¿ç”¨å­—ç¬¦ä¸²è¿½è¸ªè·¯å¾„ï¼ˆå¯äº‹åŠåŠŸå€ï¼‰</a></li>
</ul>
</li>
<li><h3 id="å¹³è¡¡æŸ¥æ‰¾æ ‘ï¼ˆBalanced-search-treesï¼‰"><a href="#å¹³è¡¡æŸ¥æ‰¾æ ‘ï¼ˆBalanced-search-treesï¼‰" class="headerlink" title="å¹³è¡¡æŸ¥æ‰¾æ ‘ï¼ˆBalanced search treesï¼‰"></a>å¹³è¡¡æŸ¥æ‰¾æ ‘ï¼ˆBalanced search treesï¼‰</h3><ul>
<li><p>æŒæ¡è‡³å°‘ä¸€ç§å¹³è¡¡æŸ¥æ‰¾æ ‘ï¼ˆå¹¶æ‡‚å¾—å¦‚ä½•å®ç°ï¼‰ï¼š</p>
</li>
<li><p>â€œåœ¨å„ç§å¹³è¡¡æŸ¥æ‰¾æ ‘å½“ä¸­ï¼ŒAVL æ ‘å’Œ2-3æ ‘å·²ç»æˆä¸ºäº†è¿‡å»ï¼Œè€Œçº¢é»‘æ ‘ï¼ˆred-black treesï¼‰çœ‹ä¼¼å˜å¾—è¶Šæ¥è¶Šå—äººé’çã€‚è¿™ç§ä»¤äººç‰¹åˆ«æ„Ÿå…´è¶£çš„æ•°æ®ç»“æ„ï¼Œäº¦ç§°ä¼¸å±•æ ‘ï¼ˆsplay treeï¼‰ã€‚å®ƒå¯ä»¥è‡ªæˆ‘ç®¡ç†ï¼Œä¸”ä¼šä½¿ç”¨è½®æ¢æ¥ç§»é™¤ä»»ä½•è®¿é—®è¿‡æ ¹èŠ‚ç‚¹çš„ keyã€‚â€ â€”â€” Skiena</p>
</li>
<li><p>å› æ­¤ï¼Œåœ¨å„ç§å„æ ·çš„å¹³è¡¡æŸ¥æ‰¾æ ‘å½“ä¸­ï¼Œæˆ‘é€‰æ‹©äº†ä¼¸å±•æ ‘æ¥å®ç°ã€‚è™½ç„¶ï¼Œé€šè¿‡æˆ‘çš„é˜…è¯»ï¼Œæˆ‘å‘ç°åœ¨ Google çš„é¢è¯•ä¸­å¹¶ä¸ä¼šè¢«è¦æ±‚å®ç°ä¸€æ£µå¹³è¡¡æŸ¥æ‰¾æ ‘ã€‚ä½†æ˜¯ï¼Œä¸ºäº†èƒœäººä¸€ç­¹ï¼Œæˆ‘ä»¬è¿˜æ˜¯åº”è¯¥çœ‹çœ‹å¦‚ä½•å»å®ç°ã€‚åœ¨é˜…è¯»äº†å¤§é‡å…³äºçº¢é»‘æ ‘çš„ä»£ç åï¼Œæˆ‘æ‰å‘ç°ä¼¸å±•æ ‘çš„å®ç°ç¡®å®ä¼šä½¿å¾—å„æ–¹é¢æ›´ä¸ºé«˜æ•ˆã€‚</p>
<ul>
<li>ä¼¸å±•æ ‘ï¼šæ’å…¥ã€æŸ¥æ‰¾ã€åˆ é™¤å‡½æ•°çš„å®ç°ï¼Œè€Œå¦‚æœä½ æœ€ç»ˆå®ç°äº†çº¢é»‘æ ‘ï¼Œé‚£ä¹ˆè¯·å°è¯•ä¸€ä¸‹ï¼š</li>
<li>è·³è¿‡åˆ é™¤å‡½æ•°ï¼Œç›´æ¥å®ç°æœç´¢å’Œæ’å…¥åŠŸèƒ½</li>
</ul>
</li>
<li><p>æˆ‘å¸Œæœ›èƒ½é˜…è¯»åˆ°æ›´å¤šå…³äº B æ ‘çš„èµ„æ–™ï¼Œå› ä¸ºå®ƒä¹Ÿè¢«å¹¿æ³›åœ°åº”ç”¨åˆ°å¤§å‹çš„æ•°æ®åº“å½“ä¸­ã€‚</p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://en.wikipedia.org/wiki/Self-balancing_binary_search_tree" target="_blank" rel="noopener">è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><strong>AVL æ ‘</strong></p>
<ul>
<li>å®é™…ä¸­ï¼šæˆ‘èƒ½å‘Šè¯‰ä½ çš„æ˜¯ï¼Œè¯¥ç§æ ‘å¹¶æ— å¤ªå¤šçš„ç”¨é€”ï¼Œä½†æˆ‘èƒ½çœ‹åˆ°æœ‰ç”¨çš„åœ°æ–¹åœ¨å“ªé‡Œï¼šAVL æ ‘æ˜¯å¦ä¸€ç§å¹³è¡¡æŸ¥æ‰¾æ ‘ç»“æ„ã€‚å…¶å¯æ”¯æŒæ—¶é—´å¤æ‚åº¦ä¸º O(log n) çš„æŸ¥è¯¢ã€æ’å…¥åŠåˆ é™¤ã€‚å®ƒæ¯”çº¢é»‘æ ‘ä¸¥æ ¼æ„ä¹‰ä¸Šæ›´ä¸ºå¹³è¡¡ï¼Œä»è€Œå¯¼è‡´æ’å…¥å’Œåˆ é™¤æ›´æ…¢ï¼Œä½†éå†å´æ›´å¿«ã€‚æ­£å› å¦‚æ­¤ï¼Œæ‰å½°æ˜¾å…¶ç»“æ„çš„é­…åŠ›ã€‚åªéœ€è¦æ„å»ºä¸€æ¬¡ï¼Œå°±å¯ä»¥åœ¨ä¸é‡æ–°æ„é€ çš„æƒ…å†µä¸‹è¯»å–ï¼Œé€‚åˆäºå®ç°è¯¸å¦‚è¯­è¨€å­—å…¸ï¼ˆæˆ–ç¨‹åºå­—å…¸ï¼Œå¦‚ä¸€ä¸ªæ±‡ç¼–ç¨‹åºæˆ–è§£é‡Šç¨‹åºçš„æ“ä½œç ï¼‰ã€‚</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=FNeL18KsWPc&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=6" target="_blank" rel="noopener">MIT AVL æ ‘ / AVL æ ‘çš„æ’åºï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/Qq5E0/avl-trees" target="_blank" rel="noopener">AVL æ ‘ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/PKEBC/avl-tree-implementation" target="_blank" rel="noopener">AVL æ ‘çš„å®ç°ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/22BgE/split-and-merge" target="_blank" rel="noopener">åˆ†ç¦»ä¸åˆå¹¶</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><strong>ä¼¸å±•æ ‘</strong></p>
<ul>
<li>å®é™…ä¸­ï¼šä¼¸å±•æ ‘ä¸€èˆ¬ç”¨äºç¼“å­˜ã€å†…å­˜åˆ†é…è€…ã€è·¯ç”±å™¨ã€åƒåœ¾å›æ”¶è€…ã€æ•°æ®å‹ç¼©ã€ropesï¼ˆå­—ç¬¦ä¸²çš„ä¸€ç§æ›¿ä»£å“ï¼Œç”¨äºå­˜å‚¨é•¿ä¸²çš„æ–‡æœ¬å­—ç¬¦ï¼‰ã€Windows NTï¼ˆè™šæ‹Ÿå†…å­˜ã€ç½‘ç»œåŠæ–‡ä»¶ç³»ç»Ÿï¼‰ç­‰çš„å®ç°ã€‚</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Najzh1rYQTo&amp;index=23&amp;list=PL-XXv-cvA_iAlnI-BQr9hjqADPBtujFJd" target="_blank" rel="noopener">CS 61Bï¼šä¼¸å±•æ ‘ï¼ˆSplay treesï¼‰ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> MIT æ•™ç¨‹ï¼šä¼¸å±•æ ‘ï¼ˆSplay treesï¼‰ï¼š<ul>
<li>è¯¥æ•™ç¨‹ä¼šè¿‡äºå­¦æœ¯ï¼Œä½†è¯·è§‚çœ‹åˆ°æœ€åçš„10åˆ†é’Ÿä»¥ç¡®ä¿æŒæ¡ã€‚</li>
<li><a href="https://www.youtube.com/watch?v=QnPl_Y6EqMo" target="_blank" rel="noopener">è§†é¢‘</a></li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><strong>2-3æŸ¥æ‰¾æ ‘</strong></p>
<ul>
<li>å®é™…ä¸­ï¼š2-3æ ‘çš„å…ƒç´ æ’å…¥éå¸¸å¿«é€Ÿï¼Œä½†å´æœ‰ç€æŸ¥è¯¢æ…¢çš„ä»£ä»·ï¼ˆå› ä¸ºç›¸æ¯”è¾ƒ AVL æ ‘æ¥è¯´ï¼Œå…¶é«˜åº¦æ›´é«˜ï¼‰ã€‚</li>
<li>ä½ ä¼šå¾ˆå°‘ç”¨åˆ°2-3æ ‘ã€‚è¿™æ˜¯å› ä¸ºï¼Œå…¶å®ç°è¿‡ç¨‹ä¸­æ¶‰åŠåˆ°ä¸åŒç±»å‹çš„èŠ‚ç‚¹ã€‚å› æ­¤ï¼Œäººä»¬æ›´å¤šåœ°ä¼šé€‰æ‹©çº¢é»‘æ ‘ã€‚</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=C3SsdUqasD4&amp;list=PLA5Lqm4uh9Bbq-E0ZnqTIa8LRaL77ica6&amp;index=2" target="_blank" rel="noopener">2-3æ ‘çš„ç›´æ„Ÿä¸å®šä¹‰ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=iYvBtGKsqSg&amp;index=3&amp;list=PLA5Lqm4uh9Bbq-E0ZnqTIa8LRaL77ica6" target="_blank" rel="noopener">2-3æ ‘çš„äºŒå…ƒè§‚ç‚¹</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=TOb1tuEZ2X4&amp;index=5&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp" target="_blank" rel="noopener">2-3æ ‘ï¼ˆå­¦ç”Ÿå™è¿°ï¼‰ï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><strong>2-3-4æ ‘ (äº¦ç§°2-4æ ‘)</strong></p>
<ul>
<li>å®é™…ä¸­ï¼šå¯¹äºæ¯ä¸€æ£µ2-4æ ‘ï¼Œéƒ½æœ‰ç€å¯¹åº”çš„çº¢é»‘æ ‘æ¥å­˜å‚¨åŒæ ·é¡ºåºçš„æ•°æ®å…ƒç´ ã€‚åœ¨2-4æ ‘ä¸Šè¿›è¡Œæ’å…¥åŠåˆ é™¤æ“ä½œç­‰åŒäºåœ¨çº¢é»‘æ ‘ä¸Šè¿›è¡Œé¢œè‰²ç¿»è½¬åŠè½®æ¢ã€‚è¿™ä½¿å¾—2-4æ ‘æˆä¸ºä¸€ç§ç”¨äºæŒæ¡çº¢é»‘æ ‘èƒŒåé€»è¾‘çš„é‡è¦å·¥å…·ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè®¸å¤šç®—æ³•å¼•å¯¼æ–‡ç« éƒ½ä¼šåœ¨ä»‹ç»çº¢é»‘æ ‘ä¹‹å‰ï¼Œå…ˆä»‹ç»2-4æ ‘ï¼Œå°½ç®¡<strong>2-4æ ‘åœ¨å®é™…ä¸­å¹¶ä¸ç»å¸¸ä½¿ç”¨</strong>ã€‚</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=zqrqYXkth6Q&amp;index=26&amp;list=PL4BBB74C7D2A1049C" target="_blank" rel="noopener">CS 61B Lecture 26ï¼šå¹³è¡¡æŸ¥æ‰¾æ ‘ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=DQdMYevEyE4&amp;index=4&amp;list=PLA5Lqm4uh9Bbq-E0ZnqTIa8LRaL77ica6" target="_blank" rel="noopener">è‡ªåº•å‘ä¸Šçš„2-4æ ‘ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=2679VQ26Fp4&amp;list=PLA5Lqm4uh9Bbq-E0ZnqTIa8LRaL77ica6&amp;index=5" target="_blank" rel="noopener">è‡ªé¡¶å‘ä¸‹çš„2-4æ ‘ï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><strong>B æ ‘</strong></p>
<ul>
<li>æœ‰è¶£çš„æ˜¯ï¼šä¸ºå•¥å« B ä»ç„¶æ˜¯ä¸€ä¸ªç¥ç§˜ã€‚å› ä¸º B å¯ä»£è¡¨æ³¢éŸ³ï¼ˆBoeingï¼‰ã€å¹³è¡¡ï¼ˆBalancedï¼‰æˆ– Bayerï¼ˆè”åˆåˆ›é€ è€…ï¼‰</li>
<li>å®é™…ä¸­ï¼šB æ ‘ä¼šè¢«å¹¿æ³›é€‚ç”¨äºæ•°æ®åº“ä¸­ï¼Œè€Œç°ä»£å¤§å¤šæ•°çš„æ–‡ä»¶ç³»ç»Ÿéƒ½ä¼šä½¿ç”¨åˆ°è¿™ç§æ ‘ï¼ˆæˆ–å˜ç§)ã€‚é™¤äº†è¿ç”¨åœ¨æ•°æ®åº“ä¸­ï¼ŒB æ ‘ä¹Ÿä¼šè¢«ç”¨äºæ–‡ä»¶ç³»ç»Ÿä»¥å¿«é€Ÿè®¿é—®ä¸€ä¸ªæ–‡ä»¶çš„ä»»æ„å—ã€‚ä½†å­˜åœ¨ç€ä¸€ä¸ªåŸºæœ¬çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯å¦‚ä½•å°†æ–‡ä»¶å— i è½¬æ¢æˆä¸€ä¸ªç¡¬ç›˜å—ï¼ˆæˆ–ä¸€ä¸ªæŸ±é¢-ç£å¤´-æ‰‡åŒºï¼‰ä¸Šçš„åœ°å€ã€‚</li>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/B-tree" target="_blank" rel="noopener">B æ ‘</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=I22wEC1tTGo&amp;list=PLA5Lqm4uh9Bbq-E0ZnqTIa8LRaL77ica6&amp;index=6" target="_blank" rel="noopener">B æ ‘çš„ä»‹ç»ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=s3bCdZGrgpA&amp;index=7&amp;list=PLA5Lqm4uh9Bbq-E0ZnqTIa8LRaL77ica6" target="_blank" rel="noopener">B æ ‘çš„å®šä¹‰åŠå…¶æ’å…¥æ“ä½œï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=svfnVhJOfMc&amp;index=8&amp;list=PLA5Lqm4uh9Bbq-E0ZnqTIa8LRaL77ica6" target="_blank" rel="noopener">B æ ‘çš„åˆ é™¤æ“ä½œï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=V3omVLzI0WE&amp;index=7&amp;list=PLUl4u3cNGP61hsJNdULdudlRL493b-XZf" target="_blank" rel="noopener">MIT 6.851 â€”â€” å†…å­˜å±‚æ¬¡æ¨¡å—ï¼ˆMemory Hierarchy Modelsï¼‰ï¼ˆè§†é¢‘ï¼‰</a><ul>
<li>è¦†ç›–æœ‰é«˜é€Ÿç¼“å­˜å‚æ•°æ— å…³å‹ï¼ˆcache-obliviousï¼‰B æ ‘å’Œéå¸¸æœ‰è¶£çš„æ•°æ®ç»“æ„</li>
<li>å¤´37åˆ†é’Ÿè®²è¿°çš„å¾ˆä¸“ä¸šï¼Œæˆ–è®¸å¯ä»¥è·³è¿‡ï¼ˆB æŒ‡å—çš„å¤§å°ã€å³ç¼“å­˜è¡Œçš„å¤§å°ï¼‰</li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><strong>çº¢é»‘æ ‘</strong></p>
<ul>
<li>å®é™…ä¸­ï¼šçº¢é»‘æ ‘æä¾›äº†åœ¨æœ€åæƒ…å†µä¸‹æ’å…¥æ“ä½œã€åˆ é™¤æ“ä½œå’ŒæŸ¥æ‰¾æ“ä½œçš„æ—¶é—´ä¿è¯ã€‚è¿™äº›æ—¶é—´å€¼çš„ä¿éšœä¸ä»…å¯¹æ—¶é—´æ•æ„Ÿå‹åº”ç”¨æœ‰ç”¨ï¼Œä¾‹å¦‚å®æ—¶åº”ç”¨ï¼Œè¿˜å¯¹åœ¨å…¶ä»–æ•°æ®ç»“æ„ä¸­å—çš„æ„å»ºéå¸¸æœ‰ç”¨ï¼Œè€Œè¿™äº›æ•°æ®ç»“æ„éƒ½æä¾›äº†æœ€åæƒ…å†µä¸‹çš„ä¿éšœï¼›ä¾‹å¦‚ï¼Œè®¸å¤šç”¨äºè®¡ç®—å‡ ä½•å­¦çš„æ•°æ®ç»“æ„éƒ½å¯ä»¥åŸºäºçº¢é»‘æ ‘ï¼Œè€Œç›®å‰ Linux ç³»ç»Ÿæ‰€é‡‡ç”¨çš„å®Œå…¨å…¬å¹³è°ƒåº¦å™¨ï¼ˆthe Completely Fair Schedulerï¼‰ä¹Ÿä½¿ç”¨åˆ°äº†è¯¥ç§æ ‘ã€‚åœ¨ Java 8ä¸­ï¼Œçº¢é»‘æ ‘ä¹Ÿè¢«ç”¨äºå­˜å‚¨å“ˆå¸Œåˆ—è¡¨é›†åˆä¸­ç›¸åŒçš„æ•°æ®ï¼Œè€Œä¸æ˜¯ä½¿ç”¨é“¾è¡¨åŠå“ˆå¸Œç ã€‚</li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/1W3x0f_RmUo?list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;t=3871" target="_blank" rel="noopener">Aduni â€”â€” ç®—æ³• â€”â€” è¯¾ç¨‹4ï¼ˆè¯¥é“¾æ¥ç›´æ¥è·³åˆ°å¼€å§‹éƒ¨åˆ†ï¼‰ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=hm2GHwyKF1o&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=5" target="_blank" rel="noopener">Aduni â€”â€” ç®—æ³• â€”â€” è¯¾ç¨‹5ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/Red%E2%80%93black_tree" target="_blank" rel="noopener">é»‘æ ‘ï¼ˆBlack Treeï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.topcoder.com/community/data-science/data-science-tutorials/an-introduction-to-binary-search-and-red-black-trees/" target="_blank" rel="noopener">äºŒåˆ†æŸ¥æ‰¾åŠçº¢é»‘æ ‘çš„ä»‹ç»</a></li>
</ul>
</li>
</ul>
</li>
<li><h3 id="N-å‰æ ‘ï¼ˆK-å‰æ ‘ã€M-å‰æ ‘ï¼‰"><a href="#N-å‰æ ‘ï¼ˆK-å‰æ ‘ã€M-å‰æ ‘ï¼‰" class="headerlink" title="N å‰æ ‘ï¼ˆK å‰æ ‘ã€M å‰æ ‘ï¼‰"></a>N å‰æ ‘ï¼ˆK å‰æ ‘ã€M å‰æ ‘ï¼‰</h3><ul>
<li>æ³¨æ„ï¼šN æˆ– K æŒ‡çš„æ˜¯åˆ†æ”¯ç³»æ•°ï¼ˆå³æ ‘çš„æœ€å¤§åˆ†æ”¯æ•°ï¼‰ï¼š<ul>
<li>äºŒå‰æ ‘æ˜¯ä¸€ç§åˆ†æ”¯ç³»æ•°ä¸º2çš„æ ‘</li>
<li>2-3æ ‘æ˜¯ä¸€ç§åˆ†æ”¯ç³»æ•°ä¸º3çš„æ ‘</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/K-ary_tree" target="_blank" rel="noopener">K å‰æ ‘</a></li>
</ul>
</li>
</ul>
<h2 id="æ’åºï¼ˆSortingï¼‰"><a href="#æ’åºï¼ˆSortingï¼‰" class="headerlink" title="æ’åºï¼ˆSortingï¼‰"></a>æ’åºï¼ˆSortingï¼‰</h2><ul>
<li><input disabled="" type="checkbox"> <p>ç¬”è®°:</p>
<ul>
<li>å®ç°å„ç§æ’åº &amp; çŸ¥é“æ¯ç§æ’åºçš„æœ€åã€æœ€å¥½å’Œå¹³å‡çš„å¤æ‚åº¦åˆ†åˆ«æ˜¯ä»€ä¹ˆåœºæ™¯:<ul>
<li>ä¸è¦ç”¨å†’æ³¡æ’åº - å¤§å¤šæ•°æƒ…å†µä¸‹æ•ˆç‡æ„Ÿäºº - æ—¶é—´å¤æ‚åº¦ O(n^2), é™¤é n &lt;= 16</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> æ’åºç®—æ³•çš„ç¨³å®šæ€§ (â€œå¿«æ’æ˜¯ç¨³å®šçš„ä¹ˆ?â€)<ul>
<li><a href="https://en.wikipedia.org/wiki/Sorting_algorithm#Stability" target="_blank" rel="noopener">æ’åºç®—æ³•çš„ç¨³å®šæ€§</a></li>
<li><a href="http://stackoverflow.com/questions/1517793/stability-in-sorting-algorithms" target="_blank" rel="noopener">æ’åºç®—æ³•çš„ç¨³å®šæ€§</a></li>
<li><a href="http://stackoverflow.com/questions/1517793/stability-in-sorting-algorithms" target="_blank" rel="noopener">æ’åºç®—æ³•çš„ç¨³å®šæ€§</a></li>
<li><a href="http://www.geeksforgeeks.org/stability-in-sorting-algorithms/" target="_blank" rel="noopener">æ’åºç®—æ³•çš„ç¨³å®šæ€§</a></li>
<li><a href="http://homepages.math.uic.edu/~leon/cs-mcs401-s08/handouts/stability.pdf" target="_blank" rel="noopener">æ’åºç®—æ³• - ç¨³å®šæ€§</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> å“ªç§æ’åºç®—æ³•å¯ä»¥ç”¨é“¾è¡¨ï¼Ÿå“ªç§ç”¨æ•°ç»„ï¼Ÿå“ªç§ä¸¤è€…éƒ½å¯ï¼Ÿ<ul>
<li>å¹¶ä¸æ¨èå¯¹ä¸€ä¸ªé“¾è¡¨æ’åºï¼Œä½†å½’å¹¶æ’åºæ˜¯å¯è¡Œçš„.</li>
<li><a href="http://www.geeksforgeeks.org/merge-sort-for-linked-list/" target="_blank" rel="noopener">é“¾è¡¨çš„å½’å¹¶æ’åº</a></li>
</ul>
</li>
</ul>
</li>
<li><p>å…³äºå †æ’åºï¼Œè¯·æŸ¥çœ‹å‰æ–‡å †çš„æ•°æ®ç»“æ„éƒ¨åˆ†ã€‚å †æ’åºå¾ˆå¼ºå¤§ï¼Œä¸è¿‡æ˜¯éç¨³å®šæ’åºã€‚</p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=P00xJgWzz2c&amp;index=1&amp;list=PL89B61F78B552C1AB" target="_blank" rel="noopener">å†’æ³¡æ’åº (video)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=ni_zk257Nqo&amp;index=7&amp;list=PL89B61F78B552C1AB" target="_blank" rel="noopener">å†’æ³¡æ’åºåˆ†æ (video)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=Kg4bqzAqRBM&amp;index=3&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">æ’å…¥æ’åº &amp; å½’å¹¶æ’åº (video)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=c4BRHC7kTaQ&amp;index=2&amp;list=PL89B61F78B552C1AB" target="_blank" rel="noopener">æ’å…¥æ’åº (video)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=GCae1WNvnZM&amp;index=3&amp;list=PL89B61F78B552C1AB" target="_blank" rel="noopener">å½’å¹¶æ’åº (video)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=y_G9BkAm6B8&amp;index=4&amp;list=PL89B61F78B552C1AB" target="_blank" rel="noopener">å¿«æ’ (video)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=6nDMgr0-Yyo&amp;index=8&amp;list=PL89B61F78B552C1AB" target="_blank" rel="noopener">é€‰æ‹©æ’åº (video)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p>æ–¯å¦ç¦å¤§å­¦å…³äºæ’åºç®—æ³•çš„è§†é¢‘:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ENp00xylP7c&amp;index=15&amp;list=PLFE6E58F856038C69" target="_blank" rel="noopener">è¯¾ç¨‹ 15 | ç¼–ç¨‹æŠ½è±¡ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=y4M9IVgrVKo&amp;index=16&amp;list=PLFE6E58F856038C69" target="_blank" rel="noopener">è¯¾ç¨‹ 16 | ç¼–ç¨‹æŠ½è±¡ (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>Shai Simonson è§†é¢‘, <a href="http://www.aduni.org/" target="_blank" rel="noopener">Aduni.org</a>:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=odNJmw5TOEE&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=2" target="_blank" rel="noopener">ç®—æ³• - æ’åº - ç¬¬äºŒè®² (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=hj8YKFTFKEE&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=3" target="_blank" rel="noopener">ç®—æ³• - æ’åº2 - ç¬¬ä¸‰è®² (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>Steven Skiena å…³äºæ’åºçš„è§†é¢‘:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/ute-pmMkyuk?list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;t=1600" target="_blank" rel="noopener">è¯¾ç¨‹ä» 26:46 å¼€å§‹ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=yLvp-pB8mak&amp;index=8&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b" target="_blank" rel="noopener">è¯¾ç¨‹ä» 27:40 å¼€å§‹ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=q7K9otnzlfE&amp;index=9&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b" target="_blank" rel="noopener">è¯¾ç¨‹ä» 35:00 å¼€å§‹ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=TvqIGu9Iupw&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;index=10" target="_blank" rel="noopener">è¯¾ç¨‹ä» 23:50 å¼€å§‹ (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>åŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡ï¼ˆUC Berkeleyï¼‰ å¤§å­¦è¯¾ç¨‹:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=EiUvYS2DT6I&amp;list=PL4BBB74C7D2A1049C&amp;index=29" target="_blank" rel="noopener">CS 61B è¯¾ç¨‹ 29: æ’åº I (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=2hTY3t80Qsk&amp;list=PL4BBB74C7D2A1049C&amp;index=30" target="_blank" rel="noopener">CS 61B è¯¾ç¨‹ 30: æ’åº II (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Y6LOLpxg6Dc&amp;index=32&amp;list=PL4BBB74C7D2A1049C" target="_blank" rel="noopener">CS 61B è¯¾ç¨‹ 32: æ’åº III (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=qNMQ4ly43p4&amp;index=33&amp;list=PL4BBB74C7D2A1049C" target="_blank" rel="noopener">CS 61B è¯¾ç¨‹ 33: æ’åº V (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <ul>
<li>å½’å¹¶æ’åº:<ul>
<li><input disabled="" type="checkbox"> <a href="http://www.cs.yale.edu/homes/aspnes/classes/223/examples/sorting/mergesort.c" target="_blank" rel="noopener">ä½¿ç”¨å¤–éƒ¨æ•°ç»„</a></li>
<li><input disabled="" type="checkbox"> <a href="https://github.com/jwasham/practice-cpp/blob/master/merge_sort/merge_sort.cc" target="_blank" rel="noopener">å¯¹åŸæ•°ç»„ç›´æ¥æ’åº</a></li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <ul>
<li>å¿«é€Ÿæ’åº:<ul>
<li><input disabled="" type="checkbox"> <a href="http://www.cs.yale.edu/homes/aspnes/classes/223/examples/randomization/quick.c" target="_blank" rel="noopener">å®ç°</a></li>
<li><input disabled="" type="checkbox"> <a href="https://github.com/jwasham/practice-c/blob/master/quick_sort/quick_sort.c" target="_blank" rel="noopener">å®ç°</a></li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>å®ç°:</p>
<ul>
<li><input disabled="" type="checkbox"> å½’å¹¶ï¼šå¹³å‡å’Œæœ€å·®æƒ…å†µçš„æ—¶é—´å¤æ‚åº¦ä¸º O(n log n)ã€‚</li>
<li><input disabled="" type="checkbox"> å¿«æ’ï¼šå¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(n log n)ã€‚</li>
<li>é€‰æ‹©æ’åºå’Œæ’å…¥æ’åºçš„æœ€åã€å¹³å‡æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(n^2)ã€‚</li>
<li>å…³äºå †æ’åºï¼Œè¯·æŸ¥çœ‹å‰æ–‡å †çš„æ•°æ®ç»“æ„éƒ¨åˆ†ã€‚</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>æœ‰å…´è¶£çš„è¯ï¼Œè¿˜æœ‰ä¸€äº›è¡¥å…… - ä½†å¹¶ä¸æ˜¯å¿…é¡»çš„:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="http://www.cs.yale.edu/homes/aspnes/classes/223/notes.html#radixSort" target="_blank" rel="noopener">åŸºæ•°æ’åº</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=xhr26ia4k38" target="_blank" rel="noopener">åŸºæ•°æ’åº (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Nz1KZXbghj8&amp;index=7&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">åŸºæ•°æ’åº, è®¡æ•°æ’åº (çº¿æ€§æ—¶é—´å†…) (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=cNB2lADK3_s&amp;index=8&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp" target="_blank" rel="noopener">éšæœºç®—æ³•: çŸ©é˜µç›¸ä¹˜, å¿«æ’, Freivaldsâ€™ ç®—æ³• (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=pOKy3RZbSws&amp;list=PLUl4u3cNGP61hsJNdULdudlRL493b-XZf&amp;index=14" target="_blank" rel="noopener">çº¿æ€§æ—¶é—´å†…çš„æ’åº (video)</a></li>
</ul>
</li>
</ul>
<h2 id="å›¾ï¼ˆGraphsï¼‰"><a href="#å›¾ï¼ˆGraphsï¼‰" class="headerlink" title="å›¾ï¼ˆGraphsï¼‰"></a>å›¾ï¼ˆGraphsï¼‰</h2><p>å›¾è®ºèƒ½è§£å†³è®¡ç®—æœºç§‘å­¦é‡Œçš„å¾ˆå¤šé—®é¢˜ï¼Œæ‰€ä»¥è¿™ä¸€èŠ‚ä¼šæ¯”è¾ƒé•¿ï¼Œåƒæ ‘å’Œæ’åºçš„éƒ¨åˆ†ä¸€æ ·ã€‚</p>
<ul>
<li><p>Yegge çš„ç¬”è®°:</p>
<ul>
<li>æœ‰ 3 ç§åŸºæœ¬æ–¹å¼åœ¨å†…å­˜é‡Œè¡¨ç¤ºä¸€ä¸ªå›¾:<ul>
<li>å¯¹è±¡å’ŒæŒ‡é’ˆ</li>
<li>çŸ©é˜µ</li>
<li>é‚»æ¥è¡¨</li>
</ul>
</li>
<li>ç†Ÿæ‚‰ä»¥ä¸Šæ¯ä¸€ç§å›¾çš„è¡¨ç¤ºæ³•ï¼Œå¹¶äº†è§£å„è‡ªçš„ä¼˜ç¼ºç‚¹</li>
<li>å®½åº¦ä¼˜å…ˆæœç´¢å’Œæ·±åº¦ä¼˜å…ˆæœç´¢ - çŸ¥é“å®ƒä»¬çš„è®¡ç®—å¤æ‚åº¦å’Œè®¾è®¡ä¸Šçš„æƒè¡¡ä»¥åŠå¦‚ä½•ç”¨ä»£ç å®ç°å®ƒä»¬</li>
<li>é‡åˆ°ä¸€ä¸ªé—®é¢˜æ—¶ï¼Œé¦–å…ˆå°è¯•åŸºäºå›¾çš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚æœæ²¡æœ‰å†å»å°è¯•å…¶ä»–çš„ã€‚</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>Skiena æ•™æˆçš„è¯¾ç¨‹ - å¾ˆä¸é”™çš„ä»‹ç»:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=OiXxhDrFruw&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;index=11" target="_blank" rel="noopener">CSE373 2012 - è¯¾ç¨‹ 11 - å›¾çš„æ•°æ®ç»“æ„ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=g5vF8jscteo&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;index=12" target="_blank" rel="noopener">CSE373 2012 - è¯¾ç¨‹ 12 - å¹¿åº¦ä¼˜å…ˆæœç´¢ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=S23W6eTcqdY&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;index=13" target="_blank" rel="noopener">CSE373 2012 - è¯¾ç¨‹ 13 - å›¾çš„ç®—æ³• (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=WitPBKGV0HY&amp;index=14&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b" target="_blank" rel="noopener">CSE373 2012 - è¯¾ç¨‹ 14 - å›¾çš„ç®—æ³• (1) (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ia1L30l7OIg&amp;index=15&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b" target="_blank" rel="noopener">CSE373 2012 - è¯¾ç¨‹ 15 - å›¾çš„ç®—æ³• (2) (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=jgDOQq6iWy8&amp;index=16&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b" target="_blank" rel="noopener">CSE373 2012 - è¯¾ç¨‹ 16 - å›¾çš„ç®—æ³• (3) (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>å›¾ (å¤ä¹ å’Œå…¶ä»–):</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Aa2sqUhIn-E&amp;index=15&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">6.006 å•æºæœ€çŸ­è·¯å¾„é—®é¢˜ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=2E7MmKv0Y24&amp;index=16&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">6.006 Dijkstra ç®—æ³• (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ozsuci5pIso&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=17" target="_blank" rel="noopener">6.006 Bellman-Ford ç®—æ³•(video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=CHvQ3q_gJ7E&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=18" target="_blank" rel="noopener">6.006 Dijkstra æ•ˆç‡ä¼˜åŒ– (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=i_AQT_XfvD8&amp;index=6&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm" target="_blank" rel="noopener">Aduni: å›¾çš„ç®—æ³• I - æ‹“æ‰‘æ’åº, æœ€å°ç”Ÿæˆæ ‘, Prim ç®—æ³• -  ç¬¬å…­è¯¾ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ufj5_bppBsA&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=7" target="_blank" rel="noopener">Aduni: å›¾çš„ç®—æ³• II - æ·±åº¦ä¼˜å…ˆæœç´¢, å¹¿åº¦ä¼˜å…ˆæœç´¢, Kruskal ç®—æ³•, å¹¶æŸ¥é›†æ•°æ®ç»“æ„ - ç¬¬ä¸ƒè¯¾ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=DiedsPsMKXc&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=8" target="_blank" rel="noopener">Aduni: å›¾çš„ç®—æ³• III: æœ€çŸ­è·¯å¾„ - ç¬¬å…«è¯¾ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=XIAQRlNkJAw&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=9" target="_blank" rel="noopener">Aduni: å›¾çš„ç®—æ³•. IV: å‡ ä½•ç®—æ³•ä»‹ç» - ç¬¬ä¹è¯¾ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/dgjX4HdMI-Q?list=PL-XXv-cvA_iAlnI-BQr9hjqADPBtujFJd&amp;t=3489" target="_blank" rel="noopener">CS 61B 2014 (ä» 58:09 å¼€å§‹) (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=aJjlQCFwylA&amp;list=PL-XXv-cvA_iAlnI-BQr9hjqADPBtujFJd&amp;index=19" target="_blank" rel="noopener">CS 61B 2014: åŠ æƒå›¾ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=tKwnms5iRBU&amp;index=16&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp" target="_blank" rel="noopener">è´ªå¿ƒç®—æ³•: æœ€å°ç”Ÿæˆæ ‘ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=RpgcYiky7uw" target="_blank" rel="noopener">å›¾çš„ç®—æ³•ä¹‹å¼ºè¿é€šåˆ†é‡ Kosaraju ç®—æ³• (video)</a></li>
</ul>
</li>
<li><p>å®Œæ•´çš„ Coursera è¯¾ç¨‹:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-on-graphs/home/welcome" target="_blank" rel="noopener">å›¾çš„ç®—æ³• (video)</a></li>
</ul>
</li>
<li><p>Yegge: å¦‚æœæœ‰æœºä¼šï¼Œå¯ä»¥è¯•è¯•ç ”ç©¶æ›´é…·ç‚«çš„ç®—æ³•:</p>
<ul>
<li><input disabled="" type="checkbox"> Dijkstra ç®—æ³• - ä¸Šæ–‡ - 6.006</li>
<li><input disabled="" type="checkbox"> A* ç®—æ³•<ul>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/A*_search_algorithm" target="_blank" rel="noopener">A* ç®—æ³•</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=KNXfSOx4eEE" target="_blank" rel="noopener">A* å¯»è·¯æ•™ç¨‹ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=-L-WgKMFuhE" target="_blank" rel="noopener">A* å¯»è·¯ (E01: ç®—æ³•è§£é‡Š) (video)</a></li>
</ul>
</li>
</ul>
</li>
<li><p>æˆ‘ä¼šå®ç°:</p>
<ul>
<li><input disabled="" type="checkbox"> DFS é‚»æ¥è¡¨ (é€’å½’)</li>
<li><input disabled="" type="checkbox"> DFS é‚»æ¥è¡¨ (æ ˆè¿­ä»£)</li>
<li><input disabled="" type="checkbox"> DFS é‚»æ¥çŸ©é˜µ (é€’å½’)</li>
<li><input disabled="" type="checkbox"> DFS é‚»æ¥çŸ©é˜µ (æ ˆè¿­ä»£)</li>
<li><input disabled="" type="checkbox"> BFS é‚»æ¥è¡¨</li>
<li><input disabled="" type="checkbox"> BFS é‚»æ¥çŸ©é˜µ</li>
<li><input disabled="" type="checkbox"> å•æºæœ€çŸ­è·¯å¾„é—®é¢˜ (Dijkstra)</li>
<li><input disabled="" type="checkbox"> æœ€å°ç”Ÿæˆæ ‘</li>
<li>åŸºäº DFS çš„ç®—æ³• (æ ¹æ®ä¸Šæ–‡ Aduni çš„è§†é¢‘):<ul>
<li><input disabled="" type="checkbox"> æ£€æŸ¥ç¯ (æˆ‘ä»¬ä¼šå…ˆæ£€æŸ¥æ˜¯å¦æœ‰ç¯å­˜åœ¨ä»¥ä¾¿åšæ‹“æ‰‘æ’åº)</li>
<li><input disabled="" type="checkbox"> æ‹“æ‰‘æ’åº</li>
<li><input disabled="" type="checkbox"> è®¡ç®—å›¾ä¸­çš„è¿é€šåˆ†æ”¯</li>
<li><input disabled="" type="checkbox"> åˆ—å‡ºå¼ºè¿é€šåˆ†é‡</li>
<li><input disabled="" type="checkbox"> æ£€æŸ¥åŒå‘å›¾</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>å¯ä»¥ä» Skiena çš„ä¹¦ï¼ˆå‚è€ƒä¸‹é¢çš„ä¹¦æ¨èå°èŠ‚ï¼‰å’Œé¢è¯•ä¹¦ç±ä¸­å­¦ä¹ æ›´å¤šå…³äºå›¾çš„å®è·µã€‚</p>
<h2 id="æ›´å¤šçŸ¥è¯†"><a href="#æ›´å¤šçŸ¥è¯†" class="headerlink" title="æ›´å¤šçŸ¥è¯†"></a>æ›´å¤šçŸ¥è¯†</h2><ul>
<li><h3 id="é€’å½’ï¼ˆRecursionï¼‰"><a href="#é€’å½’ï¼ˆRecursionï¼‰" class="headerlink" title="é€’å½’ï¼ˆRecursionï¼‰"></a>é€’å½’ï¼ˆRecursionï¼‰</h3><ul>
<li><input disabled="" type="checkbox"> Stanford å¤§å­¦å…³äºé€’å½’ &amp; å›æº¯çš„è¯¾ç¨‹:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=gl3emqCuueQ&amp;list=PLFE6E58F856038C69&amp;index=8" target="_blank" rel="noopener">è¯¾ç¨‹ 8 | æŠ½è±¡ç¼–ç¨‹ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=uFJhEPrbycQ&amp;list=PLFE6E58F856038C69&amp;index=9" target="_blank" rel="noopener">è¯¾ç¨‹ 9 | æŠ½è±¡ç¼–ç¨‹ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=NdF1QDTRkck&amp;index=10&amp;list=PLFE6E58F856038C69" target="_blank" rel="noopener">è¯¾ç¨‹ 10 | æŠ½è±¡ç¼–ç¨‹ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=p-gpaIGRCQI&amp;list=PLFE6E58F856038C69&amp;index=11" target="_blank" rel="noopener">è¯¾ç¨‹ 11 | æŠ½è±¡ç¼–ç¨‹ (video)</a></li>
</ul>
</li>
<li>ä»€ä¹ˆæ—¶å€™é€‚åˆä½¿ç”¨</li>
<li>å°¾é€’å½’ä¼šæ›´å¥½ä¹ˆ?<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.quora.com/What-is-tail-recursion-Why-is-it-so-bad" target="_blank" rel="noopener">ä»€ä¹ˆæ˜¯å°¾é€’å½’ä»¥åŠä¸ºä»€ä¹ˆå®ƒå¦‚æ­¤ç³Ÿç³•?</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=L1jjXGfxozc" target="_blank" rel="noopener">å°¾é€’å½’ (video)</a></li>
</ul>
</li>
</ul>
</li>
<li><h3 id="åŠ¨æ€è§„åˆ’ï¼ˆDynamic-Programmingï¼‰"><a href="#åŠ¨æ€è§„åˆ’ï¼ˆDynamic-Programmingï¼‰" class="headerlink" title="åŠ¨æ€è§„åˆ’ï¼ˆDynamic Programmingï¼‰"></a>åŠ¨æ€è§„åˆ’ï¼ˆDynamic Programmingï¼‰</h3><ul>
<li><p><strong>æ³¨æ„</strong> ï¼šåŠ¨æ€è§„åˆ’æ˜¯é—¨æä¸ºé‡è¦çš„æŠ€æœ¯ï¼Œå°½ç®¡å…¶å¹¶æœªè¢« Google æä¾›çš„å‡†å¤‡æ‰‹å†ŒæåŠï¼Œä½†ä½ å¯èƒ½ä¼šå¯¹å¯»æ±‚æœ€ä½³è§£çš„æ–¹å¼æœ‰ç‚¹ç–‘é—®ï¼Œæ‰€ä»¥æˆ‘å°†å…¶åˆ—å…¥è¿™ä»½è¡¨å•ã€‚</p>
</li>
<li><p>è¿™ä¸€éƒ¨åˆ†ä¼šæœ‰ç‚¹å›°éš¾ï¼Œæ¯ä¸ªå¯ä»¥ç”¨åŠ¨æ€è§„åˆ’è§£å†³çš„é—®é¢˜éƒ½å¿…é¡»å…ˆå®šä¹‰å‡ºé€’æ¨å…³ç³»ï¼Œè¦æ¨å¯¼å‡ºæ¥å¯èƒ½ä¼šæœ‰ç‚¹æ£˜æ‰‹ã€‚</p>
</li>
<li><p>æˆ‘å»ºè®®å…ˆé˜…è¯»å’Œå­¦ä¹ è¶³å¤Ÿå¤šçš„åŠ¨æ€è§„åˆ’çš„ä¾‹å­ï¼Œä»¥ä¾¿å¯¹è§£å†³ DP é—®é¢˜çš„ä¸€èˆ¬æ¨¡å¼æœ‰ä¸ªæ‰å®çš„ç†è§£ã€‚</p>
</li>
<li><input disabled="" type="checkbox"> <p>è§†é¢‘:</p>
<ul>
<li>Skiena çš„è§†é¢‘å¯èƒ½ä¼šæœ‰ç‚¹éš¾è·Ÿä¸Šï¼Œæœ‰æ—¶å€™ä»–ç”¨ç™½æ¿å†™çš„å­—ä¼šæ¯”è¾ƒå°ï¼Œéš¾çœ‹æ¸…æ¥šã€‚</li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/Qc2ieXRgR0k?list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;t=1718" target="_blank" rel="noopener">Skiena: CSE373 2012 - è¯¾ç¨‹ 19 - åŠ¨æ€è§„åˆ’ä»‹ç» (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/IsmMhMdyeGY?list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;t=2749" target="_blank" rel="noopener">Skiena: CSE373 2012 - è¯¾ç¨‹ 20 - ç¼–è¾‘è·ç¦» (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/o0V9eYF4UI8?list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;t=406" target="_blank" rel="noopener">Skiena: CSE373 2012 - è¯¾ç¨‹ 21 - åŠ¨æ€è§„åˆ’ä¸¾ä¾‹ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=dRbMC1Ltl3A&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;index=22" target="_blank" rel="noopener">Skiena: CSE373 2012 - è¯¾ç¨‹ 22 - åŠ¨æ€è§„åˆ’åº”ç”¨ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/J5aJEcOr6Eo?list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;t=3558" target="_blank" rel="noopener">Simonson: åŠ¨æ€è§„åˆ’ 0 (starts at 59:18) (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=0EzHjQ_SOeU&amp;index=11&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm" target="_blank" rel="noopener">Simonson: åŠ¨æ€è§„åˆ’ I - è¯¾ç¨‹ 11 (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=v1qiRwuJU7g&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=12" target="_blank" rel="noopener">Simonson: åŠ¨æ€è§„åˆ’ II - è¯¾ç¨‹ 12 (video)</a></li>
<li><input disabled="" type="checkbox"> å•ç‹¬çš„ DP é—®é¢˜ (æ¯ä¸€ä¸ªè§†é¢‘éƒ½å¾ˆçŸ­):<br>  <a href="https://www.youtube.com/playlist?list=PLrmLmBdmIlpsHaNTPP_jHHDx_os9ItYXr" target="_blank" rel="noopener">åŠ¨æ€è§„åˆ’ (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>Yale è¯¾ç¨‹ç¬”è®°:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="http://www.cs.yale.edu/homes/aspnes/classes/223/notes.html#dynamicProgramming" target="_blank" rel="noopener">åŠ¨æ€è§„åˆ’</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>Coursera è¯¾ç¨‹:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithmic-thinking-2/lecture/80RrW/the-rna-secondary-structure-problem" target="_blank" rel="noopener">RNA äºŒçº§ç»“æ„é—®é¢˜ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithmic-thinking-2/lecture/PSonq/a-dynamic-programming-algorithm" target="_blank" rel="noopener">åŠ¨æ€è§„åˆ’ç®—æ³• (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithmic-thinking-2/lecture/oUEK2/illustrating-the-dp-algorithm" target="_blank" rel="noopener">DP ç®—æ³•æè¿° (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithmic-thinking-2/lecture/nfK2r/running-time-of-the-dp-algorithm" target="_blank" rel="noopener">DP ç®—æ³•çš„è¿è¡Œæ—¶é—´ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithmic-thinking-2/lecture/M999a/dp-vs-recursive-implementation" target="_blank" rel="noopener">DP vs é€’å½’å®ç° (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithmic-thinking-2/lecture/UZ7o6/global-pairwise-sequence-alignment" target="_blank" rel="noopener">å…¨å±€æˆå¯¹åºåˆ—æ’åˆ— (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithmic-thinking-2/lecture/WnNau/local-pairwise-sequence-alignment" target="_blank" rel="noopener">æœ¬åœ°æˆå¯¹åºåˆ—æ’åˆ— (video)</a></li>
</ul>
</li>
</ul>
</li>
<li><h3 id="ç»„åˆï¼ˆCombinatoricsï¼‰-n-ä¸­é€‰-k-ä¸ª-amp-æ¦‚ç‡ï¼ˆProbabilityï¼‰"><a href="#ç»„åˆï¼ˆCombinatoricsï¼‰-n-ä¸­é€‰-k-ä¸ª-amp-æ¦‚ç‡ï¼ˆProbabilityï¼‰" class="headerlink" title="ç»„åˆï¼ˆCombinatoricsï¼‰ (n ä¸­é€‰ k ä¸ª) &amp; æ¦‚ç‡ï¼ˆProbabilityï¼‰"></a>ç»„åˆï¼ˆCombinatoricsï¼‰ (n ä¸­é€‰ k ä¸ª) &amp; æ¦‚ç‡ï¼ˆProbabilityï¼‰</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=8RRo6Ti9d0U" target="_blank" rel="noopener">æ•°æ®æŠ€å·§: å¦‚ä½•æ‰¾å‡ºé˜¶ä¹˜ã€æ’åˆ—å’Œç»„åˆ(é€‰æ‹©) (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=sZkAAk9Wwa4" target="_blank" rel="noopener">æ¥ç‚¹å­¦æ ¡çš„ä¸œè¥¿: æ¦‚ç‡ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=dNaJg-mLobQ" target="_blank" rel="noopener">æ¥ç‚¹å­¦æ ¡çš„ä¸œè¥¿: æ¦‚ç‡å’Œé©¬å°”å¯å¤«é“¾ (video)</a></li>
<li><input disabled="" type="checkbox"> å¯æ±—å­¦é™¢:<ul>
<li>è¯¾ç¨‹è®¾ç½®:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.khanacademy.org/math/probability/probability-and-combinatorics-topic" target="_blank" rel="noopener">æ¦‚ç‡ç†è®ºåŸºç¡€</a></li>
</ul>
</li>
<li>è§†é¢‘ - 41 (æ¯ä¸€ä¸ªéƒ½çŸ­å°ç²¾æ‚):<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=uzkc-qNVoOk&amp;list=PLC58778F28211FA19" target="_blank" rel="noopener">æ¦‚ç‡è§£é‡Š (video)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="NP-NP-å®Œå…¨å’Œè¿‘ä¼¼ç®—æ³•"><a href="#NP-NP-å®Œå…¨å’Œè¿‘ä¼¼ç®—æ³•" class="headerlink" title="NP, NP-å®Œå…¨å’Œè¿‘ä¼¼ç®—æ³•"></a>NP, NP-å®Œå…¨å’Œè¿‘ä¼¼ç®—æ³•</h3><ul>
<li>çŸ¥é“æœ€ç»å…¸çš„ä¸€äº› NP å®Œå…¨é—®é¢˜ï¼Œæ¯”å¦‚æ—…è¡Œå•†é—®é¢˜å’ŒèƒŒåŒ…é—®é¢˜,<br>  è€Œä¸”èƒ½åœ¨é¢è¯•å®˜è¯•å›¾å¿½æ‚ ä½ çš„æ—¶å€™è¯†åˆ«å‡ºä»–ä»¬ã€‚</li>
<li>çŸ¥é“ NP å®Œå…¨æ˜¯ä»€ä¹ˆæ„æ€.</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=moPtwq_cVH8&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=23" target="_blank" rel="noopener">è®¡ç®—å¤æ‚åº¦ (video)</a></li>
<li><input disabled="" type="checkbox"> Simonson:<ul>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/qcGnJ47Smlo?list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;t=2939" target="_blank" rel="noopener">è´ªå¿ƒç®—æ³•. II &amp; ä»‹ç» NP-å®Œå…¨æ€§ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=e0tGC6ZQdQE&amp;index=16&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm" target="_blank" rel="noopener">NP-å®Œå…¨æ€§ II &amp; å½’çº¦ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=fCX1BGT3wjE&amp;index=17&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm" target="_blank" rel="noopener">NP-å®Œå…¨æ€§ III (Video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=NKLDp3Rch3M&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=18" target="_blank" rel="noopener">NP-å®Œå…¨æ€§ IV (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Skiena:<ul>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/KiK5TVgXbFg?list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;t=1508" target="_blank" rel="noopener">CSE373 2012 - è¯¾ç¨‹ 23 - ä»‹ç» NP-å®Œå…¨æ€§ IV (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=27Al52X3hd4&amp;index=24&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b" target="_blank" rel="noopener">CSE373 2012 - è¯¾ç¨‹ 24 - NP-å®Œå…¨æ€§è¯æ˜ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=xCPH4gwIIXM&amp;index=25&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b" target="_blank" rel="noopener">CSE373 2012 - è¯¾ç¨‹ 25 - NP-å®Œå…¨æ€§æŒ‘æˆ˜ (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=eHZifpgyH_4&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=22" target="_blank" rel="noopener">å¤æ‚åº¦: P, NP, NP-å®Œå…¨æ€§, è§„çº¦ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=MEz1J9wY2iM&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=24" target="_blank" rel="noopener">å¤æ‚åº¦: è¿‘è§†ç®—æ³• Algorithms (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=4q-jmGrmxKs&amp;index=25&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp" target="_blank" rel="noopener">å¤æ‚åº¦: å›ºå®šå‚æ•°ç®—æ³• (video)</a></li>
<li>Peter Norvik è®¨è®ºæ—…è¡Œå•†é—®é¢˜çš„è¿‘ä¼¼æœ€ä¼˜è§£:<ul>
<li><a href="http://nbviewer.jupyter.org/url/norvig.com/ipython/TSP.ipynb" target="_blank" rel="noopener">Jupyter ç¬”è®°æœ¬</a></li>
</ul>
</li>
<li>ã€Šç®—æ³•å¯¼è®ºã€‹çš„ç¬¬ 1048 - 1140 é¡µã€‚</li>
</ul>
</li>
<li><h3 id="ç¼“å­˜ï¼ˆCacheï¼‰"><a href="#ç¼“å­˜ï¼ˆCacheï¼‰" class="headerlink" title="ç¼“å­˜ï¼ˆCacheï¼‰"></a>ç¼“å­˜ï¼ˆCacheï¼‰</h3><ul>
<li><input disabled="" type="checkbox"> LRU ç¼“å­˜:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=R5ON3iwx78M" target="_blank" rel="noopener">LRU çš„é­”åŠ› (100 Days of Google Dev) (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=bq6N7Ym81iI" target="_blank" rel="noopener">å®ç° LRU (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=8-FZRAjR7qU" target="_blank" rel="noopener">LeetCode - 146 LRU Cache (C++) (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> CPU ç¼“å­˜:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=vjYF_fAZI5E&amp;list=PLrRW1w6CGAcXbMtDFj205vALOGmiRc82-&amp;index=24" target="_blank" rel="noopener">MIT 6.004 L15: å­˜å‚¨ä½“ç³» (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ajgC3-pyGlk&amp;index=25&amp;list=PLrRW1w6CGAcXbMtDFj205vALOGmiRc82-" target="_blank" rel="noopener">MIT 6.004 L16: ç¼“å­˜çš„é—®é¢˜ (video)</a></li>
</ul>
</li>
</ul>
</li>
<li><h3 id="è¿›ç¨‹ï¼ˆProcesseï¼‰å’Œçº¿ç¨‹ï¼ˆThreadï¼‰"><a href="#è¿›ç¨‹ï¼ˆProcesseï¼‰å’Œçº¿ç¨‹ï¼ˆThreadï¼‰" class="headerlink" title="è¿›ç¨‹ï¼ˆProcesseï¼‰å’Œçº¿ç¨‹ï¼ˆThreadï¼‰"></a>è¿›ç¨‹ï¼ˆProcesseï¼‰å’Œçº¿ç¨‹ï¼ˆThreadï¼‰</h3><ul>
<li><input disabled="" type="checkbox"> è®¡ç®—æœºç§‘å­¦ 162 - æ“ä½œç³»ç»Ÿ (25 ä¸ªè§†é¢‘):<ul>
<li>è§†é¢‘ 1-11 æ˜¯å…³äºè¿›ç¨‹å’Œçº¿ç¨‹</li>
<li><a href="https://www.youtube.com/playlist?list=PL-XXv-cvA_iBDyz-ba4yDskqMDY6A1w_c" target="_blank" rel="noopener">æ“ä½œç³»ç»Ÿå’Œç³»ç»Ÿç¼–ç¨‹ (video)</a></li>
</ul>
</li>
<li><a href="https://www.quora.com/What-is-the-difference-between-a-process-and-a-thread" target="_blank" rel="noopener">è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ?</a></li>
<li>æ¶µç›–äº†:<ul>
<li>è¿›ç¨‹ã€çº¿ç¨‹ã€åç¨‹<ul>
<li>è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«</li>
<li>è¿›ç¨‹</li>
<li>çº¿ç¨‹</li>
<li>é”</li>
<li>äº’æ–¥</li>
<li>ä¿¡å·é‡</li>
<li>ç›‘æ§</li>
<li>ä»–ä»¬æ˜¯å¦‚ä½•å·¥ä½œçš„</li>
<li>æ­»é”</li>
<li>æ´»é”</li>
</ul>
</li>
<li>CPU æ´»åŠ¨, ä¸­æ–­, ä¸Šä¸‹æ–‡åˆ‡æ¢</li>
<li>ç°ä»£å¤šæ ¸å¤„ç†å™¨çš„å¹¶å‘å¼ç»“æ„</li>
<li>è¿›ç¨‹èµ„æºéœ€è¦ï¼ˆå†…å­˜ï¼šä»£ç ã€é™æ€å­˜å‚¨å™¨ã€æ ˆã€å †ã€æ–‡ä»¶æè¿°ç¬¦ã€I/Oï¼‰</li>
<li>çº¿ç¨‹èµ„æºéœ€è¦ï¼ˆåœ¨åŒä¸€ä¸ªè¿›ç¨‹å†…å’Œå…¶ä»–çº¿ç¨‹å…±äº«ä»¥ä¸Šçš„èµ„æºï¼Œä½†æ˜¯æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„ç¨‹åºè®¡æ•°å™¨ã€æ ˆè®¡æ•°å™¨ã€å¯„å­˜å™¨å’Œæ ˆï¼‰</li>
<li>Fork æ“ä½œæ˜¯çœŸæ­£çš„å†™æ—¶å¤åˆ¶ï¼ˆåªè¯»ï¼‰ï¼Œç›´åˆ°æ–°çš„è¿›ç¨‹å†™åˆ°å†…å­˜ä¸­ï¼Œæ‰ä¼šç”Ÿæˆä¸€ä»½æ–°çš„æ‹·è´ã€‚</li>
<li>ä¸Šä¸‹æ–‡åˆ‡æ¢<ul>
<li>æ“ä½œç³»ç»Ÿå’Œåº•å±‚ç¡¬ä»¶æ˜¯å¦‚ä½•åˆå§‹åŒ–ä¸Šä¸‹æ–‡åˆ‡æ¢çš„ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/playlist?list=PL5jc9xFGsL8E12so1wlMS0r0hTQoJL74M" target="_blank" rel="noopener">C++ çš„çº¿ç¨‹ (ç³»åˆ— - 10 ä¸ªè§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> Python çš„åç¨‹ (è§†é¢‘):<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/playlist?list=PL1H1sBF1VAKVMONJWJkmUh6_p8g4F2oy1" target="_blank" rel="noopener">çº¿ç¨‹ç³»åˆ—</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Bs7vPNbB9JM" target="_blank" rel="noopener">Python çº¿ç¨‹</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Obt-vMVdM8s" target="_blank" rel="noopener">ç†è§£ Python çš„ GIL (2010)</a><ul>
<li><a href="http://www.dabeaz.com/GIL" target="_blank" rel="noopener">å‚è€ƒ</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=MCs5OvhV9S4" target="_blank" rel="noopener">David Beazley - Python åç¨‹ - PyCon 2015</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ZzfHjytDceU" target="_blank" rel="noopener">Keynote David Beazley - å…´è¶£ä¸»é¢˜ (Python å¼‚æ­¥ I/O)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=0zaPs8OtyKY" target="_blank" rel="noopener">Python ä¸­çš„äº’æ–¥</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>ç³»ç»Ÿè®¾è®¡ä»¥åŠå¯ä¼¸ç¼©æ€§ï¼Œè¦æŠŠè½¯ç¡¬ä»¶çš„ä¼¸ç¼©æ€§è®¾è®¡çš„è¶³å¤Ÿå¥½æœ‰å¾ˆå¤šçš„ä¸œè¥¿è¦è€ƒè™‘ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸ªåŒ…å«éå¸¸å¤šå†…å®¹å’Œèµ„æºçš„å¤§ä¸»é¢˜ã€‚éœ€è¦èŠ±è´¹ç›¸å½“å¤šçš„æ—¶é—´åœ¨è¿™ä¸ªä¸»é¢˜ä¸Šã€‚</code></pre><ul>
<li><h3 id="ç³»ç»Ÿè®¾è®¡ã€å¯ä¼¸ç¼©æ€§ã€æ•°æ®å¤„ç†"><a href="#ç³»ç»Ÿè®¾è®¡ã€å¯ä¼¸ç¼©æ€§ã€æ•°æ®å¤„ç†" class="headerlink" title="ç³»ç»Ÿè®¾è®¡ã€å¯ä¼¸ç¼©æ€§ã€æ•°æ®å¤„ç†"></a>ç³»ç»Ÿè®¾è®¡ã€å¯ä¼¸ç¼©æ€§ã€æ•°æ®å¤„ç†</h3><ul>
<li>Yegge çš„æ³¨æ„äº‹é¡¹:<ul>
<li>ä¼¸ç¼©æ€§<ul>
<li>æŠŠå¤§æ•°æ®é›†æå–ä¸ºå•ä¸€å€¼</li>
<li>å¤§æ•°æ®é›†è½¬æ¢</li>
<li>å¤„ç†å¤§é‡çš„æ•°æ®é›†</li>
</ul>
</li>
<li>ç³»ç»Ÿ<ul>
<li>ç‰¹å¾é›†</li>
<li>æ¥å£</li>
<li>ç±»å±‚æ¬¡ç»“æ„</li>
<li>åœ¨ç‰¹å®šçš„çº¦æŸä¸‹è®¾è®¡ç³»ç»Ÿ</li>
<li>è½»é‡å’Œå¥å£®æ€§</li>
<li>æƒè¡¡å’ŒæŠ˜è¡·</li>
<li>æ€§èƒ½åˆ†æå’Œä¼˜åŒ–</li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <strong>ä»è¿™é‡Œå¼€å§‹</strong>: <a href="http://www.hiredintech.com/system-design/" target="_blank" rel="noopener">HiredInTechï¼šç³»ç»Ÿè®¾è®¡</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.quora.com/How-do-I-prepare-to-answer-design-questions-in-a-technical-interview?redirected_qid=1500023" target="_blank" rel="noopener">è¯¥å¦‚ä½•ä¸ºæŠ€æœ¯é¢è¯•é‡Œè®¾è®¡æ–¹é¢çš„é—®é¢˜åšå‡†å¤‡?</a></li>
<li><input disabled="" type="checkbox"> <a href="http://blog.gainlo.co/index.php/2015/10/22/8-things-you-need-to-know-before-system-design-interviews/" target="_blank" rel="noopener">åœ¨ç³»ç»Ÿè®¾è®¡é¢è¯•å‰å¿…é¡»çŸ¥é“çš„ 8 ä»¶äº‹</a></li>
<li><input disabled="" type="checkbox"> <a href="http://www.hiredintech.com/algorithm-design/" target="_blank" rel="noopener">ç®—æ³•è®¾è®¡</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=UrYLYV7WSHM" target="_blank" rel="noopener">æ•°æ®åº“èŒƒå¼ - 1NF, 2NF, 3NF and 4NF (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://github.com/checkcheckzz/system-design-interview" target="_blank" rel="noopener">ç³»ç»Ÿè®¾è®¡é¢è¯•</a> - è¿™ä¸€éƒ¨åˆ†æœ‰å¾ˆå¤šçš„èµ„æºï¼Œæµè§ˆä¸€ä¸‹æˆ‘æ”¾åœ¨ä¸‹é¢çš„æ–‡ç« å’Œä¾‹å­ã€‚</li>
<li><input disabled="" type="checkbox"> <a href="http://www.palantir.com/2011/10/how-to-rock-a-systems-design-interview/" target="_blank" rel="noopener">å¦‚ä½•åœ¨ç³»ç»Ÿè®¾è®¡é¢è¯•ä¸­è„±é¢–è€Œå‡º</a></li>
<li><input disabled="" type="checkbox"> <a href="http://everythingisdata.wordpress.com/2009/10/17/numbers-everyone-should-know/" target="_blank" rel="noopener">æ¯ä¸ªäººéƒ½è¯¥çŸ¥é“çš„ä¸€äº›æ•°å­—</a></li>
<li><input disabled="" type="checkbox"> <a href="http://blog.tsunanet.net/2010/11/how-long-does-it-take-to-make-context.html" target="_blank" rel="noopener">ä¸Šä¸‹æ–‡åˆ‡æ¢æ“ä½œä¼šè€—è´¹å¤šå°‘æ—¶é—´?</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=srOgpXECblk" target="_blank" rel="noopener">è·¨æ•°æ®ä¸­å¿ƒçš„äº‹åŠ¡ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="http://ksat.me/a-plain-english-introduction-to-cap-theorem/" target="_blank" rel="noopener">ç®€æ˜ CAP ç†è®ºä»‹ç»</a></li>
<li><input disabled="" type="checkbox"> Paxos ä¸€è‡´æ€§ç®—æ³•:<ul>
<li><a href="https://www.youtube.com/watch?v=s8JqcZtvnsM" target="_blank" rel="noopener">æ—¶é—´å¾ˆçŸ­</a></li>
<li><a href="https://www.youtube.com/watch?v=JEpsBg0AO6o" target="_blank" rel="noopener">ç”¨ä¾‹ å’Œ multi-paxos</a></li>
<li><a href="http://research.microsoft.com/en-us/um/people/lamport/pubs/paxos-simple.pdf" target="_blank" rel="noopener">è®ºæ–‡</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://www.tom-e-white.com/2007/11/consistent-hashing.html" target="_blank" rel="noopener">ä¸€è‡´æ€§å“ˆå¸Œ</a></li>
<li><input disabled="" type="checkbox"> <a href="http://horicky.blogspot.com/2009/11/nosql-patterns.html" target="_blank" rel="noopener">NoSQL æ¨¡å¼</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=OkC7HKtiZC0&amp;list=PLGLfVvz_LVvQ5G-LdJ8RLqe-ndo7QITYc" target="_blank" rel="noopener">OOSE: UML 2.0 ç³»åˆ— (video)</a></li>
<li><input disabled="" type="checkbox"> OOSE: ä½¿ç”¨ UML å’Œ Java å¼€å‘è½¯ä»¶ (21 videos):<ul>
<li>å¦‚æœä½ å¯¹ OO éƒ½æ·±åˆ»çš„ç†è§£å’Œå®è·µï¼Œå¯ä»¥è·³è¿‡è¿™éƒ¨åˆ†ã€‚</li>
<li><a href="https://www.youtube.com/playlist?list=PLJ9pm_Rc9HesnkwKlal_buSIHA-jTZMpO" target="_blank" rel="noopener">OOSE: ä½¿ç”¨ UML å’Œ Java å¼€å‘è½¯ä»¶</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ SOLID åŸåˆ™:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=TMuno5RZNeE" target="_blank" rel="noopener">Bob Martin é¢å‘å¯¹è±¡çš„ SOLID åŸåˆ™å’Œæ•æ·è®¾è®¡ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/playlist?list=PL8m4NUhTQU48oiGCSgCP1FiJEcg_xJzyQ" target="_blank" rel="noopener">C# SOLID è®¾è®¡æ¨¡å¼ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/playlist?list=PL4CE9F710017EA77A" target="_blank" rel="noopener">SOLID åŸåˆ™ (video)</a></li>
<li><input disabled="" type="checkbox"> S - <a href="http://www.oodesign.com/single-responsibility-principle.html" target="_blank" rel="noopener">å•ä¸€èŒè´£åŸåˆ™</a> | <a href="http://www.javacodegeeks.com/2011/11/solid-single-responsibility-principle.html" target="_blank" rel="noopener">æ¯ä¸ªå¯¹è±¡çš„å•ä¸€èŒè´£</a><ul>
<li><a href="https://docs.google.com/open?id=0ByOwmqah_nuGNHEtcU5OekdDMkk" target="_blank" rel="noopener">æ›´å¤š</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> O - <a href="http://www.oodesign.com/open-close-principle.html" target="_blank" rel="noopener">å¼€é—­åŸåˆ™</a>  | <a href="https://en.wikipedia.org/wiki/Open/closed_principle" target="_blank" rel="noopener">ç”Ÿäº§ç¯å¢ƒé‡Œçš„å¯¹è±¡åº”è¯¥ä¸ºæ‰©å±•åšå‡†å¤‡è€Œä¸æ˜¯ä¸ºæ›´æ”¹</a><ul>
<li><a href="http://docs.google.com/a/cleancoder.com/viewer?a=v&amp;pid=explorer&amp;chrome=true&amp;srcid=0BwhCYaYDn8EgN2M5MTkwM2EtNWFkZC00ZTI3LWFjZTUtNTFhZGZiYmUzODc1&amp;hl=en" target="_blank" rel="noopener">æ›´å¤š</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> L - <a href="http://www.oodesign.com/liskov-s-substitution-principle.html" target="_blank" rel="noopener">é‡Œæ°ä»£æ¢åŸåˆ™</a> | <a href="http://stackoverflow.com/questions/56860/what-is-the-liskov-substitution-principle" target="_blank" rel="noopener">åŸºç±»å’Œç»§æ‰¿ç±»éµå¾ª â€˜IS Aâ€™ åŸåˆ™</a><ul>
<li><a href="http://docs.google.com/a/cleancoder.com/viewer?a=v&amp;pid=explorer&amp;chrome=true&amp;srcid=0BwhCYaYDn8EgNzAzZjA5ZmItNjU3NS00MzQ5LTkwYjMtMDJhNDU5ZTM0MTlh&amp;hl=en" target="_blank" rel="noopener">æ›´å¤š</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> I - <a href="http://www.oodesign.com/interface-segregation-principle.html" target="_blank" rel="noopener">æ¥å£éš”ç¦»åŸåˆ™</a> | å®¢æˆ·ç«¯è¢«è¿«å®ç°ç”¨ä¸åˆ°çš„æ¥å£<ul>
<li><a href="https://www.youtube.com/watch?v=3CtAfl7aXAQ" target="_blank" rel="noopener">5 åˆ†é’Ÿè®²è§£æ¥å£éš”ç¦»åŸåˆ™ (video)</a></li>
<li><a href="http://docs.google.com/a/cleancoder.com/viewer?a=v&amp;pid=explorer&amp;chrome=true&amp;srcid=0BwhCYaYDn8EgOTViYjJhYzMtMzYxMC00MzFjLWJjMzYtOGJiMDc5N2JkYmJi&amp;hl=en" target="_blank" rel="noopener">æ›´å¤š</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> D -<a href="http://www.oodesign.com/dependency-inversion-principle.html" target="_blank" rel="noopener">ä¾èµ–åè½¬åŸåˆ™</a> | å‡å°‘å¯¹è±¡é‡Œçš„ä¾èµ–ã€‚<ul>
<li><a href="http://stackoverflow.com/questions/62539/what-is-the-dependency-inversion-principle-and-why-is-it-important" target="_blank" rel="noopener">ä»€ä¹ˆæ˜¯ä¾èµ–å€’ç½®ä»¥åŠå®ƒä¸ºä»€ä¹ˆé‡è¦</a></li>
<li><a href="http://docs.google.com/a/cleancoder.com/viewer?a=v&amp;pid=explorer&amp;chrome=true&amp;srcid=0BwhCYaYDn8EgMjdlMWIzNGUtZTQ0NC00ZjQ5LTkwYzQtZjRhMDRlNTQ3ZGMz&amp;hl=en" target="_blank" rel="noopener">æ›´å¤š</a></li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> å¯ä¼¸ç¼©æ€§:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=-W9F__D3oY4" target="_blank" rel="noopener">å¾ˆæ£’çš„æ¦‚è¿° (video)</a></li>
<li><input disabled="" type="checkbox"> ç®€çŸ­ç³»åˆ—:<ul>
<li><a href="http://www.lecloud.net/post/7295452622/scalability-for-dummies-part-1-clones" target="_blank" rel="noopener">å…‹éš†</a></li>
<li><a href="http://www.lecloud.net/post/7994751381/scalability-for-dummies-part-2-database" target="_blank" rel="noopener">æ•°æ®åº“</a></li>
<li><a href="http://www.lecloud.net/post/9246290032/scalability-for-dummies-part-3-cache" target="_blank" rel="noopener">ç¼“å­˜</a></li>
<li><a href="http://www.lecloud.net/post/9699762917/scalability-for-dummies-part-4-asynchronism" target="_blank" rel="noopener">å¼‚æ­¥</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://www.aosabook.org/en/distsys.html" target="_blank" rel="noopener">å¯ä¼¸ç¼©çš„ Web æ¶æ„å’Œåˆ†å¸ƒå¼ç³»ç»Ÿ</a></li>
<li><input disabled="" type="checkbox"> <a href="https://pages.cs.wisc.edu/~zuyu/files/fallacies.pdf" target="_blank" rel="noopener">é”™è¯¯çš„åˆ†å¸ƒå¼ç³»ç»Ÿè§£é‡Š</a></li>
<li><input disabled="" type="checkbox"> <a href="http://horicky.blogspot.com/2010/10/scalable-system-design-patterns.html" target="_blank" rel="noopener">å®ç”¨ç¼–ç¨‹æŠ€æœ¯</a><ul>
<li><a href="http://horicky.blogspot.com/2010/07/google-pregel-graph-processing.html" target="_blank" rel="noopener">extra: Google Pregel å›¾å½¢å¤„ç†</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=modXC5IWTJI" target="_blank" rel="noopener">Jeff Dean - åœ¨ Goolge æ„å»ºè½¯ä»¶ç³»ç»Ÿ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="http://lethain.com/introduction-to-architecting-systems-for-scale/" target="_blank" rel="noopener">å¯ä¼¸ç¼©ç³»ç»Ÿæ¶æ„è®¾è®¡ä»‹ç»</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=9nWyWwY2Onc" target="_blank" rel="noopener">ä½¿ç”¨ App Engine å’Œäº‘å­˜å‚¨æ‰©å±•é¢å‘å…¨çƒç”¨æˆ·çš„æ‰‹æœºæ¸¸æˆæ¶æ„å®è·µ(video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=H4vMcD7zKM0" target="_blank" rel="noopener">How Google Does Planet-Scale Engineering for Planet-Scale Infra (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.topcoder.com/community/data-science/data-science-tutorials/the-importance-of-algorithms/" target="_blank" rel="noopener">ç®—æ³•çš„é‡è¦æ€§</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2009/8/6/an-unorthodox-approach-to-database-design-the-coming-of-the.html" target="_blank" rel="noopener">åˆ†ç‰‡</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.infoq.com/presentations/Scale-at-Facebook" target="_blank" rel="noopener">Facebook ç³»ç»Ÿè§„æ¨¡æ‰©å±•å®è·µ (2009)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=oodS71YtkGU" target="_blank" rel="noopener">Facebook ç³»ç»Ÿè§„æ¨¡æ‰©å±•å®è·µ (2012), â€œä¸º 10 äº¿ç”¨æˆ·æ„å»ºâ€ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=p0jGmgIrf_M&amp;list=PLRXxvay_m8gqVlExPC5DG3TGWJTaBgqSA&amp;index=4" target="_blank" rel="noopener">Long Game å·¥ç¨‹å®è·µ - Astrid Atkinson Keynote(video)</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2012/3/26/7-years-of-youtube-scalability-lessons-in-30-minutes.html" target="_blank" rel="noopener">30 åˆ†é’Ÿçœ‹å®Œ YouTuBe 7 å¹´ç³»ç»Ÿæ‰©å±•ç»éªŒ</a><ul>
<li><a href="https://www.youtube.com/watch?v=G-lGCC4KKok" target="_blank" rel="noopener">video</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/8/15/how-paypal-scaled-to-billions-of-transactions-daily-using-ju.html" target="_blank" rel="noopener">PayPal å¦‚ä½•ç”¨ 8 å°è™šæ‹Ÿæœºæ‰›ä½ 10 äº¿æ—¥äº¤æ˜“é‡ç³»ç»Ÿ</a></li>
<li><input disabled="" type="checkbox"> <a href="https://blog.clevertap.com/how-to-remove-duplicates-in-large-datasets/" target="_blank" rel="noopener">å¦‚ä½•å¯¹å¤§æ•°æ®é›†å»é‡</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=3vV4YiqKm1o" target="_blank" rel="noopener">Etsy çš„æ‰©å±•å’Œå·¥ç¨‹æ–‡åŒ–æ¢ç©¶ Jon Cowie (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="http://thenewstack.io/led-amazon-microservices-architecture/" target="_blank" rel="noopener">æ˜¯ä»€ä¹ˆé€ å°±äº† Amazon è‡ªå·±çš„å¾®æœåŠ¡æ¶æ„</a></li>
<li><input disabled="" type="checkbox"> <a href="https://eng.uber.com/trip-data-squeeze/" target="_blank" rel="noopener">å‹ç¼©è¿˜æ˜¯ä¸å‹ç¼©ï¼Œæ˜¯ Uber é¢ä¸´çš„é—®é¢˜</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/3/3/asyncio-tarantool-queue-get-in-the-queue.html" target="_blank" rel="noopener">å¼‚æ­¥ I/O Tarantool é˜Ÿåˆ—</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/2/25/when-should-approximate-query-processing-be-used.html" target="_blank" rel="noopener">ä»€ä¹ˆæ—¶å€™åº”è¯¥ç”¨è¿‘è§†æŸ¥è¯¢å¤„ç†?</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/2/23/googles-transition-from-single-datacenter-to-failover-to-a-n.html" target="_blank" rel="noopener">Google ä»å•æ•°æ®ä¸­å¿ƒåˆ°æ•…éšœè½¬ç§», åˆ°æœ¬åœ°å¤šå®¿ä¸»æ¶æ„çš„æ¼”å˜</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2012/9/24/google-spanners-most-surprising-revelation-nosql-is-out-and.html" target="_blank" rel="noopener">Spanner</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/2/15/egnyte-architecture-lessons-learned-in-building-and-scaling.html" target="_blank" rel="noopener">Egnyte: æ„å»ºå’Œæ‰©å±• PB çº§åˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„çš„ç»éªŒæ•™è®­</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/7/6/machine-learning-driven-programming-a-new-programming-for-a.html" target="_blank" rel="noopener">æœºå™¨å­¦ä¹ é©±åŠ¨çš„ç¼–ç¨‹: æ–°ä¸–ç•Œçš„æ–°ç¼–ç¨‹æ–¹å¼</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/6/15/the-image-optimization-technology-that-serves-millions-of-re.html" target="_blank" rel="noopener">æ—¥æœåŠ¡æ•°ç™¾ä¸‡è¯·æ±‚çš„å›¾åƒä¼˜åŒ–æŠ€æœ¯</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/2/1/a-patreon-architecture-short.html" target="_blank" rel="noopener">Patreon æ¶æ„</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/1/27/tinder-how-does-one-of-the-largest-recommendation-engines-de.html" target="_blank" rel="noopener">Tinder: æ¨èå¼•æ“æ˜¯å¦‚ä½•å†³å®šä¸‹ä¸€ä¸ªä½ å°†ä¼šçœ‹åˆ°è°çš„?</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/1/25/design-of-a-modern-cache.html" target="_blank" rel="noopener">ç°ä»£ç¼“å­˜è®¾è®¡</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/1/13/live-video-streaming-at-facebook-scale.html" target="_blank" rel="noopener">Facebook å®æ—¶è§†é¢‘æµæ‰©å±•</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/1/11/a-beginners-guide-to-scaling-to-11-million-users-on-amazons.html" target="_blank" rel="noopener">åœ¨ Amazon AWS ä¸ŠæŠŠæœåŠ¡æ‰©å±•åˆ° 1100 ä¸‡é‡çº§çš„æ–°æ‰‹æ•™ç¨‹</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2015/12/16/how-does-the-use-of-docker-effect-latency.html" target="_blank" rel="noopener">å¯¹å»¶æ—¶æ•æ„Ÿçš„åº”ç”¨æ˜¯å¦åº”è¯¥ä½¿ç”¨ Docker?</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2015/12/14/does-amp-counter-an-existential-threat-to-google.html" target="_blank" rel="noopener">AMPï¼ˆAccelerated Mobile Pagesï¼‰çš„å­˜åœ¨æ˜¯å¯¹ Google çš„å¨èƒä¹ˆ?</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2015/11/9/a-360-degree-view-of-the-entire-netflix-stack.html" target="_blank" rel="noopener">360 åº¦è§£è¯» Netflix æŠ€æœ¯æ ˆ</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/latency-everywhere-and-it-costs-you-sales-how-crush-it" target="_blank" rel="noopener">å»¶è¿Ÿæ— å¤„ä¸åœ¨ - å¦‚ä½•æå®šå®ƒï¼Ÿ</a></li>
<li><input disabled="" type="checkbox"> <a href="http://martinfowler.com/articles/serverless.html" target="_blank" rel="noopener">æ— æœåŠ¡å™¨æ¶æ„</a></li>
<li><input disabled="" type="checkbox"> <a href="http://instagram-engineering.tumblr.com/post/13649370142/what-powers-instagram-hundreds-of-instances" target="_blank" rel="noopener">æ˜¯ä»€ä¹ˆé©±åŠ¨ç€ Instagram: ä¸Šç™¾ä¸ªå®ä¾‹ã€å‡ åç§æŠ€æœ¯</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2012/7/16/cinchcast-architecture-producing-1500-hours-of-audio-every-d.html" target="_blank" rel="noopener">Cinchcast æ¶æ„ - æ¯å¤©å¤„ç† 1500 å°æ—¶çš„éŸ³é¢‘</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2010/3/16/justintvs-live-video-broadcasting-architecture.html" target="_blank" rel="noopener">Justin.Tv å®æ—¶è§†é¢‘æ’­æ”¾æ¶æ„</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2010/9/21/playfishs-social-gaming-architecture-50-million-monthly-user.html" target="_blank" rel="noopener">Playfishâ€™s ç¤¾äº¤æ¸¸æˆæ¶æ„ - æ¯æœˆäº”åƒä¸‡ç”¨æˆ·å¢é•¿</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2011/6/27/tripadvisor-architecture-40m-visitors-200m-dynamic-page-view.html" target="_blank" rel="noopener">çŒ«é€”é¹°æ¶æ„ - 40 ä¸‡è®¿å®¢, 200 ä¸‡åŠ¨æ€é¡µé¢è®¿é—®, 30TB æ•°æ®</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/plentyoffish-architecture" target="_blank" rel="noopener">PlentyOfFish æ¶æ„</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2013/9/23/salesforce-architecture-how-they-handle-13-billion-transacti.html" target="_blank" rel="noopener">Salesforce æ¶æ„ - å¦‚ä½•æ‰›ä½ 13 äº¿æ—¥äº¤æ˜“é‡</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2013/11/4/espns-architecture-at-scale-operating-at-100000-duh-nuh-nuhs.html" target="_blank" rel="noopener">ESPNâ€™s æ¶æ„æ‰©å±•</a></li>
<li><input disabled="" type="checkbox"> ä¸‹é¢ ã€æ¶ˆæ¯ã€åºåˆ—åŒ–å’Œæ¶ˆæ¯ç³»ç»Ÿã€éƒ¨åˆ†çš„å†…å®¹ä¼šæåˆ°ä»€ä¹ˆæ ·çš„æŠ€æœ¯èƒ½æŠŠå„ç§æœåŠ¡æ•´åˆåˆ°ä¸€èµ·</li>
<li><input disabled="" type="checkbox"> Twitter:<ul>
<li><a href="https://www.youtube.com/watch?v=5cKTP36HVgI" target="_blank" rel="noopener">Oâ€™Reilly MySQL CE 2011: Jeremy Cole, â€œBig and Small Data at @Twitterâ€ (video)</a></li>
<li><a href="https://www.infoq.com/presentations/Twitter-Timeline-Scalability" target="_blank" rel="noopener">æ—¶é—´çº¿çš„æ‰©å±•</a></li>
</ul>
</li>
<li>æ›´å¤šå†…å®¹å¯ä»¥æŸ¥çœ‹è§†é¢‘éƒ¨åˆ†çš„ã€å¤§è§„æ¨¡æ•°æ®æŒ–æ˜ã€è§†é¢‘ç³»åˆ—ã€‚</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> ç³»ç»Ÿè®¾è®¡é—®é¢˜ç»ƒä¹ ï¼šä¸‹é¢æœ‰ä¸€äº›æŒ‡å¯¼åŸåˆ™ï¼Œæ¯ä¸€ä¸ªéƒ½æœ‰ç›¸å…³æ–‡æ¡£ä»¥åŠåœ¨ç°å®ä¸­è¯¥å¦‚ä½•å¤„ç†ã€‚<ul>
<li>å¤ä¹ : <a href="http://www.hiredintech.com/system-design/" target="_blank" rel="noopener">HiredInTech çš„ç³»ç»Ÿè®¾è®¡</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/blob/master/extras/cheat%20sheets/system-design.pdf" target="_blank" rel="noopener">cheat sheet</a></li>
<li>æµç¨‹:<ol>
<li>ç†è§£é—®é¢˜å’ŒèŒƒå›´:<ul>
<li>åœ¨é¢è¯•å®˜çš„å¸®åŠ©ä¸‹å®šä¹‰ç”¨ä¾‹</li>
<li>æå‡ºé™„åŠ åŠŸèƒ½çš„å»ºè®®</li>
<li>å»æ‰é¢è¯•å®˜è®¤å®šèŒƒå›´ä»¥å¤–çš„å†…å®¹</li>
<li>å‡å®šé«˜å¯ç”¨æ˜¯å¿…é¡»çš„ï¼Œè€Œä¸”è¦ä½œä¸ºä¸€ä¸ªç”¨ä¾‹</li>
</ul>
</li>
<li>è€ƒè™‘çº¦æŸ:<ul>
<li>é—®ä¸€ä¸‹æ¯æœˆè¯·æ±‚é‡</li>
<li>é—®ä¸€ä¸‹æ¯ç§’è¯·æ±‚é‡ (ä»–ä»¬å¯èƒ½ä¼šä¸»åŠ¨æåˆ°æˆ–è€…è®©ä½ ç®—ä¸€ä¸‹)</li>
<li>è¯„ä¼°è¯»å†™æ‰€å çš„ç™¾åˆ†æ¯”</li>
<li>è¯„ä¼°çš„æ—¶å€™ç‰¢è®° 2/8 åŸåˆ™</li>
<li>æ¯ç§’å†™å¤šå°‘æ•°æ®</li>
<li>æ€»çš„æ•°æ®å­˜å‚¨é‡è¦è€ƒè™‘è¶…è¿‡ 5 å¹´çš„æƒ…å†µ</li>
<li>æ¯ç§’è¯»å¤šå°‘æ•°æ®</li>
</ul>
</li>
<li>æŠ½è±¡è®¾è®¡:<ul>
<li>åˆ†å±‚ (æœåŠ¡, æ•°æ®, ç¼“å­˜)</li>
<li>åŸºç¡€è®¾æ–½: è´Ÿè½½å‡è¡¡, æ¶ˆæ¯</li>
<li>ç²—ç•¥çš„æ¦‚æ‹¬ä»»ä½•é©±åŠ¨æ•´ä¸ªæœåŠ¡çš„å…³é”®ç®—æ³•</li>
<li>è€ƒè™‘ç“¶é¢ˆå¹¶æŒ‡å‡ºè§£å†³æ–¹æ¡ˆ</li>
</ul>
</li>
</ol>
</li>
<li>ç»ƒä¹ :<ul>
<li><a href="http://repository.cmu.edu/cgi/viewcontent.cgi?article=2112&amp;context=compsci" target="_blank" rel="noopener">è®¾è®¡ä¸€ä¸ª CDN ç½‘ç»œ</a></li>
<li><a href="https://blog.twitter.com/2010/announcing-snowflake" target="_blank" rel="noopener">è®¾è®¡ä¸€ä¸ªéšæœºå”¯ä¸€ ID ç”Ÿæˆç³»ç»Ÿ</a></li>
<li><a href="http://www.indieflashblog.com/how-to-create-an-asynchronous-multiplayer-game.html" target="_blank" rel="noopener">è®¾è®¡ä¸€ä¸ªåœ¨çº¿å¤šäººå¡ç‰Œæ¸¸æˆ</a></li>
<li><a href="http://www.slideshare.net/dvirsky/introduction-to-redis" target="_blank" rel="noopener">è®¾è®¡ä¸€ä¸ª key-value æ•°æ®åº“</a></li>
<li><a href="https://icmi.cs.ucsb.edu/research/tech_reports/reports/2005-23.pdf" target="_blank" rel="noopener">è®¾è®¡ä¸€ä¸ªå‡½æ•°è·å–è¿‡å»æŸä¸ªæ—¶é—´æ®µå†…å‰ K ä¸ªæœ€é«˜é¢‘è®¿é—®çš„è¯·æ±‚</a></li>
<li><a href="http://highscalability.com/blog/2011/12/6/instagram-architecture-14-million-users-terabytes-of-photos.html" target="_blank" rel="noopener">è®¾è®¡ä¸€ä¸ªå›¾ç‰‡åˆ†äº«ç³»ç»Ÿ</a></li>
<li><a href="http://ijcai13.org/files/tutorial_slides/td3.pdf" target="_blank" rel="noopener">è®¾è®¡ä¸€ä¸ªæ¨èç³»ç»Ÿ</a></li>
<li><a href="http://www.hiredintech.com/system-design/the-system-design-process/" target="_blank" rel="noopener">è®¾è®¡ä¸€ä¸ªçŸ­åŸŸåç”Ÿæˆç³»ç»Ÿ</a></li>
<li><a href="https://www.adayinthelifeof.nl/2011/02/06/memcache-internals/" target="_blank" rel="noopener">è®¾è®¡ä¸€ä¸ªç¼“å­˜ç³»ç»Ÿ</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="è®ºæ–‡"><a href="#è®ºæ–‡" class="headerlink" title="è®ºæ–‡"></a>è®ºæ–‡</h3><ul>
<li>æœ‰ Google çš„è®ºæ–‡å’Œä¸€äº›çŸ¥åçš„è®ºæ–‡.</li>
<li>ä½ å¾ˆå¯èƒ½å®åœ¨æ²¡æ—¶é—´ä¸€ç¯‡ç¯‡å®Œæ•´çš„è¯»å®Œä»–ä»¬ã€‚æˆ‘å»ºè®®å¯ä»¥æœ‰é€‰æ‹©çš„è¯»å…¶ä¸­ä¸€äº›è®ºæ–‡é‡Œçš„æ ¸å¿ƒéƒ¨åˆ†ã€‚</li>
<li><input disabled="" type="checkbox"> <a href="http://spinroot.com/courses/summer/Papers/hoare_1978.pdf" target="_blank" rel="noopener">1978: é€šä¿¡é¡ºåºå¤„ç†</a><ul>
<li><a href="https://godoc.org/github.com/thomas11/csp" target="_blank" rel="noopener">Go å®ç°</a></li>
<li><a href="https://www.cs.cmu.edu/~crary/819-f09/" target="_blank" rel="noopener">å–œæ¬¢ç»å…¸çš„è®ºæ–‡?</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://static.googleusercontent.com/media/research.google.com/en//archive/gfs-sosp2003.pdf" target="_blank" rel="noopener">2003: The Google æ–‡ä»¶ç³»ç»Ÿ</a><ul>
<li>2012 å¹´è¢« Colossus å–ä»£äº†</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://static.googleusercontent.com/media/research.google.com/en//archive/mapreduce-osdi04.pdf" target="_blank" rel="noopener">2004: MapReduce: Simplified Data Processing on Large Clusters</a><ul>
<li>å¤§å¤šè¢«äº‘æ•°æ®æµå–ä»£äº†?</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.akkadia.org/drepper/cpumemory.pdf" target="_blank" rel="noopener">2007: æ¯ä¸ªç¨‹åºå‘˜éƒ½åº”è¯¥çŸ¥é“çš„å†…å­˜çŸ¥è¯† (éå¸¸é•¿ï¼Œä½œè€…å»ºè®®è·³è¿‡æŸäº›ç« èŠ‚æ¥é˜…è¯»)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.wired.com/2012/07/google-colossus/" target="_blank" rel="noopener">2012: Google çš„ Colossus</a><ul>
<li>æ²¡æœ‰è®ºæ–‡</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> 2012: AddressSanitizer: å¿«é€Ÿçš„å†…å­˜è®¿é—®æ£€æŸ¥å™¨:<ul>
<li><a href="http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/37752.pdf" target="_blank" rel="noopener">è®ºæ–‡</a></li>
<li><a href="https://www.usenix.org/conference/atc12/technical-sessions/presentation/serebryany" target="_blank" rel="noopener">è§†é¢‘</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> 2013: Spanner: Google çš„åˆ†å¸ƒå¼æ•°æ®åº“:<ul>
<li><a href="http://static.googleusercontent.com/media/research.google.com/en//archive/spanner-osdi2012.pdf" target="_blank" rel="noopener">è®ºæ–‡</a></li>
<li><a href="https://www.usenix.org/node/170855" target="_blank" rel="noopener">è§†é¢‘</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/43146.pdf" target="_blank" rel="noopener">2014: Machine Learning: The High-Interest Credit Card of Technical Debt</a></li>
<li><input disabled="" type="checkbox"> <a href="http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/43790.pdf" target="_blank" rel="noopener">2015: Continuous Pipelines at Google</a></li>
<li><input disabled="" type="checkbox"> <a href="https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/44686.pdf" target="_blank" rel="noopener">2015: å¤§è§„æ¨¡é«˜å¯ç”¨: æ„å»º Google Ads çš„æ•°æ®åŸºç¡€è®¾æ–½</a></li>
<li><input disabled="" type="checkbox"> <a href="http://download.tensorflow.org/paper/whitepaper2015.pdf" target="_blank" rel="noopener">2015: TensorFlow: å¼‚æ„åˆ†å¸ƒå¼ç³»ç»Ÿä¸Šçš„å¤§è§„æ¨¡æœºå™¨å­¦ä¹ </a></li>
<li><input disabled="" type="checkbox"> <a href="http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/43835.pdf" target="_blank" rel="noopener">2015: å¼€å‘è€…åº”è¯¥å¦‚ä½•æœç´¢ä»£ç ï¼šç”¨ä¾‹å­¦ä¹ </a></li>
<li><input disabled="" type="checkbox"> <a href="http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/44843.pdf" target="_blank" rel="noopener">2016: Borg, Omega, and Kubernetes</a></li>
</ul>
</li>
<li><h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><ul>
<li>æ¶µç›–äº†:<ul>
<li>å•å…ƒæµ‹è¯•æ˜¯å¦‚ä½•å·¥ä½œçš„</li>
<li>ä»€ä¹ˆæ˜¯æ¨¡æ‹Ÿå¯¹è±¡</li>
<li>ä»€ä¹ˆæ˜¯é›†æˆæµ‹è¯•</li>
<li>ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=SAhJf36_u5U" target="_blank" rel="noopener">James Bach è®²æ•æ·è½¯ä»¶æµ‹è¯• (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ILkT_HV9DVU" target="_blank" rel="noopener">James Bach è½¯ä»¶æµ‹è¯•å…¬å¼€è¯¾ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://vimeo.com/83960706" target="_blank" rel="noopener">Steve Freeman - æµ‹è¯•é©±åŠ¨çš„å¼€å‘ (video)</a><ul>
<li><a href="http://gotocon.com/dl/goto-berlin-2013/slides/SteveFreeman_TestDrivenDevelopmentThatsNotWhatWeMeant.pdf" target="_blank" rel="noopener">slides</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://david.heinemeierhansson.com/2014/tdd-is-dead-long-live-testing.html" target="_blank" rel="noopener">æµ‹è¯•é©±åŠ¨çš„å¼€å‘å·²æ­»ã€‚æµ‹è¯•ä¸æœ½ã€‚</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=z9quxZsLcfo" target="_blank" rel="noopener">æµ‹è¯•é©±åŠ¨çš„å¼€å‘å·²æ­»? (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=nzJapzxH_rE&amp;list=PLAwxTw4SYaPkWVHeC_8aSIbSxE_NXI76g" target="_blank" rel="noopener">è§†é¢‘ç³»åˆ— (152 ä¸ª) - å¹¶ä¸éƒ½æ˜¯å¿…é¡» (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="http://www.obeythetestinggoat.com/pages/book.html#toc" target="_blank" rel="noopener">Pythonï¼šæµ‹è¯•é©±åŠ¨çš„ Web å¼€å‘</a></li>
<li><input disabled="" type="checkbox"> ä¾èµ–æ³¨å…¥:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=IKD2-MAkXyQ" target="_blank" rel="noopener">è§†é¢‘</a></li>
<li><input disabled="" type="checkbox"> <a href="http://jasonpolites.github.io/tao-of-testing/ch3-1.1.html" target="_blank" rel="noopener">æµ‹è¯•ä¹‹é“</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://jasonpolites.github.io/tao-of-testing/ch4-1.1.html" target="_blank" rel="noopener">å¦‚ä½•ç¼–å†™æµ‹è¯•</a></li>
</ul>
</li>
<li><h3 id="è°ƒåº¦"><a href="#è°ƒåº¦" class="headerlink" title="è°ƒåº¦"></a>è°ƒåº¦</h3><ul>
<li>åœ¨æ“ä½œç³»ç»Ÿä¸­æ˜¯å¦‚ä½•è¿ä½œçš„</li>
<li>åœ¨æ“ä½œç³»ç»Ÿéƒ¨åˆ†çš„è§†é¢‘é‡Œæœ‰å¾ˆå¤šèµ„æ–™</li>
</ul>
</li>
<li><h3 id="å®ç°ç³»ç»Ÿä¾‹ç¨‹"><a href="#å®ç°ç³»ç»Ÿä¾‹ç¨‹" class="headerlink" title="å®ç°ç³»ç»Ÿä¾‹ç¨‹"></a>å®ç°ç³»ç»Ÿä¾‹ç¨‹</h3><ul>
<li>ç†è§£ä½ ä½¿ç”¨çš„ç³»ç»Ÿ API åº•å±‚æœ‰ä»€ä¹ˆ</li>
<li>ä½ èƒ½è‡ªå·±å®ç°å®ƒä»¬ä¹ˆ?</li>
</ul>
</li>
<li><h3 id="å­—ç¬¦ä¸²æœç´¢å’Œæ“ä½œ"><a href="#å­—ç¬¦ä¸²æœç´¢å’Œæ“ä½œ" class="headerlink" title="å­—ç¬¦ä¸²æœç´¢å’Œæ“ä½œ"></a>å­—ç¬¦ä¸²æœç´¢å’Œæ“ä½œ</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/tAfHI/search-pattern-in-text" target="_blank" rel="noopener">æ–‡æœ¬çš„æœç´¢æ¨¡å¼ (video)</a></li>
<li><input disabled="" type="checkbox"> Rabin-Karp (videos):<ul>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/c0Qkw/rabin-karps-algorithm" target="_blank" rel="noopener">Rabin Karps ç®—æ³•</a></li>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/nYrc8/optimization-precomputation" target="_blank" rel="noopener">é¢„å…ˆè®¡ç®—çš„ä¼˜åŒ–</a></li>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/h4ZLc/optimization-implementation-and-analysis" target="_blank" rel="noopener">ä¼˜åŒ–: å®ç°å’Œåˆ†æ</a></li>
<li><a href="https://www.youtube.com/watch?v=BRO7mVIFt08&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=9" target="_blank" rel="noopener">Table Doubling, Karp-Rabin</a></li>
<li><a href="https://www.youtube.com/watch?v=w6nuXg0BISo&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=32" target="_blank" rel="noopener">æ»šåŠ¨å“ˆå¸Œ</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Knuth-Morris-Pratt (KMP) ç®—æ³•:<ul>
<li><a href="https://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm" target="_blank" rel="noopener">Pratt ç®—æ³•</a></li>
<li><a href="https://www.youtube.com/watch?v=2ogqPWJSftE" target="_blank" rel="noopener">æ•™ç¨‹: Knuth-Morris-Pratt (KMP) å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Boyerâ€“Moore å­—ç¬¦ä¸²æœç´¢ç®—æ³•<ul>
<li><a href="https://en.wikipedia.org/wiki/Boyer%E2%80%93Moore_string_search_algorithm" target="_blank" rel="noopener">Boyer-Mooreå­—ç¬¦ä¸²æœç´¢ç®—æ³•</a></li>
<li><a href="https://www.youtube.com/watch?v=QDZpzctPf10" target="_blank" rel="noopener">Boyer-Moore-Horspool é«˜çº§å­—ç¬¦ä¸²æœç´¢ç®—æ³• (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-on-strings/home/week/1" target="_blank" rel="noopener">Coursera: å­—ç¬¦ä¸²çš„ç®—æ³•</a></li>
</ul>
</li>
</ul>
<hr>
<h2 id="ç»ˆé¢"><a href="#ç»ˆé¢" class="headerlink" title="ç»ˆé¢"></a>ç»ˆé¢</h2><pre><code>è¿™ä¸€éƒ¨åˆ†æœ‰ä¸€äº›çŸ­è§†é¢‘ï¼Œä½ å¯ä»¥å¿«é€Ÿçš„è§‚çœ‹å’Œå¤ä¹ å¤§å¤šæ•°é‡è¦æ¦‚å¿µã€‚
è¿™å¯¹ç»å¸¸æ€§çš„å·©å›ºå¾ˆæœ‰å¸®åŠ©ã€‚</code></pre><h4 id="ç»¼è¿°"><a href="#ç»¼è¿°" class="headerlink" title="ç»¼è¿°:"></a>ç»¼è¿°:</h4><ul>
<li><input disabled="" type="checkbox"> 2-3 åˆ†é’Ÿçš„çŸ­è§†é¢‘ç³»åˆ— (23 ä¸ª)<ul>
<li><a href="https://www.youtube.com/watch?v=r4r1DZcx1cM&amp;list=PLmVb1OknmNJuC5POdcDv5oCS7_OUkDgpj&amp;index=22" target="_blank" rel="noopener">Videos</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> 2-5 åˆ†é’Ÿçš„çŸ­è§†é¢‘ç³»åˆ— - Michael Sambol (18 ä¸ª):<ul>
<li><a href="https://www.youtube.com/channel/UCzDJwLWoYCUQowF_nG3m5OQ" target="_blank" rel="noopener">Videos</a></li>
</ul>
</li>
</ul>
<h4 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº:"></a>æ’åº:</h4><ul>
<li><input disabled="" type="checkbox"> å½’å¹¶æ’åº: <a href="https://www.youtube.com/watch?v=GCae1WNvnZM" target="_blank" rel="noopener">https://www.youtube.com/watch?v=GCae1WNvnZM</a></li>
</ul>
<h2 id="ä¹¦ç±"><a href="#ä¹¦ç±" class="headerlink" title="ä¹¦ç±"></a>ä¹¦ç±</h2><h3 id="Google-Coaching-é‡Œæåˆ°çš„"><a href="#Google-Coaching-é‡Œæåˆ°çš„" class="headerlink" title="Google Coaching é‡Œæåˆ°çš„"></a>Google Coaching é‡Œæåˆ°çš„</h3><p><strong>é˜…è¯»å¹¶åšç»ƒä¹ :</strong></p>
<ul>
<li><input disabled="" type="checkbox"> <p>ç®—æ³•è®¾è®¡æ‰‹å†Œ (Skiena)</p>
<ul>
<li><p>ä¹¦ (Kindle ä¸Šå¯ä»¥ç§Ÿåˆ°):</p>
<ul>
<li><a href="http://www.amazon.com/Algorithm-Design-Manual-Steven-Skiena/dp/1849967202" target="_blank" rel="noopener">Algorithm Design Manual</a></li>
</ul>
</li>
<li><p>Half.com æ˜¯ä¸€ä¸ªèµ„æºä¸°å¯Œä¸”æ€§ä»·æ¯”å¾ˆé«˜çš„åœ¨çº¿ä¹¦åº—.</p>
</li>
<li><p>ç­”æ¡ˆ:</p>
<ul>
<li><a href="http://www.algorithm.cs.sunysb.edu/algowiki/index.php/The_Algorithms_Design_Manual_(Second_Edition)" target="_blank" rel="noopener">è§£ç­”</a></li>
<li><a href="http://blog.panictank.net/category/algorithmndesignmanualsolutions/page/2/" target="_blank" rel="noopener">è§£ç­”</a></li>
</ul>
</li>
<li><p><a href="http://www3.cs.stonybrook.edu/~skiena/algorist/book/errata" target="_blank" rel="noopener">å‹˜è¯¯è¡¨</a></p>
<p>read and do exercises from the books below. Then move to coding challenges (further down below)<br>ä¸€æ—¦ä½ ç†è§£äº†æ¯æ—¥è®¡åˆ’é‡Œçš„æ‰€æœ‰å†…å®¹ï¼Œå°±å»è¯»ä¸Šé¢æ‰€åˆ—çš„ä¹¦å¹¶å®Œæˆç»ƒä¹ ï¼Œç„¶åå¼€å§‹è¯»ä¸‹é¢æ‰€åˆ—çš„ä¹¦å¹¶åšç»ƒä¹ ï¼Œä¹‹åå°±å¯ä»¥å¼€å§‹å®æˆ˜å†™ä»£ç äº†ï¼ˆæœ¬æ–‡å†å¾€åçš„éƒ¨åˆ†ï¼‰</p>
</li>
</ul>
</li>
</ul>
<p><strong>é¦–å…ˆé˜…è¯»:</strong></p>
<ul>
<li><input disabled="" type="checkbox"> <a href="http://www.wiley.com/WileyCDA/WileyTitle/productCd-047012167X.html" target="_blank" rel="noopener">Programming Interviews Exposed: Secrets to Landing Your Next Job, 2nd Edition</a></li>
</ul>
<p><strong>ç„¶åé˜…è¯» (è¿™æœ¬è·å¾—äº†å¾ˆå¤šæ¨èï¼Œ ä½†æ˜¯ä¸åœ¨ Google coaching çš„æ–‡æ¡£é‡Œ):</strong></p>
<ul>
<li><input disabled="" type="checkbox"> <a href="http://www.amazon.com/Cracking-Coding-Interview-6th-Programming/dp/0984782850/" target="_blank" rel="noopener">Cracking the Coding Interview, 6th Edition</a><ul>
<li>å¦‚æœä½ çœ‹åˆ°æœ‰äººåœ¨çœ‹ â€œThe Google Resumeâ€, å®é™…ä¸Šå®ƒå’Œ â€œCracking the Coding Interviewâ€ æ˜¯åŒä¸€ä¸ªä½œè€…å†™çš„ï¼Œè€Œä¸”åè€…æ˜¯å‡çº§ç‰ˆã€‚</li>
</ul>
</li>
</ul>
<h3 id="é™„åŠ ä¹¦å•"><a href="#é™„åŠ ä¹¦å•" class="headerlink" title="é™„åŠ ä¹¦å•"></a>é™„åŠ ä¹¦å•</h3><p>è¿™äº›æ²¡æœ‰è¢« Google æ¨èé˜…è¯»ï¼Œä¸è¿‡æˆ‘å› ä¸ºéœ€è¦è¿™äº›èƒŒæ™¯çŸ¥è¯†æ‰€ä»¥ä¹ŸæŠŠå®ƒä»¬åˆ—åœ¨äº†è¿™é‡Œã€‚</p>
<ul>
<li><input disabled="" type="checkbox"> <p>C Programming Language, Vol 2</p>
<ul>
<li><a href="https://github.com/lekkas/c-algorithms" target="_blank" rel="noopener">ç»ƒä¹ çš„ç­”æ¡ˆ</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>C++ Primer Plus, 6th Edition</p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="http://product.half.ebay.com/The-UNIX-Programming-Environment-by-Brian-W-Kernighan-and-Rob-Pike-1983-Other/54385&amp;tg=info" target="_blank" rel="noopener">ã€ŠUnix ç¯å¢ƒé«˜çº§ç¼–ç¨‹ã€‹ The Unix Programming Environment</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="http://www.amazon.com/Programming-Pearls-2nd-Jon-Bentley/dp/0201657880" target="_blank" rel="noopener">ã€Šç¼–ç¨‹ç ç‘ã€‹ Programming Pearls</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="http://www.amazon.com/Algorithms-Programming-Solutions-Alexander-Shen/dp/0817638474" target="_blank" rel="noopener">Algorithms and Programming: Problems and Solutions</a></p>
</li>
</ul>
<h3 id="å¦‚æœä½ æœ‰æ—¶é—´"><a href="#å¦‚æœä½ æœ‰æ—¶é—´" class="headerlink" title="å¦‚æœä½ æœ‰æ—¶é—´"></a>å¦‚æœä½ æœ‰æ—¶é—´</h3><ul>
<li><input disabled="" type="checkbox"> <p><a href="https://www.amazon.com/Introduction-Algorithms-3rd-MIT-Press/dp/0262033844" target="_blank" rel="noopener">Introduction to Algorithms</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.amazon.com/Elements-Programming-Interviews-Insiders-Guide/dp/1479274836" target="_blank" rel="noopener">Elements of Programming Interviews</a></p>
<ul>
<li>å¦‚æœä½ å¸Œæœ›åœ¨é¢è¯•é‡Œç”¨ C++ å†™ä»£ç ï¼Œè¿™æœ¬ä¹¦çš„ä»£ç å…¨éƒ½æ˜¯ C++ å†™çš„</li>
<li>é€šå¸¸æƒ…å†µä¸‹èƒ½æ‰¾åˆ°è§£å†³æ–¹æ¡ˆçš„å¥½ä¹¦.</li>
</ul>
</li>
</ul>
<h2 id="ç¼–ç ç»ƒä¹ å’ŒæŒ‘æˆ˜"><a href="#ç¼–ç ç»ƒä¹ å’ŒæŒ‘æˆ˜" class="headerlink" title="ç¼–ç ç»ƒä¹ å’ŒæŒ‘æˆ˜"></a>ç¼–ç ç»ƒä¹ å’ŒæŒ‘æˆ˜</h2><p>ä¸€æ—¦ä½ å­¦ä¼šäº†ç†è®ºåŸºç¡€ï¼Œå°±åº”è¯¥æŠŠå®ƒä»¬æ‹¿å‡ºæ¥ç»ƒç»ƒã€‚<br>å°½é‡åšæŒæ¯å¤©åšç¼–ç ç»ƒä¹ ï¼Œè¶Šå¤šè¶Šå¥½ã€‚</p>
<p>ç¼–ç¨‹é—®é¢˜é¢„å¤‡:</p>
<ul>
<li><input disabled="" type="checkbox"> <p><a href="http://www.hiredintech.com/algorithm-design/" target="_blank" rel="noopener">ä¸é”™çš„ä»‹ç» (æ‘˜è‡ª System Design ç« èŠ‚): ç®—æ³•è®¾è®¡:</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.topcoder.com/community/data-science/data-science-tutorials/how-to-find-a-solution/" target="_blank" rel="noopener">å¦‚ä½•æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.topcoder.com/community/data-science/data-science-tutorials/how-to-dissect-a-topcoder-problem-statement/" target="_blank" rel="noopener">å¦‚ä½•å‰–æ Topcoder é¢˜ç›®æè¿°</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.topcoder.com/community/data-science/data-science-tutorials/mathematics-for-topcoders/" target="_blank" rel="noopener">Topcoders é‡Œç”¨åˆ°çš„æ•°å­¦</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.topcoder.com/community/data-science/data-science-tutorials/dynamic-programming-from-novice-to-advanced/" target="_blank" rel="noopener">åŠ¨æ€è§„åˆ’ â€“ ä»å…¥é—¨åˆ°ç²¾é€š</a></p>
</li>
<li><p><a href="https://courses.csail.mit.edu/iap/interview/materials.php" target="_blank" rel="noopener">MIT é¢è¯•ææ–™</a></p>
</li>
<li><p><a href="http://exercism.io/languages" target="_blank" rel="noopener">é’ˆå¯¹ç¼–ç¨‹è¯­è¨€æœ¬èº«çš„ç»ƒä¹ </a></p>
</li>
</ul>
<p>ç¼–ç ç»ƒä¹ å¹³å°:</p>
<ul>
<li><p><a href="https://leetcode.com/" target="_blank" rel="noopener">LeetCode</a></p>
</li>
<li><p><a href="https://www.topcoder.com/" target="_blank" rel="noopener">TopCoder</a></p>
</li>
<li><p><a href="https://projecteuler.net/index.php?section=problems" target="_blank" rel="noopener">Project Euler (æ•°å­¦æ–¹å‘ä¸ºä¸»)</a></p>
</li>
<li><p><a href="http://www.codewars.com" target="_blank" rel="noopener">Codewars</a></p>
</li>
<li><p><a href="https://www.hackerrank.com/" target="_blank" rel="noopener">HackerRank</a></p>
</li>
<li><p><a href="https://codility.com/programmers/" target="_blank" rel="noopener">Codility</a></p>
</li>
<li><p><a href="https://www.interviewcake.com/" target="_blank" rel="noopener">InterviewCake</a></p>
</li>
<li><p><a href="https://www.interviewbit.com/invite/icjf" target="_blank" rel="noopener">InterviewBit</a></p>
</li>
<li><p><a href="http://www.gainlo.co/" target="_blank" rel="noopener">æ¨¡æ‹Ÿå¤§å…¬å¸çš„é¢è¯•</a></p>
</li>
</ul>
<h2 id="å½“ä½ ä¸´è¿‘é¢è¯•æ—¶"><a href="#å½“ä½ ä¸´è¿‘é¢è¯•æ—¶" class="headerlink" title="å½“ä½ ä¸´è¿‘é¢è¯•æ—¶"></a>å½“ä½ ä¸´è¿‘é¢è¯•æ—¶</h2><ul>
<li><input disabled="" type="checkbox"> æå®šä»£ç é¢è¯• (videos):<ul>
<li><a href="https://www.youtube.com/watch?v=4NIb9l3imAo" target="_blank" rel="noopener">Cracking The Code Interview</a></li>
<li><a href="https://www.youtube.com/watch?v=Eg5-tdAwclo" target="_blank" rel="noopener">Cracking the Coding Interview - å…¨æ ˆç³»åˆ—</a></li>
<li><a href="https://www.youtube.com/watch?v=1fqxMuPmGak" target="_blank" rel="noopener">Ask Me Anything: Gayle Laakmann McDowell (Cracking the Coding Interview çš„ä½œè€…)</a></li>
</ul>
</li>
</ul>
<h2 id="ä½ çš„ç®€å†"><a href="#ä½ çš„ç®€å†" class="headerlink" title="ä½ çš„ç®€å†"></a>ä½ çš„ç®€å†</h2><ul>
<li><a href="http://steve-yegge.blogspot.co.uk/2007_09_01_archive.html" target="_blank" rel="noopener">10 æ¡å°è´´å£«è®©ä½ å†™å‡ºä¸€ä»½è¿˜ç®—ä¸é”™çš„ç®€å†</a></li>
<li>è¿™æ˜¯æå®šé¢è¯•çš„ç¬¬ä¸€ä¸ªå…³é”®æ­¥éª¤</li>
</ul>
<h2 id="å½“é¢è¯•æ¥ä¸´çš„æ—¶å€™"><a href="#å½“é¢è¯•æ¥ä¸´çš„æ—¶å€™" class="headerlink" title="å½“é¢è¯•æ¥ä¸´çš„æ—¶å€™"></a>å½“é¢è¯•æ¥ä¸´çš„æ—¶å€™</h2><pre><code>éšç€ä¸‹é¢åˆ—ä¸¾çš„é—®é¢˜æ€è€ƒä¸‹ä½ å¯èƒ½ä¼šé‡åˆ°çš„ 20 ä¸ªé¢è¯•é—®é¢˜
æ¯ä¸ªé—®é¢˜å‡†å¤‡ 2-3 ç§å›ç­”
å‡†å¤‡ç‚¹æ•…äº‹ï¼Œä¸è¦åªæ˜¯æ‘†ä¸€äº›ä½ å®Œæˆçš„äº‹æƒ…çš„æ•°æ®ï¼Œç›¸ä¿¡æˆ‘ï¼Œäººäººéƒ½å–œæ¬¢å¬æ•…äº‹</code></pre><ul>
<li>ä½ ä¸ºä»€ä¹ˆæƒ³å¾—åˆ°è¿™ä»½å·¥ä½œï¼Ÿ</li>
<li>ä½ è§£å†³è¿‡çš„æœ€æœ‰éš¾åº¦çš„é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>é¢å¯¹è¿‡çš„æœ€å¤§æŒ‘æˆ˜æ˜¯ä»€ä¹ˆ?</li>
<li>è§è¿‡çš„æœ€å¥½æˆ–è€…æœ€åçš„è®¾è®¡æ˜¯æ€ä¹ˆæ ·çš„?</li>
<li>å¯¹æŸé¡¹ Google äº§å“æå‡ºæ”¹è¿›å»ºè®®ã€‚</li>
<li>ä½ ä½œä¸ºä¸€ä¸ªä¸ªä½“åŒæ—¶ä¹Ÿæ˜¯å›¢é˜Ÿçš„ä¸€å‘˜ï¼Œå¦‚ä½•è¾¾åˆ°æœ€å¥½çš„å·¥ä½œçŠ¶æ€?</li>
<li>ä½ çš„ä»€ä¹ˆæŠ€èƒ½æˆ–è€…ç»éªŒæ˜¯ä½ çš„è§’è‰²ä¸­ä¸å¯æˆ–ç¼ºçš„?ä¸ºä»€ä¹ˆï¼Ÿ</li>
<li>ä½ åœ¨æŸä»½å·¥ä½œæˆ–æŸä¸ªé¡¹ç›®ä¸­æœ€äº«å—çš„æ˜¯ä»€ä¹ˆ?</li>
<li>ä½ åœ¨æŸä»½å·¥ä½œæˆ–æŸä¸ªé¡¹ç›®ä¸­é¢ä¸´è¿‡çš„æœ€å¤§æŒ‘æˆ˜æ˜¯ä»€ä¹ˆ?</li>
<li>ä½ åœ¨æŸä»½å·¥ä½œæˆ–æŸä¸ªé¡¹ç›®ä¸­é‡åˆ°è¿‡çš„æœ€è›‹ç–¼çš„ Bug æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</li>
<li>ä½ åœ¨æŸä»½å·¥ä½œæˆ–æŸä¸ªé¡¹ç›®ä¸­å­¦åˆ°äº†ä»€ä¹ˆï¼Ÿ</li>
<li>ä½ åœ¨æŸä»½å·¥ä½œæˆ–æŸä¸ªé¡¹ç›®ä¸­å“ªäº›åœ°æ–¹è¿˜å¯ä»¥åšçš„æ›´å¥½ï¼Ÿ</li>
</ul>
<h2 id="é—®é¢è¯•å®˜çš„é—®é¢˜"><a href="#é—®é¢è¯•å®˜çš„é—®é¢˜" class="headerlink" title="é—®é¢è¯•å®˜çš„é—®é¢˜"></a>é—®é¢è¯•å®˜çš„é—®é¢˜</h2><pre><code>æˆ‘ä¼šé—®çš„ä¸€äº›ï¼š(å¯èƒ½æˆ‘å·²ç»çŸ¥é“äº†ç­”æ¡ˆä½†æˆ‘æƒ³å¬å¬é¢è¯•å®˜çš„çœ‹æ³•æˆ–è€…äº†è§£å›¢é˜Ÿçš„å‰æ™¯):</code></pre><ul>
<li>å›¢é˜Ÿå¤šå¤§è§„æ¨¡?</li>
<li>å¼€å‘å‘¨æœŸæ˜¯æ€æ ·çš„? ä¼šä½¿ç”¨ç€‘å¸ƒæµ/æé™ç¼–ç¨‹/æ•æ·å¼€å‘ä¹ˆ?</li>
<li>ç»å¸¸ä¼šä¸º deadline åŠ ç­ä¹ˆ? æˆ–è€…æ˜¯æœ‰å¼¹æ€§çš„?</li>
<li>å›¢é˜Ÿé‡Œæ€ä¹ˆåšæŠ€æœ¯é€‰å‹?</li>
<li>æ¯å‘¨å¹³å‡å¼€å¤šå°‘æ¬¡ä¼š?</li>
<li>ä½ è§‰å¾—å·¥ä½œç¯å¢ƒæœ‰åŠ©äºå‘˜å·¥é›†ä¸­ç²¾åŠ›å—?</li>
<li>ç›®å‰æ­£åœ¨åšä»€ä¹ˆå·¥ä½œ?</li>
<li>å–œæ¬¢è¿™äº›äº‹æƒ…å—?</li>
<li>å·¥ä½œæœŸé™æ˜¯æ€ä¹ˆæ ·çš„?</li>
</ul>
<h2 id="å½“ä½ è·å¾—äº†æ¢¦æƒ³çš„èŒä½"><a href="#å½“ä½ è·å¾—äº†æ¢¦æƒ³çš„èŒä½" class="headerlink" title="å½“ä½ è·å¾—äº†æ¢¦æƒ³çš„èŒä½"></a>å½“ä½ è·å¾—äº†æ¢¦æƒ³çš„èŒä½</h2><p>æˆ‘è¿˜èƒ½è¯´äº›ä»€ä¹ˆå‘¢ï¼Œæ­å–œä½ ï¼</p>
<ul>
<li><a href="https://medium.com/@moonstorming/10-things-i-wish-i-knew-on-my-first-day-at-google-107581d87286#.livxn7clw" target="_blank" rel="noopener">æˆ‘å¸Œæœ›åœ¨ Google çš„ç¬¬ä¸€å¤©å°±çŸ¥é“çš„ 10 ä»¶äº‹</a></li>
</ul>
<p>åšæŒç»§ç»­å­¦ä¹ ã€‚</p>
<p>å¾—åˆ°è¿™ä»½å·¥ä½œåªæ˜¯ä¸€ä¸ªå¼€å§‹ã€‚</p>
<hr>
<pre><code>*****************************************************************************************************
*****************************************************************************************************

ä¸‹é¢çš„å†…å®¹éƒ½æ˜¯å¯é€‰çš„ã€‚è¿™äº›æ˜¯æˆ‘çš„æ¨èï¼Œä¸æ˜¯ Google çš„ã€‚
é€šè¿‡å­¦ä¹ è¿™äº›å†…å®¹ï¼Œä½ å°†ä¼šå¾—åˆ°æ›´å¤šçš„æœ‰å…³ CS çš„æ¦‚å¿µï¼Œå¹¶å°†ä¸ºæ‰€æœ‰çš„è½¯ä»¶å·¥ç¨‹å·¥ä½œåšæ›´å¥½çš„å‡†å¤‡ã€‚

*****************************************************************************************************
*****************************************************************************************************</code></pre><hr>
<h2 id="é™„åŠ çš„å­¦ä¹ "><a href="#é™„åŠ çš„å­¦ä¹ " class="headerlink" title="é™„åŠ çš„å­¦ä¹ "></a>é™„åŠ çš„å­¦ä¹ </h2><ul>
<li><h3 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h3><ul>
<li><input disabled="" type="checkbox"> <a href="http://www.joelonsoftware.com/articles/Unicode.html" target="_blank" rel="noopener">æ¯ä¸€ä¸ªè½¯ä»¶å¼€å‘è€…çš„ç»å¯¹æœ€ä½é™åº¦ï¼Œå¿…é¡»è¦çŸ¥é“çš„å…³äº Unicode å’Œå­—ç¬¦é›†çŸ¥è¯†</a></li>
<li><input disabled="" type="checkbox"> <a href="http://kunststube.net/encoding/" target="_blank" rel="noopener">å…³äºå¤„ç†æ–‡æœ¬éœ€è¦çš„ç¼–ç å’Œå­—ç¬¦é›†, æ¯ä¸ªç¨‹åºå‘˜ç»å¯¹éœ€è¦çŸ¥é“çš„çŸ¥è¯†</a></li>
</ul>
</li>
<li><h3 id="å­—èŠ‚é¡ºåº"><a href="#å­—èŠ‚é¡ºåº" class="headerlink" title="å­—èŠ‚é¡ºåº"></a>å­—èŠ‚é¡ºåº</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.cs.umd.edu/class/sum2003/cmsc311/Notes/Data/endian.html" target="_blank" rel="noopener">å¤§ã€å°ç«¯å­—èŠ‚åº</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=JrNF0KRAlyo" target="_blank" rel="noopener">å¤§ç«¯å­—èŠ‚ Vs å°ç«¯å­—èŠ‚(è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=oBSuXP-1Tc0" target="_blank" rel="noopener">å¤§ã€å°ç«¯å­—èŠ‚åºçš„é‡Œé‡Œå¤–å¤–(Big And Little Endian Inside/Out) (è§†é¢‘)</a><ul>
<li>å†…æ ¸å¼€å‘è€…çš„è®¨è®ºéå¸¸æŠ€æœ¯æ€§ï¼Œå¦‚æœå¤§å¤šæ•°éƒ½è¶…å‡ºäº†ä½ çš„ç†è§£èŒƒå›´ï¼Œä¸è¦å¤ªæ‹…å¿ƒã€‚</li>
<li>å‰åŠæ®µå·²ç»è¶³å¤Ÿäº†ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="Emacs-and-vi-m"><a href="#Emacs-and-vi-m" class="headerlink" title="Emacs and vi(m)"></a>Emacs and vi(m)</h3><ul>
<li>Yegge çš„å»ºè®®ï¼Œä»ä¸€ä¸ªå¾ˆæ—©ä»¥å‰çš„äºšé©¬é€Šæ‹›è˜ä¿¡æ¯ä¸­è€Œæ¥ï¼šç†Ÿæ‚‰åŸºäº unix çš„ä»£ç ç¼–è¾‘å™¨</li>
<li>vi(m):<ul>
<li><a href="https://www.youtube.com/watch?v=5givLEMcINQ&amp;index=1&amp;list=PL13bz4SHGmRxlZVmWQ9DvXo1fEg4UdGkr" target="_blank" rel="noopener">ä½¿ç”¨ vim è¿›è¡Œç¼–è¾‘ 01 - å®‰è£…, è®¾ç½®å’Œæ¨¡å¼ (è§†é¢‘)</a></li>
<li><a href="http://vim-adventures.com/" target="_blank" rel="noopener">VIM çš„å†’é™©ä¹‹æ—…</a></li>
<li>4 ä¸ªè§†é¢‘é›†:<ul>
<li><a href="https://www.youtube.com/watch?v=SI8TeVMX8pk" target="_blank" rel="noopener">vi/vim ç¼–è¾‘å™¨ - è¯¾ç¨‹ 1</a></li>
<li><a href="https://www.youtube.com/watch?v=F3OO7ZIOaJE" target="_blank" rel="noopener">vi/vim ç¼–è¾‘å™¨ - è¯¾ç¨‹ 2</a></li>
<li><a href="https://www.youtube.com/watch?v=1lYD5gwgZIA" target="_blank" rel="noopener">vi/vim ç¼–è¾‘å™¨ - è¯¾ç¨‹ 4</a></li>
<li><a href="https://www.youtube.com/watch?v=ZYEccA_nMaI" target="_blank" rel="noopener">vi/vim ç¼–è¾‘å™¨ - è¯¾ç¨‹ 3</a></li>
</ul>
</li>
<li><a href="http://www.cs.yale.edu/homes/aspnes/classes/223/notes.html#Using_Vi_instead_of_Emacs" target="_blank" rel="noopener">ä½¿ç”¨ Vi è€Œä¸æ˜¯ Emacs</a></li>
</ul>
</li>
<li>emacs:<ul>
<li><a href="https://www.youtube.com/watch?v=hbmV1bnQ-i0" target="_blank" rel="noopener">åŸºç¡€ Emacs æ•™ç¨‹ (è§†é¢‘)</a></li>
<li>3 ä¸ªè§†é¢‘é›†:<ul>
<li><a href="https://www.youtube.com/watch?v=ujODL7MD04Q" target="_blank" rel="noopener">Emacs æ•™ç¨‹ (åˆå­¦è€…) -ç¬¬ 1 éƒ¨åˆ†- æ–‡ä»¶å‘½ä»¤, å‰ªåˆ‡/å¤åˆ¶/ç²˜è´´,  è‡ªå®šä¹‰å‘½ä»¤</a></li>
<li><a href="https://www.youtube.com/watch?v=XWpsRupJ4II" target="_blank" rel="noopener">Emacs æ•™ç¨‹ (åˆå­¦è€… -ç¬¬ 2 éƒ¨åˆ†- Buffer ç®¡ç†, æœç´¢, M-x grep å’Œ rgrep æ¨¡å¼</a></li>
<li><a href="https://www.youtube.com/watch?v=paSgzPso-yc" target="_blank" rel="noopener">Emacs æ•™ç¨‹ (åˆå­¦è€… -ç¬¬ 3 éƒ¨åˆ†- è¡¨è¾¾å¼, å£°æ˜, ~/.emacs æ–‡ä»¶å’ŒåŒ…æœºåˆ¶</a></li>
</ul>
</li>
<li><a href="https://www.youtube.com/watch?v=JWD1Fpdd4Pc" target="_blank" rel="noopener">Evil æ¨¡å¼: æˆ–è®¸, æˆ‘æ˜¯æ€æ ·å¯¹ Emacs è·¯äººè½¬ç²‰çš„ (è§†é¢‘)</a></li>
<li><a href="http://www.cs.yale.edu/homes/aspnes/classes/223/notes.html#Writing_C_programs_with_Emacs" target="_blank" rel="noopener">ä½¿ç”¨ Emacs å¼€å‘ C ç¨‹åº</a></li>
<li><a href="https://www.youtube.com/watch?v=nsGYet02bEk" target="_blank" rel="noopener">(æˆ–è®¸) æ·±åº¦ç»„ç»‡æ¨¡å¼:ç®¡ç†ç»“æ„ (è§†é¢‘)</a></li>
</ul>
</li>
</ul>
</li>
<li><h3 id="Unix-å‘½ä»¤è¡Œå·¥å…·"><a href="#Unix-å‘½ä»¤è¡Œå·¥å…·" class="headerlink" title="Unix å‘½ä»¤è¡Œå·¥å…·"></a>Unix å‘½ä»¤è¡Œå·¥å…·</h3><ul>
<li>ä¸‹åˆ—å†…å®¹ä¸­çš„ä¼˜ç§€å·¥å…·ç”±çš„ Yegge æ¨èï¼ŒYegge ç›®å‰è‡´åŠ›äº Amazon äººäº‹æ‹›è˜å¤„ã€‚</li>
<li><input disabled="" type="checkbox"> bash</li>
<li><input disabled="" type="checkbox"> cat</li>
<li><input disabled="" type="checkbox"> grep</li>
<li><input disabled="" type="checkbox"> sed</li>
<li><input disabled="" type="checkbox"> awk</li>
<li><input disabled="" type="checkbox"> curl or wget</li>
<li><input disabled="" type="checkbox"> sort</li>
<li><input disabled="" type="checkbox"> tr</li>
<li><input disabled="" type="checkbox"> uniq</li>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/Strace" target="_blank" rel="noopener">strace</a></li>
<li><input disabled="" type="checkbox"> <a href="https://danielmiessler.com/study/tcpdump/" target="_blank" rel="noopener">tcpdump</a></li>
</ul>
</li>
<li><h3 id="ä¿¡æ¯èµ„æº-è§†é¢‘"><a href="#ä¿¡æ¯èµ„æº-è§†é¢‘" class="headerlink" title="ä¿¡æ¯èµ„æº (è§†é¢‘)"></a>ä¿¡æ¯èµ„æº (è§†é¢‘)</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.khanacademy.org/computing/computer-science/informationtheory" target="_blank" rel="noopener">Khan Academy å¯æ±—å­¦é™¢</a></li>
<li><input disabled="" type="checkbox"> æ›´å¤šæœ‰å…³é©¬å°”å¯å¤«çš„å†…å®¹:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/waxgx/core-markov-text-generation" target="_blank" rel="noopener">Core Markov Text Generationé©¬å°”å¯å¤«å†…å®¹ç”Ÿæˆ</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/gZhiC/core-implementing-markov-text-generation" target="_blank" rel="noopener">Core Implementing Markov Text Generationé©¬å°”å¯å¤«å†…å®¹ç”Ÿæˆè¡¥å……</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/EUjrq/project-markov-text-generation-walk-through" target="_blank" rel="noopener">Project = Markov Text Generation Walk Throughä¸€ä¸ªé©¬å°”å¯å¤«å†…å®¹ç”Ÿæˆå™¨çš„é¡¹ç›®</a></li>
</ul>
</li>
<li>å…³äºæ›´å¤šä¿¡æ¯ï¼Œè¯·å‚ç…§ä¸‹æ–¹ MIT 6.050J ä¿¡æ¯å’Œç³»ç»Ÿå¤æ‚åº¦çš„å†…å®¹.</li>
</ul>
</li>
<li><h3 id="å¥‡å¶æ ¡éªŒä½-amp-æ±‰æ˜ç -è§†é¢‘"><a href="#å¥‡å¶æ ¡éªŒä½-amp-æ±‰æ˜ç -è§†é¢‘" class="headerlink" title="å¥‡å¶æ ¡éªŒä½ &amp; æ±‰æ˜ç  (è§†é¢‘)"></a>å¥‡å¶æ ¡éªŒä½ &amp; æ±‰æ˜ç  (è§†é¢‘)</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=q-3BctoUpHE" target="_blank" rel="noopener">å…¥é—¨</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=DdMcAUlxh1M" target="_blank" rel="noopener">å¥‡å¶æ ¡éªŒä½</a></li>
<li><input disabled="" type="checkbox"> æ±‰æ˜ç (Hamming Code):<ul>
<li><a href="https://www.youtube.com/watch?v=1A_NcXxdoCc" target="_blank" rel="noopener">å‘ç°é”™è¯¯</a></li>
<li><a href="https://www.youtube.com/watch?v=JAMLuxdHH8o" target="_blank" rel="noopener">ä¿®æ­£é”™è¯¯</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=wbH2VxzmoZk" target="_blank" rel="noopener">æ£€æŸ¥é”™è¯¯</a></li>
</ul>
</li>
<li><h3 id="ç³»ç»Ÿç†µå€¼ï¼ˆç³»ç»Ÿå¤æ‚åº¦ï¼‰"><a href="#ç³»ç»Ÿç†µå€¼ï¼ˆç³»ç»Ÿå¤æ‚åº¦ï¼‰" class="headerlink" title="ç³»ç»Ÿç†µå€¼ï¼ˆç³»ç»Ÿå¤æ‚åº¦ï¼‰"></a>ç³»ç»Ÿç†µå€¼ï¼ˆç³»ç»Ÿå¤æ‚åº¦ï¼‰</h3><ul>
<li>è¯·å‚è€ƒä¸‹æ–¹è§†é¢‘</li>
<li>è§‚çœ‹ä¹‹å‰ï¼Œè¯·å…ˆç¡®å®šè§‚çœ‹äº†ä¿¡æ¯è®ºçš„è§†é¢‘</li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/JnJq3Py0dyM?t=176" target="_blank" rel="noopener">ä¿¡æ¯ç†è®º, å…‹åŠ³å¾·Â·é¦™å†œ, ç†µå€¼, ç³»ç»Ÿå†—ä½™, æ•°æ®æ¯”ç‰¹å‹ç¼© (è§†é¢‘)</a></li>
</ul>
</li>
<li><h3 id="å¯†ç å­¦"><a href="#å¯†ç å­¦" class="headerlink" title="å¯†ç å­¦"></a>å¯†ç å­¦</h3><ul>
<li>è¯·å‚è€ƒä¸‹æ–¹è§†é¢‘</li>
<li>è§‚çœ‹ä¹‹å‰ï¼Œè¯·å…ˆç¡®å®šè§‚çœ‹äº†ä¿¡æ¯è®ºçš„è§†é¢‘</li>
<li><input disabled="" type="checkbox"> <a href="https://www.khanacademy.org/computing/computer-science/å¯†ç å­¦" target="_blank" rel="noopener">å¯æ±—å­¦é™¢</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=KqqOXndnvic&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=30" target="_blank" rel="noopener">å¯†ç å­¦: å“ˆå¸Œå‡½æ•°</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=9TNI2wHmaeI&amp;index=31&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp" target="_blank" rel="noopener">å¯†ç å­¦: åŠ å¯†</a></li>
</ul>
</li>
<li><h3 id="å‹ç¼©"><a href="#å‹ç¼©" class="headerlink" title="å‹ç¼©"></a>å‹ç¼©</h3><ul>
<li>è§‚çœ‹ä¹‹å‰ï¼Œè¯·å…ˆç¡®å®šè§‚çœ‹äº†ä¿¡æ¯è®ºçš„è§†é¢‘</li>
<li><input disabled="" type="checkbox"> å‹ç¼© (è§†é¢‘):<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Lto-ajuqW3w" target="_blank" rel="noopener">å‹ç¼©</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=M5c_RFKVkko" target="_blank" rel="noopener">å‹ç¼©ç†µå€¼</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=umTbivyJoiI" target="_blank" rel="noopener">ç”±ä¸Šè€Œä¸‹çš„æ ‘ (éœå¤«æ›¼ç¼–ç æ ‘)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=DV8efuB3h2g" target="_blank" rel="noopener">é¢å¤–æ¯”ç‰¹ - éœå¤«æ›¼ç¼–ç æ ‘</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=goOa3DGezUA" target="_blank" rel="noopener">ä¼˜é›…çš„å‹ç¼©æ•°æ® (æ— æŸæ•°æ®å‹ç¼©æ–¹æ³•)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=cCDCfoHTsaU" target="_blank" rel="noopener">Text Compression Meets Probabilities</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/playlist?list=PLOU2XLYxmsIJGErt5rrCqaSGTMyyqNt2H" target="_blank" rel="noopener">æ•°æ®å‹ç¼©çš„è‰ºæœ¯</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=whGwm0Lky2s" target="_blank" rel="noopener">(å¯é€‰) è°·æ­Œå¼€å‘è€…: GZIP è¿˜å·®è¿œäº†å‘¢!</a></li>
</ul>
</li>
<li><h3 id="ç½‘ç»œ-è§†é¢‘"><a href="#ç½‘ç»œ-è§†é¢‘" class="headerlink" title="ç½‘ç»œ (è§†é¢‘)"></a>ç½‘ç»œ (è§†é¢‘)</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.khanacademy.org/computing/computer-science/internet-intro" target="_blank" rel="noopener">å¯æ±—å­¦é™¢</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Vdc8TCESIg8" target="_blank" rel="noopener">ç½‘ç»œä¼ è¾“åè®®ä¸­çš„æ•°æ®å‹ç¼©</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=e5DEVa9eSN0" target="_blank" rel="noopener">TCP/IP å’Œ OSI æ¨¡å‹è§£æ!</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=nomyRJehhnM" target="_blank" rel="noopener">TCP/IP æ•™ç¨‹ï¼šä¼ è¾“æ•°æ®åŒ….</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=WGJrLqtX7As" target="_blank" rel="noopener">HTTP</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=S2iBR2ZlZf0" target="_blank" rel="noopener">SSL å’Œ HTTPS</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Rp3iZUvXWlM" target="_blank" rel="noopener">SSL/TLS</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=E9FxNzv1Tr8" target="_blank" rel="noopener">HTTP 2.0</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/playlist?list=PLEbnTDJUr_IegfoqO4iPnPYQui46QqT0j" target="_blank" rel="noopener">è§†é¢‘</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=t5xYI0jzOf4" target="_blank" rel="noopener">å­ç½‘ç»œè§£å¯† - ç¬¬äº”éƒ¨åˆ† ç»å…¸å†…éƒ¨åŸŸåæŒ‡å‘ CIDR æ ‡è®°</a></li>
</ul>
</li>
<li><h3 id="è®¡ç®—æœºå®‰å…¨"><a href="#è®¡ç®—æœºå®‰å…¨" class="headerlink" title="è®¡ç®—æœºå®‰å…¨"></a>è®¡ç®—æœºå®‰å…¨</h3><ul>
<li><a href="https://www.youtube.com/playlist?list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">MIT</a><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=GqmQg-cszw4&amp;index=1&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">å¨èƒæ¨¡å‹ï¼šå…¥é—¨</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=6bwzNg5qQ0o&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh&amp;index=2" target="_blank" rel="noopener">æ§åˆ¶æ”»å‡»</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=drQyrzRoRiA&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh&amp;index=3" target="_blank" rel="noopener">ç¼“å†²æ•°æ®æ³¨å…¥å’Œé˜²å¾¡</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=6SIJmoE9L9g&amp;index=4&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">ä¼˜å…ˆæƒåŒºåˆ†</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=8VqTSY-11F4&amp;index=5&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">èƒ½åŠ›</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=VEV74hwASeU&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh&amp;index=6" target="_blank" rel="noopener">åœ¨æ²™ç›’ä¸­è¿è¡ŒåŸç”Ÿä»£ç </a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=chkFBigodIw&amp;index=7&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">ç½‘ç»œå®‰å…¨æ¨¡å‹</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=EBQIGy1ROLY&amp;index=8&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">ç½‘ç»œå®‰å…¨åº”ç”¨</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=yRVZPvHYHzw&amp;index=9&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">æ ‡å¿—åŒ–æ‰§è¡Œ</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=SIEVvk3NVuk&amp;index=11&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">ç½‘ç»œå®‰å…¨</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=QOtA76ga_fY&amp;index=12&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">ç½‘ç»œåè®®</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=PuVMkSEcPiI&amp;index=15&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">æ—è·¯æ”»å‡»</a></li>
</ul>
</li>
</ul>
</li>
<li><h3 id="é‡Šæ”¾ç¼“å­˜"><a href="#é‡Šæ”¾ç¼“å­˜" class="headerlink" title="é‡Šæ”¾ç¼“å­˜"></a>é‡Šæ”¾ç¼“å­˜</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=StdfeXaKGEc&amp;list=PL-XXv-cvA_iAlnI-BQr9hjqADPBtujFJd&amp;index=25" target="_blank" rel="noopener">Java é‡Šæ”¾ç¼“å­˜; ç‰‡æ®µåŒ–æ•°æ® (è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/playlist?list=PLO9y7hOkmmSGTy5z6HZ-W4k2y8WXF7Bff" target="_blank" rel="noopener">ç¼–è¯‘å™¨ (è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=iHVs_HkjdmI" target="_blank" rel="noopener">Python é‡Šæ”¾ç¼“å­˜ (è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.infoq.com/presentations/garbage-collection-benefits" target="_blank" rel="noopener">æ·±åº¦è§£æï¼šè®ºé‡Šæ”¾ç¼“å­˜åœ¨ JAVA ä¸­çš„é‡è¦æ€§</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=P-8Z0-MhdQs&amp;list=PLdzf4Clw0VbOEWOS_sLhT_9zaiQDrS5AR&amp;index=3" target="_blank" rel="noopener">æ·±åº¦è§£æï¼šè®ºé‡Šæ”¾ç¼“å­˜åœ¨ Python ä¸­çš„é‡è¦æ€§(è§†é¢‘)</a></li>
</ul>
</li>
<li><h3 id="å¹¶è¡Œ-å¹¶å‘ç¼–ç¨‹"><a href="#å¹¶è¡Œ-å¹¶å‘ç¼–ç¨‹" class="headerlink" title="å¹¶è¡Œ/å¹¶å‘ç¼–ç¨‹"></a>å¹¶è¡Œ/å¹¶å‘ç¼–ç¨‹</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/parprog1/home/week/1" target="_blank" rel="noopener">Coursera (Scala)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=uY85GkaYzBk" target="_blank" rel="noopener">è®ºå¹¶è¡Œ/å¹¶å‘ç¼–ç¨‹å¦‚ä½•æé«˜ Python æ‰§è¡Œæ•ˆç‡ (è§†é¢‘)</a></li>
</ul>
</li>
<li><h3 id="è®¾è®¡æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=3cmzqZzwNDM&amp;list=PLGLfVvz_LVvQ5G-LdJ8RLqe-ndo7QITYc&amp;index=3" target="_blank" rel="noopener">UMLç»Ÿä¸€å»ºæ¨¡è¯­è¨€æ¦‚è§ˆ (è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> ä¸»è¦æœ‰å¦‚ä¸‹çš„è®¾è®¡æ¨¡å¼:<ul>
<li><input disabled="" type="checkbox"> s(strategy)</li>
<li><input disabled="" type="checkbox"> singleton</li>
<li><input disabled="" type="checkbox"> adapter</li>
<li><input disabled="" type="checkbox"> prototype</li>
<li><input disabled="" type="checkbox"> decorator</li>
<li><input disabled="" type="checkbox"> visitor</li>
<li><input disabled="" type="checkbox"> factory, abstract factory</li>
<li><input disabled="" type="checkbox"> facade</li>
<li><input disabled="" type="checkbox"> observer</li>
<li><input disabled="" type="checkbox"> proxy</li>
<li><input disabled="" type="checkbox"> delegate</li>
<li><input disabled="" type="checkbox"> command</li>
<li><input disabled="" type="checkbox"> state</li>
<li><input disabled="" type="checkbox"> memento</li>
<li><input disabled="" type="checkbox"> iterator</li>
<li><input disabled="" type="checkbox"> composite</li>
<li><input disabled="" type="checkbox"> flyweight</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/LAP2A80Ajrg?list=PLJ9pm_Rc9HesnkwKlal_buSIHA-jTZMpO&amp;t=3344" target="_blank" rel="noopener">ç¬¬å…­ç«  (ç¬¬ 1 éƒ¨åˆ† ) - è®¾è®¡æ¨¡å¼ (è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=U8-PGsjvZc4&amp;index=12&amp;list=PLJ9pm_Rc9HesnkwKlal_buSIHA-jTZMpO" target="_blank" rel="noopener">ç¬¬å…­ç«  (ç¬¬ 2 éƒ¨åˆ† ) - Abstraction-Occurrence, General Hierarchy, Player-Role, Singleton, Observer, Delegation (è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=7sduBHuex4c&amp;index=13&amp;list=PLJ9pm_Rc9HesnkwKlal_buSIHA-jTZMpO" target="_blank" rel="noopener">ç¬¬å…­ç«  (ç¬¬ 3 éƒ¨åˆ† ) - Adapter, Facade, Immutable, Read-Only Interface, Proxy (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/playlist?list=PLF206E906175C7E07" target="_blank" rel="noopener">è§†é¢‘</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.amazon.com/Head-First-Design-Patterns-Freeman/dp/0596007124" target="_blank" rel="noopener">Head First è®¾è®¡æ¨¡å‹</a><ul>
<li>å°½ç®¡è¿™æœ¬ä¹¦å«åšè®¾è®¡æ¨¡å¼ï¼šé‡å¤ä½¿ç”¨æ¨¡å—ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯è®¤ä¸ºHead Firstæ˜¯å¯¹äºæ–°æ‰‹æ¥è¯´å¾ˆä¸é”™çš„ä¹¦ã€‚</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://sourcemaking.com/design-patterns-and-tips" target="_blank" rel="noopener">åŸºäºå®é™…æ“ä½œå¯¹äºå…¥é—¨å¼€å‘è€…çš„å»ºè®®</a></li>
</ul>
</li>
<li><h3 id="ä¿¡æ¯ä¼ è¾“-åºåˆ—åŒ–-å’Œé˜Ÿåˆ—åŒ–çš„ç³»ç»Ÿ"><a href="#ä¿¡æ¯ä¼ è¾“-åºåˆ—åŒ–-å’Œé˜Ÿåˆ—åŒ–çš„ç³»ç»Ÿ" class="headerlink" title="ä¿¡æ¯ä¼ è¾“, åºåˆ—åŒ–,å’Œé˜Ÿåˆ—åŒ–çš„ç³»ç»Ÿ"></a>ä¿¡æ¯ä¼ è¾“, åºåˆ—åŒ–,å’Œé˜Ÿåˆ—åŒ–çš„ç³»ç»Ÿ</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://thrift.apache.org/" target="_blank" rel="noopener">Thrift</a><ul>
<li><a href="http://thrift-tutorial.readthedocs.io/en/latest/intro.html" target="_blank" rel="noopener">æ•™ç¨‹</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://developers.google.com/protocol-buffers/" target="_blank" rel="noopener">åè®®ç¼“å†²</a><ul>
<li><a href="https://developers.google.com/protocol-buffers/docs/tutorials" target="_blank" rel="noopener">æ•™ç¨‹</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://www.grpc.io/" target="_blank" rel="noopener">gRPC</a><ul>
<li><a href="https://www.youtube.com/watch?v=5tmPvSe7xXQ&amp;list=PLcTqM9n_dieN0k1nSeN36Z_ppKnvMJoly&amp;index=1" target="_blank" rel="noopener">gRPC å¯¹äºJAVAå¼€å‘è€…çš„å…¥é—¨æ•™ç¨‹ï¼ˆè§†é¢‘ï¼‰</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://redis.io/" target="_blank" rel="noopener">Redis</a><ul>
<li><a href="http://try.redis.io/" target="_blank" rel="noopener">æ•™ç¨‹</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://aws.amazon.com/sqs/" target="_blank" rel="noopener">Amazonçš„ SQS ç³»ç»Ÿ (é˜Ÿåˆ—)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://aws.amazon.com/sns/" target="_blank" rel="noopener">Amazonçš„ SNS ç³»ç»Ÿ (pub-sub)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.rabbitmq.com/" target="_blank" rel="noopener">RabbitMQ</a><ul>
<li><a href="https://www.rabbitmq.com/getstarted.html" target="_blank" rel="noopener">å…¥é—¨æ•™ç¨‹</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://www.celeryproject.org/" target="_blank" rel="noopener">Celery</a><ul>
<li><a href="http://docs.celeryproject.org/en/latest/getting-started/first-steps-with-celery.html" target="_blank" rel="noopener">Celeryå…¥é—¨</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://zeromq.org/" target="_blank" rel="noopener">ZeroMQ</a><ul>
<li><a href="http://zeromq.org/intro:read-the-manual" target="_blank" rel="noopener">å…¥é—¨æ•™ç¨‹</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://activemq.apache.org/" target="_blank" rel="noopener">ActiveMQ</a></li>
<li><input disabled="" type="checkbox"> <a href="http://kafka.apache.org/documentation.html#introduction" target="_blank" rel="noopener">Kafka</a></li>
<li><input disabled="" type="checkbox"> <a href="http://msgpack.org/index.html" target="_blank" rel="noopener">MessagePack</a></li>
<li><input disabled="" type="checkbox"> <a href="https://avro.apache.org/" target="_blank" rel="noopener">Avro</a></li>
</ul>
</li>
<li><h3 id="å¿«é€Ÿå‚…é‡Œå¶å˜æ¢"><a href="#å¿«é€Ÿå‚…é‡Œå¶å˜æ¢" class="headerlink" title="å¿«é€Ÿå‚…é‡Œå¶å˜æ¢"></a>å¿«é€Ÿå‚…é‡Œå¶å˜æ¢</h3><ul>
<li><input disabled="" type="checkbox"> <a href="http://www.askamathematician.com/2012/09/q-what-is-a-fourier-transform-what-is-it-used-for/" target="_blank" rel="noopener">ä»€ä¹ˆæ˜¯å‚…ç«‹å¶å˜æ¢ï¼Ÿè®ºå‚…ç«‹å¶å˜æ¢çš„ç”¨é€”</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Xxut2PN-V8Q" target="_blank" rel="noopener">ä»€ä¹ˆæ˜¯å‚…ç«‹å¶å˜æ¢ï¼Ÿ (è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=iTMn0Kt18tg&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=4" target="_blank" rel="noopener">å…³äº FFT çš„ä¸åŒè§‚ç‚¹ (è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> <a href="http://jakevdp.github.io/blog/2013/08/28/understanding-the-fft/" target="_blank" rel="noopener">FTT æ˜¯ä»€ä¹ˆ</a></li>
</ul>
</li>
<li><h3 id="å¸ƒéš†è¿‡æ»¤å™¨"><a href="#å¸ƒéš†è¿‡æ»¤å™¨" class="headerlink" title="å¸ƒéš†è¿‡æ»¤å™¨"></a>å¸ƒéš†è¿‡æ»¤å™¨</h3><ul>
<li>ç»™ä¸€ä¸ªå¸ƒéš†è¿‡æ»¤å™¨mæ¯”ç‰¹å’Œkä¸ªå“ˆå¸Œå‡½æ•°ï¼Œæ‰€æœ‰çš„æ³¨å…¥å’Œç›¸å…³æµ‹è¯•éƒ½ä¼šæ˜¯é€šè¿‡ã€‚</li>
<li><a href="https://www.youtube.com/watch?v=-SuTGoFYjZs" target="_blank" rel="noopener">å¸ƒéš†è¿‡æ»¤å™¨</a></li>
<li><a href="https://www.youtube.com/watch?v=qBTdukbzc78" target="_blank" rel="noopener">å¸ƒéš†è¿‡æ»¤å™¨ | æ•°æ®æŒ–æ˜ | Stanford University</a></li>
<li><a href="http://billmill.org/bloomfilter-tutorial/" target="_blank" rel="noopener">æ•™ç¨‹</a></li>
<li><a href="http://blog.michaelschmatz.com/2016/04/11/how-to-write-a-bloom-filter-cpp/" target="_blank" rel="noopener">å¦‚ä½•å†™ä¸€ä¸ªå¸ƒéš†è¿‡æ»¤å™¨åº”ç”¨</a></li>
</ul>
</li>
<li><h3 id="van-Emde-Boas-æ ‘"><a href="#van-Emde-Boas-æ ‘" class="headerlink" title="van Emde Boas æ ‘"></a>van Emde Boas æ ‘</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=hmReJCupbNU&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=6" target="_blank" rel="noopener">äº‰è®º: van Emde Boas æ ‘ (è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-046j-design-and-analysis-of-algorithms-spring-2012/lecture-notes/MIT6_046JS12_lec15.pdf" target="_blank" rel="noopener">MITè¯¾å ‚ç¬”è®°</a></li>
</ul>
</li>
<li><h3 id="æ›´æ·±å…¥çš„æ•°æ®ç»“æ„"><a href="#æ›´æ·±å…¥çš„æ•°æ®ç»“æ„" class="headerlink" title="æ›´æ·±å…¥çš„æ•°æ®ç»“æ„"></a>æ›´æ·±å…¥çš„æ•°æ®ç»“æ„</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/zksIj9O8_jc?list=PL4BBB74C7D2A1049C&amp;t=950" target="_blank" rel="noopener">CS 61B ç¬¬ 39 è¯¾: æ›´æ·±å…¥çš„æ•°æ®ç»“æ„</a></li>
</ul>
</li>
<li><h3 id="è·³è¡¨"><a href="#è·³è¡¨" class="headerlink" title="è·³è¡¨"></a>è·³è¡¨</h3><ul>
<li>â€œæœ‰ä¸€ç§éå¸¸è¿·å¹»çš„æ•°æ®ç±»å‹â€ - Skiena</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=2g9OSRKJuzM&amp;index=10&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp" target="_blank" rel="noopener">éšæœºåŒ–: è·³è¡¨ (è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/Skip_list" target="_blank" rel="noopener">æ›´ç”ŸåŠ¨è¯¦ç»†çš„è§£é‡Š</a></li>
</ul>
</li>
<li><h3 id="ç½‘ç»œæµ"><a href="#ç½‘ç»œæµ" class="headerlink" title="ç½‘ç»œæµ"></a>ç½‘ç»œæµ</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=v1VgJmkEJW0" target="_blank" rel="noopener">5åˆ†é’Ÿç®€æFord-Fulkerson (è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=v1VgJmkEJW0" target="_blank" rel="noopener">Ford-Fulkerson ç®—æ³• (è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=2vhN4Ice5jI" target="_blank" rel="noopener">ç½‘ç»œæµ (è§†é¢‘)</a></li>
</ul>
</li>
<li><h3 id="ä¸ç›¸äº¤é›†-amp-è”åˆæŸ¥æ‰¾"><a href="#ä¸ç›¸äº¤é›†-amp-è”åˆæŸ¥æ‰¾" class="headerlink" title="ä¸ç›¸äº¤é›† &amp; è”åˆæŸ¥æ‰¾"></a>ä¸ç›¸äº¤é›† &amp; è”åˆæŸ¥æ‰¾</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/Disjoint-set_data_structure" target="_blank" rel="noopener">ä¸ç›¸äº¤é›†</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=MAEGXTwmUsI&amp;list=PL-XXv-cvA_iAlnI-BQr9hjqADPBtujFJd&amp;index=21" target="_blank" rel="noopener">UCB 61B - ä¸ç›¸äº¤é›†; æ’åº &amp; é€‰æ‹©(è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> Coursera (not needed since the above video explains it great):<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/JssSY/overview" target="_blank" rel="noopener">æ¦‚è§ˆ</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/EM5D0/naive-implementations" target="_blank" rel="noopener">åˆçº§å®è·µ</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/Mxu0w/trees" target="_blank" rel="noopener">æ ‘çŠ¶ç»“æ„</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/qb4c2/union-by-rank" target="_blank" rel="noopener">åˆå¹¶æ ‘çŠ¶ç»“æ„</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/Q9CVI/path-compression" target="_blank" rel="noopener">è·¯å¾„å‹ç¼©</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/GQQLN/analysis-optional" target="_blank" rel="noopener">åˆ†æé€‰é¡¹</a></li>
</ul>
</li>
</ul>
</li>
<li><h3 id="å¿«é€Ÿå¤„ç†æ•°å­¦"><a href="#å¿«é€Ÿå¤„ç†æ•°å­¦" class="headerlink" title="å¿«é€Ÿå¤„ç†æ•°å­¦"></a>å¿«é€Ÿå¤„ç†æ•°å­¦</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=eCaXlAaN2uE&amp;index=11&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">æ•´æ•°è¿ç®—, Karatsuba ä¹˜æ³• (è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ru7mWZJlRQg" target="_blank" rel="noopener">ä¸­å›½å‰©ä½™å®šç† (åœ¨å¯†ç å­¦ä¸­çš„ä½¿ç”¨) (è§†é¢‘)</a></li>
</ul>
</li>
<li><h3 id="æ ‘å †-Treap"><a href="#æ ‘å †-Treap" class="headerlink" title="æ ‘å † (Treap)"></a>æ ‘å † (Treap)</h3><ul>
<li>ä¸€ä¸ªäºŒå‰æœç´¢æ ‘å’Œä¸€ä¸ªå †çš„ç»„åˆ</li>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/Treap" target="_blank" rel="noopener">æ ‘å †</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=6podLUYinH8" target="_blank" rel="noopener">æ•°æ®ç»“æ„ï¼šæ ‘å †çš„è®²è§£(video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.cs.cmu.edu/~scandal/papers/treaps-spaa98.pdf" target="_blank" rel="noopener">é›†åˆæ“ä½œçš„åº”ç”¨(Applications in set operations)</a></li>
</ul>
</li>
<li><h3 id="çº¿æ€§è§„åˆ’ï¼ˆLinear-Programmingï¼‰ï¼ˆè§†é¢‘ï¼‰"><a href="#çº¿æ€§è§„åˆ’ï¼ˆLinear-Programmingï¼‰ï¼ˆè§†é¢‘ï¼‰" class="headerlink" title="çº¿æ€§è§„åˆ’ï¼ˆLinear Programmingï¼‰ï¼ˆè§†é¢‘ï¼‰"></a>çº¿æ€§è§„åˆ’ï¼ˆLinear Programmingï¼‰ï¼ˆè§†é¢‘ï¼‰</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=M4K6HYLHREQ" target="_blank" rel="noopener">çº¿æ€§è§„åˆ’</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=2ACJ9ewUC6U" target="_blank" rel="noopener">å¯»æ‰¾æœ€å°æˆæœ¬</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=8AA_81xI3ik" target="_blank" rel="noopener">å¯»æ‰¾æœ€å¤§å€¼</a></li>
</ul>
</li>
<li><h3 id="å‡ ä½•ï¼šå‡¸åŒ…ï¼ˆGeometry-Convex-hullï¼‰ï¼ˆè§†é¢‘ï¼‰"><a href="#å‡ ä½•ï¼šå‡¸åŒ…ï¼ˆGeometry-Convex-hullï¼‰ï¼ˆè§†é¢‘ï¼‰" class="headerlink" title="å‡ ä½•ï¼šå‡¸åŒ…ï¼ˆGeometry, Convex hullï¼‰ï¼ˆè§†é¢‘ï¼‰"></a>å‡ ä½•ï¼šå‡¸åŒ…ï¼ˆGeometry, Convex hullï¼‰ï¼ˆè§†é¢‘ï¼‰</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/XIAQRlNkJAw?list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;t=3164" target="_blank" rel="noopener">Graph Alg. IV: å‡ ä½•ç®—æ³•ä»‹ç» - ç¬¬ 9 è¯¾</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=J5aJEcOr6Eo&amp;index=10&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm" target="_blank" rel="noopener">Graham &amp; Jarvis: å‡ ä½•ç®—æ³• - ç¬¬ 10 è¯¾</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=EzeYI7p9MjU&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=2" target="_blank" rel="noopener">Divide &amp; Conquer: å‡¸åŒ…, ä¸­å€¼æŸ¥æ‰¾</a></li>
</ul>
</li>
<li><h3 id="ç¦»æ•£æ•°å­¦"><a href="#ç¦»æ•£æ•°å­¦" class="headerlink" title="ç¦»æ•£æ•°å­¦"></a>ç¦»æ•£æ•°å­¦</h3><ul>
<li>æŸ¥çœ‹ä¸‹é¢çš„è§†é¢‘ï¼š(è¿™é‡Œæ²¡çœ‹åˆ°è§†é¢‘= =ï¼‰</li>
</ul>
</li>
<li><h3 id="æœºå™¨å­¦ä¹ ï¼ˆMachine-Learningï¼‰"><a href="#æœºå™¨å­¦ä¹ ï¼ˆMachine-Learningï¼‰" class="headerlink" title="æœºå™¨å­¦ä¹ ï¼ˆMachine Learningï¼‰"></a>æœºå™¨å­¦ä¹ ï¼ˆMachine Learningï¼‰</h3><ul>
<li><input disabled="" type="checkbox"> ä¸ºä»€ä¹ˆå­¦ä¹ æœºå™¨å­¦ä¹ ï¼Ÿ<ul>
<li><input disabled="" type="checkbox"> <a href="https://backchannel.com/how-google-is-remaking-itself-as-a-machine-learning-first-company-ada63defcb70" target="_blank" rel="noopener">è°·æ­Œå¦‚ä½•å°†è‡ªå·±æ”¹é€ æˆä¸€å®¶ã€Œæœºå™¨å­¦ä¹ ä¼˜å…ˆã€å…¬å¸ï¼Ÿ</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=QSaZGT4-6EY" target="_blank" rel="noopener">æ™ºèƒ½è®¡ç®—æœºç³»ç»Ÿçš„å¤§è§„æ¨¡æ·±åº¦å­¦ä¹  (è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=X769cyzBNVw" target="_blank" rel="noopener">Peter Norvigï¼šæ·±åº¦å­¦ä¹ å’Œç†è§£ä¸è½¯ä»¶å·¥ç¨‹å’ŒéªŒè¯çš„å¯¹æ¯”</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Ja2hxBAwG_0" target="_blank" rel="noopener">è°·æ­Œäº‘æœºå™¨å­¦ä¹ å·¥å…·ï¼ˆè§†é¢‘ï¼‰</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/playlist?list=PLOU2XLYxmsIIuiBfYad6rFYQU_jL2ryal" target="_blank" rel="noopener">è°·æ­Œå¼€å‘è€…æœºå™¨å­¦ä¹ æ¸…å• (Scikit Learn å’Œ Tensorflow) (è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=oZikw5k_2FM" target="_blank" rel="noopener">Tensorflow (è§†é¢‘)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.tensorflow.org/versions/r0.11/tutorials/index.html" target="_blank" rel="noopener">Tensorflow æ•™ç¨‹</a></li>
<li><input disabled="" type="checkbox"> <a href="http://www.analyticsvidhya.com/blog/2016/04/neural-networks-python-theano/" target="_blank" rel="noopener">Python å®ç°ç¥ç»ç½‘ç»œå®ä¾‹æ•™ç¨‹ï¼ˆä½¿ç”¨ Theanoï¼‰</a></li>
<li>è¯¾ç¨‹:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/machine-learning" target="_blank" rel="noopener">å¾ˆæ£’çš„åˆçº§è¯¾ç¨‹ï¼šæœºå™¨å­¦ä¹ </a><pre><code>- [è§†é¢‘æ•™ç¨‹](https://www.youtube.com/playlist?list=PLZ9qNFMHZ-A4rycgrgOYma6zxF4BZGGPW)
- çœ‹ç¬¬ 12-18 é›†å¤ä¹ çº¿æ€§ä»£æ•°ï¼ˆç¬¬ 14 é›†å’Œç¬¬ 15 é›†æ˜¯é‡å¤çš„ï¼‰</code></pre></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/neural-networks" target="_blank" rel="noopener">æœºå™¨å­¦ä¹ ä¸­çš„ç¥ç»ç½‘ç»œ</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.udacity.com/course/deep-learning--ud730" target="_blank" rel="noopener">Google æ·±åº¦å­¦ä¹ å¾®å­¦ä½</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.udacity.com/course/machine-learning-engineer-nanodegree-by-google--nd009" target="_blank" rel="noopener">Google/Kaggle æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆå¾®å­¦ä½</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.udacity.com/drive" target="_blank" rel="noopener">æ— äººé©¾é©¶å·¥ç¨‹å¸ˆå¾®å­¦ä½</a></li>
<li><input disabled="" type="checkbox"> <a href="http://www.thisismetis.com/explore-data-science" target="_blank" rel="noopener">Metis åœ¨çº¿è¯¾ç¨‹ (ä¸¤ä¸ªæœˆ 99 ç¾å…ƒ)</a></li>
</ul>
</li>
<li>èµ„æº:<ul>
<li>ä¹¦ç±: Data Science from Scratch: First Principles with Python: <a href="https://www.amazon.com/Data-Science-Scratch-Principles-Python/dp/149190142X" target="_blank" rel="noopener">https://www.amazon.com/Data-Science-Scratch-Principles-Python/dp/149190142X</a></li>
<li>ç½‘ç«™: Data School: <a href="http://www.dataschool.io/" target="_blank" rel="noopener">http://www.dataschool.io/</a></li>
</ul>
</li>
</ul>
</li>
<li><h3 id="Go-è¯­è¨€"><a href="#Go-è¯­è¨€" class="headerlink" title="Go è¯­è¨€"></a>Go è¯­è¨€</h3><ul>
<li><input disabled="" type="checkbox"> è§†é¢‘:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=FTl0tl9BGdc" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆå­¦ä¹  Go è¯­è¨€ï¼Ÿ</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=CF9S4QZuV30" target="_blank" rel="noopener">Go è¯­è¨€ç¼–ç¨‹</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ytEkHepK08c" target="_blank" rel="noopener">Go è¯­è¨€ä¹‹æ—…</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> ä¹¦ç±:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.golang-book.com/books/intro" target="_blank" rel="noopener">Go è¯­è¨€ç¼–ç¨‹å…¥é—¨ (å…è´¹åœ¨çº¿é˜…è¯»)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.amazon.com/Programming-Language-Addison-Wesley-Professional-Computing/dp/0134190440" target="_blank" rel="noopener">Go è¯­è¨€åœ£ç» (Donovan &amp; Kernighan)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.golang-book.com/guides/bootcamp" target="_blank" rel="noopener">Go è¯­è¨€æ–°æ‰‹è®­ç»ƒè¥</a></li>
</ul>
</li>
</ul>
<p>â€“</p>
<h2 id="ä¸€äº›ä¸»é¢˜çš„é¢å¤–å†…å®¹"><a href="#ä¸€äº›ä¸»é¢˜çš„é¢å¤–å†…å®¹" class="headerlink" title="ä¸€äº›ä¸»é¢˜çš„é¢å¤–å†…å®¹"></a>ä¸€äº›ä¸»é¢˜çš„é¢å¤–å†…å®¹</h2><pre><code>æˆ‘ä¸ºå‰é¢æåˆ°çš„æŸäº›ä¸»é¢˜å¢åŠ äº†ä¸€äº›é¢å¤–çš„å†…å®¹ï¼Œä¹‹æ‰€ä»¥æ²¡æœ‰ç›´æ¥æ·»åŠ åˆ°å‰é¢ï¼Œæ˜¯å› ä¸ºè¿™æ ·å¾ˆå®¹æ˜“å¯¼è‡´æŸä¸ªä¸»é¢˜å†…å®¹è¿‡å¤šã€‚æ¯•ç«Ÿä½ æƒ³åœ¨æœ¬ä¸–çºªæ‰¾åˆ°ä¸€ä»½å·¥ä½œï¼Œå¯¹å§ï¼Ÿ</code></pre><ul>
<li><input disabled="" type="checkbox"> <p><strong>åŠ¨æ€è§„åˆ’çš„æ›´å¤šå†…å®¹</strong> (è§†é¢‘)</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=OQ5jsbhAv_M&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=19" target="_blank" rel="noopener">6.006: åŠ¨æ€è§„åˆ’ I: æ–æ³¢é‚£å¥‘æ•°åˆ—, æœ€çŸ­è·¯å¾„</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ENyox7kNKeY&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=20" target="_blank" rel="noopener">6.006: åŠ¨æ€è§„åˆ’ II: æ–‡æœ¬åŒ¹é…, äºŒåä¸€ç‚¹/é»‘æ°å…‹</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ocZMDMZwhCY&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=21" target="_blank" rel="noopener">6.006: åŠ¨æ€è§„åˆ’ III: æœ€ä¼˜åŠ æ‹¬å·æ–¹å¼, æœ€å°ç¼–è¾‘è·ç¦», èƒŒåŒ…é—®é¢˜</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=tp4_UXaVyx8&amp;index=22&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">6.006: åŠ¨æ€è§„åˆ’ IV: å‰ä»–æŒ‡æ³•ï¼Œæ‹“æ‰‘ï¼Œè¶…çº§é©¬é‡Œå¥¥.</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Tw1k46ywN6E&amp;index=14&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp" target="_blank" rel="noopener">6.046: åŠ¨æ€è§„åˆ’: åŠ¨æ€è§„åˆ’è¿›é˜¶</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=NzgFUwOaoIw&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=15" target="_blank" rel="noopener">6.046: åŠ¨æ€è§„åˆ’: æ‰€æœ‰ç‚¹å¯¹æœ€çŸ­è·¯å¾„</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=krZI60lKPek&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=12" target="_blank" rel="noopener">6.046: åŠ¨æ€è§„åˆ’: æ›´å¤šç¤ºä¾‹</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><strong>å›¾å½¢å¤„ç†è¿›é˜¶</strong> (è§†é¢‘)</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=mUBmcbbJNf4&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=27" target="_blank" rel="noopener">å¼‚æ­¥åˆ†å¸ƒå¼ç®—æ³•: å¯¹ç§°æ€§ç ´ç¼ºï¼Œæœ€å°ç”Ÿæˆæ ‘</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=kQ-UQAzcnzA&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=28" target="_blank" rel="noopener">å¼‚æ­¥åˆ†å¸ƒå¼ç®—æ³•: æœ€å°ç”Ÿæˆæ ‘</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>MIT <strong>æ¦‚ç‡è®º</strong> (mathy, and go slowly, which is good for mathy things) (è§†é¢‘):</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=SmFwFdESMHI&amp;index=18&amp;list=PLB7540DEDD482705B" target="_blank" rel="noopener">MIT 6.042J - æ¦‚ç‡è®ºæ¦‚è¿°</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=E6FbvM-FGZ8&amp;index=19&amp;list=PLB7540DEDD482705B" target="_blank" rel="noopener">MIT 6.042J - æ¡ä»¶æ¦‚ç‡ Probability</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=l1BCv3qqW4A&amp;index=20&amp;list=PLB7540DEDD482705B" target="_blank" rel="noopener">MIT 6.042J - ç‹¬ç«‹</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=MOfhhFaQdjw&amp;list=PLB7540DEDD482705B&amp;index=21" target="_blank" rel="noopener">MIT 6.042J - éšæœºå˜é‡</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=gGlMSe7uEkA&amp;index=22&amp;list=PLB7540DEDD482705B" target="_blank" rel="noopener">MIT 6.042J - æœŸæœ› I</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=oI9fMUqgfxY&amp;index=23&amp;list=PLB7540DEDD482705B" target="_blank" rel="noopener">MIT 6.042J - æœŸæœ› II</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=q4mwO2qS2z4&amp;index=24&amp;list=PLB7540DEDD482705B" target="_blank" rel="noopener">MIT 6.042J - å¤§åå·®</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=56iFMY8QW2k&amp;list=PLB7540DEDD482705B&amp;index=25" target="_blank" rel="noopener">MIT 6.042J - éšæœºæ¸¸èµ°</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=oDniZCmNmNw&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=19" target="_blank" rel="noopener">Simonson: è¿‘ä¼¼ç®—æ³• (è§†é¢‘)</a></p>
</li>
</ul>
<h2 id="è§†é¢‘ç³»åˆ—"><a href="#è§†é¢‘ç³»åˆ—" class="headerlink" title="è§†é¢‘ç³»åˆ—"></a>è§†é¢‘ç³»åˆ—</h2><p> åä¸‹æ¥äº«å—ä¸€ä¸‹å§ã€‚â€netflix and skillâ€ :P</p>
<ul>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/playlist?list=PLrmLmBdmIlpsHaNTPP_jHHDx_os9ItYXr" target="_blank" rel="noopener">ä¸ªäººçš„åŠ¨æ€è§„åˆ’é—®é¢˜åˆ—è¡¨ (éƒ½æ˜¯çŸ­è§†é¢‘å“Ÿ)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/playlist?list=PL038BE01D3BAEFDB0" target="_blank" rel="noopener">x86 æ¶æ„ï¼Œæ±‡ç¼–ï¼Œåº”ç”¨ç¨‹åº (11 ä¸ªè§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/playlist?list=PLE7DDD91010BC51F8" target="_blank" rel="noopener">MIT 18.06 çº¿æ€§ä»£æ•°ï¼Œ2005 å¹´æ˜¥å­£ (35 ä¸ªè§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/playlist?list=PL3B08AE665AB9002A" target="_blank" rel="noopener">ç»å¦™çš„ MIT å¾®ç§¯åˆ†ï¼šå•å˜é‡å¾®ç§¯åˆ†</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/playlist?list=PL-XXv-cvA_iD8wQm8U0gG_Z1uHjImKXFy" target="_blank" rel="noopener">è®¡ç®—æœºç§‘å­¦ 70, 001 - 2015 å¹´æ˜¥å­£ - ç¦»æ•£æ•°å­¦å’Œæ¦‚ç‡ç†è®º</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/playlist?list=PL3o9D4Dl2FJ9q0_gtFXPh_H4POI5dK0yG" target="_blank" rel="noopener">ç¦»æ•£æ•°å­¦ (19 ä¸ªè§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p>CSE373 - ç®—æ³•åˆ†æ (25 ä¸ªè§†é¢‘)</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=ZFjhkohHdAA&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;index=1" target="_blank" rel="noopener">Skiena çš„ç®—æ³•è®¾è®¡æ‰‹å†Œè®²åº§</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=mFPmKGIrQs4&amp;list=PL-XXv-cvA_iAlnI-BQr9hjqADPBtujFJd" target="_blank" rel="noopener">UC Berkeley 61B (2014 å¹´æ˜¥å­£): æ•°æ®ç»“æ„ (25 ä¸ªè§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/playlist?list=PL4BBB74C7D2A1049C" target="_blank" rel="noopener">UC Berkeley 61B (2006 å¹´ç§‹å­£): æ•°æ®ç»“æ„ (39 ä¸ªè§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=gJJeUFyuvvg&amp;list=PL-XXv-cvA_iCl2-D-FS5mk0jFF6cYSJs_" target="_blank" rel="noopener">UC Berkeley 61C: è®¡ç®—æœºç»“æ„ (26 ä¸ªè§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/playlist?list=PLJ9pm_Rc9HesnkwKlal_buSIHA-jTZMpO" target="_blank" rel="noopener">OOSE: ä½¿ç”¨ UML å’Œ Java è¿›è¡Œè½¯ä»¶å¼€å‘ (21 ä¸ªè§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=UH0QYvtP7Rk&amp;index=20&amp;list=PLkFD6_40KJIwEiwQx1dACXwh-2Fuo32qr" target="_blank" rel="noopener">UC Berkeley CS 152: è®¡ç®—æœºç»“æ„å’Œå·¥ç¨‹ (20 ä¸ªè§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/playlist?list=PLrRW1w6CGAcXbMtDFj205vALOGmiRc82-" target="_blank" rel="noopener">MIT 6.004: è®¡ç®—ç»“æ„ (49 è§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/playlist?list=PL5PHm2jkkXmi5CxxI7b3JCL1TWybTDtKq" target="_blank" rel="noopener">å¡å…§åŸºæ¢…éš†å¤§å­¦ - è®¡ç®—æœºæ¶æ„è®²åº§ (39 ä¸ªè§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=HtSuA80QTyo&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;nohtml5=False" target="_blank" rel="noopener">MIT 6.006: ç®—æ³•ä»‹ç» (47 ä¸ªè§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=zm2VP0kHl1M&amp;list=PL6535748F59DCA484" target="_blank" rel="noopener">MIT 6.033: è®¡ç®—æœºç³»ç»Ÿå·¥ç¨‹ (22 ä¸ªè§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/playlist?list=PLUl4u3cNGP63gFHB6xb-kVBiQHYe_4hSi" target="_blank" rel="noopener">MIT 6.034 äººå·¥æ™ºèƒ½, 2010 å¹´ç§‹å­£ (30 ä¸ªè§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=L3LMbpZIKhQ&amp;list=PLB7540DEDD482705B" target="_blank" rel="noopener">MIT 6.042J: è®¡ç®—æœºç§‘å­¦æ•°å­¦, 2010 å¹´ç§‹å­£ (25 ä¸ªè§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=2P-yW7LQr08&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp" target="_blank" rel="noopener">MIT 6.046: ç®—æ³•è®¾è®¡ä¸åˆ†æ (34 ä¸ªè§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=phxsQrZQupo&amp;list=PL_2Bwul6T-A7OldmhGODImZL8KEVE38X7" target="_blank" rel="noopener">MIT 6.050J: ä¿¡æ¯å’Œç†µ, 2008 å¹´æ˜¥å­£ (19 ä¸ªè§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=T0yzrZL1py0&amp;list=PLUl4u3cNGP61hsJNdULdudlRL493b-XZf&amp;index=1" target="_blank" rel="noopener">MIT 6.851: é«˜ç­‰æ•°æ®ç»“æ„ (22 ä¸ªè§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/playlist?list=PL6ogFv-ieghdoGKGg2Bik3Gl1glBTEu8c" target="_blank" rel="noopener">MIT 6.854: é«˜ç­‰ç®—æ³•, 2016 å¹´æ˜¥å­£ (24 ä¸ªè§†é¢‘)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=GqmQg-cszw4&amp;index=1&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">MIT 6.858è®¡ç®—æœºç³»ç»Ÿå®‰å…¨, 2014 å¹´ç§‹å­£</a></p>
</li>
<li><input disabled="" type="checkbox"> <p>æ–¯å¦ç¦: ç¼–ç¨‹èŒƒä¾‹ (17 ä¸ªè§†é¢‘)</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=jTSvthW34GU&amp;list=PLC0B8B318B7394B6F&amp;nohtml5=False" target="_blank" rel="noopener">C å’Œ C++ è¯¾ç¨‹</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=2aHkqB2-46k&amp;feature=youtu.be" target="_blank" rel="noopener">å¯†ç å­¦å¯¼è®º</a></p>
<ul>
<li><a href="https://www.youtube.com/channel/UC1usFRN4LCMcfIV7UjHNuQg" target="_blank" rel="noopener">æœ¬ç³»åˆ—æ›´å¤šå†…å®¹ (ä¸åˆ†å…ˆåé¡ºåº)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/playlist?list=PLLssT5z_DsK9JDLcT8T62VtzwyW9LNepV" target="_blank" rel="noopener">å¤§æ•°æ® - æ–¯å¦ç¦å¤§å­¦ (94 ä¸ªè§†é¢‘)</a></p>
</li>
</ul>
<h2 id="è®¡ç®—æœºç§‘å­¦è¯¾ç¨‹"><a href="#è®¡ç®—æœºç§‘å­¦è¯¾ç¨‹" class="headerlink" title="è®¡ç®—æœºç§‘å­¦è¯¾ç¨‹"></a>è®¡ç®—æœºç§‘å­¦è¯¾ç¨‹</h2><ul>
<li><a href="https://github.com/open-source-society/computer-science" target="_blank" rel="noopener"> åœ¨çº¿ CS è¯¾ç¨‹ç›®å½• </a></li>
<li><a href="https://github.com/prakhar1989/awesome-courses" target="_blank" rel="noopener">CS è¯¾ç¨‹ç›®å½• (ä¸€äº›æ˜¯åœ¨çº¿è®²åº§)</a></li>
</ul>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Coding Interview University (è‹±æ–‡å¯¹ç…§ç‰ˆæœ¬)</title>
    <url>/2020/03/27/2020-03-27-Coding%20Interview%20University-Readme/</url>
    <content><![CDATA[<h1 id="Coding-Interview-University"><a href="#Coding-Interview-University" class="headerlink" title="Coding Interview University"></a>Coding Interview University</h1><blockquote>
<p>I originally created this as a short to-do list of study topics for becoming a software engineer,<br>but it grew to the large list you see today. After going through this study plan, <a href="https://startupnextdoor.com/ive-been-acquired-by-amazon/?src=ciu" target="_blank" rel="noopener">I got hired<br>as a Software Development Engineer at Amazon</a>!<br>You probably wonâ€™t have to study as much as I did. Anyway, everything you need is here.</p>
<p>I studied about 8-12 hours a day, for several months. This is my story: <a href="https://medium.freecodecamp.org/why-i-studied-full-time-for-8-months-for-a-google-interview-cc662ce9bb13" target="_blank" rel="noopener">Why I studied full-time for 8 months for a Google interview</a></p>
<p>The items listed here will prepare you well for a technical interview at just about any software company,<br>including the giants: Amazon, Facebook, Google, and Microsoft.</p>
<p><em>Best of luck to you!</em></p>
</blockquote>
<details>
<summary>Translations:</summary>

<ul>
<li><a href="translations/README-cn.md">ä¸­æ–‡ç‰ˆæœ¬</a></li>
<li><a href="translations/README-vi.md">Tiáº¿ng Viá»‡t - Vietnamese</a></li>
<li><a href="translations/README-es.md">EspaÃ±ol</a></li>
<li><a href="translations/README-ptbr.md">PortuguÃªs Brasileiro</a></li>
</ul>
</details>

<details>
<summary>Translations in progress:</summary>

<ul>
<li><a href="https://github.com/jwasham/coding-interview-university/issues/81" target="_blank" rel="noopener">à¤¹à¤¿à¤¨à¥à¤¦à¥€</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/issues/82" target="_blank" rel="noopener">×¢×‘×¨×™×ª</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/issues/101" target="_blank" rel="noopener">Bahasa Indonesia</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/issues/98" target="_blank" rel="noopener">Arabic</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/issues/90" target="_blank" rel="noopener">Turkish</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/issues/89" target="_blank" rel="noopener">French</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/issues/87" target="_blank" rel="noopener">Russian</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/issues/106" target="_blank" rel="noopener">Ukrainian</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/issues/118" target="_blank" rel="noopener">Korean(í•œêµ­ì–´)</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/issues/117" target="_blank" rel="noopener">Telugu</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/issues/122" target="_blank" rel="noopener">Polish</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/issues/140" target="_blank" rel="noopener">Urdu</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/issues/156" target="_blank" rel="noopener">Thai</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/issues/166" target="_blank" rel="noopener">Greek</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/issues/170" target="_blank" rel="noopener">Italian</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/issues/239" target="_blank" rel="noopener">Malayalam</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/issues/257" target="_blank" rel="noopener">Japanese (æ—¥æœ¬èª)</a></li>
</ul>
</details>

<h2 id="What-is-it"><a href="#What-is-it" class="headerlink" title="What is it?"></a>What is it?</h2><p>This is my multi-month study plan for going from web developer (self-taught, no CS degree) to software engineer for a large company.</p>
<p><img src="https://d3j2pkmjtin6ou.cloudfront.net/coding-at-the-whiteboard-silicon-valley.png" alt="Coding at the whiteboard - from HBO's Silicon Valley"></p>
<p>This is meant for <strong>new software engineers</strong> or those switching from<br>software/web development to software engineering (where computer science knowledge is required). If you have<br>many years of experience and are claiming many years of software engineering experience, expect a harder interview.</p>
<p>If you have many years of software/web development experience, note that large software companies like Google, Amazon,<br>Facebook and Microsoft view software engineering as different from software/web development, and they require computer science knowledge.</p>
<p>If you want to be a reliability engineer or operations engineer, study more from the optional list (networking, security).</p>
<hr>
<h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><ul>
<li><a href="#what-is-it">What is it?</a></li>
<li><a href="#why-use-it">Why use it?</a></li>
<li><a href="#how-to-use-it">How to use it</a></li>
<li><a href="#dont-feel-you-arent-smart-enough">Donâ€™t feel you arenâ€™t smart enough</a></li>
<li><a href="#about-video-resources">About Video Resources</a></li>
<li><a href="#interview-process--general-interview-prep">Interview Process &amp; General Interview Prep</a></li>
<li><a href="#pick-one-language-for-the-interview">Pick One Language for the Interview</a></li>
<li><a href="#book-list">Book List</a></li>
<li><a href="#before-you-get-started">Before you Get Started</a></li>
<li><a href="#what-you-wont-see-covered">What you Wonâ€™t See Covered</a></li>
<li><a href="#prerequisite-knowledge">Prerequisite Knowledge</a></li>
<li><a href="#the-daily-plan">The Daily Plan</a></li>
<li><a href="#algorithmic-complexity--big-o--asymptotic-analysis">Algorithmic complexity / Big-O / Asymptotic analysis</a></li>
<li><a href="#data-structures">Data Structures</a><ul>
<li><a href="#arrays">Arrays</a></li>
<li><a href="#linked-lists">Linked Lists</a></li>
<li><a href="#stack">Stack</a></li>
<li><a href="#queue">Queue</a></li>
<li><a href="#hash-table">Hash table</a></li>
</ul>
</li>
<li><a href="#more-knowledge">More Knowledge</a><ul>
<li><a href="#binary-search">Binary search</a></li>
<li><a href="#bitwise-operations">Bitwise operations</a></li>
</ul>
</li>
<li><a href="#trees">Trees</a><ul>
<li><a href="#trees---notes--background">Trees - Notes &amp; Background</a></li>
<li><a href="#binary-search-trees-bsts">Binary search trees: BSTs</a></li>
<li><a href="#heap--priority-queue--binary-heap">Heap / Priority Queue / Binary Heap</a></li>
<li>balanced search trees (general concept, not details)</li>
<li>traversals: preorder, inorder, postorder, BFS, DFS</li>
</ul>
</li>
<li><a href="#sorting">Sorting</a><ul>
<li>selection</li>
<li>insertion</li>
<li>heapsort</li>
<li>quicksort</li>
<li>merge sort</li>
</ul>
</li>
<li><a href="#graphs">Graphs</a><ul>
<li>directed</li>
<li>undirected</li>
<li>adjacency matrix</li>
<li>adjacency list</li>
<li>traversals: BFS, DFS</li>
</ul>
</li>
<li><a href="#even-more-knowledge">Even More Knowledge</a><ul>
<li><a href="#recursion">Recursion</a></li>
<li><a href="#dynamic-programming">Dynamic Programming</a></li>
<li><a href="#object-oriented-programming">Object-Oriented Programming</a></li>
<li><a href="#design-patterns">Design Patterns</a></li>
<li><a href="#combinatorics-n-choose-k--probability">Combinatorics (n choose k) &amp; Probability</a></li>
<li><a href="#np-np-complete-and-approximation-algorithms">NP, NP-Complete and Approximation Algorithms</a></li>
<li><a href="#caches">Caches</a></li>
<li><a href="#processes-and-threads">Processes and Threads</a></li>
<li><a href="#testing">Testing</a></li>
<li><a href="#scheduling">Scheduling</a></li>
<li><a href="#string-searching--manipulations">String searching &amp; manipulations</a></li>
<li><a href="#tries">Tries</a></li>
<li><a href="#floating-point-numbers">Floating Point Numbers</a></li>
<li><a href="#unicode">Unicode</a></li>
<li><a href="#endianness">Endianness</a></li>
<li><a href="#networking">Networking</a></li>
</ul>
</li>
<li><a href="#system-design-scalability-data-handling">System Design, Scalability, Data Handling</a> (if you have 4+ years experience)</li>
<li><a href="#final-review">Final Review</a></li>
<li><a href="#coding-question-practice">Coding Question Practice</a></li>
<li><a href="#coding-exerciseschallenges">Coding exercises/challenges</a></li>
<li><a href="#once-youre-closer-to-the-interview">Once youâ€™re closer to the interview</a></li>
<li><a href="#your-resume">Your Resume</a></li>
<li><a href="#be-thinking-of-for-when-the-interview-comes">Be thinking of for when the interview comes</a></li>
<li><a href="#have-questions-for-the-interviewer">Have questions for the interviewer</a></li>
<li><a href="#once-youve-got-the-job">Once Youâ€™ve Got The Job</a></li>
</ul>
<p>â€”â€”â€”â€”â€”- Everything below this point is optional â€”â€”â€”â€”â€”-</p>
<h2 id="Additional-Resources"><a href="#Additional-Resources" class="headerlink" title="Additional Resources"></a>Additional Resources</h2><ul>
<li><a href="#additional-books">Additional Books</a></li>
<li><a href="#additional-learning">Additional Learning</a><ul>
<li><a href="#compilers">Compilers</a></li>
<li><a href="#emacs-and-vim">Emacs and vi(m)</a></li>
<li><a href="#unix-command-line-tools">Unix command line tools</a></li>
<li><a href="#information-theory-videos">Information theory</a></li>
<li><a href="#parity--hamming-code-videos">Parity &amp; Hamming Code</a></li>
<li><a href="#entropy">Entropy</a></li>
<li><a href="#cryptography">Cryptography</a></li>
<li><a href="#compression">Compression</a></li>
<li><a href="#computer-security">Computer Security</a></li>
<li><a href="#garbage-collection">Garbage collection</a></li>
<li><a href="#parallel-programming">Parallel Programming</a></li>
<li><a href="#messaging-serialization-and-queueing-systems">Messaging, Serialization, and Queueing Systems</a></li>
<li><a href="#a">A*</a></li>
<li><a href="#fast-fourier-transform">Fast Fourier Transform</a></li>
<li><a href="#bloom-filter">Bloom Filter</a></li>
<li><a href="#hyperloglog">HyperLogLog</a></li>
<li><a href="#locality-sensitive-hashing">Locality-Sensitive Hashing</a></li>
<li><a href="#van-emde-boas-trees">van Emde Boas Trees</a></li>
<li><a href="#augmented-data-structures">Augmented Data Structures</a></li>
<li><a href="#balanced-search-trees">Balanced search trees</a><ul>
<li>AVL trees</li>
<li>Splay trees</li>
<li>Red/black trees</li>
<li>2-3 search trees</li>
<li>2-3-4 Trees (aka 2-4 trees)</li>
<li>N-ary (K-ary, M-ary) trees</li>
<li>B-Trees</li>
</ul>
</li>
<li><a href="#k-d-trees">k-D Trees</a></li>
<li><a href="#skip-lists">Skip lists</a></li>
<li><a href="#network-flows">Network Flows</a></li>
<li><a href="#disjoint-sets--union-find">Disjoint Sets &amp; Union Find</a></li>
<li><a href="#math-for-fast-processing">Math for Fast Processing</a></li>
<li><a href="#treap">Treap</a></li>
<li><a href="#linear-programming-videos">Linear Programming</a></li>
<li><a href="#geometry-convex-hull-videos">Geometry, Convex hull</a></li>
<li><a href="#discrete-math">Discrete math</a></li>
<li><a href="#machine-learning">Machine Learning</a></li>
</ul>
</li>
<li><a href="#additional-detail-on-some-subjects">Additional Detail on Some Subjects</a></li>
<li><a href="#video-series">Video Series</a></li>
<li><a href="#computer-science-courses">Computer Science Courses</a></li>
<li><a href="#papers">Papers</a></li>
</ul>
<hr>
<h2 id="Why-use-it"><a href="#Why-use-it" class="headerlink" title="Why use it?"></a>Why use it?</h2><p>When I started this project, I didnâ€™t know a stack from a heap, didnâ€™t know Big-O anything, anything about trees, or how to<br>traverse a graph. If I had to code a sorting algorithm, I can tell ya it wouldnâ€™t have been very good.<br>Every data structure Iâ€™ve ever used was built into the language, and I didnâ€™t know how they worked<br>under the hood at all. Iâ€™ve never had to manage memory unless a process I was running would give an â€œout of<br>memoryâ€ error, and then Iâ€™d have to find a workaround. Iâ€™ve used a few multidimensional arrays in my life and<br>thousands of associative arrays, but Iâ€™ve never created data structures from scratch.</p>
<p>Itâ€™s a long plan. It may take you months. If you are familiar with a lot of this already it will take you a lot less time.</p>
<h2 id="How-to-use-it"><a href="#How-to-use-it" class="headerlink" title="How to use it"></a>How to use it</h2><p>Everything below is an outline, and you should tackle the items in order from top to bottom.</p>
<p>Iâ€™m using Githubâ€™s special markdown flavor, including tasks lists to check progress.</p>
<p><strong>Create a new branch so you can check items like this, just put an x in the brackets: [x]</strong></p>
<pre><code>Fork a branch and follow the commands below</code></pre><p><code>git checkout -b progress</code></p>
<p><code>git remote add jwasham https://github.com/jwasham/coding-interview-university</code></p>
<p><code>git fetch --all</code></p>
<pre><code>Mark all boxes with X after you completed your changes</code></pre><p><code>git add .</code></p>
<p><code>git commit -m "Marked x"</code></p>
<p><code>git rebase jwasham/master</code></p>
<p><code>git push --force</code></p>
<p><a href="https://guides.github.com/features/mastering-markdown/#GitHub-flavored-markdown" target="_blank" rel="noopener">More about Github-flavored markdown</a></p>
<h2 id="Donâ€™t-feel-you-arenâ€™t-smart-enough"><a href="#Donâ€™t-feel-you-arenâ€™t-smart-enough" class="headerlink" title="Donâ€™t feel you arenâ€™t smart enough"></a>Donâ€™t feel you arenâ€™t smart enough</h2><ul>
<li>Successful software engineers are smart, but many have an insecurity that they arenâ€™t smart enough.</li>
<li><a href="https://www.youtube.com/watch?v=0SARbwvhupQ" target="_blank" rel="noopener">The myth of the Genius Programmer</a></li>
<li><a href="https://www.youtube.com/watch?v=1i8ylq4j_EY" target="_blank" rel="noopener">Itâ€™s Dangerous to Go Alone: Battling the Invisible Monsters in Tech</a></li>
</ul>
<h2 id="About-Video-Resources"><a href="#About-Video-Resources" class="headerlink" title="About Video Resources"></a>About Video Resources</h2><p>Some videos are available only by enrolling in a Coursera or EdX class. These are called MOOCs.<br>Sometimes the classes are not in session so you have to wait a couple of months, so you have no access.</p>
<pre><code>I'd appreciate your help to add free and always-available public sources, such as YouTube videos to accompany the online course videos.
I like using university lectures.</code></pre><h2 id="Interview-Process-amp-General-Interview-Prep"><a href="#Interview-Process-amp-General-Interview-Prep" class="headerlink" title="Interview Process &amp; General Interview Prep"></a>Interview Process &amp; General Interview Prep</h2><ul>
<li><input disabled="" type="checkbox"> <a href="https://medium.com/always-be-coding/abc-always-be-coding-d5f8051afce2#.4heg8zvm4" target="_blank" rel="noopener">ABC: Always Be Coding</a></li>
<li><input disabled="" type="checkbox"> <a href="https://medium.com/@dpup/whiteboarding-4df873dbba2e#.hf6jn45g1" target="_blank" rel="noopener">Whiteboarding</a></li>
<li><input disabled="" type="checkbox"> <a href="http://www.coderust.com/blog/2014/04/10/effective-whiteboarding-during-programming-interviews/" target="_blank" rel="noopener">Effective Whiteboarding during Programming Interviews</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=N233T0epWTs" target="_blank" rel="noopener">Demystifying Tech Recruiting</a></li>
<li><input disabled="" type="checkbox"> How to Get a Job at the Big 4:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=YJZCUhxNCv8" target="_blank" rel="noopener">How to Get a Job at the Big 4 - Amazon, Facebook, Google &amp; Microsoft (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Cracking The Coding Interview Set 1:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=rEJzOhC5ZtQ" target="_blank" rel="noopener">Gayle L McDowell - Cracking The Coding Interview (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=aClxtDcdpsQ" target="_blank" rel="noopener">Cracking the Coding Interview with Author Gayle Laakmann McDowell (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Cracking the Facebook Coding Interview<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=wCl9kvQGHPI" target="_blank" rel="noopener">The Approach</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=4UWDyJq8jZg" target="_blank" rel="noopener">Problem Walkthrough</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Prep Course:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.udemy.com/software-engineer-interview-unleashed" target="_blank" rel="noopener">Software Engineer Interview Unleashed (paid course)</a>:<ul>
<li>Learn how to make yourself ready for software engineer interviews from a former Google interviewer.</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.udemy.com/python-for-data-structures-algorithms-and-interviews/" target="_blank" rel="noopener">Python for Data Structures, Algorithms, and Interviews (paid course)</a>:<ul>
<li>A Python centric interview prep course which covers data structures, algorithms, mock interviews and much more.</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.udacity.com/course/data-structures-and-algorithms-in-python--ud513" target="_blank" rel="noopener">Intro to Data Structures and Algorithms using Python (Udacity free course)</a>:<ul>
<li>A free Python centric data structures and algorithms course.</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.udacity.com/course/data-structures-and-algorithms-nanodegree--nd256" target="_blank" rel="noopener">Data Structures and Algorithms Nanodegree! (Udacity paid Nanodegree)</a>:<ul>
<li>Get hands-on practice with over 100 data structures and algorithm exercises and guidance from a dedicated mentor to help prepare you for interviews and on-the-job scenarios.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Pick-One-Language-for-the-Interview"><a href="#Pick-One-Language-for-the-Interview" class="headerlink" title="Pick One Language for the Interview"></a>Pick One Language for the Interview</h2><p>You can use a language you are comfortable in to do the coding part of the interview, but for large companies, these are solid choices:</p>
<ul>
<li>C++</li>
<li>Java</li>
<li>Python</li>
</ul>
<p>You could also use these, but read around first. There may be caveats:</p>
<ul>
<li>JavaScript</li>
<li>Ruby</li>
</ul>
<p>Here is an article I wrote about choosing a language for the interview: <a href="https://startupnextdoor.com/important-pick-one-language-for-the-coding-interview/" target="_blank" rel="noopener">Pick One Language for the Coding Interview</a></p>
<p>You need to be very comfortable in the language and be knowledgeable.</p>
<p>Read more about choices:</p>
<ul>
<li><a href="http://www.byte-by-byte.com/choose-the-right-language-for-your-coding-interview/" target="_blank" rel="noopener">http://www.byte-by-byte.com/choose-the-right-language-for-your-coding-interview/</a></li>
<li><a href="http://blog.codingforinterviews.com/best-programming-language-jobs/" target="_blank" rel="noopener">http://blog.codingforinterviews.com/best-programming-language-jobs/</a></li>
</ul>
<p><a href="programming-language-resources.md">See language resources here</a></p>
<p>Youâ€™ll see some C, C++, and Python learning included below, because Iâ€™m learning. There are a few books involved, see the bottom.</p>
<h2 id="Book-List"><a href="#Book-List" class="headerlink" title="Book List"></a>Book List</h2><p>This is a shorter list than what I used. This is abbreviated to save you time.</p>
<h3 id="Interview-Prep"><a href="#Interview-Prep" class="headerlink" title="Interview Prep"></a>Interview Prep</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.amazon.com/Programming-Interviews-Exposed-Through-Interview/dp/111941847X/" target="_blank" rel="noopener">Programming Interviews Exposed: Coding Your Way Through the Interview, 4th Edition</a><ul>
<li>answers in C++ and Java</li>
<li>this is a good warm-up for Cracking the Coding Interview</li>
<li>not too difficult, most problems may be easier than what youâ€™ll see in an interview (from what Iâ€™ve read)</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://www.amazon.com/Cracking-Coding-Interview-6th-Programming/dp/0984782850/" target="_blank" rel="noopener">Cracking the Coding Interview, 6th Edition</a><ul>
<li>answers in Java</li>
</ul>
</li>
</ul>
<h3 id="If-you-have-tons-of-extra-time"><a href="#If-you-have-tons-of-extra-time" class="headerlink" title="If you have tons of extra time:"></a>If you have tons of extra time:</h3><p>Choose one:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.amazon.com/Elements-Programming-Interviews-Insiders-Guide/dp/1479274836" target="_blank" rel="noopener">Elements of Programming Interviews (C++ version)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.amazon.com/Elements-Programming-Interviews-Python-Insiders/dp/1537713949/" target="_blank" rel="noopener">Elements of Programming Interviews in Python</a></li>
<li><input disabled="" type="checkbox"> Elements of Programming Interviews (Java version)<ul>
<li><a href="https://www.amazon.com/Elements-Programming-Interviews-Java-Insiders/dp/1517435803/" target="_blank" rel="noopener">book</a></li>
<li><a href="https://github.com/gardncl/elements-of-programming-interviews" target="_blank" rel="noopener">Companion Project - Method Stub and Test Cases for Every Problem in the Book</a></li>
</ul>
</li>
</ul>
<h3 id="Language-Specific"><a href="#Language-Specific" class="headerlink" title="Language Specific"></a>Language Specific</h3><p><strong>You need to choose a language for the interview (see above).</strong></p>
<p>Here are my recommendations by language. I donâ€™t have resources for all languages. I welcome additions.</p>
<p>If you read through one of these, you should have all the data structures and algorithms knowledge youâ€™ll need to start doing coding problems.<br><strong>You can skip all the video lectures in this project</strong>, unless youâ€™d like a review.</p>
<p><a href="programming-language-resources.md">Additional language-specific resources here.</a></p>
<h3 id="C"><a href="#C" class="headerlink" title="C++"></a>C++</h3><p>I havenâ€™t read these two, but they are highly rated and written by Sedgewick. Heâ€™s awesome.</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.amazon.com/Algorithms-Parts-1-4-Fundamentals-Structure/dp/0201350882/" target="_blank" rel="noopener">Algorithms in C++, Parts 1-4: Fundamentals, Data Structure, Sorting, Searching</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.amazon.com/Algorithms-Part-Graph-3rd-Pt-5/dp/0201361183/" target="_blank" rel="noopener">Algorithms in C++ Part 5: Graph Algorithms</a></li>
</ul>
<p>If you have a better recommendation for C++, please let me know. Looking for a comprehensive resource.</p>
<h3 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.amazon.com/Algorithms-4th-Robert-Sedgewick/dp/032157351X/" target="_blank" rel="noopener">Algorithms (Sedgewick and Wayne)</a><ul>
<li>videos with book content (and Sedgewick!) on coursera:<ul>
<li><a href="https://www.coursera.org/learn/algorithms-part1" target="_blank" rel="noopener">Algorithms I</a></li>
<li><a href="https://www.coursera.org/learn/algorithms-part2" target="_blank" rel="noopener">Algorithms II</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>OR:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.amazon.com/Data-Structures-Algorithms-Michael-Goodrich/dp/1118771338/" target="_blank" rel="noopener">Data Structures and Algorithms in Java</a><ul>
<li>by Goodrich, Tamassia, Goldwasser</li>
<li>used as optional text for CS intro course at UC Berkeley</li>
<li>see my book report on the Python version below. This book covers the same topics.</li>
</ul>
</li>
</ul>
<h3 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.amazon.com/Structures-Algorithms-Python-Michael-Goodrich/dp/1118290275/" target="_blank" rel="noopener">Data Structures and Algorithms in Python</a><ul>
<li>by Goodrich, Tamassia, Goldwasser</li>
<li>I loved this book. It covered everything and more.</li>
<li>Pythonic code</li>
<li>my glowing book report: <a href="https://startupnextdoor.com/book-report-data-structures-and-algorithms-in-python/" target="_blank" rel="noopener">https://startupnextdoor.com/book-report-data-structures-and-algorithms-in-python/</a></li>
</ul>
</li>
</ul>
<h2 id="Before-you-Get-Started"><a href="#Before-you-Get-Started" class="headerlink" title="Before you Get Started"></a>Before you Get Started</h2><p>This list grew over many months, and yes, it kind of got out of hand.</p>
<p>Here are some mistakes I made so youâ€™ll have a better experience.</p>
<h3 id="1-You-Wonâ€™t-Remember-it-All"><a href="#1-You-Wonâ€™t-Remember-it-All" class="headerlink" title="1. You Wonâ€™t Remember it All"></a>1. You Wonâ€™t Remember it All</h3><p>I watched hours of videos and took copious notes, and months later there was much I didnâ€™t remember. I spent 3 days going<br>through my notes and making flashcards so I could review.</p>
<p>Read please so you wonâ€™t make my mistakes:</p>
<p><a href="https://startupnextdoor.com/retaining-computer-science-knowledge/" target="_blank" rel="noopener">Retaining Computer Science Knowledge</a>.</p>
<p>A course recommended to me (havenâ€™t taken it): <a href="https://www.coursera.org/learn/learning-how-to-learn" target="_blank" rel="noopener">Learning how to Learn</a></p>
<h3 id="2-Use-Flashcards"><a href="#2-Use-Flashcards" class="headerlink" title="2. Use Flashcards"></a>2. Use Flashcards</h3><p>To solve the problem, I made a little flashcards site where I could add flashcards of 2 types: general and code.<br>Each card has different formatting.</p>
<p>I made a mobile-first website so I could review on my phone and tablet, wherever I am.</p>
<p>Make your own for free:</p>
<ul>
<li><a href="https://github.com/jwasham/computer-science-flash-cards" target="_blank" rel="noopener">Flashcards site repo</a></li>
<li><a href="https://github.com/jwasham/computer-science-flash-cards/blob/master/cards-jwasham.db" target="_blank" rel="noopener">My flash cards database (old - 1200 cards)</a>:</li>
<li><a href="https://github.com/jwasham/computer-science-flash-cards/blob/master/cards-jwasham-extreme.db" target="_blank" rel="noopener">My flash cards database (new - 1800 cards)</a>:</li>
</ul>
<p>Keep in mind I went overboard and have cards covering everything from assembly language and Python trivia to machine learning and statistics. Itâ€™s way too much for whatâ€™s required.</p>
<p><strong>Note on flashcards:</strong> The first time you recognize you know the answer, donâ€™t mark it as known. You have to see the<br>same card and answer it several times correctly before you really know it. Repetition will put that knowledge deeper in<br>your brain.</p>
<p>An alternative to using my flashcard site is <a href="http://ankisrs.net/" target="_blank" rel="noopener">Anki</a>, which has been recommended to me numerous times. It uses a repetition system to help you remember.<br>Itâ€™s user-friendly, available on all platforms and has a cloud sync system. It costs $25 on iOS but is free on other platforms.</p>
<p>My flashcard database in Anki format: <a href="https://ankiweb.net/shared/info/25173560" target="_blank" rel="noopener">https://ankiweb.net/shared/info/25173560</a> (thanks <a href="https://github.com/xiewenya" target="_blank" rel="noopener">@xiewenya</a>)</p>
<h3 id="3-Start-doing-coding-interview-questions-while-youâ€™re-learning-data-structures-and-algorithms"><a href="#3-Start-doing-coding-interview-questions-while-youâ€™re-learning-data-structures-and-algorithms" class="headerlink" title="3. Start doing coding interview questions while youâ€™re learning data structures and algorithms,"></a>3. Start doing coding interview questions while youâ€™re learning data structures and algorithms,</h3><p>You need to apply what youâ€™re learning to solving problems, or youâ€™ll forget. I made this mistake. Once youâ€™ve learned a topic,<br>and feel comfortable with it, like linked lists, open one of the coding interview books and do a couple of questions regarding<br>linked lists. Then move on to the next learning topic. Then later, go back and do another linked list problem,<br>or recursion problem, or whatever. But keep doing problems while youâ€™re learning. Youâ€™re not being hired for knowledge,<br>but how you apply the knowledge. There are several books and sites I recommend.<br>See here for more: <a href="#coding-question-practice">Coding Question Practice</a></p>
<h3 id="4-Review-review-review"><a href="#4-Review-review-review" class="headerlink" title="4. Review, review, review"></a>4. Review, review, review</h3><p>I keep a set of cheat sheets on ASCII, OSI stack, Big-O notations, and more. I study them when I have some spare time.</p>
<p>Take a break from programming problems for a half hour and go through your flashcards.</p>
<h3 id="5-Focus"><a href="#5-Focus" class="headerlink" title="5. Focus"></a>5. Focus</h3><p>There are a lot of distractions that can take up valuable time. Focus and concentration are hard. Turn on some music<br>without lyrics and youâ€™ll be able to focus pretty well.</p>
<h2 id="What-you-wonâ€™t-see-covered"><a href="#What-you-wonâ€™t-see-covered" class="headerlink" title="What you wonâ€™t see covered"></a>What you wonâ€™t see covered</h2><p>These are prevalent technologies but not part of this study plan:</p>
<ul>
<li>SQL</li>
<li>Javascript</li>
<li>HTML, CSS, and other front-end technologies</li>
</ul>
<h2 id="The-Daily-Plan"><a href="#The-Daily-Plan" class="headerlink" title="The Daily Plan"></a>The Daily Plan</h2><p>Some subjects take one day, and some will take multiple days. Some are just learning with nothing to implement.</p>
<p>Each day I take one subject from the list below, watch videos about that subject, and write an implementation in:</p>
<ul>
<li>C - using structs and functions that take a struct * and something else as args.</li>
<li>C++ - without using built-in types</li>
<li>C++ - using built-in types, like STLâ€™s std::list for a linked list</li>
<li>Python - using built-in types (to keep practicing Python)</li>
<li>and write tests to ensure Iâ€™m doing it right, sometimes just using simple assert() statements</li>
<li>You may do Java or something else, this is just my thing.</li>
</ul>
<p>You donâ€™t need all these. You need only <a href="#pick-one-language-for-the-interview">one language for the interview</a>.</p>
<p>Why code in all of these?</p>
<ul>
<li>Practice, practice, practice, until Iâ€™m sick of it, and can do it with no problem (some have many edge cases and bookkeeping details to remember)</li>
<li>Work within the raw constraints (allocating/freeing memory without help of garbage collection (except Python or Java))</li>
<li>Make use of built-in types so I have experience using the built-in tools for real-world use (not going to write my own linked list implementation in production)</li>
</ul>
<p>I may not have time to do all of these for every subject, but Iâ€™ll try.</p>
<p>You can see my code here:</p>
<ul>
<li><a href="https://github.com/jwasham/practice-c" target="_blank" rel="noopener">C</a></li>
<li><a href="https://github.com/jwasham/practice-cpp" target="_blank" rel="noopener">C++</a></li>
<li><a href="https://github.com/jwasham/practice-python" target="_blank" rel="noopener">Python</a></li>
</ul>
<p>You donâ€™t need to memorize the guts of every algorithm.</p>
<p>Write code on a whiteboard or paper, not a computer. Test with some sample inputs. Then test it out on a computer.</p>
<h2 id="Prerequisite-Knowledge"><a href="#Prerequisite-Knowledge" class="headerlink" title="Prerequisite Knowledge"></a>Prerequisite Knowledge</h2><ul>
<li><input disabled="" type="checkbox"> <p><strong>Learn C</strong></p>
<ul>
<li>C is everywhere. Youâ€™ll see examples in books, lectures, videos, <em>everywhere</em> while youâ€™re studying.</li>
<li><input disabled="" type="checkbox"> <a href="https://www.amazon.com/Programming-Language-Brian-W-Kernighan/dp/0131103628" target="_blank" rel="noopener">C Programming Language, Vol 2</a><ul>
<li>This is a short book, but it will give you a great handle on the C language and if you practice it a little<br>  youâ€™ll quickly get proficient. Understanding C helps you understand how programs and memory work.</li>
<li><a href="https://github.com/lekkas/c-algorithms" target="_blank" rel="noopener">answers to questions</a></li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><strong>How computers process a program:</strong></p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=XM4lGflQFvA" target="_blank" rel="noopener">How CPU executes a program (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/1I5ZMmrOfnA" target="_blank" rel="noopener">How computers calculate - ALU (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/fpnE6UAfbtU" target="_blank" rel="noopener">Registers and RAM (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/FZGugFqdr60" target="_blank" rel="noopener">The Central Processing Unit (CPU) (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/zltgXvg6r3k" target="_blank" rel="noopener">Instructions and Programs (video)</a></li>
</ul>
</li>
</ul>
<h2 id="Algorithmic-complexity-Big-O-Asymptotic-analysis"><a href="#Algorithmic-complexity-Big-O-Asymptotic-analysis" class="headerlink" title="Algorithmic complexity / Big-O / Asymptotic analysis"></a>Algorithmic complexity / Big-O / Asymptotic analysis</h2><ul>
<li>Nothing to implement</li>
<li>There are a lot of videos here. Just watch enough until you understand it. You can always come back and review.</li>
<li>If some of the lectures are too mathy, you can jump down to the bottom and watch the discrete mathematics videos to get the background knowledge.</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=iOq5kSKqeR4" target="_blank" rel="noopener">Harvard CS50 - Asymptotic Notation (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=V6mKVRU1evU" target="_blank" rel="noopener">Big O Notations (general quick tutorial) (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ei-A_wy5Yxw&amp;index=2&amp;list=PL1BaGV1cIH4UhkL8a9bJGG356covJ76qN" target="_blank" rel="noopener">Big O Notation (and Omega and Theta) - best mathematical explanation (video)</a></li>
<li><input disabled="" type="checkbox"> Skiena:<ul>
<li><a href="https://www.youtube.com/watch?v=gSyDMtdPNpU&amp;index=2&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b" target="_blank" rel="noopener">video</a></li>
<li><a href="http://www3.cs.stonybrook.edu/~algorith/video-lectures/2007/lecture2.pdf" target="_blank" rel="noopener">slides</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://discrete.gr/complexity/" target="_blank" rel="noopener">A Gentle Introduction to Algorithm Complexity Analysis</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/lecture/algorithmic-thinking-1/orders-of-growth-6PKkX" target="_blank" rel="noopener">Orders of Growth (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/lecture/algorithmic-thinking-1/asymptotics-bXAtM" target="_blank" rel="noopener">Asymptotics (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/ucberkeley_webcast_VIS4YDpuP98" target="_blank" rel="noopener">UC Berkeley Big O (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/ucberkeley_webcast_ca3e7UVmeUc" target="_blank" rel="noopener">UC Berkeley Big Omega (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=B3SpQZaAZP4&amp;index=10&amp;list=PL1BaGV1cIH4UhkL8a9bJGG356covJ76qN" target="_blank" rel="noopener">Amortized Analysis (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/lecture/algorithmic-thinking-1/illustrating-big-o-YVqzv" target="_blank" rel="noopener">Illustrating â€œBig Oâ€ (video)</a></li>
<li><input disabled="" type="checkbox"> TopCoder (includes recurrence relations and master theorem):<ul>
<li><a href="https://www.topcoder.com/community/competitive-programming/tutorials/computational-complexity-section-1/" target="_blank" rel="noopener">Computational Complexity: Section 1</a></li>
<li><a href="https://www.topcoder.com/community/competitive-programming/tutorials/computational-complexity-section-2/" target="_blank" rel="noopener">Computational Complexity: Section 2</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://bigocheatsheet.com/" target="_blank" rel="noopener">Cheat sheet</a></li>
</ul>
<h2 id="Data-Structures"><a href="#Data-Structures" class="headerlink" title="Data Structures"></a>Data Structures</h2><ul>
<li><h3 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h3><ul>
<li>Implement an automatically resizing vector.</li>
<li><input disabled="" type="checkbox"> Description:<ul>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/OsBSF/arrays" target="_blank" rel="noopener">Arrays (video)</a></li>
<li><a href="https://archive.org/details/ucberkeley_webcast_Wp8oiO_CZZE" target="_blank" rel="noopener">UC Berkeley CS61B - Linear and Multi-Dim Arrays (video)</a> (Start watching from 15m 32s)</li>
<li><a href="https://archive.org/details/0102WhatYouShouldKnow/02_04-basicArrays.mp4" target="_blank" rel="noopener">Basic Arrays (video)</a></li>
<li><a href="https://archive.org/details/0102WhatYouShouldKnow/02_05-multidimensionalArrays.mp4" target="_blank" rel="noopener">Multi-dim (video)</a></li>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/EwbnV/dynamic-arrays" target="_blank" rel="noopener">Dynamic Arrays (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=1jtrQqYpt7g" target="_blank" rel="noopener">Jagged Arrays (video)</a></li>
<li><a href="https://archive.org/details/0102WhatYouShouldKnow/02_06-jaggedArrays.mp4" target="_blank" rel="noopener">Jagged Arrays (video)</a></li>
<li><a href="https://archive.org/details/0102WhatYouShouldKnow/03_01-resizableArrays.mp4" target="_blank" rel="noopener">Resizing arrays (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Implement a vector (mutable array with automatic resizing):<ul>
<li><input disabled="" type="checkbox"> Practice coding using arrays and pointers, and pointer math to jump to an index instead of using indexing.</li>
<li><input disabled="" type="checkbox"> new raw data array with allocated memory<ul>
<li>can allocate int array under the hood, just not use its features</li>
<li>start with 16, or if starting number is greater, use power of 2 - 16, 32, 64, 128</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> size() - number of items</li>
<li><input disabled="" type="checkbox"> capacity() - number of items it can hold</li>
<li><input disabled="" type="checkbox"> is_empty()</li>
<li><input disabled="" type="checkbox"> at(index) - returns item at given index, blows up if index out of bounds</li>
<li><input disabled="" type="checkbox"> push(item)</li>
<li><input disabled="" type="checkbox"> insert(index, item) - inserts item at index, shifts that indexâ€™s value and trailing elements to the right</li>
<li><input disabled="" type="checkbox"> prepend(item) - can use insert above at index 0</li>
<li><input disabled="" type="checkbox"> pop() - remove from end, return value</li>
<li><input disabled="" type="checkbox"> delete(index) - delete item at index, shifting all trailing elements left</li>
<li><input disabled="" type="checkbox"> remove(item) - looks for value and removes index holding it (even if in multiple places)</li>
<li><input disabled="" type="checkbox"> find(item) - looks for value and returns first index with that value, -1 if not found</li>
<li><input disabled="" type="checkbox"> resize(new_capacity) // private function<ul>
<li>when you reach capacity, resize to double the size</li>
<li>when popping an item, if size is 1/4 of capacity, resize to half</li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Time<ul>
<li>O(1) to add/remove at end (amortized for allocations for more space), index, or update</li>
<li>O(n) to insert/remove elsewhere</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Space<ul>
<li>contiguous in memory, so proximity helps performance</li>
<li>space needed = (array capacity, which is &gt;= n) * size of item, but even if 2n, still O(n)</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="Linked-Lists"><a href="#Linked-Lists" class="headerlink" title="Linked Lists"></a>Linked Lists</h3><ul>
<li><input disabled="" type="checkbox"> Description:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/kHhgK/singly-linked-lists" target="_blank" rel="noopener">Singly Linked Lists (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/ucberkeley_webcast_htzJdKoEmO0" target="_blank" rel="noopener">CS 61B - Linked Lists 1 (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/ucberkeley_webcast_-c4I3gFYe3w" target="_blank" rel="noopener">CS 61B - Linked Lists 2 (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=QN6FPiD0Gzo" target="_blank" rel="noopener">C Code (video)</a><pre><code>  - not the whole video, just portions about Node struct and memory allocation.</code></pre></li>
<li><input disabled="" type="checkbox"> Linked List vs Arrays:<ul>
<li><a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/rjBs9/core-linked-lists-vs-arrays" target="_blank" rel="noopener">Core Linked Lists Vs Arrays (video)</a></li>
<li><a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/QUaUd/in-the-real-world-lists-vs-arrays" target="_blank" rel="noopener">In The Real World Linked Lists Vs Arrays (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=YQs6IC-vgmo" target="_blank" rel="noopener">why you should avoid linked lists (video)</a></li>
<li><input disabled="" type="checkbox"> Gotcha: you need pointer to pointer knowledge:<br>  (for when you pass a pointer to a function that may change the address where that pointer points)<br>  This page is just to get a grasp on ptr to ptr. I donâ€™t recommend this list traversal style. Readability and maintainability suffer due to cleverness.<ul>
<li><a href="https://www.eskimo.com/~scs/cclass/int/sx8.html" target="_blank" rel="noopener">Pointers to Pointers</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> implement (I did with tail pointer &amp; without):<ul>
<li><input disabled="" type="checkbox"> size() - returns number of data elements in list</li>
<li><input disabled="" type="checkbox"> empty() - bool returns true if empty</li>
<li><input disabled="" type="checkbox"> value_at(index) - returns the value of the nth item (starting at 0 for first)</li>
<li><input disabled="" type="checkbox"> push_front(value) - adds an item to the front of the list</li>
<li><input disabled="" type="checkbox"> pop_front() - remove front item and return its value</li>
<li><input disabled="" type="checkbox"> push_back(value) - adds an item at the end</li>
<li><input disabled="" type="checkbox"> pop_back() - removes end item and returns its value</li>
<li><input disabled="" type="checkbox"> front() - get value of front item</li>
<li><input disabled="" type="checkbox"> back() - get value of end item</li>
<li><input disabled="" type="checkbox"> insert(index, value) - insert value at index, so current item at that index is pointed to by new item at index</li>
<li><input disabled="" type="checkbox"> erase(index) - removes node at given index</li>
<li><input disabled="" type="checkbox"> value_n_from_end(n) - returns the value of the node at nth position from the end of the list</li>
<li><input disabled="" type="checkbox"> reverse() - reverses the list</li>
<li><input disabled="" type="checkbox"> remove_value(value) - removes the first item in the list with this value</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Doubly-linked List<ul>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/jpGKD/doubly-linked-lists" target="_blank" rel="noopener">Description (video)</a></li>
<li>No need to implement</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a>Stack</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/UdKzQ/stacks" target="_blank" rel="noopener">Stacks (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/0102WhatYouShouldKnow/05_01-usingStacksForLast-inFirst-out.mp4" target="_blank" rel="noopener">Using Stacks Last-In First-Out (video)</a></li>
<li><input disabled="" type="checkbox"> Will not implement. Implementing with array is trivial.</li>
</ul>
</li>
<li><h3 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/0102WhatYouShouldKnow/05_03-usingQueuesForFirst-inFirst-out.mp4" target="_blank" rel="noopener">Using Queues First-In First-Out(video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/lecture/data-structures/queues-EShpq" target="_blank" rel="noopener">Queue (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/Circular_buffer" target="_blank" rel="noopener">Circular buffer/FIFO</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/0102WhatYouShouldKnow/05_04-priorityQueuesAndDeques.mp4" target="_blank" rel="noopener">Priority Queues (video)</a></li>
<li><input disabled="" type="checkbox"> Implement using linked-list, with tail pointer:<ul>
<li>enqueue(value) - adds value at position at tail</li>
<li>dequeue() - returns value and removes least recently added element (front)</li>
<li>empty()</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Implement using fixed-sized array:<ul>
<li>enqueue(value) - adds item at end of available storage</li>
<li>dequeue() - returns value and removes least recently added element</li>
<li>empty()</li>
<li>full()</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Cost:<ul>
<li>a bad implementation using linked list where you enqueue at head and dequeue at tail would be O(n)<br>  because youâ€™d need the next to last element, causing a full traversal each dequeue</li>
<li>enqueue: O(1) (amortized, linked list and array [probing])</li>
<li>dequeue: O(1) (linked list and array)</li>
<li>empty: O(1) (linked list and array)</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="Hash-table"><a href="#Hash-table" class="headerlink" title="Hash table"></a>Hash table</h3><ul>
<li><input disabled="" type="checkbox"> <p>Videos:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=0M_kIqhwbFo&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=8" target="_blank" rel="noopener">Hashing with Chaining (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=BRO7mVIFt08&amp;index=9&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">Table Doubling, Karp-Rabin (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=rvdJDijO2Ro&amp;index=10&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">Open Addressing, Cryptographic Hashing (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=C4Kc8xzcA68" target="_blank" rel="noopener">PyCon 2010: The Mighty Dictionary (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=z0lJ2k0sl1g&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=11" target="_blank" rel="noopener">(Advanced) Randomization: Universal &amp; Perfect Hashing (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=N0COwN14gt0&amp;list=PL2B4EEwhKD-NbwZ4ezj7gyc_3yNrojKM9&amp;index=4" target="_blank" rel="noopener">(Advanced) Perfect hashing (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>Online Courses:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/0102WhatYouShouldKnow/06_02-understandingHashFunctions.mp4" target="_blank" rel="noopener">Understanding Hash Functions (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/0102WhatYouShouldKnow/06_03-usingHashTables.mp4" target="_blank" rel="noopener">Using Hash Tables (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/0102WhatYouShouldKnow/06_04-supportingHashing.mp4" target="_blank" rel="noopener">Supporting Hashing (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/0102WhatYouShouldKnow/06_05-languageSupportForHashTables.mp4" target="_blank" rel="noopener">Language Support Hash Tables (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/m7UuP/core-hash-tables" target="_blank" rel="noopener">Core Hash Tables (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/home/week/3" target="_blank" rel="noopener">Data Structures (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/NYZZP/phone-book-problem" target="_blank" rel="noopener">Phone Book Problem (video)</a></li>
<li><input disabled="" type="checkbox"> distributed hash tables:<ul>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/DvaIb/instant-uploads-and-storage-optimization-in-dropbox" target="_blank" rel="noopener">Instant Uploads And Storage Optimization In Dropbox (video)</a></li>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/tvH8H/distributed-hash-tables" target="_blank" rel="noopener">Distributed Hash Tables (video)</a></li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>implement with array using linear probing</p>
<ul>
<li>hash(k, m) - m is size of hash table</li>
<li>add(key, value) - if key already exists, update value</li>
<li>exists(key)</li>
<li>get(key)</li>
<li>remove(key)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="More-Knowledge"><a href="#More-Knowledge" class="headerlink" title="More Knowledge"></a>More Knowledge</h2><ul>
<li><h3 id="Binary-search"><a href="#Binary-search" class="headerlink" title="Binary search"></a>Binary search</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=D5SrAga1pno" target="_blank" rel="noopener">Binary Search (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.khanacademy.org/computing/computer-science/algorithms/binary-search/a/binary-search" target="_blank" rel="noopener">Binary Search (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.topcoder.com/community/competitive-programming/tutorials/binary-search/" target="_blank" rel="noopener">detail</a></li>
<li><input disabled="" type="checkbox"> Implement:<ul>
<li>binary search (on sorted array of integers)</li>
<li>binary search using recursion</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="Bitwise-operations"><a href="#Bitwise-operations" class="headerlink" title="Bitwise operations"></a>Bitwise operations</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://github.com/jwasham/coding-interview-university/blob/master/extras/cheat%20sheets/bits-cheat-cheet.pdf" target="_blank" rel="noopener">Bits cheat sheet</a> - you should know many of the powers of 2 from (2^1 to 2^16 and 2^32)</li>
<li><input disabled="" type="checkbox"> Get a really good understanding of manipulating bits with: &amp;, |, ^, ~, &gt;&gt;, &lt;&lt;<ul>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/Word_(computer_architecture)" target="_blank" rel="noopener">words</a></li>
<li><input disabled="" type="checkbox"> Good intro:<br>  <a href="https://www.youtube.com/watch?v=7jkIUgLC29I" target="_blank" rel="noopener">Bit Manipulation (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=d0AwjSpNXR0" target="_blank" rel="noopener">C Programming Tutorial 2-10: Bitwise Operators (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/Bit_manipulation" target="_blank" rel="noopener">Bit Manipulation</a></li>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/Bitwise_operation" target="_blank" rel="noopener">Bitwise Operation</a></li>
<li><input disabled="" type="checkbox"> <a href="https://graphics.stanford.edu/~seander/bithacks.html" target="_blank" rel="noopener">Bithacks</a></li>
<li><input disabled="" type="checkbox"> <a href="https://bits.stephan-brumme.com/" target="_blank" rel="noopener">The Bit Twiddler</a></li>
<li><input disabled="" type="checkbox"> <a href="https://bits.stephan-brumme.com/interactive.html" target="_blank" rel="noopener">The Bit Twiddler Interactive</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> 2s and 1s complement<ul>
<li><a href="https://www.youtube.com/watch?v=lKTsv6iVxV4" target="_blank" rel="noopener">Binary: Plusses &amp; Minuses (Why We Use Twoâ€™s Complement) (video)</a></li>
<li><a href="https://en.wikipedia.org/wiki/Ones%27_complement" target="_blank" rel="noopener">1s Complement</a></li>
<li><a href="https://en.wikipedia.org/wiki/Two%27s_complement" target="_blank" rel="noopener">2s Complement</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> count set bits<ul>
<li><a href="https://youtu.be/Hzuzo9NJrlc" target="_blank" rel="noopener">4 ways to count bits in a byte (video)</a></li>
<li><a href="https://graphics.stanford.edu/~seander/bithacks.html#CountBitsSetKernighan" target="_blank" rel="noopener">Count Bits</a></li>
<li><a href="http://stackoverflow.com/questions/109023/how-to-count-the-number-of-set-bits-in-a-32-bit-integer" target="_blank" rel="noopener">How To Count The Number Of Set Bits In a 32 Bit Integer</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> swap values:<ul>
<li><a href="https://bits.stephan-brumme.com/swap.html" target="_blank" rel="noopener">Swap</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> absolute value:<ul>
<li><a href="https://bits.stephan-brumme.com/absInteger.html" target="_blank" rel="noopener">Absolute Integer</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Trees"><a href="#Trees" class="headerlink" title="Trees"></a>Trees</h2><ul>
<li><h3 id="Trees-Notes-amp-Background"><a href="#Trees-Notes-amp-Background" class="headerlink" title="Trees - Notes &amp; Background"></a>Trees - Notes &amp; Background</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/ovovP/core-trees" target="_blank" rel="noopener">Series: Core Trees (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/95qda/trees" target="_blank" rel="noopener">Series: Trees (video)</a></li>
<li>basic tree construction</li>
<li>traversal</li>
<li>manipulation algorithms</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=uWL6FJhq5fM" target="_blank" rel="noopener">BFS(breadth-first search) and DFS(depth-first search) (video)</a><ul>
<li>BFS notes:<ul>
<li>level order (BFS, using queue)</li>
<li>time complexity: O(n)</li>
<li>space complexity: best: O(1), worst: O(n/2)=O(n)</li>
</ul>
</li>
<li>DFS notes:<ul>
<li>time complexity: O(n)</li>
<li>space complexity:<br>  best: O(log n) - avg. height of tree<br>  worst: O(n)</li>
<li>inorder (DFS: left, self, right)</li>
<li>postorder (DFS: left, right, self)</li>
<li>preorder (DFS: self, left, right)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="Binary-search-trees-BSTs"><a href="#Binary-search-trees-BSTs" class="headerlink" title="Binary search trees: BSTs"></a>Binary search trees: BSTs</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=x6At0nzX92o&amp;index=1&amp;list=PLA5Lqm4uh9Bbq-E0ZnqTIa8LRaL77ica6" target="_blank" rel="noopener">Binary Search Tree Review (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/p82sw/core-introduction-to-binary-search-trees" target="_blank" rel="noopener">Series (video)</a><ul>
<li>starts with symbol table and goes through BST applications</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/E7cXP/introduction" target="_blank" rel="noopener">Introduction (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=9Jry5-82I68" target="_blank" rel="noopener">MIT (video)</a></li>
<li>C/C++:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=COZK7NATh4k&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P&amp;index=28" target="_blank" rel="noopener">Binary search tree - Implementation in C/C++ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=hWokyBoo0aI&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P&amp;index=29" target="_blank" rel="noopener">BST implementation - memory allocation in stack and heap (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Ut90klNN264&amp;index=30&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P" target="_blank" rel="noopener">Find min and max element in a binary search tree (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=_pnqMz5nrRs&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P&amp;index=31" target="_blank" rel="noopener">Find height of a binary tree (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=9RHO6jU--GU&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P&amp;index=32" target="_blank" rel="noopener">Binary tree traversal - breadth-first and depth-first strategies (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=86g8jAQug04&amp;index=33&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P" target="_blank" rel="noopener">Binary tree: Level Order Traversal (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=gm8DUJJhmY4&amp;index=34&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P" target="_blank" rel="noopener">Binary tree traversal: Preorder, Inorder, Postorder (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=yEwSGhSsT0U&amp;index=35&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P" target="_blank" rel="noopener">Check if a binary tree is binary search tree or not (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=gcULXE7ViZw&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P&amp;index=36" target="_blank" rel="noopener">Delete a node from Binary Search Tree (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=5cPbNCrdotA&amp;index=37&amp;list=PL2_aWCzGMAwI3W_JlcBbtYTwiQSsOTa6P" target="_blank" rel="noopener">Inorder Successor in a binary search tree (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Implement:<ul>
<li><input disabled="" type="checkbox"> insert    // insert value into tree</li>
<li><input disabled="" type="checkbox"> get_node_count // get count of values stored</li>
<li><input disabled="" type="checkbox"> print_values // prints the values in the tree, from min to max</li>
<li><input disabled="" type="checkbox"> delete_tree</li>
<li><input disabled="" type="checkbox"> is_in_tree // returns true if given value exists in the tree</li>
<li><input disabled="" type="checkbox"> get_height // returns the height in nodes (single nodeâ€™s height is 1)</li>
<li><input disabled="" type="checkbox"> get_min   // returns the minimum value stored in the tree</li>
<li><input disabled="" type="checkbox"> get_max   // returns the maximum value stored in the tree</li>
<li><input disabled="" type="checkbox"> is_binary_search_tree</li>
<li><input disabled="" type="checkbox"> delete_value</li>
<li><input disabled="" type="checkbox"> get_successor // returns next-highest value in tree after given value, -1 if none</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="Heap-Priority-Queue-Binary-Heap"><a href="#Heap-Priority-Queue-Binary-Heap" class="headerlink" title="Heap / Priority Queue / Binary Heap"></a>Heap / Priority Queue / Binary Heap</h3><ul>
<li>visualized as a tree, but is usually linear in storage (array, linked list)</li>
<li><input disabled="" type="checkbox"> <a href="https://en.wikipedia.org/wiki/Heap_(data_structure)" target="_blank" rel="noopener">Heap</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/2OpTs/introduction" target="_blank" rel="noopener">Introduction (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/z3l9N/naive-implementations" target="_blank" rel="noopener">Naive Implementations (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/GRV2q/binary-trees" target="_blank" rel="noopener">Binary Trees (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/supplement/S5xxz/tree-height-remark" target="_blank" rel="noopener">Tree Height Remark (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/0g1dl/basic-operations" target="_blank" rel="noopener">Basic Operations (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/gl5Ni/complete-binary-trees" target="_blank" rel="noopener">Complete Binary Trees (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/HxQo9/pseudocode" target="_blank" rel="noopener">Pseudocode (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/odNJmw5TOEE?list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;t=3291" target="_blank" rel="noopener">Heap Sort - jumps to start (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/hSzMO/heap-sort" target="_blank" rel="noopener">Heap Sort (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures/lecture/dwrOS/building-a-heap" target="_blank" rel="noopener">Building a heap (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=B7hVxCmfPtM&amp;index=4&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">MIT: Heaps and Heap Sort (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/ucberkeley_webcast_yIUFT6AKBGE" target="_blank" rel="noopener">CS 61B Lecture 24: Priority Queues (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=MiyLo8adrWw" target="_blank" rel="noopener">Linear Time BuildHeap (max-heap)</a></li>
<li><input disabled="" type="checkbox"> Implement a max-heap:<ul>
<li><input disabled="" type="checkbox"> insert</li>
<li><input disabled="" type="checkbox"> sift_up - needed for insert</li>
<li><input disabled="" type="checkbox"> get_max - returns the max item, without removing it</li>
<li><input disabled="" type="checkbox"> get_size() - return number of elements stored</li>
<li><input disabled="" type="checkbox"> is_empty() - returns true if heap contains no elements</li>
<li><input disabled="" type="checkbox"> extract_max - returns the max item, removing it</li>
<li><input disabled="" type="checkbox"> sift_down - needed for extract_max</li>
<li><input disabled="" type="checkbox"> remove(i) - removes item at index x</li>
<li><input disabled="" type="checkbox"> heapify - create a heap from an array of elements, needed for heap_sort</li>
<li><input disabled="" type="checkbox"> heap_sort() - take an unsorted array and turn it into a sorted array in-place using a max heap<ul>
<li>note: using a min heap instead would save operations, but double the space needed (cannot do in-place).</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Sorting"><a href="#Sorting" class="headerlink" title="Sorting"></a>Sorting</h2><ul>
<li><input disabled="" type="checkbox"> <p>Notes:</p>
<ul>
<li>Implement sorts &amp; know best case/worst case, average complexity of each:<ul>
<li>no bubble sort - itâ€™s terrible - O(n^2), except when n &lt;= 16</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> stability in sorting algorithms (â€œIs Quicksort stable?â€)<ul>
<li><a href="https://en.wikipedia.org/wiki/Sorting_algorithm#Stability" target="_blank" rel="noopener">Sorting Algorithm Stability</a></li>
<li><a href="http://stackoverflow.com/questions/1517793/stability-in-sorting-algorithms" target="_blank" rel="noopener">Stability In Sorting Algorithms</a></li>
<li><a href="http://www.geeksforgeeks.org/stability-in-sorting-algorithms/" target="_blank" rel="noopener">Stability In Sorting Algorithms</a></li>
<li><a href="http://homepages.math.uic.edu/~leon/cs-mcs401-s08/handouts/stability.pdf" target="_blank" rel="noopener">Sorting Algorithms - Stability</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Which algorithms can be used on linked lists? Which on arrays? Which on both?<ul>
<li>I wouldnâ€™t recommend sorting a linked list, but merge sort is doable.</li>
<li><a href="http://www.geeksforgeeks.org/merge-sort-for-linked-list/" target="_blank" rel="noopener">Merge Sort For Linked List</a></li>
</ul>
</li>
</ul>
</li>
<li><p>For heapsort, see Heap data structure above. Heap sort is great, but not stable.</p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.coursera.org/learn/algorithms-part1/home/week/3" target="_blank" rel="noopener">Sedgewick - Mergesort (5 videos)</a></p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part1/lecture/ARWDq/mergesort" target="_blank" rel="noopener">1. Mergesort</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part1/lecture/PWNEl/bottom-up-mergesort" target="_blank" rel="noopener">2. Bottom up Mergesort</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part1/lecture/xAltF/sorting-complexity" target="_blank" rel="noopener">3. Sorting Complexity</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part1/lecture/9FYhS/comparators" target="_blank" rel="noopener">4. Comparators</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part1/lecture/pvvLZ/stability" target="_blank" rel="noopener">5. Stability</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.coursera.org/learn/algorithms-part1/home/week/3" target="_blank" rel="noopener">Sedgewick - Quicksort (4 videos)</a></p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part1/lecture/vjvnC/quicksort" target="_blank" rel="noopener">1. Quicksort</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part1/lecture/UQxFT/selection" target="_blank" rel="noopener">2. Selection</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part1/lecture/XvjPd/duplicate-keys" target="_blank" rel="noopener">3. Duplicate Keys</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part1/lecture/QBNZ7/system-sorts" target="_blank" rel="noopener">4. System Sorts</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>UC Berkeley:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/ucberkeley_webcast_EiUvYS2DT6I" target="_blank" rel="noopener">CS 61B Lecture 29: Sorting I (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/ucberkeley_webcast_2hTY3t80Qsk" target="_blank" rel="noopener">CS 61B Lecture 30: Sorting II (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/ucberkeley_webcast_Y6LOLpxg6Dc" target="_blank" rel="noopener">CS 61B Lecture 32: Sorting III (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/ucberkeley_webcast_qNMQ4ly43p4" target="_blank" rel="noopener">CS 61B Lecture 33: Sorting V (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=P00xJgWzz2c&amp;index=1&amp;list=PL89B61F78B552C1AB" target="_blank" rel="noopener">Bubble Sort (video)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=ni_zk257Nqo&amp;index=7&amp;list=PL89B61F78B552C1AB" target="_blank" rel="noopener">Analyzing Bubble Sort (video)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=Kg4bqzAqRBM&amp;index=3&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">Insertion Sort, Merge Sort (video)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=c4BRHC7kTaQ&amp;index=2&amp;list=PL89B61F78B552C1AB" target="_blank" rel="noopener">Insertion Sort (video)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=GCae1WNvnZM&amp;index=3&amp;list=PL89B61F78B552C1AB" target="_blank" rel="noopener">Merge Sort (video)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=y_G9BkAm6B8&amp;index=4&amp;list=PL89B61F78B552C1AB" target="_blank" rel="noopener">Quicksort (video)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.youtube.com/watch?v=6nDMgr0-Yyo&amp;index=8&amp;list=PL89B61F78B552C1AB" target="_blank" rel="noopener">Selection Sort (video)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p>Merge sort code:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="http://www.cs.yale.edu/homes/aspnes/classes/223/examples/sorting/mergesort.c" target="_blank" rel="noopener">Using output array (C)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://github.com/jwasham/practice-python/blob/master/merge_sort/merge_sort.py" target="_blank" rel="noopener">Using output array (Python)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://github.com/jwasham/practice-cpp/blob/master/merge_sort/merge_sort.cc" target="_blank" rel="noopener">In-place (C++)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>Quick sort code:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="http://www.cs.yale.edu/homes/aspnes/classes/223/examples/randomization/quick.c" target="_blank" rel="noopener">Implementation (C)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://github.com/jwasham/practice-c/blob/master/quick_sort/quick_sort.c" target="_blank" rel="noopener">Implementation (C)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://github.com/jwasham/practice-python/blob/master/quick_sort/quick_sort.py" target="_blank" rel="noopener">Implementation (Python)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>Implement:</p>
<ul>
<li><input disabled="" type="checkbox"> Mergesort: O(n log n) average and worst case</li>
<li><input disabled="" type="checkbox"> Quicksort O(n log n) average case</li>
<li>Selection sort and insertion sort are both O(n^2) average and worst case</li>
<li>For heapsort, see Heap data structure above.</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>Not required, but I recommended them:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part2/home/week/3" target="_blank" rel="noopener">Sedgewick - Radix Sorts (6 videos)</a><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part2/lecture/vGHvb/strings-in-java" target="_blank" rel="noopener">1. Strings in Java</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part2/lecture/2pi1Z/key-indexed-counting" target="_blank" rel="noopener">2. Key Indexed Counting</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part2/lecture/c1U7L/lsd-radix-sort" target="_blank" rel="noopener">3. Least Significant Digit First String Radix Sort</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part2/lecture/gFxwG/msd-radix-sort" target="_blank" rel="noopener">4. Most Significant Digit First String Radix Sort</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part2/lecture/crkd5/3-way-radix-quicksort" target="_blank" rel="noopener">5. 3 Way Radix Quicksort</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part2/lecture/TH18W/suffix-arrays" target="_blank" rel="noopener">6. Suffix Arrays</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://www.cs.yale.edu/homes/aspnes/classes/223/notes.html#radixSort" target="_blank" rel="noopener">Radix Sort</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=xhr26ia4k38" target="_blank" rel="noopener">Radix Sort (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Nz1KZXbghj8&amp;index=7&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">Radix Sort, Counting Sort (linear time given constraints) (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=cNB2lADK3_s&amp;index=8&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp" target="_blank" rel="noopener">Randomization: Matrix Multiply, Quicksort, Freivaldsâ€™ algorithm (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=pOKy3RZbSws&amp;list=PLUl4u3cNGP61hsJNdULdudlRL493b-XZf&amp;index=14" target="_blank" rel="noopener">Sorting in Linear Time (video)</a></li>
</ul>
</li>
</ul>
<p>As a summary, here is a visual representation of <a href="https://www.youtube.com/watch?v=kPRA0W1kECg" target="_blank" rel="noopener">15 sorting algorithms</a>.<br>If you need more detail on this subject, see â€œSortingâ€ section in <a href="#additional-detail-on-some-subjects">Additional Detail on Some Subjects</a></p>
<h2 id="Graphs"><a href="#Graphs" class="headerlink" title="Graphs"></a>Graphs</h2><p>Graphs can be used to represent many problems in computer science, so this section is long, like trees and sorting were.</p>
<ul>
<li><p>Notes:</p>
<ul>
<li>There are 4 basic ways to represent a graph in memory:<ul>
<li>objects and pointers</li>
<li>adjacency matrix</li>
<li>adjacency list</li>
<li>adjacency map</li>
</ul>
</li>
<li>Familiarize yourself with each representation and its pros &amp; cons</li>
<li>BFS and DFS - know their computational complexity, their tradeoffs, and how to implement them in real code</li>
<li>When asked a question, look for a graph-based solution first, then move on if none.</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>MIT(videos):</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=s-CYnVz-uh4&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=13" target="_blank" rel="noopener">Breadth-First Search</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=AfSk24UTFS8&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=14" target="_blank" rel="noopener">Depth-First Search</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>Skiena Lectures - great intro:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=OiXxhDrFruw&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;index=11" target="_blank" rel="noopener">CSE373 2012 - Lecture 11 - Graph Data Structures (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=g5vF8jscteo&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;index=12" target="_blank" rel="noopener">CSE373 2012 - Lecture 12 - Breadth-First Search (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=S23W6eTcqdY&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;index=13" target="_blank" rel="noopener">CSE373 2012 - Lecture 13 - Graph Algorithms (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=WitPBKGV0HY&amp;index=14&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b" target="_blank" rel="noopener">CSE373 2012 - Lecture 14 - Graph Algorithms (conâ€™t) (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ia1L30l7OIg&amp;index=15&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b" target="_blank" rel="noopener">CSE373 2012 - Lecture 15 - Graph Algorithms (conâ€™t 2) (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=jgDOQq6iWy8&amp;index=16&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b" target="_blank" rel="noopener">CSE373 2012 - Lecture 16 - Graph Algorithms (conâ€™t 3) (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p>Graphs (review and more):</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Aa2sqUhIn-E&amp;index=15&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">6.006 Single-Source Shortest Paths Problem (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=2E7MmKv0Y24&amp;index=16&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">6.006 Dijkstra (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ozsuci5pIso&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=17" target="_blank" rel="noopener">6.006 Bellman-Ford (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=CHvQ3q_gJ7E&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=18" target="_blank" rel="noopener">6.006 Speeding Up Dijkstra (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=i_AQT_XfvD8&amp;index=6&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm" target="_blank" rel="noopener">Aduni: Graph Algorithms I - Topological Sorting, Minimum Spanning Trees, Primâ€™s Algorithm -  Lecture 6 (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ufj5_bppBsA&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=7" target="_blank" rel="noopener">Aduni: Graph Algorithms II - DFS, BFS, Kruskalâ€™s Algorithm, Union Find Data Structure - Lecture 7 (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=DiedsPsMKXc&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=8" target="_blank" rel="noopener">Aduni: Graph Algorithms III: Shortest Path - Lecture 8 (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=XIAQRlNkJAw&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=9" target="_blank" rel="noopener">Aduni: Graph Alg. IV: Intro to geometric algorithms - Lecture 9 (video)</a></li>
<li><input disabled="" type="checkbox"> <del><a href="https://youtu.be/dgjX4HdMI-Q?list=PL-XXv-cvA_iAlnI-BQr9hjqADPBtujFJd&amp;t=3489" target="_blank" rel="noopener">CS 61B 2014 (starting at 58:09) (video)</a></del></li>
<li><input disabled="" type="checkbox"> <a href="https://archive.org/details/ucberkeley_webcast_zFbq8vOZ_0k" target="_blank" rel="noopener">CS 61B 2014: Weighted graphs (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=tKwnms5iRBU&amp;index=16&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp" target="_blank" rel="noopener">Greedy Algorithms: Minimum Spanning Tree (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=RpgcYiky7uw" target="_blank" rel="noopener">Strongly Connected Components Kosarajuâ€™s Algorithm Graph Algorithm (video)</a></li>
</ul>
</li>
<li><p>Full Coursera Course:</p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-on-graphs/home/welcome" target="_blank" rel="noopener">Algorithms on Graphs (video)</a></li>
</ul>
</li>
<li><p>Iâ€™ll implement:</p>
<ul>
<li><input disabled="" type="checkbox"> DFS with adjacency list (recursive)</li>
<li><input disabled="" type="checkbox"> DFS with adjacency list (iterative with stack)</li>
<li><input disabled="" type="checkbox"> DFS with adjacency matrix (recursive)</li>
<li><input disabled="" type="checkbox"> DFS with adjacency matrix (iterative with stack)</li>
<li><input disabled="" type="checkbox"> BFS with adjacency list</li>
<li><input disabled="" type="checkbox"> BFS with adjacency matrix</li>
<li><input disabled="" type="checkbox"> single-source shortest path (Dijkstra)</li>
<li><input disabled="" type="checkbox"> minimum spanning tree</li>
<li>DFS-based algorithms (see Aduni videos above):<ul>
<li><input disabled="" type="checkbox"> check for cycle (needed for topological sort, since weâ€™ll check for cycle before starting)</li>
<li><input disabled="" type="checkbox"> topological sort</li>
<li><input disabled="" type="checkbox"> count connected components in a graph</li>
<li><input disabled="" type="checkbox"> list strongly connected components</li>
<li><input disabled="" type="checkbox"> check for bipartite graph</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Even-More-Knowledge"><a href="#Even-More-Knowledge" class="headerlink" title="Even More Knowledge"></a>Even More Knowledge</h2><ul>
<li><h3 id="Recursion"><a href="#Recursion" class="headerlink" title="Recursion"></a>Recursion</h3><ul>
<li><input disabled="" type="checkbox"> Stanford lectures on recursion &amp; backtracking:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=gl3emqCuueQ&amp;list=PLFE6E58F856038C69&amp;index=8" target="_blank" rel="noopener">Lecture 8 | Programming Abstractions (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=uFJhEPrbycQ&amp;list=PLFE6E58F856038C69&amp;index=9" target="_blank" rel="noopener">Lecture 9 | Programming Abstractions (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=NdF1QDTRkck&amp;index=10&amp;list=PLFE6E58F856038C69" target="_blank" rel="noopener">Lecture 10 | Programming Abstractions (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=p-gpaIGRCQI&amp;list=PLFE6E58F856038C69&amp;index=11" target="_blank" rel="noopener">Lecture 11 | Programming Abstractions (video)</a></li>
</ul>
</li>
<li>when it is appropriate to use it</li>
<li>how is tail recursion better than not?<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.quora.com/What-is-tail-recursion-Why-is-it-so-bad" target="_blank" rel="noopener">What Is Tail Recursion Why Is It So Bad?</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=L1jjXGfxozc" target="_blank" rel="noopener">Tail Recursion (video)</a></li>
</ul>
</li>
</ul>
</li>
<li><h3 id="Dynamic-Programming"><a href="#Dynamic-Programming" class="headerlink" title="Dynamic Programming"></a>Dynamic Programming</h3><ul>
<li>You probably wonâ€™t see any dynamic programming problems in your interview, but itâ€™s worth being able to recognize a problem as being a candidate for dynamic programming.</li>
<li>This subject can be pretty difficult, as each DP soluble problem must be defined as a recursion relation, and coming up with it can be tricky.</li>
<li>I suggest looking at many examples of DP problems until you have a solid understanding of the pattern involved.</li>
<li><input disabled="" type="checkbox"> Videos:<ul>
<li>the Skiena videos can be hard to follow since he sometimes uses the whiteboard, which is too small to see</li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/Qc2ieXRgR0k?list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;t=1718" target="_blank" rel="noopener">Skiena: CSE373 2012 - Lecture 19 - Introduction to Dynamic Programming (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/IsmMhMdyeGY?list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;t=2749" target="_blank" rel="noopener">Skiena: CSE373 2012 - Lecture 20 - Edit Distance (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/o0V9eYF4UI8?list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;t=406" target="_blank" rel="noopener">Skiena: CSE373 2012 - Lecture 21 - Dynamic Programming Examples (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=dRbMC1Ltl3A&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;index=22" target="_blank" rel="noopener">Skiena: CSE373 2012 - Lecture 22 - Applications of Dynamic Programming (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/J5aJEcOr6Eo?list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;t=3558" target="_blank" rel="noopener">Simonson: Dynamic Programming 0 (starts at 59:18) (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=0EzHjQ_SOeU&amp;index=11&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm" target="_blank" rel="noopener">Simonson: Dynamic Programming I - Lecture 11 (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=v1qiRwuJU7g&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=12" target="_blank" rel="noopener">Simonson: Dynamic programming II - Lecture 12 (video)</a></li>
<li><input disabled="" type="checkbox"> List of individual DP problems (each is short):<br>  <a href="https://www.youtube.com/playlist?list=PLrmLmBdmIlpsHaNTPP_jHHDx_os9ItYXr" target="_blank" rel="noopener">Dynamic Programming (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Yale Lecture notes:<ul>
<li><input disabled="" type="checkbox"> <a href="http://www.cs.yale.edu/homes/aspnes/classes/223/notes.html#dynamicProgramming" target="_blank" rel="noopener">Dynamic Programming</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Coursera:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithmic-thinking-2/lecture/80RrW/the-rna-secondary-structure-problem" target="_blank" rel="noopener">The RNA secondary structure problem (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithmic-thinking-2/lecture/PSonq/a-dynamic-programming-algorithm" target="_blank" rel="noopener">A dynamic programming algorithm (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithmic-thinking-2/lecture/oUEK2/illustrating-the-dp-algorithm" target="_blank" rel="noopener">Illustrating the DP algorithm (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithmic-thinking-2/lecture/nfK2r/running-time-of-the-dp-algorithm" target="_blank" rel="noopener">Running time of the DP algorithm (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithmic-thinking-2/lecture/M999a/dp-vs-recursive-implementation" target="_blank" rel="noopener">DP vs. recursive implementation (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithmic-thinking-2/lecture/UZ7o6/global-pairwise-sequence-alignment" target="_blank" rel="noopener">Global pairwise sequence alignment (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithmic-thinking-2/lecture/WnNau/local-pairwise-sequence-alignment" target="_blank" rel="noopener">Local pairwise sequence alignment (video)</a></li>
</ul>
</li>
</ul>
</li>
<li><h3 id="Object-Oriented-Programming"><a href="#Object-Oriented-Programming" class="headerlink" title="Object-Oriented Programming"></a>Object-Oriented Programming</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=OkC7HKtiZC0&amp;list=PLGLfVvz_LVvQ5G-LdJ8RLqe-ndo7QITYc" target="_blank" rel="noopener">Optional: UML 2.0 Series (video)</a></li>
<li><input disabled="" type="checkbox"> SOLID OOP Principles: <a href="https://www.youtube.com/playlist?list=PL4CE9F710017EA77A" target="_blank" rel="noopener">SOLID Principles (video)</a></li>
</ul>
</li>
<li><h3 id="Design-patterns"><a href="#Design-patterns" class="headerlink" title="Design patterns"></a>Design patterns</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=3cmzqZzwNDM&amp;list=PLGLfVvz_LVvQ5G-LdJ8RLqe-ndo7QITYc&amp;index=3" target="_blank" rel="noopener">Quick UML review (video)</a></li>
<li><input disabled="" type="checkbox"> Learn these patterns:<ul>
<li><input disabled="" type="checkbox"> strategy</li>
<li><input disabled="" type="checkbox"> singleton</li>
<li><input disabled="" type="checkbox"> adapter</li>
<li><input disabled="" type="checkbox"> prototype</li>
<li><input disabled="" type="checkbox"> decorator</li>
<li><input disabled="" type="checkbox"> visitor</li>
<li><input disabled="" type="checkbox"> factory, abstract factory</li>
<li><input disabled="" type="checkbox"> facade</li>
<li><input disabled="" type="checkbox"> observer</li>
<li><input disabled="" type="checkbox"> proxy</li>
<li><input disabled="" type="checkbox"> delegate</li>
<li><input disabled="" type="checkbox"> command</li>
<li><input disabled="" type="checkbox"> state</li>
<li><input disabled="" type="checkbox"> memento</li>
<li><input disabled="" type="checkbox"> iterator</li>
<li><input disabled="" type="checkbox"> composite</li>
<li><input disabled="" type="checkbox"> flyweight</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/LAP2A80Ajrg?list=PLJ9pm_Rc9HesnkwKlal_buSIHA-jTZMpO&amp;t=3344" target="_blank" rel="noopener">Chapter 6 (Part 1) - Patterns (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=U8-PGsjvZc4&amp;index=12&amp;list=PLJ9pm_Rc9HesnkwKlal_buSIHA-jTZMpO" target="_blank" rel="noopener">Chapter 6 (Part 2) - Abstraction-Occurrence, General Hierarchy, Player-Role, Singleton, Observer, Delegation (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=7sduBHuex4c&amp;index=13&amp;list=PLJ9pm_Rc9HesnkwKlal_buSIHA-jTZMpO" target="_blank" rel="noopener">Chapter 6 (Part 3) - Adapter, Facade, Immutable, Read-Only Interface, Proxy (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/playlist?list=PLF206E906175C7E07" target="_blank" rel="noopener">Series of videos (27 videos)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.amazon.com/Head-First-Design-Patterns-Freeman/dp/0596007124" target="_blank" rel="noopener">Head First Design Patterns</a><ul>
<li>I know the canonical book is â€œDesign Patterns: Elements of Reusable Object-Oriented Softwareâ€, but Head First is great for beginners to OO.</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://sourcemaking.com/design-patterns-and-tips" target="_blank" rel="noopener">Handy reference: 101 Design Patterns &amp; Tips for Developers</a></li>
<li><input disabled="" type="checkbox"> <a href="https://github.com/kamranahmedse/design-patterns-for-humans#structural-design-patterns" target="_blank" rel="noopener">Design patterns for humans</a></li>
</ul>
</li>
</ul>
<ul>
<li><h3 id="Combinatorics-n-choose-k-amp-Probability"><a href="#Combinatorics-n-choose-k-amp-Probability" class="headerlink" title="Combinatorics (n choose k) &amp; Probability"></a>Combinatorics (n choose k) &amp; Probability</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=8RRo6Ti9d0U" target="_blank" rel="noopener">Math Skills: How to find Factorial, Permutation and Combination (Choose) (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=sZkAAk9Wwa4" target="_blank" rel="noopener">Make School: Probability (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=dNaJg-mLobQ" target="_blank" rel="noopener">Make School: More Probability and Markov Chains (video)</a></li>
<li><input disabled="" type="checkbox"> Khan Academy:<ul>
<li>Course layout:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.khanacademy.org/math/probability/probability-and-combinatorics-topic" target="_blank" rel="noopener">Basic Theoretical Probability</a></li>
</ul>
</li>
<li>Just the videos - 41 (each are simple and each are short):<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=uzkc-qNVoOk&amp;list=PLC58778F28211FA19" target="_blank" rel="noopener">Probability Explained (video)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="NP-NP-Complete-and-Approximation-Algorithms"><a href="#NP-NP-Complete-and-Approximation-Algorithms" class="headerlink" title="NP, NP-Complete and Approximation Algorithms"></a>NP, NP-Complete and Approximation Algorithms</h3><ul>
<li>Know about the most famous classes of NP-complete problems, such as traveling salesman and the knapsack problem,<br>  and be able to recognize them when an interviewer asks you them in disguise.</li>
<li>Know what NP-complete means.</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=moPtwq_cVH8&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=23" target="_blank" rel="noopener">Computational Complexity (video)</a></li>
<li><input disabled="" type="checkbox"> Simonson:<ul>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/qcGnJ47Smlo?list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;t=2939" target="_blank" rel="noopener">Greedy Algs. II &amp; Intro to NP Completeness (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=e0tGC6ZQdQE&amp;index=16&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm" target="_blank" rel="noopener">NP Completeness II &amp; Reductions (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=fCX1BGT3wjE&amp;index=17&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm" target="_blank" rel="noopener">NP Completeness III (Video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=NKLDp3Rch3M&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=18" target="_blank" rel="noopener">NP Completeness IV (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Skiena:<ul>
<li><input disabled="" type="checkbox"> <a href="https://youtu.be/KiK5TVgXbFg?list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;t=1508" target="_blank" rel="noopener">CSE373 2012 - Lecture 23 - Introduction to NP-Completeness (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=27Al52X3hd4&amp;index=24&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b" target="_blank" rel="noopener">CSE373 2012 - Lecture 24 - NP-Completeness Proofs (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=xCPH4gwIIXM&amp;index=25&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b" target="_blank" rel="noopener">CSE373 2012 - Lecture 25 - NP-Completeness Challenge (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=eHZifpgyH_4&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=22" target="_blank" rel="noopener">Complexity: P, NP, NP-completeness, Reductions (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=MEz1J9wY2iM&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=24" target="_blank" rel="noopener">Complexity: Approximation Algorithms (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=4q-jmGrmxKs&amp;index=25&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp" target="_blank" rel="noopener">Complexity: Fixed-Parameter Algorithms (video)</a></li>
<li>Peter Norvig discusses near-optimal solutions to traveling salesman problem:<ul>
<li><a href="http://nbviewer.jupyter.org/url/norvig.com/ipython/TSP.ipynb" target="_blank" rel="noopener">Jupyter Notebook</a></li>
</ul>
</li>
<li>Pages 1048 - 1140 in CLRS if you have it.</li>
</ul>
</li>
<li><h3 id="Caches"><a href="#Caches" class="headerlink" title="Caches"></a>Caches</h3><ul>
<li><input disabled="" type="checkbox"> LRU cache:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=R5ON3iwx78M" target="_blank" rel="noopener">The Magic of LRU Cache (100 Days of Google Dev) (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=bq6N7Ym81iI" target="_blank" rel="noopener">Implementing LRU (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=8-FZRAjR7qU" target="_blank" rel="noopener">LeetCode - 146 LRU Cache (C++) (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> CPU cache:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=vjYF_fAZI5E&amp;list=PLrRW1w6CGAcXbMtDFj205vALOGmiRc82-&amp;index=24" target="_blank" rel="noopener">MIT 6.004 L15: The Memory Hierarchy (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ajgC3-pyGlk&amp;index=25&amp;list=PLrRW1w6CGAcXbMtDFj205vALOGmiRc82-" target="_blank" rel="noopener">MIT 6.004 L16: Cache Issues (video)</a></li>
</ul>
</li>
</ul>
</li>
<li><h3 id="Processes-and-Threads"><a href="#Processes-and-Threads" class="headerlink" title="Processes and Threads"></a>Processes and Threads</h3><ul>
<li><input disabled="" type="checkbox"> Computer Science 162 - Operating Systems (25 videos):<ul>
<li>for processes and threads see videos 1-11</li>
<li><a href="https://archive.org/details/ucberkeley-webcast-PL-XXv-cvA_iBDyz-ba4yDskqMDY6A1w_c" target="_blank" rel="noopener">Operating Systems and System Programming (video)</a></li>
</ul>
</li>
<li><a href="https://www.quora.com/What-is-the-difference-between-a-process-and-a-thread" target="_blank" rel="noopener">What Is The Difference Between A Process And A Thread?</a></li>
<li>Covers:<ul>
<li>Processes, Threads, Concurrency issues<ul>
<li>difference between processes and threads</li>
<li>processes</li>
<li>threads</li>
<li>locks</li>
<li>mutexes</li>
<li>semaphores</li>
<li>monitors</li>
<li>how they work</li>
<li>deadlock</li>
<li>livelock</li>
</ul>
</li>
<li>CPU activity, interrupts, context switching</li>
<li>Modern concurrency constructs with multicore processors</li>
<li><a href="https://www.youtube.com/watch?v=LKe7xK0bF7o&amp;list=PLCiOXwirraUCBE9i_ukL8_Kfg6XNv7Se8&amp;index=2" target="_blank" rel="noopener">Paging, segmentation and virtual memory (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=uFKi2-J-6II&amp;list=PLCiOXwirraUCBE9i_ukL8_Kfg6XNv7Se8&amp;index=3" target="_blank" rel="noopener">Interrupts (video)</a></li>
<li>Process resource needs (memory: code, static storage, stack, heap, and also file descriptors, i/o)</li>
<li>Thread resource needs (shares above (minus stack) with other threads in the same process but each has its own pc, stack counter, registers, and stack)</li>
<li>Forking is really copy on write (read-only) until the new process writes to memory, then it does a full copy.</li>
<li>Context switching<ul>
<li>How context switching is initiated by the operating system and underlying hardware</li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/playlist?list=PL5jc9xFGsL8E12so1wlMS0r0hTQoJL74M" target="_blank" rel="noopener">threads in C++ (series - 10 videos)</a></li>
<li><input disabled="" type="checkbox"> concurrency in Python (videos):<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/playlist?list=PL1H1sBF1VAKVMONJWJkmUh6_p8g4F2oy1" target="_blank" rel="noopener">Short series on threads</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Bs7vPNbB9JM" target="_blank" rel="noopener">Python Threads</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Obt-vMVdM8s" target="_blank" rel="noopener">Understanding the Python GIL (2010)</a><ul>
<li><a href="http://www.dabeaz.com/GIL" target="_blank" rel="noopener">reference</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=MCs5OvhV9S4" target="_blank" rel="noopener">David Beazley - Python Concurrency From the Ground Up: LIVE! - PyCon 2015</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ZzfHjytDceU" target="_blank" rel="noopener">Keynote David Beazley - Topics of Interest (Python Asyncio)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=0zaPs8OtyKY" target="_blank" rel="noopener">Mutex in Python</a></li>
</ul>
</li>
</ul>
</li>
<li><h3 id="Testing"><a href="#Testing" class="headerlink" title="Testing"></a>Testing</h3><ul>
<li>To cover:<ul>
<li>how unit testing works</li>
<li>what are mock objects</li>
<li>what is integration testing</li>
<li>what is dependency injection</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=SAhJf36_u5U" target="_blank" rel="noopener">Agile Software Testing with James Bach (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=ILkT_HV9DVU" target="_blank" rel="noopener">Open Lecture by James Bach on Software Testing (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://vimeo.com/83960706" target="_blank" rel="noopener">Steve Freeman - Test-Driven Development (thatâ€™s not what we meant) (video)</a><ul>
<li><a href="http://gotocon.com/dl/goto-berlin-2013/slides/SteveFreeman_TestDrivenDevelopmentThatsNotWhatWeMeant.pdf" target="_blank" rel="noopener">slides</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Dependency injection:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=IKD2-MAkXyQ" target="_blank" rel="noopener">video</a></li>
<li><input disabled="" type="checkbox"> <a href="http://jasonpolites.github.io/tao-of-testing/ch3-1.1.html" target="_blank" rel="noopener">Tao Of Testing</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://jasonpolites.github.io/tao-of-testing/ch4-1.1.html" target="_blank" rel="noopener">How to write tests</a></li>
</ul>
</li>
<li><h3 id="Scheduling"><a href="#Scheduling" class="headerlink" title="Scheduling"></a>Scheduling</h3><ul>
<li>in an OS, how it works</li>
<li>can be gleaned from Operating System videos</li>
</ul>
</li>
<li><h3 id="String-searching-amp-manipulations"><a href="#String-searching-amp-manipulations" class="headerlink" title="String searching &amp; manipulations"></a>String searching &amp; manipulations</h3><ul>
<li><input disabled="" type="checkbox"> <p><a href="https://www.coursera.org/learn/algorithms-part2/lecture/TH18W/suffix-arrays" target="_blank" rel="noopener">Sedgewick - Suffix Arrays (video)</a></p>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.coursera.org/learn/algorithms-part2/home/week/4" target="_blank" rel="noopener">Sedgewick - Substring Search (videos)</a></p>
<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part2/lecture/n3ZpG/introduction-to-substring-search" target="_blank" rel="noopener">1. Introduction to Substring Search</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part2/lecture/2Kn5i/brute-force-substring-search" target="_blank" rel="noopener">2. Brute-Force Substring Search</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part2/lecture/TAtDr/knuth-morris-pratt" target="_blank" rel="noopener">3. Knuth-Morris Pratt</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part2/lecture/CYxOT/boyer-moore" target="_blank" rel="noopener">4. Boyer-Moore</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part2/lecture/3KiqT/rabin-karp" target="_blank" rel="noopener">5. Rabin-Karp</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <p><a href="https://www.coursera.org/learn/data-structures/lecture/tAfHI/search-pattern-in-text" target="_blank" rel="noopener">Search pattern in text (video)</a></p>
<p>If you need more detail on this subject, see â€œString Matchingâ€ section in <a href="#additional-detail-on-some-subjects">Additional Detail on Some Subjects</a></p>
</li>
</ul>
</li>
<li><h3 id="Tries"><a href="#Tries" class="headerlink" title="Tries"></a>Tries</h3><ul>
<li>Note there are different kinds of tries. Some have prefixes, some donâ€™t, and some use string instead of bits<br>  to track the path.</li>
<li>I read through code, but will not implement.</li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part2/home/week/4" target="_blank" rel="noopener">Sedgewick - Tries (3 videos)</a><ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part2/lecture/CPVdr/r-way-tries" target="_blank" rel="noopener">1. R Way Tries</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part2/lecture/yQM8K/ternary-search-tries" target="_blank" rel="noopener">2. Ternary Search Tries</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part2/lecture/jwNmV/character-based-operations" target="_blank" rel="noopener">3. Character Based Operations</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://www.cs.yale.edu/homes/aspnes/classes/223/notes.html#Tries" target="_blank" rel="noopener">Notes on Data Structures and Programming Techniques</a></li>
<li><input disabled="" type="checkbox"> Short course videos:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/08Xyf/core-introduction-to-tries" target="_blank" rel="noopener">Introduction To Tries (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/PvlZW/core-performance-of-tries" target="_blank" rel="noopener">Performance Of Tries (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/DFvd3/core-implementing-a-trie" target="_blank" rel="noopener">Implementing A Trie (video)</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.toptal.com/java/the-trie-a-neglected-data-structure" target="_blank" rel="noopener">The Trie: A Neglected Data Structure</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.topcoder.com/community/competitive-programming/tutorials/using-tries/" target="_blank" rel="noopener">TopCoder - Using Tries</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=TJ8SkcUSdbU" target="_blank" rel="noopener">Stanford Lecture (real world use case) (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=NinWEPPrkDQ&amp;index=16&amp;list=PLUl4u3cNGP61hsJNdULdudlRL493b-XZf" target="_blank" rel="noopener">MIT, Advanced Data Structures, Strings (can get pretty obscure about halfway through) (video)</a></li>
</ul>
</li>
<li><h3 id="Floating-Point-Numbers"><a href="#Floating-Point-Numbers" class="headerlink" title="Floating Point Numbers"></a>Floating Point Numbers</h3><ul>
<li><input disabled="" type="checkbox"> simple 8-bit: <a href="https://www.youtube.com/watch?v=ji3SfClm8TU" target="_blank" rel="noopener">Representation of Floating Point Numbers - 1 (video - there is an error in calculations - see video description)</a></li>
<li><input disabled="" type="checkbox"> 32 bit: <a href="https://www.youtube.com/watch?v=50ZYcZebIec" target="_blank" rel="noopener">IEEE754 32-bit floating point binary (video)</a></li>
</ul>
</li>
<li><h3 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h3><ul>
<li><input disabled="" type="checkbox"> <a href="http://www.joelonsoftware.com/articles/Unicode.html" target="_blank" rel="noopener">The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets</a></li>
<li><input disabled="" type="checkbox"> <a href="http://kunststube.net/encoding/" target="_blank" rel="noopener">What Every Programmer Absolutely, Positively Needs To Know About Encodings And Character Sets To Work With Text</a></li>
</ul>
</li>
<li><h3 id="Endianness"><a href="#Endianness" class="headerlink" title="Endianness"></a>Endianness</h3><ul>
<li><input disabled="" type="checkbox"> <a href="https://web.archive.org/web/20180107141940/http://www.cs.umd.edu:80/class/sum2003/cmsc311/Notes/Data/endian.html" target="_blank" rel="noopener">Big And Little Endian</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=JrNF0KRAlyo" target="_blank" rel="noopener">Big Endian Vs Little Endian (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=oBSuXP-1Tc0" target="_blank" rel="noopener">Big And Little Endian Inside/Out (video)</a><ul>
<li>Very technical talk for kernel devs. Donâ€™t worry if most is over your head.</li>
<li>The first half is enough.</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="Networking"><a href="#Networking" class="headerlink" title="Networking"></a>Networking</h3><ul>
<li><strong>if you have networking experience or want to be a reliability engineer or operations engineer, expect questions</strong></li>
<li>otherwise, this is just good to know</li>
<li><input disabled="" type="checkbox"> <a href="https://www.khanacademy.org/computing/computer-science/internet-intro" target="_blank" rel="noopener">Khan Academy</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Vdc8TCESIg8" target="_blank" rel="noopener">UDP and TCP: Comparison of Transport Protocols (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=e5DEVa9eSN0" target="_blank" rel="noopener">TCP/IP and the OSI Model Explained! (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=nomyRJehhnM" target="_blank" rel="noopener">Packet Transmission across the Internet. Networking &amp; TCP/IP tutorial. (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=WGJrLqtX7As" target="_blank" rel="noopener">HTTP (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=S2iBR2ZlZf0" target="_blank" rel="noopener">SSL and HTTPS (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=Rp3iZUvXWlM" target="_blank" rel="noopener">SSL/TLS (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=E9FxNzv1Tr8" target="_blank" rel="noopener">HTTP 2.0 (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/playlist?list=PLEbnTDJUr_IegfoqO4iPnPYQui46QqT0j" target="_blank" rel="noopener">Video Series (21 videos) (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=t5xYI0jzOf4" target="_blank" rel="noopener">Subnetting Demystified - Part 5 CIDR Notation (video)</a></li>
<li><input disabled="" type="checkbox"> Sockets:<ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=6G_W54zuadg&amp;t=6s" target="_blank" rel="noopener">Java - Sockets - Introduction (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=G75vN2mnJeQ" target="_blank" rel="noopener">Socket Programming (video)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="System-Design-Scalability-Data-Handling"><a href="#System-Design-Scalability-Data-Handling" class="headerlink" title="System Design, Scalability, Data Handling"></a>System Design, Scalability, Data Handling</h2><p><strong>You can expect system design questions if you have 4+ years of experience.</strong></p>
<ul>
<li>Scalability and System Design are very large topics with many topics and resources, since<pre><code>there is a lot to consider when designing a software/hardware system that can scale.
Expect to spend quite a bit of time on this.</code></pre></li>
<li>Considerations:<ul>
<li>scalability<ul>
<li>Distill large data sets to single values</li>
<li>Transform one data set to another</li>
<li>Handling obscenely large amounts of data</li>
</ul>
</li>
<li>system design<ul>
<li>features sets</li>
<li>interfaces</li>
<li>class hierarchies</li>
<li>designing a system under certain constraints</li>
<li>simplicity and robustness</li>
<li>tradeoffs</li>
<li>performance analysis and optimization</li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <strong>START HERE</strong>: <a href="https://github.com/donnemartin/system-design-primer" target="_blank" rel="noopener">The System Design Primer</a></li>
<li><input disabled="" type="checkbox"> <a href="http://www.hiredintech.com/system-design/" target="_blank" rel="noopener">System Design from HiredInTech</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.quora.com/How-do-I-prepare-to-answer-design-questions-in-a-technical-interview?redirected_qid=1500023" target="_blank" rel="noopener">How Do I Prepare To Answer Design Questions In A Technical Inverview?</a></li>
<li><input disabled="" type="checkbox"> <a href="http://blog.gainlo.co/index.php/2015/10/22/8-things-you-need-to-know-before-system-design-interviews/" target="_blank" rel="noopener">8 Things You Need to Know Before a System Design Interview</a></li>
<li><input disabled="" type="checkbox"> <a href="http://www.hiredintech.com/algorithm-design/" target="_blank" rel="noopener">Algorithm design</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=UrYLYV7WSHM" target="_blank" rel="noopener">Database Normalization - 1NF, 2NF, 3NF and 4NF (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://github.com/checkcheckzz/system-design-interview" target="_blank" rel="noopener">System Design Interview</a> - There are a lot of resources in this one. Look through the articles and examples. I put some of them below.</li>
<li><input disabled="" type="checkbox"> <a href="http://www.palantir.com/2011/10/how-to-rock-a-systems-design-interview/" target="_blank" rel="noopener">How to ace a systems design interview</a></li>
<li><input disabled="" type="checkbox"> <a href="http://everythingisdata.wordpress.com/2009/10/17/numbers-everyone-should-know/" target="_blank" rel="noopener">Numbers Everyone Should Know</a></li>
<li><input disabled="" type="checkbox"> <a href="http://blog.tsunanet.net/2010/11/how-long-does-it-take-to-make-context.html" target="_blank" rel="noopener">How long does it take to make a context switch?</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=srOgpXECblk" target="_blank" rel="noopener">Transactions Across Datacenters (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="http://ksat.me/a-plain-english-introduction-to-cap-theorem/" target="_blank" rel="noopener">A plain English introduction to CAP Theorem</a></li>
<li><input disabled="" type="checkbox"> Consensus Algorithms:<ul>
<li><input disabled="" type="checkbox"> Paxos - <a href="https://www.youtube.com/watch?v=s8JqcZtvnsM" target="_blank" rel="noopener">Paxos Agreement - Computerphile (video)</a></li>
<li><input disabled="" type="checkbox"> Raft - <a href="https://www.youtube.com/watch?v=P9Ydif5_qvE" target="_blank" rel="noopener">An Introduction to the Raft Distributed Consensus Algorithm (video)</a><ul>
<li><input disabled="" type="checkbox"> <a href="https://raft.github.io/" target="_blank" rel="noopener">Easy-to-read paper</a></li>
<li><input disabled="" type="checkbox"> <a href="http://thesecretlivesofdata.com/raft/" target="_blank" rel="noopener">Infographic</a></li>
</ul>
</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://www.tom-e-white.com/2007/11/consistent-hashing.html" target="_blank" rel="noopener">Consistent Hashing</a></li>
<li><input disabled="" type="checkbox"> <a href="http://horicky.blogspot.com/2009/11/nosql-patterns.html" target="_blank" rel="noopener">NoSQL Patterns</a></li>
<li><input disabled="" type="checkbox"> Scalability:<ul>
<li>You donâ€™t need all of these. Just pick a few that interest you.</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=-W9F__D3oY4" target="_blank" rel="noopener">Great overview (video)</a></li>
<li><input disabled="" type="checkbox"> Short series:<ul>
<li><a href="http://www.lecloud.net/post/7295452622/scalability-for-dummies-part-1-clones" target="_blank" rel="noopener">Clones</a></li>
<li><a href="http://www.lecloud.net/post/7994751381/scalability-for-dummies-part-2-database" target="_blank" rel="noopener">Database</a></li>
<li><a href="http://www.lecloud.net/post/9246290032/scalability-for-dummies-part-3-cache" target="_blank" rel="noopener">Cache</a></li>
<li><a href="http://www.lecloud.net/post/9699762917/scalability-for-dummies-part-4-asynchronism" target="_blank" rel="noopener">Asynchronism</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://www.aosabook.org/en/distsys.html" target="_blank" rel="noopener">Scalable Web Architecture and Distributed Systems</a></li>
<li><input disabled="" type="checkbox"> <a href="https://pages.cs.wisc.edu/~zuyu/files/fallacies.pdf" target="_blank" rel="noopener">Fallacies of Distributed Computing Explained</a></li>
<li><input disabled="" type="checkbox"> <a href="http://horicky.blogspot.com/2010/10/scalable-system-design-patterns.html" target="_blank" rel="noopener">Pragmatic Programming Techniques</a><ul>
<li><a href="http://horicky.blogspot.com/2010/07/google-pregel-graph-processing.html" target="_blank" rel="noopener">extra: Google Pregel Graph Processing</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=modXC5IWTJI" target="_blank" rel="noopener">Jeff Dean - Building Software Systems At Google and Lessons Learned (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="http://lethain.com/introduction-to-architecting-systems-for-scale/" target="_blank" rel="noopener">Introduction to Architecting Systems for Scale</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=9nWyWwY2Onc" target="_blank" rel="noopener">Scaling mobile games to a global audience using App Engine and Cloud Datastore (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=H4vMcD7zKM0" target="_blank" rel="noopener">How Google Does Planet-Scale Engineering for Planet-Scale Infra (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.topcoder.com/community/competitive-programming/tutorials/the-importance-of-algorithms/" target="_blank" rel="noopener">The Importance of Algorithms</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2009/8/6/an-unorthodox-approach-to-database-design-the-coming-of-the.html" target="_blank" rel="noopener">Sharding</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=oodS71YtkGU" target="_blank" rel="noopener">Scale at Facebook (2012), â€œBuilding for a Billion Usersâ€ (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=p0jGmgIrf_M&amp;list=PLRXxvay_m8gqVlExPC5DG3TGWJTaBgqSA&amp;index=4" target="_blank" rel="noopener">Engineering for the Long Game - Astrid Atkinson Keynote(video)</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2012/3/26/7-years-of-youtube-scalability-lessons-in-30-minutes.html" target="_blank" rel="noopener">7 Years Of YouTube Scalability Lessons In 30 Minutes</a><ul>
<li><a href="https://www.youtube.com/watch?v=G-lGCC4KKok" target="_blank" rel="noopener">video</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/8/15/how-paypal-scaled-to-billions-of-transactions-daily-using-ju.html" target="_blank" rel="noopener">How PayPal Scaled To Billions Of Transactions Daily Using Just 8VMs</a></li>
<li><input disabled="" type="checkbox"> <a href="https://blog.clevertap.com/how-to-remove-duplicates-in-large-datasets/" target="_blank" rel="noopener">How to Remove Duplicates in Large Datasets</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=3vV4YiqKm1o" target="_blank" rel="noopener">A look inside Etsyâ€™s scale and engineering culture with Jon Cowie (video)</a></li>
<li><input disabled="" type="checkbox"> <a href="http://thenewstack.io/led-amazon-microservices-architecture/" target="_blank" rel="noopener">What Led Amazon to its Own Microservices Architecture</a></li>
<li><input disabled="" type="checkbox"> <a href="https://eng.uber.com/trip-data-squeeze/" target="_blank" rel="noopener">To Compress Or Not To Compress, That Was Uberâ€™s Question</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/3/3/asyncio-tarantool-queue-get-in-the-queue.html" target="_blank" rel="noopener">Asyncio Tarantool Queue, Get In The Queue</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/2/25/when-should-approximate-query-processing-be-used.html" target="_blank" rel="noopener">When Should Approximate Query Processing Be Used?</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/2/23/googles-transition-from-single-datacenter-to-failover-to-a-n.html" target="_blank" rel="noopener">Googleâ€™s Transition From Single Datacenter, To Failover, To A Native Multihomed Architecture</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2012/9/24/google-spanners-most-surprising-revelation-nosql-is-out-and.html" target="_blank" rel="noopener">Spanner</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/7/6/machine-learning-driven-programming-a-new-programming-for-a.html" target="_blank" rel="noopener">Machine Learning Driven Programming: A New Programming For A New World</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/6/15/the-image-optimization-technology-that-serves-millions-of-re.html" target="_blank" rel="noopener">The Image Optimization Technology That Serves Millions Of Requests Per Day</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/2/1/a-patreon-architecture-short.html" target="_blank" rel="noopener">A Patreon Architecture Short</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/1/27/tinder-how-does-one-of-the-largest-recommendation-engines-de.html" target="_blank" rel="noopener">Tinder: How Does One Of The Largest Recommendation Engines Decide Who Youâ€™ll See Next?</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/1/25/design-of-a-modern-cache.html" target="_blank" rel="noopener">Design Of A Modern Cache</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/1/13/live-video-streaming-at-facebook-scale.html" target="_blank" rel="noopener">Live Video Streaming At Facebook Scale</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2016/1/11/a-beginners-guide-to-scaling-to-11-million-users-on-amazons.html" target="_blank" rel="noopener">A Beginnerâ€™s Guide To Scaling To 11 Million+ Users On Amazonâ€™s AWS</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2015/12/16/how-does-the-use-of-docker-effect-latency.html" target="_blank" rel="noopener">How Does The Use Of Docker Effect Latency?</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2015/11/9/a-360-degree-view-of-the-entire-netflix-stack.html" target="_blank" rel="noopener">A 360 Degree View Of The Entire Netflix Stack</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/latency-everywhere-and-it-costs-you-sales-how-crush-it" target="_blank" rel="noopener">Latency Is Everywhere And It Costs You Sales - How To Crush It</a></li>
<li><input disabled="" type="checkbox"> <a href="http://martinfowler.com/articles/serverless.html" target="_blank" rel="noopener">Serverless (very long, just need the gist)</a></li>
<li><input disabled="" type="checkbox"> <a href="http://instagram-engineering.tumblr.com/post/13649370142/what-powers-instagram-hundreds-of-instances" target="_blank" rel="noopener">What Powers Instagram: Hundreds of Instances, Dozens of Technologies</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2012/7/16/cinchcast-architecture-producing-1500-hours-of-audio-every-d.html" target="_blank" rel="noopener">Cinchcast Architecture - Producing 1,500 Hours Of Audio Every Day</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2010/3/16/justintvs-live-video-broadcasting-architecture.html" target="_blank" rel="noopener">Justin.Tvâ€™s Live Video Broadcasting Architecture</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2010/9/21/playfishs-social-gaming-architecture-50-million-monthly-user.html" target="_blank" rel="noopener">Playfishâ€™s Social Gaming Architecture - 50 Million Monthly Users And Growing</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2011/6/27/tripadvisor-architecture-40m-visitors-200m-dynamic-page-view.html" target="_blank" rel="noopener">TripAdvisor Architecture - 40M Visitors, 200M Dynamic Page Views, 30TB Data</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/plentyoffish-architecture" target="_blank" rel="noopener">PlentyOfFish Architecture</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2013/9/23/salesforce-architecture-how-they-handle-13-billion-transacti.html" target="_blank" rel="noopener">Salesforce Architecture - How They Handle 1.3 Billion Transactions A Day</a></li>
<li><input disabled="" type="checkbox"> <a href="http://highscalability.com/blog/2013/11/4/espns-architecture-at-scale-operating-at-100000-duh-nuh-nuhs.html" target="_blank" rel="noopener">ESPNâ€™s Architecture At Scale - Operating At 100,000 Duh Nuh Nuhs Per Second</a></li>
<li><input disabled="" type="checkbox"> See â€œMessaging, Serialization, and Queueing Systemsâ€ way below for info on some of the technologies that can glue services together</li>
<li><input disabled="" type="checkbox"> Twitter:<ul>
<li><a href="https://www.youtube.com/watch?v=5cKTP36HVgI" target="_blank" rel="noopener">Oâ€™Reilly MySQL CE 2011: Jeremy Cole, â€œBig and Small Data at @Twitterâ€ (video)</a></li>
<li><a href="https://www.infoq.com/presentations/Twitter-Timeline-Scalability" target="_blank" rel="noopener">Timelines at Scale</a></li>
</ul>
</li>
<li>For even more, see â€œMining Massive Datasetsâ€ video series in the <a href="#video-series">Video Series</a> section.</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Practicing the system design process: Here are some ideas to try working through on paper, each with some documentation on how it was handled in the real world:<ul>
<li>review: <a href="https://github.com/donnemartin/system-design-primer" target="_blank" rel="noopener">The System Design Primer</a></li>
<li><a href="http://www.hiredintech.com/system-design/" target="_blank" rel="noopener">System Design from HiredInTech</a></li>
<li><a href="https://github.com/jwasham/coding-interview-university/blob/master/extras/cheat%20sheets/system-design.pdf" target="_blank" rel="noopener">cheat sheet</a></li>
<li>flow:<ol>
<li>Understand the problem and scope:<ul>
<li>define the use cases, with interviewerâ€™s help</li>
<li>suggest additional features</li>
<li>remove items that interviewer deems out of scope</li>
<li>assume high availability is required, add as a use case</li>
</ul>
</li>
<li>Think about constraints:<ul>
<li>ask how many requests per month</li>
<li>ask how many requests per second (they may volunteer it or make you do the math)</li>
<li>estimate reads vs. writes percentage</li>
<li>keep 80/20 rule in mind when estimating</li>
<li>how much data written per second</li>
<li>total storage required over 5 years</li>
<li>how much data read per second</li>
</ul>
</li>
<li>Abstract design:<ul>
<li>layers (service, data, caching)</li>
<li>infrastructure: load balancing, messaging</li>
<li>rough overview of any key algorithm that drives the service</li>
<li>consider bottlenecks and determine solutions</li>
</ul>
</li>
</ol>
</li>
<li>Exercises:<ul>
<li><a href="http://repository.cmu.edu/cgi/viewcontent.cgi?article=2112&amp;context=compsci" target="_blank" rel="noopener">Design a CDN network: old article</a></li>
<li><a href="https://blog.twitter.com/2010/announcing-snowflake" target="_blank" rel="noopener">Design a random unique ID generation system</a></li>
<li><a href="http://www.indieflashblog.com/how-to-create-an-asynchronous-multiplayer-game.html" target="_blank" rel="noopener">Design an online multiplayer card game</a></li>
<li><a href="http://www.slideshare.net/dvirsky/introduction-to-redis" target="_blank" rel="noopener">Design a key-value database</a></li>
<li><a href="http://highscalability.com/blog/2011/12/6/instagram-architecture-14-million-users-terabytes-of-photos.html" target="_blank" rel="noopener">Design a picture sharing system</a></li>
<li><a href="http://ijcai13.org/files/tutorial_slides/td3.pdf" target="_blank" rel="noopener">Design a recommendation system</a></li>
<li><a href="http://www.hiredintech.com/system-design/the-system-design-process/" target="_blank" rel="noopener">Design a URL-shortener system: copied from above</a></li>
<li><a href="https://www.adayinthelifeof.nl/2011/02/06/memcache-internals/" target="_blank" rel="noopener">Design a cache system</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="Final-Review"><a href="#Final-Review" class="headerlink" title="Final Review"></a>Final Review</h2><pre><code>This section will have shorter videos that you can watch pretty quickly to review most of the important concepts.
It's nice if you want a refresher often.</code></pre><ul>
<li><input disabled="" type="checkbox"> Series of 2-3 minutes short subject videos (23 videos)<ul>
<li><a href="https://www.youtube.com/watch?v=r4r1DZcx1cM&amp;list=PLmVb1OknmNJuC5POdcDv5oCS7_OUkDgpj&amp;index=22" target="_blank" rel="noopener">Videos</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Series of 2-5 minutes short subject videos - Michael Sambol (18 videos):<ul>
<li><a href="https://www.youtube.com/channel/UCzDJwLWoYCUQowF_nG3m5OQ" target="_blank" rel="noopener">Videos</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part1" target="_blank" rel="noopener">Sedgewick Videos - Algorithms I</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.coursera.org/learn/algorithms-part2" target="_blank" rel="noopener">Sedgewick Videos - Algorithms II</a></li>
</ul>
<hr>
<h2 id="Coding-Question-Practice"><a href="#Coding-Question-Practice" class="headerlink" title="Coding Question Practice"></a>Coding Question Practice</h2><p>Now that you know all the computer science topics above, itâ€™s time to practice answering coding problems.</p>
<p><strong>Coding question practice is not about memorizing answers to programming problems.</strong></p>
<p>Why you need to practice doing programming problems:</p>
<ul>
<li>problem recognition, and where the right data structures and algorithms fit in</li>
<li>gathering requirements for the problem</li>
<li>talking your way through the problem like you will in the interview</li>
<li>coding on a whiteboard or paper, not a computer</li>
<li>coming up with time and space complexity for your solutions</li>
<li>testing your solutions</li>
</ul>
<p>There is a great intro for methodical, communicative problem solving in an interview. Youâ€™ll get this from the programming<br>interview books, too, but I found this outstanding:<br><a href="http://www.hiredintech.com/algorithm-design/" target="_blank" rel="noopener">Algorithm design canvas</a></p>
<p>No whiteboard at home? That makes sense. Iâ€™m a weirdo and have a big whiteboard. Instead of a whiteboard, pick up a<br>large drawing pad from an art store. You can sit on the couch and practice. This is my â€œsofa whiteboardâ€.<br>I added the pen in the photo for scale. If you use a pen, youâ€™ll wish you could erase. Gets messy quick. I use a pencil<br>and eraser.</p>
<p><img src="https://d3j2pkmjtin6ou.cloudfront.net/art_board_sm_2.jpg" alt="my sofa whiteboard"></p>
<p>Supplemental:</p>
<ul>
<li><a href="https://www.topcoder.com/community/competitive-programming/tutorials/mathematics-for-topcoders/" target="_blank" rel="noopener">Mathematics for Topcoders</a></li>
<li><a href="https://www.topcoder.com/community/competitive-programming/tutorials/dynamic-programming-from-novice-to-advanced/" target="_blank" rel="noopener">Dynamic Programming â€“ From Novice to Advanced</a></li>
<li><a href="https://web.archive.org/web/20160906124824/http://courses.csail.mit.edu/iap/interview/materials.php" target="_blank" rel="noopener">MIT Interview Materials</a></li>
<li><a href="http://exercism.io/languages" target="_blank" rel="noopener">Exercises for getting better at a given language</a></li>
</ul>
<p><strong>Read and Do Programming Problems (in this order):</strong></p>
<ul>
<li><input disabled="" type="checkbox"> <a href="http://www.wiley.com/WileyCDA/WileyTitle/productCd-047012167X.html" target="_blank" rel="noopener">Programming Interviews Exposed: Secrets to Landing Your Next Job, 2nd Edition</a><ul>
<li>answers in C, C++ and Java</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> <a href="http://www.amazon.com/Cracking-Coding-Interview-6th-Programming/dp/0984782850/" target="_blank" rel="noopener">Cracking the Coding Interview, 6th Edition</a><ul>
<li>answers in Java</li>
</ul>
</li>
</ul>
<p>See <a href="#book-list">Book List above</a></p>
<h2 id="Coding-exercises-challenges"><a href="#Coding-exercises-challenges" class="headerlink" title="Coding exercises/challenges"></a>Coding exercises/challenges</h2><p>Once youâ€™ve learned your brains out, put those brains to work.<br>Take coding challenges every day, as many as you can.</p>
<ul>
<li><a href="https://www.topcoder.com/community/competitive-programming/tutorials/how-to-find-a-solution/" target="_blank" rel="noopener">How to Find a Solution</a></li>
<li><a href="https://www.topcoder.com/community/competitive-programming/tutorials/how-to-dissect-a-topcoder-problem-statement/" target="_blank" rel="noopener">How to Dissect a Topcoder Problem Statement</a></li>
</ul>
<p>Coding Interview Question Videos:</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=NBcqBddFbZw&amp;list=PLamzFoFxwoNjPfxzaWqs7cZGsPYy0x_gI" target="_blank" rel="noopener">IDeserve (88 videos)</a></li>
<li><a href="https://www.youtube.com/user/tusharroy2525/playlists?shelf_id=2&amp;view=50&amp;sort=dd" target="_blank" rel="noopener">Tushar Roy (5 playlists)</a></li>
</ul>
<p>Challenge sites:</p>
<ul>
<li><a href="https://leetcode.com/" target="_blank" rel="noopener">LeetCode</a></li>
<li><a href="https://www.topcoder.com/" target="_blank" rel="noopener">TopCoder</a></li>
<li><a href="https://projecteuler.net/index.php?section=problems" target="_blank" rel="noopener">Project Euler (math-focused)</a></li>
<li><a href="http://www.codewars.com" target="_blank" rel="noopener">Codewars</a></li>
<li><a href="https://www.hackerearth.com/" target="_blank" rel="noopener">HackerEarth</a></li>
<li><a href="https://www.hackerrank.com/" target="_blank" rel="noopener">HackerRank</a></li>
<li><a href="https://codility.com/programmers/" target="_blank" rel="noopener">Codility</a></li>
<li><a href="https://www.interviewcake.com/" target="_blank" rel="noopener">InterviewCake</a></li>
<li><a href="http://www.geeksforgeeks.org/" target="_blank" rel="noopener">Geeks for Geeks</a></li>
<li><a href="https://www.interviewbit.com/invite/icjf" target="_blank" rel="noopener">InterviewBit</a></li>
<li><a href="http://www.spoj.com/" target="_blank" rel="noopener">Sphere Online Judge (spoj)</a></li>
<li><a href="https://www.codechef.com/" target="_blank" rel="noopener">Codechef</a></li>
</ul>
<p>Challenge repos:</p>
<ul>
<li><a href="https://github.com/donnemartin/interactive-coding-challenges" target="_blank" rel="noopener">Interactive Coding Interview Challenges in Python</a></li>
</ul>
<p>Mock Interviews:</p>
<ul>
<li><a href="http://www.gainlo.co/" target="_blank" rel="noopener">Gainlo.co: Mock interviewers from big companies</a> - I used this and it helped me relax for the phone screen and on-site interview.</li>
<li><a href="https://www.pramp.com/" target="_blank" rel="noopener">Pramp: Mock interviews from/with peers</a> - peer-to-peer model of practice interviews</li>
<li><a href="https://refdash.com/" target="_blank" rel="noopener">Refdash: Mock interviews and expedited interviews</a> - also help candidates fast track by skipping multiple interviews with tech companies.</li>
</ul>
<h2 id="Once-youâ€™re-closer-to-the-interview"><a href="#Once-youâ€™re-closer-to-the-interview" class="headerlink" title="Once youâ€™re closer to the interview"></a>Once youâ€™re closer to the interview</h2><ul>
<li>Cracking The Coding Interview Set 2 (videos):<ul>
<li><a href="https://www.youtube.com/watch?v=4NIb9l3imAo" target="_blank" rel="noopener">Cracking The Code Interview</a></li>
<li><a href="https://www.youtube.com/watch?v=Eg5-tdAwclo" target="_blank" rel="noopener">Cracking the Coding Interview - Fullstack Speaker Series</a></li>
</ul>
</li>
</ul>
<h2 id="Your-Resume"><a href="#Your-Resume" class="headerlink" title="Your Resume"></a>Your Resume</h2><ul>
<li>See Resume prep items in Cracking The Coding Interview and back of Programming Interviews Exposed</li>
</ul>
<h2 id="Be-thinking-of-for-when-the-interview-comes"><a href="#Be-thinking-of-for-when-the-interview-comes" class="headerlink" title="Be thinking of for when the interview comes"></a>Be thinking of for when the interview comes</h2><p>Think of about 20 interview questions youâ€™ll get, along with the lines of the items below. Have 2-3 answers for each.<br>Have a story, not just data, about something you accomplished.</p>
<ul>
<li>Why do you want this job?</li>
<li>Whatâ€™s a tough problem youâ€™ve solved?</li>
<li>Biggest challenges faced?</li>
<li>Best/worst designs seen?</li>
<li>Ideas for improving an existing product.</li>
<li>How do you work best, as an individual and as part of a team?</li>
<li>Which of your skills or experiences would be assets in the role and why?</li>
<li>What did you most enjoy at [job x / project y]?</li>
<li>What was the biggest challenge you faced at [job x / project y]?</li>
<li>What was the hardest bug you faced at [job x / project y]?</li>
<li>What did you learn at [job x / project y]?</li>
<li>What would you have done better at [job x / project y]?</li>
</ul>
<h2 id="Have-questions-for-the-interviewer"><a href="#Have-questions-for-the-interviewer" class="headerlink" title="Have questions for the interviewer"></a>Have questions for the interviewer</h2><pre><code>Some of mine (I already may know answer to but want their opinion or team perspective):</code></pre><ul>
<li>How large is your team?</li>
<li>What does your dev cycle look like? Do you do waterfall/sprints/agile?</li>
<li>Are rushes to deadlines common? Or is there flexibility?</li>
<li>How are decisions made in your team?</li>
<li>How many meetings do you have per week?</li>
<li>Do you feel your work environment helps you concentrate?</li>
<li>What are you working on?</li>
<li>What do you like about it?</li>
<li>What is the work life like?</li>
<li>How is work/life balance?</li>
</ul>
<h2 id="Once-Youâ€™ve-Got-The-Job"><a href="#Once-Youâ€™ve-Got-The-Job" class="headerlink" title="Once Youâ€™ve Got The Job"></a>Once Youâ€™ve Got The Job</h2><p>Congratulations!</p>
<p>Keep learning.</p>
<p>Youâ€™re never really done.</p>
<hr>
<pre><code>*****************************************************************************************************
*****************************************************************************************************

Everything below this point is optional.
By studying these, you'll get greater exposure to more CS concepts, and will be better prepared for
any software engineering job. You'll be a much more well-rounded software engineer.

*****************************************************************************************************
*****************************************************************************************************</code></pre><hr>
<h2 id="Additional-Books"><a href="#Additional-Books" class="headerlink" title="Additional Books"></a>Additional Books</h2><pre><code>These are here so you can dive into a topic you find interesting.</code></pre><ul>
<li><p><a href="https://www.amazon.com/dp/013937681X" target="_blank" rel="noopener">The Unix Programming Environment</a></p>
<ul>
<li>an oldie but a goodie</li>
</ul>
</li>
<li><p><a href="https://www.amazon.com/dp/1593273894/" target="_blank" rel="noopener">The Linux Command Line: A Complete Introduction</a></p>
<ul>
<li>a modern option</li>
</ul>
</li>
<li><p><a href="https://en.wikipedia.org/wiki/TCP/IP_Illustrated" target="_blank" rel="noopener">TCP/IP Illustrated Series</a></p>
</li>
<li><p><a href="https://www.amazon.com/gp/product/0596007124/" target="_blank" rel="noopener">Head First Design Patterns</a></p>
<ul>
<li>a gentle introduction to design patterns</li>
</ul>
</li>
<li><p><a href="https://www.amazon.com/Design-Patterns-Elements-Reusable-Object-Oriented/dp/0201633612" target="_blank" rel="noopener">Design Patterns: Elements of Reusable Object-Orienteâ€‹d Software</a></p>
<ul>
<li>aka the â€œGang Of Fourâ€ book, or GOF</li>
<li>the canonical design patterns book</li>
</ul>
</li>
<li><p><a href="https://www.amazon.com/UNIX-Linux-System-Administration-Handbook/dp/0134277554/" target="_blank" rel="noopener">UNIX and Linux System Administration Handbook, 5th Edition</a></p>
</li>
<li><p><a href="http://www.amazon.com/Algorithm-Design-Manual-Steven-Skiena/dp/1849967202" target="_blank" rel="noopener">Algorithm Design Manual</a> (Skiena)</p>
<ul>
<li>As a review and problem recognition</li>
<li>The algorithm catalog portion is well beyond the scope of difficulty youâ€™ll get in an interview.</li>
<li>This book has 2 parts:<ul>
<li>class textbook on data structures and algorithms<ul>
<li>pros:<ul>
<li>is a good review as any algorithms textbook would be</li>
<li>nice stories from his experiences solving problems in industry and academia</li>
<li>code examples in C</li>
</ul>
</li>
<li>cons:<ul>
<li>can be as dense or impenetrable as CLRS, and in some cases, CLRS may be a better alternative for some subjects</li>
<li>chapters 7, 8, 9 can be painful to try to follow, as some items are not explained well or require more brain than I have</li>
<li>donâ€™t get me wrong: I like Skiena, his teaching style, and mannerisms, but I may not be Stony Brook material.</li>
</ul>
</li>
</ul>
</li>
<li>algorithm catalog:<ul>
<li>this is the real reason you buy this book.</li>
<li>about to get to this part. Will update here once Iâ€™ve made my way through it.</li>
</ul>
</li>
</ul>
</li>
<li>Can rent it on kindle</li>
<li>Answers:<ul>
<li><a href="http://www.algorithm.cs.sunysb.edu/algowiki/index.php/The_Algorithms_Design_Manual_(Second_Edition)" target="_blank" rel="noopener">Solutions</a></li>
<li><a href="http://blog.panictank.net/category/algorithmndesignmanualsolutions/page/2/" target="_blank" rel="noopener">Solutions</a></li>
</ul>
</li>
<li><a href="http://www3.cs.stonybrook.edu/~skiena/algorist/book/errata" target="_blank" rel="noopener">Errata</a></li>
</ul>
</li>
<li><p><a href="https://www.amazon.com/Write-Great-Code-Understanding-Machine/dp/1593270038" target="_blank" rel="noopener">Write Great Code: Volume 1: Understanding the Machine</a></p>
<ul>
<li>The book was published in 2004, and is somewhat outdated, but itâ€™s a terrific resource for understanding a computer in brief.</li>
<li>The author invented <a href="https://en.wikipedia.org/wiki/High_Level_Assembly" target="_blank" rel="noopener">HLA</a>, so take mentions and examples in HLA with a grain of salt. Not widely used, but decent examples of what assembly looks like.</li>
<li>These chapters are worth the read to give you a nice foundation:<ul>
<li>Chapter 2 - Numeric Representation</li>
<li>Chapter 3 - Binary Arithmetic and Bit Operations</li>
<li>Chapter 4 - Floating-Point Representation</li>
<li>Chapter 5 - Character Representation</li>
<li>Chapter 6 - Memory Organization and Access</li>
<li>Chapter 7 - Composite Data Types and Memory Objects</li>
<li>Chapter 9 - CPU Architecture</li>
<li>Chapter 10 - Instruction Set Architecture</li>
<li>Chapter 11 - Memory Architecture and Organization</li>
</ul>
</li>
</ul>
</li>
<li><p><a href="https://www.amazon.com/Introduction-Algorithms-3rd-MIT-Press/dp/0262033844" target="_blank" rel="noopener">Introduction to Algorithms</a></p>
<ul>
<li><strong>Important:</strong> Reading this book will only have limited value. This book is a great review of algorithms and data structures, but wonâ€™t teach you how to write good code. You have to be able to code a decent solution efficiently.</li>
<li>aka CLR, sometimes CLRS, because Stein was late to the game</li>
</ul>
</li>
<li><p><a href="https://www.amazon.com/dp/0128119055" target="_blank" rel="noopener">Computer Architecture, Sixth Edition: A Quantitative Approach</a></p>
<ul>
<li>For a richer, more up-to-date (2017), but longer treatment</li>
</ul>
</li>
<li><p><a href="http://www.amazon.com/Programming-Pearls-2nd-Jon-Bentley/dp/0201657880" target="_blank" rel="noopener">Programming Pearls</a></p>
<ul>
<li>The first couple of chapters present clever solutions to programming problems (some very old using data tape) but<br>that is just an intro. This a guidebook on program design and architecture.</li>
</ul>
</li>
</ul>
<h2 id="Additional-Learning"><a href="#Additional-Learning" class="headerlink" title="Additional Learning"></a>Additional Learning</h2><pre><code>I added them to help you become a well-rounded software engineer, and to be aware of certain 
technologies and algorithms, so you'll have a bigger toolbox.</code></pre><ul>
<li><h3 id="Compilers"><a href="#Compilers" class="headerlink" title="Compilers"></a>Compilers</h3><ul>
<li><a href="https://www.youtube.com/watch?v=IhC7sdYe-Jg" target="_blank" rel="noopener">How a Compiler Works in ~1 minute (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=CSZLNYF4Klo" target="_blank" rel="noopener">Harvard CS50 - Compilers (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=twodd1KFfGk" target="_blank" rel="noopener">C++ (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=FnGCDLhaxKU" target="_blank" rel="noopener">Understanding Compiler Optimization (C++) (video)</a></li>
</ul>
</li>
<li><h3 id="Emacs-and-vi-m"><a href="#Emacs-and-vi-m" class="headerlink" title="Emacs and vi(m)"></a>Emacs and vi(m)</h3><ul>
<li>Familiarize yourself with a unix-based code editor</li>
<li>vi(m):<ul>
<li><a href="https://www.youtube.com/watch?v=5givLEMcINQ&amp;index=1&amp;list=PL13bz4SHGmRxlZVmWQ9DvXo1fEg4UdGkr" target="_blank" rel="noopener">Editing With vim 01 - Installation, Setup, and The Modes (video)</a></li>
<li><a href="http://vim-adventures.com/" target="_blank" rel="noopener">VIM Adventures</a></li>
<li>set of 4 videos:<ul>
<li><a href="https://www.youtube.com/watch?v=SI8TeVMX8pk" target="_blank" rel="noopener">The vi/vim editor - Lesson 1</a></li>
<li><a href="https://www.youtube.com/watch?v=F3OO7ZIOaJE" target="_blank" rel="noopener">The vi/vim editor - Lesson 2</a></li>
<li><a href="https://www.youtube.com/watch?v=ZYEccA_nMaI" target="_blank" rel="noopener">The vi/vim editor - Lesson 3</a></li>
<li><a href="https://www.youtube.com/watch?v=1lYD5gwgZIA" target="_blank" rel="noopener">The vi/vim editor - Lesson 4</a></li>
</ul>
</li>
<li><a href="http://www.cs.yale.edu/homes/aspnes/classes/223/notes.html#Using_Vi_instead_of_Emacs" target="_blank" rel="noopener">Using Vi Instead of Emacs</a></li>
</ul>
</li>
<li>emacs:<ul>
<li><a href="https://www.youtube.com/watch?v=hbmV1bnQ-i0" target="_blank" rel="noopener">Basics Emacs Tutorial (video)</a></li>
<li>set of 3 (videos):<ul>
<li><a href="https://www.youtube.com/watch?v=ujODL7MD04Q" target="_blank" rel="noopener">Emacs Tutorial (Beginners) -Part 1- File commands, cut/copy/paste, cursor commands</a></li>
<li><a href="https://www.youtube.com/watch?v=XWpsRupJ4II" target="_blank" rel="noopener">Emacs Tutorial (Beginners) -Part 2- Buffer management, search, M-x grep and rgrep modes</a></li>
<li><a href="https://www.youtube.com/watch?v=paSgzPso-yc" target="_blank" rel="noopener">Emacs Tutorial (Beginners) -Part 3- Expressions, Statements, ~/.emacs file and packages</a></li>
</ul>
</li>
<li><a href="https://www.youtube.com/watch?v=JWD1Fpdd4Pc" target="_blank" rel="noopener">Evil Mode: Or, How I Learned to Stop Worrying and Love Emacs (video)</a></li>
<li><a href="http://www.cs.yale.edu/homes/aspnes/classes/223/notes.html#Writing_C_programs_with_Emacs" target="_blank" rel="noopener">Writing C Programs With Emacs</a></li>
<li><a href="https://www.youtube.com/watch?v=nsGYet02bEk" target="_blank" rel="noopener">(maybe) Org Mode In Depth: Managing Structure (video)</a></li>
</ul>
</li>
</ul>
</li>
<li><h3 id="Unix-command-line-tools"><a href="#Unix-command-line-tools" class="headerlink" title="Unix command line tools"></a>Unix command line tools</h3><ul>
<li>I filled in the list below from good tools.</li>
<li>bash</li>
<li>cat</li>
<li>grep</li>
<li>sed</li>
<li>awk</li>
<li>curl or wget</li>
<li>sort</li>
<li>tr</li>
<li>uniq</li>
<li><a href="https://en.wikipedia.org/wiki/Strace" target="_blank" rel="noopener">strace</a></li>
<li><a href="https://danielmiessler.com/study/tcpdump/" target="_blank" rel="noopener">tcpdump</a></li>
</ul>
</li>
<li><h3 id="Information-theory-videos"><a href="#Information-theory-videos" class="headerlink" title="Information theory (videos)"></a>Information theory (videos)</h3><ul>
<li><a href="https://www.khanacademy.org/computing/computer-science/informationtheory" target="_blank" rel="noopener">Khan Academy</a></li>
<li>more about Markov processes:<ul>
<li><a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/waxgx/core-markov-text-generation" target="_blank" rel="noopener">Core Markov Text Generation</a></li>
<li><a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/gZhiC/core-implementing-markov-text-generation" target="_blank" rel="noopener">Core Implementing Markov Text Generation</a></li>
<li><a href="https://www.coursera.org/learn/data-structures-optimizing-performance/lecture/EUjrq/project-markov-text-generation-walk-through" target="_blank" rel="noopener">Project = Markov Text Generation Walk Through</a></li>
</ul>
</li>
<li>See more in MIT 6.050J Information and Entropy series below.</li>
</ul>
</li>
<li><h3 id="Parity-amp-Hamming-Code-videos"><a href="#Parity-amp-Hamming-Code-videos" class="headerlink" title="Parity &amp; Hamming Code (videos)"></a>Parity &amp; Hamming Code (videos)</h3><ul>
<li><a href="https://www.youtube.com/watch?v=q-3BctoUpHE" target="_blank" rel="noopener">Intro</a></li>
<li><a href="https://www.youtube.com/watch?v=DdMcAUlxh1M" target="_blank" rel="noopener">Parity</a></li>
<li>Hamming Code:<ul>
<li><a href="https://www.youtube.com/watch?v=1A_NcXxdoCc" target="_blank" rel="noopener">Error detection</a></li>
<li><a href="https://www.youtube.com/watch?v=JAMLuxdHH8o" target="_blank" rel="noopener">Error correction</a></li>
</ul>
</li>
<li><a href="https://www.youtube.com/watch?v=wbH2VxzmoZk" target="_blank" rel="noopener">Error Checking</a></li>
</ul>
</li>
<li><h3 id="Entropy"><a href="#Entropy" class="headerlink" title="Entropy"></a>Entropy</h3><ul>
<li>also see videos below</li>
<li>make sure to watch information theory videos first</li>
<li><a href="https://youtu.be/JnJq3Py0dyM?t=176" target="_blank" rel="noopener">Information Theory, Claude Shannon, Entropy, Redundancy, Data Compression &amp; Bits (video)</a></li>
</ul>
</li>
<li><h3 id="Cryptography"><a href="#Cryptography" class="headerlink" title="Cryptography"></a>Cryptography</h3><ul>
<li>also see videos below</li>
<li>make sure to watch information theory videos first</li>
<li><a href="https://www.khanacademy.org/computing/computer-science/cryptography" target="_blank" rel="noopener">Khan Academy Series</a></li>
<li><a href="https://www.youtube.com/watch?v=KqqOXndnvic&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=30" target="_blank" rel="noopener">Cryptography: Hash Functions</a></li>
<li><a href="https://www.youtube.com/watch?v=9TNI2wHmaeI&amp;index=31&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp" target="_blank" rel="noopener">Cryptography: Encryption</a></li>
</ul>
</li>
<li><h3 id="Compression"><a href="#Compression" class="headerlink" title="Compression"></a>Compression</h3><ul>
<li>make sure to watch information theory videos first</li>
<li>Computerphile (videos):<ul>
<li><a href="https://www.youtube.com/watch?v=Lto-ajuqW3w" target="_blank" rel="noopener">Compression</a></li>
<li><a href="https://www.youtube.com/watch?v=M5c_RFKVkko" target="_blank" rel="noopener">Entropy in Compression</a></li>
<li><a href="https://www.youtube.com/watch?v=umTbivyJoiI" target="_blank" rel="noopener">Upside Down Trees (Huffman Trees)</a></li>
<li><a href="https://www.youtube.com/watch?v=DV8efuB3h2g" target="_blank" rel="noopener">EXTRA BITS/TRITS - Huffman Trees</a></li>
<li><a href="https://www.youtube.com/watch?v=goOa3DGezUA" target="_blank" rel="noopener">Elegant Compression in Text (The LZ 77 Method)</a></li>
<li><a href="https://www.youtube.com/watch?v=cCDCfoHTsaU" target="_blank" rel="noopener">Text Compression Meets Probabilities</a></li>
</ul>
</li>
<li><a href="https://www.youtube.com/playlist?list=PLOU2XLYxmsIJGErt5rrCqaSGTMyyqNt2H" target="_blank" rel="noopener">Compressor Head videos</a></li>
<li><a href="https://www.youtube.com/watch?v=whGwm0Lky2s" target="_blank" rel="noopener">(optional) Google Developers Live: GZIP is not enough!</a></li>
</ul>
</li>
<li><h3 id="Computer-Security"><a href="#Computer-Security" class="headerlink" title="Computer Security"></a>Computer Security</h3><ul>
<li><a href="https://www.youtube.com/playlist?list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">MIT (23 videos)</a><ul>
<li><a href="https://www.youtube.com/watch?v=GqmQg-cszw4&amp;index=1&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">Introduction, Threat Models</a></li>
<li><a href="https://www.youtube.com/watch?v=6bwzNg5qQ0o&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh&amp;index=2" target="_blank" rel="noopener">Control Hijacking Attacks</a></li>
<li><a href="https://www.youtube.com/watch?v=drQyrzRoRiA&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh&amp;index=3" target="_blank" rel="noopener">Buffer Overflow Exploits and Defenses</a></li>
<li><a href="https://www.youtube.com/watch?v=6SIJmoE9L9g&amp;index=4&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">Privilege Separation</a></li>
<li><a href="https://www.youtube.com/watch?v=8VqTSY-11F4&amp;index=5&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">Capabilities</a></li>
<li><a href="https://www.youtube.com/watch?v=VEV74hwASeU&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh&amp;index=6" target="_blank" rel="noopener">Sandboxing Native Code</a></li>
<li><a href="https://www.youtube.com/watch?v=chkFBigodIw&amp;index=7&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">Web Security Model</a></li>
<li><a href="https://www.youtube.com/watch?v=EBQIGy1ROLY&amp;index=8&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">Securing Web Applications</a></li>
<li><a href="https://www.youtube.com/watch?v=yRVZPvHYHzw&amp;index=9&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">Symbolic Execution</a></li>
<li><a href="https://www.youtube.com/watch?v=SIEVvk3NVuk&amp;index=11&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">Network Security</a></li>
<li><a href="https://www.youtube.com/watch?v=QOtA76ga_fY&amp;index=12&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">Network Protocols</a></li>
<li><a href="https://www.youtube.com/watch?v=PuVMkSEcPiI&amp;index=15&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">Side-Channel Attacks</a></li>
</ul>
</li>
</ul>
</li>
<li><h3 id="Garbage-collection"><a href="#Garbage-collection" class="headerlink" title="Garbage collection"></a>Garbage collection</h3><ul>
<li><a href="https://www.youtube.com/watch?v=iHVs_HkjdmI" target="_blank" rel="noopener">GC in Python (video)</a></li>
<li><a href="https://www.infoq.com/presentations/garbage-collection-benefits" target="_blank" rel="noopener">Deep Dive Java: Garbage Collection is Good!</a></li>
<li><a href="https://www.youtube.com/watch?v=P-8Z0-MhdQs&amp;list=PLdzf4Clw0VbOEWOS_sLhT_9zaiQDrS5AR&amp;index=3" target="_blank" rel="noopener">Deep Dive Python: Garbage Collection in CPython (video)</a></li>
</ul>
</li>
<li><h3 id="Parallel-Programming"><a href="#Parallel-Programming" class="headerlink" title="Parallel Programming"></a>Parallel Programming</h3><ul>
<li><a href="https://www.coursera.org/learn/parprog1/home/week/1" target="_blank" rel="noopener">Coursera (Scala)</a></li>
<li><a href="https://www.youtube.com/watch?v=uY85GkaYzBk" target="_blank" rel="noopener">Efficient Python for High Performance Parallel Computing (video)</a></li>
</ul>
</li>
<li><h3 id="Messaging-Serialization-and-Queueing-Systems"><a href="#Messaging-Serialization-and-Queueing-Systems" class="headerlink" title="Messaging, Serialization, and Queueing Systems"></a>Messaging, Serialization, and Queueing Systems</h3><ul>
<li><a href="https://thrift.apache.org/" target="_blank" rel="noopener">Thrift</a><ul>
<li><a href="http://thrift-tutorial.readthedocs.io/en/latest/intro.html" target="_blank" rel="noopener">Tutorial</a></li>
</ul>
</li>
<li><a href="https://developers.google.com/protocol-buffers/" target="_blank" rel="noopener">Protocol Buffers</a><ul>
<li><a href="https://developers.google.com/protocol-buffers/docs/tutorials" target="_blank" rel="noopener">Tutorials</a></li>
</ul>
</li>
<li><a href="http://www.grpc.io/" target="_blank" rel="noopener">gRPC</a><ul>
<li><a href="https://www.youtube.com/watch?v=5tmPvSe7xXQ&amp;list=PLcTqM9n_dieN0k1nSeN36Z_ppKnvMJoly&amp;index=1" target="_blank" rel="noopener">gRPC 101 for Java Developers (video)</a></li>
</ul>
</li>
<li><a href="http://redis.io/" target="_blank" rel="noopener">Redis</a><ul>
<li><a href="http://try.redis.io/" target="_blank" rel="noopener">Tutorial</a></li>
</ul>
</li>
<li><a href="https://aws.amazon.com/sqs/" target="_blank" rel="noopener">Amazon SQS (queue)</a></li>
<li><a href="https://aws.amazon.com/sns/" target="_blank" rel="noopener">Amazon SNS (pub-sub)</a></li>
<li><a href="https://www.rabbitmq.com/" target="_blank" rel="noopener">RabbitMQ</a><ul>
<li><a href="https://www.rabbitmq.com/getstarted.html" target="_blank" rel="noopener">Get Started</a></li>
</ul>
</li>
<li><a href="http://www.celeryproject.org/" target="_blank" rel="noopener">Celery</a><ul>
<li><a href="http://docs.celeryproject.org/en/latest/getting-started/first-steps-with-celery.html" target="_blank" rel="noopener">First Steps With Celery</a></li>
</ul>
</li>
<li><a href="http://zeromq.org/" target="_blank" rel="noopener">ZeroMQ</a><ul>
<li><a href="http://zeromq.org/intro:read-the-manual" target="_blank" rel="noopener">Intro - Read The Manual</a></li>
</ul>
</li>
<li><a href="http://activemq.apache.org/" target="_blank" rel="noopener">ActiveMQ</a></li>
<li><a href="http://kafka.apache.org/documentation.html#introduction" target="_blank" rel="noopener">Kafka</a></li>
<li><a href="http://msgpack.org/index.html" target="_blank" rel="noopener">MessagePack</a></li>
<li><a href="https://avro.apache.org/" target="_blank" rel="noopener">Avro</a></li>
</ul>
</li>
<li><h3 id="A"><a href="#A" class="headerlink" title="A*"></a>A*</h3><ul>
<li><a href="https://en.wikipedia.org/wiki/A*_search_algorithm" target="_blank" rel="noopener">A Search Algorithm</a></li>
<li><a href="https://www.youtube.com/watch?v=KNXfSOx4eEE" target="_blank" rel="noopener">A* Pathfinding Tutorial (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=-L-WgKMFuhE" target="_blank" rel="noopener">A* Pathfinding (E01: algorithm explanation) (video)</a></li>
</ul>
</li>
<li><h3 id="Fast-Fourier-Transform"><a href="#Fast-Fourier-Transform" class="headerlink" title="Fast Fourier Transform"></a>Fast Fourier Transform</h3><ul>
<li><a href="https://betterexplained.com/articles/an-interactive-guide-to-the-fourier-transform/" target="_blank" rel="noopener">An Interactive Guide To The Fourier Transform</a></li>
<li><a href="http://www.askamathematician.com/2012/09/q-what-is-a-fourier-transform-what-is-it-used-for/" target="_blank" rel="noopener">What is a Fourier transform? What is it used for?</a></li>
<li><a href="https://www.youtube.com/watch?v=Xxut2PN-V8Q" target="_blank" rel="noopener">What is the Fourier Transform? (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=iTMn0Kt18tg&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=4" target="_blank" rel="noopener">Divide &amp; Conquer: FFT (video)</a></li>
<li><a href="http://jakevdp.github.io/blog/2013/08/28/understanding-the-fft/" target="_blank" rel="noopener">Understanding The FFT</a></li>
</ul>
</li>
<li><h3 id="Bloom-Filter"><a href="#Bloom-Filter" class="headerlink" title="Bloom Filter"></a>Bloom Filter</h3><ul>
<li>Given a Bloom filter with m bits and k hashing functions, both insertion and membership testing are O(k)</li>
<li><a href="https://www.youtube.com/watch?v=-SuTGoFYjZs" target="_blank" rel="noopener">Bloom Filters (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=qBTdukbzc78" target="_blank" rel="noopener">Bloom Filters | Mining of Massive Datasets | Stanford University (video)</a></li>
<li><a href="http://billmill.org/bloomfilter-tutorial/" target="_blank" rel="noopener">Tutorial</a></li>
<li><a href="http://blog.michaelschmatz.com/2016/04/11/how-to-write-a-bloom-filter-cpp/" target="_blank" rel="noopener">How To Write A Bloom Filter App</a></li>
</ul>
</li>
<li><h3 id="HyperLogLog"><a href="#HyperLogLog" class="headerlink" title="HyperLogLog"></a>HyperLogLog</h3><ul>
<li><a href="http://highscalability.com/blog/2012/4/5/big-data-counting-how-to-count-a-billion-distinct-objects-us.html" target="_blank" rel="noopener">How To Count A Billion Distinct Objects Using Only 1.5KB Of Memory</a></li>
</ul>
</li>
<li><h3 id="Locality-Sensitive-Hashing"><a href="#Locality-Sensitive-Hashing" class="headerlink" title="Locality-Sensitive Hashing"></a>Locality-Sensitive Hashing</h3><ul>
<li>used to determine the similarity of documents</li>
<li>the opposite of MD5 or SHA which are used to determine if 2 documents/strings are exactly the same.</li>
<li><a href="http://ferd.ca/simhashing-hopefully-made-simple.html" target="_blank" rel="noopener">Simhashing (hopefully) made simple</a></li>
</ul>
</li>
<li><h3 id="van-Emde-Boas-Trees"><a href="#van-Emde-Boas-Trees" class="headerlink" title="van Emde Boas Trees"></a>van Emde Boas Trees</h3><ul>
<li><a href="https://www.youtube.com/watch?v=hmReJCupbNU&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=6" target="_blank" rel="noopener">Divide &amp; Conquer: van Emde Boas Trees (video)</a></li>
<li><a href="https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-046j-design-and-analysis-of-algorithms-spring-2012/lecture-notes/MIT6_046JS12_lec15.pdf" target="_blank" rel="noopener">MIT Lecture Notes</a></li>
</ul>
</li>
<li><h3 id="Augmented-Data-Structures"><a href="#Augmented-Data-Structures" class="headerlink" title="Augmented Data Structures"></a>Augmented Data Structures</h3><ul>
<li><a href="https://archive.org/details/ucberkeley_webcast_zksIj9O8_jc" target="_blank" rel="noopener">CS 61B Lecture 39: Augmenting Data Structures</a></li>
</ul>
</li>
<li><h3 id="Balanced-search-trees"><a href="#Balanced-search-trees" class="headerlink" title="Balanced search trees"></a>Balanced search trees</h3><ul>
<li><p>Know at least one type of balanced binary tree (and know how itâ€™s implemented):</p>
</li>
<li><p>â€œAmong balanced search trees, AVL and 2/3 trees are now passÃ©, and red-black trees seem to be more popular.<br>  A particularly interesting self-organizing data structure is the splay tree, which uses rotations<br>  to move any accessed key to the root.â€ - Skiena</p>
</li>
<li><p>Of these, I chose to implement a splay tree. From what Iâ€™ve read, you wonâ€™t implement a<br>  balanced search tree in your interview. But I wanted exposure to coding one up<br>  and letâ€™s face it, splay trees are the beeâ€™s knees. I did read a lot of red-black tree code.</p>
<ul>
<li>splay tree: insert, search, delete functions<br>If you end up implementing red/black tree try just these:</li>
<li>search and insertion functions, skipping delete</li>
</ul>
</li>
<li><p>I want to learn more about B-Tree since itâ€™s used so widely with very large data sets.</p>
</li>
<li><p><a href="https://en.wikipedia.org/wiki/Self-balancing_binary_search_tree" target="_blank" rel="noopener">Self-balancing binary search tree</a></p>
</li>
<li><p><strong>AVL trees</strong></p>
<ul>
<li>In practice:<br>  From what I can tell, these arenâ€™t used much in practice, but I could see where they would be:<br>  The AVL tree is another structure supporting O(log n) search, insertion, and removal. It is more rigidly<br>  balanced than redâ€“black trees, leading to slower insertion and removal but faster retrieval. This makes it<br>  attractive for data structures that may be built once and loaded without reconstruction, such as language<br>  dictionaries (or program dictionaries, such as the opcodes of an assembler or interpreter).</li>
<li><a href="https://www.youtube.com/watch?v=FNeL18KsWPc&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=6" target="_blank" rel="noopener">MIT AVL Trees / AVL Sort (video)</a></li>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/Qq5E0/avl-trees" target="_blank" rel="noopener">AVL Trees (video)</a></li>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/PKEBC/avl-tree-implementation" target="_blank" rel="noopener">AVL Tree Implementation (video)</a></li>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/22BgE/split-and-merge" target="_blank" rel="noopener">Split And Merge</a></li>
</ul>
</li>
<li><p><strong>Splay trees</strong></p>
<ul>
<li>In practice:<br>  Splay trees are typically used in the implementation of caches, memory allocators, routers, garbage collectors,<br>  data compression, ropes (replacement of string used for long text strings), in Windows NT (in the virtual memory,<br>  networking and file system code) etc.</li>
<li><a href="https://archive.org/details/ucberkeley_webcast_G5QIXywcJlY" target="_blank" rel="noopener">CS 61B: Splay Trees (video)</a></li>
<li>MIT Lecture: Splay Trees:<ul>
<li>Gets very mathy, but watch the last 10 minutes for sure.</li>
<li><a href="https://www.youtube.com/watch?v=QnPl_Y6EqMo" target="_blank" rel="noopener">Video</a></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Red/black trees</strong></p>
<ul>
<li>these are a translation of a 2-3 tree (see below)</li>
<li>In practice:<br>  Redâ€“black trees offer worst-case guarantees for insertion time, deletion time, and search time.<br>  Not only does this make them valuable in time-sensitive applications such as real-time applications,<br>  but it makes them valuable building blocks in other data structures which provide worst-case guarantees;<br>  for example, many data structures used in computational geometry can be based on redâ€“black trees, and<br>  the Completely Fair Scheduler used in current Linux kernels uses redâ€“black trees. In the version 8 of Java,<br>  the Collection HashMap has been modified such that instead of using a LinkedList to store identical elements with poor<br>  hashcodes, a Red-Black tree is used.</li>
<li><a href="https://youtu.be/1W3x0f_RmUo?list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;t=3871" target="_blank" rel="noopener">Aduni - Algorithms - Lecture 4 (link jumps to starting point) (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=hm2GHwyKF1o&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=5" target="_blank" rel="noopener">Aduni - Algorithms - Lecture 5 (video)</a></li>
<li><a href="https://en.wikipedia.org/wiki/Red%E2%80%93black_tree" target="_blank" rel="noopener">Red-Black Tree</a></li>
<li><a href="https://www.topcoder.com/community/competitive-programming/tutorials/an-introduction-to-binary-search-and-red-black-trees/" target="_blank" rel="noopener">An Introduction To Binary Search And Red Black Tree</a></li>
</ul>
</li>
<li><p><strong>2-3 search trees</strong></p>
<ul>
<li>In practice:<br>  2-3 trees have faster inserts at the expense of slower searches (since height is more compared to AVL trees).</li>
<li>You would use 2-3 tree very rarely because its implementation involves different types of nodes. Instead, people use Red Black trees.</li>
<li><a href="https://www.youtube.com/watch?v=C3SsdUqasD4&amp;list=PLA5Lqm4uh9Bbq-E0ZnqTIa8LRaL77ica6&amp;index=2" target="_blank" rel="noopener">23-Tree Intuition and Definition (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=iYvBtGKsqSg&amp;index=3&amp;list=PLA5Lqm4uh9Bbq-E0ZnqTIa8LRaL77ica6" target="_blank" rel="noopener">Binary View of 23-Tree</a></li>
<li><a href="https://www.youtube.com/watch?v=TOb1tuEZ2X4&amp;index=5&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp" target="_blank" rel="noopener">2-3 Trees (student recitation) (video)</a></li>
</ul>
</li>
<li><p><strong>2-3-4 Trees (aka 2-4 trees)</strong></p>
<ul>
<li>In practice:<br>  For every 2-4 tree, there are corresponding redâ€“black trees with data elements in the same order. The insertion and deletion<br>  operations on 2-4 trees are also equivalent to color-flipping and rotations in redâ€“black trees. This makes 2-4 trees an<br>  important tool for understanding the logic behind redâ€“black trees, and this is why many introductory algorithm texts introduce<br>  2-4 trees just before redâ€“black trees, even though <strong>2-4 trees are not often used in practice</strong>.</li>
<li><a href="https://archive.org/details/ucberkeley_webcast_zqrqYXkth6Q" target="_blank" rel="noopener">CS 61B Lecture 26: Balanced Search Trees (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=DQdMYevEyE4&amp;index=4&amp;list=PLA5Lqm4uh9Bbq-E0ZnqTIa8LRaL77ica6" target="_blank" rel="noopener">Bottom Up 234-Trees (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=2679VQ26Fp4&amp;list=PLA5Lqm4uh9Bbq-E0ZnqTIa8LRaL77ica6&amp;index=5" target="_blank" rel="noopener">Top Down 234-Trees (video)</a></li>
</ul>
</li>
<li><p><strong>N-ary (K-ary, M-ary) trees</strong></p>
<ul>
<li>note: the N or K is the branching factor (max branches)</li>
<li>binary trees are a 2-ary tree, with branching factor = 2</li>
<li>2-3 trees are 3-ary</li>
<li><a href="https://en.wikipedia.org/wiki/K-ary_tree" target="_blank" rel="noopener">K-Ary Tree</a></li>
</ul>
</li>
<li><p><strong>B-Trees</strong></p>
<ul>
<li>fun fact: itâ€™s a mystery, but the B could stand for Boeing, Balanced, or Bayer (co-inventor)</li>
<li>In Practice:<br>  B-Trees are widely used in databases. Most modern filesystems use B-trees (or Variants). In addition to<br>  its use in databases, the B-tree is also used in filesystems to allow quick random access to an arbitrary<br>  block in a particular file. The basic problem is turning the file block i address into a disk block<br>  (or perhaps to a cylinder-head-sector) address.</li>
<li><a href="https://en.wikipedia.org/wiki/B-tree" target="_blank" rel="noopener">B-Tree</a></li>
<li><a href="http://btechsmartclass.com/data_structures/b-trees.html" target="_blank" rel="noopener">B-Tree Datastructure</a></li>
<li><a href="https://www.youtube.com/watch?v=I22wEC1tTGo&amp;list=PLA5Lqm4uh9Bbq-E0ZnqTIa8LRaL77ica6&amp;index=6" target="_blank" rel="noopener">Introduction to B-Trees (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=s3bCdZGrgpA&amp;index=7&amp;list=PLA5Lqm4uh9Bbq-E0ZnqTIa8LRaL77ica6" target="_blank" rel="noopener">B-Tree Definition and Insertion (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=svfnVhJOfMc&amp;index=8&amp;list=PLA5Lqm4uh9Bbq-E0ZnqTIa8LRaL77ica6" target="_blank" rel="noopener">B-Tree Deletion (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=V3omVLzI0WE&amp;index=7&amp;list=PLUl4u3cNGP61hsJNdULdudlRL493b-XZf" target="_blank" rel="noopener">MIT 6.851 - Memory Hierarchy Models (video)</a><pre><code>  - covers cache-oblivious B-Trees, very interesting data structures
  - the first 37 minutes are very technical, may be skipped (B is block size, cache line size)</code></pre></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><h3 id="k-D-Trees"><a href="#k-D-Trees" class="headerlink" title="k-D Trees"></a>k-D Trees</h3><ul>
<li>great for finding number of points in a rectangle or higher dimension object</li>
<li>a good fit for k-nearest neighbors</li>
<li><a href="https://www.youtube.com/watch?v=W94M9D_yXKk" target="_blank" rel="noopener">Kd Trees (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=Y4ZgLlDfKDg" target="_blank" rel="noopener">kNN K-d tree algorithm (video)</a></li>
</ul>
</li>
<li><h3 id="Skip-lists"><a href="#Skip-lists" class="headerlink" title="Skip lists"></a>Skip lists</h3><ul>
<li>â€œThese are somewhat of a cult data structureâ€ - Skiena</li>
<li><a href="https://www.youtube.com/watch?v=2g9OSRKJuzM&amp;index=10&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp" target="_blank" rel="noopener">Randomization: Skip Lists (video)</a></li>
<li><a href="https://en.wikipedia.org/wiki/Skip_list" target="_blank" rel="noopener">For animations and a little more detail</a></li>
</ul>
</li>
<li><h3 id="Network-Flows"><a href="#Network-Flows" class="headerlink" title="Network Flows"></a>Network Flows</h3><ul>
<li><a href="https://www.youtube.com/watch?v=Tl90tNtKvxs" target="_blank" rel="noopener">Ford-Fulkerson in 5 minutes â€” Step by step example (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=v1VgJmkEJW0" target="_blank" rel="noopener">Ford-Fulkerson Algorithm (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=2vhN4Ice5jI" target="_blank" rel="noopener">Network Flows (video)</a></li>
</ul>
</li>
<li><h3 id="Disjoint-Sets-amp-Union-Find"><a href="#Disjoint-Sets-amp-Union-Find" class="headerlink" title="Disjoint Sets &amp; Union Find"></a>Disjoint Sets &amp; Union Find</h3><ul>
<li><a href="https://archive.org/details/ucberkeley_webcast_MAEGXTwmUsI" target="_blank" rel="noopener">UCB 61B - Disjoint Sets; Sorting &amp; selection (video)</a></li>
<li><a href="https://www.coursera.org/learn/algorithms-part1/home/week/1" target="_blank" rel="noopener">Sedgewick Algorithms - Union-Find (6 videos)</a></li>
</ul>
</li>
<li><h3 id="Math-for-Fast-Processing"><a href="#Math-for-Fast-Processing" class="headerlink" title="Math for Fast Processing"></a>Math for Fast Processing</h3><ul>
<li><a href="https://www.youtube.com/watch?v=eCaXlAaN2uE&amp;index=11&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">Integer Arithmetic, Karatsuba Multiplication (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=ru7mWZJlRQg" target="_blank" rel="noopener">The Chinese Remainder Theorem (used in cryptography) (video)</a></li>
</ul>
</li>
<li><h3 id="Treap"><a href="#Treap" class="headerlink" title="Treap"></a>Treap</h3><ul>
<li>Combination of a binary search tree and a heap</li>
<li><a href="https://en.wikipedia.org/wiki/Treap" target="_blank" rel="noopener">Treap</a></li>
<li><a href="https://www.youtube.com/watch?v=6podLUYinH8" target="_blank" rel="noopener">Data Structures: Treaps explained (video)</a></li>
<li><a href="https://www.cs.cmu.edu/~scandal/papers/treaps-spaa98.pdf" target="_blank" rel="noopener">Applications in set operations</a></li>
</ul>
</li>
<li><h3 id="Linear-Programming-videos"><a href="#Linear-Programming-videos" class="headerlink" title="Linear Programming (videos)"></a>Linear Programming (videos)</h3><ul>
<li><a href="https://www.youtube.com/watch?v=M4K6HYLHREQ" target="_blank" rel="noopener">Linear Programming</a></li>
<li><a href="https://www.youtube.com/watch?v=2ACJ9ewUC6U" target="_blank" rel="noopener">Finding minimum cost</a></li>
<li><a href="https://www.youtube.com/watch?v=8AA_81xI3ik" target="_blank" rel="noopener">Finding maximum value</a></li>
<li><a href="https://www.youtube.com/watch?v=44pAWI7v5Zk" target="_blank" rel="noopener">Solve Linear Equations with Python - Simplex Algorithm</a></li>
</ul>
</li>
<li><h3 id="Geometry-Convex-hull-videos"><a href="#Geometry-Convex-hull-videos" class="headerlink" title="Geometry, Convex hull (videos)"></a>Geometry, Convex hull (videos)</h3><ul>
<li><a href="https://youtu.be/XIAQRlNkJAw?list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;t=3164" target="_blank" rel="noopener">Graph Alg. IV: Intro to geometric algorithms - Lecture 9</a></li>
<li><a href="https://www.youtube.com/watch?v=J5aJEcOr6Eo&amp;index=10&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm" target="_blank" rel="noopener">Geometric Algorithms: Graham &amp; Jarvis - Lecture 10</a></li>
<li><a href="https://www.youtube.com/watch?v=EzeYI7p9MjU&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=2" target="_blank" rel="noopener">Divide &amp; Conquer: Convex Hull, Median Finding</a></li>
</ul>
</li>
<li><h3 id="Discrete-math"><a href="#Discrete-math" class="headerlink" title="Discrete math"></a>Discrete math</h3><ul>
<li>see videos below</li>
</ul>
</li>
<li><h3 id="Machine-Learning"><a href="#Machine-Learning" class="headerlink" title="Machine Learning"></a>Machine Learning</h3><ul>
<li>Why ML?<ul>
<li><a href="https://backchannel.com/how-google-is-remaking-itself-as-a-machine-learning-first-company-ada63defcb70" target="_blank" rel="noopener">How Google Is Remaking Itself As A Machine Learning First Company</a></li>
<li><a href="https://www.youtube.com/watch?v=QSaZGT4-6EY" target="_blank" rel="noopener">Large-Scale Deep Learning for Intelligent Computer Systems (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=X769cyzBNVw" target="_blank" rel="noopener">Deep Learning and Understandability versus Software Engineering and Verification by Peter Norvig</a></li>
</ul>
</li>
<li><a href="https://www.youtube.com/watch?v=Ja2hxBAwG_0" target="_blank" rel="noopener">Googleâ€™s Cloud Machine learning tools (video)</a></li>
<li><a href="https://www.youtube.com/playlist?list=PLOU2XLYxmsIIuiBfYad6rFYQU_jL2ryal" target="_blank" rel="noopener">Google Developersâ€™ Machine Learning Recipes (Scikit Learn &amp; Tensorflow) (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=oZikw5k_2FM" target="_blank" rel="noopener">Tensorflow (video)</a></li>
<li><a href="https://www.tensorflow.org/versions/r0.11/tutorials/index.html" target="_blank" rel="noopener">Tensorflow Tutorials</a></li>
<li><a href="http://www.analyticsvidhya.com/blog/2016/04/neural-networks-python-theano/" target="_blank" rel="noopener">Practical Guide to implementing Neural Networks in Python (using Theano)</a></li>
<li>Courses:<ul>
<li><a href="https://www.coursera.org/learn/machine-learning" target="_blank" rel="noopener">Great starter course: Machine Learning</a><pre><code>- [videos only](https://www.youtube.com/playlist?list=PLZ9qNFMHZ-A4rycgrgOYma6zxF4BZGGPW)
- see videos 12-18 for a review of linear algebra (14 and 15 are duplicates)</code></pre></li>
<li><a href="https://www.coursera.org/learn/neural-networks" target="_blank" rel="noopener">Neural Networks for Machine Learning</a></li>
<li><a href="https://www.udacity.com/course/deep-learning--ud730" target="_blank" rel="noopener">Googleâ€™s Deep Learning Nanodegree</a></li>
<li><a href="https://www.udacity.com/course/machine-learning-engineer-nanodegree-by-google--nd009" target="_blank" rel="noopener">Google/Kaggle Machine Learning Engineer Nanodegree</a></li>
<li><a href="https://www.udacity.com/drive" target="_blank" rel="noopener">Self-Driving Car Engineer Nanodegree</a></li>
<li><a href="http://www.thisismetis.com/explore-data-science" target="_blank" rel="noopener">Metis Online Course ($99 for 2 months)</a></li>
</ul>
</li>
<li>Resources:<ul>
<li>Books:<ul>
<li><a href="https://www.amazon.com/Python-Machine-Learning-Sebastian-Raschka/dp/1783555130/" target="_blank" rel="noopener">Python Machine Learning</a></li>
<li><a href="https://www.amazon.com/Data-Science-Scratch-Principles-Python/dp/149190142X" target="_blank" rel="noopener">Data Science from Scratch: First Principles with Python</a></li>
<li><a href="https://www.amazon.com/Introduction-Machine-Learning-Python-Scientists/dp/1449369413/" target="_blank" rel="noopener">Introduction to Machine Learning with Python</a></li>
</ul>
</li>
<li><a href="https://github.com/ZuzooVn/machine-learning-for-software-engineers" target="_blank" rel="noopener">Machine Learning for Software Engineers</a></li>
<li>Data School: <a href="http://www.dataschool.io/" target="_blank" rel="noopener">http://www.dataschool.io/</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="Additional-Detail-on-Some-Subjects"><a href="#Additional-Detail-on-Some-Subjects" class="headerlink" title="Additional Detail on Some Subjects"></a>Additional Detail on Some Subjects</h2><pre><code>I added these to reinforce some ideas already presented above, but didn't want to include them
above because it's just too much. It's easy to overdo it on a subject.
You want to get hired in this century, right?</code></pre><ul>
<li><strong>SOLID</strong>   <ul>
<li><input disabled="" type="checkbox"> <a href="https://www.youtube.com/watch?v=TMuno5RZNeE" target="_blank" rel="noopener">Bob Martin SOLID Principles of Object Oriented and Agile Design (video)</a></li>
<li><input disabled="" type="checkbox"> S - <a href="http://www.oodesign.com/single-responsibility-principle.html" target="_blank" rel="noopener">Single Responsibility Principle</a> | <a href="http://www.javacodegeeks.com/2011/11/solid-single-responsibility-principle.html" target="_blank" rel="noopener">Single responsibility to each Object</a><ul>
<li><a href="https://docs.google.com/open?id=0ByOwmqah_nuGNHEtcU5OekdDMkk" target="_blank" rel="noopener">more flavor</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> O - <a href="http://www.oodesign.com/open-close-principle.html" target="_blank" rel="noopener">Open/Closed Principal</a>  | <a href="https://en.wikipedia.org/wiki/Open/closed_principle" target="_blank" rel="noopener">On production level Objects are ready for extension but not for modification</a><ul>
<li><a href="http://docs.google.com/a/cleancoder.com/viewer?a=v&amp;pid=explorer&amp;chrome=true&amp;srcid=0BwhCYaYDn8EgN2M5MTkwM2EtNWFkZC00ZTI3LWFjZTUtNTFhZGZiYmUzODc1&amp;hl=en" target="_blank" rel="noopener">more flavor</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> L - <a href="http://www.oodesign.com/liskov-s-substitution-principle.html" target="_blank" rel="noopener">Liskov Substitution Principal</a> | <a href="http://stackoverflow.com/questions/56860/what-is-the-liskov-substitution-principle" target="_blank" rel="noopener">Base Class and Derived class follow â€˜IS Aâ€™ principal</a><ul>
<li><a href="http://docs.google.com/a/cleancoder.com/viewer?a=v&amp;pid=explorer&amp;chrome=true&amp;srcid=0BwhCYaYDn8EgNzAzZjA5ZmItNjU3NS00MzQ5LTkwYjMtMDJhNDU5ZTM0MTlh&amp;hl=en" target="_blank" rel="noopener">more flavor</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> I - <a href="http://www.oodesign.com/interface-segregation-principle.html" target="_blank" rel="noopener">Interface segregation principle</a> | clients should not be forced to implement interfaces they donâ€™t use<ul>
<li><a href="https://www.youtube.com/watch?v=3CtAfl7aXAQ" target="_blank" rel="noopener">Interface Segregation Principle in 5 minutes (video)</a></li>
<li><a href="http://docs.google.com/a/cleancoder.com/viewer?a=v&amp;pid=explorer&amp;chrome=true&amp;srcid=0BwhCYaYDn8EgOTViYjJhYzMtMzYxMC00MzFjLWJjMzYtOGJiMDc5N2JkYmJi&amp;hl=en" target="_blank" rel="noopener">more flavor</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"> D -<a href="http://www.oodesign.com/dependency-inversion-principle.html" target="_blank" rel="noopener">Dependency Inversion principle</a> | Reduce the dependency In composition of objects.<ul>
<li><a href="http://stackoverflow.com/questions/62539/what-is-the-dependency-inversion-principle-and-why-is-it-important" target="_blank" rel="noopener">Why Is The Dependency Inversion Principle And Why Is It Important</a></li>
<li><a href="http://docs.google.com/a/cleancoder.com/viewer?a=v&amp;pid=explorer&amp;chrome=true&amp;srcid=0BwhCYaYDn8EgMjdlMWIzNGUtZTQ0NC00ZjQ5LTkwYzQtZjRhMDRlNTQ3ZGMz&amp;hl=en" target="_blank" rel="noopener">more flavor</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>Union-Find</strong></p>
<ul>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/JssSY/overview" target="_blank" rel="noopener">Overview</a></li>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/EM5D0/naive-implementations" target="_blank" rel="noopener">Naive Implementation</a></li>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/Mxu0w/trees" target="_blank" rel="noopener">Trees</a></li>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/qb4c2/union-by-rank" target="_blank" rel="noopener">Union By Rank</a></li>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/Q9CVI/path-compression" target="_blank" rel="noopener">Path Compression</a></li>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/GQQLN/analysis-optional" target="_blank" rel="noopener">Analysis Options</a></li>
</ul>
</li>
<li><p><strong>More Dynamic Programming</strong> (videos)</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=OQ5jsbhAv_M&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=19" target="_blank" rel="noopener">6.006: Dynamic Programming I: Fibonacci, Shortest Paths</a></li>
<li><a href="https://www.youtube.com/watch?v=ENyox7kNKeY&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=20" target="_blank" rel="noopener">6.006: Dynamic Programming II: Text Justification, Blackjack</a></li>
<li><a href="https://www.youtube.com/watch?v=ocZMDMZwhCY&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=21" target="_blank" rel="noopener">6.006: DP III: Parenthesization, Edit Distance, Knapsack</a></li>
<li><a href="https://www.youtube.com/watch?v=tp4_UXaVyx8&amp;index=22&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb" target="_blank" rel="noopener">6.006: DP IV: Guitar Fingering, Tetris, Super Mario Bros.</a></li>
<li><a href="https://www.youtube.com/watch?v=Tw1k46ywN6E&amp;index=14&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp" target="_blank" rel="noopener">6.046: Dynamic Programming &amp; Advanced DP</a></li>
<li><a href="https://www.youtube.com/watch?v=NzgFUwOaoIw&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=15" target="_blank" rel="noopener">6.046: Dynamic Programming: All-Pairs Shortest Paths</a></li>
<li><a href="https://www.youtube.com/watch?v=krZI60lKPek&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=12" target="_blank" rel="noopener">6.046: Dynamic Programming (student recitation)</a></li>
</ul>
</li>
<li><p><strong>Advanced Graph Processing</strong> (videos)</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=mUBmcbbJNf4&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=27" target="_blank" rel="noopener">Synchronous Distributed Algorithms: Symmetry-Breaking. Shortest-Paths Spanning Trees</a></li>
<li><a href="https://www.youtube.com/watch?v=kQ-UQAzcnzA&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp&amp;index=28" target="_blank" rel="noopener">Asynchronous Distributed Algorithms: Shortest-Paths Spanning Trees</a></li>
</ul>
</li>
<li><p>MIT <strong>Probability</strong> (mathy, and go slowly, which is good for mathy things) (videos):</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=SmFwFdESMHI&amp;index=18&amp;list=PLB7540DEDD482705B" target="_blank" rel="noopener">MIT 6.042J - Probability Introduction</a></li>
<li><a href="https://www.youtube.com/watch?v=E6FbvM-FGZ8&amp;index=19&amp;list=PLB7540DEDD482705B" target="_blank" rel="noopener">MIT 6.042J - Conditional Probability</a></li>
<li><a href="https://www.youtube.com/watch?v=l1BCv3qqW4A&amp;index=20&amp;list=PLB7540DEDD482705B" target="_blank" rel="noopener">MIT 6.042J - Independence</a></li>
<li><a href="https://www.youtube.com/watch?v=MOfhhFaQdjw&amp;list=PLB7540DEDD482705B&amp;index=21" target="_blank" rel="noopener">MIT 6.042J - Random Variables</a></li>
<li><a href="https://www.youtube.com/watch?v=gGlMSe7uEkA&amp;index=22&amp;list=PLB7540DEDD482705B" target="_blank" rel="noopener">MIT 6.042J - Expectation I</a></li>
<li><a href="https://www.youtube.com/watch?v=oI9fMUqgfxY&amp;index=23&amp;list=PLB7540DEDD482705B" target="_blank" rel="noopener">MIT 6.042J - Expectation II</a></li>
<li><a href="https://www.youtube.com/watch?v=q4mwO2qS2z4&amp;index=24&amp;list=PLB7540DEDD482705B" target="_blank" rel="noopener">MIT 6.042J - Large Deviations</a></li>
<li><a href="https://www.youtube.com/watch?v=56iFMY8QW2k&amp;list=PLB7540DEDD482705B&amp;index=25" target="_blank" rel="noopener">MIT 6.042J - Random Walks</a></li>
</ul>
</li>
<li><p><a href="https://www.youtube.com/watch?v=oDniZCmNmNw&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=19" target="_blank" rel="noopener">Simonson: Approximation Algorithms (video)</a></p>
</li>
<li><p><strong>String Matching</strong></p>
<ul>
<li>Rabin-Karp (videos):<ul>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/c0Qkw/rabin-karps-algorithm" target="_blank" rel="noopener">Rabin Karps Algorithm</a></li>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/nYrc8/optimization-precomputation" target="_blank" rel="noopener">Precomputing</a></li>
<li><a href="https://www.coursera.org/learn/data-structures/lecture/h4ZLc/optimization-implementation-and-analysis" target="_blank" rel="noopener">Optimization: Implementation and Analysis</a></li>
<li><a href="https://www.youtube.com/watch?v=BRO7mVIFt08&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=9" target="_blank" rel="noopener">Table Doubling, Karp-Rabin</a></li>
<li><a href="https://www.youtube.com/watch?v=w6nuXg0BISo&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=32" target="_blank" rel="noopener">Rolling Hashes, Amortized Analysis</a></li>
</ul>
</li>
<li>Knuth-Morris-Pratt (KMP):<ul>
<li><a href="https://www.youtube.com/watch?v=5i7oKodCRJo" target="_blank" rel="noopener">TThe Knuth-Morris-Pratt (KMP) String Matching Algorithm</a></li>
</ul>
</li>
<li>Boyerâ€“Moore string search algorithm<ul>
<li><a href="https://en.wikipedia.org/wiki/Boyer%E2%80%93Moore_string_search_algorithm" target="_blank" rel="noopener">Boyer-Moore String Search Algorithm</a></li>
<li><a href="https://www.youtube.com/watch?v=QDZpzctPf10" target="_blank" rel="noopener">Advanced String Searching Boyer-Moore-Horspool Algorithms (video)</a></li>
</ul>
</li>
<li><a href="https://www.coursera.org/learn/algorithms-on-strings/home/week/1" target="_blank" rel="noopener">Coursera: Algorithms on Strings</a><ul>
<li>starts off great, but by the time it gets past KMP it gets more complicated than it needs to be</li>
<li>nice explanation of tries</li>
<li>can be skipped</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Sorting</strong></p>
<ul>
<li>Stanford lectures on sorting:<ul>
<li><a href="https://www.youtube.com/watch?v=ENp00xylP7c&amp;index=15&amp;list=PLFE6E58F856038C69" target="_blank" rel="noopener">Lecture 15 | Programming Abstractions (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=y4M9IVgrVKo&amp;index=16&amp;list=PLFE6E58F856038C69" target="_blank" rel="noopener">Lecture 16 | Programming Abstractions (video)</a></li>
</ul>
</li>
<li>Shai Simonson, <a href="http://www.aduni.org/" target="_blank" rel="noopener">Aduni.org</a>:<ul>
<li><a href="https://www.youtube.com/watch?v=odNJmw5TOEE&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=2" target="_blank" rel="noopener">Algorithms - Sorting - Lecture 2 (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=hj8YKFTFKEE&amp;list=PLFDnELG9dpVxQCxuD-9BSy2E7BWY3t5Sm&amp;index=3" target="_blank" rel="noopener">Algorithms - Sorting II - Lecture 3 (video)</a></li>
</ul>
</li>
<li>Steven Skiena lectures on sorting:<ul>
<li><a href="https://youtu.be/ute-pmMkyuk?list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;t=1600" target="_blank" rel="noopener">lecture begins at 26:46 (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=yLvp-pB8mak&amp;index=8&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b" target="_blank" rel="noopener">lecture begins at 27:40 (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=q7K9otnzlfE&amp;index=9&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b" target="_blank" rel="noopener">lecture begins at 35:00 (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=TvqIGu9Iupw&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;index=10" target="_blank" rel="noopener">lecture begins at 23:50 (video)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Video-Series"><a href="#Video-Series" class="headerlink" title="Video Series"></a>Video Series</h2><p>Sit back and enjoy. â€œNetflix and skillâ€ :P</p>
<ul>
<li><p><a href="https://www.youtube.com/playlist?list=PLrmLmBdmIlpsHaNTPP_jHHDx_os9ItYXr" target="_blank" rel="noopener">List of individual Dynamic Programming problems (each is short)</a></p>
</li>
<li><p><a href="https://www.youtube.com/playlist?list=PL038BE01D3BAEFDB0" target="_blank" rel="noopener">x86 Architecture, Assembly, Applications (11 videos)</a></p>
</li>
<li><p><a href="https://www.youtube.com/playlist?list=PLE7DDD91010BC51F8" target="_blank" rel="noopener">MIT 18.06 Linear Algebra, Spring 2005 (35 videos)</a></p>
</li>
<li><p><a href="https://www.youtube.com/playlist?list=PL3B08AE665AB9002A" target="_blank" rel="noopener">Excellent - MIT Calculus Revisited: Single Variable Calculus</a></p>
</li>
<li><p><a href="http://www.infocobuild.com/education/audio-video-courses/computer-science/cs70-spring2015-berkeley.html" target="_blank" rel="noopener">Computer Science 70, 001 - Spring 2015 - Discrete Mathematics and Probability Theory</a></p>
</li>
<li><p><a href="https://www.youtube.com/playlist?list=PL3o9D4Dl2FJ9q0_gtFXPh_H4POI5dK0yG" target="_blank" rel="noopener">Discrete Mathematics by Shai Simonson (19 videos)</a></p>
</li>
<li><p><a href="https://www.youtube.com/playlist?list=PLGxuz-nmYlQPOc4w1Kp2MZrdqOOm4Jxeo" target="_blank" rel="noopener">Discrete Mathematics Part 1 by Sarada Herke (5 videos)</a></p>
</li>
<li><p>CSE373 - Analysis of Algorithms (25 videos)</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=ZFjhkohHdAA&amp;list=PLOtl7M3yp-DV69F32zdK7YJcNXpTunF2b&amp;index=1" target="_blank" rel="noopener">Skiena lectures from Algorithm Design Manual</a></li>
</ul>
</li>
<li><p><a href="https://archive.org/details/ucberkeley-webcast-PL-XXv-cvA_iAlnI-BQr9hjqADPBtujFJd" target="_blank" rel="noopener">UC Berkeley 61B (Spring 2014): Data Structures (25 videos)</a></p>
</li>
<li><p><a href="https://archive.org/details/ucberkeley-webcast-PL4BBB74C7D2A1049C" target="_blank" rel="noopener">UC Berkeley 61B (Fall 2006): Data Structures (39 videos)</a></p>
</li>
<li><p><a href="https://archive.org/details/ucberkeley-webcast-PL-XXv-cvA_iCl2-D-FS5mk0jFF6cYSJs_" target="_blank" rel="noopener">UC Berkeley 61C: Machine Structures (26 videos)</a></p>
</li>
<li><p><a href="https://www.youtube.com/playlist?list=PLJ9pm_Rc9HesnkwKlal_buSIHA-jTZMpO" target="_blank" rel="noopener">OOSE: Software Dev Using UML and Java (21 videos)</a></p>
</li>
<li><p><del><a href="https://www.youtube.com/watch?v=UH0QYvtP7Rk&amp;index=20&amp;list=PLkFD6_40KJIwEiwQx1dACXwh-2Fuo32qr" target="_blank" rel="noopener">UC Berkeley CS 152: Computer Architecture and Engineering (20 videos)</a></del></p>
</li>
<li><p><a href="https://www.youtube.com/playlist?list=PLDSlqjcPpoL64CJdF0Qee5oWqGS6we_Yu" target="_blank" rel="noopener">MIT 6.004: Computation Structures (49 videos)</a></p>
</li>
<li><p><a href="https://www.youtube.com/playlist?list=PL5PHm2jkkXmi5CxxI7b3JCL1TWybTDtKq" target="_blank" rel="noopener">Carnegie Mellon - Computer Architecture Lectures (39 videos)</a></p>
</li>
<li><p><a href="https://www.youtube.com/watch?v=HtSuA80QTyo&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;nohtml5=False" target="_blank" rel="noopener">MIT 6.006: Intro to Algorithms (47 videos)</a></p>
</li>
<li><p><a href="https://www.youtube.com/watch?v=zm2VP0kHl1M&amp;list=PL6535748F59DCA484" target="_blank" rel="noopener">MIT 6.033: Computer System Engineering (22 videos)</a></p>
</li>
<li><p><a href="https://www.youtube.com/playlist?list=PLUl4u3cNGP63gFHB6xb-kVBiQHYe_4hSi" target="_blank" rel="noopener">MIT 6.034 Artificial Intelligence, Fall 2010 (30 videos)</a></p>
</li>
<li><p><a href="https://www.youtube.com/watch?v=L3LMbpZIKhQ&amp;list=PLB7540DEDD482705B" target="_blank" rel="noopener">MIT 6.042J: Mathematics for Computer Science, Fall 2010 (25 videos)</a></p>
</li>
<li><p><a href="https://www.youtube.com/watch?v=2P-yW7LQr08&amp;list=PLUl4u3cNGP6317WaSNfmCvGym2ucw3oGp" target="_blank" rel="noopener">MIT 6.046: Design and Analysis of Algorithms (34 videos)</a></p>
</li>
<li><p><a href="https://www.youtube.com/watch?v=phxsQrZQupo&amp;list=PL_2Bwul6T-A7OldmhGODImZL8KEVE38X7" target="_blank" rel="noopener">MIT 6.050J: Information and Entropy, Spring 2008 (19 videos)</a></p>
</li>
<li><p><a href="https://www.youtube.com/watch?v=T0yzrZL1py0&amp;list=PLUl4u3cNGP61hsJNdULdudlRL493b-XZf&amp;index=1" target="_blank" rel="noopener">MIT 6.851: Advanced Data Structures (22 videos)</a></p>
</li>
<li><p><a href="https://www.youtube.com/playlist?list=PL6ogFv-ieghdoGKGg2Bik3Gl1glBTEu8c" target="_blank" rel="noopener">MIT 6.854: Advanced Algorithms, Spring 2016 (24 videos)</a></p>
</li>
<li><p><a href="https://www.youtube.com/playlist?list=PL2SOU6wwxB0uP4rJgf5ayhHWgw7akUWSf" target="_blank" rel="noopener">Harvard COMPSCI 224: Advanced Algorithms (25 videos)</a></p>
</li>
<li><p><a href="https://www.youtube.com/watch?v=GqmQg-cszw4&amp;index=1&amp;list=PLUl4u3cNGP62K2DjQLRxDNRi0z2IRWnNh" target="_blank" rel="noopener">MIT 6.858 Computer Systems Security, Fall 2014</a></p>
</li>
<li><p><a href="https://www.youtube.com/view_play_list?p=9D558D49CA734A02" target="_blank" rel="noopener">Stanford: Programming Paradigms (27 videos)</a></p>
</li>
<li><p><a href="https://www.youtube.com/playlist?list=PL6N5qY2nvvJE8X75VkXglSrVhLv1tVcfy" target="_blank" rel="noopener">Introduction to Cryptography by Christof Paar</a></p>
<ul>
<li><a href="http://www.crypto-textbook.com/" target="_blank" rel="noopener">Course Website along with Slides and Problem Sets</a></li>
</ul>
</li>
<li><p><a href="https://www.youtube.com/playlist?list=PLLssT5z_DsK9JDLcT8T62VtzwyW9LNepV" target="_blank" rel="noopener">Mining Massive Datasets - Stanford University (94 videos)</a></p>
</li>
<li><p><a href="https://www.youtube.com/user/DrSaradaHerke/playlists?shelf_id=5&amp;view=50&amp;sort=dd" target="_blank" rel="noopener">Graph Theory by Sarada Herke (67 videos)</a></p>
</li>
</ul>
<h2 id="Computer-Science-Courses"><a href="#Computer-Science-Courses" class="headerlink" title="Computer Science Courses"></a>Computer Science Courses</h2><ul>
<li><a href="https://github.com/open-source-society/computer-science" target="_blank" rel="noopener">Directory of Online CS Courses</a></li>
<li><a href="https://github.com/prakhar1989/awesome-courses" target="_blank" rel="noopener">Directory of CS Courses (many with online lectures)</a></li>
</ul>
<h2 id="Papers"><a href="#Papers" class="headerlink" title="Papers"></a>Papers</h2><ul>
<li><a href="https://www.cs.cmu.edu/~crary/819-f09/" target="_blank" rel="noopener">Love classic papers?</a></li>
<li><a href="http://spinroot.com/courses/summer/Papers/hoare_1978.pdf" target="_blank" rel="noopener">1978: Communicating Sequential Processes</a><ul>
<li><a href="https://godoc.org/github.com/thomas11/csp" target="_blank" rel="noopener">implemented in Go</a></li>
</ul>
</li>
<li><a href="http://static.googleusercontent.com/media/research.google.com/en//archive/gfs-sosp2003.pdf" target="_blank" rel="noopener">2003: The Google File System</a><ul>
<li>replaced by Colossus in 2012</li>
</ul>
</li>
<li><a href="http://static.googleusercontent.com/media/research.google.com/en//archive/mapreduce-osdi04.pdf" target="_blank" rel="noopener">2004: MapReduce: Simplified Data Processing on Large Clusters</a><ul>
<li>mostly replaced by Cloud Dataflow?</li>
</ul>
</li>
<li><a href="https://static.googleusercontent.com/media/research.google.com/en//archive/bigtable-osdi06.pdf" target="_blank" rel="noopener">2006: Bigtable: A Distributed Storage System for Structured Data</a><ul>
<li><a href="https://cloud.google.com/files/BigQueryTechnicalWP.pdf" target="_blank" rel="noopener">An Inside Look at Google BigQuery</a></li>
</ul>
</li>
<li><a href="https://research.google.com/archive/chubby-osdi06.pdf" target="_blank" rel="noopener">2006: The Chubby Lock Service for Loosely-Coupled Distributed Systems</a></li>
<li><a href="http://s3.amazonaws.com/AllThingsDistributed/sosp/amazon-dynamo-sosp2007.pdf" target="_blank" rel="noopener">2007: Dynamo: Amazonâ€™s Highly Available Key-value Store</a><ul>
<li>The Dynamo paper kicked off the NoSQL revolution</li>
</ul>
</li>
<li><a href="https://www.akkadia.org/drepper/cpumemory.pdf" target="_blank" rel="noopener">2007: What Every Programmer Should Know About Memory (very long, and the author encourages skipping of some sections)</a></li>
<li><a href="https://research.google.com/pubs/archive/36356.pdf" target="_blank" rel="noopener">2010: Dapper, a Large-Scale Distributed Systems Tracing Infrastructure</a></li>
<li><a href="https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/36632.pdf" target="_blank" rel="noopener">2010: Dremel: Interactive Analysis of Web-Scale Datasets</a></li>
<li><a href="https://www.wired.com/2012/07/google-colossus/" target="_blank" rel="noopener">2012: Googleâ€™s Colossus</a><ul>
<li>paper not available</li>
</ul>
</li>
<li>2012: AddressSanitizer: A Fast Address Sanity Checker:<ul>
<li><a href="http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/37752.pdf" target="_blank" rel="noopener">paper</a></li>
<li><a href="https://www.usenix.org/conference/atc12/technical-sessions/presentation/serebryany" target="_blank" rel="noopener">video</a></li>
</ul>
</li>
<li>2013: Spanner: Googleâ€™s Globally-Distributed Database:<ul>
<li><a href="http://static.googleusercontent.com/media/research.google.com/en//archive/spanner-osdi2012.pdf" target="_blank" rel="noopener">paper</a></li>
<li><a href="https://www.usenix.org/node/170855" target="_blank" rel="noopener">video</a></li>
</ul>
</li>
<li><a href="http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/43146.pdf" target="_blank" rel="noopener">2014: Machine Learning: The High-Interest Credit Card of Technical Debt</a></li>
<li><a href="http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/43790.pdf" target="_blank" rel="noopener">2015: Continuous Pipelines at Google</a></li>
<li><a href="https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/44686.pdf" target="_blank" rel="noopener">2015: High-Availability at Massive Scale: Building Googleâ€™s Data Infrastructure for Ads</a></li>
<li><a href="http://download.tensorflow.org/paper/whitepaper2015.pdf" target="_blank" rel="noopener">2015: TensorFlow: Large-Scale Machine Learning on Heterogeneous Distributed Systems</a></li>
<li><a href="http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/43835.pdf" target="_blank" rel="noopener">2015: How Developers Search for Code: A Case Study</a></li>
<li><a href="http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/44843.pdf" target="_blank" rel="noopener">2016: Borg, Omega, and Kubernetes</a></li>
</ul>
<h2 id="LICENSE"><a href="#LICENSE" class="headerlink" title="LICENSE"></a>LICENSE</h2><p><a href="./LICENSE.txt">CC-BY-SA-4.0</a></p>
]]></content>
      <categories>
        <category>study</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>å¼€å‘ä¸€ä¸ªè½¯ä»¶éœ€è¦è€ƒè™‘çš„äº‹åŠè§£å†³æ–¹æ¡ˆ</title>
    <url>/2020/01/16/2020-01-16-%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E8%BD%AF%E4%BB%B6%E9%9C%80%E8%A6%81%E8%80%83%E8%99%91%E7%9A%84%E7%9A%84%E4%BA%8B%E6%83%85%E6%94%B6%E9%9B%86/</url>
    <content><![CDATA[<h1 id="ç¬¬ä¸€èŠ‚-é…ç½®"><a href="#ç¬¬ä¸€èŠ‚-é…ç½®" class="headerlink" title="ç¬¬ä¸€èŠ‚ é…ç½®"></a>ç¬¬ä¸€èŠ‚ é…ç½®</h1><h2 id="1-1-åº”ç”¨é¦–æ¬¡è¿›å…¥éƒ½è¦è¯¢é—®åå°è‡ªå·±éœ€è¦åšå•¥-ï¼Ÿ"><a href="#1-1-åº”ç”¨é¦–æ¬¡è¿›å…¥éƒ½è¦è¯¢é—®åå°è‡ªå·±éœ€è¦åšå•¥-ï¼Ÿ" class="headerlink" title="1.1 åº”ç”¨é¦–æ¬¡è¿›å…¥éƒ½è¦è¯¢é—®åå°è‡ªå·±éœ€è¦åšå•¥ ï¼Ÿ"></a>1.1 åº”ç”¨é¦–æ¬¡è¿›å…¥éƒ½è¦è¯¢é—®åå°è‡ªå·±éœ€è¦åšå•¥ ï¼Ÿ</h2><p>é‚£è½¯ä»¶ä¸€èˆ¬è¿›å…¥é¦–é¡µè¦å¹²å˜›å‘¢ï¼Ÿ å½“ç„¶ä¸åªæ˜¯æˆ‘ä»¬çœ‹åˆ°çš„é¡µé¢åŠ è½½å’Œæ˜¾ç¤ºã€‚å› ä¸ºè¿™æ˜¯è½¯ä»¶çš„å…¥å£ï¼Œä¸ç»è¿‡ä»”ç»†æ¶æ„è®¾è®¡çš„è½¯ä»¶ï¼Œå¾€å¾€ä¼šå¤šå¿«å¥½çœçš„æŠŠå¤§éƒ¨ä»½<font color="red"> åˆå§‹åŒ–ï¼Œé…ç½®å±•ç¤ºï¼Œä¿¡æ¯åŒæ­¥</font>ç­‰ä¸€äº›æ¯”è¾ƒé‡çš„é€»è¾‘æ”¾åœ¨è¿™ä¸ªå…¥å£ã€‚</p>
<p>å½“ç„¶è¿™ä¸ªä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ï¼š</p>
<ol>
<li>éšç€è½¯ä»¶ç»´æŠ¤å‡çº§ï¼Œé¦–é¡µçš„é€»è¾‘ä¼šè¶Šæ¥è¶Šå¤æ‚ï¼Œæéš¾ç»´æŠ¤ã€‚</li>
<li>è¿‡é‡çš„ç½‘ç»œè®¿é—®ä¼šåœ¨ç½‘ç»œä¸ç¨³å®šçš„æƒ…å†µå‡ºç°å„ç§å¼‚å¸¸ï¼Œæ˜¾ç¤ºå’Œäº¤äº’æä¸å‹å¥½ï¼Œåœ¨æ²¡æœ‰å»ºç«‹å¼ºä¾èµ–çš„æƒ…å†µä¸‹ï¼Œä¸€æ¬¡ç´ å…»é‚‹é¢çš„çŠ¶æ€ï¼Œå°±ä¼šç»“æŸè½¯ä»¶å’Œç”¨æˆ·ç¼˜åˆ†ã€‚</li>
<li>é¢‘ç¹çš„CPUæ“ä½œï¼Œå¾€å¾€ä¼šå‡ºç°è½¯ä»¶åŠ è½½æ…¢ï¼Œå“åº”è¿Ÿé’ï¼Œç™½å±çš„é—®é¢˜ã€‚</li>
</ol>
<p>æ¡ˆä¾‹åˆ†æä¸€ï¼šå†…æ¶µæ®µå­ï¼Œè¢«ä¸‹æ¶</p>
<p>å†…æ¶µæ®µå­è¢«ä¸‹æ¶ä»è½¯ä»¶è®¾è®¡è§’åº¦æ¥è¯´ï¼Œæ²¡æœ‰è¿›è¡Œç‰ˆæœ¬å‡çº§ï¼Œåœ¨è¢«ä¸‹æ¶åç›´æ¥å¼¹æ¡†æç¤ºç”¨æˆ·ï¼Œç¦æ­¢ç”¨æˆ·è¿›å…¥è½¯ä»¶ä½¿ç”¨ã€‚å¯ä»¥è¯´äº§å“ç»ç†ä¹Ÿæ˜¯ç‰›è¿™ç§æå…¶ç‰¹æ®Šçš„åœºæ™¯éƒ½è€ƒè™‘åˆ°äº†ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<p>è½¯ä»¶è®¾è®¡ä¸Šå¯ä»¥é€šè¿‡<font color="red">åŠ¨æ€è·¯ç”±è¡¨ + ç½‘é¡µè·³è½¬</font>æ¥è½»æ¾è§£å†³è¿™äº›æ¯”è¾ƒå˜æ€çš„éœ€æ±‚ã€‚é€šè¿‡è·¯ç”±è¡¨è®¾ç½®ä¸€ä¸ªç½‘é¡µä¸ºé¦–é¡µï¼Œç¦æ­¢åç»­è·³è½¬é€»è¾‘ã€‚å¦‚æœæ²¡æœ‰è¿™ç§çš„æ¶æ„è®¾è®¡ï¼Œä½ ä¼šè¢«å„ç§éœ€æ±‚å’Œé—®é¢˜ç£¨å»é‚£åŸæœ¬åˆšæ¯…çš„ä½“æ ¼å˜æˆä¸€ä¸ªæœ¨è®·çš„ç¨‹åºå‘˜å°å“¥ã€‚</p>
<p>æ¡ˆä¾‹åˆ†æäºŒï¼šé¦–é¡µå¼¹æ¡†åœ°ç‹±</p>
<p>é¦–é¡µæœ‰å•¥å¼¹æ¡†å‘¢ï¼Ÿ å‡çº§æç¤ºï¼Œæ–°æ‰‹ä»»åŠ¡ï¼Œç­¾åˆ°ï¼Œä¼˜æƒ æ´»åŠ¨ï¼Œæ–°æ‰‹æŒ‡å¼•ï¼Œæ¶ˆæ¯é€šçŸ¥â€¦.éšç€ä¸šåŠ¡çš„å¢å¤šè¿™ç§é¦–é¡µå¼¹æ¡†åº”è¯¥èƒ½æŠŠæˆ‘ä»¬ææ™•ã€‚çœ‹ç€æ˜¯å‡ ä¸ªå¼¹æ¡†è€Œå·²ï¼Œä½†æ˜¯æ¯ä¸ªå¼¹æ¡†éƒ½æ˜¯ä¸€ä¸ªè¯·æ±‚ï¼Œå¼¹æ¡†å’Œå¼¹æ¡†ä¹‹é—´çš„æ˜¾ç¤ºä¼˜å…ˆçº§è¯¥æ€ä¹ˆå¤„ç†ï¼Œæˆ‘ä»¬ä¸å°å¿ƒæŠŠè½¯ä»¶å‡çº§çš„ä¼˜å…ˆçº§é™ä½ï¼Œç”šè‡³ä¸å‡ºç°ï¼Œè¿™ä¼šæ˜¯ç›´æ¥ç‚’é±¿é±¼çš„èŠ‚å¥ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<p>è½¯ä»¶è®¾è®¡ä¸Šå¯ä»¥é€šè¿‡ï¼Œ<font color="red">ç»Ÿä¸€é…ç½®å®šæ—¶æ›´æ–°,åå°æ— æ›´æ–°ä½¿ç”¨æœ¬åœ°ç¼“å­˜é€»è¾‘</font>æ¥å¤„ç†é¦–é¡µå¼¹æ¡†é…ç½®ç±»çš„é€»è¾‘ã€‚ æˆ‘ä»¬å¯ä»¥å«å®ƒ <font color="red">é…ç½®ä¸­å¿ƒæ¥å£</font> åå°ä½¿ç”¨ é˜¿é‡Œå¼€æºçš„<font color="red">nacos</font>è¿›è¡ŒåŠ¨æ€é…ç½®ï¼Œå‰ç«¯è½¯ä»¶é€šè¿‡å®šæ—¶çš„åŒæ­¥ï¼Œæ— æ›´æ–°å°±ä¸å¤„ç†çš„é€»è¾‘ï¼Œèƒ½è§£å†³è½¯ä»¶è®¾è®¡ä¸­å¾ˆå¤šå‚»ç“œå¼çš„æ›´æ–°å’Œè®¿é—®ã€‚</p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>æ”¶é›†</tag>
        <tag>è½¯ä»¶å¼€å‘ç»éªŒ</tag>
      </tags>
  </entry>
  <entry>
    <title>AndroidåŸç”Ÿå¸¸ç”¨é…ç½®æ€»ç»“</title>
    <url>/2020/01/14/2020-01-14-Android%E5%8E%9F%E7%94%9F%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<h1 id="ç¬¬1èŠ‚-Dialog-å¯¹è¯æ¡†"><a href="#ç¬¬1èŠ‚-Dialog-å¯¹è¯æ¡†" class="headerlink" title="ç¬¬1èŠ‚ Dialog å¯¹è¯æ¡†"></a>ç¬¬1èŠ‚ Dialog å¯¹è¯æ¡†</h1><h2 id="1-1-Dialogå¸ƒå±€è®¾ç½®"><a href="#1-1-Dialogå¸ƒå±€è®¾ç½®" class="headerlink" title="1.1 Dialogå¸ƒå±€è®¾ç½®"></a>1.1 Dialogå¸ƒå±€è®¾ç½®</h2><p>Dialog å¸¸ç”¨Styleè®¾ç½®</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dialog<span class="token punctuation">"</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@android:style/Theme.Holo.Dialog<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!-- æ˜¯å¦æœ‰è¾¹æ¡† --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android:windowFrame<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@null<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--æ˜¯å¦åœ¨æ‚¬æµ®Activityä¹‹ä¸Š  --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android:windowIsFloating<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--æ ‡é¢˜  --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android:windowNoTitle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--é˜´å½±  --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android:windowIsTranslucent<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--é€æ˜èƒŒæ™¯--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android:background<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@android:color/transparent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--çª—å£èƒŒæ™¯é€æ˜--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android:windowBackground<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@android:color/transparent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--å¼¹çª—èƒŒæ™¯æ˜¯å¦å˜æš—--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android:backgroundDimEnabled<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¡¥å……:</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- æ˜¯å¦å…¨å± --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android:windowFullscreen<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Javaä»£ç è®¾ç½®</p>
<pre class="line-numbers language-java"><code class="language-java">   <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment" spellcheck="true">//è®¾ç½®å±æ€§</span>
        <span class="token function">setStyle</span><span class="token punctuation">(</span>DialogFragment<span class="token punctuation">.</span>STYLE_NO_FRAME<span class="token punctuation">,</span> R<span class="token punctuation">.</span>style<span class="token punctuation">.</span>dialog<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

   <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Window window <span class="token operator">=</span> <span class="token function">getDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        View decorView <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getDecorView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        decorView<span class="token punctuation">.</span><span class="token function">measure</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token function">setGravity</span><span class="token punctuation">(</span>Gravity<span class="token punctuation">.</span>BOTTOM<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment" spellcheck="true">//è®¾ç½®åŠ¨ç”»</span>
        window<span class="token punctuation">.</span><span class="token function">setWindowAnimations</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>style<span class="token punctuation">.</span>dialog_bottom_to_top_style<span class="token punctuation">)</span><span class="token punctuation">;</span>
        WindowManager<span class="token punctuation">.</span>LayoutParams params <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getAttributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        params<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        params<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">;</span>
        params<span class="token punctuation">.</span>height <span class="token operator">=</span> WindowManager<span class="token punctuation">.</span>LayoutParams<span class="token punctuation">.</span>MATCH_PARENT<span class="token punctuation">;</span>
        params<span class="token punctuation">.</span>height <span class="token operator">=</span> WindowManager<span class="token punctuation">.</span>LayoutParams<span class="token punctuation">.</span>WRAP_CONTENT<span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token function">setAttributes</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">getDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setCanceledOnTouchOutside</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>é‡ç‚¹ï¼š <font color="red">window.setDimAmount(0);  å»æ‰dialogå¤–éƒ¨ç°è‰²èƒŒæ™¯</font></li>
</ul>
<h2 id="1-2-åŠ¨ç”»è®¾ç½®"><a href="#1-2-åŠ¨ç”»è®¾ç½®" class="headerlink" title="1.2 åŠ¨ç”»è®¾ç½®"></a>1.2 åŠ¨ç”»è®¾ç½®</h2><p>style</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!--æ§åˆ¶dialogè¿›å‡ºåŠ¨ç”»--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dialog_animation<span class="token punctuation">"</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android:Animation<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android:windowEnterAnimation<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@anim/dialog_enter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
        <span class="token comment" spellcheck="true">&lt;!-- è¿›å…¥æ—¶çš„åŠ¨ç”» --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android:windowExitAnimation<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@anim/dialog_exit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
        <span class="token comment" spellcheck="true">&lt;!-- é€€å‡ºæ—¶çš„åŠ¨ç”» --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¢åŠ åŠ¨ç”»</p>
<pre class="line-numbers language-java"><code class="language-java">dialog<span class="token punctuation">.</span><span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setWindowAnimations</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>style<span class="token punctuation">.</span>dialog_animation<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ·»åŠ åŠ¨ç”»</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="ç¬¬2èŠ‚-åŠ¨ç”»xmlå±æ€§"><a href="#ç¬¬2èŠ‚-åŠ¨ç”»xmlå±æ€§" class="headerlink" title="ç¬¬2èŠ‚ åŠ¨ç”»xmlå±æ€§"></a>ç¬¬2èŠ‚ åŠ¨ç”»xmlå±æ€§</h1><pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>translate</span>
        <span class="token attr-name"><span class="token namespace">android:</span>duration</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>800<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>fromYDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>115%<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>interpolator</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@android:interpolator/accelerate_cubic<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>toYDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>translate</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>alpha</span>
        <span class="token attr-name"><span class="token namespace">android:</span>duration</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@android:integer/config_mediumAnimTime<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>fromAlpha</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0.0<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>toAlpha</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>æ³¨æ„: æ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤æ˜¯ä»¥è‡ªå·±ä¸ºç›¸å¯¹å‚ç…§ç‰©</p>
</blockquote>
<ul>
<li>fromYDelta å±æ€§ä¸ºåŠ¨ç”»èµ·å§‹æ—¶ Yåæ ‡ä¸Šçš„ä½ç½®</li>
<li>toYDelta å±æ€§ä¸ºåŠ¨ç”»ç»“æŸæ—¶ Yåæ ‡ä¸Šçš„ä½ç½®   </li>
<li>%å’Œ%p: %è‡ªå·±çš„ä½ç½®å¼€å§‹, pçˆ¶å±‚Viewä¸ºå‚ç…§çš„<ul>
<li>android:toXDelta=â€100%â€,è¡¨ç¤ºè‡ªèº«çš„100%,ä¹Ÿå°±æ˜¯ä»Viewè‡ªå·±çš„ä½ç½®å¼€å§‹ã€‚</li>
<li>android:toXDelta=â€80%pâ€,è¡¨ç¤ºçˆ¶å±‚Viewçš„80%,æ˜¯ä»¥å®ƒçˆ¶å±‚Viewä¸ºå‚ç…§çš„ã€‚</li>
</ul>
</li>
</ul>
<h2 id="2-1-è¿›å…¥-é€€å‡º-æ¡ˆä¾‹"><a href="#2-1-è¿›å…¥-é€€å‡º-æ¡ˆä¾‹" class="headerlink" title="2.1 è¿›å…¥/é€€å‡º æ¡ˆä¾‹"></a>2.1 è¿›å…¥/é€€å‡º æ¡ˆä¾‹</h2><p>dialog_enter.xml</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span>  <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--é¡¶éƒ¨ è¿›å…¥--></span>
    <span class="token comment" spellcheck="true">&lt;!--&lt;translate--></span>
        <span class="token comment" spellcheck="true">&lt;!--android:duration="1000"--></span>
        <span class="token comment" spellcheck="true">&lt;!--android:fromYDelta="-100%p"--></span>
        <span class="token comment" spellcheck="true">&lt;!--android:toYDelta="0%p"--></span>
        <span class="token comment" spellcheck="true">&lt;!--/>--></span>
    <span class="token comment" spellcheck="true">&lt;!--åº•éƒ¨ è¿›å…¥--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>translate</span>
        <span class="token attr-name"><span class="token namespace">android:</span>duration</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1000<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>fromYDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%p<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>toYDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0%p<span class="token punctuation">"</span></span>
        <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>dialog_exit.xml</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>

    <span class="token comment" spellcheck="true">&lt;!--é¡¶éƒ¨ é€€å‡º--></span>
    <span class="token comment" spellcheck="true">&lt;!--&lt;translate--></span>
        <span class="token comment" spellcheck="true">&lt;!--android:duration="1000"--></span>
        <span class="token comment" spellcheck="true">&lt;!--android:fromYDelta="0%p"--></span>
        <span class="token comment" spellcheck="true">&lt;!--android:toYDelta="-100%p"--></span>
        <span class="token comment" spellcheck="true">&lt;!--/>--></span>

    <span class="token comment" spellcheck="true">&lt;!--åº•éƒ¨ é€€å‡º--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>translate</span>
        <span class="token attr-name"><span class="token namespace">android:</span>duration</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1000<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>fromYDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0%p<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>toYDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%p<span class="token punctuation">"</span></span>
        <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker flutteré•œåƒè‡ªåŠ¨éƒ¨ç½²å®è·µï¼Œè¸©å‘è®°å½•</title>
    <url>/2020/01/06/2020-01-06-Docker-flutter-%E9%95%9C%E5%83%8F%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2%E5%AE%9E%E8%B7%B5/</url>
    <content><![CDATA[<ul>
<li><a href="#%E5%89%8D%E8%A8%80">å‰è¨€</a></li>
<li><a href="#%E6%9C%80%E7%AE%80%E5%8D%95%E5%AE%9E%E8%B7%B5%E6%A1%88%E4%BE%8B">æœ€ç®€å•å®è·µæ¡ˆä¾‹</a><ul>
<li><a href="#%E6%8C%87%E5%AE%9Asdk%E7%89%88%E6%9C%AC">æŒ‡å®šSDKç‰ˆæœ¬</a></li>
<li><a href="#%E6%8C%87%E5%AE%9Aflutter%E7%89%88%E6%9C%AC">æŒ‡å®šflutterç‰ˆæœ¬</a></li>
<li><a href="#%E6%B5%8B%E8%AF%95">æµ‹è¯•</a></li>
</ul>
</li>
<li><a href="#%E5%87%BA%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98">å‡ºç°çš„é—®é¢˜</a><ul>
<li><a href="#%E9%97%AE%E9%A2%98%E4%B8%80%E6%9C%AC%E5%9C%B0%E6%AD%A3%E5%B8%B8%E8%B7%91%E4%BD%86%E6%98%AF%E9%95%9C%E5%83%8F%E4%B8%AD%E5%BE%88%E5%A4%9A%E4%BE%9D%E8%B5%96%E4%B8%8B%E8%BD%BD%E4%B8%8D%E4%B8%8B%E6%9D%A5">é—®é¢˜ä¸€ï¼šæœ¬åœ°æ­£å¸¸è·‘ï¼Œä½†æ˜¯é•œåƒä¸­å¾ˆå¤šä¾èµ–ä¸‹è½½ä¸ä¸‹æ¥</a></li>
<li><a href="#%E9%97%AE%E9%A2%98%E4%BA%8C-flutter-build-apk-%E7%BC%93%E6%85%A2">é—®é¢˜äºŒï¼š flutter build apk ç¼“æ…¢</a><ul>
<li><a href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B8%80">è§£å†³æ–¹æ¡ˆä¸€</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>  æœ¬é¡¹ç›®ä¸»è¦å‚è€ƒ<a href="https://github.com/cirruslabs" target="_blank" rel="noopener">cirruslabs</a>çš„ä¸¤ä¸ªDockerè„šæœ¬</p>
<ul>
<li><p><strong><a href="https://github.com/cirruslabs/docker-images-flutter" target="_blank" rel="noopener">docker-images-flutter</a></strong></p>
</li>
<li><p><strong><a href="https://github.com/cirruslabs/docker-images-android" target="_blank" rel="noopener">docker-images-android</a></strong></p>
<p>æœ¬ç¬”è®°ä¸»è¦æ˜¯ç®€åŒ–å’Œå¢åŠ ä¸€äº›å®é™…è¿‡ç¨‹ä¸­ä¸€äº›ç»éªŒæ€»ç»“</p>
</li>
</ul>
<h1 id="æœ€ç®€å•å®è·µæ¡ˆä¾‹"><a href="#æœ€ç®€å•å®è·µæ¡ˆä¾‹" class="headerlink" title="æœ€ç®€å•å®è·µæ¡ˆä¾‹"></a>æœ€ç®€å•å®è·µæ¡ˆä¾‹</h1><h2 id="æŒ‡å®šSDKç‰ˆæœ¬"><a href="#æŒ‡å®šSDKç‰ˆæœ¬" class="headerlink" title="æŒ‡å®šSDKç‰ˆæœ¬"></a>æŒ‡å®šSDKç‰ˆæœ¬</h2><p>  Dockerfile</p>
<pre class="line-numbers language-dockerfile"><code class="language-dockerfile">  FROM cirrusci/android-sdk:tools

  ENV ANDROID_PLATFORM_VERSION 29
  ENV ANDROID_BUILD_TOOLS_VERSION 29.0.2

  RUN yes | sdkmanager \
      "platforms;android-$ANDROID_PLATFORM_VERSION" \
      "build-tools;$ANDROID_BUILD_TOOLS_VERSION"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>  ç¼–è¯‘é•œåƒï¼Œå’Œä¸Šé¢DockerfileåŒçº§ç›®å½•æ‰§è¡Œ</p>
<pre class="line-numbers language-shell"><code class="language-shell">  docker build -t "image_name" . <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>-t æŒ‡å®šé•œåƒåç§°ï¼›</li>
<li><code>.</code> å½“å‰ç›®å½•æ‰¾Dockerfile ç¼–è¯‘æ–‡ä»¶</li>
</ul>
<p>  å¦‚æœéœ€è¦å¤šä¸ªSDKçš„è¯ï¼Œå¯ä»¥åœ¨ä¸Šæ¬¡ç¼–è¯‘é•œåƒçš„åŸºç¡€ä¸Šå ä¸€å±‚ï¼Œä¿®æ”¹Dockfile</p>
<p>  <font color="red">å»ºè®®ä¸è¦å å¤ªå¤šSDKï¼Œå¦åˆ™æœ€ç»ˆçš„é•œåƒä¼šå¾ˆå¤§ï¼Œè€Œä¸”æ­£å¼ç¯å¢ƒæ˜¯ä¸éœ€è¦å¤šä¸ªSDKçš„</font></p>
<p>  Dockerfile</p>
<pre class="line-numbers language-dockerfile"><code class="language-dockerfile">  FROM <ä¸Šæ¬¡ç¼–è¯‘çš„é•œåƒåç§°æˆ–è€…ID>

  ENV ANDROID_PLATFORM_VERSION 29
  ENV ANDROID_BUILD_TOOLS_VERSION 29.0.2

  RUN yes | sdkmanager \
      "platforms;android-$ANDROID_PLATFORM_VERSION" \
      "build-tools;$ANDROID_BUILD_TOOLS_VERSION"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p> å¤‡æ³¨ï¼š è¿™é‡Œæä¾›è‡ªå·±ç¼–è¯‘å¥½çš„SDKç‰ˆæœ¬ï¼Œæœ¬äººæ¯”è¾ƒæ‡’æä¾›å¸¸ç”¨ç¼–è¯‘å¥½çš„SDK</p>
<p><code>dockerlinz/android-sdk:29</code></p>
<p><code>dockerlinz/android-sdk:28</code></p>
<p> <code>dockerlinz/android-sdk:27</code></p>
</blockquote>
<h2 id="æŒ‡å®šflutterç‰ˆæœ¬"><a href="#æŒ‡å®šflutterç‰ˆæœ¬" class="headerlink" title="æŒ‡å®šflutterç‰ˆæœ¬"></a>æŒ‡å®šflutterç‰ˆæœ¬</h2><p>  Dockerfile</p>
<pre class="line-numbers language-dockerfile"><code class="language-dockerfile">  FROM dockerlinz/android-sdk:27

  ARG flutter_version

  ENV FLUTTER_HOME=${HOME}/sdks/flutter \
      FLUTTER_ROOT=$FLUTTER_HOME \
      FLUTTER_VERSION=$flutter_version \
      PUB_HOSTED_URL=https://pub.flutter-io.cn \
      FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn

  RUN mkdir -p ${FLUTTER_HOME}

  ENV PATH ${PATH}:${FLUTTER_HOME}/bin:${FLUTTER_HOME}/bin/cache/dart-sdk/bin

  RUN git clone --branch ${FLUTTER_VERSION} https://github.com/flutter/flutter.git ${FLUTTER_HOME} && \
      flutter doctor<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>  è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨<code>v1.9.1-hotfixes</code>åˆ†æ”¯</p>
<pre class="line-numbers language-shell"><code class="language-shell">  docker build --tag --build-arg flutter_version=v1.9.1-hotfixes<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>  è¿›å…¥flutterå·¥ç¨‹æ‰€åœ¨ç›®å½•</p>
<pre class="line-numbers language-shell"><code class="language-shell">  docker run --rm -it -v ${PWD}:/build --workdir /build dockerlinz/flutter:stable flutter build apk <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>å¯ä»¥åŠ å…¥ -v ~/.gradle:/home/cirrus/.gradle â€“env GRADLE_USER_HOME=/home/cirrus/.gradleï¼ŒæŒ‚åœ¨æœ¬åœ°ç¼“å­˜åˆ°é•œåƒä¸­</p>
</blockquote>
<p>  <font color="red"> æ³¨æ„ï¼šè¿‡æ¥äººç»éªŒï¼Œæ­¤å¤„æ²¡æœ‰æŠŠæ¡çš„è¯è¿˜æ˜¯è¿›å…¥å®¹å™¨é‡Œé¢æµ‹è¯•ä¼šæ›´çœäº‹</font></p>
<pre class="line-numbers language-shell"><code class="language-shell">  docker run --rm -it -v ${PWD}:/build --workdir /build dockerlinz/flutter:stable<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>  è¿›å…¥åéœ€è¦é‡æ–°ç”Ÿæˆ<code>.packages</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">  fluter clean 
  flutter packages get <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>  æœ€å¥½è¿›å…¥androidæˆ–macç›®å½•æ‰§è¡Œä»¥ä¸‹åŸç”Ÿç¼–è¯‘è„šæœ¬ï¼ŒæŸ¥çœ‹ç¼–è¯‘ç¯å¢ƒ</p>
<pre class="line-numbers language-shell"><code class="language-shell">  ./gradlew build -d <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>  æœ€åæ‰æ˜¯flutterç¼–è¯‘</p>
<pre class="line-numbers language-shell"><code class="language-shell">  flutter build apk <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="å‡ºç°çš„é—®é¢˜"><a href="#å‡ºç°çš„é—®é¢˜" class="headerlink" title="å‡ºç°çš„é—®é¢˜"></a>å‡ºç°çš„é—®é¢˜</h1><h2 id="é—®é¢˜ä¸€ï¼šæœ¬åœ°æ­£å¸¸è·‘ï¼Œä½†æ˜¯é•œåƒä¸­å¾ˆå¤šä¾èµ–ä¸‹è½½ä¸ä¸‹æ¥"><a href="#é—®é¢˜ä¸€ï¼šæœ¬åœ°æ­£å¸¸è·‘ï¼Œä½†æ˜¯é•œåƒä¸­å¾ˆå¤šä¾èµ–ä¸‹è½½ä¸ä¸‹æ¥" class="headerlink" title="é—®é¢˜ä¸€ï¼šæœ¬åœ°æ­£å¸¸è·‘ï¼Œä½†æ˜¯é•œåƒä¸­å¾ˆå¤šä¾èµ–ä¸‹è½½ä¸ä¸‹æ¥"></a>é—®é¢˜ä¸€ï¼šæœ¬åœ°æ­£å¸¸è·‘ï¼Œä½†æ˜¯é•œåƒä¸­å¾ˆå¤šä¾èµ–ä¸‹è½½ä¸ä¸‹æ¥</h2><ul>
<li><p><font color="red"> android studio Could not download guava.jar</font></p>
</li>
<li><p><font color="red"> Could not download kotlin-gradle-plugin.jar</font></p>
</li>
<li><p><font color="red">flutter Build file â€˜/build/android/app/build.gradleâ€™ line: 25</font></p>
</li>
<li><p><font color="red">Could not download kotlin-reflect.jar org.jetbrains.kotlin:kotlin-reflect:1.2.0</font></p>
<p>è§£å†³ï¼šæ–¹æ¡ˆ</p>
</li>
</ul>
<ol>
<li><p>åœ¨gradleä¸­å¢åŠ é˜¿é‡Œäº‘å›½å†…é•œåƒ</p>
<pre class="line-numbers language-groovy"><code class="language-groovy">buildscript <span class="token punctuation">{</span>
    repositories <span class="token punctuation">{</span>
        maven <span class="token punctuation">{</span> url <span class="token string">'http://maven.aliyun.com/nexus/content/groups/public/'</span> <span class="token punctuation">}</span>
        <span class="token function">google</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">jcenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    dependencies <span class="token punctuation">{</span>
        classpath <span class="token string">'com.android.tools.build:gradle:3.3.1'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

allprojects <span class="token punctuation">{</span>
    repositories <span class="token punctuation">{</span>
        maven <span class="token punctuation">{</span> url <span class="token string">'http://maven.aliyun.com/nexus/content/groups/public/'</span> <span class="token punctuation">}</span>
        <span class="token function">google</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">jcenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>æŒ‚è½½æœ¬åœ°gradle ç¼“å­˜åˆ°é•œåƒä¸­</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker run --rm -it -v ${PWD}:/build --workdir /build  -v ~/.gradle:/home/cirrus/.gradle --env GRADLE_USER_HOME=/home/cirrus/.gradle  dockerlinz/flutter:stable<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ol>
<h2 id="é—®é¢˜äºŒï¼š-flutter-build-apk-ç¼“æ…¢"><a href="#é—®é¢˜äºŒï¼š-flutter-build-apk-ç¼“æ…¢" class="headerlink" title="é—®é¢˜äºŒï¼š flutter build apk ç¼“æ…¢"></a>é—®é¢˜äºŒï¼š flutter build apk ç¼“æ…¢</h2><blockquote>
<p>æ¯æ¬¡éƒ½ä¸‹è½½gradleç‰ˆæœ¬ï¼Œå¯¼è‡´æ¯æ¬¡é‡æ–°ä¸‹è½½gradleç‰ˆæœ¬</p>
</blockquote>
<h3 id="è§£å†³æ–¹æ¡ˆä¸€"><a href="#è§£å†³æ–¹æ¡ˆä¸€" class="headerlink" title="è§£å†³æ–¹æ¡ˆä¸€"></a>è§£å†³æ–¹æ¡ˆä¸€</h3><p>  æŒ‚åœ¨æœ¬åœ°ç¼“å­˜åˆ°é•œåƒä¸­</p>
<pre class="line-numbers language-shell"><code class="language-shell">   -v ~/.gradle:/home/cirrus/.gradle --env GRADLE_USER_HOME=/home/cirrus/.gradle<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="è§£å†³æ–¹æ¡ˆäºŒ"><a href="#è§£å†³æ–¹æ¡ˆäºŒ" class="headerlink" title="è§£å†³æ–¹æ¡ˆäºŒ"></a>è§£å†³æ–¹æ¡ˆäºŒ</h3><ol>
<li><p>æŒ‚åœ¨.gradle ç¼“å­˜ç›®å½•ï¼Œä¸ç”¨æ¯æ¬¡ç¼–è¯‘çš„æ—¶å€™é‡æ–°ä¸‹è½½ä¾èµ–</p>
<pre class="line-numbers language-shell"><code class="language-shell">-v ~/.gradle2:/home/cirrus/.gradle<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>åœ¨å ä¸€å±‚gradleç¯å¢ƒ</p>
<pre class="line-numbers language-dockerfile"><code class="language-dockerfile">#https://github.com/frekele/docker-gradle/blob/master/Dockerfile
FROM dockerlinz/flutter:1.9.1-hotfixes

# Change to tmp folder
ENV GRADLE_VERSION=4.10.2
ENV GRADLE_HOME=/opt/gradle
ENV GRADLE_FOLDER=/root/.gradle

# Change to tmp folder
WORKDIR /tmp

# Download and extract gradle to opt folder
RUN wget --no-check-certificate --no-cookies https://downloads.gradle.org/distributions/gradle-${GRADLE_VERSION}-bin.zip \
    && sudo unzip gradle-${GRADLE_VERSION}-bin.zip -d /opt \
    && sudo ln -s /opt/gradle-${GRADLE_VERSION} /opt/gradle \
    && sudo rm -f gradle-${GRADLE_VERSION}-bin.zip

# Add executables to path
RUN sudo update-alternatives --install "/usr/bin/gradle" "gradle" "/opt/gradle/bin/gradle" 1 && \
    sudo update-alternatives --set "gradle" "/opt/gradle/bin/gradle"

# Create .gradle folder
RUN sudo mkdir -p $GRADLE_FOLDER

# Mark as volume
VOLUME  $GRADLE_FOLDER

# Add the files
#ADD rootfs /

# Change to root folder
WORKDIR /home/cirrus/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>Flutter ä¸­Androidå·¥ç¨‹æŒ‡å®šæœ¬åœ°gradleç¼–è¯‘ï¼Œä¸æ˜¯å–ä¸‹è½½ï¼Œæ–‡ä»¶ç›®å½•<code>&lt;android_project&gt;</code>/.idea/gradle.xml</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>GradleSettings<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>linkedExternalProjectsSettings<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GradleProjectSettings</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>compositeConfiguration</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>compositeBuild</span> <span class="token attr-name">compositeDefinitionSource</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>SCRIPT<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>compositeConfiguration</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>distributionType<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>LOCAL<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>externalProjectPath<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>$PROJECT_DIR$<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gradleHome<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>$USER_HOME$/.gradle/wrapper/dists/gradle-4.4-all/9br9xq1tocpiv8o6njlyu5op1/gradle-4.4/bin<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>resolveModulePerSourceSet<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>testRunner<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>PLATFORM<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>GradleProjectSettings</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>distributionType æ”¹ä¸º<code>LOCAL</code></li>
<li>gradleHome æŒ‡å‘<code>gradle_home/bin</code></li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>å®Œç¾ç®€å•è§£å†³gitå’Œsvnå…±ç”¨æ··ç”¨ï¼Œæˆ–ç”¨gitç»´æŠ¤svnçš„é—®é¢˜</title>
    <url>/2019/12/28/2019-12-28-git%E5%92%8Csvn%E5%85%B1%E7%94%A8%E6%B7%B7%E7%94%A8/</url>
    <content><![CDATA[<ul>
<li><a href="#%E5%89%8D%E8%A8%80%E5%BA%9F%E8%AF%9D%E8%AF%B4%E5%9C%A8%E5%89%8D">å‰è¨€ï¼ˆåºŸè¯è¯´åœ¨å‰ï¼‰</a></li>
<li><a href="#%E4%B8%A4%E4%B8%AA%E5%91%BD%E4%BB%A4%E8%A7%A3%E5%86%B3%E9%97%AE%E9%A2%98">ä¸¤ä¸ªå‘½ä»¤è§£å†³é—®é¢˜</a><ul>
<li><a href="#svn-%E5%AE%8C%E7%BE%8E%E8%BD%AC-git">SVN å®Œç¾è½¬ GIT</a></li>
<li><a href="#git-%E5%90%8C%E6%AD%A5%E5%88%B0svn">GIT åŒæ­¥åˆ°SVN</a></li>
<li><a href="#%E8%BF%9B%E4%BB%B7">è¿›ä»·</a></li>
</ul>
</li>
</ul>
<h1 id="å‰è¨€ï¼ˆåºŸè¯è¯´åœ¨å‰ï¼‰"><a href="#å‰è¨€ï¼ˆåºŸè¯è¯´åœ¨å‰ï¼‰" class="headerlink" title="å‰è¨€ï¼ˆåºŸè¯è¯´åœ¨å‰ï¼‰"></a>å‰è¨€ï¼ˆåºŸè¯è¯´åœ¨å‰ï¼‰</h1><p>è®°å¾—ç¬¬ä¸€ä»½ç¼–ç¨‹å·¥ä½œå…¬å¸ç”¨çš„å°±æ˜¯SVNï¼Œæ— æ³•æœ¬åœ°æäº¤ï¼Œæ–‡ä»¶å¤šçš„æƒ…å†µä¸‹è½½å¥‡æ…¢ï¼Œåˆ‡åˆ†æ”¯å„ç§ç¹çæ“ä½œï¼Œå¤šä¸ªç‰ˆæœ¬ååŒæ›´æ˜¯è¿›å…¥ç‰ˆæœ¬æ§åˆ¶çš„åœ°ç‹±æ¨¡å¼ï¼Œç‰¹åˆ«æ˜¯å›¢é˜Ÿå¤šäººåŒæ—¶å¼€å‘ï¼Œè§£å†³å†²çªçš„æ—¶å€™ã€‚ç°åœ¨ï¼Œåœ¨æˆ‘çœ‹æ¥SVNå°±æ˜¯è¿‡æ—¶çš„å·¥å…·ï¼Œä½†åååœ¨Gitçš„æ´ªæµä¸‹è¿˜æœ‰ä¸€äº›å…¬å¸å‡ºäºå„ç§åŸå› ä¸ç”¨Gitï¼Œè¿˜åšæŒç€é‚£ä»½ä½æ•ˆçœ‹ä¼¼ç¨³å¦¥çš„æ–¹æ¡ˆã€‚<br><img src="http://cdn.linz.tech/git-vs-svn.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä½ å«æˆ‘ä»¬è¿™ä¹ æƒ¯æœ¬åœ°æäº¤ï¼Œå„ç§åˆ‡åˆ†æ”¯åˆ åˆ†æ”¯çš„ä¸æ—¶ä¿±è¿›çš„ç¨‹åºå‘˜æƒ…ä½•ä»¥å ªã€‚ä»æ­¤é¥­ä¹Ÿä¸é¦™ï¼Œæ•²ä»£ç æä¸èµ·ç²¾ç¥ï¼Œçœ‹è€æ¿éƒ½æœ‰ç‚¹å°´å°¬O(âˆ©_âˆ©)Oå“ˆå“ˆ~â€¦..<br><img src="http://cdn.linz.tech/%E6%88%91%E7%9A%84%E5%A4%A9%E9%82%A3.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h1 id="ä¸¤ä¸ªå‘½ä»¤è§£å†³é—®é¢˜"><a href="#ä¸¤ä¸ªå‘½ä»¤è§£å†³é—®é¢˜" class="headerlink" title="ä¸¤ä¸ªå‘½ä»¤è§£å†³é—®é¢˜"></a>ä¸¤ä¸ªå‘½ä»¤è§£å†³é—®é¢˜</h1><h2 id="SVN-å®Œç¾è½¬-GIT"><a href="#SVN-å®Œç¾è½¬-GIT" class="headerlink" title="SVN å®Œç¾è½¬ GIT"></a>SVN å®Œç¾è½¬ GIT</h2><p>é¦–å…ˆè§£å†³Svnè½¬Gitè¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œ<b><font color="red">æäº¤æ—¥å¿—ä¹Ÿä¼šåŒæ­¥</font></b></p>
<blockquote>
<p>å½“åˆå°è¯•æœç´¢svnå’Œgitæ··ç”¨ç½‘ä¸Šçš„è§£å†³æ–¹å¼</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">git svn clone [svn_url] <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="GIT-åŒæ­¥åˆ°SVN"><a href="#GIT-åŒæ­¥åˆ°SVN" class="headerlink" title="GIT åŒæ­¥åˆ°SVN"></a>GIT åŒæ­¥åˆ°SVN</h2><p><b><font color="red">æäº¤æ—¥å¿—ä¹Ÿä¼šåŒæ­¥</font></b></p>
<pre class="line-numbers language-shell"><code class="language-shell">git svn dcommit<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å¦‚æœæ˜¯Android Studio ä¼šçœ‹åˆ°ï¼Œå¦‚ä¸‹ä¸€ä¸ªåŒæ­¥çš„å›¾æ ‡<br><img src="http://cdn.linz.tech/git2svn_android_studio.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="è¿›ä»·"><a href="#è¿›ä»·" class="headerlink" title="è¿›ä»·"></a>è¿›ä»·</h2><blockquote>
<p>å“ˆå“ˆï¼Œä½ ä»¥ä¸ºæˆ‘è¿˜ä¼šè¿›ä»·ï¼Œä¸Šé¢çš„ä¸¤ä¸ªå‘½ä»¤è§£å†³äº†90%çš„é—®é¢˜ï¼Œè¿˜æ˜¯æ´—æ´—ï¼Œå¤šå‡ºå»å—¨å§ï¼ï¼</p>
</blockquote>
<p><img src="http://cdn.linz.tech/hahaxixi.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¨‹åºå‘˜æ€ä¹ˆé«˜æ•ˆåšç¬”è®°</title>
    <url>/2019/12/25/2018-9-20-method-for-note/</url>
    <content><![CDATA[<h1 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h1><ul>
<li><a href="#å‰è¨€">å‰è¨€</a></li>
<li><a href="#25åˆ†æå®š-markdown">25åˆ†æå®š Markdown</a><ul>
<li><a href="#æ€ä¹ˆå¿«é€Ÿå…¥é—¨markdown">æ€ä¹ˆå¿«é€Ÿå…¥é—¨Markdown</a></li>
<li><a href="#markdownçš„è¿›é˜¶ç©æ³•">Markdownçš„è¿›é˜¶ç©æ³•</a></li>
<li><a href="#markdown-ç®¡ç†apiæˆ–è€…é¡¹ç›®è¯´æ˜æ–‡æ¡£">Markdown ç®¡ç†APIæˆ–è€…é¡¹ç›®è¯´æ˜æ–‡æ¡£</a></li>
</ul>
</li>
<li><a href="#å·§ç”¨evernoteï¼Œåšç½‘é¡µç¬”è®°">å·§ç”¨EverNoteï¼Œåšç½‘é¡µç¬”è®°</a></li>
<li><a href="#ç”¨gist-è®°å½•ç»å…¸å’Œå¸¸ç”¨çš„ä»£ç å—">ç”¨Gist è®°å½•ç»å…¸å’Œå¸¸ç”¨çš„ä»£ç å—</a></li>
<li><a href="#ç”¨ç¼–ç¨‹å¸¸ç”¨studioåšç¬”è®°å·¥å…·">ç”¨ç¼–ç¨‹å¸¸ç”¨Studioåšç¬”è®°å·¥å…·</a><ul>
<li><a href="#æ¨¡ä»¿android-studioçš„todoçš„æ ·å¼">æ¨¡ä»¿Android studioçš„todoçš„æ ·å¼</a></li>
</ul>
</li>
<li><a href="#å·¥å…·æ¨è">å·¥å…·æ¨è</a> </li>
<li><a href="#å‚è€ƒ">å‚è€ƒ</a></li>
</ul>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p align="center"><img src="http://cdn.linz.tech/android_note.jpg" alt="logo"></p>
<p align="center">å‘Šè¯‰ä½ ä¸€ä¸ªç§˜å¯†<br>æˆ‘åˆšçŸ¥é“ç¨‹åºå‘˜æ€ä¹ˆé«˜æ•ˆåšç¬”è®°</p>
# 25åˆ†æå®š Markdown 
[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-4WAfdnsD-1574090733242)(http://cdn.linz.tech/2018-09-19-22-33-07-Markdown.png)]

<p>ä½œä¸ºç¨‹åºå‘˜ä¸çŸ¥é“Markdowné‚£ä½ çœŸçš„æ˜¯Outäº†ï¼Œç”¨Markdowè¯­æ³•å†™åšå®¢ç¬”è®°å‡ ä¸ª<code>##</code>å°±èƒ½æŠŠä½ çš„æ–‡ç« ï¼Œç”¨æ¸…æ™°çš„åˆ†çº§æ ‡é¢˜ç†æ¸…æ¥šï¼Œä¸å†æ˜¯æ²¡æœ‰é‡ç‚¹ä¸€å›¢ä¹±éº»ï¼Œè½»æ¾çš„è§£å†³ä»£ç å—æ’å…¥æ— æ ¼å¼çš„è€å¤§éš¾é—®é¢˜ï¼ŒåŠ ä¸Šå„ç§æ’ä»¶ï¼Œè½»æ¾æ‰“é€ ç¾è§‚çš„æ–‡ç« ã€‚Markdownæ”¯æŒè½¬æ¢ä¸ºå¸¸è§çš„æ–‡ä»¶æ ¼å¼å¦‚ï¼šHTML,doc,PDFç­‰ï¼›</p>
<h2 id="æ€ä¹ˆå¿«é€Ÿå…¥é—¨Markdown"><a href="#æ€ä¹ˆå¿«é€Ÿå…¥é—¨Markdown" class="headerlink" title="æ€ä¹ˆå¿«é€Ÿå…¥é—¨Markdown"></a>æ€ä¹ˆå¿«é€Ÿå…¥é—¨Markdown</h2><p>å…¶å®Markdownå¸¸ç”¨çš„è¯­æ³•å°±å‡ ä¸ªï¼Œæœ€å¿«é€Ÿçš„æ–¹æ³•æ˜¯ç”¨æ”¯æŒMarkdownè¯­æ³•çš„ç¼–è¾‘å™¨è¯•ä¸€æ¬¡UIä¸­æä¾›å„ç§è¯­æ³•ï¼Œ15åˆ†åŸºæœ¬èƒ½æå®šï¼Œ1åˆ†é’Ÿå›é¡¾ä¸€ä¸‹ï¼Œä»»ä½•ç”¨åˆ°çš„æ—¶å€™å¿˜è®°äº†åœ¨çœ‹ä¸€ä¸‹æ¡ˆä¾‹ã€‚<br>æ¨èèµ„æºæœ‰ï¼š</p>
<ul>
<li><a href="https://pandao.github.io/editor.md/examples/simple.html" target="_blank" rel="noopener">pandao æä¾›çš„åœ¨çº¿æ¡ˆä¾‹å¦‚ä¸Šå›¾</a></li>
<li>ä½¿ç”¨æœ‰é“ç¬”è®°æœ¬ï¼Œæ–°å»ºMarkdownç¬”è®°ï¼›</li>
</ul>
<h2 id="Markdownçš„è¿›é˜¶ç©æ³•"><a href="#Markdownçš„è¿›é˜¶ç©æ³•" class="headerlink" title="Markdownçš„è¿›é˜¶ç©æ³•"></a>Markdownçš„è¿›é˜¶ç©æ³•</h2><ul>
<li>ç›®å‰å¤§éƒ¨åˆ†çš„åšå®¢ç½‘ç«™éƒ½æ”¯æŒMarkdownè¯­æ³•ï¼Œå¦‚CSDNï¼Œæ˜é‡‘ï¼Œç®€ä¹¦ç­‰å¯ä»¥æ³¨å†Œï¼Œå°è¯•ä¸€ä¸‹è¿›å…¥Markdownçš„ä¸–ç•Œï¼›</li>
<li>Gitbook æŠŠä½ çš„Markdownå¼„æˆä¹¦<ul>
<li><a href="https://blog.csdn.net/feosun/article/details/72806825" target="_blank" rel="noopener">Gitbookå®‰è£…ä¸ä½¿ç”¨æ•™ç¨‹</a> </li>
<li>å›½å¤–æœ€æµè¡Œçš„ç›¸å…³ç½‘ç«™<a href="https://www.gitbook.com/" target="_blank" rel="noopener">www.gitbook.com</a>ï¼Œèƒ½æ‰¾åˆ°ç”¨gitbookå†™çš„å„ç§ä¹¦ç±ï¼›</li>
</ul>
</li>
<li><a href="https://github.com/geekcompany/DeerResume" target="_blank" rel="noopener">MarkDownåœ¨çº¿ç®€å†å·¥å…·ï¼Œå¯åœ¨çº¿é¢„è§ˆã€ç¼–è¾‘å’Œç”ŸæˆPDF</a></li>
<li><a href="http://xianbai.me/learn-md/article/convert/html.html" target="_blank" rel="noopener">Markdown è½¬æ¢æˆWorkï¼ŒHTMLï¼ŒPDFæ ¼å¼</a></li>
<li><a href="https://hexo.io/" target="_blank" rel="noopener">ä½¿ç”¨Hexoæ­å»ºè‡ªå·±çš„åšå®¢</a> å¦‚æœä¸€åˆ‡é¡ºåˆ©åŠå¤©å°±èƒ½æ­å¥½åšå®¢ï¼Œé‡åˆ°ä¸€äº›é—®é¢˜å·²å¤©å°±èƒ½æå®šï¼›</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼š </p>
<ol>
<li>è™½ç„¶å¾ˆå¤šç½‘ç«™éƒ½æ”¯æŒMarkdownï¼Œä½†æ˜¯å¾ˆå¤šç½‘ç«™å¯¹Markdownåšäº†æ·±åº¦å®šåˆ¶ï¼Œè¿™ä¼šå¯¼è‡´ä¸åŒç¼–è¾‘å™¨ä¹‹é—´å‡ºç°æ˜¾ç¤ºåå·®ï¼Œå¦‚åŒ…æœ‰é“çš„Markdownæ–‡ä»¶æ‹·è´åˆ°Hexoåšå®¢ä¸Šç»å¸¸å‡ºç°æ ¼å¼æ··ä¹±çš„é—®é¢˜ï¼›<font color="red">æ³¨æ„ï¼Œä¸åŒç¼–è¾‘å™¨æ£€æŸ¥ä¸€ä¸‹æ–‡ç« æ ¼å¼</font></li>
<li>å›¾ç‰‡å°½é‡æ”¾åœ¨è‡ªå·±çš„äº‘æœåŠ¡å™¨ä¸Šï¼Œä»¥ä¾¿ä»¥åè¿ç§»ä¸ä¼šä¸¢å¤±ï¼Œè¿™é‡Œæ¨èä¸ƒç‰›äº‘ä¸ºä¸ªäººæä¾›10Gçš„å…è´¹å‚¨å­˜ï¼›</li>
</ol>
</blockquote>
<h2 id="Markdown-ç®¡ç†APIæˆ–è€…é¡¹ç›®è¯´æ˜æ–‡æ¡£"><a href="#Markdown-ç®¡ç†APIæˆ–è€…é¡¹ç›®è¯´æ˜æ–‡æ¡£" class="headerlink" title="Markdown ç®¡ç†APIæˆ–è€…é¡¹ç›®è¯´æ˜æ–‡æ¡£"></a>Markdown ç®¡ç†APIæˆ–è€…é¡¹ç›®è¯´æ˜æ–‡æ¡£</h2><p>ä¸‹é¢çš„å·¥å…·éƒ½æ˜¯ä½¿ç”¨Markdownè¯­æ³•ï¼Œçœ‹è‡ªå·±å–œæ¬¢ä»€ä¹ˆæ ·å¼ç›´æ¥å®‰è£…</p>
<ul>
<li><a href="https://www.mkdocs.org/" target="_blank" rel="noopener">MkDocs</a></li>
<li><a href="https://docusaurus.io/docs/en/installation" target="_blank" rel="noopener">Docusaurus</a></li>
<li><a href="https://docsify.js.org/#/?id=docsify" target="_blank" rel="noopener">Docsify</a></li>
<li><a href="http://docpress.github.io/#support" target="_blank" rel="noopener">docpress</a></li>
</ul>
<h1 id="å·§ç”¨EverNoteï¼Œåšç½‘é¡µç¬”è®°"><a href="#å·§ç”¨EverNoteï¼Œåšç½‘é¡µç¬”è®°" class="headerlink" title="å·§ç”¨EverNoteï¼Œåšç½‘é¡µç¬”è®°"></a>å·§ç”¨EverNoteï¼Œåšç½‘é¡µç¬”è®°</h1><p>ç›¸ä¿¡ç°åœ¨å¾ˆå¤šäººç»å¸¸ä¸Šç½‘æµè§ˆç½‘é¡µï¼Œä½†æ˜¯é‡åˆ°ä¸€äº›ä¸€ä¸‹å­æ— æ³•æ¶ˆåŒ–çš„å†…å®¹ï¼Œ<font color="red">éœ€è¦é‡å¤æµè§ˆå’Œåšç¬”è®°æ€ä¹ˆåŠ?</font> </p>
<p><strong>Chrome çš„Evernoteæ’ä»¶å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªç—›ç‚¹</strong>ï¼Œå¦‚ä¸‹ï¼š<br>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ <img src="https://imgconvert.csdnimg.cn/aHR0cDovL2Nkbi5saW56LnRlY2gvMjAxOC0wOS0xOV8yMy0zOC0yNi1ldmVybm90ZS5naWY" alt=""></p>
<p>åšå¥½çš„ç½‘é¡µç¬”è®°ï¼Œä¸ä»…èƒ½åœ¨ç”µè„‘ç«¯çš„å®¢æˆ·ç«¯æ‰“å¼€ï¼Œè€Œä¸”è¿˜èƒ½è¿›ä¸€æ­¥ç¼–è¾‘ï¼Œä¸Šä¼ éŸ³è§†é¢‘æ–‡ä»¶ï¼š<br>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ <img src="https://imgconvert.csdnimg.cn/aHR0cDovL2Nkbi5saW56LnRlY2gvMjAxOC0wOS0xOV8yMy00MS0xOC1ldmVybm90ZTIucG5n?x-oss-process=image/format,png" alt=""></p>
<h1 id="ç”¨Gist-è®°å½•ç»å…¸å’Œå¸¸ç”¨çš„ä»£ç å—"><a href="#ç”¨Gist-è®°å½•ç»å…¸å’Œå¸¸ç”¨çš„ä»£ç å—" class="headerlink" title="ç”¨Gist è®°å½•ç»å…¸å’Œå¸¸ç”¨çš„ä»£ç å—"></a>ç”¨Gist è®°å½•ç»å…¸å’Œå¸¸ç”¨çš„ä»£ç å—</h1><ul>
<li>åœºæ™¯1ï¼šçœ‹æºç çš„æ—¶å€™ï¼Œæˆ‘é è¿™æ®µä»£ç å¤ªç»å…¸/å¸¸ç”¨äº†æˆ‘æ€ä¹ˆä¿å­˜ä»–å‘¢ï¼Ÿ</li>
<li>åœºæ™¯2ï¼šè¿™ä¸ªåŠŸèƒ½çš„ä»£ç æˆ‘çœ‹è¿‡ï¼Œåœ¨å“ªä¸ªé¡¹ç›®æ¥ç€ï¼Ÿ</li>
<li>åœºæ™¯3ï¼šå…³äºæ–‡ä»¶æ“ä½œçš„ä»£ç æˆ‘çœ‹äº†å¥½å¤šï¼Œæ€ä¹ˆé›†åˆåœ¨ä¸€èµ·ï¼Ÿ</li>
</ul>
<p>ä¸Šé¢çš„åœºæ™¯éƒ½æ˜¯ä»£ç ç‰‡æ®µçš„ä¿å­˜éœ€æ±‚ï¼Œgithubä¸Šæ—©å°±æä¾›äº†ä»£ç ç‰‡æ®µç®¡ç†GiståŠŸèƒ½ï¼Œåªæ˜¯å›½å†…éœ€è¦ç¿»å¢™ä½¿ç”¨æ¯”è¾ƒéº»çƒ¦ï¼Œè€Œæ²¡æœ‰æ™®åŠå¼€æ¥ï¼›</p>
<p>å…¶ä»–è½¯ä»¶æ²¡ç”¨è¿‡ï¼Œæ¨èæˆ‘ä¸€ç›´ç”¨å¾ˆå¥½ç”¨çš„Leptonè½¯ä»¶ï¼š<br><a href="https://github.com/hackjutsu/Lepton" target="_blank" rel="noopener"><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3d3MS5zaW5haW1nLmNuL2xhcmdlLzY1NjFmZWVlancxZmNkMmN2ZnpodGoyMXRzMWQ0dG4xLmpwZw?x-oss-process=image/format,png" alt="Lepton"></a><br>æ¨èåŸå› ï¼š</p>
<ul>
<li>è·¨å¹³å°Windowï¼ŒMacï¼ŒLinuxéƒ½æ”¯æŒï¼›</li>
<li>UIè®¾è®¡ç®€æ´ï¼Œæ“ä½œç®€å•ï¼›</li>
<li>åŸºæœ¬èƒ½è§£å†³å›½å†…æ— æ³•è®¿é—®é—®é¢˜ï¼Œ<font color="red">æ³¨æ„ï¼šä½†æ˜¯æœ‰æ—¶å€™è¿˜æ˜¯ä¼šç™»å½•ä¸ä¸Š</font></li>
</ul>
<h1 id="ç”¨ç¼–ç¨‹å¸¸ç”¨Studioåšç¬”è®°å·¥å…·"><a href="#ç”¨ç¼–ç¨‹å¸¸ç”¨Studioåšç¬”è®°å·¥å…·" class="headerlink" title="ç”¨ç¼–ç¨‹å¸¸ç”¨Studioåšç¬”è®°å·¥å…·"></a>ç”¨ç¼–ç¨‹å¸¸ç”¨Studioåšç¬”è®°å·¥å…·</h1><p>ç¨‹åºå‘˜æ¯å¤©éƒ½è·ŸStudioæ‰“äº¤é“ï¼Œå¯¹è‡ªå·±è¯­è¨€çš„Studioè‡ªç„¶æ¯”å…¶ä»–è½¯ä»¶æ›´ç†Ÿæ‚‰ï¼Œå„ç§å¿«æ·é”®æ‰‹åˆ°æ“’æ¥ï¼Œå½“ç„¶ç”¨Studioæœ€ç¬”è®°è‡ªç„¶æ— å½¢ä¸­æé«˜äº†æ•ˆç‡ï¼Œæˆ‘è‡ªå·±å°±ç”¨Android studio ä¸­çš„markdownæ’ä»¶å†™hexoåšå®¢</p>
<h2 id="æ¨¡ä»¿Android-studioçš„todoçš„æ ·å¼"><a href="#æ¨¡ä»¿Android-studioçš„todoçš„æ ·å¼" class="headerlink" title="æ¨¡ä»¿Android studioçš„todoçš„æ ·å¼"></a>æ¨¡ä»¿Android studioçš„todoçš„æ ·å¼</h2><p><strong>æƒ³è¦è¾¾åˆ°çš„æ•ˆæœ</strong><br><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3VwbG9hZC1pbWFnZXMuamlhbnNodS5pby91cGxvYWRfaW1hZ2VzLzEzMjE1MTItZGIzZjE1YTc0MjI0NzI5MC5qcGc?x-oss-process=image/format,png" alt="é¢œè‰²ï¼ŒèƒŒæ™¯æ ·å¼å¯è®¾ç½®"></p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3VwbG9hZC1pbWFnZXMuamlhbnNodS5pby91cGxvYWRfaW1hZ2VzLzEzMjE1MTItZjRlY2I1N2FlYWM5Njg2Mi5qcGc?x-oss-process=image/format,png" alt="TODOä¸­å¯ä»¥éšæ„æŸ¥çœ‹"></p>
<p><strong>è®¾ç½®æ­¥éª¤</strong><br><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3VwbG9hZC1pbWFnZXMuamlhbnNodS5pby91cGxvYWRfaW1hZ2VzLzEzMjE1MTItNjYwZjc4ZGU5NDc4OWE0Ny5qcGc?x-oss-process=image/format,png" alt="å¤åˆ¶todoçš„Live Template"> </p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3VwbG9hZC1pbWFnZXMuamlhbnNodS5pby91cGxvYWRfaW1hZ2VzLzEzMjE1MTItM2JlMGEyM2E4ODE2MDA5MS5qcGc?x-oss-process=image/format,png" alt="è®¾ç½®å–œæ¬¢çš„æ ·å¼"></p>
<h1 id="å·¥å…·æ¨è"><a href="#å·¥å…·æ¨è" class="headerlink" title="å·¥å…·æ¨è"></a>å·¥å…·æ¨è</h1><h2 id="typora"><a href="#typora" class="headerlink" title="typora"></a><a href="https://www.typora.io" target="_blank" rel="noopener">typora</a></h2><blockquote>
<p> ç›®å‰é‡åˆ°æœ€å¥½ç”¨çš„Markdownç¼–è¾‘å·¥å…·</p>
</blockquote>
<p>æ¨èåŸå› </p>
<ol>
<li>å¯ä»¥è‡ªåŠ¨ç”Ÿæˆé¢„ç•™ç›®å½•ï¼›</li>
<li>å¯ä»¥åœ¨å½“å‰ç›®å½•ä¸‹æœç´¢Markdownå†…éƒ¨æ–‡ä»¶ï¼Œèƒ½å¿«é€Ÿå¯¼èˆªåˆ°æƒ³æ‰¾çš„æ–‡ä»¶ï¼›</li>
<li>æä¾›å¾ˆå¤šä¼˜é›…çš„ä¸»é¢˜ï¼Œæˆ‘æ¯”è¾ƒå–œæ¬¢ GitHubä¸»é¢˜<h2 id="markdown-toc"><a href="#markdown-toc" class="headerlink" title="markdown-toc"></a>markdown-toc</h2><blockquote>
<p>æœ‰äº› ç½‘é¡µä¸æ”¯æŒ [TOC] å‘½ä»¤ï¼Œåªèƒ½æ‰‹åŠ¨ç”Ÿæˆä¸€ä¸ª</p>
</blockquote>
</li>
</ol>
<p>å®‰è£…</p>
<pre class="line-numbers language-js"><code class="language-js">npm install <span class="token operator">--</span>save markdown<span class="token operator">-</span>toc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å…¨å±€å®‰è£…</p>
<pre><code>npm install -g --save markdown-toc</code></pre><p>å‡è®¾ä½ éœ€è¦ä¸ºREADME.mdç”Ÿæˆç›®å½•,ä½¿ç”¨</p>
<pre class="line-numbers language-js"><code class="language-js">npx markdown<span class="token operator">-</span>toc README<span class="token punctuation">.</span>md<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æŠŠè¾“å‡ºçš„å†…å®¹æ‹·è´åˆ°mdæ–‡ä»¶å³å¯</p>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul>
<li><a href="https://www.zhihu.com/question/21438053" target="_blank" rel="noopener">çŸ¥ä¹ï¼šå­¦ä¹ ç¼–ç¨‹ç”¨ä»€ä¹ˆåšç¬”è®°æ¯”è¾ƒå¥½ï¼Ÿ</a> åŸºæœ¬éƒ½è¯•è¿‡ï¼Œåªæœ‰<a href="https://www.notion.so" target="_blank" rel="noopener">notion</a>æƒŠè‰³åˆ°æˆ‘äº†</li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾è®¡ç›¸å…³</title>
    <url>/2019/12/25/2018-4-15-designer/</url>
    <content><![CDATA[<h1 id="ç›¸å…³å¼€æºåº“"><a href="#ç›¸å…³å¼€æºåº“" class="headerlink" title="ç›¸å…³å¼€æºåº“"></a>ç›¸å…³å¼€æºåº“</h1><h2 id="Lottie"><a href="#Lottie" class="headerlink" title="Lottie"></a>Lottie</h2><blockquote>
<p>å®˜æ–¹å…¨å¹³å°ä½¿ç”¨è¯´æ˜ï¼š <a href="https://airbnb.io/lottie/" target="_blank" rel="noopener">https://airbnb.io/lottie/</a></p>
</blockquote>
<ul>
<li><a href="https://github.com/airbnb/lottie-android" target="_blank" rel="noopener">AEåŠ¨ç”»è®¾è®¡ + lottie-android</a> ã€ç®€æ˜“çš„æƒŠè‰³åŠ¨ç”».å¿…çœ‹ã€‘</li>
<li><a href="https://github.com/airbnb/lottie-web" target="_blank" rel="noopener">lottie-web</a><br><img src="https://raw.githubusercontent.com/airbnb/lottie-android/master/gifs/Example1.gif" alt=""></li>
</ul>
<p><em>æ•ˆæœé¢„è§ˆ</em></p>
<ul>
<li><a href="https://www.lottiefiles.com/" target="_blank" rel="noopener">lottiefiles</a> åœ¨çº¿data.json é¢„è§ˆæ•ˆæœ</li>
<li><a href="https://codepen.io/collection/nVYWZR/" target="_blank" rel="noopener">bodymovin</a> web æ•ˆæœé¢„è§ˆ</li>
</ul>
<p><em>ç¯å¢ƒé…ç½®</em></p>
<ul>
<li><p><a href="https://github.com/bigxixi/bodymovin_cn" target="_blank" rel="noopener">bodymovieæ’ä»¶ä¸‹è½½åœ°å€</a> æ±‰åŒ–ç‰ˆæœ¬åœ°å€</p>
</li>
<li><p><a href="https://bodymovin-editor.firebaseapp.com/" target="_blank" rel="noopener">åœ¨çº¿ç¼–è¾‘å·¥å…·</a></p>
</li>
</ul>
<p><em>å‚è€ƒåšæ–‡</em></p>
<ul>
<li><a href="https://www.jianshu.com/p/a37b3e4d9ccd" target="_blank" rel="noopener">Androidå¼€å‘ä¹‹LottieåŠ¨ç”»è§£æåº“</a>  AEçš„ç®€å•å®ç”¨å’ŒLottieçš„ç®€å•å®ç”¨</li>
</ul>
<p><em>é™„å½•</em></p>
<ul>
<li><a href="https://codepen.io/airnan/project/editor/ZeNONO" target="_blank" rel="noopener">web æœ€ç®€å•Demo</a></li>
<li><a href="https://cdnjs.com/libraries/bodymovin" target="_blank" rel="noopener">bodymovin web javaScript libs</a>  <code>lottie.js</code> <code>lottie_light.js</code></li>
</ul>
<h2 id="fack-rebound-å¼¹æ€§åŠ¨ç”»-æœ‰ç½‘é¡µDemo"><a href="#fack-rebound-å¼¹æ€§åŠ¨ç”»-æœ‰ç½‘é¡µDemo" class="headerlink" title="fack-rebound å¼¹æ€§åŠ¨ç”» æœ‰ç½‘é¡µDemo"></a><a href="http://facebook.github.io/rebound/" target="_blank" rel="noopener">fack-rebound å¼¹æ€§åŠ¨ç”»</a> æœ‰ç½‘é¡µDemo</h2><blockquote>
<p>èƒ½å¤§å¤§çš„æé«˜ç”¨æˆ·ä½“éªŒ</p>
</blockquote>
<h1 id="ä»£ç å¼€æºåº“"><a href="#ä»£ç å¼€æºåº“" class="headerlink" title="ä»£ç å¼€æºåº“"></a>ä»£ç å¼€æºåº“</h1><h2 id="æ§ä»¶"><a href="#æ§ä»¶" class="headerlink" title="æ§ä»¶"></a>æ§ä»¶</h2><ul>
<li><a href="https://github.com/qiujuer/Genius-Android" target="_blank" rel="noopener">Genius-Android</a><br><img src="https://raw.githubusercontent.com/qiujuer/Genius-Android/master/caprice/release/pic_ui.png" alt=""></li>
</ul>
<h1 id="Sketch"><a href="#Sketch" class="headerlink" title="Sketch"></a>Sketch</h1><h2 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h2><ul>
<li><a href="https://design.webkul.com/renamer/?utm_source=androidweekly.io&amp;utm_medium=website" target="_blank" rel="noopener">Renamer</a> å¤šå›¾å±‚é‡å‘½åå·¥å…·</li>
<li><a href="https://github.com/mascardoso/sketch-export" target="_blank" rel="noopener">sketch-export</a> Export Artboards in sketch to markdown or json</li>
</ul>
<h1 id="å…è´¹å›¾ç‰‡èµ„æº"><a href="#å…è´¹å›¾ç‰‡èµ„æº" class="headerlink" title="å…è´¹å›¾ç‰‡èµ„æº"></a>å…è´¹å›¾ç‰‡èµ„æº</h1><ul>
<li><a href="https://iconsvg.xyz" target="_blank" rel="noopener">https://iconsvg.xyz</a></li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>UI</tag>
        <tag>design</tag>
      </tags>
  </entry>
  <entry>
    <title>é˜¿é‡Œå·´å·´arouterç»„ä»¶åŒ–æ€»ç»“</title>
    <url>/2019/12/25/2019-12-25-%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4arouter%E7%BB%84%E4%BB%B6%E5%8C%96%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<ul>
<li><a href="#%E7%AC%AC1%E8%8A%82-%E7%BB%84%E4%BB%B6%E5%8C%96%E5%8E%9F%E5%9B%A0">ç¬¬1èŠ‚ ç»„ä»¶åŒ–åŸå› </a></li>
<li><a href="#%E7%AC%AC2%E8%8A%82-%E7%BB%84%E4%BB%B6%E5%8C%96%E9%A1%BB%E8%80%83%E8%99%91%E7%9A%84%E9%97%AE%E9%A2%98">ç¬¬2èŠ‚ ç»„ä»¶åŒ–é¡»è€ƒè™‘çš„é—®é¢˜</a></li>
<li><a href="#%E7%AC%AC3%E8%8A%82-arouter%E4%BD%BF%E7%94%A8">ç¬¬3èŠ‚ ARouterä½¿ç”¨</a><ul>
<li><a href="#31-%E5%88%9D%E5%A7%8B%E5%8C%96%E9%85%8D%E7%BD%AE">3.1 åˆå§‹åŒ–é…ç½®</a></li>
<li><a href="#32-%E9%AB%98%E9%98%B6%E4%BD%BF%E7%94%A8">3.2 é«˜é˜¶ä½¿ç”¨</a><ul>
<li><a href="#1-%E6%A8%A1%E5%9D%97%E9%97%B4%E8%B0%83%E7%94%A8">1. æ¨¡å—é—´è°ƒç”¨</a></li>
<li><a href="#2-%E5%85%A8%E5%B1%80%E5%88%86%E7%BB%84%E6%8B%A6%E6%88%AA">2. å…¨å±€åˆ†ç»„æ‹¦æˆª</a></li>
<li><a href="#3-%E9%99%8D%E7%BA%A7%E5%A4%84%E7%90%86">3. é™çº§å¤„ç†</a></li>
<li><a href="#4-%E8%B7%AF%E5%BE%84%E6%9B%BF%E6%8D%A2">4. è·¯å¾„æ›¿æ¢</a></li>
<li><a href="#5-%E9%BB%98%E8%AE%A4javabean%E5%BA%8F%E5%88%97%E5%8C%96%E6%8E%A7%E5%88%B6%E7%B1%BB">5. é»˜è®¤JavaBeanåºåˆ—åŒ–æ§åˆ¶ç±»</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E7%AC%AC4%E8%8A%82-arouter%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95">ç¬¬4èŠ‚ Arouteré‡‡å‘è®°å½•</a><ul>
<li><a href="#%E5%89%8D%E8%A8%80">å‰è¨€</a></li>
<li><a href="#41-autowrite">4.1 AutoWrite</a></li>
<li><a href="#42-navigation">4.2 navigation</a></li>
<li><a href="#43--finish-%E6%97%B6%E6%9C%BA%E4%B8%8D%E5%AF%B9%E4%BA%A7%E7%94%9F%E7%99%BD%E5%B1%8F">4.3 finish æ—¶æœºä¸å¯¹äº§ç”Ÿç™½å±</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC5%E8%8A%82-%E5%AE%9E%E6%88%98%E6%80%BB%E7%BB%93-arouter%E5%B0%81%E8%A3%85%E7%B1%BB">ç¬¬5èŠ‚ å®æˆ˜æ€»ç»“ ARouterå°è£…ç±»</a><ul>
<li><a href="#postcard-%E7%9A%84%E5%8C%85%E8%A3%85%E7%B1%BB">Postcard çš„åŒ…è£…ç±»</a></li>
<li><a href="#arouterhelper-%E5%B8%AE%E5%8A%A9%E7%B1%BB">ArouterHelper å¸®åŠ©ç±»</a></li>
</ul>
</li>
<li><a href="#%E9%99%84%E5%BD%95">é™„å½•</a></li>
</ul>
<h1 id="ç¬¬1èŠ‚-ç»„ä»¶åŒ–åŸå› "><a href="#ç¬¬1èŠ‚-ç»„ä»¶åŒ–åŸå› " class="headerlink" title="ç¬¬1èŠ‚ ç»„ä»¶åŒ–åŸå› "></a>ç¬¬1èŠ‚ ç»„ä»¶åŒ–åŸå› </h1><ol>
<li><strong>æŠ½ç¦»å‡ºå¸¸ç”¨çš„å…¬å…±æ¨¡å—</strong>ï¼Œå¦‚å…¬å¸å†…éƒ¨å°è£…çš„å·¥å…·åº“ï¼Œç½‘ç»œè®¿é—®åº“ï¼Œå…¬å…±èµ„æºç­‰ã€‚å„å…¬å…±æ¨¡å—å•ç‹¬ç»´æŠ¤ï¼Œé€æ¸å®Œå–„ã€‚å·¥ä½œå¤šå¹´æ·±åˆ»æ„Ÿè§‰åˆ°å…¬å…±æ¨¡å—ä»£ç å¯¹ä¸€ä¸ªå…¬å¸çš„é‡è¦æ€§ï¼š<ol>
<li>æŠ½ç¦»å‡ºå…¬å…±æ¨¡å—ï¼Œé€šè¿‡å…±åŒç»´æŠ¤å’Œä½¿ç”¨èƒ½æ˜æ˜¾æé«˜å…¬å¸å†…éƒ¨é¡¹ç›®å¼€å‘æ•ˆç‡ï¼Œå‡å°‘å†…éƒ¨æ¶ˆè€—ã€‚</li>
<li>æŠ½ç¦»å‡ºå…¬å…±æ¨¡å—ï¼Œèƒ½è¾¾åˆ°å¼ºè°ƒçš„æ•ˆæœï¼Œé€šè¿‡é€æ­¥çš„ç‰ˆæœ¬è¿­ä»£ï¼Œè¾¾åˆ°å…¬å¸å†…éƒ¨æŠ€æœ¯ç§¯ç´¯çš„ç›®çš„ã€‚</li>
<li>æŠŠåŠŸèƒ½æ¨¡å—æ”¾å…¥å†…éƒ¨ç‰ˆæœ¬ä»“åº“ï¼Œä½¿ä»£ç æ›´ç®€æ´ï¼Œå„ç‰ˆæœ¬ä¿®æ”¹bugè¿½è¸ªæœ‰æ—¥å¿—å¯æŸ¥ï¼Œä½¿ä»£ç æ›´å¥å£®ã€‚</li>
</ol>
</li>
<li><strong>å„ä¸šåŠ¡æ¨¡å—é—´è§£è€¦</strong><ol>
<li>èƒ½è¾¾åˆ°å„æ¨¡å—ç»„åˆå¿«é€Ÿå®Œæˆä¸€ä¸ªAppï¼Œç°å®å¼€å‘åœºæ™¯ä¸­ï¼Œä¸€ä¸ªå…¬å¸å¾ˆå¤šé¡¹ç›®å¹¶è¡Œå¼€å‘ï¼Œå…¶å®å¾ˆå¤šä¸šåŠ¡æ¨¡å—æ˜¯å¯ä»¥å…±ç”¨çš„ã€‚</li>
<li>èƒ½åŠ¨æ€æ›¿æ¢æŸä¸€æ¨¡å—ï¼›</li>
</ol>
</li>
<li><strong>é¡µé¢è·³è½¬ï¼ŒæœåŠ¡è°ƒç”¨URLåŒ–</strong>ï¼Œæ›´åˆ‡åˆhybirdå’Œå¤šç«¯å¼€å‘çš„åœºæ™¯ï¼Œå¦‚<ol>
<li>ç”±äºè·¯å¾„åŒ–Webå’ŒåŸç”Ÿç•Œé¢ç›¸äº’è·³è½¬ä¼šå¾ˆæ–¹ä¾¿ï¼›</li>
<li>Webè°ƒç”¨Android\IOSåŸç”Ÿé¡µé¢ç»Ÿä¸€åŒ–æé«˜å¼€å‘æ•ˆç‡;</li>
<li>é€šè¿‡åŠ¨æ€åŠ è½½è·¯ç”±ï¼Œèƒ½å®ç°åŠ¨æ€åŒ–è·¯ç”±è¿™ç§é»‘ç§‘æŠ€ï¼›</li>
</ol>
</li>
<li>è·¯ç”±è·³è½¬ç›‘å¬å’Œæ‹¦æˆª<ol>
<li>é€šè¿‡è·¯ç”±æ‹¦æˆªçš„åŠŸèƒ½ï¼Œå¯ä»¥åœ¨å¾ˆè½»æ¾çš„å®ç°æƒé™åˆ†ç»„ï¼Œæƒé™ç»†åˆ†åŠæƒé™åŠ¨æ€é…ç½®ï¼›</li>
<li>é€šè¿‡è·¯ç”±ç›‘å¬å¯ä»¥æŠŠä¸€äº›åŸ‹ç‚¹ç»Ÿä¸€æ”¾åˆ°jiant</li>
</ol>
</li>
<li>è·¯ç”±é™çº§å¯»å€ <ol>
<li>å¤„ç†å¯»å€å¼‚å¸¸é™çº§å¯»å€çš„é—®é¢˜ï¼›</li>
<li>åœ¨åŸç”Ÿé¡µé¢å´©æºƒå¼‚å¸¸æ—¶ï¼Œå¯ä»¥é€šè¿‡åŠ¨æ€è·¯ç”±è¡¨ï¼Œ<font color="red">æ‹¦æˆªåŸç”Ÿè·¯ç”±è·³è½¬åˆ°H5</font>;</li>
</ol>
</li>
</ol>
<h1 id="ç¬¬2èŠ‚-ç»„ä»¶åŒ–é¡»è€ƒè™‘çš„é—®é¢˜"><a href="#ç¬¬2èŠ‚-ç»„ä»¶åŒ–é¡»è€ƒè™‘çš„é—®é¢˜" class="headerlink" title="ç¬¬2èŠ‚ ç»„ä»¶åŒ–é¡»è€ƒè™‘çš„é—®é¢˜"></a>ç¬¬2èŠ‚ ç»„ä»¶åŒ–é¡»è€ƒè™‘çš„é—®é¢˜</h1><ol>
<li><p>ç»„ä»¶åŒ–ä¹‹é—´çš„é€šä¿¡ï¼›</p>
</li>
<li><p>ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†(æ¨¡å—èƒ½å¤„ç†Applicationçš„ç”Ÿå‘½å‘¨æœŸ)ï¼›</p>
</li>
<li><p>æ··åˆå¼€å‘ï¼Œç½‘é¡µç«¯è·³è½¬åˆ°Android å’ŒIOSç»Ÿä¸€è·³è½¬å‚æ•°ï¼›</p>
<blockquote>
<p><font color="red"> æ³¨æ„ï¼šå®è·µå¿ƒå¾—ä½“ä¼šï¼Œç»Ÿä¸€å‚æ•°å¿…é¡»ç”¨Stringç±»å‹</font></p>
<p>ä¸¾ä¸ªæ —å­ï¼š</p>
<p>ç”¨Html ä¼ é€’jsonæ ¼å¼çš„5.0å‚æ•°{â€œkeyâ€:5.0}ï¼Œ JavaScriptè¯­æ³•ä¼šè‡ªåŠ¨æŠŠ5.0å˜æˆ5ä¹Ÿå°±æ˜¯ï¼Œ double å˜æˆ intï¼Œå¦‚æœAndroid å’ŒIOSæœ‰åšç±»å‹åŒºåˆ†å°±ä¼šä¼ å‚å¤±è´¥,Androidç»å…¸åœºæ™¯å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-java"><code class="language-java">intent<span class="token punctuation">.</span><span class="token function">getIntExtra</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
intent<span class="token punctuation">.</span><span class="token function">getDoubleExtra</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼›<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ç„¶åæœ¬æ¥æ˜¯é€»è¾‘èµ°doubleçš„æ²¡æœ‰èµ°ã€‚</p>
<p>ç¬¬äºŒæ —å­ï¼š<br><font color="red">jsonæ•°æ®ä¸­false å’Œtrue ä¸“é€’ä¹Ÿæœ€å¥½ç”¨â€1â€å’Œâ€0â€ä»£æ›¿</font><br>è·ŸIOSåŒäº‹è®¨è®ºäº†å¾ˆä¹…ï¼ŒIOS Oject-C å¤„ç†trueå’Œfalseçš„æœºåˆ¶å’ŒAndroid ä¸åŒ<br><strong>æ•…ä¸ºäº†é˜²æ­¢ä¸åŒç¼–ç¨‹è¯­è¨€ä¸­å¤„ç†æ–¹å¼ä¸åŒå°½é‡ä½¿ç”¨å­—ç¬¦ä¼šå°‘å¾ˆå¤šéº»çƒ¦</strong></p>
</blockquote>
</li>
<li><p>ç»Ÿä¸€å„æ¨¡å—ä¾èµ–ç‰ˆæœ¬åº“</p>
</li>
<li><p>æ··æ·†æ–‡ä»¶ç®¡ç†</p>
</li>
</ol>
<h1 id="ç¬¬3èŠ‚-ARouterä½¿ç”¨"><a href="#ç¬¬3èŠ‚-ARouterä½¿ç”¨" class="headerlink" title="ç¬¬3èŠ‚ ARouterä½¿ç”¨"></a>ç¬¬3èŠ‚ ARouterä½¿ç”¨</h1><h2 id="3-1-åˆå§‹åŒ–é…ç½®"><a href="#3-1-åˆå§‹åŒ–é…ç½®" class="headerlink" title="3.1 åˆå§‹åŒ–é…ç½®"></a>3.1 åˆå§‹åŒ–é…ç½®</h2><p>ç¬¬ä¸€æ­¥ï¼šbuild.gradle(project) è®¾ç½® ä½¿ç”¨gradleæ’ä»¶è‡ªåŠ¨åŒ–æ³¨å†Œ</p>
<pre class="line-numbers language-gradle"><code class="language-gradle"> classpath "com.alibaba:arouter-register:$arouter_register_version" //1.0.2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>gradle.properties</p>
<pre class="line-numbers language-groovy"><code class="language-groovy">arouter_register_version<span class="token operator">=</span><span class="token number">1.0</span><span class="token operator">.</span><span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šæ–°å»ºlib_base æ¨¡å—å­˜æ”¾å„å­æ¨¡å—å…¬ç”¨ç±»ï¼Œå¦‚è·¯ç”±è¡¨</p>
<p><code>libs_base</code> build.gradle é…ç½®</p>
<pre class="line-numbers language-groovy"><code class="language-groovy">apply plugin<span class="token punctuation">:</span> <span class="token string">'com.alibaba.arouter'</span>

android <span class="token punctuation">{</span>
   defaultConfig <span class="token punctuation">{</span>
          javaCompileOptions <span class="token punctuation">{</span>
            annotationProcessorOptions <span class="token punctuation">{</span>
                arguments <span class="token operator">=</span> <span class="token punctuation">[</span>AROUTER_MODULE_NAME<span class="token punctuation">:</span> project<span class="token operator">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    compileOptions <span class="token punctuation">{</span>
        sourceCompatibility <span class="token operator">=</span> <span class="token string">'1.8'</span>
        targetCompatibility <span class="token operator">=</span> <span class="token string">'1.8'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

dependencies <span class="token punctuation">{</span>
    implementation <span class="token function">fileTree</span><span class="token punctuation">(</span>dir<span class="token punctuation">:</span> <span class="token string">'libs'</span><span class="token punctuation">,</span> include<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'*.jar'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true">//å¯ä»¥å®šä¹‰ä¸€ä¸ªå…¬å…±èµ„æºæ¨¡å—ï¼Œç”¨äºå„æ¨¡å—èµ„æºå…±äº«</span>
    implementation <span class="token function">project</span><span class="token punctuation">(</span><span class="token string">':lib_resource'</span><span class="token punctuation">)</span>
    <span class="token function">api</span> <span class="token punctuation">(</span><span class="token string">'com.alibaba:arouter-api:1.4.1'</span><span class="token punctuation">)</span>
    annotationProcessor <span class="token string">'com.alibaba:arouter-compiler:1.2.2'</span>

    <span class="token comment" spellcheck="true">//jsonè§£ææ¡†æ¶</span>
    api <span class="token string">'com.google.code.gson:gson:2.8.2'</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼š å­æ¨¡å—build.gradle é…ç½®</p>
<pre class="line-numbers language-groovy"><code class="language-groovy">apply plugin<span class="token punctuation">:</span> <span class="token string">'com.alibaba.arouter'</span> <span class="token comment" spellcheck="true">//ARouter è·¯å¾„æ³¨å†Œä¼˜åŒ–</span>
android <span class="token punctuation">{</span>
   defaultConfig <span class="token punctuation">{</span>
          javaCompileOptions <span class="token punctuation">{</span>
            annotationProcessorOptions <span class="token punctuation">{</span>
                arguments <span class="token operator">=</span> <span class="token punctuation">[</span>AROUTER_MODULE_NAME<span class="token punctuation">:</span> project<span class="token operator">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    compileOptions <span class="token punctuation">{</span>
        sourceCompatibility <span class="token operator">=</span> <span class="token string">'1.8'</span>
        targetCompatibility <span class="token operator">=</span> <span class="token string">'1.8'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
dependencies<span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">//å¿…é¡»ä½¿ç”¨æ³¨è§£ï¼Œè‡ªåŠ¨ç”Ÿæˆè·¯ç”±</span>
  annotationProcessor <span class="token string">'com.alibaba:arouter-compiler:1.2.2'</span>
  <span class="token comment" spellcheck="true">//å¼•ç”¨çˆ¶æ¨¡å—ï¼Œç”¨äºå…±äº«ç±»å­˜æ”¾</span>
  implementation <span class="token function">project</span><span class="token punctuation">(</span><span class="token string">':lib_base'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šè®©ç»„ä»¶è‡ªåŠ¨è¿è¡Œ</p>
<p>Build.gradle </p>
<pre class="line-numbers language-groovy"><code class="language-groovy"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isNeedMeModule<span class="token operator">.</span><span class="token function">toBoolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    apply plugin<span class="token punctuation">:</span> <span class="token string">'com.android.application'</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    apply plugin<span class="token punctuation">:</span> <span class="token string">'com.android.library'</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>gradle.properties</code></p>
<pre class="line-numbers language-java"><code class="language-java">isNeedMeModule<span class="token operator">=</span><span class="token boolean">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç¬¬å››æ­¥ï¼šå£³å·¥ç¨‹é…ç½®</p>
<pre class="line-numbers language-groovy"><code class="language-groovy"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isNeedMeModule<span class="token operator">.</span><span class="token function">toBoolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  compile <span class="token function">project</span><span class="token punctuation">(</span><span class="token string">":module_home"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬äº”æ­¥ï¼š åˆå§‹åŒ–</p>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token keyword">if</span> <span class="token punctuation">(</span>BuildConfig<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ARouter<span class="token punctuation">.</span><span class="token function">openDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ARouter<span class="token punctuation">.</span><span class="token function">openLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
  ARouter<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å­æ¨¡å—å¼•ç”¨<code>gradle.properties</code></p>
<pre class="line-numbers language-groovy"><code class="language-groovy">isNeedMeModule<span class="token operator">=</span><span class="token boolean">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="3-2-é«˜é˜¶ä½¿ç”¨"><a href="#3-2-é«˜é˜¶ä½¿ç”¨" class="headerlink" title="3.2 é«˜é˜¶ä½¿ç”¨"></a>3.2 é«˜é˜¶ä½¿ç”¨</h2><h3 id="1-æ¨¡å—é—´è°ƒç”¨"><a href="#1-æ¨¡å—é—´è°ƒç”¨" class="headerlink" title="1. æ¨¡å—é—´è°ƒç”¨"></a>1. æ¨¡å—é—´è°ƒç”¨</h3><p>ç¬¬ä¸€æ­¥ï¼š lib_base æ¨¡å—å®šä¹‰æ¥å£</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IHelloModuleService</span> <span class="token keyword">extends</span> <span class="token class-name">IProvider</span> <span class="token punctuation">{</span>
    String <span class="token function">getUserName</span><span class="token punctuation">(</span>String usrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šå­æ¨¡å—å®ç°æ¥å£</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@Route</span><span class="token punctuation">(</span>path <span class="token operator">=</span> Router<span class="token punctuation">.</span>SERVICE_HELLO<span class="token punctuation">,</span>name <span class="token operator">=</span> <span class="token string">"æµ‹è¯•æœåŠ¡"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">IHelloModuleService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> String <span class="token function">getUserName</span><span class="token punctuation">(</span>String usrID<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"Test provider"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span>Context context<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šè°ƒç”¨å…¶ä»–æ¨¡å—æä¾›çš„æ¥å£</p>
<pre class="line-numbers language-java"><code class="language-java">  <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">getUserName</span><span class="token punctuation">(</span>String userId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        IHelloModuleService chatModuleService <span class="token operator">=</span> ARouterHelper<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">navigation</span><span class="token punctuation">(</span>IHelloModuleService<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>chatModuleService <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> chatModuleService<span class="token punctuation">.</span><span class="token function">getUserName</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="2-å…¨å±€åˆ†ç»„æ‹¦æˆª"><a href="#2-å…¨å±€åˆ†ç»„æ‹¦æˆª" class="headerlink" title="2. å…¨å±€åˆ†ç»„æ‹¦æˆª"></a>2. å…¨å±€åˆ†ç»„æ‹¦æˆª</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@Interceptor</span><span class="token punctuation">(</span>priority <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>name <span class="token operator">=</span> <span class="token string">"å…¨å±€åˆ†ç»„æ‹¦æˆª"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GlobalDefaultInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">IInterceptor</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span>Postcard postcard<span class="token punctuation">,</span> InterceptorCallback callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment" spellcheck="true">//        è·å–å½“å‰ç»„</span>
<span class="token comment" spellcheck="true">//        postcard.getGroup()</span>
<span class="token comment" spellcheck="true">//        ç›´æ¥æ‰§è¡Œ</span>
<span class="token comment" spellcheck="true">//        callback.onContinue(postcard);</span>
<span class="token comment" spellcheck="true">//        onLost</span>
<span class="token comment" spellcheck="true">//        callback.onInterrupt(null);</span>
        callback<span class="token punctuation">.</span><span class="token function">onContinue</span><span class="token punctuation">(</span>postcard<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span>Context context<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="3-é™çº§å¤„ç†"><a href="#3-é™çº§å¤„ç†" class="headerlink" title="3. é™çº§å¤„ç†"></a>3. é™çº§å¤„ç†</h3><blockquote>
<p>æ³¨æ„ï¼š path å¿…é¡»æœ‰å€¼å¦åˆ™ï¼Œå®‰è£…Arouterçš„æ¶æ„æ— æ³•å®ä¾‹åŒ–<code>GlobalDegradeServiceImpl</code></p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@Route</span><span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">"/root/degrade_service"</span><span class="token punctuation">,</span>name <span class="token operator">=</span> <span class="token string">"å…¨å±€é™çº§ç­–ç•¥"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GlobalDegradeServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">DegradeService</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> String TAG <span class="token operator">=</span> <span class="token string">"GlobalDegradeServiceImp"</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onLost</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> Postcard postcard<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> String<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Degrade path %s"</span><span class="token punctuation">,</span> postcard<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span>Context context<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="4-è·¯å¾„æ›¿æ¢"><a href="#4-è·¯å¾„æ›¿æ¢" class="headerlink" title="4. è·¯å¾„æ›¿æ¢"></a>4. è·¯å¾„æ›¿æ¢</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@Route</span><span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">"/root/path_replace"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// å¿…é¡»æ ‡æ˜æ³¨è§£</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PathReplaceServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">PathReplaceService</span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">/**
     * é‡å†™è·¯å¾„
     * @param path raw path
     * @return new path
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> String <span class="token function">forString</span><span class="token punctuation">(</span>String path<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> path<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// æŒ‰ç…§ä¸€å®šçš„è§„åˆ™å¤„ç†ä¹‹åè¿”å›å¤„ç†åçš„ç»“æœ</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> Uri <span class="token function">forUri</span><span class="token punctuation">(</span>Uri uri<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> uri<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span>Context context<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="5-é»˜è®¤JavaBeanåºåˆ—åŒ–æ§åˆ¶ç±»"><a href="#5-é»˜è®¤JavaBeanåºåˆ—åŒ–æ§åˆ¶ç±»" class="headerlink" title="5. é»˜è®¤JavaBeanåºåˆ—åŒ–æ§åˆ¶ç±»"></a>5. é»˜è®¤JavaBeanåºåˆ—åŒ–æ§åˆ¶ç±»</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@Route</span><span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">"/root/serialization_service"</span><span class="token punctuation">,</span>name <span class="token operator">=</span> <span class="token string">"é»˜è®¤JavaBeanåºåˆ—åŒ–æ§åˆ¶ç±»"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JsonServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">SerializationService</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> Gson gson <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> T <span class="token function">json2Object</span><span class="token punctuation">(</span>String input<span class="token punctuation">,</span> Class<span class="token operator">&lt;</span>T<span class="token operator">></span> clazz<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> gson<span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span>clazz<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> String <span class="token function">object2Json</span><span class="token punctuation">(</span>Object instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> gson<span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span>instance<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> T <span class="token function">parseObject</span><span class="token punctuation">(</span>String input<span class="token punctuation">,</span> Type clazz<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> gson<span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span>clazz<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span>Context context<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="ç¬¬4èŠ‚-Arouteré‡‡å‘è®°å½•"><a href="#ç¬¬4èŠ‚-Arouteré‡‡å‘è®°å½•" class="headerlink" title="ç¬¬4èŠ‚ Arouteré‡‡å‘è®°å½•"></a>ç¬¬4èŠ‚ Arouteré‡‡å‘è®°å½•</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><font color="red" size="22">å¼€æºåº“é‡åˆ°é—®é¢˜åˆ°issueé‡Œæ‰¾</font></p>
<p><font color="green" size="22">å¼€æºåº“é‡åˆ°é—®é¢˜åˆ°issueé‡Œæ‰¾</font> </p>
<p><font size="22" color="grey">å¼€æºåº“é‡åˆ°é—®é¢˜åˆ°issueé‡Œæ‰¾</font></p>
<h2 id="4-1-AutoWrite"><a href="#4-1-AutoWrite" class="headerlink" title="4.1 AutoWrite"></a>4.1 AutoWrite</h2><p>é”™è¯¯å†™æ³•</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> type <span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<blockquote>
<p><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2753.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>åŸå› ï¼š è‡ªåŠ¨æ³¨å…¥æ˜¯ä¸èƒ½ç”¨<code>private</code>å…³é”®å­—çš„</p>
</blockquote>
<h2 id="4-2-navigation"><a href="#4-2-navigation" class="headerlink" title="4.2 navigation"></a>4.2 navigation</h2><pre><code>navigation() vs navigation(Context)</code></pre><p>ä½¿ç”¨è¿‡ARouterçš„åŒå­¦ï¼Œæœ‰çŸ¥é“åŒºåˆ«çš„å—ï¼Ÿå½“ç„¶æˆ‘ä¹Ÿæ˜¯è¢«å‘æ‰çŸ¥é“ï¼Œä¹‹å‰ä¹Ÿæ‰«äº†ä¸€éæºç ï¼Œè¿˜æ˜¯æ²¡æœ‰getå…³é”®ç‚¹</p>
<h2 id="4-3-finish-æ—¶æœºä¸å¯¹äº§ç”Ÿç™½å±"><a href="#4-3-finish-æ—¶æœºä¸å¯¹äº§ç”Ÿç™½å±" class="headerlink" title="4.3  finish æ—¶æœºä¸å¯¹äº§ç”Ÿç™½å±"></a>4.3  finish æ—¶æœºä¸å¯¹äº§ç”Ÿç™½å±</h2><h1 id="ç¬¬5èŠ‚-å®æˆ˜æ€»ç»“-ARouterå°è£…ç±»"><a href="#ç¬¬5èŠ‚-å®æˆ˜æ€»ç»“-ARouterå°è£…ç±»" class="headerlink" title="ç¬¬5èŠ‚ å®æˆ˜æ€»ç»“ ARouterå°è£…ç±»"></a>ç¬¬5èŠ‚ å®æˆ˜æ€»ç»“ ARouterå°è£…ç±»</h1><h2 id="Postcard-çš„åŒ…è£…ç±»"><a href="#Postcard-çš„åŒ…è£…ç±»" class="headerlink" title="Postcard çš„åŒ…è£…ç±»"></a>Postcard çš„åŒ…è£…ç±»</h2><blockquote>
<p>å› ä¸ºPostcard æ˜¯åŒºåˆ†ç±»å‹çš„åœ¨æ”¹é€ çš„æ—¶å€™ç”¨</p>
<ul>
<li>Javaçš„å¤šæ€çš„è¨€è¯­ç‰¹æ€§èƒ½ç®€åŒ–å¾ˆå¤šå·¥ä½œé‡</li>
<li>å¯ä»¥åœ¨åæœŸå…¨å±€ä¿®æ”¹æ·»åŠ å±æ€§</li>
</ul>
</blockquote>
<p>PostcardWrapper.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PostcardWrapper</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> Postcard mPostcard<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">PostcardWrapper</span><span class="token punctuation">(</span>Uri uri<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard <span class="token operator">=</span> ARouter<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> Postcard <span class="token function">getPostcard</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mPostcard<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> Bundle <span class="token function">getOptionsBundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mPostcard<span class="token punctuation">.</span><span class="token function">getOptionsBundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getEnterAnim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mPostcard<span class="token punctuation">.</span><span class="token function">getEnterAnim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getExitAnim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mPostcard<span class="token punctuation">.</span><span class="token function">getExitAnim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> IProvider <span class="token function">getProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mPostcard<span class="token punctuation">.</span><span class="token function">getProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">setProvider</span><span class="token punctuation">(</span>IProvider provider<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">setProvider</span><span class="token punctuation">(</span>provider<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">PostcardWrapper</span><span class="token punctuation">(</span>String path<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mPostcard <span class="token operator">=</span> ARouter<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">PostcardWrapper</span><span class="token punctuation">(</span>String path<span class="token punctuation">,</span> String group<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Postcard</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> group<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">PostcardWrapper</span><span class="token punctuation">(</span>String path<span class="token punctuation">,</span> String group<span class="token punctuation">,</span> Uri uri<span class="token punctuation">,</span> Bundle bundle<span class="token punctuation">)</span><span class="token punctuation">{</span>
        mPostcard <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Postcard</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> group<span class="token punctuation">,</span> uri<span class="token punctuation">,</span> bundle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isGreenChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> mPostcard<span class="token punctuation">.</span><span class="token function">isGreenChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> Object <span class="token function">getTag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> mPostcard<span class="token punctuation">.</span><span class="token function">getTag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">setTag</span><span class="token punctuation">(</span>Object tag<span class="token punctuation">)</span><span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">setTag</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> mPostcard<span class="token punctuation">.</span><span class="token function">getTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">int</span> timeout<span class="token punctuation">)</span><span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> Uri <span class="token function">getUri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> mPostcard<span class="token punctuation">.</span><span class="token function">getUri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">setUri</span><span class="token punctuation">(</span>Uri uri<span class="token punctuation">)</span><span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">setUri</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">greenChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">greenChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> Object <span class="token function">navigation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">navigation</span><span class="token punctuation">(</span>null<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> Object <span class="token function">navigation</span><span class="token punctuation">(</span>Context context<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">navigation</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span>null<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> Object <span class="token function">navigation</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> NavigationCallback callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ARouter<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">navigation</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> mPostcard<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">navigation</span><span class="token punctuation">(</span>Activity mContext<span class="token punctuation">,</span> <span class="token keyword">int</span> requestCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">navigation</span><span class="token punctuation">(</span>mContext<span class="token punctuation">,</span> requestCode<span class="token punctuation">,</span>null<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">navigation</span><span class="token punctuation">(</span>Activity mContext<span class="token punctuation">,</span> <span class="token keyword">int</span> requestCode<span class="token punctuation">,</span> NavigationCallback callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ARouter<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">navigation</span><span class="token punctuation">(</span>mContext<span class="token punctuation">,</span> mPostcard<span class="token punctuation">,</span> requestCode<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span>Bundle bundle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>bundle<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">withFlags</span><span class="token punctuation">(</span><span class="token keyword">int</span> flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withFlags</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">addFlags</span><span class="token punctuation">(</span><span class="token keyword">int</span> flags<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mPostcard<span class="token punctuation">.</span><span class="token function">addFlags</span><span class="token punctuation">(</span>flags<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getFlags</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mPostcard<span class="token punctuation">.</span><span class="token function">getFlags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> Object value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withObject</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> String value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withString</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token keyword">boolean</span> value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withBoolean</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token keyword">short</span> value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withShort</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withInt</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token keyword">long</span> value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withLong</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token keyword">double</span> value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withDouble</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token keyword">char</span> value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withChar</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token keyword">float</span> value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withFloat</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> CharSequence value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withCharSequence</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> Parcelable value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withParcelable</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> Parcelable<span class="token punctuation">[</span><span class="token punctuation">]</span> value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withParcelableArray</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> SparseArray<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Parcelable</span><span class="token operator">></span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withSparseParcelableArray</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> Serializable value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withSerializable</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withByteArray</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token keyword">short</span><span class="token punctuation">[</span><span class="token punctuation">]</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withShortArray</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withCharArray</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token keyword">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withFloatArray</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> CharSequence<span class="token punctuation">[</span><span class="token punctuation">]</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withCharSequenceArray</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> Bundle value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withBundle</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * è®¾ç½®åŠ¨ç”»æ•ˆæœ
     * @param enterAnim è¿›å…¥åŠ¨ç”»
     * @param exitAnim é€€å‡ºåŠ¨ç”»
     * @return
     */</span>
    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token keyword">int</span> enterAnim<span class="token punctuation">,</span> <span class="token keyword">int</span> exitAnim<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withTransition</span><span class="token punctuation">(</span>enterAnim<span class="token punctuation">,</span> exitAnim<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">withTransition</span><span class="token punctuation">(</span><span class="token keyword">int</span> enterAnim<span class="token punctuation">,</span> <span class="token keyword">int</span> exitAnim<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withTransition</span><span class="token punctuation">(</span>enterAnim<span class="token punctuation">,</span> exitAnim<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * é»˜è®¤è½¬æ¢åŠ¨ç”»æ•ˆæœ
     * @return
     */</span>
    <span class="token keyword">public</span> PostcardWrapper <span class="token function">withDefaultTrans</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withTransition</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>anim<span class="token punctuation">.</span>anim_activity_slide_in_right<span class="token punctuation">,</span> R<span class="token punctuation">.</span>anim<span class="token punctuation">.</span>anim_activity_slide_out_left<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@RequiresApi</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> PostcardWrapper <span class="token function">withOptionsCompat</span><span class="token punctuation">(</span>ActivityOptionsCompat compat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withOptionsCompat</span><span class="token punctuation">(</span>compat<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * Set options compat
     *
     * @param compat compat
     * @return this
     */</span>
    <span class="token annotation punctuation">@RequiresApi</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span>ActivityOptionsCompat compat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withOptionsCompat</span><span class="token punctuation">(</span>compat<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"PostcardWrapper ==> s\ns"</span> <span class="token operator">+</span> mPostcard<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> String <span class="token function">getAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> mPostcard<span class="token punctuation">.</span><span class="token function">getAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">withAction</span><span class="token punctuation">(</span>String action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withAction</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span>String action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mPostcard<span class="token punctuation">.</span><span class="token function">withAction</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">with</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> String key<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> ArrayList value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">!=</span> null <span class="token operator">&amp;&amp;</span> value<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Object o <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                mPostcard<span class="token punctuation">.</span><span class="token function">withStringArrayList</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token class-name">CharSequence</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                mPostcard<span class="token punctuation">.</span><span class="token function">withCharSequenceArrayList</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token class-name">Integer</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                mPostcard<span class="token punctuation">.</span><span class="token function">withIntegerArrayList</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token class-name">Parcelable</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                mPostcard<span class="token punctuation">.</span><span class="token function">withParcelableArrayList</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ArouterHelper-å¸®åŠ©ç±»"><a href="#ArouterHelper-å¸®åŠ©ç±»" class="headerlink" title="ArouterHelper å¸®åŠ©ç±»"></a>ArouterHelper å¸®åŠ©ç±»</h2><p>ARouterHelper.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ARouterHelper</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token function">ARouterHelper</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">InstanceHolder</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// static åªæ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶ä¸¥æ ¼ä¿è¯æŒ‰ç…§é¡ºåºæ‰§è¡Œ</span>
        <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">static</span> ARouterHelper instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ARouterHelper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> ARouterHelper <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> InstanceHolder<span class="token punctuation">.</span>instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span>Application application<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>BuildConfig<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ARouter<span class="token punctuation">.</span><span class="token function">openDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ARouter<span class="token punctuation">.</span><span class="token function">openLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ARouter<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        ARouter<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>application<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">inject</span><span class="token punctuation">(</span>Object thiz<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ARouter<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">inject</span><span class="token punctuation">(</span>thiz<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * CMUBaseActivity CMUBaseFragment ä¸¤ä¸ªbaseç±»é‡å†™ startActivity é»˜è®¤è·³è½¬åŠ¨ç”»
     * @param path
     * @return
     */</span>
    <span class="token keyword">public</span> PostcardWrapper <span class="token function">build</span><span class="token punctuation">(</span>String path<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">build</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * @param path
     * @param useDefaultTransition ä½¿ç”¨ CMUBaseActivity CMUBaseFragment é…ç½®çš„è·³è½¬æ–¹å¼
     * @return
     */</span>
    <span class="token keyword">public</span> PostcardWrapper <span class="token function">build</span><span class="token punctuation">(</span>String path<span class="token punctuation">,</span> <span class="token keyword">boolean</span> useDefaultTransition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        PostcardWrapper postcardWrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PostcardWrapper</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>useDefaultTransition<span class="token punctuation">)</span><span class="token punctuation">{</span>
            postcardWrapper<span class="token punctuation">.</span><span class="token function">withDefaultTrans</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> postcardWrapper<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * ä½¿ç”¨ä¸»é¢˜é»˜è®¤è·³è½¬åŠ¨ç”»
     * @param path
     * @return
     */</span>
    <span class="token keyword">public</span> PostcardWrapper <span class="token function">buildWithThemeAnim</span><span class="token punctuation">(</span>String path<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">PostcardWrapper</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment" spellcheck="true">/**
     * æ— åŠ¨ç”»è½¬æ¢
     * @param path
     * @return
     */</span>
    <span class="token keyword">public</span> PostcardWrapper <span class="token function">buildWithoutAnim</span><span class="token punctuation">(</span>String path<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">PostcardWrapper</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withTransition</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> PostcardWrapper <span class="token function">build</span><span class="token punctuation">(</span>Uri uri<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">PostcardWrapper</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> T <span class="token function">navigation</span><span class="token punctuation">(</span>Class<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token operator">></span> service<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ARouter<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">navigation</span><span class="token punctuation">(</span>service<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> Object <span class="token function">navigation</span><span class="token punctuation">(</span>Context mContext<span class="token punctuation">,</span> PostcardWrapper postcard<span class="token punctuation">,</span> <span class="token keyword">int</span> requestCode<span class="token punctuation">,</span> NavigationCallback callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ARouter<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">navigation</span><span class="token punctuation">(</span>mContext<span class="token punctuation">,</span> postcard<span class="token punctuation">.</span><span class="token function">getPostcard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> requestCode<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h1><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://blog.csdn.net/huangxiaoguo1/article/details/78753555" target="_blank" rel="noopener">ä½¿ç”¨é˜¿é‡ŒARouterè·¯ç”±å®ç°ç»„ä»¶åŒ–ï¼ˆæ¨¡å—åŒ–ï¼‰å¼€å‘æµç¨‹</a></li>
<li><a href="https://www.jianshu.com/p/d0f5cf304fa4" target="_blank" rel="noopener">Androidç»„ä»¶åŒ–å¼€å‘å®è·µï¼ˆä¸€ï¼‰ï¼šä¸ºä»€ä¹ˆè¦è¿›è¡Œç»„ä»¶åŒ–å¼€å‘ï¼Ÿ</a></li>
<li><a href="https://www.jianshu.com/p/5c109c51d7ba" target="_blank" rel="noopener">ç»„ä»¶åŒ–çŸ¥è¯†æ¢³ç†(1) - Arouter çš„åŸºæœ¬ä½¿ç”¨</a></li>
</ul>
<h2 id="å­¦åˆ°çŸ¥è¯†ç‚¹"><a href="#å­¦åˆ°çŸ¥è¯†ç‚¹" class="headerlink" title="å­¦åˆ°çŸ¥è¯†ç‚¹"></a>å­¦åˆ°çŸ¥è¯†ç‚¹</h2><p><a href="https://www.jianshu.com/p/8962d6ba936e" target="_blank" rel="noopener">apiä¸implementationçš„åŒºåˆ«</a></p>
<p>implementation   ä¸åˆ†äº«è‡ªå·±çš„ä¾èµ–ï¼Œåªæœ‰åœ¨runtimeæ˜¯å…¶ä»–æ¨¡å—çš„ä¾èµ–æ‰å¯è§<br>api åˆ†äº«è‡ªå·±çš„ä¾èµ–ï¼Œä½†æ˜¯åœ¨å…¶å˜åŒ–æ—¶ï¼Œå…¶ä»–ä¾èµ–éœ€é‡æ–°ç¼–è¯‘</p>
<p> <a href="https://www.cnblogs.com/bluestorm/p/8747860.html" target="_blank" rel="noopener">Android Studioæ·»åŠ æ–‡ä»¶æ³¨é‡Šå¤´æ¨¡æ¿ï¼Ÿ</a></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**
 *    @Author  linz
 *    @Date    $date$ $time$
 *    @Description   
 *    @Version: 1.0
 */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Arouter æºç </p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**
 * Provide degrade service for router, you can do something when route has lost.
 *
 * @author Alex &lt;a href="mailto:zhilong.liu@aliyun.com">Contact me.&lt;/a>
 * @version 1.0
 * @since 2016/9/22 14:51
 */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo Tutorialå†æ•´ç†</title>
    <url>/2019/12/22/2016-12-03-hexo-tutorial/</url>
    <content><![CDATA[<h2 id="Hexoå…¥é—¨"><a href="#Hexoå…¥é—¨" class="headerlink" title="Hexoå…¥é—¨"></a>Hexoå…¥é—¨</h2><h3 id="Hexoç¯å¢ƒé…ç½®"><a href="#Hexoç¯å¢ƒé…ç½®" class="headerlink" title="Hexoç¯å¢ƒé…ç½®"></a>Hexoç¯å¢ƒé…ç½®</h3><ul>
<li>Git / <a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a>  <a href="https://hexo.io/zh-cn/docs/index.html" target="_blank" rel="noopener">hexoå®˜æ–¹æ•™ç¨‹</a></li>
</ul>
<h3 id="Hexo-ä½¿ç”¨"><a href="#Hexo-ä½¿ç”¨" class="headerlink" title="Hexo ä½¿ç”¨"></a>Hexo ä½¿ç”¨</h3><pre><code> hexo init</code></pre><ul>
<li>ç±»ä¼¼git init éœ€è¦æ–°å»ºç›®å½•ä¿å­˜åšæ–‡ä¿¡æ¯ï¼›</li>
<li>æ‰§è¡Œå‘½ä»¤ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿäº§å¦‚ä¸‹æ–‡ä»¶ï¼š<pre><code>â”œâ”€â”€ _config.yml #å…¨å±€é…ç½®æ–‡ä»¶
â”œâ”€â”€ node_modules #Hexoæ’ä»¶ï¼ˆNode.js æ’ä»¶é»˜è®¤å®‰è£…ç›®å½•ï¼‰
â”œâ”€â”€ package.json #Node å·¥ç¨‹çš„ä¾èµ–å’ŒåŸºæœ¬ä¿¡æ¯
â”œâ”€â”€ scaffolds  #æ¨¡æ¿
â”œâ”€â”€ source #åšå®¢æ­£æ–‡æºæ–‡ä»¶
â””â”€â”€ themes</code></pre>ã€é‡ç‚¹ã€‘<font color="red">å¦‚æœä½ æœ‰é…ç½®ï¼Œä¼šè¦†ç›–ä½ åŸæ¥çš„é…ç½®ï¼›</font></li>
</ul>
<p>å®‰è£…package.json ä¸‹é¢çš„ä¾èµ–åŒ…</p>
<pre><code>npm install</code></pre><p> æµ‹è¯•hexoæ˜¯å¦æ­£ç¡®å®‰è£…</p>
<pre class="line-numbers language-shell"><code class="language-shell"> hexo init <folder>
 cd folder
 npm install
 npm install hexo-server --save
 hexo server
# è®¿é—®æ˜¯å¦æ­£å¸¸æ˜¾ç¤º http://localhost:4000/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Mac-å¿«é€Ÿé…ç½®"><a href="#Mac-å¿«é€Ÿé…ç½®" class="headerlink" title="Mac å¿«é€Ÿé…ç½®"></a>Mac å¿«é€Ÿé…ç½®</h3><pre class="line-numbers language-shell"><code class="language-shell">#node install //brew uninstall nodejs
brew install -g node
#hexo å…¨å±€å®‰è£…
npm install -g hexo-cli<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>github å…³è”</p>
<ol>
<li>ssh key ç”Ÿæˆ<pre class="line-numbers language-shell"><code class="language-shell">ssh-keygen -t rsa -C "zhi.designer@hotmail.com"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>æŠŠ<code>id_rsa.pub</code> å¤åˆ¶åˆ° <a href="https://github.com/settings/keys" target="_blank" rel="noopener">github.com</a><pre class="line-numbers language-shell"><code class="language-shell">github.com -> Settings -> SSH and GPG keys  <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ol>
<h2 id="hexo-é…ç½®"><a href="#hexo-é…ç½®" class="headerlink" title="hexo é…ç½®"></a>hexo é…ç½®</h2><h3 id="ä¸»é¢˜é…ç½®"><a href="#ä¸»é¢˜é…ç½®" class="headerlink" title="ä¸»é¢˜é…ç½®"></a>ä¸»é¢˜é…ç½®</h3><p><a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">hexo-theme-next</a>ä¸»é¢˜çš„é…ç½®<br> æœ€å¼ºä¸»é¢˜åŸºæœ¬ä¸Šæ‰€æœ‰çš„é…ç½®ä¿¡æ¯éƒ½èƒ½æ»¡è¶³,ä¼˜é›…,æ–‡æ¡£é½å…¨</p>
<ul>
<li><p><a href="http://theme-next.iissnan.com/getting-started.html#select-language" target="_blank" rel="noopener">å®‰è£… Nextä¸»é¢˜ åŸºæœ¬å’Œæ•™ç¨‹èµ°ä¸€è¾¹,å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå¾ˆç‰›çš„ç½‘ç«™äº†</a></p>
</li>
<li><p>ä¸‰ç§ä¸»é¢˜æ ·å¼çš„é€‰æ‹©ï¼š <code>hexo/themes/next/_config.xml æœç´¢ scheme</code></p>
</li>
<li><p>ç½‘ç«™logoè®¾ç½®</p>
<blockquote>
<p>é€šè¿‡ç½‘ç«™faviconåœ¨çº¿åˆ¶ä½œåˆ¶ä½œfaviconå›¾ç‰‡ï¼Œlogoæœ€å¥½è®¾ç½®32*32ã€‚<br>nextä¸»é¢˜ï¼šå°†å›¾ç‰‡æ”¾åœ¨nextä¸»é¢˜source/imagesç›®å½•ä¸‹<br>åœ¨nextä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼šfavicon: images/favicon.ico</p>
</blockquote>
</li>
<li><p>è®¾ç½®é¦–é¡µæ˜¯å¦ä¸ºæ‘˜å½•ï¼ˆä¸æ˜¾ç¤ºæ‰€æœ‰å†…å®¹ï¼‰<code>{your-hexo-dir}/themes/next/_config.yml</code> auto_excerpt true</p>
<h3 id="æ³¨å†Œäº‘å­˜å‚¨å­˜å‚¨å›¾ç‰‡"><a href="#æ³¨å†Œäº‘å­˜å‚¨å­˜å‚¨å›¾ç‰‡" class="headerlink" title="æ³¨å†Œäº‘å­˜å‚¨å­˜å‚¨å›¾ç‰‡"></a>æ³¨å†Œäº‘å­˜å‚¨å­˜å‚¨å›¾ç‰‡</h3><p>é˜²æ­¢å›¾ç‰‡é“¾æ¥å¤±æ•ˆ,å’Œåœ¨åšå®¢è¿ç§»è¿‡ç¨‹ä¸­å¯¼è‡´çš„å›¾ç‰‡è·å–å¼‚å¸¸,ä¸¢å¤±. ç»Ÿä¸€ç®¡ç†æ–‡ç« ä¸­çš„å›¾ç‰‡</p>
<ul>
<li><a href="http://www.qiniu.com/" target="_blank" rel="noopener">ä¸ƒç‰›</a></li>
</ul>
</li>
</ul>
<h3 id="åŸŸåç»‘å®š"><a href="#åŸŸåç»‘å®š" class="headerlink" title="åŸŸåç»‘å®š"></a>åŸŸåç»‘å®š</h3><ul>
<li>è®¾ç½®åŸŸåçš„æŒ‡å‘çš„åœ°å€</li>
<li>åœ¨æºæ–‡ä»¶ä¸­å¢åŠ github page çš„è®¾ç½®æ–‡ä»¶ <code>source/CNAME</code> å¹¶å¢åŠ ä½ çš„åŸŸå,ä¸å¸¦wwwçš„,ä¾‹å¦‚:â€™taobao.comâ€™</li>
</ul>
<h3 id="Hexo-æ˜¾ç¤ºè®¿é—®æ¬¡æ•°"><a href="#Hexo-æ˜¾ç¤ºè®¿é—®æ¬¡æ•°" class="headerlink" title="Hexo æ˜¾ç¤ºè®¿é—®æ¬¡æ•°"></a>Hexo æ˜¾ç¤ºè®¿é—®æ¬¡æ•°</h3><p><a href="https://www.jianshu.com/p/c311d31265e0" target="_blank" rel="noopener">hexoé¡µè„šæ·»åŠ è®¿å®¢äººæ•°å’Œæ€»è®¿é—®é‡</a></p>
<h3 id="ä»£ç é«˜äº®-hexo-prism-plugin"><a href="#ä»£ç é«˜äº®-hexo-prism-plugin" class="headerlink" title="ä»£ç é«˜äº® hexo-prism-plugin"></a>ä»£ç é«˜äº® <a href="https://github.com/ele828/hexo-prism-plugin" target="_blank" rel="noopener">hexo-prism-plugin</a></h3><p>$hexo_dir/_config.yml</p>
<h2 id="å¸¸ç”¨çš„æ–¹æ³•"><a href="#å¸¸ç”¨çš„æ–¹æ³•" class="headerlink" title="å¸¸ç”¨çš„æ–¹æ³•"></a>å¸¸ç”¨çš„æ–¹æ³•</h2><h3 id="å‘½ä»¤ç®€å†™"><a href="#å‘½ä»¤ç®€å†™" class="headerlink" title="å‘½ä»¤ç®€å†™"></a>å‘½ä»¤ç®€å†™</h3><pre><code>hexo n == hexo new
hexo g == hexo generate
hexo s == hexo server
hexo d == hexo deploy</code></pre><h3 id="ä¸€èˆ¬çš„å‘å¸ƒæ­¥éª¤"><a href="#ä¸€èˆ¬çš„å‘å¸ƒæ­¥éª¤" class="headerlink" title="ä¸€èˆ¬çš„å‘å¸ƒæ­¥éª¤"></a>ä¸€èˆ¬çš„å‘å¸ƒæ­¥éª¤</h3><pre><code>hexo clean #åˆ é™¤äº§ç”Ÿçš„æ–‡ä»¶å’Œç¼“å­˜
hexo (g)generate # ç”Ÿæˆé™å¤ªæ–‡ä»¶
hexo (d)deploy # å‘å¸ƒç½‘é¡µ</code></pre><h3 id="æ—¥å¸¸ç»´æŠ¤å‘½ä»¤"><a href="#æ—¥å¸¸ç»´æŠ¤å‘½ä»¤" class="headerlink" title="æ—¥å¸¸ç»´æŠ¤å‘½ä»¤"></a>æ—¥å¸¸ç»´æŠ¤å‘½ä»¤</h3><pre><code>npm update -g hexo #hexo æ›´æ–°
cd /{you-blog-dir}/theme/next git pull #æ›´æ–°ä¸»é¢˜ä»£ç 
npm update # æ›´æ–°æ’ä»¶</code></pre><h2 id="é«˜çº§ç©æ³•"><a href="#é«˜çº§ç©æ³•" class="headerlink" title="é«˜çº§ç©æ³•"></a>é«˜çº§ç©æ³•</h2><h3 id="æ·»åŠ ç½‘æ˜“äº‘éŸ³ä¹"><a href="#æ·»åŠ ç½‘æ˜“äº‘éŸ³ä¹" class="headerlink" title="æ·»åŠ ç½‘æ˜“äº‘éŸ³ä¹"></a>æ·»åŠ ç½‘æ˜“äº‘éŸ³ä¹</h3><p>ç”±äºmarkdownæ”¯æŒHTML, æ‰“å¼€ç½‘é¡µç‰ˆç½‘æ˜“äº‘éŸ³ä¹â€“&gt; ç‚¹å‡»<code>ç”Ÿæˆå¤–é“¾æ’­æ”¾å™¨</code> â€“&gt; ç›´æ¥ç²˜è´´ç½‘æ˜“äº‘éŸ³ä¹çš„å¤–é“¾æ¥iframeä»£ç </p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&amp;id=28391133&amp;auto=1&amp;height=66"></iframe>
### æ·»åŠ highä¸€ä¸‹

<p>æ•ˆæœæ•´ä¸ªé¡µé¢æ¸è¿›å¼æ‘‡æ‘†,æ‘‡æ‘†</p>
<ul>
<li>å¤åˆ¶<a href="https://gist.github.com/Orange168/f0915d1b2db02569f4a78686b5db4d98" target="_blank" rel="noopener">header.swig</a>çš„ä»£ç åˆ°<br>{your-hexo-dir}/themes/next/layout/_custom/header.swig</li>
<li>æœ¬åœ°åˆ·æ–°åœ¨èœå•æ é™„è¿‘å‡ºç°<code>Highä¸€ä¸‹</code> ç‚¹å‡»æŸ¥çœ‹æ•ˆæœ</li>
</ul>
<h2 id="é—®é¢˜è§£å†³åŠè®°å½•"><a href="#é—®é¢˜è§£å†³åŠè®°å½•" class="headerlink" title="é—®é¢˜è§£å†³åŠè®°å½•"></a>é—®é¢˜è§£å†³åŠè®°å½•</h2><blockquote>
<p>è®°å½•ä¸€ä¸‹æ—¥å¸¸è§£å†³çš„é—®é¢˜</p>
</blockquote>
<ul>
<li>ERROR Plugin load failed: hexo-server è§£å†³: <code>npm install hexo-server</code></li>
<li>ERROR Deployer not found: Git è§£å†³ï¼š <code>npm install hexo-deployer-git â€“save</code></li>
<li>Cannot GET  è§£å†³ <code>npm install</code></li>
</ul>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="http://blog.csdn.net/yuan3065/article/details/51594454" target="_blank" rel="noopener">GitHub Pages ç»‘å®šæ¥è‡ªé˜¿é‡Œäº‘çš„åŸŸå</a></li>
<li><a href="http://www.jianshu.com/p/701b1095da11" target="_blank" rel="noopener">æ‰‹æŠŠæ‰‹æ•™ä½ å»ºgithubæŠ€æœ¯åšå®¢</a></li>
<li><a href="https://www.zhihu.com/question/33324071/answer/58775540?group_id=654307162210365440#comment-106092511" target="_blank" rel="noopener">hexoä¸‹æ–°å»ºé¡µé¢ä¸‹å¦‚ä½•æ”¾å¤šä¸ªæ–‡ç« ï¼Ÿ</a></li>
<li><a href="https://segmentfault.com/a/1190000002436096" target="_blank" rel="noopener">åšå®¢æ¨å¹¿â€”â€”æäº¤æœç´¢å¼•æ“</a></li>
<li><a href="http://www.arao.me/2015/hexo-next-theme-optimize-seo/" target="_blank" rel="noopener">åŠ¨åŠ¨æ‰‹æŒ‡ï¼Œä¸é™äºNexTä¸»é¢˜çš„Hexoä¼˜åŒ–ï¼ˆSEOç¯‡ï¼‰</a></li>
</ul>
<h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><h3 id="å®˜æ–¹èµ„æº"><a href="#å®˜æ–¹èµ„æº" class="headerlink" title="å®˜æ–¹èµ„æº"></a>å®˜æ–¹èµ„æº</h3><p> <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo å®˜ç½‘ ä¸»é¡µ</a></p>
<blockquote>
<p>æ–‡æ¡£ API æ’ä»¶ ä¸»é¢˜ å¯ä»¥åœ¨å®˜ç½‘æ‰¾</p>
<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
</blockquote>
<h4 id="å¿«é€Ÿç›´è¾¾"><a href="#å¿«é€Ÿç›´è¾¾" class="headerlink" title="å¿«é€Ÿç›´è¾¾"></a>å¿«é€Ÿç›´è¾¾</h4><p><a href="https://hexo.io/docs/" target="_blank" rel="noopener">æ–‡æ¡£</a></p>
<p><a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">Troubleshooting</a></p>
<h3 id="å‘½ä»¤è§£æ"><a href="#å‘½ä»¤è§£æ" class="headerlink" title="å‘½ä»¤è§£æ"></a>å‘½ä»¤è§£æ</h3><p> Create a new post</p>
<pre class="line-numbers language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<p>Run server</p>
<pre class="line-numbers language-bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<p>Generate static files</p>
<pre class="line-numbers language-bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<p>Deploy to remote sites<br>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
<pre class="line-numbers language-bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
]]></content>
      <categories>
        <category>coder</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
        <tag>ç»éªŒ</tag>
      </tags>
  </entry>
  <entry>
    <title>Android åŸç”ŸUIç¬”è®°æ±‡æ€»</title>
    <url>/2019/11/23/2019-11-23-android-%E5%8E%9F%E7%94%9FUI%E7%AC%94%E8%AE%B0%E6%B1%87%E6%80%BB/</url>
    <content><![CDATA[<h1 id="ç¬¬1èŠ‚-åŸç”Ÿæ§ä»¶çš„ç”¨æ³•"><a href="#ç¬¬1èŠ‚-åŸç”Ÿæ§ä»¶çš„ç”¨æ³•" class="headerlink" title="ç¬¬1èŠ‚ åŸç”Ÿæ§ä»¶çš„ç”¨æ³•"></a>ç¬¬1èŠ‚ åŸç”Ÿæ§ä»¶çš„ç”¨æ³•</h1><h2 id="1-1-Viewçš„åŸºæœ¬å±æ€§"><a href="#1-1-Viewçš„åŸºæœ¬å±æ€§" class="headerlink" title="1.1 Viewçš„åŸºæœ¬å±æ€§"></a>1.1 Viewçš„åŸºæœ¬å±æ€§</h2><ul>
<li><a href="http://developer.android.com/reference/android/widget/AbsListView.html#attr_android:choiceMode" target="_blank" rel="noopener">android:choiceMode</a><br><a href="https://gist.github.com/Orange168/8f74eab9f7635fe3918d#file-checkablelinearlayout-java" target="_blank" rel="noopener"><strong>CheckableLinearLayout.java</strong></a><br><a href="http://developer.android.com/reference/android/widget/AbsListView.html#attr_android:choiceMode" target="_blank" rel="noopener">android:choiceMode</a>none/singleChoice/multipleChoice<br>multipleChoiceModal<a href="http://developer.android.com/reference/android/widget/AbsListView.html#setMultiChoiceModeListener(android.widget.AbsListView.MultiChoiceModeListener)" target="_blank" rel="noopener">setMultiChoiceModeListener(AbsListView.MultiChoiceModeListener)</a></li>
</ul>
<p><a href="https://blog.csdn.net/u010121512/article/details/97234938" target="_blank" rel="noopener">Android View å±æ€§å¤§å…¨</a></p>
<h2 id="1-2-åŸºæœ¬æ§ä»¶"><a href="#1-2-åŸºæœ¬æ§ä»¶" class="headerlink" title="1.2 åŸºæœ¬æ§ä»¶"></a>1.2 åŸºæœ¬æ§ä»¶</h2><h3 id="TextView"><a href="#TextView" class="headerlink" title="TextView"></a>TextView</h3><ol>
<li><p>å­—ä½“é¢œè‰²è®¾ç½®select<br>drawable/selector.xml</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>selector</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token comment" spellcheck="true">&lt;!--ç‚¹å‡»å˜çº¢è‰²--></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>state_pressed</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>  <span class="token attr-name"><span class="token namespace">android:</span>color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#ffff0000<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
 <span class="token comment" spellcheck="true">&lt;!--è·å¾—ç„¦ç‚¹è“è‰²--></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>state_focused</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>  <span class="token attr-name"><span class="token namespace">android:</span>color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#ff0000ff<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
 <span class="token comment" spellcheck="true">&lt;!--é»˜è®¤é»‘è‰²--></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#ff000000<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>selector</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è®¾ç½®å±æ€§<code>android:textColor="@drawable/selector"</code></p>
<ol start="2">
<li><p>æ–‡å­—æ§åˆ¶</p>
<ul>
<li><p>é¦–è¡Œç¼©è¿›2ä¸ªå­—ç¬¦ï¼ˆä¸­åˆæœ‰æ•ˆï¼‰</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"\u3000\u3000"</span><span class="token operator">+</span>xxxxx<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>é—´è·æ§åˆ¶</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token number">1</span>ã€android<span class="token operator">:</span>lineSpacingExtra
è®¾ç½®è¡Œé—´è·ï¼Œå¦‚â€8dpâ€ã€‚
<span class="token number">2</span>ã€android<span class="token operator">:</span>lineSpacingMultiplier
è®¾ç½®è¡Œé—´è·çš„å€æ•°ï¼Œå¦‚â€<span class="token number">1.5</span>â€³ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
</ol>
</li>
</ol>
<h3 id="ImageView"><a href="#ImageView" class="headerlink" title="ImageView"></a>ImageView</h3><ul>
<li>ScaleType<pre><code>MATRIXã€FIT_XYã€FIT_STARTã€FIT_CENTERã€FIT_ENDã€CENTERã€CENTER_CROPã€CENTER_INSIDE</code></pre><img src="http://cdn.linz.tech/image_view_scale_type.png" alt=""></li>
</ul>
<h3 id="LinearLayout"><a href="#LinearLayout" class="headerlink" title="LinearLayout"></a>LinearLayout</h3><p>LinearLayout å­æ§ä»¶é—´divider</p>
<pre class="line-numbers language-xml"><code class="language-xml">android:divider="?android:dividerVertical"
android:dividerPadding="8dp"
android:showDividers="middle"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="ScrollView"><a href="#ScrollView" class="headerlink" title="ScrollView"></a>ScrollView</h3><ul>
<li><a href="http://developer.android.com/reference/android/widget/ScrollView.html#attr_android:fillViewport" target="_blank" rel="noopener">android:fillViewport</a> å½“ScrollViewé‡Œçš„å…ƒç´ æƒ³å¡«æ»¡ScrollViewæ—¶ï¼Œä½¿ç”¨â€fill_parentâ€æ˜¯ä¸ç®¡ç”¨çš„ï¼Œå¿…éœ€ä¸ºScrollViewè®¾ç½®ï¼šandroid:fillViewport=â€trueâ€ã€‚<a href="http://blog.sina.com.cn/s/blog_6cf2ea6a0102v61f.html" target="_blank" rel="noopener">å‚è€ƒèµ„æ–™</a></li>
</ul>
<h3 id="ListView"><a href="#ListView" class="headerlink" title="ListView"></a>ListView</h3><ul>
<li>scrollbarStyle </li>
</ul>
<pre class="line-numbers language-xml"><code class="language-xml">**insideOverlayï¼š**é»˜è®¤å€¼ï¼Œè¡¨ç¤ºåœ¨paddingåŒºåŸŸå†…å¹¶ä¸”è¦†ç›–åœ¨viewä¸Š
**insideInset**ï¼šè¡¨ç¤ºåœ¨paddingåŒºåŸŸå†…å¹¶ä¸”æ’å…¥åœ¨viewåé¢
**outsideOverlayï¼š**è¡¨ç¤ºåœ¨paddingåŒºåŸŸå¤–å¹¶ä¸”è¦†ç›–åœ¨viewä¸Šï¼Œæ¨èè¿™ä¸ª
**outsideInsetï¼š**è¡¨ç¤ºåœ¨paddingåŒºåŸŸå¤–å¹¶ä¸”æ’å…¥åœ¨viewåé¢<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="1-3-Activity"><a href="#1-3-Activity" class="headerlink" title="1.3 Activity"></a>1.3 Activity</h2><ul>
<li><a href="https://inthecheesefactory.com/blog/fragment-state-saving-best-practices/en" target="_blank" rel="noopener">The Real Best Practices to Save/Restore Activityâ€™s and Fragmentâ€™s state. </a></li>
</ul>
<h2 id="1-4-Fragment"><a href="#1-4-Fragment" class="headerlink" title="1.4 Fragment"></a>1.4 Fragment</h2><h4 id="æœ€å°æ¡ˆä¾‹åˆ†æ"><a href="#æœ€å°æ¡ˆä¾‹åˆ†æ" class="headerlink" title="æœ€å°æ¡ˆä¾‹åˆ†æ"></a>æœ€å°æ¡ˆä¾‹åˆ†æ</h4><pre class="line-numbers language-java"><code class="language-java">Fragment newFragment <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ExampleFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
FragmentTransaction transaction <span class="token operator">=</span> <span class="token function">getFragmentManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">beginTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
transaction<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>fragment_container<span class="token punctuation">,</span> newFragment<span class="token punctuation">)</span><span class="token punctuation">;</span>
transaction<span class="token punctuation">.</span><span class="token function">addToBackStack</span><span class="token punctuation">(</span>null<span class="token punctuation">)</span><span class="token punctuation">;</span>
transaction<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>æ˜¾ç¤ºï¼šadd() replace() show() attach()ã€€ã€€</li>
<li>éšè—ï¼šremove() hide() detach()</li>
<li>è°ƒç”¨<code>commit()</code>å¹¶ä¸ç«‹åˆ»æ‰§è¡Œäº‹åŠ¡ï¼Œç›¸åï¼Œè€Œæ˜¯é‡‡å–é¢„çº¦æ–¹å¼ï¼Œä¸€æ—¦activityçš„ç•Œé¢çº¿ç¨‹ï¼ˆä¸»çº¿ç¨‹ï¼‰å‡†å¤‡å¥½ä¾¿å¯è¿è¡Œèµ·æ¥ã€‚ç„¶è€Œï¼Œå¦‚æœæœ‰å¿…è¦çš„è¯ï¼Œä½ å¯ä»¥ä»ç•Œé¢çº¿ç¨‹è°ƒç”¨<code>executePendingTransations()</code>ç«‹å³æ‰§è¡Œç”±commit()æäº¤çš„äº‹åŠ¡ã€‚</li>
<li>åªèƒ½åœ¨activityä¿å­˜çŠ¶æ€ï¼ˆå½“ç”¨æˆ·ç¦»å¼€activityæ—¶ï¼‰ä¹‹å‰ç”¨commit()æäº¤äº‹åŠ¡ã€‚å¦‚æœä½ å°è¯•åœ¨é‚£æ—¶ä¹‹åæäº¤ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚è¿™æ˜¯å› ä¸ºå¦‚æœactivityéœ€è¦è¢«æ¢å¤ï¼Œæäº¤åçš„çŠ¶æ€ä¼šè¢«ä¸¢å¤±ã€‚å¯¹äºè¿™ç±»ä¸¢å¤±æäº¤çš„æƒ…å†µï¼Œå¯ä½¿ç”¨<code>commitAllowingStateLoss()</code></li>
<li><code>addToBackStack()</code>   è°ƒç”¨commit()ä¹‹å‰çš„æ‰€æœ‰åº”ç”¨çš„å˜æ›´è¢«ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„äº‹åŠ¡æ·»åŠ åˆ°åå°æ ˆä¸­ï¼Œå¹¶ä¸”BACKé”®å¯ä»¥å°†å®ƒä»¬ä¸€èµ·å›é€€ã€‚</li>
<li>ä½¿ç”¨<code>popBackStack()</code>ï¼ˆæ¨¡ä»¿ç”¨æˆ·çš„BACKå‘½ä»¤ï¼‰ä»åå°æ ˆå¼¹å‡ºfragment</li>
<li>ä½¿ç”¨<code>addOnBackStackChangedListener()</code>æ³¨å†Œä¸€ä¸ªç›‘å¬åå°æ ˆå˜åŒ–çš„ç›‘å¬å™¨ã€‚</li>
<li>setCustomAnimations(R.anim.slide_right_in,R.anim.slide_left_out) è®¾ç½®åŠ¨ç”»</li>
<li>transaction addSharedElement è®¾ç½®å…±äº«share view</li>
</ul>
<h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><ul>
<li><a href="https://www.jianshu.com/p/d9143a92ad94" target="_blank" rel="noopener">Fragmentå…¨è§£æç³»åˆ—ï¼ˆä¸€ï¼‰ï¼šé‚£äº›å¹´è¸©è¿‡çš„å‘</a></li>
</ul>
<h3 id="1-4-1-FragmentPagerAdapteræ›´æ–°é—®é¢˜"><a href="#1-4-1-FragmentPagerAdapteræ›´æ–°é—®é¢˜" class="headerlink" title="1.4.1 FragmentPagerAdapteræ›´æ–°é—®é¢˜"></a>1.4.1 FragmentPagerAdapteræ›´æ–°é—®é¢˜</h3><blockquote>
<p>é—®é¢˜æè¿°ï¼š Activity åµŒå…¥FragmentPagerAdapterç®¡ç†Fragmentï¼Œå½“æ•°æ®æ›´æ–°æ—¶ï¼Œæƒ³åŒæ—¶æ›´æ–°çš„fragmentï¼Œå‘ç°fragmentæ²¡æœ‰æ›´æ–°</p>
</blockquote>
<p><a href="https://blog.csdn.net/u012762986/article/details/79778727" target="_blank" rel="noopener">CSDN æ–‡ç« FragmentPagerAdapteråˆ·æ–°</a></p>
<pre class="line-numbers language-java"><code class="language-java">FragmentPagerAdapter mAdapter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FragmentPagerAdapter</span><span class="token punctuation">(</span><span class="token function">getFragmentManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> Fragment <span class="token function">getItem</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mCategoryfragments<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

          <span class="token comment" spellcheck="true">/**
          *åˆ¤æ–­å½“å‰positioné‡ŒFragmentæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™ä¸ä¼šåˆ›å»ºäº¦ä¸ä¼šæ›´æ–°
          **/</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">getItemId</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mCategoryfragments<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
            <span class="token comment" spellcheck="true">/**
            *é€šçŸ¥åˆ·æ–°ä½ç½®å˜åŒ–
            **/</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getItemPosition</span><span class="token punctuation">(</span>Object object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> POSITION_NONE<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mCategoryfragments <span class="token operator">==</span> null <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> mCategoryfragments<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> CharSequence <span class="token function">getPageTitle</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> titles<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroyItem</span><span class="token punctuation">(</span>ViewGroup container<span class="token punctuation">,</span> <span class="token keyword">int</span> position<span class="token punctuation">,</span> Object object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//å¦‚æœæ³¨é‡Šè¿™è¡Œï¼Œé‚£ä¹ˆä¸ç®¡æ€ä¹ˆåˆ‡æ¢ï¼Œpageéƒ½ä¸ä¼šè¢«é”€æ¯</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">destroyItem</span><span class="token punctuation">(</span>container<span class="token punctuation">,</span> position<span class="token punctuation">,</span> object<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="ç¬¬2èŠ‚-åŸºç¡€çš„å¸ƒå±€çŸ¥è¯†"><a href="#ç¬¬2èŠ‚-åŸºç¡€çš„å¸ƒå±€çŸ¥è¯†" class="headerlink" title="ç¬¬2èŠ‚ åŸºç¡€çš„å¸ƒå±€çŸ¥è¯†"></a>ç¬¬2èŠ‚ åŸºç¡€çš„å¸ƒå±€çŸ¥è¯†</h1><h2 id="2-1-é¢œè‰²"><a href="#2-1-é¢œè‰²" class="headerlink" title="2.1 é¢œè‰²"></a>2.1 é¢œè‰²</h2><h3 id="é¢œè‰²é€æ˜åº¦å‚ç…§è¡¨"><a href="#é¢œè‰²é€æ˜åº¦å‚ç…§è¡¨" class="headerlink" title="é¢œè‰²é€æ˜åº¦å‚ç…§è¡¨"></a>é¢œè‰²é€æ˜åº¦å‚ç…§è¡¨</h3><table>
<thead>
<tr>
<th>ä¸é€æ˜åº¦</th>
<th>16è¿›åˆ¶è¡¨ç¤º</th>
</tr>
</thead>
<tbody><tr>
<td>00%</td>
<td>FFï¼ˆä¸é€æ˜ï¼‰</td>
</tr>
<tr>
<td>5%</td>
<td>F2</td>
</tr>
<tr>
<td>10%</td>
<td>E5</td>
</tr>
<tr>
<td>15%</td>
<td>D8</td>
</tr>
<tr>
<td>20%</td>
<td>CC</td>
</tr>
<tr>
<td>25%</td>
<td>BF</td>
</tr>
<tr>
<td>30%</td>
<td>B2</td>
</tr>
<tr>
<td>35%</td>
<td>A5</td>
</tr>
<tr>
<td>40%</td>
<td>99</td>
</tr>
<tr>
<td>45%</td>
<td>8c</td>
</tr>
<tr>
<td>50%</td>
<td>7F</td>
</tr>
<tr>
<td>55%</td>
<td>72</td>
</tr>
<tr>
<td>60%</td>
<td>66</td>
</tr>
<tr>
<td>65%</td>
<td>59</td>
</tr>
<tr>
<td>70%</td>
<td>4c</td>
</tr>
<tr>
<td>75%</td>
<td>3F</td>
</tr>
<tr>
<td>80%</td>
<td>33</td>
</tr>
<tr>
<td>85%</td>
<td>21</td>
</tr>
<tr>
<td>90%</td>
<td>19</td>
</tr>
<tr>
<td>95%</td>
<td>0c</td>
</tr>
<tr>
<td>100%</td>
<td>00ï¼ˆå…¨é€æ˜ï¼‰</td>
</tr>
</tbody></table>
<p>ç®—æ³• </p>
<pre><code>30%ä¸é€æ˜åº¦ä¹Ÿå°±æ˜¯255*30%=76.5ï¼Œå››èˆäº”å…¥77ï¼Œç„¶ååˆ©ç”¨è®¡ç®—å™¨è½¬ä¸º16è¿›åˆ¶ä¸º4D</code></pre><p>ä»£ç </p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">float</span> temp <span class="token operator">=</span> <span class="token number">255</span> <span class="token operator">*</span> i <span class="token operator">*</span> <span class="token number">1.0f</span> <span class="token operator">/</span> <span class="token number">100f</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> alpha <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            String hexStr <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span>alpha<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>hexStr<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span>
                hexStr <span class="token operator">=</span> <span class="token string">"0"</span> <span class="token operator">+</span> hexStr<span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">"%, "</span> <span class="token operator">+</span> hexStr<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="ç¬¬3èŠ‚-drawbable-bitmap-shape-ç­‰å¸¸ç”¨çš„ç»˜å›¾ç±»"><a href="#ç¬¬3èŠ‚-drawbable-bitmap-shape-ç­‰å¸¸ç”¨çš„ç»˜å›¾ç±»" class="headerlink" title="ç¬¬3èŠ‚ drawbable bitmap shape ç­‰å¸¸ç”¨çš„ç»˜å›¾ç±»"></a>ç¬¬3èŠ‚ drawbable bitmap shape ç­‰å¸¸ç”¨çš„ç»˜å›¾ç±»</h1><h2 id="3-1-drawable"><a href="#3-1-drawable" class="headerlink" title="3.1 drawable"></a>3.1 drawable</h2><p>å¸¸ç”¨çš„å­ç±»åˆ†ç±»</p>
<pre class="line-numbers language-java"><code class="language-java">Bitmap<span class="token operator">:</span>æœ€ç®€å•çš„Drawableï¼Œä¸€ä¸ªPNGæˆ–JPEGå›¾åƒã€‚
Nine Patch<span class="token operator">:</span>æ˜¯å¯¹PNGæ ¼å¼çš„æ‰©å±•å…è®¸å®ƒæŒ‡å®šå¦‚ä½•å¯¹å…¶è¿›è¡Œæ‹‰ä¼¸å’Œæ”¾ç½®çš„ä¿¡æ¯
Vector<span class="token operator">:</span>å‘é‡ï¼šåœ¨XMLæ–‡ä»¶ä¸­å®šä¹‰çš„å¯ç»˜åˆ¶çš„ä¸€ç»„ç‚¹ï¼Œçº¿å’Œæ›²çº¿ä»¥åŠç›¸å…³çš„é¢œè‰²ä¿¡æ¯ã€‚ è¿™ç§ç±»å‹çš„ç»˜å›¾å¯ä»¥ç¼©æ”¾è€Œä¸ä¼šæŸå¤±æ˜¾ç¤ºè´¨é‡ã€‚
Shape<span class="token operator">:</span>å½¢çŠ¶ï¼šåŒ…å«ç®€å•çš„ç»˜å›¾å‘½ä»¤è€Œä¸æ˜¯åŸå§‹ä½å›¾ï¼Œå…è®¸åœ¨æŸäº›æƒ…å†µä¸‹è°ƒæ•´æ›´å¥½ã€‚
Layers<span class="token operator">:</span>å›¾å±‚ï¼šä¸€ä¸ªå¯ç»˜åˆ¶çš„å¤åˆç‰©ï¼Œå®ƒåœ¨å½¼æ­¤é¡¶éƒ¨ç»˜åˆ¶å¤šä¸ªåº•å±‚å¯ç»˜å›¾ã€‚
States<span class="token operator">:</span>çŠ¶æ€ï¼Œä¸€ä¸ªå¤åˆdrawableï¼Œæ ¹æ®å…¶çŠ¶æ€é€‰æ‹©ä¸€ç»„drawableä¸­çš„ä¸€ä¸ªã€‚
Levelsï¼šçº§åˆ«ï¼šä¸€ä¸ªå¤åˆdrawableï¼Œæ ¹æ®å…¶çº§åˆ«ä»ä¸€ç»„drawableä¸­é€‰æ‹©ä¸€ä¸ªã€‚
Scale<span class="token operator">:</span>æ¯”ä¾‹å°ºï¼šä¸€ä¸ªå¯ç»˜åˆ¶çš„å•ä¸ªå­ç»„åˆå¯ç»˜åˆ¶çš„ç»„åˆï¼Œå…¶æ•´ä½“å¤§å°æ ¹æ®å½“å‰çº§åˆ«è¿›è¡Œä¿®æ”¹ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="ç¬¬4èŠ‚-åŠ¨ç”»ç›¸å…³"><a href="#ç¬¬4èŠ‚-åŠ¨ç”»ç›¸å…³" class="headerlink" title="ç¬¬4èŠ‚ åŠ¨ç”»ç›¸å…³"></a>ç¬¬4èŠ‚ åŠ¨ç”»ç›¸å…³</h1><h2 id="åŸºæœ¬çŸ¥è¯†"><a href="#åŸºæœ¬çŸ¥è¯†" class="headerlink" title="åŸºæœ¬çŸ¥è¯†"></a>åŸºæœ¬çŸ¥è¯†</h2><ul>
<li><a href="https://pspdfkit.com/blog/2016/android-animations-powered-by-rx-java/" target="_blank" rel="noopener">Android animations powered by RxJava</a></li>
<li><a href="http://easings.net/zh-cn" target="_blank" rel="noopener">åŠ¨ç”»æ›²çº¿åº“</a></li>
<li><a href="http://inloop.github.io/interpolator/" target="_blank" rel="noopener">è‡ªç„¶åŠ¨ç”»çš„æ¨¡æ‹Ÿæ¼”ç¤º</a></li>
<li>facebook ä»¤äººæƒŠè‰³çš„æŒ‰é”®æ•ˆæœ <strong><a href="https://github.com/facebook/rebound" target="_blank" rel="noopener">rebound</a></strong></li>
<li><a href="https://github.com/airbnb/lottie-android" target="_blank" rel="noopener">Lottie-android</a> Render After Effects animations natively on Android and iOS å…¨å¹³å°æ”¯æŒï¼Œ åŠ¨æ€åŠ¨ç”»æ›´æ–°ï¼›<ul>
<li><a href="http://www.jianshu.com/p/81be1bf9600c" target="_blank" rel="noopener">ä»jsonæ–‡ä»¶åˆ°ç‚«é…·åŠ¨ç”»-Lottieå®ç°æ€è·¯å’Œæºç åˆ†æ</a></li>
<li><a href="http://www.lottiefiles.com/" target="_blank" rel="noopener">LottieFiles</a> å¯¹åº”çš„åŠ¨ç”»jsonæ–‡ä»¶ä¸‹è½½</li>
<li><a href="https://www.jianshu.com/p/b3e25ccd6252" target="_blank" rel="noopener">Lottie å…¥é—¨ä¸å®è·µ</a></li>
<li><a href="https://editor.lottiefiles.com/" target="_blank" rel="noopener">lottie æ–‡ä»¶ç¼–è¾‘</a></li>
</ul>
</li>
</ul>
<h2 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h2><h3 id="æ¸å˜å®ç°"><a href="#æ¸å˜å®ç°" class="headerlink" title="æ¸å˜å®ç°"></a>æ¸å˜å®ç°</h3><pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>shape</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>gradient</span>
        <span class="token attr-name"><span class="token namespace">android:</span>angle</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>135<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>endColor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#34e89e<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>startColor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#0f3443<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>shape</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>animation-list</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span>
        <span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@drawable/gradient_blue<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>duration</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>5000<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>animation-list</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">LinearLayout linearLayout <span class="token operator">=</span> <span class="token punctuation">(</span>LinearLayout<span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>linear_layout<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¸ƒå±€backgroundè®¾ç½®æ˜¯ä¸Šé¢çš„xml</span>

AnimationDrawable animationDrawable <span class="token operator">=</span> <span class="token punctuation">(</span>AnimationDrawable<span class="token punctuation">)</span> linearLayout<span class="token punctuation">.</span><span class="token function">getBackground</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

animationDrawable<span class="token punctuation">.</span><span class="token function">setEnterFadeDuration</span><span class="token punctuation">(</span><span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
animationDrawable<span class="token punctuation">.</span><span class="token function">setExitFadeDuration</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

animationDrawable<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="å‚è€ƒ-1"><a href="#å‚è€ƒ-1" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><h2 id="é˜…è¯»è¿‡çš„åšæ–‡"><a href="#é˜…è¯»è¿‡çš„åšæ–‡" class="headerlink" title="é˜…è¯»è¿‡çš„åšæ–‡"></a><strong>é˜…è¯»è¿‡çš„åšæ–‡</strong></h2><ul>
<li><a href="http://blog.csdn.net/lvxiangan/article/details/19971509" target="_blank" rel="noopener">androidåæ ‡</a></li>
<li><a href="http://bbs.csdn.net/topics/390358020" target="_blank" rel="noopener">è´å¡å°”æ›²çº¿</a></li>
<li><a href="http://blog.csdn.net/tianjian4592/article/details/45652257" target="_blank" rel="noopener">Pathç›¸å…³æ–¹æ³•è®²è§£(ä¸€)</a></li>
<li><a href="http://droidyue.com/blog/2014/07/12/check-main-thread-in-android-chinese-edition/" target="_blank" rel="noopener">Androidä¸­æ£€æµ‹å½“å‰æ˜¯å¦ä¸ºä¸»çº¿ç¨‹</a>ã€‚ æœ€å¯é çš„è§£å†³æ–¹æ¡ˆï¼š<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isInMainThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Looper<span class="token punctuation">.</span><span class="token function">myLooper</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Looper<span class="token punctuation">.</span><span class="token function">getMainLooper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<p>```</p>
<ul>
<li><a href="http://www.race604.com/tint-drawable/" target="_blank" rel="noopener">Drawable ç€è‰²çš„åå‘å…¼å®¹æ–¹æ¡ˆ</a></li>
<li><a href="http://www.07net01.com/2016/01/1118674.html" target="_blank" rel="noopener">VectorDrawable å’Œ AnimatedVectorDrawable çš„å…¼å®¹æ€§é—®é¢˜</a> å°è±¡æœ‰å¤‡ä»½</li>
<li><a href="http://mp.weixin.qq.com/s?__biz=MzI1NjEwMTM4OA==&amp;mid=2651232105&amp;idx=1&amp;sn=fcc4fa956f329f839f2a04793e7dd3b9&amp;scene=0#rd" target="_blank" rel="noopener">AndroidåŠ¨æ€å¸ƒå±€å…¥é—¨åŠNinePatchChunkè§£å¯†</a> æœ‰å¤‡ä»½</li>
</ul>
<h2 id="é‡ç‚¹åšæ–‡"><a href="#é‡ç‚¹åšæ–‡" class="headerlink" title="é‡ç‚¹åšæ–‡"></a><strong>é‡ç‚¹åšæ–‡</strong></h2><ul>
<li><a href="http://blog.csdn.net/column/details/androidcustomview.html" target="_blank" rel="noopener">Androidè‡ªå®šä¹‰æ§ä»¶å…¶å®å¾ˆç®€å•</a></li>
<li><a href="http://www.jianshu.com/p/0acc12c29c1b#" target="_blank" rel="noopener">Androidå¼€å‘ï¼šTranslucent System Bar çš„æœ€ä½³å®è·µ</a></li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>UI</tag>
      </tags>
  </entry>
  <entry>
    <title>Android å¸¸ç”¨å‘½ä»¤å°ç»“</title>
    <url>/2019/11/14/2019-11-14-Android-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%B0%8F%E7%BB%93/</url>
    <content><![CDATA[<h2 id="ç¬¬1èŠ‚-keytool"><a href="#ç¬¬1èŠ‚-keytool" class="headerlink" title="ç¬¬1èŠ‚ keytool"></a>ç¬¬1èŠ‚ keytool</h2><h3 id="1-1-æŸ¥çœ‹ç­¾åæ–‡ä»¶æŒ‡çº¹"><a href="#1-1-æŸ¥çœ‹ç­¾åæ–‡ä»¶æŒ‡çº¹" class="headerlink" title="1.1 æŸ¥çœ‹ç­¾åæ–‡ä»¶æŒ‡çº¹"></a>1.1 æŸ¥çœ‹ç­¾åæ–‡ä»¶æŒ‡çº¹</h3><pre class="line-numbers language-shell"><code class="language-shell">keytool --list -v -keystore key_release.jks<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>Android Debug Bridge (ADB) ä½¿ç”¨æ€»ç»“</title>
    <url>/2019/11/12/2019-11-12-Android_Debug_Bridge/</url>
    <content><![CDATA[<h2 id="ç¬¬1èŠ‚-æœ€å¸¸ç”¨æ¡ˆä¾‹"><a href="#ç¬¬1èŠ‚-æœ€å¸¸ç”¨æ¡ˆä¾‹" class="headerlink" title="ç¬¬1èŠ‚ æœ€å¸¸ç”¨æ¡ˆä¾‹"></a>ç¬¬1èŠ‚ æœ€å¸¸ç”¨æ¡ˆä¾‹</h2><blockquote>
<p>æ³¨æ„ï¼š åº”ç”¨åŒ…åé»˜è®¤ä¸º <code>com.example.app</code></p>
</blockquote>
<h3 id="1-1-å¯åŠ¨åº”ç”¨ä¸»ç•Œé¢"><a href="#1-1-å¯åŠ¨åº”ç”¨ä¸»ç•Œé¢" class="headerlink" title="1.1 å¯åŠ¨åº”ç”¨ä¸»ç•Œé¢"></a>1.1 å¯åŠ¨åº”ç”¨ä¸»ç•Œé¢</h3><pre class="line-numbers language-shell"><code class="language-shell">adb shell am start -n "com.example.app/com.example.app.ui.basic.activity.LoginActivity" -a android.intent.action.MAIN -c android.intent.category.LAUNCHER<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ³¨è§£ï¼š</p>
<ul>
<li><code>com.example.app.ui.basic.activity.LoginActivity</code> ä¸ºé…æœ‰ <code>action.MAIN</code> å’Œ <code>category.LAUNCHER</code>çš„Activity å³åº”ç”¨å¯åŠ¨é¡µé¢ï¼›</li>
</ul>
<h3 id="1-2-è·å–å½“å‰æ˜¾ç¤ºActivity"><a href="#1-2-è·å–å½“å‰æ˜¾ç¤ºActivity" class="headerlink" title="1.2 è·å–å½“å‰æ˜¾ç¤ºActivity"></a>1.2 è·å–å½“å‰æ˜¾ç¤ºActivity</h3><pre class="line-numbers language-shell"><code class="language-shell">adb shell dumpsys activity activities | grep 'ActivityRecord' | grep 'com.example.app'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç»“æœï¼š</p>
<pre class="line-numbers language-java"><code class="language-java">      Activities<span class="token operator">=</span><span class="token punctuation">[</span>ActivityRecord<span class="token punctuation">{</span>4df0741 u0 com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>app<span class="token operator">/</span><span class="token punctuation">.</span>ui<span class="token punctuation">.</span>client<span class="token punctuation">.</span>MainActivity t17<span class="token punctuation">}</span><span class="token punctuation">,</span> ActivityRecord<span class="token punctuation">{</span>45c40f u0 com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>app<span class="token operator">/</span><span class="token punctuation">.</span>ui<span class="token punctuation">.</span>client<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>InformationUnreadActivity t17<span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token operator">*</span> Hist #<span class="token number">1</span><span class="token operator">:</span> ActivityRecord<span class="token punctuation">{</span>45c40f u0 com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>app<span class="token operator">/</span><span class="token punctuation">.</span>ui<span class="token punctuation">.</span>client<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>InformationUnreadActivity t17<span class="token punctuation">}</span>
      <span class="token operator">*</span> Hist #<span class="token number">0</span><span class="token operator">:</span> ActivityRecord<span class="token punctuation">{</span>4df0741 u0 com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>app<span class="token operator">/</span><span class="token punctuation">.</span>ui<span class="token punctuation">.</span>client<span class="token punctuation">.</span>MainActivity t17<span class="token punctuation">}</span>
        Run #<span class="token number">1</span><span class="token operator">:</span> ActivityRecord<span class="token punctuation">{</span>45c40f u0 com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>app<span class="token operator">/</span><span class="token punctuation">.</span>ui<span class="token punctuation">.</span>client<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>InformationUnreadActivity t17<span class="token punctuation">}</span>
        Run #<span class="token number">0</span><span class="token operator">:</span> ActivityRecord<span class="token punctuation">{</span>4df0741 u0 com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>app<span class="token operator">/</span><span class="token punctuation">.</span>ui<span class="token punctuation">.</span>client<span class="token punctuation">.</span>MainActivity t17<span class="token punctuation">}</span>
    mResumedActivity<span class="token operator">:</span> ActivityRecord<span class="token punctuation">{</span>45c40f u0 com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>app<span class="token operator">/</span><span class="token punctuation">.</span>ui<span class="token punctuation">.</span>client<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>InformationUnreadActivity t17<span class="token punctuation">}</span>
    mLastPausedActivity<span class="token operator">:</span> ActivityRecord<span class="token punctuation">{</span>4df0741 u0 com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>app<span class="token operator">/</span><span class="token punctuation">.</span>ui<span class="token punctuation">.</span>client<span class="token punctuation">.</span>MainActivity t17<span class="token punctuation">}</span>
  ResumedActivity<span class="token operator">:</span> ActivityRecord<span class="token punctuation">{</span>45c40f u0 com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>app<span class="token operator">/</span><span class="token punctuation">.</span>ui<span class="token punctuation">.</span>client<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>InformationUnreadActivity t17<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åˆ†æå…³é”®å­—ï¼š</p>
<ul>
<li><code>mResumedActivity</code>: å½“å‰æ˜¾ç¤ºactivityä¸º<code>InformationUnreadActivity</code></li>
<li><code>mLastPausedActivity</code> æœ€è¿‘åœæ­¢æ˜¾ç¤ºçš„Activityä¸º <code>mLastPausedActivity</code></li>
</ul>
<h3 id="1-3-è·å–å±å¹•åˆ†è¾¨ç‡"><a href="#1-3-è·å–å±å¹•åˆ†è¾¨ç‡" class="headerlink" title="1.3 è·å–å±å¹•åˆ†è¾¨ç‡"></a>1.3 è·å–å±å¹•åˆ†è¾¨ç‡</h3><pre class="line-numbers language-shell"><code class="language-shell">adb shell dumpsys window displays<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è¾“å‡º(çœç•¥)ï¼š</p>
<pre class="line-numbers language-txt"><code class="language-txt">WINDOW MANAGER DISPLAY CONTENTS (dumpsys window displays)
  Display: mDisplayId=0
    init=1080x1920 420dpi cur=1080x1920 app=1080x1794 rng=1080x1017-1794x1731
    deferred=false mLayoutNeeded=false mTouchExcludeRegion=SkRegion((0,0,1080,1920))
  mLayoutSeq=500
  ....<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ³¨è§£ï¼š</p>
<ul>
<li><code>cur=1080x1920</code> æœºå™¨ä¸º1080 X 1920 åˆ†è¾¨ç‡çš„æœºå™¨</li>
</ul>
<h3 id="1-4-è·å–App-å†·çƒ­å¯åŠ¨æ—¶é—´"><a href="#1-4-è·å–App-å†·çƒ­å¯åŠ¨æ—¶é—´" class="headerlink" title="1.4 è·å–App å†·çƒ­å¯åŠ¨æ—¶é—´"></a>1.4 è·å–App å†·çƒ­å¯åŠ¨æ—¶é—´</h3><blockquote>
<p>æ³¨è§£ï¼š å†·å¯åŠ¨æŒ‡App ä»0åˆ°å®Œå…¨åŠ è½½çš„è¿‡ç¨‹ï¼Œçƒ­å¯åŠ¨æŒ‡ï¼šappä»åå°è¿›å…¥å‰å°ï¼Œé‡æ–°æ˜¾ç¤ºçš„è¿‡ç¨‹</p>
</blockquote>
<p>å‡è®¾ï¼š<code>com.example.app</code> ä¸ºæµ‹è¯•åº”ç”¨åŒ…åï¼Œæ³¨æ„å¯åŠ¨çš„Activityå¿…é¡»åœ¨æ¸…å•æ–‡ä»¶<code>AndroidManifest.xml</code>ä¸­è®¾ç½® Activity å±æ€§<code>exported=true</code></p>
<p><strong>å†·å¯åŠ¨</strong></p>
<ol>
<li><p>æ¨¡æ‹Ÿå†·å¯åŠ¨ï¼Œå¼ºè¡Œåœæ­¢åº”ç”¨<code>com.example.app</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">adb shell am force-stop com.example.app<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>è·å–å¯åŠ¨æ—¶é—´</p>
<pre class="line-numbers language-shell"><code class="language-shell">adb shell am start -W com.example.app/.ui.client.MainActivity<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>è¾“å‡ºç»“æœ</p>
<pre class="line-numbers language-shell"><code class="language-shell">Status: ok
Activity: com.example.app/.ui.client.MainActivity
ThisTime: 7198  è¯¥activityå¯åŠ¨è€—æ—¶
TotalTime: 7198 åº”ç”¨è‡ªèº«å¯åŠ¨è€—æ—¶=ThisTime+åº”ç”¨applicationç­‰èµ„æºå¯åŠ¨æ—¶é—´
WaitTime: 7346 ç³»ç»Ÿå¯åŠ¨åº”ç”¨è€—æ—¶=TotalTime+ç³»ç»Ÿèµ„æºå¯åŠ¨æ—¶é—´
Complete<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<p><strong>çƒ­å¯åŠ¨</strong></p>
<ol>
<li><p>æ¨¡æ‹ŸæŒ‰Homeé”®</p>
<pre class="line-numbers language-shell"><code class="language-shell">adb shell input keyevent 3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>åŒä¸Š</p>
</li>
</ol>
<h3 id="1-5-æ¸…é™¤Appç¼“å­˜"><a href="#1-5-æ¸…é™¤Appç¼“å­˜" class="headerlink" title="1.5 æ¸…é™¤Appç¼“å­˜"></a>1.5 æ¸…é™¤Appç¼“å­˜</h3><ol>
<li><p>æ¨¡ç³ŠæŸ¥æ‰¾åŒ…å</p>
<pre class="line-numbers language-shell"><code class="language-shell">adb shell pm list packages | grep com.example<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>æ¸…é™¤æ‰€æœ‰ä¸è¯¥åŒ…åç›¸å…³çš„æ•°æ®ï¼Œ<code>deletes all data associated with a package.</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">adb shell pm clear com.example.app<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="1-6-åŠ¨æ€æŸ¥çœ‹è·³è½¬ï¼Œå¿«é€Ÿæ‰¾åˆ°å½“å‰é¡µé¢-ã€å·¨æœ‰ç”¨ã€‘"><a href="#1-6-åŠ¨æ€æŸ¥çœ‹è·³è½¬ï¼Œå¿«é€Ÿæ‰¾åˆ°å½“å‰é¡µé¢-ã€å·¨æœ‰ç”¨ã€‘" class="headerlink" title="1.6 åŠ¨æ€æŸ¥çœ‹è·³è½¬ï¼Œå¿«é€Ÿæ‰¾åˆ°å½“å‰é¡µé¢ ã€å·¨æœ‰ç”¨ã€‘"></a>1.6 åŠ¨æ€æŸ¥çœ‹è·³è½¬ï¼Œå¿«é€Ÿæ‰¾åˆ°å½“å‰é¡µé¢ ã€å·¨æœ‰ç”¨ã€‘</h3><p><img src="http://cdn.linz.tech/android_adb_logcat.GIF" alt=""></p>
</li>
</ol>
<pre class="line-numbers language-shell"><code class="language-shell">adb logcat -v time | grep ActivityManager<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="1-7-æ¨¡æ‹Ÿå™¨æ— æ³•å…³é—­ï¼ˆç”¨å‘½ä»¤è¡Œå…³é—­ï¼‰"><a href="#1-7-æ¨¡æ‹Ÿå™¨æ— æ³•å…³é—­ï¼ˆç”¨å‘½ä»¤è¡Œå…³é—­ï¼‰" class="headerlink" title="1.7 æ¨¡æ‹Ÿå™¨æ— æ³•å…³é—­ï¼ˆç”¨å‘½ä»¤è¡Œå…³é—­ï¼‰"></a>1.7 æ¨¡æ‹Ÿå™¨æ— æ³•å…³é—­ï¼ˆç”¨å‘½ä»¤è¡Œå…³é—­ï¼‰</h3><p>åŸç†</p>
<pre class="line-numbers language-shell"><code class="language-shell">#adb æ¨¡æ‹Ÿå™¨å†…ç½®å‘½ä»¤å…³é—­æ¨¡æ‹Ÿå™¨
adb -s emulator-5554 emu kill
#æ€æ‰æ¨¡æ‹Ÿå™¨çº¿ç¨‹
kill -9 PID<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>å…·ä½“æ“ä½œ</p>
<ol>
<li><p>emu kill</p>
<pre class="line-numbers language-shell"><code class="language-shell">adb devices | grep emulator | cut -f1 | while read line; do adb -s $line emu kill; done<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>Kill -9 PID </p>
<pre class="line-numbers language-shell"><code class="language-shell">ps -ax | grep emulator 
#-----output ----
 6617 ??         9:05.54 /Users/nav/Library/Android/sdk/emulator/qemu/darwin-x86_64/qemu-system-x86_64 -netdelay none -netspeed full -avd Nexus_One_API_29
 6619 ??         0:06.10 /Users/nav/Library/Android/sdk/emulator/emulator64-crash-service -pipe com.google.AndroidEmulator.CrashService.6617 -ppid 6617 -data-dir /tmp/android-nav/
 6658 ??         0:07.93 
 #-----then -----
 kill -9 6617<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h2 id="ç¬¬2èŠ‚-åº”ç”¨å®‰è£…"><a href="#ç¬¬2èŠ‚-åº”ç”¨å®‰è£…" class="headerlink" title="ç¬¬2èŠ‚ åº”ç”¨å®‰è£…"></a>ç¬¬2èŠ‚ åº”ç”¨å®‰è£…</h2><h3 id="2-1-åŸºæœ¬çš„å®‰è£…ä¸å¸è½½"><a href="#2-1-åŸºæœ¬çš„å®‰è£…ä¸å¸è½½" class="headerlink" title="2.1 åŸºæœ¬çš„å®‰è£…ä¸å¸è½½"></a>2.1 åŸºæœ¬çš„å®‰è£…ä¸å¸è½½</h3><pre class="line-numbers language-shell"><code class="language-shell">adb install [options]  sample.apk
[-r] replace existing application
[-s] install application on sdcard
adb uninstall [options]  sample.apk
[-k] means keep the data and cache directories<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="2-2-å¼ºè¡Œåœæ­¢"><a href="#2-2-å¼ºè¡Œåœæ­¢" class="headerlink" title="2.2 å¼ºè¡Œåœæ­¢"></a>2.2 å¼ºè¡Œåœæ­¢</h3><pre class="line-numbers language-shell"><code class="language-shell">adb shell am force-stop  [options]  <app package name ><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="ç¬¬3èŠ‚-æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ"><a href="#ç¬¬3èŠ‚-æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ" class="headerlink" title="ç¬¬3èŠ‚ æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ"></a>ç¬¬3èŠ‚ æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ</h2><blockquote>
<p>adb shell dumpsys meminfo [pid or ç©º]</p>
</blockquote>
<ul>
<li><p><code>adb shell dumpsys meminfo</code> æ˜¾ç¤ºæ‰‹æœºæ¯ä¸ªåº”ç”¨å†…å­˜ä½¿ç”¨æƒ…å†µ </p>
<pre class="line-numbers language-shelll"><code class="language-shelll">Applications Memory Usage (in Kilobytes):                                            
Uptime: 69236415 Realtime: 69236415                                                  

Total PSS by process:                                                                
    121,950K: com.example.app:pushcore (pid 29262)                                 
     88,714K: system (pid 1882)                                                      
     68,646K: com.exinetian.app (pid 28829 / activities)                             
     63,149K: com.google.android.googlequicksearchbox:search (pid 2527)              
     48,624K: com.google.android.gms.persistent (pid 2533)                           
     45,421K: com.google.android.gms (pid 2691)                                      
     45,059K: com.google.android.apps.nexuslauncher (pid 2545 / activities)          
     44,975K: com.android.systemui (pid 2000)                                        
     29,179K: com.android.vending (pid 26823)                                        
     25,800K: com.google.android.inputmethod.latin (pid 1991)                        
     16,701K: com.android.phone (pid 2126)                                           
     12,922K: audioserver (pid 1634)                                                 
     10,259K: com.google.android.googlequicksearchbox:interactor (pid 2416)          <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p><code>adb shell dumpsys meminfo &lt;pid&gt;</code></p>
</li>
</ul>
<pre class="line-numbers language-shell"><code class="language-shell"> #å¾—åˆ°pid
 adb shell ps  -ef | grep com.example.app
 # æŸ¥çœ‹è¿›ç¨‹28829 å†…å­˜ä½¿ç”¨æƒ…å†µ
 adb shell dumpsys meminfo 28829<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¾“å‡ºï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">** MEMINFO in pid 28829 [com.exinetian.app] **
                   Pss  Private  Private  SwapPss     Heap     Heap     Heap
                 Total    Dirty    Clean    Dirty     Size    Alloc     Free
                ------   ------   ------   ------   ------   ------   ------
  Native Heap    17072    17004        0        0    27264    23545     3718
  Dalvik Heap     5870     5800        0        0     7523     3762     3761
 Dalvik Other     2653     2652        0        0
        Stack      140      140        0        0
       Ashmem        5        0        0        0
    Other dev       24        0       24        0
     .so mmap     5388      160     2148        0
    .apk mmap     3434     1856      356        0
    .ttf mmap      256        0      216        0
    .dex mmap    18456    13340     1244        0
    .oat mmap      228        0       80        0
    .art mmap     7737     7052      240        0
   Other mmap     5642        4     4360        0
      Unknown     1433     1416        0        0
        TOTAL    68338    49424     8668        0    34787    27307     7479<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è§£æï¼š</p>
<ul>
<li><a href="https://blog.csdn.net/c_z_w/article/details/85336283" target="_blank" rel="noopener">adb shell dumpsys meminfo å†…å­˜æµ‹è¯•æŒ‡æ ‡è§£æ</a></li>
</ul>
<h2 id="ç¬¬4èŠ‚-å¯åŠ¨åŸç”Ÿç»„ä»¶ï¼ˆComponentï¼‰"><a href="#ç¬¬4èŠ‚-å¯åŠ¨åŸç”Ÿç»„ä»¶ï¼ˆComponentï¼‰" class="headerlink" title="ç¬¬4èŠ‚ å¯åŠ¨åŸç”Ÿç»„ä»¶ï¼ˆComponentï¼‰"></a>ç¬¬4èŠ‚ å¯åŠ¨åŸç”Ÿç»„ä»¶ï¼ˆComponentï¼‰</h2><blockquote>
<p>å‚è§ <a href="http://developer.android.com/tools/help/adb.html#am" target="_blank" rel="noopener">http://developer.android.com/tools/help/adb.html#am</a></p>
</blockquote>
<h3 id="4-1-Activity"><a href="#4-1-Activity" class="headerlink" title="4.1 Activity"></a>4.1 Activity</h3><pre class="line-numbers language-shell"><code class="language-shell">adb shell am start [options]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-shell"><code class="language-shell">ä¸¾ä¾‹ï¼šadb shell am start -a android.intent.action.MAIN
ä¸¾ä¾‹ï¼šadb shell am start -n com.example.app.android.emop/.activity.login.LoginActivity<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="4-2-service"><a href="#4-2-service" class="headerlink" title="4.2 service"></a>4.2 service</h3><pre class="line-numbers language-shell"><code class="language-shell">adb shell am startservice [options]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ä¸¾ä¾‹ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">ä¸¾ä¾‹ï¼šadb shell am startservice -a com.lt.test.action.ONESERVICE
ä¸¾ä¾‹ï¼šadb shell am startservice -n com.example.app.android.emop/.MyService<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>å®æˆ˜ç¬”è®°</p>
<pre class="line-numbers language-java"><code class="language-java">adb shell am startservice <span class="token operator">-</span>a com<span class="token punctuation">.</span>exmaple<span class="token punctuation">.</span>test <span class="token operator">-</span>n com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>app<span class="token operator">/</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span>MyService<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="4-2-broadcast"><a href="#4-2-broadcast" class="headerlink" title="4.2 broadcast"></a>4.2 broadcast</h3><pre class="line-numbers language-shell"><code class="language-shell">adb shell am broadcast [options]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ä¸¾ä¾‹ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">ä¸¾ä¾‹ï¼šadb shell am broadcast -a EMOP_OFF_LINE_ASSIGN_TASK  //when the permission 
         <receiver android:permission="com.example.permission.EMOP_SERVICE_RECEIVER" >
                  <intent-filter>
                        <action android:name="EMOP_OFF_LINE_ASSIGN_TASK"/>
                 </intent-filter >
        </receiver>
ä¸¾ä¾‹ï¼šadb shell am broadcast -a "action_finish"ï¼ˆå‘é€ä¸€ä¸ªå¹¿æ’­å»å…³é—­ä¸€ä¸ªactivityï¼‰
ä¸¾ä¾‹ï¼šadb shell am broadcast -a android.intent.action.MASTER_CLEARï¼ˆæ¢å¤å‡ºå‚è®¾ç½®çš„æ–¹æ³•ï¼Œä¼šæ¸…é™¤å†…å­˜æ‰€æœ‰å†…å®¹ï¼‰
ä¸¾ä¾‹ï¼šadb shell am broadcast -n com.lt.test/.MyBroadcast<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="4-3-ä¼ å…¥Intentå‚æ•°"><a href="#4-3-ä¼ å…¥Intentå‚æ•°" class="headerlink" title="4.3 ä¼ å…¥Intentå‚æ•°"></a>4.3 ä¼ å…¥Intentå‚æ•°</h3><pre class="line-numbers language-shell"><code class="language-shell"> <INTENT> specifications include these flags:
        [-a <ACTION>] 
        [-d <DATA_URI>] 
        [-t <MIME_TYPE>]
        [-c <CATEGORY> [-c <CATEGORY>] ...]
        [-e|--es <EXTRA_KEY> <EXTRA_STRING_VALUE> ...]
        [--ez <EXTRA_KEY> <EXTRA_BOOLEAN_VALUE> ...]
        [-e|--ei <EXTRA_KEY> <EXTRA_INT_VALUE> ...]
        [-n <COMPONENT>] 
        [-f <FLAGS>] 
        [<URI>]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ¡ˆä¾‹1ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">am start -a android.intent.action.VIEW -d http://www.baidu.com
am start -a android.intent.action.CALL -d tel:12345  
am start -a android.intent.action.VIEW -d file:///sdcard/video.3gp -t video/*<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>æ¡ˆä¾‹2ï¼š</p>
<p>ç›®çš„ä¼ å…¥</p>
<pre class="line-numbers language-shell"><code class="language-shell">pid æ•´æ•°ï¼Œå€¼ä¸º10
str å­—ç¬¦ä¸²ï¼Œå€¼ä¸º"hello, world"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-shell"><code class="language-shell">am start -a android.intent.action.MAIN -n \
net.yurushao.demo/net.yurushao.demo.ExampleActivity  --ei pid 10 --es str "hello, world"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="4-4-åº”ç”¨åœºæ™¯"><a href="#4-4-åº”ç”¨åœºæ™¯" class="headerlink" title="4.4 åº”ç”¨åœºæ™¯"></a>4.4 åº”ç”¨åœºæ™¯</h3><ol>
<li>åµŒå…¥ä¸€ä¸ªDebugActivityç”¨äºå­˜æ”¾ä¸€ä¸‹Debugä»£ç ï¼Œadb ç›´æ¥å¯åŠ¨ï¼Œå¼€å‘æµ‹è¯•è¿‡ç¨‹ä¸­ä¸ç”¨æ¯æ¬¡éƒ½å¯åŠ¨appæ‰¾åˆ°è‡ªå·±åŸ‹ä¸‹çš„æµ‹è¯•ç‚¹ï¼›</li>
<li>åŠ¨æ€æµ‹è¯•ç»„ä»¶ï¼Œç”¨adbåŠ¨æ€ä¼ å‚ï¼Œæµ‹è¯•ä¸åŒå‚æ•°ä¸‹ç»„ä»¶çš„å¤„ç†é€»è¾‘ï¼›</li>
<li>Appä¸­åŸ‹å…¥éšè—çš„æ§åˆ¶ç‚¹ï¼Œå¯ä»¥åœ¨ä¸æ”¹å˜ä»£ç çš„æƒ…å†µä¸‹ï¼Œæ§åˆ¶Appå†…éƒ¨é€»è¾‘èµ°å‘</li>
</ol>
<h2 id="ç¬¬5èŠ‚-Logcatçš„ä½¿ç”¨"><a href="#ç¬¬5èŠ‚-Logcatçš„ä½¿ç”¨" class="headerlink" title="ç¬¬5èŠ‚ Logcatçš„ä½¿ç”¨"></a>ç¬¬5èŠ‚ Logcatçš„ä½¿ç”¨</h2><pre class="line-numbers language-shell"><code class="language-shell">// æŸ¥çœ‹Activityè·³è½¬ ã€é‡ç‚¹ã€‘
adb logcat -v time | grep ActivityManager

// æŸ¥çœ‹å´©æºƒä¿¡æ¯
adb logcat -v time | grep AndroidRuntime

// æŸ¥çœ‹Dalvikä¿¡æ¯ï¼Œæ¯”å¦‚GC
adb logcat -v time | grep "D/Dalvik"

// æŸ¥çœ‹artä¿¡æ¯ï¼Œæ¯”å¦‚GC
adb logcat -v time | grep "I/art"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-shell"><code class="language-shell">adb logcat -s System.out  ## åªæŸ¥çœ‹System.out çš„è¾“å‡º
-v
 adb logcat -v time *** ## èƒ½æŸ¥çœ‹logcatç¼“å­˜çš„æ—¥å¿—ï¼Œå®šä½ä¹‹å‰å‘ç”Ÿçš„å¼‚å¸¸ä¿¡æ¯
 adb logcat -v brief 
adb logcat -v process  ##ä¼˜å…ˆçº§ (è¿›ç¨‹ID) : æ—¥å¿—ä¿¡æ¯
adb logcat -v tag ##ä¼˜å…ˆçº§ / æ ‡ç­¾ : æ—¥å¿—ä¿¡æ¯
adb logcat -v thread  ##ä¼˜å…ˆçº§ ( è¿›ç¨‹ID : çº¿ç¨‹ID) æ ‡ç­¾ : æ—¥å¿—å†…å®¹
adb logcat -v raw ##åªè¾“å‡ºæ—¥å¿—ä¿¡æ¯
adb logcat -v time   ##æ—¥æœŸ æ—¶é—´ ä¼˜å…ˆçº§ / æ ‡ç­¾ (è¿›ç¨‹ID) : è¿›ç¨‹åç§° : æ—¥å¿—ä¿¡æ¯
adb logcat -v long  ##[æ—¥æœŸ æ—¶é—´ è¿›ç¨‹ID : çº¿ç¨‹ID ä¼˜å…ˆçº§ / æ ‡ç­¾] æ—¥å¿—ä¿¡æ¯ **

adb logcat -b main/events/system
adb logcat -g 
adb logcat *:E | grep "example"   ## æœç´¢æŒ‡å®šçš„é”™è¯¯ä¿¡æ¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ç¬¬6èŠ‚-Androidä¸­å¸¸ç”¨çš„Linuxå‘½ä»¤"><a href="#ç¬¬6èŠ‚-Androidä¸­å¸¸ç”¨çš„Linuxå‘½ä»¤" class="headerlink" title="ç¬¬6èŠ‚ Androidä¸­å¸¸ç”¨çš„Linuxå‘½ä»¤"></a>ç¬¬6èŠ‚ Androidä¸­å¸¸ç”¨çš„Linuxå‘½ä»¤</h2><pre class="line-numbers language-shell"><code class="language-shell">adb shell ps -t 
USER     PID   PPID  VSIZE  RSS     WCHAN    PC         NAME
root      1     0     268    180   c009b74c 0000875c S /init
cat /proc/34/status #è¿›ç¨‹çŠ¶æ€
adb -s 20080411  shell cat /system/build.prop  //è®¾å¤‡ä¿¡æ¯
adb shell top  // æŸ¥çœ‹è®¾å¤‡cpuå’Œå†…å­˜å ç”¨æƒ…å†µ
adb shell top -m 6 // æŸ¥çœ‹å ç”¨å†…å­˜å‰6çš„app
adb shell top -n 1 // åˆ·æ–°ä¸€æ¬¡å†…å­˜ä¿¡æ¯ï¼Œç„¶åè¿”å›
adb shell procrank // æŸ¥è¯¢å„è¿›ç¨‹å†…å­˜ä½¿ç”¨æƒ…å†µ
adb shell kill [pid] // æ€æ­»ä¸€ä¸ªè¿›ç¨‹
adb shell ps // æŸ¥çœ‹è¿›ç¨‹åˆ—è¡¨ 
adb shell ps -x [PID] // æŸ¥çœ‹æŒ‡å®šè¿›ç¨‹çŠ¶æ€
adb shell service list // æŸ¥çœ‹åå°servicesä¿¡æ¯
adb shell cat /proc/meminfo // æŸ¥çœ‹å½“å‰å†…å­˜å ç”¨
adb shell cat /proc/iomem // æŸ¥çœ‹IOå†…å­˜åˆ†åŒº
adb shell  cat /sys/class/net/wlan0/address  // è·å–macåœ°å€
adb shell cat /proc/cpuinfo  // è·å–cpuåºåˆ—å·<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p><strong>Screencap</strong> </p>
<pre class="line-numbers language-shell"><code class="language-shell">adb shell screencap -p /sdcard/screen.png
adb pull /sdcard/screen.png
adb shell rm /sdcard/screen.png<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><strong>input</strong> </p>
<pre class="line-numbers language-shell"><code class="language-shell">input keyevent 82 # èœå•äº‹ä»¶ï¼ˆMENUï¼‰ 
input keyevent 4 # å›é€€äº‹ä»¶ ï¼ˆBACKï¼‰ 
input text â€œi_love_beijingâ€ # è¾“å…¥æ–‡å­—<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><strong>ime</strong>  è¾“å…¥æ³•ç®¡ç†</p>
<pre class="line-numbers language-shell"><code class="language-shell">usage: ime list [-a] [-s] 
ime enable ID 
ime disable ID 
ime set ID
ime list  
ime set  com.baidu.input_huawei/.ImeService<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Androidå…·æœ‰propå±æ€§ç³»ç»Ÿï¼Œä½¿ç”¨getpropå’Œsetprop </p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="http://developer.android.com/tools/help/adb.html" target="_blank" rel="noopener">http://developer.android.com/tools/help/adb.html</a></li>
<li><a href="https://github.com/mzlogin/awesome-adb" target="_blank" rel="noopener"><strong>awesome-adb</strong></a></li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux èœé¸Ÿç§æˆ¿èœçŸ¥è¯†æ¶æ„</title>
    <url>/2019/09/16/2019-3-23-linux-note/</url>
    <content><![CDATA[<h1 id="ç¬¬äº”ç« ã€Linux-çš„æ–‡ä»¶æƒé™ä¸ç›®å½•é…ç½®"><a href="#ç¬¬äº”ç« ã€Linux-çš„æ–‡ä»¶æƒé™ä¸ç›®å½•é…ç½®" class="headerlink" title="ç¬¬äº”ç« ã€Linux  çš„æ–‡ä»¶æƒé™ä¸ç›®å½•é…ç½®"></a>ç¬¬äº”ç« ã€Linux  çš„æ–‡ä»¶æƒé™ä¸ç›®å½•é…ç½®</h1><h2 id="ç”¨æˆ·ç®¡ç†"><a href="#ç”¨æˆ·ç®¡ç†" class="headerlink" title="ç”¨æˆ·ç®¡ç†"></a>ç”¨æˆ·ç®¡ç†</h2><pre class="line-numbers language-shell"><code class="language-shell">[root@study ~]# groupadd project        <==å¢åŠ æ–°çš„ç¾¤ç»„ 
[root@study ~]# useradd -G project alex <==å»ºç«‹ alex è´¦å·ï¼Œä¸”æ”¯æŒ project 
[root@study ~]# useradd -G project arod <==å»ºç«‹ arod è´¦å·ï¼Œä¸”æ”¯æŒ project 
[root@study ~]# id alex                 <==æŸ¥é˜… alex è´¦å·çš„å±æ€§ 
uid=1001(alex) gid=1002(alex) groups=1002(alex),1001(project) <==ç¡®å®æœ‰æ”¯æŒï¼ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="man-page"><a href="#man-page" class="headerlink" title="man page"></a>man page</h2><table>
<thead>
<tr>
<th align="center">æŒ‰é”®</th>
<th align="center">header 2</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ç©ºæ ¼</td>
<td align="center">ä¸‹ç¿»ä¸€é¡µ</td>
</tr>
<tr>
<td align="center">home</td>
<td align="center">å»åˆ°ç¬¬ä¸€é¡µ</td>
</tr>
<tr>
<td align="center">End</td>
<td align="center">å»åˆ°æœ€åä¸€é¡µ</td>
</tr>
<tr>
<td align="center">/ï¼Ÿstring</td>
<td align="center">å‘ä¸‹/ä¸Šæœç´¢</td>
</tr>
</tbody></table>
<h2 id="æ–‡ä»¶æƒé™ä¸é…ç½®"><a href="#æ–‡ä»¶æƒé™ä¸é…ç½®" class="headerlink" title="æ–‡ä»¶æƒé™ä¸é…ç½®"></a>æ–‡ä»¶æƒé™ä¸é…ç½®</h2><pre class="line-numbers language-shell"><code class="language-shell">chgrp ï¼šæ”¹å˜æ–‡ä»¶æ‰€å±ç¾¤ç»„ 
chown ï¼šæ”¹å˜æ–‡ä»¶æ‹¥æœ‰è€… 
chmod ï¼šæ”¹å˜æ–‡ä»¶çš„æƒé™, SUID, SGID, SBIT ç­‰ç­‰çš„ç‰¹æ€§ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-shell"><code class="language-shell"> #å°†file_newçš„æ‹¥æœ‰è€…ä¸ç¾¤ç»„æ”¹å›ä¸º chown user:group file
 chown root:root file_new <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>chmod </p>
<pre class="line-numbers language-shell"><code class="language-shell">        u 
        g      +(åŠ å…¥)  r:4
chmod   o      -(é™¤å»)  w:2    file
        a      =(è®¾å®š)  x:1

 chmod  u=rwx,go=rx  .bashrc 
 #æ‹¿æ‰å…¨éƒ¨äººçš„å¯æ‰§è¡Œæƒé™
  chmod  a-x  .bashrc <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="æ–‡ä»¶ä¸ç›®å½•ç®¡ç†"><a href="#æ–‡ä»¶ä¸ç›®å½•ç®¡ç†" class="headerlink" title="æ–‡ä»¶ä¸ç›®å½•ç®¡ç†"></a>æ–‡ä»¶ä¸ç›®å½•ç®¡ç†</h2><h3 id="cp-mv"><a href="#cp-mv" class="headerlink" title="cp,mv"></a>cp,mv</h3><ul>
<li>cp (å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•) </li>
</ul>
<pre class="line-numbers language-shell"><code class="language-shell">[root@study ~]# cp [options] source1 source2 source3 .... directory 
é€‰é¡¹ä¸å‚æ•°ï¼š 
-a  ï¼šç›¸å½“äº -dr --preserve=all çš„æ„æ€ï¼Œè‡³äº dr è¯·å‚è€ƒä¸‹åˆ—è¯´æ˜ï¼›(å¸¸ç”¨) 
-d  ï¼šè‹¥æ¥æºæ–‡ä»¶ä¸ºé“¾æ¥æ–‡ä»¶çš„å±æ€§(link file)ï¼Œåˆ™å¤åˆ¶é“¾æ¥æ–‡ä»¶å±æ€§è€Œéæ–‡ä»¶æœ¬èº«ï¼› 
-f  ï¼šä¸ºå¼ºåˆ¶(force)çš„æ„æ€ï¼Œè‹¥ç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ä¸”æ— æ³•å¼€å¯ï¼Œåˆ™ç§»é™¤åå†å°è¯•ä¸€æ¬¡ï¼› 
-i  ï¼šè‹¥ç›®æ ‡æ–‡ä»¶(destination)å·²ç»å­˜åœ¨æ—¶ï¼Œåœ¨è¦†ç›–æ—¶ä¼šå…ˆè¯¢é—®åŠ¨ä½œçš„è¿›è¡Œ(å¸¸ç”¨) 
-l  ï¼šè¿›è¡Œç¡¬å¼è¿ç»“(hard link)çš„è¿ç»“æ¡£å»ºç«‹ï¼Œè€Œéå¤åˆ¶æ–‡ä»¶æœ¬èº«ï¼› 
-p  ï¼šè¿åŒæ–‡ä»¶çš„å±æ€§(æƒé™ã€ç”¨æˆ·ã€æ—¶é—´)ä¸€èµ·å¤åˆ¶è¿‡å»ï¼Œè€Œéä½¿ç”¨é»˜è®¤å±æ€§(å¤‡ä»½å¸¸ç”¨)ï¼› 
-r  ï¼šé€’å½’æŒç»­å¤åˆ¶ï¼Œç”¨äºç›®å½•çš„å¤åˆ¶è¡Œä¸ºï¼›(å¸¸ç”¨) 
-s  ï¼šå¤åˆ¶æˆä¸ºç¬¦å·é“¾æ¥æ–‡ä»¶ (symbolic link)ï¼Œäº¦å³ã€å¿«æ·æ–¹å¼ã€æ–‡ä»¶ï¼› 
-u  ï¼šdestination æ¯” source æ—§æ‰æ›´æ–° destinationï¼Œæˆ– destination ä¸å­˜åœ¨çš„æƒ…å†µä¸‹æ‰å¤åˆ¶ã€‚ 
--preserve=all ï¼šé™¤äº† -p çš„æƒé™ç›¸å…³å‚æ•°å¤–ï¼Œè¿˜åŠ å…¥ SELinux çš„å±æ€§, links, xattr ç­‰ä¹Ÿå¤åˆ¶äº†ã€‚ 
æœ€åéœ€è¦æ³¨æ„çš„ï¼Œå¦‚æœæ¥æºæ¡£æœ‰ä¸¤ä¸ªä»¥ä¸Šï¼Œåˆ™æœ€åä¸€ä¸ªç›®çš„æ–‡ä»¶ä¸€å®šè¦æ˜¯ã€ç›®å½•ã€æ‰è¡Œï¼ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><p>mv </p>
<pre class="line-numbers language-shell"><code class="language-shell">[root@study ~]# mv [-fiu] source destination 
é€‰é¡¹ä¸å‚æ•°ï¼š 
-f  ï¼šforce å¼ºåˆ¶çš„æ„æ€ï¼Œå¦‚æœç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œä¸ä¼šè¯¢é—®è€Œç›´æ¥è¦†ç›–ï¼› 
-i  ï¼šè‹¥ç›®æ ‡æ–‡ä»¶ (destination) å·²ç»å­˜åœ¨æ—¶ï¼Œå°±ä¼šè¯¢é—®æ˜¯å¦è¦†ç›–ï¼ 
-u  ï¼šè‹¥ç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œä¸” source æ¯”è¾ƒæ–°ï¼Œæ‰ä¼šæ›´æ–° (update) <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h3 id="æ–‡ä»¶åä¸ç›®å½•åç§°"><a href="#æ–‡ä»¶åä¸ç›®å½•åç§°" class="headerlink" title="æ–‡ä»¶åä¸ç›®å½•åç§°"></a>æ–‡ä»¶åä¸ç›®å½•åç§°</h3><pre class="line-numbers language-shell"><code class="language-shell">[root@study ~]# basename /etc/sysconfig/network 
network         <== å¾ˆç®€å•ï¼å°±å–å¾—æœ€åçš„æ¡£åï½ 
[root@study ~]# dirname /etc/sysconfig/network 
/etc/sysconfig  <== å–å¾—çš„å˜æˆç›®å½•åäº†ï¼ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æ–‡ä»¶å†…å®¹æŸ¥é˜…"><a href="#æ–‡ä»¶å†…å®¹æŸ¥é˜…" class="headerlink" title="æ–‡ä»¶å†…å®¹æŸ¥é˜…"></a>æ–‡ä»¶å†…å®¹æŸ¥é˜…</h3><ul>
<li><p>cat [-AbEnTv]  / tacï¼ˆåå‘æ˜¾ç¤ºï¼‰</p>
<pre class="line-numbers language-shell"><code class="language-shell">é€‰é¡¹ä¸å‚æ•°ï¼š 
-A  ï¼šç›¸å½“äº -vET çš„æ•´åˆé€‰é¡¹ï¼Œå¯åˆ—å‡ºä¸€äº›ç‰¹æ®Šå­—ç¬¦è€Œä¸æ˜¯ç©ºç™½è€Œå·²ï¼› 
-b  ï¼šåˆ—å‡ºè¡Œå·ï¼Œä»…é’ˆå¯¹éç©ºç™½è¡Œåšè¡Œå·æ˜¾ç¤ºï¼Œç©ºç™½è¡Œä¸æ ‡è¡Œå·ï¼ 
-E  ï¼šå°†ç»“å°¾çš„æ–­è¡Œå­—ç¬¦ $ æ˜¾ç¤ºå‡ºæ¥ï¼› 
-n  ï¼šæ‰“å°å‡ºè¡Œå·ï¼Œè¿åŒç©ºç™½è¡Œä¹Ÿä¼šæœ‰è¡Œå·ï¼Œä¸ -b çš„é€‰é¡¹ä¸åŒï¼› 
-T  ï¼šå°† [tab] æŒ‰é”®ä»¥ ^I æ˜¾ç¤ºå‡ºæ¥ï¼› 
-v  ï¼šåˆ—å‡ºä¸€äº›çœ‹ä¸å‡ºæ¥çš„ç‰¹æ®Šå­—ç¬¦ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>nl (æ·»åŠ è¡Œå·æ‰“å°) z</p>
<pre class="line-numbers language-shell"><code class="language-shell">[root@study ~]# nl [-bnw] æ–‡ä»¶ 
é€‰é¡¹ä¸å‚æ•°ï¼š 
-b  ï¼šæŒ‡å®šè¡Œå·æŒ‡å®šçš„æ–¹å¼ï¼Œä¸»è¦æœ‰ä¸¤ç§ï¼š 
      -b a ï¼šè¡¨ç¤ºä¸è®ºæ˜¯å¦ä¸ºç©ºè¡Œï¼Œä¹ŸåŒæ ·åˆ—å‡ºè¡Œå·(ç±»ä¼¼ cat -n)ï¼› 
      -b t ï¼šå¦‚æœæœ‰ç©ºè¡Œï¼Œç©ºçš„é‚£ä¸€è¡Œä¸è¦åˆ—å‡ºè¡Œå·(é»˜è®¤å€¼)ï¼› 
-n  ï¼šåˆ—å‡ºè¡Œå·è¡¨ç¤ºçš„æ–¹æ³•ï¼Œä¸»è¦æœ‰ä¸‰ç§ï¼š 
      -n ln ï¼šè¡Œå·åœ¨å±å¹•çš„æœ€å·¦æ–¹æ˜¾ç¤ºï¼› 
      -n rn ï¼šè¡Œå·åœ¨è‡ªå·±å­—æ®µçš„æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”ä¸åŠ  0 ï¼› 
      -n rz ï¼šè¡Œå·åœ¨è‡ªå·±å­—æ®µçš„æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”åŠ  0 ï¼› 
-w  ï¼šè¡Œå·å­—æ®µçš„å ç”¨çš„å­—ç¬¦æ•°ã€‚ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h3 id="æ–‡ä»¶é¢„è®¾æƒé™ï¼šumask"><a href="#æ–‡ä»¶é¢„è®¾æƒé™ï¼šumask" class="headerlink" title="æ–‡ä»¶é¢„è®¾æƒé™ï¼šumask"></a>æ–‡ä»¶é¢„è®¾æƒé™ï¼šumask</h3><pre class="line-numbers language-shell"><code class="language-shell">[root@study ~]# umask 
0022             <==ä¸ä¸€èˆ¬æƒé™æœ‰å…³çš„æ˜¯åé¢ä¸‰ä¸ªæ•°å­—ï¼ 
[root@study ~]# umask -S 
u=rwx,g=rx,o=rx <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æ–‡ä»¶éšè—å±æ€§"><a href="#æ–‡ä»¶éšè—å±æ€§" class="headerlink" title="æ–‡ä»¶éšè—å±æ€§"></a>æ–‡ä»¶éšè—å±æ€§</h3><h4 id="chattr"><a href="#chattr" class="headerlink" title="chattr"></a>chattr</h4><pre class="line-numbers language-shell"><code class="language-shell">[root@study ~]# chattr [+-=][ASacdistu] æ–‡ä»¶æˆ–ç›®å½•åç§° 
é€‰é¡¹ä¸å‚æ•°ï¼š 
+   ï¼šå¢åŠ æŸä¸€ä¸ªç‰¹æ®Šå‚æ•°ï¼Œå…¶ä»–åŸæœ¬å­˜åœ¨å‚æ•°åˆ™ä¸åŠ¨ã€‚ 
-   ï¼šç§»é™¤æŸä¸€ä¸ªç‰¹æ®Šå‚æ•°ï¼Œå…¶ä»–åŸæœ¬å­˜åœ¨å‚æ•°åˆ™ä¸åŠ¨ã€‚ 
=   ï¼šè®¾å®šä¸€å®šï¼Œä¸”ä»…æœ‰åé¢æ¥çš„å‚æ•° 

A  ï¼šå½“è®¾å®šäº† A è¿™ä¸ªå±æ€§æ—¶ï¼Œè‹¥ä½ æœ‰å­˜å–æ­¤æ–‡ä»¶(æˆ–ç›®å½•)æ—¶ï¼Œä»–çš„è®¿é—®æ—¶é—´ atime å°†ä¸ä¼šè¢«ä¿®æ”¹ï¼Œ 
     å¯é¿å… I/O è¾ƒæ…¢çš„æœºå™¨è¿‡åº¦çš„å­˜å–ç£ç›˜ã€‚(ç›®å‰å»ºè®®ä½¿ç”¨æ–‡ä»¶ç³»ç»ŸæŒ‚è½½å‚æ•°å¤„ç†è¿™ä¸ªé¡¹ç›®) 
S  ï¼šä¸€èˆ¬æ–‡ä»¶æ˜¯å¼‚æ­¥å†™å…¥ç£ç›˜çš„(åŸç†è¯·å‚è€ƒå‰ä¸€ç«  sync çš„è¯´æ˜)ï¼Œå¦‚æœåŠ ä¸Š S è¿™ä¸ªå±æ€§æ—¶ï¼Œ 
     å½“ä½ è¿›è¡Œä»»ä½•æ–‡ä»¶çš„ä¿®æ”¹ï¼Œè¯¥æ›´åŠ¨ä¼šã€åŒæ­¥ã€å†™å…¥ç£ç›˜ä¸­ã€‚ 
a  ï¼šå½“è®¾å®š a ä¹‹åï¼Œè¿™ä¸ªæ–‡ä»¶å°†åªèƒ½å¢åŠ æ•°æ®ï¼Œè€Œä¸èƒ½åˆ é™¤ä¹Ÿä¸èƒ½ä¿®æ”¹æ•°æ®ï¼Œåªæœ‰ root æ‰èƒ½è®¾å®šè¿™å±æ€§ 
c  ï¼šè¿™ä¸ªå±æ€§è®¾å®šä¹‹åï¼Œå°†ä¼šè‡ªåŠ¨çš„å°†æ­¤æ–‡ä»¶ã€å‹ç¼©ã€ï¼Œåœ¨è¯»å–çš„æ—¶å€™å°†ä¼šè‡ªåŠ¨è§£å‹ç¼©ï¼Œ 
     ä½†æ˜¯åœ¨å‚¨å­˜çš„æ—¶å€™ï¼Œå°†ä¼šå…ˆè¿›è¡Œå‹ç¼©åå†å‚¨å­˜(çœ‹æ¥å¯¹äºå¤§æ–‡ä»¶ä¼¼ä¹è›®æœ‰ç”¨çš„ï¼) 
d  ï¼šå½“ dump ç¨‹åºè¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œè®¾å®š d å±æ€§å°†å¯ä½¿è¯¥æ–‡ä»¶(æˆ–ç›®å½•)ä¸ä¼šè¢« dump å¤‡ä»½ 
i  ï¼šè¿™ä¸ª i å¯å°±å¾ˆå‰å®³äº†ï¼ä»–å¯ä»¥è®©ä¸€ä¸ªæ–‡ä»¶ã€ä¸èƒ½è¢«åˆ é™¤ã€æ”¹åã€è®¾å®šè¿ç»“ä¹Ÿæ— æ³•å†™å…¥æˆ–æ–°å¢æ•°æ®ï¼ã€ 
     å¯¹äºç³»ç»Ÿå®‰å…¨æ€§æœ‰ç›¸å½“å¤§çš„å¸®åŠ©ï¼åªæœ‰ root èƒ½è®¾å®šæ­¤å±æ€§ 
s  ï¼šå½“æ–‡ä»¶è®¾å®šäº† s å±æ€§æ—¶ï¼Œå¦‚æœè¿™ä¸ªæ–‡ä»¶è¢«åˆ é™¤ï¼Œä»–å°†ä¼šè¢«å®Œå…¨çš„ç§»é™¤å‡ºè¿™ä¸ªç¡¬ç›˜ç©ºé—´ï¼Œ 
     æ‰€ä»¥å¦‚æœè¯¯åˆ äº†ï¼Œå®Œå…¨æ— æ³•æ•‘å›æ¥äº†å–”ï¼ 
u  ï¼šä¸ s ç›¸åçš„ï¼Œå½“ä½¿ç”¨ u æ¥é…ç½®æ–‡ä»¶æ¡ˆæ—¶ï¼Œå¦‚æœè¯¥æ–‡ä»¶è¢«åˆ é™¤äº†ï¼Œåˆ™æ•°æ®å†…å®¹å…¶å®è¿˜å­˜åœ¨ç£ç›˜ä¸­ï¼Œ 
     å¯ä»¥ä½¿ç”¨æ¥æ•‘æ´è¯¥æ–‡ä»¶å–”ï¼ 
æ³¨æ„ 1ï¼šå±æ€§è®¾å®šå¸¸è§çš„æ˜¯ a ä¸ i çš„è®¾å®šå€¼ï¼Œè€Œä¸”å¾ˆå¤šè®¾å®šå€¼å¿…é¡»è¦èº«ä¸º root æ‰èƒ½è®¾å®š 
æ³¨æ„ 2ï¼šxfs æ–‡ä»¶ç³»ç»Ÿä»…æ”¯æ´ AadiS è€Œå·² 
èŒƒä¾‹ï¼šè¯·å°è¯•åˆ°/tmp åº•ä¸‹å»ºç«‹æ–‡ä»¶ï¼Œå¹¶åŠ å…¥ i çš„å‚æ•°ï¼Œå°è¯•åˆ é™¤çœ‹çœ‹ã€‚ 

[root@study ~]# cd /tmp 
[root@study tmp]# touch attrtest     <==å»ºç«‹ä¸€ä¸ªç©ºæ–‡ä»¶ 
[root@study tmp]# chattr +i attrtest <==ç»™äºˆ i çš„å±æ€§ 
[root@study tmp]# rm attrtest        <==å°è¯•åˆ é™¤çœ‹çœ‹ 
rm: remove regular empty file `attrtest'? y 
rm: cannot remove `attrtest': Operation not permitted 
# çœ‹åˆ°äº†å—ï¼Ÿå‘¼å‘¼ï¼è¿ root ä¹Ÿæ²¡æœ‰åŠæ³•å°†è¿™ä¸ªæ–‡ä»¶åˆ é™¤å‘¢ï¼èµ¶ç´§è§£é™¤è®¾å®šï¼ 

èŒƒä¾‹ï¼šè¯·å°†è¯¥æ–‡ä»¶çš„ i å±æ€§å–æ¶ˆï¼ 
[root@study tmp]# chattr -i attrtest <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="lsattr-æ˜¾ç¤ºæ–‡ä»¶éšè—å±æ€§"><a href="#lsattr-æ˜¾ç¤ºæ–‡ä»¶éšè—å±æ€§" class="headerlink" title="lsattr (æ˜¾ç¤ºæ–‡ä»¶éšè—å±æ€§)"></a>lsattr (æ˜¾ç¤ºæ–‡ä»¶éšè—å±æ€§)</h4><pre class="line-numbers language-shell"><code class="language-shell">[root@study ~]# lsattr [-adR] æ–‡ä»¶æˆ–ç›®å½• 
é€‰é¡¹ä¸å‚æ•°ï¼š 
-a ï¼šå°†éšè—æ–‡ä»¶çš„å±æ€§ä¹Ÿç§€å‡ºæ¥ï¼› 
-d ï¼šå¦‚æœæ¥çš„æ˜¯ç›®å½•ï¼Œä»…åˆ—å‡ºç›®å½•æœ¬èº«çš„å±æ€§è€Œéç›®å½•å†…çš„æ–‡ä»¶åï¼› 
-R ï¼šè¿åŒå­ç›®å½•çš„æ•°æ®ä¹Ÿä¸€å¹¶åˆ—å‡ºæ¥ï¼  

[root@study tmp]# chattr +aiS attrtest 
[root@study tmp]# lsattr attrtest 
--S-ia---------- attrtest <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æ–‡ä»¶ç‰¹æ®Šæƒé™ï¼š"><a href="#æ–‡ä»¶ç‰¹æ®Šæƒé™ï¼š" class="headerlink" title="æ–‡ä»¶ç‰¹æ®Šæƒé™ï¼š"></a>æ–‡ä»¶ç‰¹æ®Šæƒé™ï¼š</h3><p><code>-rwsr-xr-x</code> Set UID </p>
<ul>
<li>äºŒè¿›åˆ¶å¯æ‰§è¡Œ</li>
<li>è¿è¡Œæ‹¥æœ‰owneræƒé™</li>
</ul>
<blockquote>
<p>SUID  ä»…å¯ç”¨åœ¨ binary program  ä¸Šï¼Œ  ä¸èƒ½å¤Ÿç”¨åœ¨  shell script  ä¸Šé¢ï¼</p>
</blockquote>
<p><code>-rwx--s--x.</code> Set GID </p>
<ul>
<li>äºŒè¿›åˆ¶å¯æ‰§è¡Œ</li>
<li>è¿è¡Œæ‹¥æœ‰Groupæƒé™</li>
</ul>
<p><code>drwxrwxrwt</code>  Sticky Bit ç›®å½•æœ‰æ•ˆï¼Œæ–‡ä»¶æ— æ•ˆ</p>
<ul>
<li>ç”¨æˆ·å…·æœ‰w,x</li>
<li>å½“ç”¨æˆ·åœ¨è¯¥ç›®å½•ä¸‹å»ºç«‹æ–‡ä»¶æˆ–ç›®å½•æ—¶ï¼Œä»…æœ‰è‡ªå·±ä¸  root  æ‰æœ‰æƒåŠ›åˆ é™¤è¯¥æ–‡ä»¶</li>
</ul>
<pre class="line-numbers language-shell"><code class="language-shell">4  ä¸º  SUID 
2  ä¸º  SGID 
1  ä¸º  SBIT 
file è®¾ç½® -rwsr-xr-x ==> chmod 4755 filename (4 + 755) <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-shell"><code class="language-shell">[root@study tmp]# chmod 6755 test; ls -l test <==åŠ å…¥å…·æœ‰ SUID/SGID çš„æƒé™ 
-rwsr-sr-x 1 root root 0 Jun 16 02:53 test 
[root@study tmp]# chmod 1755 test; ls -l test <==åŠ å…¥ SBIT çš„åŠŸèƒ½ï¼ 
-rwxr-xr-t 1 root root 0 Jun 16 02:53 test 
[root@study tmp]# chmod 7666 test; ls -l test <==å…·æœ‰ç©ºçš„ SUID/SGID æƒé™ 
-rwSrwSrwT 1 root root 0 Jun 16 02:53 test 

SUID  ä¸º  u+s  ï¼Œè€Œ  SGID  ä¸º  g+s  ï¼ŒSBIT åˆ™æ˜¯  o+t 

# è®¾å®šæƒé™æˆä¸º -rws--x--x çš„æ¨¡æ ·ï¼š 
[root@study tmp]# chmod u=rwxs,go=x test; ls -l test 
-rws--x--x 1 root root 0 Jun 16 02:53 test 

# æ‰¿ä¸Šï¼ŒåŠ ä¸Š SGID ä¸ SBIT åœ¨ä¸Šè¿°çš„æ–‡ä»¶æƒé™ä¸­ï¼ 
[root@study tmp]# chmod g+s,o+t test; ls -l test 
-rws--s--t 1 root root 0 Jun 16 02:53 test <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="è„šæœ¬æ–‡ä»¶åçš„æœå¯»"><a href="#è„šæœ¬æ–‡ä»¶åçš„æœå¯»" class="headerlink" title="è„šæœ¬æ–‡ä»¶åçš„æœå¯»"></a>è„šæœ¬æ–‡ä»¶åçš„æœå¯»</h2><h3 id="which-å¯»æ‰¾ã€æ‰§è¡Œæ¡£ã€"><a href="#which-å¯»æ‰¾ã€æ‰§è¡Œæ¡£ã€" class="headerlink" title="which (å¯»æ‰¾ã€æ‰§è¡Œæ¡£ã€)"></a>which (å¯»æ‰¾ã€æ‰§è¡Œæ¡£ã€)</h3><pre class="line-numbers language-shell"><code class="language-shell">[root@study ~]# which [-a] command 
é€‰é¡¹æˆ–å‚æ•°ï¼š 
-a ï¼šå°†æ‰€æœ‰ç”± PATH ç›®å½•ä¸­å¯ä»¥æ‰¾åˆ°çš„æŒ‡ä»¤å‡åˆ—å‡ºï¼Œè€Œä¸æ­¢ç¬¬ä¸€ä¸ªè¢«æ‰¾åˆ°çš„æŒ‡ä»¤åç§° <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="whereis-ç”±ä¸€äº›ç‰¹å®šçš„ç›®å½•ä¸­å¯»æ‰¾æ–‡ä»¶æ–‡ä»¶å"><a href="#whereis-ç”±ä¸€äº›ç‰¹å®šçš„ç›®å½•ä¸­å¯»æ‰¾æ–‡ä»¶æ–‡ä»¶å" class="headerlink" title="whereis (ç”±ä¸€äº›ç‰¹å®šçš„ç›®å½•ä¸­å¯»æ‰¾æ–‡ä»¶æ–‡ä»¶å)"></a>whereis (ç”±ä¸€äº›ç‰¹å®šçš„ç›®å½•ä¸­å¯»æ‰¾æ–‡ä»¶æ–‡ä»¶å)</h3><blockquote>
<p>åªæ‰¾ç³»ç»Ÿä¸­æŸäº›ç‰¹å®šç›®å½•åº•ä¸‹çš„æ–‡ä»¶</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">[root@study ~]# whereis [-bmsu] æ–‡ä»¶æˆ–ç›®å½•å 
é€‰é¡¹ä¸å‚æ•°ï¼š 
-l    :å¯ä»¥åˆ—å‡º whereis ä¼šå»æŸ¥è¯¢çš„å‡ ä¸ªä¸»è¦ç›®å½•è€Œå·² 
-b    :åªæ‰¾ binary æ ¼å¼çš„æ–‡ä»¶ 
-m    :åªæ‰¾åœ¨è¯´æ˜æ–‡ä»¶ manual è·¯å¾„ä¸‹çš„æ–‡ä»¶ 
-s    :åªæ‰¾ source æ¥æºæ–‡ä»¶ 
-u    :æœå¯»ä¸åœ¨ä¸Šè¿°ä¸‰ä¸ªé¡¹ç›®å½“ä¸­çš„å…¶ä»–ç‰¹æ®Šæ–‡ä»¶ 

èŒƒä¾‹ä¸€ï¼šè¯·æ‰¾å‡º ifconfig è¿™ä¸ªæ¡£å 
[root@study ~]# whereis ifconfig  
ifconfig: /sbin/ifconfig /usr/share/man/man8/ifconfig.8.gz 

èŒƒä¾‹äºŒï¼šåªæ‰¾å‡ºè·Ÿ passwd æœ‰å…³çš„ã€è¯´æ˜æ–‡ä»¶ã€æ¡£å(man page) 
[root@study ~]# whereis passwd     # å…¨éƒ¨çš„æ¡£åé€šé€šåˆ—å‡ºæ¥ï¼ 
passwd: /usr/bin/passwd /etc/passwd /usr/share/man/man1/passwd.1.gz 
/usr/share/man/man5/passwd.5.gz 
[root@study ~]# whereis -m passwd  # åªæœ‰åœ¨ man é‡Œé¢çš„æ¡£åæ‰æŠ“å‡ºæ¥ï¼ 
passwd: /usr/share/man/man1/passwd.1.gz /usr/share/man/man5/passwd.5.gz <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="locate-updatedb"><a href="#locate-updatedb" class="headerlink" title="locate / updatedb"></a>locate / updatedb</h3><blockquote>
<p>æ˜¯åˆ©ç”¨æ•°æ®åº“æ¥æœå¯»æ–‡ä»¶å,ã€å·²å»ºç«‹çš„æ•°æ®åº“  /var/lib/mlocate/</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">[root@study ~]# locate [-ir] keyword 
é€‰é¡¹ä¸å‚æ•°ï¼š 
-i  ï¼šå¿½ç•¥å¤§å°å†™çš„å·®å¼‚ï¼› 
-c  ï¼šä¸è¾“å‡ºæ¡£åï¼Œä»…è®¡ç®—æ‰¾åˆ°çš„æ–‡ä»¶æ•°é‡ 
-l  ï¼šä»…è¾“å‡ºå‡ è¡Œçš„æ„æ€ï¼Œä¾‹å¦‚è¾“å‡ºäº”è¡Œåˆ™æ˜¯ -l 5 
-S  ï¼šè¾“å‡º locate æ‰€ä½¿ç”¨çš„æ•°æ®åº“æ–‡ä»¶çš„ç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¯¥æ•°æ®åº“çºªå½•çš„æ–‡ä»¶/ç›®å½•æ•°é‡ç­‰ 
-r  ï¼šåé¢å¯æ¥æ­£è§„è¡¨ç¤ºæ³•çš„æ˜¾ç¤ºæ–¹å¼ 

èŒƒä¾‹ä¸€ï¼šæ‰¾å‡ºç³»ç»Ÿä¸­æ‰€æœ‰ä¸ passwd ç›¸å…³çš„æ¡£åï¼Œä¸”åªåˆ—å‡º 5 ä¸ª 
[root@study ~]# locate -l 5 passwd 
/etc/passwd 
/etc/passwd- 
/etc/pam.d/passwd 
/etc/security/opasswd 
/usr/bin/gpasswd 

èŒƒä¾‹äºŒï¼šåˆ—å‡º locate æŸ¥è¯¢æ‰€ä½¿ç”¨çš„æ•°æ®åº“æ–‡ä»¶ä¹‹æ–‡ä»¶åä¸å„æ•°æ®æ•°é‡ 
[root@study ~]# locate -S 
Database /var/lib/mlocate/mlocate.db: 
        8,086 directories     # æ€»çºªå½•ç›®å½•æ•° 
        109,605 files         # æ€»çºªå½•æ–‡ä»¶æ•° 
        5,190,295 bytes in file names 
        2,349,150 bytes used to store database <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>updatedb   æ›´æ–°æ•°æ®åº“ï¼Œ updatedb  æŒ‡ä»¤ä¼šå»è¯»å–  /etc/updatedb.conf  è¿™ä¸ªé…ç½®æ–‡ä»¶çš„è®¾å®š</p>
<h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><ul>
<li><p>æ—¶é—´ç›¸å…³</p>
<pre class="line-numbers language-shell"><code class="language-shell">[root@study ~]# find [PATH] [option] [action] 
é€‰é¡¹ä¸å‚æ•°ï¼š 
1. ä¸æ—¶é—´æœ‰å…³çš„é€‰é¡¹ï¼šå…±æœ‰ -atime, -ctime ä¸ -mtime ï¼Œä»¥ -mtime è¯´æ˜ 
   -mtime  n ï¼šn ä¸ºæ•°å­—ï¼Œæ„ä¹‰ä¸ºåœ¨ n å¤©ä¹‹å‰çš„ã€ä¸€å¤©ä¹‹å†…ã€è¢«æ›´åŠ¨è¿‡å†…å®¹çš„æ–‡ä»¶ï¼› 
   -mtime +n ï¼šåˆ—å‡ºåœ¨ n å¤©ä¹‹å‰(ä¸å« n å¤©æœ¬èº«)è¢«æ›´åŠ¨è¿‡å†…å®¹çš„æ–‡ä»¶æ¡£åï¼› 
   -mtime -n ï¼šåˆ—å‡ºåœ¨ n å¤©ä¹‹å†…(å« n å¤©æœ¬èº«)è¢«æ›´åŠ¨è¿‡å†…å®¹çš„æ–‡ä»¶æ¡£åã€‚ 
   -newer file ï¼šfile ä¸ºä¸€ä¸ªå­˜åœ¨çš„æ–‡ä»¶ï¼Œåˆ—å‡ºæ¯” file è¿˜è¦æ–°çš„æ–‡ä»¶æ¡£å 

èŒƒä¾‹ä¸€ï¼šå°†è¿‡å»ç³»ç»Ÿä¸Šé¢ 24 å°æ—¶å†…æœ‰æ›´åŠ¨è¿‡å†…å®¹ (mtime) çš„æ–‡ä»¶åˆ—å‡º 
[root@study ~]# find / -mtime 0 
# é‚£ä¸ª 0 æ˜¯é‡ç‚¹ï¼0 ä»£è¡¨ç›®å‰çš„æ—¶é—´ï¼Œæ‰€ä»¥ï¼Œä»ç°åœ¨å¼€å§‹åˆ° 24 å°æ—¶å‰ï¼Œ 
# æœ‰å˜åŠ¨è¿‡å†…å®¹çš„æ–‡ä»¶éƒ½ä¼šè¢«åˆ—å‡ºæ¥ï¼é‚£å¦‚æœæ˜¯ä¸‰å¤©å‰çš„ 24 å°æ—¶å†…ï¼Ÿ 
# find / -mtime 3 æœ‰å˜åŠ¨è¿‡çš„æ–‡ä»¶éƒ½è¢«åˆ—å‡ºçš„æ„æ€ï¼ 

èŒƒä¾‹äºŒï¼šå¯»æ‰¾ /etc åº•ä¸‹çš„æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶æ—¥æœŸæ¯” /etc/passwd æ–°å°±åˆ—å‡º 
[root@study ~]# find /etc -newer /etc/passwd 
# -newer ç”¨åœ¨åˆ†è¾¨ä¸¤ä¸ªæ–‡ä»¶ä¹‹é—´çš„æ–°æ—§å…³ç³»æ˜¯å¾ˆæœ‰ç”¨çš„ï¼ 

èŒƒä¾‹ä¸‰ï¼š
  4 åˆ™æ˜¯ä»£è¡¨ 4-5 é‚£ä¸€å¤©çš„æ–‡ä»¶æ¡£åï¼šex> find /var -mtime 4 
  -4 ä»£è¡¨å°äºç­‰äº 4 å¤©å†…çš„æ–‡ä»¶æ¡£åï¼šex> find /var -mtime -4 
  +4 ä»£è¡¨å¤§äºç­‰äº 5 å¤©å‰çš„æª”åï¼šex> find /var -mtime +4<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>ç”¨æˆ·ç›¸å…³</p>
<pre class="line-numbers language-shell"><code class="language-shell">é€‰é¡¹ä¸å‚æ•°ï¼š 
2. ä¸ä½¿ç”¨è€…æˆ–ç»„åæœ‰å…³çš„å‚æ•°ï¼š 
   -uid n ï¼šn ä¸ºæ•°å­—ï¼Œè¿™ä¸ªæ•°å­—æ˜¯ç”¨æˆ·çš„è´¦å· IDï¼Œäº¦å³ UID ï¼Œè¿™ä¸ª UID æ˜¯è®°å½•åœ¨ 
            /etc/passwd é‡Œé¢ä¸è´¦å·åç§°å¯¹åº”çš„æ•°å­—ã€‚è¿™æ–¹é¢æˆ‘ä»¬ä¼šåœ¨ç¬¬å››ç¯‡ä»‹ç»ã€‚ 
   -gid n ï¼šn ä¸ºæ•°å­—ï¼Œè¿™ä¸ªæ•°å­—æ˜¯ç»„åçš„ IDï¼Œäº¦å³ GIDï¼Œè¿™ä¸ª GID è®°å½•åœ¨ 
            /etc/groupï¼Œç›¸å…³çš„ä»‹ç»æˆ‘ä»¬ä¼šç¬¬å››ç¯‡è¯´æ˜ï½ 
   -user name ï¼šname ä¸ºä½¿ç”¨è€…è´¦å·åç§°å–”ï¼ä¾‹å¦‚ dmtsai  
   -group nameï¼šname ä¸ºç»„åå–”ï¼Œä¾‹å¦‚ users ï¼› 
   -nouser    ï¼šå¯»æ‰¾æ–‡ä»¶çš„æ‹¥æœ‰è€…ä¸å­˜åœ¨ /etc/passwd çš„äººï¼ 
   -nogroup   ï¼šå¯»æ‰¾æ–‡ä»¶çš„æ‹¥æœ‰ç¾¤ç»„ä¸å­˜åœ¨äº /etc/group çš„æ–‡ä»¶ï¼ 
                å½“ä½ è‡ªè¡Œå®‰è£…è½¯ä»¶æ—¶ï¼Œå¾ˆå¯èƒ½è¯¥è½¯ä»¶çš„å±æ€§å½“ä¸­å¹¶æ²¡æœ‰æ–‡ä»¶æ‹¥æœ‰è€…ï¼Œ 
                è¿™æ˜¯å¯èƒ½çš„ï¼åœ¨è¿™ä¸ªæ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨ -nouser ä¸ -nogroup æœå¯»ã€‚ 

èŒƒä¾‹ä¸‰ï¼šæœå¯» /home åº•ä¸‹å±äº dmtsai çš„æ–‡ä»¶ 
[root@study ~]# find /home -user dmtsai 
# è¿™ä¸ªä¸œè¥¿ä¹Ÿå¾ˆæœ‰ç”¨çš„ï½å½“æˆ‘ä»¬è¦æ‰¾å‡ºä»»ä½•ä¸€ä¸ªç”¨æˆ·åœ¨ç³»ç»Ÿå½“ä¸­çš„æ‰€æœ‰æ–‡ä»¶æ—¶ï¼Œ 
# å°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªæŒ‡ä»¤å°†å±äºæŸä¸ªä½¿ç”¨è€…çš„æ‰€æœ‰æ–‡ä»¶éƒ½æ‰¾å‡ºæ¥å–”ï¼ 

èŒƒä¾‹å››ï¼šæœå¯»ç³»ç»Ÿä¸­ä¸å±äºä»»ä½•äººçš„æ–‡ä»¶ 
[root@study ~]# find / -nouser 
# é€è¿‡è¿™ä¸ªæŒ‡ä»¤ï¼Œå¯ä»¥è½»æ˜“çš„å°±æ‰¾å‡ºé‚£äº›ä¸å¤ªæ­£å¸¸çš„æ–‡ä»¶ã€‚å¦‚æœæœ‰æ‰¾åˆ°ä¸å±äºç³»ç»Ÿä»»ä½•äººçš„æ–‡ä»¶æ—¶ï¼Œ 
# ä¸è¦å¤ªç´§å¼ ï¼Œé‚£æœ‰æ—¶å€™æ˜¯æ­£å¸¸çš„ï½å°¤å…¶æ˜¯ä½ æ›¾ç»ä»¥åŸå§‹ç è‡ªè¡Œç¼–è¯‘è½¯ä»¶æ—¶ã€‚ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>æ–‡ä»¶ç±»å‹</p>
<pre class="line-numbers language-shell"><code class="language-shell">3. ä¸æ–‡ä»¶æƒé™åŠåç§°æœ‰å…³çš„å‚æ•°ï¼š 
   -name filenameï¼šæœå¯»æ–‡ä»¶åä¸º filename çš„æ–‡ä»¶ï¼› 
   -size [+-]SIZEï¼šæœå¯»æ¯” SIZE è¿˜è¦å¤§(+)æˆ–å°(-)çš„æ–‡ä»¶ã€‚è¿™ä¸ª SIZE çš„è§„æ ¼æœ‰ï¼š 
                   c: ä»£è¡¨ byteï¼Œ k: ä»£è¡¨ 1024bytesã€‚æ‰€ä»¥ï¼Œè¦æ‰¾æ¯” 50KB 
                   è¿˜è¦å¤§çš„æ–‡ä»¶ï¼Œå°±æ˜¯ã€ -size +50k ã€ 
   -type TYPE    ï¼šæœå¯»æ–‡ä»¶çš„ç±»å‹ä¸º TYPE çš„ï¼Œç±»å‹ä¸»è¦æœ‰ï¼šä¸€èˆ¬æ­£è§„æ–‡ä»¶ (f), è£…ç½®æ–‡ä»¶ (b, c), 
                   ç›®å½• (d), è¿ç»“æ¡£ (l), socket (s), åŠ FIFO (p) ç­‰å±æ€§ã€‚ 
   -perm mode  ï¼šæœå¯»æ–‡ä»¶æƒé™ã€åˆšå¥½ç­‰äºã€ mode çš„æ–‡ä»¶ï¼Œè¿™ä¸ª mode ä¸ºç±»ä¼¼ chmod 
                 çš„å±æ€§å€¼ï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œ -rwsr-xr-x çš„å±æ€§ä¸º 4755 ï¼ 
   -perm -mode ï¼šæœå¯»æ–‡ä»¶æƒé™ã€å¿…é¡»è¦å…¨éƒ¨å›Šæ‹¬ mode çš„æƒé™ã€çš„æ–‡ä»¶ï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œ                  æˆ‘ä»¬è¦æœå¯» -rwxr--r-- ï¼Œäº¦å³ 0744 çš„æ–‡ä»¶ï¼Œä½¿ç”¨ -perm -0744ï¼Œ 
                 å½“ä¸€ä¸ªæ–‡ä»¶çš„æƒé™ä¸º -rwsr-xr-x ï¼Œäº¦å³ 4755 æ—¶ï¼Œä¹Ÿä¼šè¢«åˆ—å‡ºæ¥ï¼Œ 
                 å› ä¸º -rwsr-xr-x çš„å±æ€§å·²ç»å›Šæ‹¬äº† -rwxr--r-- çš„å±æ€§äº†ã€‚ 
   -perm /mode ï¼šæœå¯»æ–‡ä»¶æƒé™ã€åŒ…å«ä»»ä¸€ mode çš„æƒé™ã€çš„æ–‡ä»¶ï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ä»¬æœå¯» 
                 -rwxr-xr-x ï¼Œäº¦å³ -perm /755 æ—¶ï¼Œä½†ä¸€ä¸ªæ–‡ä»¶å±æ€§ä¸º -rw------- 
                 ä¹Ÿä¼šè¢«åˆ—å‡ºæ¥ï¼Œå› ä¸ºä»–æœ‰ -rw.... çš„å±æ€§å­˜åœ¨ï¼ 

èŒƒä¾‹äº”ï¼šæ‰¾å‡ºæ¡£åä¸º passwd è¿™ä¸ªæ–‡ä»¶ 
[root@study ~]# find / -name passwd 

èŒƒä¾‹äº”-1ï¼šæ‰¾å‡ºæ–‡ä»¶ååŒ…å«äº† passwd è¿™ä¸ªå…³é”®è¯çš„æ–‡ä»¶ 
[root@study ~]# find / -name "*passwd*" 
# åˆ©ç”¨è¿™ä¸ª -name å¯ä»¥æœå¯»æ¡£åå•Šï¼é»˜è®¤æ˜¯å®Œæ•´æ–‡ä»¶åï¼Œå¦‚æœæƒ³è¦æ‰¾å…³é”®è¯ï¼Œ 
# å¯ä»¥ä½¿ç”¨ç±»ä¼¼ * çš„ä»»æ„å­—ç¬¦æ¥å¤„ç† 

èŒƒä¾‹å…­ï¼šæ‰¾å‡º /run ç›®å½•ä¸‹ï¼Œæ–‡ä»¶ç±»å‹ä¸º Socket çš„æª”åæœ‰å“ªäº›ï¼Ÿ 
[root@study ~]# find /run -type s 
# è¿™ä¸ª -type çš„å±æ€§ä¹Ÿå¾ˆæœ‰å¸®åŠ©å–”ï¼å°¤å…¶æ˜¯è¦æ‰¾å‡ºé‚£äº›æ€ªå¼‚çš„æ–‡ä»¶ï¼Œ 
# ä¾‹å¦‚ socket ä¸ FIFO æ–‡ä»¶ï¼Œå¯ä»¥ç”¨ find /run -type p æˆ– -type s æ¥æ‰¾ï¼ 

èŒƒä¾‹ä¸ƒï¼šæœå¯»æ–‡ä»¶å½“ä¸­å«æœ‰ SGID æˆ– SUID æˆ– SBIT çš„å±æ€§ 
[root@study ~]# find / -perm /7000  
# æ‰€è°“çš„ 7000 å°±æ˜¯ ---s--s--t ï¼Œé‚£ä¹ˆåªè¦å«æœ‰ s æˆ– t çš„å°±åˆ—å‡ºï¼Œæ‰€ä»¥å½“ç„¶è¦ä½¿ç”¨ /7000ï¼Œ 
# ä½¿ç”¨ -7000 è¡¨ç¤ºè¦åŒæ—¶å«æœ‰ ---s--s--t çš„æ‰€æœ‰ä¸‰ä¸ªæƒé™ã€‚è€Œåªéœ€è¦ä»»æ„ä¸€ä¸ªï¼Œå°±æ˜¯ /7000 ï½ç­ä¹ï¼Ÿ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>é¢~å¤–å¯è¿›è¡Œçš„åŠ¨ä½œï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">4. é¢å¤–å¯è¿›è¡Œçš„åŠ¨ä½œï¼š 
   -exec command ï¼šcommand ä¸ºå…¶ä»–æŒ‡ä»¤ï¼Œ-exec åé¢å¯å†æ¥é¢å¤–çš„æŒ‡ä»¤æ¥å¤„ç†æœå¯»åˆ°çš„ç»“æœã€‚ 
   -print        ï¼šå°†ç»“æœæ‰“å°åˆ°å±å¹•ä¸Šï¼Œè¿™ä¸ªåŠ¨ä½œæ˜¯é¢„è®¾åŠ¨ä½œï¼ 

èŒƒä¾‹å…«ï¼šå°†ä¸Šä¸ªèŒƒä¾‹æ‰¾åˆ°çš„æ–‡ä»¶ä½¿ç”¨ ls -l åˆ—å‡ºæ¥ï½ 
[root@study ~]# find /usr/bin /usr/sbin -perm /7000 -exec ls -l {} \; 
# æ³¨æ„åˆ°ï¼Œé‚£ä¸ª -exec åé¢çš„ ls -l å°±æ˜¯é¢å¤–çš„æŒ‡ä»¤ï¼ŒæŒ‡ä»¤ä¸æ”¯æŒå‘½ä»¤åˆ«åï¼Œ 
# æ‰€ä»¥ä»…èƒ½ä½¿ç”¨ ls -l ä¸å¯ä»¥ä½¿ç”¨ ll å–”ï¼æ³¨æ„æ³¨æ„ï¼ 

èŒƒä¾‹ä¹ï¼šæ‰¾å‡ºç³»ç»Ÿä¸­ï¼Œå¤§äº 1MB çš„æ–‡ä»¶ 
[root@study ~]# find / -size +1M <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h1 id="ç¬¬ä¸ƒç« ã€Linuxç£ç›˜ä¸æ–‡ä»¶ç³»ç»Ÿ"><a href="#ç¬¬ä¸ƒç« ã€Linuxç£ç›˜ä¸æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="ç¬¬ä¸ƒç« ã€Linuxç£ç›˜ä¸æ–‡ä»¶ç³»ç»Ÿ"></a>ç¬¬ä¸ƒç« ã€Linuxç£ç›˜ä¸æ–‡ä»¶ç³»ç»Ÿ</h1><h2 id="EXT2-inode"><a href="#EXT2-inode" class="headerlink" title="EXT2 inode"></a>EXT2 inode</h2><ul>
<li><p>dumpe2fsï¼š  æŸ¥è¯¢  Ext  å®¶æ—  superblock  ä¿¡æ¯çš„æŒ‡ä»¤ </p>
<pre class="line-numbers language-shell"><code class="language-shell">[root@study ~]# dumpe2fs [-bh] è£…ç½®æ–‡ä»¶å 
é€‰é¡¹ä¸å‚æ•°ï¼š 
-b ï¼šåˆ—å‡ºä¿ç•™ä¸ºåè½¨çš„éƒ¨åˆ†(ä¸€èˆ¬ç”¨ä¸åˆ°å§ï¼ï¼Ÿ) 
-h ï¼šä»…åˆ—å‡º superblock çš„æ•°æ®ï¼Œä¸ä¼šåˆ—å‡ºå…¶ä»–çš„åŒºæ®µå†…å®¹ï¼ 

èŒƒä¾‹ï¼šé¸Ÿå“¥çš„ä¸€å— 1GB ext4 æ–‡ä»¶ç³»ç»Ÿå†…å®¹ 
[root@study ~]# blkid   <==è¿™ä¸ªæŒ‡ä»¤å¯ä»¥å«å‡ºç›®å‰ç³»ç»Ÿæœ‰è¢«æ ¼å¼åŒ–çš„è£…ç½® 

/dev/vda3: UUID="12y99K-bv2A-y7RY-jhEW-rIWf-PcH5-SaiApN" TYPE="LVM2_member" 
/dev/vda5: UUID="e20d65d9-20d4-472f-9f91-cdcfb30219d6" TYPE="ext4"  <==çœ‹åˆ° ext4 äº†ï¼ 

[root@study ~]# dumpe2fs /dev/vda5 
dumpe2fs 1.42.9 (28-Dec-2013) 
Filesystem volume name:   <none>           # æ–‡ä»¶ç³»ç»Ÿçš„åç§°(ä¸ä¸€å®šä¼šæœ‰) 
Last mounted on:          <not available>  # ä¸Šä¸€æ¬¡æŒ‚è½½çš„ç›®å½•ä½ç½® 
Filesystem UUID:          e20d65d9-20d4-472f-9f91-cdcfb30219d6 
Filesystem magic number:  0xEF53           # ä¸Šæ–¹çš„ UUID ä¸º Linux å¯¹è£…ç½®çš„å®šä¹‰ç  
Filesystem revision #:    1 (dynamic)      # ä¸‹æ–¹çš„ features ä¸ºæ–‡ä»¶ç³»ç»Ÿçš„ç‰¹å¾æ•°æ® 
Filesystem features:      has_journal ext_attr resize_inode dir_index filetype extent 64bit  
 flex_bg sparse_super large_file huge_file uninit_bg dir_nlink extra_isize 
Filesystem flags:         signed_directory_hash 
Default mount options:    user_xattr acl   # é¢„è®¾åœ¨æŒ‚è½½æ—¶ä¼šä¸»åŠ¨åŠ ä¸Šçš„æŒ‚è½½å‚æ•° 
Filesystem state:         clean            # è¿™å—æ–‡ä»¶ç³»ç»Ÿçš„çŠ¶æ€ä¸ºä½•ï¼Œclean æ˜¯æ²¡é—®é¢˜ 
Errors behavior:          Continue 
Filesystem OS type:       Linux 
Inode count:              65536            # inode çš„æ€»æ•° 
Block count:              262144           # block çš„æ€»æ•° 
Reserved block count:     13107            # ä¿ç•™çš„ block æ€»æ•° 
Free blocks:              249189           # è¿˜æœ‰å¤šå°‘çš„ block å¯ç”¨æ•°é‡ 
Free inodes:              65525            # è¿˜æœ‰å¤šå°‘çš„ inode å¯ç”¨æ•°é‡ 
First block:              0 
Block size:               4096             # å•ä¸ª block çš„å®¹é‡å¤§å° 
Fragment size:            4096 
Group descriptor size:    64 
....(ä¸­é—´çœç•¥).... 
Inode size:               256              # inode çš„å®¹é‡å¤§å°ï¼å·²ç»æ˜¯ 256 äº†å–”ï¼ 
....(ä¸­é—´çœç•¥).... 
Journal inode:            8 
Default directory hash:   half_md4 
Directory Hash Seed:      3c2568b4-1a7e-44cf-95a2-c8867fb19fbc 
Journal backup:           inode blocks 
Journal features:         (none) 
Journal size:             32M              # Journal æ—¥å¿—å¼æ•°æ®çš„å¯ä¾›çºªå½•æ€»å®¹é‡ 
Journal length:           8192 
Journal sequence:         0x00000001 
Journal start:            0 

Group 0: (Blocks 0-32767)                  # ç¬¬ä¸€å— block group ä½ç½® 
  Checksum 0x13be, unused inodes 8181 
  Primary superblock at 0, Group descriptors at 1-1   # ä¸»è¦ superblock çš„æ‰€åœ¨å–”ï¼ 

 Reserved GDT blocks at 2-128 
  Block bitmap at 129 (+129), Inode bitmap at 145 (+145) 
  Inode table at 161-672 (+161)                       # inode table çš„æ‰€åœ¨å–”ï¼ 
  28521 free blocks, 8181 free inodes, 2 directories, 8181 unused inodes 
  Free blocks: 142-144, 153-160, 4258-32767           # åº•ä¸‹ä¸¤è¡Œè¯´æ˜å‰©ä½™çš„å®¹é‡æœ‰å¤šå°‘ 
  Free inodes: 12-8192 
Group 1: (Blocks 32768-65535) [INODE_UNINIT]          # åç»­ä¸ºæ›´å¤šå…¶ä»–çš„ block group å–”ï¼ 
....(åº•ä¸‹çœç•¥).... 
# ç”±äºæ•°æ®é‡éå¸¸çš„åºå¤§ï¼Œå› æ­¤é¸Ÿå“¥å°†ä¸€äº›ä¿¡æ¯çœç•¥è¾“å‡ºäº†ï¼ä¸Šè¡¨ä¸ä½ çš„å±å¹•ä¼šæœ‰ç‚¹å·®å¼‚ã€‚ 
# å‰åŠéƒ¨åœ¨ç§€å‡º supberblock çš„å†…å®¹ï¼ŒåŒ…æ‹¬æ ‡å¤´åç§°(Label)ä»¥åŠ inode/block çš„ç›¸å…³ä¿¡æ¯ 
# åé¢åˆ™æ˜¯æ¯ä¸ª block group çš„ä¸ªåˆ«ä¿¡æ¯äº†ï¼æ‚¨å¯ä»¥çœ‹åˆ°å„åŒºæ®µæ•°æ®æ‰€åœ¨çš„å·ç ï¼ 
# ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰çš„æ•°æ®è¿˜æ˜¯ä¸ block çš„å·ç æœ‰å…³å°±æ˜¯äº†ï¼å¾ˆé‡è¦ï¼ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h2 id="æ–‡ä»¶ç³»ç»Ÿçš„ç®€å•æ“ä½œ"><a href="#æ–‡ä»¶ç³»ç»Ÿçš„ç®€å•æ“ä½œ" class="headerlink" title="æ–‡ä»¶ç³»ç»Ÿçš„ç®€å•æ“ä½œ"></a>æ–‡ä»¶ç³»ç»Ÿçš„ç®€å•æ“ä½œ</h2><ul>
<li><p>dfï¼šåˆ—å‡ºæ–‡ä»¶ç³»ç»Ÿçš„æ•´ä½“ç£ç›˜ä½¿ç”¨é‡</p>
<pre class="line-numbers language-shell"><code class="language-shell">[root@study ~]# df [-ahikHTm] [ç›®å½•æˆ–æ–‡ä»¶å] 
é€‰é¡¹ä¸å‚æ•°ï¼š 
-a  ï¼šåˆ—å‡ºæ‰€æœ‰çš„æ–‡ä»¶ç³»ç»Ÿï¼ŒåŒ…æ‹¬ç³»ç»Ÿç‰¹æœ‰çš„ /proc ç­‰æ–‡ä»¶ç³»ç»Ÿï¼› 
-k  ï¼šä»¥ KBytes çš„å®¹é‡æ˜¾ç¤ºå„æ–‡ä»¶ç³»ç»Ÿï¼› 
-m  ï¼šä»¥ MBytes çš„å®¹é‡æ˜¾ç¤ºå„æ–‡ä»¶ç³»ç»Ÿï¼› 
-h  ï¼šä»¥äººä»¬è¾ƒæ˜“é˜…è¯»çš„ GBytes, MBytes, KBytes ç­‰æ ¼å¼è‡ªè¡Œæ˜¾ç¤ºï¼› 
-H  ï¼šä»¥ M=1000K å–ä»£ M=1024K çš„è¿›ä½æ–¹å¼ï¼› 
-T  ï¼šè¿åŒè¯¥ partition çš„ filesystem åç§° (ä¾‹å¦‚ xfs) ä¹Ÿåˆ—å‡ºï¼› 
-i  ï¼šä¸ç”¨ç£ç›˜å®¹é‡ï¼Œè€Œä»¥ inode çš„æ•°é‡æ¥æ˜¾ç¤º <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ¡ˆä¾‹ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">èŒƒä¾‹ä¸€ï¼šå°†ç³»ç»Ÿå†…æ‰€æœ‰çš„ filesystem åˆ—å‡ºæ¥ï¼
[root@study ~]# df 
Filesystem              1K-blocks    Used Available Use% Mounted on 
/dev/mapper/centos-root  10475520 3409408   7066112  33% / 
devtmpfs                   627700       0    627700   0% /dev 
tmpfs                      637568      80    637488   1% /dev/shm 
èŒƒä¾‹äºŒï¼šå°†ç³»ç»Ÿå†…çš„æ‰€æœ‰ç‰¹æ®Šæ–‡ä»¶æ ¼å¼åŠåç§°éƒ½åˆ—å‡ºæ¥ 
[root@study ~]# df -aT 
Filesystem              Type        1K-blocks    Used Available Use% Mounted on 
rootfs                  rootfs       10475520 3409368   7066152  33% / 
proc                    proc                0       0         0    - /proc 
sysfs                   sysfs               0       0         0    - /sys 
devtmpfs                devtmpfs       627700       0    627700   0% /dev <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>duï¼šè¯„ä¼°æ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ä½¿ç”¨é‡</p>
<pre class="line-numbers language-shell"><code class="language-shell">[root@study ~]# du [-ahskm] æ–‡ä»¶æˆ–ç›®å½•åç§° 
é€‰é¡¹ä¸å‚æ•°ï¼š 
-a  ï¼šåˆ—å‡ºæ‰€æœ‰çš„æ–‡ä»¶ä¸ç›®å½•å®¹é‡ï¼Œå› ä¸ºé»˜è®¤ä»…ç»Ÿè®¡ç›®å½•åº•ä¸‹çš„æ–‡ä»¶é‡è€Œå·²ã€‚ 
-h  ï¼šä»¥äººä»¬è¾ƒæ˜“è¯»çš„å®¹é‡æ ¼å¼ (G/M) æ˜¾ç¤ºï¼› 
-s  ï¼šåˆ—å‡ºæ€»é‡è€Œå·²ï¼Œè€Œä¸åˆ—å‡ºæ¯ä¸ªå„åˆ«çš„ç›®å½•å ç”¨å®¹é‡ï¼› 
-S  ï¼šä¸åŒ…æ‹¬å­ç›®å½•ä¸‹çš„æ€»è®¡ï¼Œä¸ -s æœ‰ç‚¹å·®åˆ«ã€‚ 
-k  ï¼šä»¥ KBytes åˆ—å‡ºå®¹é‡æ˜¾ç¤ºï¼› 
-m  ï¼šä»¥ MBytes åˆ—å‡ºå®¹é‡æ˜¾ç¤ºï¼› <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ¡ˆä¾‹ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">èŒƒä¾‹ä¸€ï¼šåˆ—å‡ºç›®å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å®¹é‡ 
[root@study ~]# du 
4       ./.cache/dconf  <==æ¯ä¸ªç›®å½•éƒ½ä¼šåˆ—å‡ºæ¥ 
4       ./.cache/abrt 
8       ./.cache 
....(ä¸­é—´çœç•¥).... 
0       ./test4 
4       ./.ssh          <==åŒ…æ‹¬éšè—æ–‡ä»¶çš„ç›®å½• <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h2 id="ç£ç›˜çš„åˆ†åŒºã€æ ¼å¼åŒ–ã€æ£€éªŒ"><a href="#ç£ç›˜çš„åˆ†åŒºã€æ ¼å¼åŒ–ã€æ£€éªŒ" class="headerlink" title="ç£ç›˜çš„åˆ†åŒºã€æ ¼å¼åŒ–ã€æ£€éªŒ"></a>ç£ç›˜çš„åˆ†åŒºã€æ ¼å¼åŒ–ã€æ£€éªŒ</h2><blockquote>
<p>ä½¿ç”¨é€»è¾‘ï¼š ä½ åº”è¯¥è¦é€è¿‡  lsblk  æˆ–  blkid  å…ˆæ‰¾åˆ°ç£ç›˜ï¼Œå†ç”¨  parted /dev/xxx print  æ¥æ‰¾å‡ºå†…éƒ¨çš„åˆ†åŒºè¡¨ç±»å‹ï¼Œä¹‹<br>åæ‰ç”¨  gdisk  æˆ–  fdisk  æ¥æ“ä½œç³»ç»Ÿ</p>
</blockquote>
<ul>
<li><p>lsblk  åˆ—å‡ºç³»ç»Ÿä¸Šçš„æ‰€æœ‰ç£ç›˜åˆ—è¡¨ </p>
<pre class="line-numbers language-shell"><code class="language-shell">[root@study ~]# lsblk [-dfimpt] [device] 
é€‰é¡¹ä¸å‚æ•°ï¼š 
-d  ï¼šä»…åˆ—å‡ºç£ç›˜æœ¬èº«ï¼Œå¹¶ä¸ä¼šåˆ—å‡ºè¯¥ç£ç›˜çš„åˆ†åŒºæ•°æ® 
-f  ï¼šåŒæ—¶åˆ—å‡ºè¯¥ç£ç›˜å†…çš„æ–‡ä»¶ç³»ç»Ÿåç§° 
-i  ï¼šä½¿ç”¨ ASCII çš„çº¿æ®µè¾“å‡ºï¼Œä¸è¦ä½¿ç”¨å¤æ‚çš„ç¼–ç  (å†æŸäº›ç¯å¢ƒä¸‹å¾ˆæœ‰ç”¨) 
-m  ï¼šåŒæ—¶è¾“å‡ºè¯¥è£…ç½®åœ¨ /dev åº•ä¸‹çš„æƒé™æ•°æ® (rwx çš„æ•°æ®) 
-p  ï¼šåˆ—å‡ºè¯¥è£…ç½®çš„å®Œæ•´æ–‡ä»¶åï¼è€Œä¸æ˜¯ä»…åˆ—å‡ºæœ€åçš„åå­—è€Œå·²ã€‚ 
-t  ï¼šåˆ—å‡ºè¯¥ç£ç›˜è£…ç½®çš„è¯¦ç»†æ•°æ®ï¼ŒåŒ…æ‹¬ç£ç›˜é˜Ÿåˆ—æœºåˆ¶ã€é¢„è¯»å†™çš„æ•°æ®é‡å¤§å°ç­‰ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>blkid  åˆ—å‡ºè£…ç½®çš„  UUID  ç­‰å‚æ•° </p>
</li>
<li><p>parted  åˆ—å‡ºç£ç›˜çš„åˆ†åŒºè¡¨ç±»å‹ä¸åˆ†åŒºä¿¡æ¯ </p>
<pre class="line-numbers language-shell"><code class="language-shell">èŒƒä¾‹ä¸€ï¼šåˆ—å‡º /dev/vda ç£ç›˜çš„ç›¸å…³æ•°æ® 
[root@study ~]# parted /dev/vda print 
Model: Virtio Block Device (virtblk)        # ç£ç›˜çš„æ¨¡å—åç§°(å‚å•†) 
Disk /dev/vda: 42.9GB                       # ç£ç›˜çš„æ€»å®¹é‡ 
Sector size (logical/physical): 512B/512B   # ç£ç›˜çš„æ¯ä¸ªé€»è¾‘/ç‰©ç†æ‰‡åŒºå®¹é‡ 
Partition Table: gpt                        # åˆ†åŒºè¡¨çš„æ ¼å¼ (MBR/GPT) 
Disk Flags: pmbr_boot 

Number  Start   End     Size    File system  Name  Flags      # åº•ä¸‹æ‰æ˜¯åˆ†åŒºæ•°æ® 
 1      1049kB  3146kB  2097kB                     bios_grub 
 2      3146kB  1077MB  1074MB  xfs 
 3      1077MB  33.3GB  32.2GB                     lvm <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h3 id="gdisk"><a href="#gdisk" class="headerlink" title="gdisk"></a>gdisk</h3><p>å®è·µæœ€ç®€å•Demo</p>
<pre class="line-numbers language-shell"><code class="language-shell">èŒƒä¾‹ï¼šç”±å‰ä¸€å°èŠ‚çš„ lsblk è¾“å‡ºï¼Œæˆ‘ä»¬çŸ¥é“ç³»ç»Ÿæœ‰ä¸ª /dev/vdaï¼Œè¯·è§‚å¯Ÿè¯¥ç£ç›˜çš„åˆ†åŒºä¸ç›¸å…³æ•°æ® 
[root@study ~]# gdisk /dev/vda  <==ä»”ç»†çœ‹ï¼Œä¸è¦åŠ ä¸Šæ•°å­—å–”ï¼ 
GPT fdisk (gdisk) version 0.8.6 

Partition table scan: 
  MBR: protective 
  BSD: not present 
  APM: not present 
  GPT: present 

Found valid GPT with protective MBR; using GPT.  <==æ‰¾åˆ°äº† GPT çš„åˆ†åŒºè¡¨ï¼ 

Command (? for help):     <==è¿™é‡Œå¯ä»¥è®©ä½ è¾“å…¥æŒ‡ä»¤åŠ¨ä½œï¼Œå¯ä»¥æŒ‰é—®å· (?) æ¥æŸ¥çœ‹å¯ç”¨æŒ‡ä»¤ 
Command (? for help): ? 
b       back up GPT data to a file 
c       change a partition's name 
d       delete a partition           # åˆ é™¤ä¸€ä¸ªåˆ†åŒº 
i       show detailed information on a partition 
l       list known partition types 
n       add a new partition          # å¢åŠ ä¸€ä¸ªåˆ†åŒº 
o       create a new empty GUID partition table (GPT) 
p       print the partition table    # å°å‡ºåˆ†åŒºè¡¨ (å¸¸ç”¨) 
q       quit without saving changes  # ä¸å‚¨å­˜åˆ†åŒºå°±ç›´æ¥ç¦»å¼€ gdisk 
r       recovery and transformation options (experts only) 
s       sort partitions 
t       change a partition's type code 
v       verify disk 
w       write table to disk and exit # å‚¨å­˜åˆ†åŒºæ“ä½œåç¦»å¼€ gdisk 
x       extra functionality (experts only) 
?       print this menu 
Command (? for help):   

Command (? for help): p  <== è¿™é‡Œå¯ä»¥è¾“å‡ºç›®å‰ç£ç›˜çš„çŠ¶æ€ 
Disk /dev/vda: 83886080 sectors, 40.0 GiB                     # ç£ç›˜æ–‡ä»¶å/æ‰‡åŒºæ•°ä¸æ€»å®¹é‡ 
Logical sector size: 512 bytes                                # å•ä¸€æ‰‡åŒºå¤§å°ä¸º 512 bytes  
Disk identifier (GUID): A4C3C813-62AF-4BFE-BAC9-112EBD87A483  # ç£ç›˜çš„ GPT æ ‡è¯†ç¬¦ 
Partition table holds up to 128 entries 
First usable sector is 34, last usable sector is 83886046 
Partitions will be aligned on 2048-sector boundaries 
Total free space is 18862013 sectors (9.0 GiB) 

Number  Start (sector)    End (sector)  Size       Code  Name # åº•ä¸‹ä¸ºå®Œæ•´çš„åˆ†åŒºä¿¡æ¯äº†ï¼ 
   1            2048            6143   2.0 MiB     EF02       # ç¬¬ä¸€ä¸ªåˆ†åŒºæ§½æ•°æ® 
   2            6144         2103295   1024.0 MiB  0700 
   3         2103296        65026047   30.0 GiB    8E00 
# åˆ†åŒºç¼–å· å¼€å§‹æ‰‡åŒºå·ç   ç»“æŸæ‰‡åŒºå·ç   å®¹é‡å¤§å° 
Command (? for help): q 
# æƒ³è¦ä¸å‚¨å­˜ç¦»å¼€å—ï¼ŸæŒ‰ä¸‹ q å°±å¯¹äº†ï¼ä¸è¦éšä¾¿æŒ‰ w å•Šï¼ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="ç¬¬åäºŒç« ã€-å­¦ä¹ Shell-Scripts"><a href="#ç¬¬åäºŒç« ã€-å­¦ä¹ Shell-Scripts" class="headerlink" title="ç¬¬åäºŒç« ã€ å­¦ä¹ Shell Scripts"></a>ç¬¬åäºŒç« ã€ å­¦ä¹ Shell Scripts</h1><h2 id="12-1-å¸¸ç”¨å‘½ä»¤è§£æ"><a href="#12-1-å¸¸ç”¨å‘½ä»¤è§£æ" class="headerlink" title="12.1 å¸¸ç”¨å‘½ä»¤è§£æ"></a>12.1 å¸¸ç”¨å‘½ä»¤è§£æ</h2><pre class="line-numbers language-shell"><code class="language-shell">sudo lsb_release -aã€€// look ubuntu version
uname -r  //kernal version

netstat â€“tln //æŸ¥çœ‹æœåŠ¡ç›‘å¬ç«¯å£
netstat      //æŸ¥çœ‹è¿›ç¨‹å·
ps â€“aux     //æŸ¥çœ‹è¿›ç¨‹å·
ps â€“aux | more //å…¨éƒ¨æŸ¥çœ‹
ps â€“ef | grep mysql //æŸ¥çœ‹mysqlçš„è¿›ç¨‹
kill -9 3306 //å¼ºåˆ¶æ€æ‰è¿›ç¨‹å·3306

# æŸ¥çœ‹80ç«¯å£å ç”¨
netstat -luntp | grep 80
# æŸ¥çœ‹å¯¹åº”ç¨‹åºæ˜¯å¦å¯åŠ¨
netstat -luntp | grep mysql

diff -ruNa dir1  dir2 > s12.diff

#å‡ ç§å¿«é€Ÿæ¸…ç©ºæ–‡ä»¶å†…å®¹çš„æ–¹æ³•
echo "" > fileName
echo /dev/null > fileName
echo > fileName
cat /dev/null > fileName<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>ln</strong></p>
<pre class="line-numbers language-shell"><code class="language-shell">ln -fs Target_file/Target_dir #åœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªåŒåé“¾æ¥
ln -fs Target_file/Target_dir  link_rename #æŒ‡å®šé“¾æ¥å<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>tar</strong> åŠ å‹è§£å‹</p>
<pre class="line-numbers language-shell"><code class="language-shell"># bz2
å‹åŒ…ï¼štar  -jcf  target.tar.bz2   target
è§£å‹ï¼štar  -jxf  target.tar.bz2
# gz
å‹åŒ…ï¼štar  -zcf  target.tar.gz   target
è§£å‹ï¼štar  -zxf  target.tar.gz
# è§£å‹æˆ–å‹åŒ…åˆ°æŒ‡å®šç›®å½•ï¼š -C
tar  -zxf  target.tar.gz â€“C /home/dream123/Desktop/(ç›®å½•)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å‘½ä»¤è¯¦è§£</p>
<pre class="line-numbers language-shell"><code class="language-shell">-x è§£å‹
-t æŸ¥çœ‹å†…å®¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>grep</strong>  </p>
<ul>
<li><a href="https://www.cnblogs.com/ggjucheng/archive/2013/01/13/2856896.html" target="_blank" rel="noopener">linux grepå‘½ä»¤è¯¦è§£</a> </li>
</ul>
<p>*<em>awk *</em></p>
<p><strong>sed</strong><br> <a href="http://blog.itpub.net/519536/viewspace-558364/" target="_blank" rel="noopener">ã€Shellã€‘sedä½¿ç”¨å¿ƒå¾—</a><br>%s/.*/# &amp;/g åœ¨æ•´ä¸ªæ–‡ä»¶çš„é¦–è¡Œæ’å…¥#<br>2,10s/Type/type/g #ç¬¬2è‡³ç¬¬10è¡Œæ›¿æ¢Typeä¸ºtype</p>
<p><strong>date</strong></p>
<pre class="line-numbers language-shell"><code class="language-shell">date +%F #2017-01-29
date "+%Y-%m-%d %H:%M:%S" #2017-01-29 10:57:02<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>åº”ç”¨åœºæ™¯</p>
<pre class="line-numbers language-shell"><code class="language-shell">tar zcvf etc-$(date +%F).tar.gz /etc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è¿›è¡Œç®€å•è¿ç®—</p>
<pre class="line-numbers language-shell"><code class="language-shell">date +%F -d "-1day" #å‡ä¸€å¤©
date +%F -d "+1day" #åŠ ä¸€å¤©
date +%F -d "+2hour"#åŠ 2hour
date -d -1month +%Y%m%d #å‡1ä¸ªæœˆ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>åˆ«å</p>
<pre class="line-numbers language-shell"><code class="language-shell">#åˆ—å‡ºåˆ«åä¿¡æ¯
alias
#è®¾ç½®
alias rgrep='ps -ef| grep redis'
//åˆ é™¤
unalias rgrep<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æ€§èƒ½ç›‘æ§"><a href="#æ€§èƒ½ç›‘æ§" class="headerlink" title="æ€§èƒ½ç›‘æ§"></a>æ€§èƒ½ç›‘æ§</h3><ul>
<li><p>uptime </p>
<pre class="line-numbers language-shell"><code class="language-shell">[root@www ~]# uptime 
 15:47:19 up 69 days, 20:24,  1 user,  load average: 0.06, 0.08, 0.11<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ul>
<li>15:47:19 ç³»ç»Ÿæ—¶é—´</li>
<li>69 days, 20:24 è¿è¡Œæ—¶é—´</li>
<li><code>1 user</code> ä¸€ä¸ªç»ˆç«¯è¿æ¥ï¼ˆç»ˆç«¯Terminalè¿æ¥æ•°ï¼‰</li>
<li><code>0.06, 0.08, 0.11</code> åœ¨è¿‡å»1,5,15åˆ†é’Ÿå†…çš„ç³»ç»Ÿå¹³å‡è´Ÿè½½ï¼ˆè¿è¡Œé˜Ÿåˆ—ä¸­çš„å¹³å‡è¿›ç¨‹æ•°ï¼‰</li>
</ul>
</li>
<li><p>top</p>
<pre class="line-numbers language-sh"><code class="language-sh">top - 17:19:17 up 69 days, 21:55,  3 users,  load average: 0.02, 0.12, 0.13
Tasks: 259 total,   2 running, 257 sleeping,   0 stopped,   0 zombie
%Cpu(s):  10.0/4.6    15[|||||||                                              ]
KiB Mem :  5971944 total,  2069108 free,  1897640 used,  2005196 buff/cache
KiB Swap:  3998716 total,  3998716 free,        0 used.  3270516 avail Mem 

  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND     
 2383 joel      20   0 2311856 286256 168372 S  18.6  4.8  10:48.61 chromium-b+ 
 1916 joel      20   0 1520768 130752  73584 R  11.0  2.2   3:32.51 compiz      
  908 root      20   0  359740  46208  33532 S  10.3  0.8   3:37.90 Xorg        
 2542 joel      20   0 1346212 323796  99516 S  10.0  5.4   4:51.57 chromium-b+ 
 2039 joel       9 -11  507632  11780   8812 S   3.7  0.2   0:45.57 pulseaudio  
 2796 joel      20   0 1215292 157504  87592 S   3.7  2.6   0:53.10 chromium-b+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
<li><p>topç¬¬ä¸€è¡Œå‘½ä»¤, å¦‚ä¸Šuptime</p>
</li>
<li><p>topç¬¬äºŒè¡Œå‘½ä»¤ä»‹ç»(è¿›ç¨‹ä¿¡æ¯)</p>
<pre class="line-numbers language-shell"><code class="language-shell">Tasks: 259 total(è¿›ç¨‹æ€»æ•°) 2 running(æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ•°) 257 sleeping(ç¡çœ çš„è¿›ç¨‹æ•°) 0 stopped(åœæ­¢çš„è¿›ç¨‹æ•°) 0 zombie(åƒµå°¸è¿›ç¨‹æ•°)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>ç¬¬ä¸‰è¡Œå‘½ä»¤ä»‹ç»(CPUä¿¡æ¯)</p>
<pre class="line-numbers language-shell"><code class="language-shell">%Cpu(s): 9.6 usï¼ï¼>ç”¨æˆ·ç©ºé—´å ç”¨CPUç™¾åˆ†æ¯” 4.5 syï¼ï¼>å†…æ ¸ç©ºé—´å ç”¨CPUç™¾åˆ†æ¯” 0.0 niï¼ï¼>ç”¨æˆ·è¿›ç¨‹ç©ºé—´å†…æ”¹å˜è¿‡ä¼˜å…ˆçº§çš„è¿›ç¨‹å ç”¨CPUç™¾åˆ†æ¯” 85.7 idï¼ï¼>ç©ºé—²CPUç™¾åˆ†æ¯” 0.3 waï¼ï¼>ç­‰å¾…è¾“å…¥è¾“å‡ºçš„CPUæ—¶é—´ç™¾åˆ†æ¯” 0.0 hiï¼ï¼> 0.0 siï¼ï¼> 0.0 stï¼ï¼><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>ç¬¬å››ã€äº”è¡Œå‘½ä»¤ä»‹ç»(å†…å­˜ä¿¡æ¯)</p>
<pre class="line-numbers language-shell"><code class="language-shell">KiB Mem : 5971944 totalï¼ï¼>ç‰©ç†å†…å­˜æ€»é‡ 2114336 freeï¼ï¼>ç©ºé—²å†…å­˜æ€»é‡ 1833032 usedï¼ï¼>ä½¿ç”¨çš„ç‰©ç†å†…å­˜æ€»é‡ 2024576 buff/cacheï¼ï¼>ç”¨ä½œå†…æ ¸ç¼“å­˜çš„å†…å­˜é‡ 
KiB Swap: 3998716 totalï¼ï¼>äº¤æ¢åŒºæ€»é‡, 3998716 freeï¼ï¼>ç©ºé—²äº¤æ¢åŒºæ€»é‡, 0 usedï¼ï¼>ä½¿ç”¨çš„äº¤æ¢åŒºæ€»é‡. 3327816 avail Memï¼ï¼><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>è¿›ç¨‹ä¿¡æ¯</p>
<pre class="line-numbers language-shell"><code class="language-shell">PIDï¼ï¼>è¿›ç¨‹ï¼©ï¼¤ 
USERï¼ï¼>ç”¨æˆ· 
PRï¼ï¼>ä¼˜å…ˆçº§ 
NIï¼ï¼>niceå€¼ã€‚è´Ÿå€¼è¡¨ç¤ºé«˜ä¼˜å…ˆçº§ï¼Œæ­£å€¼è¡¨ç¤ºä½ä¼˜å…ˆçº§ 
VIRTï¼ï¼>è¿›ç¨‹ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜æ€»é‡ï¼Œå•ä½kbã€‚VIRT=SWAP+RES 
RESï¼ï¼>è¿›ç¨‹ä½¿ç”¨çš„ã€æœªè¢«æ¢å‡ºçš„ç‰©ç†å†…å­˜å¤§å°ï¼Œå•ä½kbã€‚RES=CODE+DATA 
SHRï¼ï¼>å…±äº«å†…å­˜å¤§å°ï¼Œå•ä½kb 
Sï¼ï¼>è¿›ç¨‹çŠ¶æ€ã€‚ D=ä¸å¯ä¸­æ–­çš„ç¡çœ çŠ¶æ€R=è¿è¡Œ S=ç¡çœ T=è·Ÿè¸ª/åœæ­¢Z=åƒµå°¸è¿›ç¨‹ 
%CPUï¼ï¼>ä¸Šæ¬¡æ›´æ–°åˆ°ç°åœ¨çš„CPUæ—¶é—´å ç”¨ç™¾åˆ†æ¯” 
%MEMï¼ï¼>è¿›ç¨‹ä½¿ç”¨çš„ç‰©ç†å†…å­˜ç™¾åˆ†æ¯” 
TIME+ï¼ï¼>è¿›ç¨‹ä½¿ç”¨çš„CPUæ—¶é—´æ€»è®¡ï¼Œå•ä½1/100ç§’ 
COMMANDï¼ï¼>å‘½ä»¤å/å‘½ä»¤è¡Œ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
</li>
<li><p>vmstat  - Report virtual memory statistics<br><img src="https://img-blog.csdn.net/20180611104357519?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NkMTk5MzA1MDg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="vmstatç»“æœ"></p>
<blockquote>
<p>vmstat 1 4 æ¯ä¸€ç§’é‡‡é›†ä¸€æ¬¡ï¼Œå…±é‡‡é›†å››æ¬¡</p>
</blockquote>
</li>
</ul>
<h2 id="12-2-å¸¸ç”¨åº”ç”¨åœºæ™¯è§£æ"><a href="#12-2-å¸¸ç”¨åº”ç”¨åœºæ™¯è§£æ" class="headerlink" title="12.2 å¸¸ç”¨åº”ç”¨åœºæ™¯è§£æ"></a>12.2 å¸¸ç”¨åº”ç”¨åœºæ™¯è§£æ</h2><h3 id="12-2-1-å˜é‡ç›¸å…³"><a href="#12-2-1-å˜é‡ç›¸å…³" class="headerlink" title="12.2.1 å˜é‡ç›¸å…³"></a>12.2.1 å˜é‡ç›¸å…³</h3><p>1ã€å˜é‡è·å–ï¼Œæˆªå–ï¼Œæ›¿æ¢ï¼Œï¼ˆæ²¡è®¾ç½®ã€ç©ºå€¼ã€éç©ºå€¼ï¼‰ </p>
<ul>
<li><a href="https://blog.csdn.net/shmilyringpull/article/details/7631106" target="_blank" rel="noopener">shellä¸­çš„${}ï¼Œ##å’Œ%%çš„ä½¿ç”¨</a></li>
</ul>
<p>2ã€Shellç‰¹æ®Šå˜é‡ï¼šShell $0, $#, $*, $@, $?, $å’Œå‘½ä»¤è¡Œå‚æ•°  <a href="http://www.jb51.net/article/48686.htm" target="_blank" rel="noopener">bash shellå‘½ä»¤è¡Œé€‰é¡¹ä¸ä¿®ä¼ å…¥å‚æ•°å¤„ç†</a></p>
<table>
<thead>
<tr>
<th>å˜é‡</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>$n</td>
<td>$1 the first parameter,$2 the secondâ€¦</td>
</tr>
<tr>
<td>$#</td>
<td>The number of command-line parameters.</td>
</tr>
<tr>
<td>$0</td>
<td>The name of current program.</td>
</tr>
<tr>
<td>$?</td>
<td>Last command or functionâ€™s return value.</td>
</tr>
<tr>
<td>$$</td>
<td>The programâ€™s PID.</td>
</tr>
<tr>
<td>$!</td>
<td>Last programâ€™s PID.</td>
</tr>
<tr>
<td>$@</td>
<td>Save all the parameters.</td>
</tr>
</tbody></table>
<p>3ã€shell è„šæœ¬ä¸­æ‰¹é‡å¯¼å…¥æŒ‡å®šé…ç½® <code>envsubst</code></p>
<p>æ¯”å¦‚æ‰‹ä¸Šæœ‰ä¸ªé…ç½®æ–‡ä»¶<code>redis.conf</code>ï¼Œéœ€è¦åŠ¨æ€ä¿®æ”¹å…¶å‚æ•°ï¼Œå¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">THREAD_NUM:${thread_num}
GPU_ID:${gpu_id}
bind ${ip} ${port}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>è§£å†³æ–¹æ¡ˆä¸€ï¼š<code>envsubst</code></p>
<p>a) å®‰è£…</p>
<pre class="line-numbers language-shell"><code class="language-shell">yum install gettext -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>b) ä½¿ç”¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">export thread_num=24
export gpu_id=2
export ip=192.168.1.168
export port=6379
envsubst <redis.conf> redis_6379.conf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ³¨æ„ï¼šå¦‚æœæœ‰nä¸ªexportæƒ³æ­»çš„å¿ƒéƒ½æœ‰å“ˆå“ˆï¼Œè§£å†³æ–¹æ¡ˆï¼Œç»Ÿä¸€ä¸¢åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ï¼Œå¦‚<code>config.conf</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">export thread_num=24
export gpu_id=2
export ip=192.168.1.168
export port=6379<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä½¿å…¶æ‰¹é‡ç”Ÿæ•ˆ <code>source config.conf</code>,ä¸€å¥å‘½ä»¤åº”ç”¨å°±å¥½äº†</p>
<pre class="line-numbers language-shell"><code class="language-shell">envsubst <redis.conf> redis_6379.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="12-3-æ¡ä»¶åˆ¤æ–­"><a href="#12-3-æ¡ä»¶åˆ¤æ–­" class="headerlink" title="12.3 æ¡ä»¶åˆ¤æ–­"></a>12.3 æ¡ä»¶åˆ¤æ–­</h2><h3 id="12-3-1-if-æ¡ä»¶"><a href="#12-3-1-if-æ¡ä»¶" class="headerlink" title="12.3.1 if æ¡ä»¶"></a>12.3.1 if æ¡ä»¶</h3><ul>
<li><a href="https://www.cnblogs.com/wangkongming/p/4221503.html" target="_blank" rel="noopener">shellæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰</a></li>
<li>æ–‡æ¡£æ¯”è¾ƒè¿ç®—ç¬¦  </li>
<li>if å‘½ä»¤å‚æ•°è¯´æ˜</li>
</ul>
<pre class="line-numbers language-shell"><code class="language-shell">[ -a FILE ]  å¦‚æœ FILE å­˜åœ¨åˆ™ä¸ºçœŸã€‚  
[ -b FILE ]  å¦‚æœ FILE å­˜åœ¨ä¸”æ˜¯ä¸€ä¸ªå—ç‰¹æ®Šæ–‡ä»¶åˆ™ä¸ºçœŸã€‚  
[ -c FILE ]  å¦‚æœ FILE å­˜åœ¨ä¸”æ˜¯ä¸€ä¸ªå­—ç‰¹æ®Šæ–‡ä»¶åˆ™ä¸ºçœŸã€‚  
[ -d FILE ]  å¦‚æœ FILE å­˜åœ¨ä¸”æ˜¯ä¸€ä¸ªç›®å½•åˆ™ä¸ºçœŸã€‚  
[ -e FILE ]  å¦‚æœ FILE å­˜åœ¨åˆ™ä¸ºçœŸã€‚  
[ -f FILE ]  å¦‚æœ FILE å­˜åœ¨ä¸”æ˜¯ä¸€ä¸ªæ™®é€šæ–‡ä»¶åˆ™ä¸ºçœŸã€‚  
[ -g FILE ] å¦‚æœ FILE å­˜åœ¨ä¸”å·²ç»è®¾ç½®äº†SGIDåˆ™ä¸ºçœŸã€‚ [ -h FILE ]  å¦‚æœ FILE å­˜åœ¨ä¸”æ˜¯ä¸€ä¸ªç¬¦å·è¿æ¥åˆ™ä¸ºçœŸã€‚  
[ -k FILE ]  å¦‚æœ FILE å­˜åœ¨ä¸”å·²ç»è®¾ç½®äº†ç²˜åˆ¶ä½åˆ™ä¸ºçœŸã€‚  
[ -p FILE ]  å¦‚æœ FILE å­˜åœ¨ä¸”æ˜¯ä¸€ä¸ªåå­—ç®¡é“(Få¦‚æœO)åˆ™ä¸ºçœŸã€‚  
[ -r FILE ]  å¦‚æœ FILE å­˜åœ¨ä¸”æ˜¯å¯è¯»çš„åˆ™ä¸ºçœŸã€‚  
[ -s FILE ]  å¦‚æœ FILE å­˜åœ¨ä¸”å¤§å°ä¸ä¸º0åˆ™ä¸ºçœŸã€‚  
[ -t FD ]  å¦‚æœæ–‡ä»¶æè¿°ç¬¦ FD æ‰“å¼€ä¸”æŒ‡å‘ä¸€ä¸ªç»ˆç«¯åˆ™ä¸ºçœŸã€‚  
[ -u FILE ]  å¦‚æœ FILE å­˜åœ¨ä¸”è®¾ç½®äº†SUID (set user ID)åˆ™ä¸ºçœŸã€‚  
[ -w FILE ]  å¦‚æœ FILE å¦‚æœ FILE å­˜åœ¨ä¸”æ˜¯å¯å†™çš„åˆ™ä¸ºçœŸã€‚  
[ -x FILE ]  å¦‚æœ FILE å­˜åœ¨ä¸”æ˜¯å¯æ‰§è¡Œçš„åˆ™ä¸ºçœŸã€‚  
[ -O FILE ]  å¦‚æœ FILE å­˜åœ¨ä¸”å±æœ‰æ•ˆç”¨æˆ·IDåˆ™ä¸ºçœŸã€‚  
[ -G FILE ]  å¦‚æœ FILE å­˜åœ¨ä¸”å±æœ‰æ•ˆç”¨æˆ·ç»„åˆ™ä¸ºçœŸã€‚  
[ -L FILE ]  å¦‚æœ FILE å­˜åœ¨ä¸”æ˜¯ä¸€ä¸ªç¬¦å·è¿æ¥åˆ™ä¸ºçœŸã€‚  
[ -N FILE ]  å¦‚æœ FILE å­˜åœ¨ and has been modå¦‚æœied since it was last readåˆ™ä¸ºçœŸã€‚  
[ -S FILE ]  å¦‚æœ FILE å­˜åœ¨ä¸”æ˜¯ä¸€ä¸ªå¥—æ¥å­—åˆ™ä¸ºçœŸã€‚  
[ FILE1 -nt FILE2 ]  å¦‚æœ FILE1 has been changed more recently than FILE2, or å¦‚æœ FILE1 exists and FILE2 does notåˆ™ä¸ºçœŸã€‚  
[ FILE1 -ot FILE2 ]  å¦‚æœ FILE1 æ¯” FILE2 è¦è€, æˆ–è€… FILE2 å­˜åœ¨ä¸” FILE1 ä¸å­˜åœ¨åˆ™ä¸ºçœŸã€‚  
[ FILE1 -ef FILE2 ]  å¦‚æœ FILE1 å’Œ FILE2 æŒ‡å‘ç›¸åŒçš„è®¾å¤‡å’ŒèŠ‚ç‚¹å·åˆ™ä¸ºçœŸã€‚  
[ -o OPTIONNAME ]  å¦‚æœ shellé€‰é¡¹ â€œOPTIONNAMEâ€ å¼€å¯åˆ™ä¸ºçœŸã€‚  
[ -z STRING ]  â€œSTRINGâ€ çš„é•¿åº¦ä¸ºé›¶åˆ™ä¸ºçœŸã€‚  
[ -n STRING ] or [ STRING ]  â€œSTRINGâ€ çš„é•¿åº¦ä¸ºéé›¶ non-zeroåˆ™ä¸ºçœŸã€‚  
[ STRING1 == STRING2 ]  å¦‚æœ2ä¸ªå­—ç¬¦ä¸²ç›¸åŒã€‚ â€œ=â€ may be used instead of â€œ==â€ for strict POSIX complianceåˆ™ä¸ºçœŸã€‚  
[ STRING1 != STRING2 ]  å¦‚æœå­—ç¬¦ä¸²ä¸ç›¸ç­‰åˆ™ä¸ºçœŸã€‚ 
[ STRING1 < STRING2 ]  å¦‚æœ â€œSTRING1â€ sorts before â€œSTRING2â€ lexicographically in the current localeåˆ™ä¸ºçœŸã€‚  
[ STRING1 > STRING2 ]  å¦‚æœ â€œSTRING1â€ sorts after â€œSTRING2â€ lexicographically in the current localeåˆ™ä¸ºçœŸã€‚  
[ ARG1 OP ARG2 ] â€œOPâ€ is one of -eq, -ne, -lt, -le, -gt or -ge. These arithmetic binary operators return true if â€œARG1â€ is equal to, not equal to, less than, less than or equal to, greater than, or greater than or equal to â€œARG2â€, respectively. â€œARG1â€ and â€œARG2â€ are integers.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="12-3-2-while"><a href="#12-3-2-while" class="headerlink" title="12.3.2 while"></a>12.3.2 while</h3><pre class="line-numbers language-shell"><code class="language-shell">#!/bin/sh

time = 7006
while[[ "$time" gt 7000 ]]
do
    echo "$time"
    time = $(($time -1 ))
done<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="12-4-ä¸‰å‰‘å®¢è¯¦è§£åŠæ¡ˆä¾‹"><a href="#12-4-ä¸‰å‰‘å®¢è¯¦è§£åŠæ¡ˆä¾‹" class="headerlink" title="12.4 ä¸‰å‰‘å®¢è¯¦è§£åŠæ¡ˆä¾‹"></a>12.4 ä¸‰å‰‘å®¢è¯¦è§£åŠæ¡ˆä¾‹</h2><h3 id="12-4-1-grep"><a href="#12-4-1-grep" class="headerlink" title="12.4.1 grep"></a>12.4.1 grep</h3><h4 id="1ï¼‰æ”¯æŒæ­£åˆ™"><a href="#1ï¼‰æ”¯æŒæ­£åˆ™" class="headerlink" title="1ï¼‰æ”¯æŒæ­£åˆ™"></a>1ï¼‰æ”¯æŒæ­£åˆ™</h4><pre class="line-numbers language-shell"><code class="language-shell">-Eï¼Œ--extended-regexp æ¨¡å¼æ˜¯æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼ï¼ˆEREï¼‰
-Pï¼Œ--perl-regexp æ¨¡å¼æ˜¯ Perl æ­£åˆ™è¡¨è¾¾å¼
-eï¼Œ--regexp=PATTERN ä½¿ç”¨æ¨¡å¼åŒ¹é…ï¼Œå¯æŒ‡å®šå¤šä¸ªæ¨¡å¼åŒ¹
-fï¼Œ--file=FILE ä»æ–‡ä»¶æ¯ä¸€è¡Œè·å–åŒ¹é…æ¨¡å¼
-iï¼Œ--ignore-case å¿½ç•¥å¤§å°å†™
-wï¼Œ--word-regexp æ¨¡å¼åŒ¹é…æ•´ä¸ªå•è¯
-xï¼Œ--line-regexp æ¨¡å¼åŒ¹é…æ•´è¡Œ
-vï¼Œ--invert-match æ‰“å°ä¸åŒ¹é…çš„è¡Œ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>1ã€æ­£åˆ™è¿‡æ»¤</p>
<p>a. å»é™¤ç©ºæ ¼ http.conf æ–‡ä»¶ç©ºè¡Œæˆ–å¼€å¤´#å·çš„è¡Œ</p>
<pre class="line-numbers language-shell"><code class="language-shell">grep -E -v "^$|^#" /etc/httpd/conf/httpd.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li><code>grep -n 'de$'</code> åŒ¹é… de å­—ç¬¦ç»“å°¾</li>
<li><code>echo "a bc de" |xargs -n1 |grep '^b'</code> -&gt; åŒ¹é… b å­—ç¬¦å¼€å¤´çš„è¡Œ</li>
</ul>
<p>b. ä¸åŒºåˆ†å¤§å°å†™</p>
<pre class="line-numbers language-shell"><code class="language-shell">echo "A a b c" |xargs -n1 |grep -i a
echo "A a b c" |xargs -n1 |grep '[Aa]'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>2ã€å‚æ•°åŒ¹é…åŠŸèƒ½</p>
<pre class="line-numbers language-shell"><code class="language-shell">echo "a bc de" |xargs -n1 |grep -e 'a' -e 'bc
#output 
a
bc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>3ã€å¯¹æ¯”åŠŸèƒ½</p>
<p>è¾“å‡º b æ–‡ä»¶ä¸­åœ¨ aæ–‡ä»¶ç›¸åŒçš„è¡Œ</p>
<pre class="line-numbers language-shell"><code class="language-shell">grep -f a b<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ä¸åŒè¡Œ</p>
<pre class="line-numbers language-shell"><code class="language-shell">grep -f -v a b<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="2-è¾“å…¥è¾“å‡ºæ§åˆ¶"><a href="#2-è¾“å…¥è¾“å‡ºæ§åˆ¶" class="headerlink" title="2) è¾“å…¥è¾“å‡ºæ§åˆ¶"></a>2) è¾“å…¥è¾“å‡ºæ§åˆ¶</h4><pre class="line-numbers language-shell"><code class="language-shell">-mï¼Œ--max-count=NUM è¾“å‡ºåŒ¹é…çš„ç»“æœ num æ•°
-nï¼Œ--line-number æ‰“å°è¡Œå·
-Hï¼Œ--with-filename æ‰“å°æ¯ä¸ªåŒ¹é…çš„æ–‡ä»¶å
-hï¼Œ--no-filename ä¸è¾“å‡ºæ–‡ä»¶å
-qï¼Œ--quiet ä¸è¾“å‡ºæ­£å¸¸ä¿¡æ¯
-s, --no-messages ä¸è¾“å‡ºé”™è¯¯ä¿¡æ¯
-rï¼Œ--recursive é€’å½’ç›®å½•
-cï¼Œ--count åªæ‰“å°æ¯ä¸ªæ–‡ä»¶åŒ¹é…çš„è¡Œæ•°
-oï¼Œ--only-matching åªæ‰“å°åŒ¹é…çš„å†…å®¹
--include=FILE_PATTERN   åªæ£€ç´¢åŒ¹é…çš„æ–‡ä»¶
--exclude=FILE_PATTERN   è·³è¿‡åŒ¹é…çš„æ–‡ä»¶
--exclude-from=FILE       è·³è¿‡åŒ¹é…çš„æ–‡ä»¶ï¼Œæ¥è‡ªæ–‡ä»¶æ¨¡å¼
--exclude-dir=PATTERN     è·³è¿‡åŒ¹é…çš„ç›®å½•<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>1ã€è¿‡æ»¤åŠŸèƒ½</p>
<pre class="line-numbers language-shell"><code class="language-shell">#åŒ…å«*.conf
grep -r '192.167.1.1' /etc --include *.conf
#æ’é™¤*.bak
grep -r '192.167.1.1' /etc --exclude *.bak
#æ’é™¤æŒ‡å®šæ–‡ä»¶
grep -r '192.167.1.1' /opt --exclude-from <file_name><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>2ã€åŒ¹é…çš„å‰äº”ä¸ªç»“æœ</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 1 20 |grep -m 5 -E '[0-9]{2}'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>3ã€ç»Ÿè®¡åŒ¹é…ä¸¤ä½æ•°çš„æœ‰å¤šå°‘è¡Œ</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 1 20 |grep -c -E '[0-9]{2}'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="3-å†…å®¹è¡Œæ§åˆ¶"><a href="#3-å†…å®¹è¡Œæ§åˆ¶" class="headerlink" title="3) å†…å®¹è¡Œæ§åˆ¶"></a>3) å†…å®¹è¡Œæ§åˆ¶</h4><pre class="line-numbers language-shell"><code class="language-shell">-Bï¼Œ--before-context=NUM æ‰“å°åŒ¹é…çš„å‰å‡ è¡Œ
-Aï¼Œ--after-context=NUM æ‰“å°åŒ¹é…çš„åå‡ è¡Œ
-Cï¼Œ--context=NUM æ‰“å°åŒ¹é…çš„å‰åå‡ è¡Œ
--color[=WHEN], åŒ¹é…çš„å­—ä½“é¢œè‰²
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>1ã€æˆ‘æ˜¯ä¸€ä¸ªæ¡ˆä¾‹</p>
<pre class="line-numbers language-shell"><code class="language-shell">#åŒ¹é…ç»“æœåŠå 3 è¡Œ
seq 1 10 |grep 5 -A 3
#åŒ¹é…ç»“æœåŠå‰ 3 è¡Œ
seq 1 10 |grep 5 -B 3
#åŒ¹é…ç»“æœåŠå‰å 3 è¡Œ
seq 1 10 |grep 5 -C 3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="12-4-2-sed"><a href="#12-4-2-sed" class="headerlink" title="12.4.2 sed"></a>12.4.2 sed</h3><blockquote>
<p>sed å‘½ä»¤å°†å½“å‰å¤„ç†çš„è¡Œè¯»å…¥æ¨¡å¼ç©ºé—´è¿›è¡Œå¤„ç†ï¼Œå¤„ç†å®ŒæŠŠç»“æœè¾“å‡ºï¼Œå¹¶æ¸…ç©ºæ¨¡å¼ç©ºé—´ã€‚ç„¶åå†å°†ä¸‹ä¸€è¡Œè¯»å…¥æ¨¡å¼ç©ºé—´è¿›è¡Œå¤„ç†è¾“å‡ºï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æœ€åä¸€è¡Œã€‚è¿˜æœ‰ä¸€ä¸ªç©ºé—´å«ä¿æŒç©ºé—´ï¼Œåˆç§°æš‚å­˜ç©ºé—´ï¼Œå¯ä»¥æš‚æ—¶å­˜æ”¾ä¸€äº›å¤„ç†çš„æ•°æ®ï¼Œä½†ä¸èƒ½ç›´æ¥è¾“å‡ºï¼Œåªèƒ½æ”¾åˆ°æ¨¡å¼ç©ºé—´è¾“å‡ºã€‚</p>
</blockquote>
<h4 id="1ï¼‰å‘½ä»¤è¯¦è§£"><a href="#1ï¼‰å‘½ä»¤è¯¦è§£" class="headerlink" title="1ï¼‰å‘½ä»¤è¯¦è§£"></a>1ï¼‰å‘½ä»¤è¯¦è§£</h4><pre class="line-numbers language-shell"><code class="language-shell">-n ä¸æ‰“å°æ¨¡å¼ç©ºé—´
-e æ‰§è¡Œè„šæœ¬ã€è¡¨è¾¾å¼æ¥å¤„ç†
-f æ‰§è¡ŒåŠ¨ä½œä»æ–‡ä»¶è¯»å–æ‰§è¡Œ
-i ä¿®æ”¹åŸæ–‡ä»¶
-r ä½¿ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å‘½ä»¤æè¿°</p>
<pre class="line-numbers language-shell"><code class="language-shell">s/regexp/replacement/ æ›¿æ¢å­—ç¬¦ä¸²

p æ‰“å°å½“å‰æ¨¡å¼ç©ºé—´
P æ‰“å°æ¨¡å¼ç©ºé—´çš„ç¬¬ä¸€è¡Œ

d åˆ é™¤æ¨¡å¼ç©ºé—´ï¼Œå¼€å§‹ä¸‹ä¸€ä¸ªå¾ªç¯
D åˆ é™¤æ¨¡å¼ç©ºé—´çš„ç¬¬ä¸€è¡Œï¼Œå¼€å§‹ä¸‹ä¸€ä¸ªå¾ªç¯

= æ‰“å°å½“å‰è¡Œå·

a \text å½“å‰è¡Œè¿½åŠ æ–‡æœ¬

i \text å½“å‰è¡Œä¸Šé¢æ’å…¥æ–‡æœ¬

c \text æ‰€é€‰è¡Œæ›¿æ¢æ–°æ–‡æœ¬

q ç«‹å³é€€å‡º sed è„šæœ¬

r è¿½åŠ æ–‡æœ¬æ¥è‡ªæ–‡ä»¶

: label label ä¸º b å’Œ t å‘½ä»¤

b label åˆ†æ”¯åˆ°è„šæœ¬ä¸­å¸¦æœ‰æ ‡ç­¾çš„ä½ç½®ï¼Œå¦‚æœåˆ†æ”¯ä¸å­˜åœ¨åˆ™åˆ†æ”¯åˆ°è„šæœ¬çš„æœ«å°¾

t label å¦‚æœ s///æ˜¯ä¸€ä¸ªæˆåŠŸçš„æ›¿æ¢ï¼Œæ‰è·³è½¬åˆ°æ ‡ç­¾

h H å¤åˆ¶/è¿½åŠ æ¨¡å¼ç©ºé—´åˆ°ä¿æŒç©ºé—´

g G å¤åˆ¶/è¿½åŠ ä¿æŒç©ºé—´åˆ°æ¨¡å¼ç©ºé—´

x äº¤æ¢æ¨¡å¼ç©ºé—´å’Œä¿æŒç©ºé—´å†…å®¹

l æ‰“å°æ¨¡å¼ç©ºé—´çš„è¡Œï¼Œå¹¶æ˜¾ç¤ºæ§åˆ¶å­—ç¬¦$

n N è¯»å–/è¿½åŠ ä¸‹ä¸€è¡Œè¾“å…¥åˆ°æ¨¡å¼ç©ºé—´

w filename å†™å…¥å½“å‰æ¨¡å¼ç©ºé—´åˆ°æ–‡ä»¶
! å–åã€å¦å®š<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>1ã€åœ°å€åŒ¹é…</p>
<ul>
<li>first~step æ­¥é•¿ï¼Œæ¯ step è¡Œï¼Œä»ç¬¬ first å¼€å§‹</li>
<li>addr1ï¼Œ add2  -&gt; å®šå€ addr1ï¼Œ add2 å†³å®šç”¨äºå¯¹å“ªäº›è¡Œè¿›è¡Œç¼–è¾‘</li>
<li>addr1ï¼Œ +N -&gt; ä» addr1 è¿™è¡Œåˆ°å¾€ä¸‹ N è¡ŒåŒ¹é…ï¼Œæ€»å…±åŒ¹é… N+1 è¡Œ</li>
</ul>
<p>æ¡ˆä¾‹1ï¼šæ‰“å°ä»ç¬¬ 5 è¡Œå¼€å§‹ç¬¬ä¸€ä¸ªä»¥ northeast å¼€å¤´çš„è¡Œä¹‹é—´çš„æ‰€æœ‰è¡Œ</p>
<pre class="line-numbers language-shell"><code class="language-shell">sed -n '5,/northeast/p' ceshi.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>2ã€<code>s</code>åˆ†éš”ç¬¦æ›¿æ¢</p>
<pre class="line-numbers language-shell"><code class="language-shell">#åœ¨æŸ¥æ‰¾æ›¿æ¢æœ‰ / æˆ–è€…å…¶ä»–ç‰¹æ®Šå­—ç¬¦æ—¶æœ‰ç”¨
tail /etc/services | sed -r 's#([0-9]+/udp)#test#g'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<blockquote>
<p>ç´§è·Ÿåœ¨ s å‘½ä»¤åçš„å­—ç¬¦å°±æ˜¯æŸ¥æ‰¾ä¸²å’Œæ›¿æ¢ä¸²ä¹‹é—´çš„åˆ†éš”ç¬¦ã€‚åˆ†éš”ç¬¦é»˜è®¤é»˜è®¤ä¸ºæ­£æ–œæ ï¼Œä½†å¯ä»¥æ”¹å˜ã€‚æ— è®ºä»€ä¹ˆå­—ç¬¦ï¼ˆæ¢è¡Œç¬¦ï¼Œåæ–œçº¿é™¤å¤–ï¼‰ï¼Œåªè¦ç´§è·Ÿåœ¨ s å‘½ä»¤</p>
</blockquote>
<h4 id="2ï¼‰æ‰“å°åŒ¹é…"><a href="#2ï¼‰æ‰“å°åŒ¹é…" class="headerlink" title="2ï¼‰æ‰“å°åŒ¹é…"></a>2ï¼‰æ‰“å°åŒ¹é…</h4><pre class="line-numbers language-shell"><code class="language-shell">#æ‰“å°åŒ¹é… blp5 å¼€å¤´çš„è¡Œ
tail /etc/services |sed -n '/^blp5/p'
#æ‰“å°ç¬¬è¡Œ1
tail /etc/services |sed -n '1p'
#æ‰“å°å¥‡æ•°è¡Œ
seq 10 |sed -n '1~2p'
#æ‰“å°æœ€åä¸€è¡Œ
tail /etc/services |sed -n '$p'
#ä¸æ‰“å°æœ€åä¸€è¡Œ
tail /etc/services |sed -n '$!p'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><p>å¢åŠ åŒ¹é…èŒƒå›´</p>
<pre class="line-numbers language-shell"><code class="language-shell">#åŒ¹é…blp5,com å¼€å¤´
tail /etc/services |sed -n '/^blp5/,/^com/p'
#åŒ¹é…blp5å¼€å¤´è¡Œåˆ°æœ€åä¸€è¡Œ
tail /etc/services |sed -n '/blp5/,$p'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<p>2ã€ä½¿ç”¨ç¯å¢ƒå˜é‡</p>
<pre class="line-numbers language-shell"><code class="language-shell"> a=1
 tail /etc/services |sed -n ''$a',3p'
 tail /etc/services |sed -n "$a,3p"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>3ã€åŒ¹é…åˆ é™¤</p>
<pre class="line-numbers language-shell"><code class="language-shell">#åˆ é™¤åŒ¹é…blp5
tail /etc/services |sed '/blp5/d'
#åˆ é™¤ç¬¬ä¸€è¡Œ
tail /etc/services |sed '1d'
tail /etc/services |sed '1~2d'
tail /etc/services |sed '1,3d'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="3ï¼‰æ›¿æ¢"><a href="#3ï¼‰æ›¿æ¢" class="headerlink" title="3ï¼‰æ›¿æ¢"></a>3ï¼‰æ›¿æ¢</h4><p>1ã€ç®€å•æ›¿æ¢</p>
<pre class="line-numbers language-shell"><code class="language-shell">#æ›¿æ¢ blp5 å­—ç¬¦ä¸²ä¸º test --> æ¯è¡Œæ›¿æ¢é¦–ä¸ª
tail /etc/services |sed 's/blp5/test/'
#+ gå…¨éƒ¨æ›¿æ¢
tail /etc/services |sed 's/blp5/test/g'
#æ›¿æ¢å¼€å¤´æ˜¯ blp5 çš„å­—ç¬¦ä¸²å¹¶æ‰“å°
tail /etc/services |sed -n 's/^blp5/test/p'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>2ã€åŒ¹é…å¼•ç”¨ <code>&amp;</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">tail /etc/services | sed 's/udp/&.hao/g'
#å•å¼•å·è½¬åŒå¼•å·
echo '10.10.10.1 10.10.10.2 10.10.10.3' |sed -r 's/[^ ]+/"&"/g'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>3ã€è¿‡æ»¤</p>
<p>æ¡ˆä¾‹1ï¼šå¯¹ 1-4 è¡Œçš„ blp5 è¿›è¡Œæ›¿æ¢</p>
<pre class="line-numbers language-shell"><code class="language-shell">#å¯¹ 1-4 è¡Œçš„ blp5 è¿›è¡Œæ›¿æ¢
tail /etc/services | sed '1,4s/blp5/test/'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>æ¡ˆä¾‹2ï¼šæŒ‡å®šåŒ¹é…æ¡ä»¶æ›¿æ¢</p>
<pre class="line-numbers language-shell"><code class="language-shell">#æŒ‡å®šå­˜åœ¨ 48129/tcp çš„å†…å®¹ï¼Œæ›¿æ¢blp5ä¸ºtest
tail /etc/services | sed '/48129\/tcp/s/blp5/test/'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>æ¡ˆä¾‹3ï¼šæ³¨é‡ŠåŒ¹é…è¡Œåçš„å¤šå°‘è¡Œ</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 10 |sed '/5/,+3s/^/#/'
#output
1
2
3
4
#5
#6
#7
#8
9
10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ¡ˆä¾‹4ï¼šæŒ‡å®šæ›¿æ¢</p>
<pre class="line-numbers language-shell"><code class="language-shell"> seq 5 |sed -r 's/^3|^4/#&/'
 seq 5 |sed -r '/^3|^4/s/^/#/'
 seq 5 |sed -r 's/^3|^4/#\0/' 
 # ä»¥ä¸Šä¸‰ç§è¡¨è¾¾å¼æ•ˆæœä¸€æ ·ï¼Œ
 1
 2
 #3
 #4
 5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>4ã€è¿ç»­æ›¿æ¢</p>
<pre class="line-numbers language-shell"><code class="language-shell">tail /etc/services |sed 's/blp5/test/;s/3g/4g/'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>5ã€æ­£åˆ™åˆ†ç»„ç²¾ç¡®æ›¿æ¢</p>
<p>å­—ç¬¦å¦‚ï¼š <code>3gpp-cbsp 48049/tcp # 3GPP Cell Broadcast Service</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">tail /etc/services |sed -r 's/(.*) (.*)(#.*)/\1\2test \3/'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ³¨è§£ï¼š å¯ä»¥å¯¹\1, \2, \3 è¿›è¡Œåˆ å‡ï¼Œæ·»åŠ æŒ‡å®šçš„å†…å®¹</p>
<ul>
<li>\1 -&gt; 3gpp-cbsp</li>
<li>\2 -&gt; 48049/tcp</li>
<li>\3 -&gt; # 3GPP Cell Broadcast Service</li>
</ul>
<p>æ¡ˆä¾‹2: åè®®å’Œç«¯å£äº’æ¢</p>
<pre class="line-numbers language-shell"><code class="language-shell">tail /etc/services |sed -r 's/(.*)(\<[0-9]+\>)\/(tcp|udp)(.*)/\1\3\/\2\4/'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ¡ˆä¾‹3ï¼šä½ç½®æ›¿æ¢ -&gt;æ›¿æ¢ x å­—ç¬¦ä¸ºå¤§å†™ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">echo "abc cde xyz" |sed -r 's/(.*)x/\1X/'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ¡ˆä¾‹4ï¼šä½ç½®æ›¿æ¢-&gt; 456 ä¸ cde è°ƒæ¢</p>
<pre class="line-numbers language-shell"><code class="language-shell"> echo "abc:cde;123:456" |sed -r 's/([^:]+)(;.*:)([^:]+$)/\3\2\1/'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ¡ˆä¾‹5ï¼šå»é™¤å¼€å¤´å’Œç»“å°¾ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦</p>
<pre class="line-numbers language-shell"><code class="language-shell"> echo " 1 2 3 " |sed 's/^[ \t]*//;s/[ \t]*$//'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="4-å¤šé‡ç¼–è¾‘ä¸æ·»åŠ "><a href="#4-å¤šé‡ç¼–è¾‘ä¸æ·»åŠ " class="headerlink" title="4) å¤šé‡ç¼–è¾‘ä¸æ·»åŠ "></a>4) å¤šé‡ç¼–è¾‘ä¸æ·»åŠ </h4><p>æ¡ˆä¾‹1ï¼šåˆ é™¤1,2è¡Œï¼Œå¹¶æ›¿æ¢</p>
<pre class="line-numbers language-shell"><code class="language-shell">tail /etc/services |sed -e '1,2d' -e 's/blp5/test/'
#å¯ä»¥ç”¨ï¼›éš”å¼€
tail /etc/services |sed '1,2d;s/blp5/test/'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>æ¡ˆä¾‹2ï¼š<strong>æ·»åŠ æ–°å†…å®¹ï¼ˆaã€i å’Œ cï¼‰</strong></p>
<pre class="line-numbers language-shell"><code class="language-shell">#åœ¨ blp5 ä¸Šä¸€è¡Œæ·»åŠ  test
tail /etc/services |sed '/blp5/i \test'
#åœ¨ blp5 ä¸‹ä¸€è¡Œæ·»åŠ  test
tail /etc/services |sed '/blp5/a \test'
#blp5æ‰€åœ¨è¡Œæ•´è¡Œæ›¿æ¢
tail /etc/services |sed '/blp5/c \test'
#æŒ‡å®šè¡Œä¸‹ä¸€è¡Œæ·»åŠ å†…å®¹
tail /etc/services |sed '2a \test'
# åœ¨æŒ‡å®šè¡Œå‰é¢å’Œåé¢æ·»åŠ ä¸€è¡Œ
seq 5 |sed '3s/.*/txt\n&/'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ¡ˆä¾‹3ï¼šè¯»å–æ–‡ä»¶å¹¶è¿½åŠ åˆ°åŒ¹é…è¡Œåï¼ˆrï¼‰</p>
<pre class="line-numbers language-shell"><code class="language-shell">tail /etc/services |sed '/blp5/r a.txt'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ¡ˆä¾‹3ï¼šå°†åŒ¹é…è¡Œå†™åˆ°æ–‡ä»¶ï¼ˆwï¼‰</p>
<pre class="line-numbers language-shell"><code class="language-shell">tail /etc/services |sed '/blp5/w b.txt'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="5ï¼‰è¯»å–ä¸‹ä¸€è¡Œï¼ˆn-å’Œ-Nï¼‰"><a href="#5ï¼‰è¯»å–ä¸‹ä¸€è¡Œï¼ˆn-å’Œ-Nï¼‰" class="headerlink" title="5ï¼‰è¯»å–ä¸‹ä¸€è¡Œï¼ˆn å’Œ Nï¼‰"></a>5ï¼‰è¯»å–ä¸‹ä¸€è¡Œï¼ˆn å’Œ Nï¼‰</h4><ul>
<li><p>n è¯»å–ä¸‹ä¸€è¡Œåˆ°æ¨¡å¼ç©ºé—´ã€‚</p>
</li>
<li><p>N <code>è¿½åŠ </code>ä¸‹ä¸€è¡Œå†…å®¹åˆ°æ¨¡å¼ç©ºé—´ï¼Œå¹¶ä»¥æ¢è¡Œç¬¦\n åˆ†éš”ã€‚</p>
</li>
</ul>
<p>1ã€ æ‰“å°åŒ¹é…çš„ä¸‹ä¸€è¡Œ</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 5 |sed -n '/3/{n;p}'
#output
4<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>2ã€æ‰“å°å¶æ•°</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 6 |sed -n 'n;p'
#output
2
4
6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>sed å…ˆè¯»å–ç¬¬ä¸€è¡Œ 1ï¼Œæ‰§è¡Œ n å‘½ä»¤ï¼Œè·å–ä¸‹ä¸€è¡Œ 2ï¼Œæ­¤æ—¶æ¨¡å¼ç©ºé—´æ˜¯ 2ï¼Œæ‰§è¡Œ p å‘½ä»¤ï¼Œæ‰“å°æ¨¡å¼ç©º</p>
<p>é—´ã€‚ ç°åœ¨æ¨¡å¼ç©ºé—´æ˜¯ 2ï¼Œsed å†è¯»å– 3ï¼Œæ‰§è¡Œ n å‘½ä»¤ï¼Œè·å–ä¸‹ä¸€è¡Œ 4ï¼Œæ­¤æ—¶æ¨¡å¼ç©ºé—´ä¸º 4ï¼Œæ‰§è¡Œ p å‘½</p>
<p>ä»¤ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
</blockquote>
<p>ä¹ é¢˜ï¼šæ‰“å°å¥‡æ•°</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 6 |sed 'n;d'
#output
1
3
5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>sed å…ˆè¯»å–ç¬¬ä¸€è¡Œ 1ï¼Œæ­¤æ—¶æ¨¡å¼ç©ºé—´æ˜¯ 1ï¼Œå¹¶æ‰“å°æ¨¡å¼ç©ºé—´ 1ï¼Œæ‰§è¡Œ n å‘½ä»¤ï¼Œè·å–ä¸‹ä¸€è¡Œ 2ï¼Œæ‰§è¡Œ d</p>
<p>å‘½ä»¤ï¼Œåˆ é™¤æ¨¡å¼ç©ºé—´çš„ 2ï¼Œsed å†è¯»å– 3ï¼Œæ­¤æ—¶æ¨¡å¼ç©ºé—´æ˜¯ 3ï¼Œå¹¶æ‰“å°æ¨¡å¼ç©ºé—´ï¼Œå†æ‰§è¡Œ n å‘½ä»¤ï¼Œè·</p>
<p>å–ä¸‹ä¸€è¡Œ 4ï¼Œæ‰§è¡Œ d å‘½ä»¤ï¼Œåˆ é™¤æ¨¡å¼ç©ºé—´çš„ 3ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
</blockquote>
<p>3ã€æ¯ä¸‰è¡Œæ‰§è¡Œä¸€æ¬¡ p å‘½ä»¤</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 6 | sed 'n;n;p'
1
2
3
3
4
5
6
6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>sed å…ˆè¯»å–1è¡Œ</li>
<li>n è¯»å–ä¸‹ä¸€è¡Œ</li>
</ul>
<blockquote>
<p>sed å…ˆè¯»å–ç¬¬ä¸€è¡Œ 1ï¼Œå¹¶æ‰“å°æ¨¡å¼ç©ºé—´ 1ï¼Œæ‰§è¡Œ n å‘½ä»¤ï¼Œè·å–ä¸‹ä¸€è¡Œ 2ï¼Œå¹¶æ‰“å°æ¨¡å¼ç©ºé—´ 2ï¼Œå†æ‰§è¡Œ n</p>
<p>å‘½ä»¤ï¼Œè·å–ä¸‹ä¸€è¡Œ 3ï¼Œæ‰§è¡Œ p å‘½ä»¤ï¼Œæ‰“å°æ¨¡å¼ç©ºé—´ 3ã€‚sed è¯»å–ä¸‹ä¸€è¡Œ 3ï¼Œå¹¶æ‰“å°æ¨¡å¼ç©ºé—´ 3,ä»¥æ­¤ç±»</p>
<p>æ¨ã€‚</p>
</blockquote>
<p>4ã€æ¯ä¸‰è¡Œæ›¿æ¢ä¸€æ¬¡</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 6 |sed 'n;n;s/^/=/;s/$/=/'
seq 6 |sed '3~3{s/^/=/;s/$/=/}'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p> N å‘½ä»¤çš„ç›¸å…³åŠŸèƒ½</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 6 |sed 'N;q'
#åˆå¹¶ä¸¤è¡Œ
seq 6 |sed 'N;s/\n//'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>1ã€å¥‡æ•°è¡Œæ•°è¯»å–é—®é¢˜</p>
<pre class="line-numbers language-shell"><code class="language-shell"># seq 5 |sed -n N;p
1
2
3
4
# seq 6 |sed -n 'N;p'
1
2
3
4
5
6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>ä¸ºä»€ä¹ˆç¬¬ä¸€ä¸ªä¸æ‰“å° 5 å‘¢ï¼Ÿ</p>
<p>å› ä¸º N å‘½ä»¤æ˜¯è¯»å–ä¸‹ä¸€è¡Œè¿½åŠ åˆ° sed è¯»å–çš„å½“å‰è¡Œï¼Œå½“ N è¯»å–ä¸‹ä¸€è¡Œæ²¡æœ‰å†…å®¹æ—¶ï¼Œåˆ™é€€å‡ºï¼Œä¹Ÿä¸ä¼š</p>
<p>æ‰§è¡Œ p å‘½ä»¤æ‰“å°å½“å‰è¡Œã€‚</p>
<p>å½“è¡Œæ•°ä¸ºå¶æ•°æ—¶ï¼ŒN å§‹ç»ˆå°±èƒ½è¯»åˆ°ä¸‹ä¸€è¡Œï¼Œæ‰€ä»¥ä¹Ÿä¼šæ‰§è¡Œ p å‘½ä»¤ã€‚</p>
</blockquote>
<p>å¤„ç†æ–¹æ¡ˆï¼šæ‰“å°å¥‡æ•°è¡Œæ•°æ—¶çš„æœ€åä¸€è¡Œ</p>
<pre class="line-numbers language-shell"><code class="language-shell"> seq 5 |sed -n '$!N;p'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>sed æ‰§è¡Œåˆ°æœ€åä¸€è¡Œæ—¶ï¼Œç”¨æ„Ÿå¹å·ä¸å»æ‰§è¡Œ N å‘½ä»¤</p>
<h4 id="6-æ‰“å°å’Œåˆ é™¤æ¨¡å¼ç©ºé—´ç¬¬ä¸€è¡Œï¼ˆP-å’Œ-Dï¼‰"><a href="#6-æ‰“å°å’Œåˆ é™¤æ¨¡å¼ç©ºé—´ç¬¬ä¸€è¡Œï¼ˆP-å’Œ-Dï¼‰" class="headerlink" title="6) æ‰“å°å’Œåˆ é™¤æ¨¡å¼ç©ºé—´ç¬¬ä¸€è¡Œï¼ˆP å’Œ Dï¼‰"></a>6) æ‰“å°å’Œåˆ é™¤æ¨¡å¼ç©ºé—´ç¬¬ä¸€è¡Œï¼ˆP å’Œ Dï¼‰</h4><ul>
<li><p>P æ‰“å°æ¨¡å¼ç©ºé—´çš„ç¬¬ä¸€è¡Œã€‚</p>
</li>
<li><p>D åˆ é™¤æ¨¡å¼ç©ºé—´çš„ç¬¬ä¸€è¡Œã€‚</p>
</li>
</ul>
<p>1ã€ æ‰“å°å¥‡æ•°</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 6 |sed -n 'N;P'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>2ã€ä¿ç•™æœ€åä¸€è¡Œ</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 6 |sed 'N;D'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>è¯»å–ç¬¬ä¸€è¡Œ 1ï¼Œæ‰§è¡Œ N å‘½ä»¤è¯»å–ä¸‹ä¸€è¡Œå¹¶è¿½åŠ åˆ°æ¨¡å¼ç©ºé—´ï¼Œæ­¤æ—¶æ¨¡å¼ç©ºé—´æ˜¯ 1\n2ï¼Œæ‰§è¡Œ D å‘½ä»¤åˆ é™¤</p>
<p>æ¨¡å¼ç©ºé—´ç¬¬ä¸€è¡Œ 1ï¼Œå‰©ä½™ 2ã€‚</p>
<p>è¯»å–ç¬¬äºŒè¡Œï¼Œæ‰§è¡Œ N å‘½ä»¤ï¼Œæ­¤æ—¶æ¨¡å¼ç©ºé—´æ˜¯ 3\n4ï¼Œæ‰§è¡Œ D å‘½ä»¤åˆ é™¤æ¨¡å¼ç©ºé—´ç¬¬ä¸€è¡Œ 3ï¼Œå‰©ä½™ 4ã€‚</p>
<p>ä»¥æ­¤ç±»æ¨ï¼Œè¯»å–æœ€åä¸€è¡Œæ‰“å°æ—¶ï¼Œè€Œ N è·å–ä¸åˆ°ä¸‹ä¸€è¡Œåˆ™é€€å‡ºï¼Œä¸å†æ‰§è¡Œ Dï¼Œå› æ­¤æ¨¡å¼ç©ºé—´åªå‰©ä½™ 6</p>
<p>å°±æ‰“å°ã€‚</p>
</blockquote>
<h4 id="7-ä¿æŒç©ºé—´æ“ä½œï¼ˆh-ä¸-Hã€g-ä¸-G-å’Œ-xï¼‰"><a href="#7-ä¿æŒç©ºé—´æ“ä½œï¼ˆh-ä¸-Hã€g-ä¸-G-å’Œ-xï¼‰" class="headerlink" title="7) ä¿æŒç©ºé—´æ“ä½œï¼ˆh ä¸ Hã€g ä¸ G å’Œ xï¼‰"></a>7) ä¿æŒç©ºé—´æ“ä½œï¼ˆh ä¸ Hã€g ä¸ G å’Œ xï¼‰</h4><ul>
<li><p>h å¤åˆ¶æ¨¡å¼ç©ºé—´å†…å®¹åˆ°ä¿æŒç©ºé—´ï¼ˆè¦†ç›–ï¼‰ã€‚</p>
</li>
<li><p>H å¤åˆ¶æ¨¡å¼ç©ºé—´å†…å®¹è¿½åŠ åˆ°ä¿æŒç©ºé—´ã€‚</p>
</li>
<li><p>g å¤åˆ¶ä¿æŒç©ºé—´å†…å®¹åˆ°æ¨¡å¼ç©ºé—´ï¼ˆè¦†ç›–ï¼‰ã€‚</p>
</li>
<li><p>G å¤åˆ¶ä¿æŒç©ºé—´å†…å®¹è¿½åŠ åˆ°æ¨¡å¼ç©ºé—´ã€‚</p>
</li>
</ul>
<p>1ã€ åŒ¹é…å†…å®¹çš„æš‚å­˜å’Œè¾“å‡º</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 6 |sed -e '/3/{h;d}' -e '/5/g'
#output
1
2
4
3
6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>2ã€å°†åŒ¹é…çš„å†…å®¹æ”¾åˆ°æœ€å</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 6 |sed -e '/3/{h;d}' -e '$G'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>3ã€äº¤æ¢æ¨¡å¼ç©ºé—´å’Œä¿æŒç©ºé—´</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 6 |sed -e '/3/{h;d}' -e '/5/x' -e '$G'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è§£è¯»</p>
<blockquote>
<p>çœ‹åé¢å‘½ä»¤ï¼Œåœ¨æ¨¡å¼ç©ºé—´åŒ¹é… 5 å¹¶å°†ä¿æŒç©ºé—´çš„ 3 ä¸ 5 äº¤æ¢ï¼Œ5 å°±å˜æˆäº† 3,ã€‚æœ€åæŠŠä¿æŒç©ºé—´çš„ 5</p>
<p>è¿½åŠ åˆ°æ¨¡å¼ç©ºé—´çš„ã€‚</p>
</blockquote>
<p>4ã€å€’å™è¾“å‡º ã€éš¾ç‚¹ã€‘</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 5 |sed '1!G;h;$!d'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>åˆ†æï¼š 1!G ç¬¬ä¸€è¡Œä¸æ‰§è¡ŒæŠŠä¿æŒç©ºé—´å†…å®¹è¿½åŠ åˆ°æ¨¡å¼ç©ºé—´ï¼Œå› ä¸ºç°åœ¨ä¿æŒç©ºé—´è¿˜æ²¡æœ‰æ•°æ®ã€‚</p>
<p>h å°†æ¨¡å¼ç©ºé—´æ”¾åˆ°ä¿æŒç©ºé—´æš‚å­˜ã€‚</p>
<p>$!d æœ€åä¸€è¡Œä¸æ‰§è¡Œåˆ é™¤æ¨¡å¼ç©ºé—´çš„å†…å®¹ã€‚</p>
<p>è¯»å–ç¬¬ä¸€è¡Œ 1 æ—¶ï¼Œè·³è¿‡ G å‘½ä»¤ï¼Œæ‰§è¡Œ h å‘½ä»¤å°†æ¨¡å¼ç©ºé—´ 1 å¤åˆ¶åˆ°ä¿æŒç©ºé—´ï¼Œæ‰§è¡Œ d å‘½ä»¤åˆ é™¤æ¨¡å¼ç©º</p>
<p>é—´çš„ 1ã€‚</p>
<p>è¯»å–ç¬¬äºŒè¡Œ 2 æ—¶ï¼Œæ¨¡å¼ç©ºé—´æ˜¯ 2ï¼Œæ‰§è¡Œ G å‘½ä»¤ï¼Œå°†ä¿æŒç©ºé—´ 1 è¿½åŠ åˆ°æ¨¡å¼ç©ºé—´ï¼Œæ­¤æ—¶æ¨¡å¼ç©ºé—´æ˜¯</p>
<p>2\n1ï¼Œæ‰§è¡Œ h å‘½ä»¤å°† 2\n1 è¦†ç›–åˆ°ä¿æŒç©ºé—´ï¼Œd åˆ é™¤æ¨¡å¼ç©ºé—´ã€‚</p>
<p>è¯»å–ç¬¬ä¸‰è¡Œ 3 æ—¶ï¼Œæ¨¡å¼ç©ºé—´æ˜¯ 3ï¼Œæ‰§è¡Œ G å‘½ä»¤ï¼Œå°†ä¿æŒç©ºé—´ 2\n1 è¿½åŠ åˆ°æ¨¡å¼ç©ºé—´ï¼Œæ­¤æ—¶æ¨¡å¼ç©ºé—´æ˜¯</p>
<p>3\n2\n1ï¼Œæ‰§è¡Œ h å‘½ä»¤å°†æ¨¡å¼ç©ºé—´å†…å®¹å¤åˆ¶åˆ°ä¿æŒç©ºé—´ï¼Œd åˆ é™¤æ¨¡å¼ç©ºé—´ã€‚</p>
<p>ä»¥æ­¤ç±»æ¨è¯»åˆ°ç¬¬ è¡Œæ—¶æ¨¡å¼ç©ºé—´æ˜¯ æ‰§è¡Œ å‘½ä»¤å°†ä¿æŒç©ºé—´çš„ è¿½åŠ æ¨¡å¼ç©ºé—´</p>
<p>ä»¥æ­¤ç±»æ¨ï¼Œè¯»åˆ°ç¬¬ 5 è¡Œæ—¶ï¼Œæ¨¡å¼ç©ºé—´æ˜¯ 5ï¼Œæ‰§è¡Œ G å‘½ä»¤ï¼Œå°†ä¿æŒç©ºé—´çš„ 4\n3\n2\n1 è¿½åŠ æ¨¡å¼ç©ºé—´ï¼Œ</p>
<p>ç„¶åå¤åˆ¶åˆ°æ¨¡å¼ç©ºé—´ï¼Œ5\n4\n3\n2\n1ï¼Œä¸æ‰§è¡Œ dï¼Œæ¨¡å¼ç©ºé—´ä¿ç•™ï¼Œè¾“å‡ºã€‚</p>
<p>ç”±æ­¤å¯è§ï¼Œæ¯æ¬¡è¯»å–çš„è¡Œå…ˆæ”¾åˆ°æ¨¡å¼ç©ºé—´ï¼Œå†å¤åˆ¶åˆ°ä¿æŒç©ºé—´ï¼Œd å‘½ä»¤åˆ é™¤æ¨¡å¼ç©ºé—´å†…å®¹ï¼Œé˜²æ­¢è¾“</p>
<p>å‡ºï¼Œå†è¿½åŠ åˆ°æ¨¡å¼ç©ºé—´ï¼Œå› ä¸ºè¿½åŠ åˆ°æ¨¡å¼ç©ºé—´ï¼Œä¼šè¿½åŠ åˆ°æ–°è¯»å–çš„ä¸€è¡Œçš„åé¢ï¼Œå¾ªç¯è¿™æ ·æ“ä½œï¼Œ å°±</p>
<p>æŠŠæ‰€æœ‰è¡Œä¸€è¡Œè¡Œè¿½åŠ åˆ°æ–°è¯»å–è¡Œçš„åé¢ï¼Œå°±å½¢æˆäº†å€’å™ã€‚</p>
</blockquote>
<p>5ã€ æ¯è¡Œåé¢æ·»åŠ æ–°ç©ºè¡Œ</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 10 |sed G<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>6ã€æ‰“å°åŒ¹é…è¡Œçš„ä¸Šä¸€è¡Œå†…å®¹</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 5 |sed -n '/3/{x;p};h'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>è§£æï¼š</p>
<p>è¯»å–ç¬¬ä¸€è¡Œ 1ï¼Œæ²¡æœ‰åŒ¹é…åˆ° 3ï¼Œä¸æ‰§è¡Œ{x;p}ï¼Œæ‰§è¡Œ h å‘½ä»¤å°†æ¨¡å¼ç©ºé—´å†…å®¹ 1 è¦†ç›–åˆ°ä¿æŒç©ºé—´ã€‚</p>
<p>è¯»å–ç¬¬äºŒè¡Œ 2ï¼Œæ²¡æœ‰åŒ¹é…åˆ° 3ï¼Œä¸æ‰§è¡Œ{x;p}ï¼Œæ‰§è¡Œ h å‘½ä»¤å°†æ¨¡å¼ç©ºé—´å†…å®¹ 2 è¦†ç›–åˆ°ä¿æŒç©ºé—´ã€‚</p>
<p>è¯»å–ç¬¬ä¸‰è¡Œ 3ï¼ŒåŒ¹é…åˆ° 3ï¼Œæ‰§è¡Œ x å‘½ä»¤æŠŠæ¨¡å¼ç©ºé—´ 3 ä¸ä¿æŒç©ºé—´ 2 äº¤æ¢ï¼Œå†æ‰§è¡Œ p æ‰“å°æ¨¡å¼ç©ºé—´ 2.</p>
<p>ä»¥æ­¤ç±»æ¨ã€‚</p>
</blockquote>
<ul>
<li>æ³¨æ„ <code>/3/{x;p}</code> <code>h</code> æ˜¯å¹¶è¡Œçš„</li>
</ul>
<h4 id="8-æ ‡ç­¾ï¼ˆ-ã€b-å’Œ-tï¼‰"><a href="#8-æ ‡ç­¾ï¼ˆ-ã€b-å’Œ-tï¼‰" class="headerlink" title="8) æ ‡ç­¾ï¼ˆ:ã€b å’Œ tï¼‰"></a>8) æ ‡ç­¾ï¼ˆ:ã€b å’Œ tï¼‰</h4><p>æ ‡ç­¾å¯ä»¥æ§åˆ¶æµï¼Œå®ç°åˆ†æ”¯åˆ¤æ–­ã€‚</p>
<p>: lable name å®šä¹‰æ ‡ç­¾</p>
<ul>
<li>b lable è·³è½¬åˆ°æŒ‡å®šæ ‡ç­¾ï¼Œå¦‚æœæ²¡æœ‰æ ‡ç­¾åˆ™åˆ°è„šæœ¬æœ«å°¾</li>
<li>t lable è·³è½¬åˆ°æŒ‡å®šæ ‡ç­¾ï¼Œå‰ææ˜¯ s///å‘½ä»¤æ‰§è¡ŒæˆåŠŸ</li>
</ul>
<p>æ¡ˆä¾‹1ï¼šå°†æ¢è¡Œç¬¦æ›¿æ¢æˆé€—å·</p>
<p>æ–¹æ³•ä¸€ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 6 |sed ':a;N;s/\n/,/;b a'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>è¡Œ 1ï¼ŒN å‘½ä»¤è¯»å–ä¸‹è¡Œ 2ï¼Œæ­¤æ—¶æ¨¡å¼ç©ºé—´æ˜¯ 1\n2$ï¼Œæ‰§è¡Œæ›¿æ¢ï¼Œæ­¤æ—¶æ¨¡å¼ç©ºé—´æ˜¯</p>
<p>1,2$ï¼Œæ‰§è¡Œ b å‘½ä»¤å†è·³è½¬åˆ°æ ‡ç­¾ a ä½ç½®ç»§ç»­æ‰§è¡Œ N å‘½ä»¤ï¼Œè¯»å–ä¸‹ä¸€è¡Œ 3 è¿½åŠ åˆ°æ¨¡å¼ç©ºé—´ï¼Œæ­¤æ—¶æ¨¡å¼</p>
<p>ç©ºé—´æ˜¯ 1,2\n3$ï¼Œå†æ›¿æ¢ï¼Œä»¥æ­¤ç±»æ¨ï¼Œä¸æ–­è¿½åŠ æ›¿æ¢ï¼Œç›´åˆ°æœ€åä¸€è¡Œ N è¯»ä¸åˆ°ä¸‹ä¸€è¡Œå†…å®¹é€€å‡ºã€‚</p>
</blockquote>
<p>æ–¹æ³•äºŒ</p>
<pre class="line-numbers language-shell"><code class="language-shell">seq 6 |sed ':a;N;$!b a;s/\n/,/g'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>å…ˆå°†æ¯è¡Œè¯»å…¥åˆ°æ¨¡å¼ç©ºé—´ï¼Œæœ€åå†æ‰§è¡Œå…¨å±€æ›¿æ¢ã€‚$!æ˜¯å¦‚æœæ˜¯æœ€åä¸€è¡Œï¼Œåˆ™ä¸æ‰§è¡Œ b a è·³è½¬ï¼Œæœ€å</p>
<p>æ‰§è¡Œå…¨å±€æ›¿æ¢ã€‚</p>
</blockquote>
<p>æ¡ˆä¾‹2ï¼š æ¯ä¸‰ä¸ªæ•°å­—åŠ ä¸ªä¸€ä¸ªé€—å·</p>
<pre class="line-numbers language-shell"><code class="language-shell">echo "123456789" | sed -r ':a;s/([0-9]{3})([0-9]{3})/\1,\2/;t a'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ¡ˆä¾‹3 å¿½ç•¥å¤§å°å†™</p>
<h4 id="9-y-æŒ‡å®šè½¬åŒ–"><a href="#9-y-æŒ‡å®šè½¬åŒ–" class="headerlink" title="9) y æŒ‡å®šè½¬åŒ–"></a>9) y æŒ‡å®šè½¬åŒ–</h4><blockquote>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">echo "northwest" | sed 'y/north/cARTc/'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="12-4-3-awk"><a href="#12-4-3-awk" class="headerlink" title="12.4.3 awk"></a>12.4.3 awk</h3><blockquote>
<p>æ˜¯ä¸€ä¸ªå¤„ç†æ–‡æœ¬çš„ç¼–ç¨‹è¯­è¨€å·¥å…·ï¼Œèƒ½ç”¨ç®€çŸ­çš„ç¨‹åºå¤„ç†æ ‡å‡†è¾“å…¥æˆ–æ–‡ä»¶ã€æ•°æ®æ’åºã€è®¡ç®—ä»¥åŠ</p>
<p>ç”ŸæˆæŠ¥è¡¨ç­‰ç­‰</p>
</blockquote>
<h3 id="12-4-5-ç»¼åˆæ¡ˆä¾‹"><a href="#12-4-5-ç»¼åˆæ¡ˆä¾‹" class="headerlink" title="12.4.5 ç»¼åˆæ¡ˆä¾‹"></a>12.4.5 ç»¼åˆæ¡ˆä¾‹</h3><p>1ã€å¾ªç¯æ›¿æ¢ç«¯å£å·</p>
<pre class="line-numbers language-shell"><code class="language-shell">port=7006
while [[ "$port" -gt 7000 ]]
do
        mkdir -p /var/redis/"$port"
        cp ./6379.conf ./"$port".conf
        sed -i ``s/__port__/"$port"/g`` `grep __port__ -rl ./$port.conf`
        echo "port = $port"
        port=$(($port -1 ))
done<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="12-5-è¿œç¨‹"><a href="#12-5-è¿œç¨‹" class="headerlink" title="12. 5 è¿œç¨‹"></a>12. 5 è¿œç¨‹</h2><h3 id="12-5-1-è¿œç¨‹æ‹·è´"><a href="#12-5-1-è¿œç¨‹æ‹·è´" class="headerlink" title="12.5.1 è¿œç¨‹æ‹·è´"></a>12.5.1 è¿œç¨‹æ‹·è´</h3><p>1ã€æ‹·è´è¿œç¨‹æœºå™¨<code>æ–‡ä»¶å¤¹</code>åˆ°æœ¬åœ°</p>
<pre class="line-numbers language-shell"><code class="language-shell">scp -r jiangzhaowei@211.154.138.107:/kk/ ./
scp  jiangzhaowei@211.154.138.107:/kk/my.sql  ./<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="http://www.cnblogs.com/peida/tag/%E6%AF%8F%E6%97%A5%E4%B8%80linux%E5%91%BD%E4%BB%A4/default.html?page=1" target="_blank" rel="noopener">æ¯æ—¥ä¸€linuxå‘½ä»¤</a></li>
</ul>
<h1 id="ç¬¬åäº”ç« ã€ä¾‹è¡Œæ€§å·¥ä½œæ’ç¨‹ï¼ˆcrontabï¼‰"><a href="#ç¬¬åäº”ç« ã€ä¾‹è¡Œæ€§å·¥ä½œæ’ç¨‹ï¼ˆcrontabï¼‰" class="headerlink" title="ç¬¬åäº”ç« ã€ä¾‹è¡Œæ€§å·¥ä½œæ’ç¨‹ï¼ˆcrontabï¼‰"></a>ç¬¬åäº”ç« ã€ä¾‹è¡Œæ€§å·¥ä½œæ’ç¨‹ï¼ˆcrontabï¼‰</h1><h2 id="ä»…æ‰§è¡Œä¸€æ¬¡çš„å·¥ä½œæ’ç¨‹"><a href="#ä»…æ‰§è¡Œä¸€æ¬¡çš„å·¥ä½œæ’ç¨‹" class="headerlink" title="ä»…æ‰§è¡Œä¸€æ¬¡çš„å·¥ä½œæ’ç¨‹"></a>ä»…æ‰§è¡Œä¸€æ¬¡çš„å·¥ä½œæ’ç¨‹</h2><h2 id="å¾ªç¯æ‰§è¡Œçš„ä¾‹è¡Œæ€§å·¥ä½œæ’ç¨‹"><a href="#å¾ªç¯æ‰§è¡Œçš„ä¾‹è¡Œæ€§å·¥ä½œæ’ç¨‹" class="headerlink" title="å¾ªç¯æ‰§è¡Œçš„ä¾‹è¡Œæ€§å·¥ä½œæ’ç¨‹"></a>å¾ªç¯æ‰§è¡Œçš„ä¾‹è¡Œæ€§å·¥ä½œæ’ç¨‹</h2><h2 id="å¯å”¤é†’åœæœºé—´å·¥ä½œçš„æ’ç¨‹"><a href="#å¯å”¤é†’åœæœºé—´å·¥ä½œçš„æ’ç¨‹" class="headerlink" title="å¯å”¤é†’åœæœºé—´å·¥ä½œçš„æ’ç¨‹"></a>å¯å”¤é†’åœæœºé—´å·¥ä½œçš„æ’ç¨‹</h2><h1 id="ç¬¬äºŒåç« ã€åŸºç¡€ç³»ç»Ÿè®¾å®šä¸å¤‡ä»½ç­–ç•¥"><a href="#ç¬¬äºŒåç« ã€åŸºç¡€ç³»ç»Ÿè®¾å®šä¸å¤‡ä»½ç­–ç•¥" class="headerlink" title="ç¬¬äºŒåç« ã€åŸºç¡€ç³»ç»Ÿè®¾å®šä¸å¤‡ä»½ç­–ç•¥"></a>ç¬¬äºŒåç« ã€åŸºç¡€ç³»ç»Ÿè®¾å®šä¸å¤‡ä»½ç­–ç•¥</h1><h2 id="20-1-ç³»ç»ŸåŸºæœ¬è®¾å®š"><a href="#20-1-ç³»ç»ŸåŸºæœ¬è®¾å®š" class="headerlink" title="20.1 ç³»ç»ŸåŸºæœ¬è®¾å®š"></a>20.1 ç³»ç»ŸåŸºæœ¬è®¾å®š</h2><h3 id="20-1-1-ç½‘ç»œè®¾ç½®"><a href="#20-1-1-ç½‘ç»œè®¾ç½®" class="headerlink" title="20.1.1 ç½‘ç»œè®¾ç½®"></a>20.1.1 ç½‘ç»œè®¾ç½®</h3><h4 id="å¸¸ç”¨é…ç½®"><a href="#å¸¸ç”¨é…ç½®" class="headerlink" title="å¸¸ç”¨é…ç½®"></a>å¸¸ç”¨é…ç½®</h4><pre class="line-numbers language-shell"><code class="language-shell">#hostsåœ°å€
/etc/hosts<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h4 id="nmcli"><a href="#nmcli" class="headerlink" title="nmcli"></a>nmcli</h4><blockquote>
<p>å…¨ç§°æ˜¯â€NetworkManage CommandLine Interfaceâ€</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">#1. nmcli device show æŸ¥çœ‹ç½‘ç»œé…ç½®ç®€å†™
nmcli d show 
#2. nmcli connection show æŸ¥çœ‹ç½‘ç»œçŠ¶æ€çš„ç®€å†™
nmcli con show
# 3 æŸ¥çœ‹ç½‘ç»œè®¾å¤‡çŠ¶æ€
nmcli dev status 
# 4. æŸ¥çœ‹ç½‘ç»œçŠ¶æ€
nmcli dev status
# 5.å¿«é€Ÿä¿®æ”¹è¿æ¥é…ç½®
nmcli con mod â€œeth0â€ connection.autoconnect no
nmcli con mod â€œeth0â€ ipv4.dns 172.16.0.1
nmcli con mod â€œeth0â€ +ipv4.dns 8.8.8.8
nmcli con mod â€œeth0â€ -ipv4.dns 8.8.8.8
nmcli con mod â€œeth0â€ ipv4.addresses â€œ172.25.X.10/24 172.25.X.254â€
nmcli con mod â€œeth0â€ +ipv4.addresses 10.10.10.10/16
# 5.1 ç”Ÿæ•ˆ
nmcli con reload
#6 æ¿€æ´»å’Œç¦ç”¨ç½‘å¡
nmcli con down â€œsystem eth0â€ å¯è¢«è‡ªåŠ¨æ¿€æ´»
nmcli con up â€œsystem eth0â€
nmcli dev dis eth0 ç¦ç”¨ç½‘å¡ï¼Œè®¿æ­¢è¢«è‡ªåŠ¨æ¿€æ´»<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ³¨æ„ï¼šå¦‚æœå‡ºç°<code>Error: NetworkManager is not running.</code> é‡å¯network service <code>sudo /etc/init.d/network-manager restart</code>  ä¿®æ”¹å®Œæˆåç¦æ­¢NetworkMananger <code>systemctl disable NetworkManager</code></p>
<p>1ï¼‰ <strong>æ‰‹åŠ¨è®¾å®š IP ç½‘ç»œå‚æ•°</strong></p>
<ol>
<li><p>æŸ¥çœ‹æŒ‡å®šç½‘å¡çŠ¶æ€ <code>nmcli con show eth0</code>, é‡è¦å‚æ•°</p>
<pre class="line-numbers language-shell"><code class="language-shell">connection.autoconnect [yes|no]  ï¼šæ˜¯å¦äºå¼€æœºæ—¶å¯åŠ¨è¿™ä¸ªè”æœºï¼Œé¢„è®¾é€šå¸¸æ˜¯  yes  æ‰å¯¹ï¼
ipv4.method [auto|manual]  ï¼šè‡ªåŠ¨è¿˜æ˜¯æ‰‹åŠ¨è®¾å®šç½‘ç»œå‚æ•°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code></code></pre></li>
<li><p>è®¾ç½®ç½‘ç»œå‚æ•° <code>nmcli con modify eth0</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">[root@study ~]# nmcli con modify eth0 \ 
>  connection.autoconnect yes \ 
>  ipv4.method manual \ 
>  ipv4.addresses 172.16.1.1/16 \ 
>  ipv4.gateway 172.16.200.254 \ 
>  ipv4.dns 172.16.200.254 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>ç”Ÿæ•ˆ <code>nmcli con up eth0</code></p>
</li>
<li><p>éªŒè¯æ˜¯å¦ç”Ÿæ•ˆ <code>nmcli con show eth0</code> </p>
</li>
</ol>
<p><strong>ç½‘ç»œä¼šè¯é…ç½®å¿«é€Ÿå®ç°IPåœ°å€ç­‰ç½‘ç»œé…ç½®çš„å˜æ›´</strong></p>
<ol>
<li><p>æ–°å¢ç½‘ç»œä¼šè¯,<code>ens192</code>ä¸º <code>nmcli con show</code>  name æ ç›®ä¸‹çš„ç¡¬ä»¶ï¼Œè®¾ç½®<code>interface-name</code>ç½‘ç»œæ¥å£</p>
<pre class="line-numbers language-shell"><code class="language-shell">nmcli con add con-name datacenter-daxing \
ifname ens192 autoconnect no type ethernet \
ip4 172.16.60.100/16 \
gw4 172.16.0.1\
ipv4.dns 202.101.172.35<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>å¼€å¯ä¼šè¯ <code>nmcli con up datacenter-daxing</code></p>
</li>
<li><p>åˆ é™¤ä¼šè¯ <code>nmcli con del datacenter-daxing</code></p>
</li>
</ol>
<hr>
<h1 id="ç¬¬äºŒåä¸€ã€ç« -è½¯ä»¶å®‰è£…"><a href="#ç¬¬äºŒåä¸€ã€ç« -è½¯ä»¶å®‰è£…" class="headerlink" title="ç¬¬äºŒåä¸€ã€ç«  è½¯ä»¶å®‰è£…"></a>ç¬¬äºŒåä¸€ã€ç«  è½¯ä»¶å®‰è£…</h1><h2 id="å¸¸ç”¨è½¯ä»¶å®‰è£…"><a href="#å¸¸ç”¨è½¯ä»¶å®‰è£…" class="headerlink" title="å¸¸ç”¨è½¯ä»¶å®‰è£…"></a>å¸¸ç”¨è½¯ä»¶å®‰è£…</h2><ul>
<li><p>è½¯ä»¶ç®¡ç†å·¥å…·</p>
<p><a href="https://github.com/Linuxbrew/brew" target="_blank" rel="noopener">Homebrew for linux </a></p>
</li>
<li><p>ç¼–è¯‘å·¥å…·</p>
<ul>
<li><p><a href="https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/01.1.md" target="_blank" rel="noopener">go ç³»ç»Ÿå®‰è£…è¯´æ˜</a></p>
<pre class="line-numbers language-shell"><code class="language-shell">tar -C /usr/local -xzf go1.11.5.linux-amd64.tar.gz
export PATH=$PATH:/usr/local/go/bin
source $HOME/.profile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
<li><p><a href="https://blog.csdn.net/laomd/article/details/80710451" target="_blank" rel="noopener">Ubuntuä½¿ç”¨snapå®‰è£…å¸¸ç”¨è½¯ä»¶</a></p>
</li>
</ul>
<h3 id="VPNï¼ˆç¿»å¢™ï¼‰"><a href="#VPNï¼ˆç¿»å¢™ï¼‰" class="headerlink" title="VPNï¼ˆç¿»å¢™ï¼‰"></a>VPNï¼ˆç¿»å¢™ï¼‰</h3><h4 id="å½±æ¢­"><a href="#å½±æ¢­" class="headerlink" title="å½±æ¢­"></a><strong>å½±æ¢­</strong></h4><p><a href="http://shadowsocks.org/en/index.html" target="_blank" rel="noopener">Shadowsockså®˜ç½‘ æœ‰Clientå’ŒServerä¸‹è½½ï¼Œå¸¸ç”¨é…ç½®</a></p>
<p>Chromeæ’ä»¶ï¼š<a href="http://okzhjyy82.bkt.clouddn.com/SwitchyOptions.bak" target="_blank" rel="noopener">SwitchyOptions.bakä¸‹è½½</a><br><strong>Ubuntuç›´æ¥å®‰è£…</strong></p>
<pre class="line-numbers language-shell"><code class="language-shell">sudo add-apt-repository ppa:hzwhuang/ss-qt5
sudo apt-get update
sudo apt-get install shadowsocks-qt5
ss-qt5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="è½¯ä»¶é…ç½®åŠä½¿ç”¨"><a href="#è½¯ä»¶é…ç½®åŠä½¿ç”¨" class="headerlink" title="è½¯ä»¶é…ç½®åŠä½¿ç”¨"></a>è½¯ä»¶é…ç½®åŠä½¿ç”¨</h2><h3 id="å¸¸ç”¨é…ç½®-1"><a href="#å¸¸ç”¨é…ç½®-1" class="headerlink" title="å¸¸ç”¨é…ç½®"></a>å¸¸ç”¨é…ç½®</h3><ol>
<li><a href="http://www.linuxidc.com/Linux/2014-02/97349.htm" target="_blank" rel="noopener">Ubuntuä¸‹é…ç½®æ”¯æŒWindowsè®¿é—®çš„Sambaå…±äº«</a></li>
</ol>
<h3 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h3><ul>
<li><p>ï½/.vimrc</p>
<ul>
<li>hi Comment ctermfg =blue #è“è‰²æ³¨é‡Š</li>
<li>git config â€“global core.editor vim</li>
<li>ä¸­æ–‡ä¹±ç   set fencs=utf-8,GB18030,ucs-bom,default,latin1</li>
<li>è®¾ç½®TAB<pre class="line-numbers language-shell"><code class="language-shell">set ts=4  (æ³¨ï¼štsæ˜¯tabstopçš„ç¼©å†™ï¼Œè®¾TABå®½4ä¸ªç©ºæ ¼)
set expandtab
å¯¹äºå·²ä¿å­˜çš„æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•è¿›è¡Œç©ºæ ¼å’ŒTABçš„æ›¿æ¢ï¼š
TABæ›¿æ¢ä¸ºç©ºæ ¼ï¼š
:set ts=4
:set expandtab
:%retab!
ç©ºæ ¼æ›¿æ¢ä¸ºTABï¼š
:set ts=4
:set noexpandtab
:%retab!
åŠ !æ˜¯ç”¨äºå¤„ç†éç©ºç™½å­—ç¬¦ä¹‹åçš„TABï¼Œå³æ‰€æœ‰çš„TABï¼Œè‹¥ä¸åŠ !ï¼Œåˆ™åªå¤„ç†è¡Œé¦–çš„TABã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
<li><p>å¸¸ç”¨å‘½ä»¤</p>
<blockquote>
<p>vim  FileName  +LineNumber == vim + LineNumber Filename</p>
</blockquote>
</li>
</ul>
<h2 id="é—®é¢˜è§£å†³è®°å½•"><a href="#é—®é¢˜è§£å†³è®°å½•" class="headerlink" title="é—®é¢˜è§£å†³è®°å½•"></a>é—®é¢˜è§£å†³è®°å½•</h2><h3 id="è½¯ä»¶å®‰è£…"><a href="#è½¯ä»¶å®‰è£…" class="headerlink" title="è½¯ä»¶å®‰è£…"></a>è½¯ä»¶å®‰è£…</h3><ol>
<li>ä½¿ç”¨ï¼š<code>sudo apt-get install openvswitch-switch</code> æŠ¥é”™</li>
</ol>
<pre class="line-numbers language-shell"><code class="language-shell">E: Could not get lock /var/lib/dpkg/lock - open (11: Resource temporarily unavailable)
E: Unable to lock the administration directory (/var/lib/dpkg/), is another process using it?<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>è§£å†³ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">sudo rm /var/cache/apt/archives/lock
sudo rm /var/lib/dpkg/lock<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ol start="2">
<li><p>ubuntu adb å®‰è£…<br>é—®é¢˜ï¼šadb devices: ?????? no permissionsè§£å†³åŠæ³•</p>
<p><strong>lsusb</strong> ï¼š æŸ¥çœ‹USBçš„è¿æ¥çŠ¶æ€</p>
<pre class="line-numbers language-shell"><code class="language-shell">Bus 001 Device 003: ID 04f2:b5a7 Chicony Electronics Co., Ltd 
Bus 001 Device 006: ID 05c6:9091 Qualcomm, Inc. 
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 002 Device 003: ID 0e0f:0002 VMware, Inc. Virtual USB Hub
Bus 002 Device 002: ID 0e0f:0003 VMware, Inc. Virtual Mouse
Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è®¾ç½®USB</p>
<pre class="line-numbers language-shell"><code class="language-shell"># ç¼–è¾‘
sudo echo '"SUBSYSTEM=="usb", ATTR{idVendor}=="05c6", MODE="0666", GROUP="plugdev""' >>  /etc/udev/rules.d/70-android.rules
# é‡å¯
sudo chmod a+rx /etc/udev/rules.d/70-android.rules
sudo service udev restart
# adb é‡å¯
adb kill-server
adb devices<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä»¥ä¸Šæ²¡æœ‰ä¸‹è¿‡çš„éƒ½æ— æ•ˆæœï¼ŒæŸ¥çœ‹ç¡¬ä»¶æ‰‹åŠ¨é‡å¯USBè°ƒè¯•æ˜¯å¦æ­£å¸¸<br>å‚è€ƒï¼š <a href="https://www.jianshu.com/p/82fcb8dd8486" target="_blank" rel="noopener">adb devices: ?????? no permissionsè§£å†³åŠæ³•</a></p>
</li>
</ol>
<h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h1><ul>
<li><a href="https://blog.csdn.net/sxhong/article/details/78355341" target="_blank" rel="noopener">Centoså›½å†…ä¸‹è½½æº</a></li>
<li><a href="https://blog.csdn.net/CSDN1887/article/details/81540311" target="_blank" rel="noopener">CentOSå›½å†…é•œåƒ-YUMæºæ›´æ–°</a></li>
</ul>
<h2 id="æ—¥å¸¸è§£å†³é—®é¢˜"><a href="#æ—¥å¸¸è§£å†³é—®é¢˜" class="headerlink" title="æ—¥å¸¸è§£å†³é—®é¢˜"></a>æ—¥å¸¸è§£å†³é—®é¢˜</h2><ul>
<li><p>è®¾ç½®å½±æ¢­ä»£ç†</p>
<pre class="line-numbers language-shell"><code class="language-shell">#1.ä¸´æ—¶æ–¹æ¡ˆ
export ALL_PROXY=socks5://127.0.0.1:1080
#æ°¸ä¹…æ–¹æ¡ˆ
echo export ALL_PROXY=socks5://127.0.0.1:1080 >> ~/.bash_profile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>ubuntu ä¸‹ su: Authentication failure</p>
<pre class="line-numbers language-shell"><code class="language-shell">sudo passwd root
Enter new UNIX password: 
Retype new UNIX password: 
passwd: password updated successfully<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><p><strong>Linux termial shortcut</strong> ç»ˆç«¯æ“ä½œå¿«æ·é”®</p>
<table>
<thead>
<tr>
<th align="center">cmd</th>
<th align="center">function</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ctrl + a /&lt;-</td>
<td align="center">move to line head</td>
</tr>
<tr>
<td align="center">ctrl + e/-&gt;</td>
<td align="center">move to line tail</td>
</tr>
<tr>
<td align="center">ctrl + b /f</td>
<td align="center">move back/front  a char</td>
</tr>
<tr>
<td align="center">alt + b</td>
<td align="center">move back a word</td>
</tr>
<tr>
<td align="center">ctrl+w</td>
<td align="center">delete a word before cursor</td>
</tr>
<tr>
<td align="center">alt + d</td>
<td align="center">delete a word after cursor</td>
</tr>
<tr>
<td align="center">ctrl +k</td>
<td align="center">delete all word after cursor</td>
</tr>
</tbody></table>
<h2 id="å­¦ä¹ èµ„æ–™"><a href="#å­¦ä¹ èµ„æ–™" class="headerlink" title="å­¦ä¹ èµ„æ–™"></a>å­¦ä¹ èµ„æ–™</h2><h3 id="åšå®¢"><a href="#åšå®¢" class="headerlink" title="åšå®¢"></a>åšå®¢</h3><ul>
<li><a href="http://www.cnblogs.com/stephen-liu74/archive/2011/12/20/2285454.html" target="_blank" rel="noopener"> </a><a href="http://www.cnblogs.com/stephen-liu74/archive/2011/12/20/2285454.html" target="_blank" rel="noopener">Linux shell å¸¸ç”¨æŠ€å·§ç³»åˆ—æ•™ç¨‹</a> </li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
        <tag>ç»éªŒ</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾è®¡å¾ªç¯é˜Ÿåˆ—-LeetCode</title>
    <url>/2019/09/16/2019-9-16-circle-queue-LeetCode/</url>
    <content><![CDATA[<h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><h2 id="è‹±æ–‡"><a href="#è‹±æ–‡" class="headerlink" title="è‹±æ–‡"></a>è‹±æ–‡</h2><p>Design your implementation of the circular queue. The circular queue is a linear data structure in which the operations are performed based on FIFO (First In First Out) principle and the last position is connected back to the first position to make a circle. It is also called â€œRing Bufferâ€.</p>
<p>One of the benefits of the circular queue is that we can make use of the spaces in front of the queue. In a normal queue, once the queue becomes full, we cannot insert the next element even if there is a space in front of the queue. But using the circular queue, we can use the space to store new values.</p>
<p>Your implementation should support following operations:</p>
<ul>
<li><code>MyCircularQueue(k)</code>: Constructor, set the size of the queue to be k.</li>
<li><code>Front</code>: Get the front item from the queue. If the queue is empty, return -1.</li>
<li><code>Rear</code>: Get the last item from the queue. If the queue is empty, return -1.</li>
<li><code>enQueue(value)</code>: Insert an element into the circular queue. Return true if the operation is successful.</li>
<li><code>deQueue()</code>: Delete an element from the circular queue. Return true if the operation is successful.</li>
<li><code>isEmpty()</code>: Checks whether the circular queue is empty or not.</li>
<li><code>isFull()</code>: Checks whether the circular queue is full or not.</li>
</ul>
<h2 id="ä¸­æ–‡"><a href="#ä¸­æ–‡" class="headerlink" title="ä¸­æ–‡"></a>ä¸­æ–‡</h2><p>è®¾è®¡ä½ çš„å¾ªç¯é˜Ÿåˆ—å®ç°ã€‚ å¾ªç¯é˜Ÿåˆ—æ˜¯ä¸€ç§çº¿æ€§æ•°æ®ç»“æ„ï¼Œå…¶æ“ä½œè¡¨ç°åŸºäº FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰åŸåˆ™å¹¶ä¸”é˜Ÿå°¾è¢«è¿æ¥åœ¨é˜Ÿé¦–ä¹‹åä»¥å½¢æˆä¸€ä¸ªå¾ªç¯ã€‚å®ƒä¹Ÿè¢«ç§°ä¸ºâ€œç¯å½¢ç¼“å†²å™¨â€ã€‚</p>
<p>å¾ªç¯é˜Ÿåˆ—çš„ä¸€ä¸ªå¥½å¤„æ˜¯æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªé˜Ÿåˆ—ä¹‹å‰ç”¨è¿‡çš„ç©ºé—´ã€‚åœ¨ä¸€ä¸ªæ™®é€šé˜Ÿåˆ—é‡Œï¼Œä¸€æ—¦ä¸€ä¸ªé˜Ÿåˆ—æ»¡äº†ï¼Œæˆ‘ä»¬å°±ä¸èƒ½æ’å…¥ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå³ä½¿åœ¨é˜Ÿåˆ—å‰é¢ä»æœ‰ç©ºé—´ã€‚ä½†æ˜¯ä½¿ç”¨å¾ªç¯é˜Ÿåˆ—ï¼Œæˆ‘ä»¬èƒ½ä½¿ç”¨è¿™äº›ç©ºé—´å»å­˜å‚¨æ–°çš„å€¼ã€‚</p>
<p>ä½ çš„å®ç°åº”è¯¥æ”¯æŒå¦‚ä¸‹æ“ä½œï¼š</p>
<p>MyCircularQueue(k): æ„é€ å™¨ï¼Œè®¾ç½®é˜Ÿåˆ—é•¿åº¦ä¸º k ã€‚<br>Front: ä»é˜Ÿé¦–è·å–å…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œè¿”å› -1 ã€‚<br>Rear: è·å–é˜Ÿå°¾å…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œè¿”å› -1 ã€‚<br>enQueue(value): å‘å¾ªç¯é˜Ÿåˆ—æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœæˆåŠŸæ’å…¥åˆ™è¿”å›çœŸã€‚<br>deQueue(): ä»å¾ªç¯é˜Ÿåˆ—ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœæˆåŠŸåˆ é™¤åˆ™è¿”å›çœŸã€‚<br>isEmpty(): æ£€æŸ¥å¾ªç¯é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºã€‚<br>isFull(): æ£€æŸ¥å¾ªç¯é˜Ÿåˆ—æ˜¯å¦å·²æ»¡ã€‚</p>
<h1 id="è§£æ³•"><a href="#è§£æ³•" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h1><h2 id="å®˜æ–¹è§£æ³•-æ›´ç¬¦åˆé¢˜æ„"><a href="#å®˜æ–¹è§£æ³•-æ›´ç¬¦åˆé¢˜æ„" class="headerlink" title="å®˜æ–¹è§£æ³•-æ›´ç¬¦åˆé¢˜æ„"></a>å®˜æ–¹è§£æ³•-æ›´ç¬¦åˆé¢˜æ„</h2><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">MyCircularQueue</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> queue<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> count<span class="token punctuation">,</span>front<span class="token punctuation">,</span>rear<span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">/** Initialize your data structure here. Set the size of the queue to be k. */</span>
  <span class="token keyword">public</span> <span class="token function">MyCircularQueue</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">/** Insert an element into the circular queue. Return true if the operation is successful. */</span>
  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">enQueue</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span>  <span class="token boolean">false</span><span class="token punctuation">;</span>
    queue<span class="token punctuation">[</span>rear<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
    rear <span class="token operator">=</span> <span class="token punctuation">(</span>rear <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> queue<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    count <span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">/** Delete an element from the circular queue. Return true if the operation is successful. */</span>
  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">deQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span>  <span class="token boolean">false</span><span class="token punctuation">;</span>
    front <span class="token operator">=</span> <span class="token punctuation">(</span>front <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> queue<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    count <span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">/** Get the front item from the queue. */</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">Front</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> queue<span class="token punctuation">[</span>front<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">/** Get the last item from the queue. */</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">Rear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span>  <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> rear <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> queue<span class="token punctuation">[</span>queue<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> queue<span class="token punctuation">[</span>rear <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">/** Checks whether the circular queue is empty or not. */</span>
  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">/** Checks whether the circular queue is full or not. */</span>
  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> count <span class="token operator">==</span> queue<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="è§£æ³•äºŒï¼šåˆ©ç”¨æ•°ç»„é•¿åº¦å’Œè®¡æ•°é™ä½éš¾åº¦"><a href="#è§£æ³•äºŒï¼šåˆ©ç”¨æ•°ç»„é•¿åº¦å’Œè®¡æ•°é™ä½éš¾åº¦" class="headerlink" title="è§£æ³•äºŒï¼šåˆ©ç”¨æ•°ç»„é•¿åº¦å’Œè®¡æ•°é™ä½éš¾åº¦"></a>è§£æ³•äºŒï¼šåˆ©ç”¨æ•°ç»„é•¿åº¦å’Œè®¡æ•°é™ä½éš¾åº¦</h2><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">MyCircularQueue</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> queue<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> count<span class="token punctuation">,</span>front<span class="token punctuation">,</span>rear<span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">/** Initialize your data structure here. Set the size of the queue to be k. */</span>
  <span class="token keyword">public</span> <span class="token function">MyCircularQueue</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">/** Insert an element into the circular queue. Return true if the operation is successful. */</span>
  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">enQueue</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span>  <span class="token boolean">false</span><span class="token punctuation">;</span>
    queue<span class="token punctuation">[</span>rear<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
    rear <span class="token operator">=</span> <span class="token punctuation">(</span>rear <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> queue<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    count <span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">/** Delete an element from the circular queue. Return true if the operation is successful. */</span>
  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">deQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span>  <span class="token boolean">false</span><span class="token punctuation">;</span>
    front <span class="token operator">=</span> <span class="token punctuation">(</span>front <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> queue<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    count <span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">/** Get the front item from the queue. */</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">Front</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> queue<span class="token punctuation">[</span>front<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">/** Get the last item from the queue. */</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">Rear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span>  <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> rear <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> queue<span class="token punctuation">[</span>queue<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> queue<span class="token punctuation">[</span>rear <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">/** Checks whether the circular queue is empty or not. */</span>
  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">/** Checks whether the circular queue is full or not. */</span>
  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> count <span class="token operator">==</span> queue<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title>è‡ªå®šä¹‰ViewçŸ¥è¯†æ¶æ„ä½“ç³»</title>
    <url>/2019/09/15/2019-9-15-custom_view_note/</url>
    <content><![CDATA[<h1 id="ç¬¬ä¸€ç« -å…¥é—¨åŸºæœ¬ç±»ç†Ÿæ‚‰"><a href="#ç¬¬ä¸€ç« -å…¥é—¨åŸºæœ¬ç±»ç†Ÿæ‚‰" class="headerlink" title="ç¬¬ä¸€ç«  å…¥é—¨åŸºæœ¬ç±»ç†Ÿæ‚‰"></a>ç¬¬ä¸€ç«  å…¥é—¨åŸºæœ¬ç±»ç†Ÿæ‚‰</h1><h2 id="ç¬¬1èŠ‚-Canvas"><a href="#ç¬¬1èŠ‚-Canvas" class="headerlink" title="ç¬¬1èŠ‚ Canvas"></a>ç¬¬1èŠ‚ Canvas</h2><h3 id="Canvas-ä½¿ç”¨æ–¹æ³•æ¦‚è¿°"><a href="#Canvas-ä½¿ç”¨æ–¹æ³•æ¦‚è¿°" class="headerlink" title="Canvas ä½¿ç”¨æ–¹æ³•æ¦‚è¿°"></a>Canvas ä½¿ç”¨æ–¹æ³•æ¦‚è¿°</h3><ul>
<li>drawXXX() -&gt; ç»˜åˆ¶åŸºæœ¬å›¾å½¢ç±»æ–¹æ³•ï¼š </li>
<li><strong>clipRect</strong>()  -&gt; ç±»ä¼¼äºç°å®ä¸­çš„A4ç”»çº¸è£å‰ª</li>
<li>save(), restore(), rotate() translate() -&gt; å¯ä»¥è”æƒ³ç°å®ä¸­æŠŠç”»çº¸ç§»åŠ¨ã€æ—‹è½¬æ‰¾çš„åˆé€‚çš„ä¸‹ç¬”ä½ç½®ï¼Œåœ¨å›å¤ä½ç½®</li>
</ul>
<h3 id="æ–¹æ³•ä¸¾ä¾‹"><a href="#æ–¹æ³•ä¸¾ä¾‹" class="headerlink" title="æ–¹æ³•ä¸¾ä¾‹"></a>æ–¹æ³•ä¸¾ä¾‹</h3><p>drawRoundRect(float left, float top, float right, float bottom, float rx, float ry, Paint paint)  ç”»åœ†è§’çŸ©å½¢</p>
<p>drawArc(float left, float top, float right, float bottom, float startAngle, float sweepAngle, boolean useCenter, Paint paint) ç»˜åˆ¶å¼§å½¢æˆ–æ‰‡å½¢</p>
<ul>
<li><code>startAngle</code> æ˜¯å¼§å½¢çš„èµ·å§‹è§’åº¦ï¼ˆx è½´çš„æ­£å‘ï¼Œå³æ­£å³çš„æ–¹å‘ï¼Œæ˜¯ 0 åº¦çš„ä½ç½®ï¼›é¡ºæ—¶é’ˆä¸ºæ­£è§’åº¦ï¼Œé€†æ—¶é’ˆä¸ºè´Ÿè§’åº¦ï¼‰</li>
<li><code>useCenter</code> è¡¨ç¤ºæ˜¯å¦è¿æ¥åˆ°åœ†å¿ƒï¼Œå¦‚æœä¸è¿æ¥åˆ°åœ†å¿ƒï¼Œå°±æ˜¯å¼§å½¢ï¼Œå¦‚æœè¿æ¥åˆ°åœ†å¿ƒï¼Œå°±æ˜¯æ‰‡å½¢ã€‚</li>
</ul>
<ol>
<li><h4 id="Canvas-scale-float-sx-float-sy-float-px-float-py-æ”¾ç¼©"><a href="#Canvas-scale-float-sx-float-sy-float-px-float-py-æ”¾ç¼©" class="headerlink" title="Canvas.scale(float sx, float sy, float px, float py) æ”¾ç¼©"></a>Canvas.scale(float sx, float sy, float px, float py) æ”¾ç¼©</h4></li>
<li><h4 id="skew-float-sx-float-sy-é”™åˆ‡"><a href="#skew-float-sx-float-sy-é”™åˆ‡" class="headerlink" title="skew(float sx, float sy) é”™åˆ‡"></a>skew(float sx, float sy) é”™åˆ‡</h4></li>
<li><h4 id="Matrix-æ¥åšè‡ªå®šä¹‰å˜æ¢"><a href="#Matrix-æ¥åšè‡ªå®šä¹‰å˜æ¢" class="headerlink" title="Matrix æ¥åšè‡ªå®šä¹‰å˜æ¢"></a>Matrix æ¥åšè‡ªå®šä¹‰å˜æ¢</h4><pre class="line-numbers language-java"><code class="language-java">Matrix matrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Matrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">float</span> pointsSrc <span class="token operator">=</span> <span class="token punctuation">{</span>left<span class="token punctuation">,</span> top<span class="token punctuation">,</span> right<span class="token punctuation">,</span> top<span class="token punctuation">,</span> left<span class="token punctuation">,</span> bottom<span class="token punctuation">,</span> right<span class="token punctuation">,</span> bottom<span class="token punctuation">}</span><span class="token punctuation">;</span>  
<span class="token keyword">float</span> pointsDst <span class="token operator">=</span> <span class="token punctuation">{</span>left <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">,</span> top <span class="token operator">+</span> <span class="token number">50</span><span class="token punctuation">,</span> right <span class="token operator">+</span> <span class="token number">120</span><span class="token punctuation">,</span> top <span class="token operator">-</span> <span class="token number">90</span><span class="token punctuation">,</span> left <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">,</span> bottom <span class="token operator">+</span> <span class="token number">30</span><span class="token punctuation">,</span> right <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">,</span> bottom <span class="token operator">+</span> <span class="token number">60</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

matrix<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
matrix<span class="token punctuation">.</span><span class="token function">setPolyToPoly</span><span class="token punctuation">(</span>pointsSrc<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> pointsDst<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

canvas<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
canvas<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span><span class="token punctuation">;</span>  
canvas<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>bitmap<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>  
canvas<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h3 id="Canvaså›¾å±‚çš„æ¦‚å¿µ"><a href="#Canvaså›¾å±‚çš„æ¦‚å¿µ" class="headerlink" title="Canvaså›¾å±‚çš„æ¦‚å¿µ"></a>Canvaså›¾å±‚çš„æ¦‚å¿µ</h3><p>ä¸»è¦æ–¹æ³•</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æ–°å»ºå›¾å±‚</span>
<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">saveLayer</span><span class="token punctuation">(</span><span class="token keyword">float</span> left<span class="token punctuation">,</span> <span class="token keyword">float</span> top<span class="token punctuation">,</span> <span class="token keyword">float</span> right<span class="token punctuation">,</span> <span class="token keyword">float</span> bottom<span class="token punctuation">,</span> Paint paint<span class="token punctuation">,</span> <span class="token keyword">int</span> saveFlags<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//åˆ‡æ¢åˆ°æŒ‡å®šå›¾å±‚çš„ä¸Šä¸€çº§å›¾å±‚</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">restoreToCount</span><span class="token punctuation">(</span><span class="token keyword">int</span> saveCount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment" spellcheck="true">//è·å–å›¾å±‚æ•°é‡</span>
<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getSaveCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>drawBitmapMesh(Bitmap bitmap, int meshWidth, int meshHeight, float[] verts, int vertOffset, int[] colors, int colorOffset, Paint paint)  </p>
<p><strong>ç¬¬äºŒæ˜¯ä»¥clipXXXä¸ºä¸»çš„è£å‰ªæ–¹æ³•</strong></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token function">clipPath</span><span class="token punctuation">(</span>Path path<span class="token punctuation">,</span> Region<span class="token punctuation">.</span>Op op<span class="token punctuation">)</span>  
<span class="token function">clipRect</span><span class="token punctuation">(</span>Rect rect<span class="token punctuation">,</span> Region<span class="token punctuation">.</span>Op op<span class="token punctuation">)</span>  
<span class="token function">clipRect</span><span class="token punctuation">(</span>RectF rect<span class="token punctuation">,</span> Region<span class="token punctuation">.</span>Op op<span class="token punctuation">)</span>  
<span class="token function">clipRect</span><span class="token punctuation">(</span><span class="token keyword">float</span> left<span class="token punctuation">,</span> <span class="token keyword">float</span> top<span class="token punctuation">,</span> <span class="token keyword">float</span> right<span class="token punctuation">,</span> <span class="token keyword">float</span> bottom<span class="token punctuation">,</span> Region<span class="token punctuation">.</span>Op op<span class="token punctuation">)</span>  
<span class="token function">clipRegion</span><span class="token punctuation">(</span>Region region<span class="token punctuation">,</span> Region<span class="token punctuation">.</span>Op op<span class="token punctuation">)</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>Region.Opå‚æ•°<br><img src="http://upload-images.jianshu.io/upload_images/1321512-6afab7adc9d61dde.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>ä¸å›¾ç‰‡çš„æ··åˆæ¨¡å¼ä¸€æ ·</li>
<li>Regionå’ŒRectæœ‰ä»€ä¹ˆåŒºåˆ«<ul>
<li>Regionè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªåŒºåŸŸï¼Œè€ŒRectè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªçŸ©å½¢</li>
<li>Regionæœ‰ä¸ªå¾ˆç‰¹åˆ«çš„åœ°æ–¹æ˜¯å®ƒä¸å—Canvasçš„å˜æ¢å½±å“ï¼ŒCanvasçš„localä¸ä¼šç›´æ¥å½±å“åˆ°Regionè‡ªèº«ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç¬¬ä¸‰æ˜¯ä»¥scaleã€skewã€translateå’Œrotateç»„æˆçš„Canvaså˜æ¢æ–¹æ³•</strong></p>
<ul>
<li><strong>translate(float dx, float dy) ä¼šæ”¹å˜ç”»å¸ƒçš„åŸç‚¹åæ ‡</strong> </li>
<li>scale(float sx, float sy, float centerX, float centerY)</li>
</ul>
<p><strong>æœ€åä¸€ç±»åˆ™æ˜¯ä»¥saveXXXå’ŒrestoreXXXæ„æˆçš„ç”»å¸ƒé”å®šå’Œè¿˜åŸ</strong></p>
<ul>
<li>saveLayer<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">int</span> sc <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">saveLayer</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> screenW<span class="token punctuation">,</span> screenH<span class="token punctuation">,</span> null<span class="token punctuation">,</span> Canvas<span class="token punctuation">.</span>ALL_SAVE_FLAG<span class="token punctuation">)</span><span class="token punctuation">;</span>   å°†ç»˜åˆ¶æ“ä½œä¿å­˜åˆ°æ–°çš„å›¾å±‚
canvas<span class="token punctuation">.</span><span class="token function">restoreToCount</span><span class="token punctuation">(</span>sc<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li>canvas.saveLayerAlpha(0, 0, canvas.getWidth(), canvas.getHeight(), 75, Canvas.ALL_SAVE_FLAG); // é”å®šç”»å¸ƒå¹¶è®¾ç½®ç”»å¸ƒé€æ˜åº¦ä¸º75%  </li>
<li>restoreToCount(int saveCount)æ–¹æ³•æ¥æŒ‡å®šåœ¨è¿˜åŸçš„æ—¶å€™è¿˜åŸå“ªä¸€ä¸ªä¿å­˜æ“ä½œ.</li>
<li>Canvasä¸­æœ‰å…­ä¸ªå¸¸é‡å€¼ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/1321512-e8de6903504eec1c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><ul>
<li>æœ‰LAYERå•è¯çš„åªèƒ½saveLayerXXæ–¹æ³•ä½¿ç”¨ï¼Œå…¶ä»–é€šç”¨ã€‚</li>
<li>ALL_SAVE_FLAG ä¿æŒæ‰€æœ‰/CLIP_SAVE_FLAGä¿æŒå‰ªè£/MATRIX_SAVE_FLAG ä¿æŒå˜æ¢</li>
<li>CLIP_TO_LAYER_SAVE_FLAG å½“å‰å›¾å±‚æ‰§è¡Œè£å‰ªæ“ä½œéœ€è¦å¯¹é½å›¾å±‚è¾¹ç•Œ</li>
<li>FULL_COLOR_LAYER_SAVE_FLAG  å½“å‰å›¾å±‚çš„è‰²å½©æ¨¡å¼è‡³å°‘éœ€è¦æ˜¯8ä½è‰²</li>
<li>HAS_ALPHA_LAYER_SAVE_FLAG å½“å‰å›¾å±‚ä¸­å°†éœ€è¦ä½¿ç”¨é€åƒç´ Alphaæ··åˆæ¨¡å¼ <a href="http://blog.csdn.net/aigestudio/article/details/42677973" target="_blank" rel="noopener">è‰²å½©æ·±åº¦å’ŒAlphaæ··åˆ wiki</a></li>
</ul>
</li>
<li>saveå’ŒsaveLayerXXXæ–¹æ³•<blockquote>
<p>saveå’ŒsaveLayerXXXæ–¹æ³•æœ‰ç€æœ¬è´¨çš„åŒºåˆ«ï¼ŒsaveLayerXXXæ–¹æ³•ä¼šå°†æ‰€æœ‰æ“ä½œåœ¨ä¸€ä¸ªæ–°çš„Bitmapä¸­è¿›è¡Œï¼Œè€Œsaveåˆ™æ˜¯ä¾é stackæ ˆæ¥è¿›è¡Œ</p>
</blockquote>
</li>
</ul>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@Override</span>  
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onDraw</span><span class="token punctuation">(</span>Canvas canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token comment" spellcheck="true">/* 
     * ä¿å­˜å¹¶è£å‰ªç”»å¸ƒå¡«å……ç»¿è‰² 
     */</span>  
    <span class="token keyword">int</span> saveID1 <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>Canvas<span class="token punctuation">.</span>CLIP_SAVE_FLAG<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    canvas<span class="token punctuation">.</span><span class="token function">clipRect</span><span class="token punctuation">(</span>mViewWidth <span class="token operator">/</span> <span class="token number">2F</span> <span class="token operator">-</span> <span class="token number">300</span><span class="token punctuation">,</span> mViewHeight <span class="token operator">/</span> <span class="token number">2F</span> <span class="token operator">-</span> <span class="token number">300</span><span class="token punctuation">,</span> mViewWidth <span class="token operator">/</span> <span class="token number">2F</span> <span class="token operator">+</span> <span class="token number">300</span><span class="token punctuation">,</span> mViewHeight <span class="token operator">/</span> <span class="token number">2F</span> <span class="token operator">+</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    canvas<span class="token punctuation">.</span><span class="token function">drawColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>YELLOW<span class="token punctuation">)</span><span class="token punctuation">;</span>  

    <span class="token comment" spellcheck="true">/* 
     * ä¿å­˜å¹¶è£å‰ªç”»å¸ƒå¡«å……ç»¿è‰² 
     */</span>  
    <span class="token keyword">int</span> saveID2 <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>Canvas<span class="token punctuation">.</span>CLIP_SAVE_FLAG<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    canvas<span class="token punctuation">.</span><span class="token function">clipRect</span><span class="token punctuation">(</span>mViewWidth <span class="token operator">/</span> <span class="token number">2F</span> <span class="token operator">-</span> <span class="token number">200</span><span class="token punctuation">,</span> mViewHeight <span class="token operator">/</span> <span class="token number">2F</span> <span class="token operator">-</span> <span class="token number">200</span><span class="token punctuation">,</span> mViewWidth <span class="token operator">/</span> <span class="token number">2F</span> <span class="token operator">+</span> <span class="token number">200</span><span class="token punctuation">,</span> mViewHeight <span class="token operator">/</span> <span class="token number">2F</span> <span class="token operator">+</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    canvas<span class="token punctuation">.</span><span class="token function">drawColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>GREEN<span class="token punctuation">)</span><span class="token punctuation">;</span>  

    <span class="token comment" spellcheck="true">/* 
     * ä¿å­˜ç”»å¸ƒå¹¶æ—‹è½¬åç»˜åˆ¶ä¸€ä¸ªè“è‰²çš„çŸ©å½¢ 
     */</span>  
    <span class="token keyword">int</span> saveID3 <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>Canvas<span class="token punctuation">.</span>MATRIX_SAVE_FLAG<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    canvas<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    mPaint<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>BLUE<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>mViewWidth <span class="token operator">/</span> <span class="token number">2F</span> <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">,</span> mViewHeight <span class="token operator">/</span> <span class="token number">2F</span> <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">,</span> mViewWidth <span class="token operator">/</span> <span class="token number">2F</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">,</span> mViewHeight <span class="token operator">/</span> <span class="token number">2F</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">,</span> mPaint<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä»¥ä¸Šçš„ä»£ç äº§ç”Ÿ<br><img src="http://upload-images.jianshu.io/upload_images/1321512-d7c318273bf16c36.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Canvaså†…éƒ¨Stack"></p>
<ol>
<li>æ²¡æœ‰restoreå‰saveID3,saveID2,saveID1,Default Stack IDç›¸äº’å½±å“ã€‚</li>
<li>restoreToCount(int saveCount) è¿˜åŸç‰¹å®šStackç©ºé—´ã€‚</li>
<li>getSaveCount() æŸ¥è¯¢å½“å‰æ ˆä¸­æœ‰å¤šå°‘saveçš„ç©ºé—´</li>
</ol>
<h2 id="ç¬¬2èŠ‚-Paint"><a href="#ç¬¬2èŠ‚-Paint" class="headerlink" title="ç¬¬2èŠ‚ Paint"></a>ç¬¬2èŠ‚ Paint</h2><h3 id="åˆå§‹åŒ–ç±»"><a href="#åˆå§‹åŒ–ç±»" class="headerlink" title="åˆå§‹åŒ–ç±»"></a>åˆå§‹åŒ–ç±»</h3><ul>
<li><h3 id="reset-ç›¸å½“äºé‡æ–°-new-ä¸€ä¸ªï¼Œä¸è¿‡æ€§èƒ½å½“ç„¶é«˜ä¸€äº›å•¦"><a href="#reset-ç›¸å½“äºé‡æ–°-new-ä¸€ä¸ªï¼Œä¸è¿‡æ€§èƒ½å½“ç„¶é«˜ä¸€äº›å•¦" class="headerlink" title="reset() ç›¸å½“äºé‡æ–° new ä¸€ä¸ªï¼Œä¸è¿‡æ€§èƒ½å½“ç„¶é«˜ä¸€äº›å•¦"></a>reset() ç›¸å½“äºé‡æ–° <code>new</code> ä¸€ä¸ªï¼Œä¸è¿‡æ€§èƒ½å½“ç„¶é«˜ä¸€äº›å•¦</h3></li>
<li><h3 id="set-Paint-src-å±æ€§å…¨éƒ¨å¤åˆ¶è¿‡æ¥"><a href="#set-Paint-src-å±æ€§å…¨éƒ¨å¤åˆ¶è¿‡æ¥" class="headerlink" title="set(Paint src) å±æ€§å…¨éƒ¨å¤åˆ¶è¿‡æ¥"></a>set(Paint src) å±æ€§å…¨éƒ¨å¤åˆ¶è¿‡æ¥</h3></li>
<li><h3 id="setFlags-int-flags"><a href="#setFlags-int-flags" class="headerlink" title="setFlags(int flags)"></a>setFlags(int flags)</h3><pre class="line-numbers language-java"><code class="language-java">paint<span class="token punctuation">.</span><span class="token function">setFlags</span><span class="token punctuation">(</span>Paint<span class="token punctuation">.</span>ANTI_ALIAS_FLAG <span class="token operator">|</span> Paint<span class="token punctuation">.</span>DITHER_FLAG<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">//ç­‰ä»·äº</span>
paint<span class="token punctuation">.</span><span class="token function">setAntiAlias</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
paint<span class="token punctuation">.</span><span class="token function">setDither</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h3 id="ç¬”å¤´å±æ€§"><a href="#ç¬”å¤´å±æ€§" class="headerlink" title="ç¬”å¤´å±æ€§"></a>ç¬”å¤´å±æ€§</h3><ol>
<li><h5 id="Paint-setStyle-Paint-Style-style"><a href="#Paint-setStyle-Paint-Style-style" class="headerlink" title="Paint.setStyle(Paint.Style style)"></a>Paint.setStyle(Paint.Style style)</h5><ol>
<li><code>FILL</code> æ˜¯å¡«å……æ¨¡å¼ ï¼ˆé»˜è®¤ï¼‰</li>
<li><code>STROKE</code> æ˜¯ç”»çº¿æ¨¡å¼ï¼ˆå³å‹¾è¾¹æ¨¡å¼ï¼‰</li>
<li><code>FILL_AND_STROKE</code> æ˜¯ä¸¤ç§æ¨¡å¼ä¸€å¹¶ä½¿ç”¨</li>
</ol>
</li>
<li><h5 id="Paint-setStrokeWidth-float-width-éå¡«å……æ¨¡å¼ä¸‹ä¸‹ï¼Œè®¾ç½®ç¬”å¤´ï¼ˆçº¿æ¡ï¼‰ç²—ç»†"><a href="#Paint-setStrokeWidth-float-width-éå¡«å……æ¨¡å¼ä¸‹ä¸‹ï¼Œè®¾ç½®ç¬”å¤´ï¼ˆçº¿æ¡ï¼‰ç²—ç»†" class="headerlink" title="Paint.setStrokeWidth(float width) éå¡«å……æ¨¡å¼ä¸‹ä¸‹ï¼Œè®¾ç½®ç¬”å¤´ï¼ˆçº¿æ¡ï¼‰ç²—ç»†"></a>Paint.setStrokeWidth(float width) éå¡«å……æ¨¡å¼ä¸‹ä¸‹ï¼Œè®¾ç½®ç¬”å¤´ï¼ˆçº¿æ¡ï¼‰ç²—ç»†</h5></li>
<li><p>setDither(boolean dither);   è®¾å®šæ˜¯å¦ä½¿ç”¨å›¾åƒæŠ–åŠ¨å¤„ç†ï¼Œä¼šä½¿ç»˜åˆ¶å‡ºæ¥çš„å›¾ç‰‡é¢œè‰²æ›´åŠ å¹³æ»‘å’Œé¥±æ»¡ï¼Œå›¾åƒæ›´åŠ æ¸…æ™° </p>
</li>
<li><h5 id="æŠ—é”¯é½¿"><a href="#æŠ—é”¯é½¿" class="headerlink" title="æŠ—é”¯é½¿"></a>æŠ—é”¯é½¿</h5><pre class="line-numbers language-java"><code class="language-java">Paint paint <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span>Paint<span class="token punctuation">.</span>ANTI_ALIAS_FLAG<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment" spellcheck="true">//æˆ–</span>
Paint<span class="token punctuation">.</span><span class="token function">setAntiAlias</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> aa<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>åŸç†ï¼šä¿®æ”¹å›¾å½¢è¾¹ç¼˜å¤„çš„åƒç´ é¢œè‰²ï¼Œä»è€Œ<strong>è®©å›¾å½¢åœ¨è‚‰çœ¼çœ‹æ¥å…·æœ‰æ›´åŠ å¹³æ»‘çš„æ„Ÿè§‰</strong></p>
<p><img src="http://cdn.linz.tech/ANTI_ALIAS_FLAG.jpg" alt=""></p>
</li>
</ol>
<h3 id="ç¬”é”‹å±æ€§åŠçº¿æ¡"><a href="#ç¬”é”‹å±æ€§åŠçº¿æ¡" class="headerlink" title="ç¬”é”‹å±æ€§åŠçº¿æ¡"></a>ç¬”é”‹å±æ€§åŠçº¿æ¡</h3><pre class="line-numbers language-java"><code class="language-java">mPaint<span class="token punctuation">.</span><span class="token function">setStrokeCap</span><span class="token punctuation">(</span>Paint<span class="token punctuation">.</span>Cap<span class="token punctuation">.</span>ROUND<span class="token punctuation">)</span><span class="token punctuation">;</span>
mPaint<span class="token punctuation">.</span><span class="token function">setStrokeJoin</span><span class="token punctuation">(</span>Paint<span class="token punctuation">.</span>Join<span class="token punctuation">.</span>BEVEL<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="http://cdn.linz.tech/android_cap_join_2019-09-14_15-13-37.png" alt=""></p>
<h4 id="PathEffect"><a href="#PathEffect" class="headerlink" title="PathEffect"></a>PathEffect</h4><p>setPathEffect(PathEffect effect)</p>
<p><a href="https://hencoder.com/ui-1-2/" target="_blank" rel="noopener">https://hencoder.com/ui-1-2/</a></p>
<blockquote>
<p>ä½¿ç”¨ <code>PathEffect</code> æ¥ç»™å›¾å½¢çš„è½®å»“è®¾ç½®æ•ˆæœã€‚å¯¹ <code>Canvas</code> æ‰€æœ‰çš„å›¾å½¢ç»˜åˆ¶æœ‰æ•ˆï¼Œä¹Ÿå°±æ˜¯ <code>drawLine()</code> <code>drawCircle()</code> <code>drawPath()</code> è¿™äº›æ–¹æ³•ã€‚</p>
</blockquote>
<ul>
<li><h4 id="CornerPathEffect-æ‹è§’å˜æˆåœ†è§’-å¯ä»¥å°†è·¯å¾„çš„è½¬è§’å˜å¾—åœ†æ»‘"><a href="#CornerPathEffect-æ‹è§’å˜æˆåœ†è§’-å¯ä»¥å°†è·¯å¾„çš„è½¬è§’å˜å¾—åœ†æ»‘" class="headerlink" title="CornerPathEffect æ‹è§’å˜æˆåœ†è§’ å¯ä»¥å°†è·¯å¾„çš„è½¬è§’å˜å¾—åœ†æ»‘"></a>CornerPathEffect æ‹è§’å˜æˆåœ†è§’ å¯ä»¥å°†è·¯å¾„çš„è½¬è§’å˜å¾—åœ†æ»‘</h4></li>
<li><h4 id="DiscretePathEffect-æŠŠçº¿æ¡è¿›è¡Œéšæœºçš„åç¦»"><a href="#DiscretePathEffect-æŠŠçº¿æ¡è¿›è¡Œéšæœºçš„åç¦»" class="headerlink" title="DiscretePathEffect æŠŠçº¿æ¡è¿›è¡Œéšæœºçš„åç¦»"></a>DiscretePathEffect æŠŠçº¿æ¡è¿›è¡Œéšæœºçš„åç¦»</h4></li>
<li><h4 id="DashPathEffect-è™šçº¿æ¥ç»˜åˆ¶çº¿æ¡"><a href="#DashPathEffect-è™šçº¿æ¥ç»˜åˆ¶çº¿æ¡" class="headerlink" title="DashPathEffect è™šçº¿æ¥ç»˜åˆ¶çº¿æ¡"></a>DashPathEffect è™šçº¿æ¥ç»˜åˆ¶çº¿æ¡</h4></li>
<li><h4 id="PathDashPathEffect-ç”¨ä¸€ä¸ª-Path-æ¥ç»˜åˆ¶ã€Œè™šçº¿ã€"><a href="#PathDashPathEffect-ç”¨ä¸€ä¸ª-Path-æ¥ç»˜åˆ¶ã€Œè™šçº¿ã€" class="headerlink" title="PathDashPathEffect ç”¨ä¸€ä¸ª Path æ¥ç»˜åˆ¶ã€Œè™šçº¿ã€"></a>PathDashPathEffect ç”¨ä¸€ä¸ª <code>Path</code> æ¥ç»˜åˆ¶ã€Œè™šçº¿ã€</h4></li>
<li><h4 id="SumPathEffect-åˆ†åˆ«å•ç‹¬ç»˜åˆ¶"><a href="#SumPathEffect-åˆ†åˆ«å•ç‹¬ç»˜åˆ¶" class="headerlink" title="SumPathEffect åˆ†åˆ«å•ç‹¬ç»˜åˆ¶"></a>SumPathEffect åˆ†åˆ«å•ç‹¬ç»˜åˆ¶</h4></li>
<li><h4 id="ComposePathEffect-å åŠ ç»˜åˆ¶"><a href="#ComposePathEffect-å åŠ ç»˜åˆ¶" class="headerlink" title="ComposePathEffect å åŠ ç»˜åˆ¶"></a>ComposePathEffect å åŠ ç»˜åˆ¶</h4></li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-a81268e6753051a6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="PathEffectå…­ä¸ªå­ç±»"><br>å¯¹åº”çš„æ•ˆæœ<br><img src="http://upload-images.jianshu.io/upload_images/1321512-ca3f53229a8b133d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h4 id="StrokeMiter"><a href="#StrokeMiter" class="headerlink" title="StrokeMiter"></a>StrokeMiter</h4><blockquote>
<p>setStrokeMiter(float miter) æ˜¯å¯¹setStrokeJoin çš„è¡¥å……</p>
</blockquote>
<ol>
<li>ä½œç”¨</li>
</ol>
<p><img src="http://cdn.linz.tech/android_blog_paint_Miter.jpg" alt=""></p>
<ol start="2">
<li>æ€ä¹ˆè®¡ç®—miteråˆç†çš„å€¼<br><img src="http://cdn.linz.tech/android_blog_paint_Miter_value.jpg" alt=""></li>
</ol>
<p>çŸ¥é“è§’åº¦<code>1 / sin ( Î¸ / 2 )</code></p>
<h3 id="æ–‡æœ¬ç»˜åˆ¶å±æ€§"><a href="#æ–‡æœ¬ç»˜åˆ¶å±æ€§" class="headerlink" title="æ–‡æœ¬ç»˜åˆ¶å±æ€§"></a>æ–‡æœ¬ç»˜åˆ¶å±æ€§</h3><pre class="line-numbers language-java"><code class="language-java">paint<span class="token punctuation">.</span><span class="token function">setTextSize</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
mPaint<span class="token punctuation">.</span><span class="token function">setTextAlign</span><span class="token punctuation">(</span>Paint<span class="token punctuation">.</span>Align<span class="token punctuation">.</span>CENTER<span class="token punctuation">)</span><span class="token punctuation">;</span>
canvas<span class="token punctuation">.</span><span class="token function">drawText</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ol>
<li>setTypeface(Typeface typeface) å­—ä½“æ ·å¼</li>
<li>setUnderlineText(boolean underlineText) ä¸‹åˆ’çº¿</li>
<li>setStrikeThruText(boolean strikeThruText) åˆ é™¤çº¿</li>
<li>setFakeBoldText(boolean fakeBoldText) ç²—ä½“</li>
<li>setTextScaleX(float scaleX) ç¼©æ”¾å› å­ï¼Œé»˜è®¤å€¼ä¸º1</li>
<li>setTextSkewX(float skewX) æ–‡æœ¬åœ¨æ°´å¹³æ–¹å‘ä¸Šçš„å€¾æ–œï¼Œé»˜è®¤å€¼ä¸º0ï¼Œæ¨èçš„å€¼ä¸º-0.25</li>
<li>setLetterSpacing(float letterSpacing) è®¾ç½®è¡Œçš„é—´è·ï¼Œé»˜è®¤å€¼æ˜¯0ï¼Œè´Ÿå€¼è¡Œé—´è·ä¼šæ”¶ç¼©</li>
<li>getFontSpacing() è¿”å›å­—ç¬¦è¡Œé—´è·</li>
<li>measureForwards å‘å‰è¿˜æ˜¯å‘å/ maxWidthç»™å®šæœ€å¤§è·ç¦»èƒ½æµ‹å‡ ä¸ªå­—ç¬¦<br>åº”ç”¨åœºæ™¯ï¼šæ–‡æœ¬é˜…è¯»å™¨çš„ç¿»é¡µæ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç¿»é¡µçš„æ—¶å€™åŠ¨æ€æŠ˜æ–­æˆ–ç”Ÿæˆä¸€è¡Œå­—ç¬¦ä¸²</li>
</ol>
<h4 id="FontMetrics"><a href="#FontMetrics" class="headerlink" title="FontMetrics"></a>FontMetrics</h4><p>mFontMetrics = mPaint.getFontMetrics();<br><img src="http://upload-images.jianshu.io/upload_images/1321512-a310e93aeb2e116e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br><img src="http://upload-images.jianshu.io/upload_images/1321512-4bfa331febf3c829.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-cdfbd2bc9b21ffbc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>ã€æ³¨ã€‘ï¼šå­—ç¬¦ä¸Šæ–¹æˆ–è€…ä¸‹æ–¹æœ‰å¯èƒ½æœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œopçš„æ„æ€å…¶å®å°±æ˜¯é™¤äº†Baselineåˆ°å­—ç¬¦é¡¶ç«¯çš„è·ç¦»å¤–è¿˜åº”è¯¥åŒ…å«è¿™äº›ç¬¦å·çš„é«˜åº¦ï¼Œbottomçš„æ„æ€ä¹Ÿæ˜¯ä¸€æ ·ã€‚ é€šå¸¸æƒ…å†µä¸‹å¾ˆå°‘ç”¨åˆ°ï¼Œæ‰€ä»¥å¿½ç•¥ï¼Œä½†æ˜¯Androidä¾ç„¶ä¼šåœ¨ç»˜åˆ¶æ–‡æœ¬çš„æ—¶å€™åœ¨æ–‡æœ¬å¤–å±‚ç•™å‡ºä¸€å®šçš„è¾¹è·ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆtopå’Œbottomæ€»ä¼šæ¯”ascentå’Œdescentå¤§ä¸€ç‚¹çš„åŸå› ã€‚</p>
<ul>
<li>ascent()/descent()</li>
</ul>
<h3 id="ç¬”å¤´ç€è‰²å±æ€§"><a href="#ç¬”å¤´ç€è‰²å±æ€§" class="headerlink" title="ç¬”å¤´ç€è‰²å±æ€§"></a>ç¬”å¤´ç€è‰²å±æ€§</h3><pre class="line-numbers language-java"><code class="language-java">paint<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span><span class="token function">parseColor</span><span class="token punctuation">(</span><span class="token string">"#009688"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
paint<span class="token punctuation">.</span><span class="token function">setARGB</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ul>
<li>setDither(boolean dither) <ol>
<li>ç”¨åœ¨çº¯è‰²çš„ç»˜åˆ¶</li>
<li>é¿å…å‡ºç°å¤§ç‰‡çš„è‰²å¸¦ä¸è‰²å—</li>
</ol>
</li>
<li>setShadowLayer(float radius, float dx, float dy, int shadowColor)<ul>
<li><code>radius</code> æ˜¯é˜´å½±çš„æ¨¡ç³ŠèŒƒå›´ï¼› <code>dx</code> <code>dy</code> æ˜¯é˜´å½±çš„åç§»é‡</li>
<li>æ¸…é™¤é˜´å½±å±‚ï¼Œä½¿ç”¨ <code>clearShadowLayer()</code></li>
<li>åœ¨ç¡¬ä»¶åŠ é€Ÿå¼€å¯çš„æƒ…å†µä¸‹ï¼Œ <code>setShadowLayer()</code> åªæ”¯æŒæ–‡å­—çš„ç»˜åˆ¶ï¼Œæ–‡å­—ä¹‹å¤–çš„ç»˜åˆ¶å¿…é¡»å…³é—­ç¡¬ä»¶åŠ é€Ÿæ‰èƒ½æ­£å¸¸ç»˜åˆ¶é˜´å½±</li>
<li>é˜´å½±çš„é€æ˜åº¦å°±ä½¿ç”¨ <code>paint</code> çš„é€æ˜åº¦</li>
</ul>
</li>
</ul>
<h4 id="setShader-Shader-shader"><a href="#setShader-Shader-shader" class="headerlink" title="setShader(Shader shader)"></a>setShader(Shader shader)</h4><ol>
<li><h5 id="BitmapShader-ç”¨-Bitmap-çš„åƒç´ æ¥ä½œä¸ºå›¾å½¢æˆ–æ–‡å­—çš„å¡«å……"><a href="#BitmapShader-ç”¨-Bitmap-çš„åƒç´ æ¥ä½œä¸ºå›¾å½¢æˆ–æ–‡å­—çš„å¡«å……" class="headerlink" title="BitmapShader ç”¨ Bitmap çš„åƒç´ æ¥ä½œä¸ºå›¾å½¢æˆ–æ–‡å­—çš„å¡«å……"></a>BitmapShader ç”¨ <code>Bitmap</code> çš„åƒç´ æ¥ä½œä¸ºå›¾å½¢æˆ–æ–‡å­—çš„å¡«å……</h5></li>
<li><h5 id="LinearGradient-çº¿æ€§æ¸å˜"><a href="#LinearGradient-çº¿æ€§æ¸å˜" class="headerlink" title="LinearGradient çº¿æ€§æ¸å˜"></a>LinearGradient çº¿æ€§æ¸å˜</h5></li>
<li><h5 id="RadialGradient-è¾å°„æ¸å˜"><a href="#RadialGradient-è¾å°„æ¸å˜" class="headerlink" title="RadialGradient è¾å°„æ¸å˜"></a>RadialGradient è¾å°„æ¸å˜</h5></li>
<li><h5 id="SweepGradient-æ‰«ææ¸å˜"><a href="#SweepGradient-æ‰«ææ¸å˜" class="headerlink" title="SweepGradient æ‰«ææ¸å˜"></a>SweepGradient æ‰«ææ¸å˜</h5></li>
<li><p>ComposeShader æ··åˆç€è‰²å™¨ ä¸¤ä¸ª <code>Shader</code> ä¸€èµ·ä½¿ç”¨</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// ç¬¬ä¸€ä¸ª Shaderï¼šå¤´åƒçš„ Bitmap</span>
Bitmap bitmap1 <span class="token operator">=</span> BitmapFactory<span class="token punctuation">.</span><span class="token function">decodeResource</span><span class="token punctuation">(</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>batman<span class="token punctuation">)</span><span class="token punctuation">;</span>  
Shader shader1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitmapShader</span><span class="token punctuation">(</span>bitmap1<span class="token punctuation">,</span> Shader<span class="token punctuation">.</span>TileMode<span class="token punctuation">.</span>CLAMP<span class="token punctuation">,</span> Shader<span class="token punctuation">.</span>TileMode<span class="token punctuation">.</span>CLAMP<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// ç¬¬äºŒä¸ª Shaderï¼šä»ä¸Šåˆ°ä¸‹çš„çº¿æ€§æ¸å˜ï¼ˆç”±é€æ˜åˆ°é»‘è‰²ï¼‰</span>
Bitmap bitmap2 <span class="token operator">=</span> BitmapFactory<span class="token punctuation">.</span><span class="token function">decodeResource</span><span class="token punctuation">(</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>batman_logo<span class="token punctuation">)</span><span class="token punctuation">;</span>  
Shader shader2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitmapShader</span><span class="token punctuation">(</span>bitmap2<span class="token punctuation">,</span> Shader<span class="token punctuation">.</span>TileMode<span class="token punctuation">.</span>CLAMP<span class="token punctuation">,</span> Shader<span class="token punctuation">.</span>TileMode<span class="token punctuation">.</span>CLAMP<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// ComposeShaderï¼šç»“åˆä¸¤ä¸ª Shader</span>
Shader shader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComposeShader</span><span class="token punctuation">(</span>shader1<span class="token punctuation">,</span> shader2<span class="token punctuation">,</span> PorterDuff<span class="token punctuation">.</span>Mode<span class="token punctuation">.</span>SRC_OVER<span class="token punctuation">)</span><span class="token punctuation">;</span>  
paint<span class="token punctuation">.</span><span class="token function">setShader</span><span class="token punctuation">(</span>shader<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

canvas<span class="token punctuation">.</span><span class="token function">drawCircle</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å…¶ä¸­PorterDuff.Mode æœ‰<br><img src="http://cdn.linz.tech/PorterDuff_2019-09-14_21-36-30.png" alt=""></p>
</li>
</ol>
<h4 id="setColorFilter-ColorFilter-colorFilter"><a href="#setColorFilter-ColorFilter-colorFilter" class="headerlink" title="setColorFilter(ColorFilter colorFilter)"></a>setColorFilter(ColorFilter colorFilter)</h4><ul>
<li><p>LightingColorFilter(int mul, int add) æ¨¡æ‹Ÿç®€å•çš„å…‰ç…§æ•ˆæœ, ç®—æ³•</p>
<pre><code>R' = R * mul.R / 0xff + add.R  
G' = G * mul.G / 0xff + add.G  
B' = B * mul.B / 0xff + add.B  </code></pre></li>
<li><h4 id="PorterDuffColorFilter-int-color-PorterDuff-Mode-mode-ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„é¢œè‰²å’Œä¸€ç§æŒ‡å®šçš„-PorterDuff-Mode-æ¥ä¸ç»˜åˆ¶å¯¹è±¡è¿›è¡Œåˆæˆ"><a href="#PorterDuffColorFilter-int-color-PorterDuff-Mode-mode-ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„é¢œè‰²å’Œä¸€ç§æŒ‡å®šçš„-PorterDuff-Mode-æ¥ä¸ç»˜åˆ¶å¯¹è±¡è¿›è¡Œåˆæˆ" class="headerlink" title="PorterDuffColorFilter (int color, PorterDuff.Mode mode) ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„é¢œè‰²å’Œä¸€ç§æŒ‡å®šçš„ PorterDuff.Mode æ¥ä¸ç»˜åˆ¶å¯¹è±¡è¿›è¡Œåˆæˆ"></a>PorterDuffColorFilter (int color, PorterDuff.Mode mode) ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„é¢œè‰²å’Œä¸€ç§æŒ‡å®šçš„ <code>PorterDuff.Mode</code> æ¥ä¸ç»˜åˆ¶å¯¹è±¡è¿›è¡Œåˆæˆ</h4></li>
<li><h4 id="ColorMatrixColorFilter"><a href="#ColorMatrixColorFilter" class="headerlink" title="ColorMatrixColorFilter"></a>ColorMatrixColorFilter</h4><p>å‚è€ƒé™„å½•ä¸€<a href="https://github.com/chengdazhi/StyleImageView" target="_blank" rel="noopener">StyleImageView</a> </p>
</li>
</ul>
<h3 id="åˆæˆ-Xfermode"><a href="#åˆæˆ-Xfermode" class="headerlink" title="åˆæˆ Xfermode"></a>åˆæˆ Xfermode</h3><blockquote>
<p>ä½¿ç”¨ <code>setXfermode()</code> æ­£å¸¸ç»˜åˆ¶ï¼Œå¿…é¡»ä½¿ç”¨ç¦»å±ç¼“å­˜ (Off-screen Buffer) æŠŠå†…å®¹ç»˜åˆ¶åœ¨é¢å¤–çš„å±‚ä¸Šï¼Œå†æŠŠç»˜åˆ¶å¥½çš„å†…å®¹è´´å› View ä¸­</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// å¯ä»¥åšçŸ­æ—¶çš„ç¦»å±ç¼“å†²</span>
<span class="token keyword">int</span> saved <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">saveLayer</span><span class="token punctuation">(</span>null<span class="token punctuation">,</span> null<span class="token punctuation">,</span> Canvas<span class="token punctuation">.</span>ALL_SAVE_FLAG<span class="token punctuation">)</span><span class="token punctuation">;</span>
Xfermode xfermode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PorterDuffXfermode</span><span class="token punctuation">(</span>PorterDuff<span class="token punctuation">.</span>Mode<span class="token punctuation">.</span>DST_IN<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
canvas<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>rectBitmap<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ç”»æ–¹  </span>
paint<span class="token punctuation">.</span><span class="token function">setXfermode</span><span class="token punctuation">(</span>xfermode<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è®¾ç½® Xfermode  </span>
canvas<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>circleBitmap<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ç”»åœ†  </span>
paint<span class="token punctuation">.</span><span class="token function">setXfermode</span><span class="token punctuation">(</span>null<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ç”¨å®ŒåŠæ—¶æ¸…é™¤ Xfermode  </span>
canvas<span class="token punctuation">.</span><span class="token function">restoreToCount</span><span class="token punctuation">(</span>saved<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="setMaskFilter"><a href="#setMaskFilter" class="headerlink" title="setMaskFilter"></a>setMaskFilter</h4><p>åŸºäºæ•´ä¸ªç”»é¢æ¥è¿›è¡Œè¿‡æ»¤</p>
<ol>
<li><h4 id="BlurMaskFilter"><a href="#BlurMaskFilter" class="headerlink" title="BlurMaskFilter"></a>BlurMaskFilter</h4><pre class="line-numbers language-java"><code class="language-java">paint<span class="token punctuation">.</span><span class="token function">setMaskFilter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BlurMaskFilter</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> BlurMaskFilter<span class="token punctuation">.</span>Blur<span class="token punctuation">.</span>NORMAL<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
canvas<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>bitmap<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><strong>å¦ä¸€ç§æ€ç»´å®ç°æ¨¡ç³Š</strong></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// è·å–ä½å›¾çš„Alphaé€šé“å›¾  </span>
     shadowBitmap <span class="token operator">=</span> srcBitmap<span class="token punctuation">.</span><span class="token function">extractAlpha</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">// å…ˆç»˜åˆ¶é˜´å½±  </span>
     canvas<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>shadowBitmap<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> shadowPaint<span class="token punctuation">)</span><span class="token punctuation">;</span>  
     <span class="token comment" spellcheck="true">// å†ç»˜åˆ¶ä½å›¾  </span>
     canvas<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>srcBitmap<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><h4 id="EmbossMaskFilter-æµ®é›•æ•ˆæœ"><a href="#EmbossMaskFilter-æµ®é›•æ•ˆæœ" class="headerlink" title="EmbossMaskFilter æµ®é›•æ•ˆæœ"></a>EmbossMaskFilter æµ®é›•æ•ˆæœ</h4></li>
</ol>
<h2 id="ç¬¬3èŠ‚-Path"><a href="#ç¬¬3èŠ‚-Path" class="headerlink" title="ç¬¬3èŠ‚ Path"></a>ç¬¬3èŠ‚ Path</h2><ul>
<li>quadTo(float x1, float y1, float x2, float y2)<br><img src="http://upload-images.jianshu.io/upload_images/1321512-6cfc0b62238227a5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br><img src="http://upload-images.jianshu.io/upload_images/1321512-ef369f4f26f04e5a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// å®ä¾‹åŒ–è·¯å¾„  </span>
mPath <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">// ç§»åŠ¨ç‚¹è‡³[100,100]  </span>
mPath<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">// è¿æ¥è·¯å¾„åˆ°ç‚¹  </span>
mPath<span class="token punctuation">.</span><span class="token function">quadTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>cubicTo(float x1, float y1, float x2, float y2, float x3, float y3)<br><img src="http://upload-images.jianshu.io/upload_images/1321512-046df21da3e17477.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// å®ä¾‹åŒ–è·¯å¾„  </span>
mPath <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">// ç§»åŠ¨ç‚¹è‡³[100,100]  </span>
mPath<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">// è¿æ¥è·¯å¾„åˆ°ç‚¹  </span>
mPath<span class="token punctuation">.</span><span class="token function">cubicTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>arcTo (RectF oval, float startAngle, float sweepAngle)<br><img src="http://upload-images.jianshu.io/upload_images/1321512-66679606910e82c8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// å®ä¾‹åŒ–è·¯å¾„  </span>
mPath <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">// ç§»åŠ¨ç‚¹è‡³[100,100]  </span>
mPath<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">// è¿æ¥è·¯å¾„åˆ°ç‚¹  </span>
RectF oval <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RectF</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
mPath<span class="token punctuation">.</span><span class="token function">arcTo</span><span class="token punctuation">(</span>oval<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>arcTo (RectF oval, float startAngle, float sweepAngle, boolean forceMoveTo)<br><img src="http://upload-images.jianshu.io/upload_images/1321512-a37b819668c0aebb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="mPath.arcTo(oval, 0, 90, true); "></li>
<li>rXXXToæ–¹æ³•,åæ ‡ç›¸å¯¹äºå½“å‰ç‚¹ï¼Œè€Œä¸æ˜¯ç”»å¸ƒåŸç‚¹ã€‚<pre class="line-numbers language-java"><code class="language-java"><span class="token function">rCubicTo</span><span class="token punctuation">(</span><span class="token keyword">float</span> x1<span class="token punctuation">,</span> <span class="token keyword">float</span> y1<span class="token punctuation">,</span> <span class="token keyword">float</span> x2<span class="token punctuation">,</span> <span class="token keyword">float</span> y2<span class="token punctuation">,</span> <span class="token keyword">float</span> x3<span class="token punctuation">,</span> <span class="token keyword">float</span> y3<span class="token punctuation">)</span>  
<span class="token function">rLineTo</span><span class="token punctuation">(</span><span class="token keyword">float</span> dx<span class="token punctuation">,</span> <span class="token keyword">float</span> dy<span class="token punctuation">)</span>  
<span class="token function">rMoveTo</span><span class="token punctuation">(</span><span class="token keyword">float</span> dx<span class="token punctuation">,</span> <span class="token keyword">float</span> dy<span class="token punctuation">)</span>  
<span class="token function">rQuadTo</span><span class="token punctuation">(</span><span class="token keyword">float</span> dx1<span class="token punctuation">,</span> <span class="token keyword">float</span> dy1<span class="token punctuation">,</span> <span class="token keyword">float</span> dx2<span class="token punctuation">,</span> <span class="token keyword">float</span> dy2<span class="token punctuation">)</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>addXXXæ–¹æ³•<pre class="line-numbers language-java"><code class="language-java"><span class="token function">addCircle</span><span class="token punctuation">(</span><span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> radius<span class="token punctuation">,</span> Path<span class="token punctuation">.</span>Direction dir<span class="token punctuation">)</span>  
<span class="token function">addOval</span><span class="token punctuation">(</span><span class="token keyword">float</span> left<span class="token punctuation">,</span> <span class="token keyword">float</span> top<span class="token punctuation">,</span> <span class="token keyword">float</span> right<span class="token punctuation">,</span> <span class="token keyword">float</span> bottom<span class="token punctuation">,</span> Path<span class="token punctuation">.</span>Direction dir<span class="token punctuation">)</span>  
<span class="token function">addRect</span><span class="token punctuation">(</span><span class="token keyword">float</span> left<span class="token punctuation">,</span> <span class="token keyword">float</span> top<span class="token punctuation">,</span> <span class="token keyword">float</span> right<span class="token punctuation">,</span> <span class="token keyword">float</span> bottom<span class="token punctuation">,</span> Path<span class="token punctuation">.</span>Direction dir<span class="token punctuation">)</span>  
<span class="token function">addRoundRect</span><span class="token punctuation">(</span><span class="token keyword">float</span> left<span class="token punctuation">,</span> <span class="token keyword">float</span> top<span class="token punctuation">,</span> <span class="token keyword">float</span> right<span class="token punctuation">,</span> <span class="token keyword">float</span> bottom<span class="token punctuation">,</span> <span class="token keyword">float</span> rx<span class="token punctuation">,</span> <span class="token keyword">float</span> ry<span class="token punctuation">,</span> Path<span class="token punctuation">.</span>Direction dir<span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>addOval Sample å¼§çº¿å¹¶æ²¡ä¸çº¿æ®µè¿æ¥<pre class="line-numbers language-java"><code class="language-java">mPath <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">// ç§»åŠ¨ç‚¹è‡³[100,100]  </span>
mPath<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">// è¿æ¥è·¯å¾„åˆ°ç‚¹  </span>
mPath<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">// æ·»åŠ ä¸€æ¡å¼§çº¿åˆ°Pathä¸­  </span>
RectF oval <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RectF</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
mPath<span class="token punctuation">.</span><span class="token function">addArc</span><span class="token punctuation">(</span>oval<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<img src="http://upload-images.jianshu.io/upload_images/1321512-d43de1a91d8aa955.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
<li>Path.Direction.CCW<br><img src="http://upload-images.jianshu.io/upload_images/1321512-19a364da5ab1d0ed.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
<li>Path.Direction.CW<br><img src="http://upload-images.jianshu.io/upload_images/1321512-aec59eb38640c0f4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
</ul>
</li>
<li>computeBounds() <pre class="line-numbers language-java"><code class="language-java">mComputeRect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RectF</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
mEndPath <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
mEndPath<span class="token punctuation">.</span><span class="token function">addCircle</span><span class="token punctuation">(</span><span class="token number">380</span><span class="token punctuation">,</span> <span class="token number">380</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> Direction<span class="token punctuation">.</span>CW<span class="token punctuation">)</span><span class="token punctuation">;</span>  
mEndPath<span class="token punctuation">.</span><span class="token function">addRect</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RectF</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Direction<span class="token punctuation">.</span>CW<span class="token punctuation">)</span><span class="token punctuation">;</span>  
mEndPath<span class="token punctuation">.</span><span class="token function">computeBounds</span><span class="token punctuation">(</span>mComputeRect<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//å›¾ç‰‡å¦‚ä¸‹ï¼Œè¿”å›ç»“æœä¸ºï¼š ï¼ˆ200,230,530,530ï¼‰</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<img src="http://upload-images.jianshu.io/upload_images/1321512-4385d6a94519b1ba.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
</ul>
<h2 id="ç¬¬4èŠ‚-Camera-ã€äº†è§£ã€‘"><a href="#ç¬¬4èŠ‚-Camera-ã€äº†è§£ã€‘" class="headerlink" title="ç¬¬4èŠ‚ Camera ã€äº†è§£ã€‘"></a>ç¬¬4èŠ‚ Camera ã€äº†è§£ã€‘</h2><p><a href="https://hencoder.com/ui-1-4/" target="_blank" rel="noopener">https://hencoder.com/ui-1-4/</a></p>
<blockquote>
<p><code>Camera</code> çš„ä¸‰ç»´å˜æ¢æœ‰ä¸‰ç±»ï¼šæ—‹è½¬ã€å¹³ç§»ã€ç§»åŠ¨ç›¸æœº</p>
</blockquote>
<h3 id="Camera-rotate-ä¸‰ç»´æ—‹è½¬"><a href="#Camera-rotate-ä¸‰ç»´æ—‹è½¬" class="headerlink" title="Camera.rotate*() ä¸‰ç»´æ—‹è½¬"></a>Camera.rotate*() ä¸‰ç»´æ—‹è½¬</h3><pre class="line-numbers language-java"><code class="language-java">canvas<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

camera<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ä¿å­˜ Camera çš„çŠ¶æ€  </span>
camera<span class="token punctuation">.</span><span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ—‹è½¬ Camera çš„ä¸‰ç»´ç©ºé—´  </span>
camera<span class="token punctuation">.</span><span class="token function">applyToCanvas</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æŠŠæ—‹è½¬æŠ•å½±åˆ° Canvas  </span>
camera<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ¢å¤ Camera çš„çŠ¶æ€</span>

canvas<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>bitmap<span class="token punctuation">,</span> point1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> point1<span class="token punctuation">.</span>y<span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>  
canvas<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Camera-translate-float-x-float-y-float-z-ç§»åŠ¨"><a href="#Camera-translate-float-x-float-y-float-z-ç§»åŠ¨" class="headerlink" title="Camera.translate(float x, float y, float z) ç§»åŠ¨"></a>Camera.translate(float x, float y, float z) ç§»åŠ¨</h3><h3 id="Camera-setLocation-x-y-z-è®¾ç½®è™šæ‹Ÿç›¸æœºçš„ä½ç½®"><a href="#Camera-setLocation-x-y-z-è®¾ç½®è™šæ‹Ÿç›¸æœºçš„ä½ç½®" class="headerlink" title="Camera.setLocation(x, y, z) è®¾ç½®è™šæ‹Ÿç›¸æœºçš„ä½ç½®"></a>Camera.setLocation(x, y, z) è®¾ç½®è™šæ‹Ÿç›¸æœºçš„ä½ç½®</h3><blockquote>
<p> å•ä½ä¸æ˜¯åƒç´ ï¼Œè€Œæ˜¯ inch</p>
</blockquote>
<p>  åœ¨ <code>Camera</code> ä¸­ï¼Œç›¸æœºçš„é»˜è®¤ä½ç½®æ˜¯ (0, 0, -8)ï¼ˆè‹±å¯¸ï¼‰ã€‚8 x 72 = 576ï¼Œæ‰€ä»¥å®ƒçš„é»˜è®¤ä½ç½®æ˜¯ (0, 0, -576)ï¼ˆåƒç´ ï¼‰</p>
<h2 id="Viewç»˜åˆ¶æµç¨‹"><a href="#Viewç»˜åˆ¶æµç¨‹" class="headerlink" title="Viewç»˜åˆ¶æµç¨‹"></a>Viewç»˜åˆ¶æµç¨‹</h2><p><img src="http://cdn.linz.tech/android_ondraw_2019-09-14_15-13-37.png" alt=""></p>
<ol>
<li>åœ¨ <code>ViewGroup</code> çš„å­ç±»ä¸­é‡å†™é™¤ <code>dispatchDraw()</code> ä»¥å¤–çš„ç»˜åˆ¶æ–¹æ³•æ—¶ï¼Œå¯èƒ½éœ€è¦è°ƒç”¨ <code>setWillNotDraw(false)</code>ï¼›</li>
<li>åœ¨é‡å†™çš„æ–¹æ³•æœ‰å¤šä¸ªé€‰æ‹©æ—¶ï¼Œä¼˜å…ˆé€‰æ‹© <code>onDraw()</code></li>
</ol>
<h1 id="ç¬¬äºŒç« -åˆå­¦æ˜“çŠ¯é”™è¯¯"><a href="#ç¬¬äºŒç« -åˆå­¦æ˜“çŠ¯é”™è¯¯" class="headerlink" title="ç¬¬äºŒç«  åˆå­¦æ˜“çŠ¯é”™è¯¯"></a>ç¬¬äºŒç«  åˆå­¦æ˜“çŠ¯é”™è¯¯</h1><h2 id="æ„é€ æ–¹æ³•ç¼ºå¤±"><a href="#æ„é€ æ–¹æ³•ç¼ºå¤±" class="headerlink" title="æ„é€ æ–¹æ³•ç¼ºå¤±"></a>æ„é€ æ–¹æ³•ç¼ºå¤±</h2><blockquote>
<p>åŸå› ï¼šæŠŠè‡ªå®šä¹‰Viewæ”¾åœ¨Xmlå¸ƒå±€æ–‡ä»¶åŠ è½½ï¼Œæ²¡æœ‰å®ç°å¸¦å±æ€§çš„æ„é€ æ–¹æ³•</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SampleCustomView</span> <span class="token keyword">extends</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token function">SampleCustomView</span><span class="token punctuation">(</span>Context context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span> <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onDraw</span><span class="token punctuation">(</span>Canvas canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDraw</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span><span class="token function">drawColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>LTGRAY<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¼‚å¸¸å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-xml"><code class="language-xml"> Caused by: java.lang.NoSuchMethodException: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init</span><span class="token punctuation">></span></span> [class android.content.Context, interface android.util.AttributeSet]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åŸå› ï¼šå¸ƒå±€åœ¨inflate SampleCustomView çš„æ—¶å€™è¦æŠŠè§£æå®Œæˆçš„å±æ€§ä¸“é€’ç»™è‡ªå®šä¹‰View</p>
<h2 id="å±æ€§ç»§æ‰¿"><a href="#å±æ€§ç»§æ‰¿" class="headerlink" title="å±æ€§ç»§æ‰¿"></a>å±æ€§ç»§æ‰¿</h2><p>CustomView ä»£ç </p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomView</span> <span class="token keyword">extends</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>   
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>attrs.xml</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>declare-styleable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>CustomView<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>reference|color<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>background<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>declare-styleable</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç³»ç»Ÿå¼‚å¸¸æç¤ºï¼š</p>
<pre class="line-numbers language-log"><code class="language-log">app\build\intermediates\incremental\mergeDebugResources\merged.dir\values\values.xml:2552: error: duplicate value for resource 'attr/background' with config ''.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å¦‚æœæ˜¯ç»§æ‰¿ä¸æ˜¯ç³»ç»Ÿçš„Viewï¼Œå¼‚å¸¸</p>
<pre><code>src\main\res\values\attrs.xml: Error: Found item Attr/radius more than one time</code></pre><p>å¯ä»¥çœ‹å‡ºAndroid åœ¨ç¼–è¯‘çš„æ—¶å€™ä¼šæŠŠView å’ŒCustomView çš„å±æ€§è¿›è¡Œåˆå¹¶ï¼Œä¹Ÿå°±æ˜¯è¯´<code>è‡ªå®šä¹‰å±æ€§å…·æœ‰ç»§æ‰¿æ€§</code>, å³ï¼š</p>
<ol>
<li>è‡ªå®šä¹‰Viewçš„å±æ€§ä¸èƒ½å’Œçˆ¶ViewåŒåï¼›</li>
<li>å­Viewç»§æ‰¿çˆ¶Viewçš„æ‰€æœ‰å±æ€§ï¼›</li>
</ol>
<h2 id="drawText-åæ ‡é”™è¯¯"><a href="#drawText-åæ ‡é”™è¯¯" class="headerlink" title="drawText åæ ‡é”™è¯¯"></a>drawText åæ ‡é”™è¯¯</h2><ul>
<li><h3 id="drawText-String-text-float-x-float-y-Paint-paint-ï¼ˆx-yï¼‰æŒ‡å¦‚ä¸‹ï¼š"><a href="#drawText-String-text-float-x-float-y-Paint-paint-ï¼ˆx-yï¼‰æŒ‡å¦‚ä¸‹ï¼š" class="headerlink" title="drawText(String text, float x, float y, Paint paint) ,ï¼ˆx, yï¼‰æŒ‡å¦‚ä¸‹ï¼š"></a>drawText(String text, float x, float y, Paint paint) ,ï¼ˆx, yï¼‰æŒ‡å¦‚ä¸‹ï¼š</h3></li>
</ul>
<p><img src="http://cdn.linz.tech/android_blog_drawText.jpg" alt=""></p>
<h2 id="ä¸çŸ¥é“ä¸ä¼šç”¨ç¡¬ä»¶åŠ é€Ÿ"><a href="#ä¸çŸ¥é“ä¸ä¼šç”¨ç¡¬ä»¶åŠ é€Ÿ" class="headerlink" title="ä¸çŸ¥é“ä¸ä¼šç”¨ç¡¬ä»¶åŠ é€Ÿ"></a>ä¸çŸ¥é“ä¸ä¼šç”¨ç¡¬ä»¶åŠ é€Ÿ</h2><h3 id="ä»€ä¹ˆæ˜¯ç¡¬ä»¶åŠ é€Ÿ"><a href="#ä»€ä¹ˆæ˜¯ç¡¬ä»¶åŠ é€Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ç¡¬ä»¶åŠ é€Ÿ"></a>ä»€ä¹ˆæ˜¯ç¡¬ä»¶åŠ é€Ÿ</h3><blockquote>
<h2 id="ä¸€å¥è¯ï¼šç”¨GPUç»˜åˆ¶View"><a href="#ä¸€å¥è¯ï¼šç”¨GPUç»˜åˆ¶View" class="headerlink" title="ä¸€å¥è¯ï¼šç”¨GPUç»˜åˆ¶View"></a>ä¸€å¥è¯ï¼šç”¨GPUç»˜åˆ¶View</h2><h3 id="ç†è§£ï¼šç°åœ¨å¾ˆå¤šä¸»æµæ‰‹æœºæœºå‹éƒ½ä¼šæœ‰GPUï¼Œç”šè‡³æ¯”ä¸€äº›ç”µè„‘çš„é…ç½®éƒ½é«˜ã€‚æ‰‹æœºå’Œç”µè„‘ç¡¬ä»¶æ¶æ„åŸºæœ¬ç±»ä¼¼ï¼Œä¸å¼€å¯å’Œå¼€å¯ç¡¬ä»¶åŠ é€Ÿï¼Œå°±åƒé›†æ˜¾å’Œæœ‰1Gæ˜¾å¡çš„ä¸åŒï¼Œç¨‹åºå‘˜åº”è¯¥ç§’æ‡‚ã€‚"><a href="#ç†è§£ï¼šç°åœ¨å¾ˆå¤šä¸»æµæ‰‹æœºæœºå‹éƒ½ä¼šæœ‰GPUï¼Œç”šè‡³æ¯”ä¸€äº›ç”µè„‘çš„é…ç½®éƒ½é«˜ã€‚æ‰‹æœºå’Œç”µè„‘ç¡¬ä»¶æ¶æ„åŸºæœ¬ç±»ä¼¼ï¼Œä¸å¼€å¯å’Œå¼€å¯ç¡¬ä»¶åŠ é€Ÿï¼Œå°±åƒé›†æ˜¾å’Œæœ‰1Gæ˜¾å¡çš„ä¸åŒï¼Œç¨‹åºå‘˜åº”è¯¥ç§’æ‡‚ã€‚" class="headerlink" title="ç†è§£ï¼šç°åœ¨å¾ˆå¤šä¸»æµæ‰‹æœºæœºå‹éƒ½ä¼šæœ‰GPUï¼Œç”šè‡³æ¯”ä¸€äº›ç”µè„‘çš„é…ç½®éƒ½é«˜ã€‚æ‰‹æœºå’Œç”µè„‘ç¡¬ä»¶æ¶æ„åŸºæœ¬ç±»ä¼¼ï¼Œä¸å¼€å¯å’Œå¼€å¯ç¡¬ä»¶åŠ é€Ÿï¼Œå°±åƒé›†æ˜¾å’Œæœ‰1Gæ˜¾å¡çš„ä¸åŒï¼Œç¨‹åºå‘˜åº”è¯¥ç§’æ‡‚ã€‚"></a>ç†è§£ï¼šç°åœ¨å¾ˆå¤šä¸»æµæ‰‹æœºæœºå‹éƒ½ä¼šæœ‰GPUï¼Œç”šè‡³æ¯”ä¸€äº›ç”µè„‘çš„é…ç½®éƒ½é«˜ã€‚æ‰‹æœºå’Œç”µè„‘ç¡¬ä»¶æ¶æ„åŸºæœ¬ç±»ä¼¼ï¼Œä¸å¼€å¯å’Œå¼€å¯ç¡¬ä»¶åŠ é€Ÿï¼Œå°±åƒé›†æ˜¾å’Œæœ‰1Gæ˜¾å¡çš„ä¸åŒï¼Œç¨‹åºå‘˜åº”è¯¥ç§’æ‡‚ã€‚</h3></blockquote>
<p>å…·ä½“çš„ä¼˜åŒ–æ•ˆæœæ˜¯</p>
<ol>
<li>ç»˜åˆ¶å—ï¼›</li>
<li>åˆ·æ–°é¢‘ç‡æé«˜ï¼›</li>
</ol>
<h3 id="æ€ä¹ˆå¼€å¯"><a href="#æ€ä¹ˆå¼€å¯" class="headerlink" title="æ€ä¹ˆå¼€å¯"></a>æ€ä¹ˆå¼€å¯</h3><p>ObjectAnimator</p>
<pre class="line-numbers language-java"><code class="language-java">view<span class="token punctuation">.</span><span class="token function">setLayerType</span><span class="token punctuation">(</span>LAYER_TYPE_HARDWARE<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>  
ObjectAnimator animator <span class="token operator">=</span> ObjectAnimator<span class="token punctuation">.</span><span class="token function">ofFloat</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> <span class="token string">"rotationY"</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

animator<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AnimatorListenerAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimationEnd</span><span class="token punctuation">(</span>Animator animation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        view<span class="token punctuation">.</span><span class="token function">setLayerType</span><span class="token punctuation">(</span>LAYER_TYPE_NONE<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

animator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ViewPropertyAnimator</p>
<pre class="line-numbers language-java"><code class="language-java">view<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">rotationY</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">withLayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// withLayer() å¯ä»¥è‡ªåŠ¨å®Œæˆä¸Šé¢è¿™æ®µä»£ç çš„å¤æ‚æ“ä½œ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="ä½¿ç”¨æ¡ä»¶"><a href="#ä½¿ç”¨æ¡ä»¶" class="headerlink" title="ä½¿ç”¨æ¡ä»¶"></a>ä½¿ç”¨æ¡ä»¶</h3><ol>
<li><p>å—åˆ° GPU ç»˜åˆ¶æ–¹å¼çš„é™åˆ¶ï¼Œ<code>Canvas</code> çš„æœ‰äº›æ–¹æ³•åœ¨ç¡¬ä»¶åŠ é€Ÿå¼€å¯å¼ä¼šå¤±æ•ˆæˆ–æ— æ³•æ­£å¸¸å·¥ä½œï¼Œå¦‚ä¸‹å›¾</p>
<p><img src="http://ws2.sinaimg.cn/large/006tKfTcly1fjn0huxdm5j30lr0q0n25.jpg" alt=""></p>
<blockquote>
<h2 id="Canvas-è°ƒç”¨ä»¥ä¸Šæ–¹æ³•éœ€è¦æ£€æµ‹ç³»ç»ŸAPI"><a href="#Canvas-è°ƒç”¨ä»¥ä¸Šæ–¹æ³•éœ€è¦æ£€æµ‹ç³»ç»ŸAPI" class="headerlink" title="Canvas` è°ƒç”¨ä»¥ä¸Šæ–¹æ³•éœ€è¦æ£€æµ‹ç³»ç»ŸAPI"></a>Canvas` è°ƒç”¨ä»¥ä¸Šæ–¹æ³•éœ€è¦æ£€æµ‹ç³»ç»ŸAPI</h2></blockquote>
</li>
<li><p>åªæœ‰ä½ åœ¨å¯¹ translationX translationY rotation alpha ç­‰æ— éœ€è°ƒç”¨ invalidate() çš„å±æ€§åšåŠ¨ç”»çš„æ—¶å€™ï¼Œè¿™ç§æ–¹æ³•æ‰é€‚ç”¨ ï¼Œæ•…ç»“è®ºæ˜¯ </p>
<blockquote>
<h2 id="è¿™ç§æ–¹å¼ä¸é€‚ç”¨äºåŸºäºè‡ªå®šä¹‰å±æ€§ç»˜åˆ¶çš„åŠ¨ç”»"><a href="#è¿™ç§æ–¹å¼ä¸é€‚ç”¨äºåŸºäºè‡ªå®šä¹‰å±æ€§ç»˜åˆ¶çš„åŠ¨ç”»" class="headerlink" title="ã€€è¿™ç§æ–¹å¼ä¸é€‚ç”¨äºåŸºäºè‡ªå®šä¹‰å±æ€§ç»˜åˆ¶çš„åŠ¨ç”»"></a>ã€€<strong>è¿™ç§æ–¹å¼ä¸é€‚ç”¨äºåŸºäºè‡ªå®šä¹‰å±æ€§ç»˜åˆ¶çš„åŠ¨ç”»</strong></h2></blockquote>
</li>
<li><p>View åœ¨åˆæ¬¡ç»˜åˆ¶æ—¶ä»¥åŠæ¯æ¬¡ <code>invalidate()</code> åé‡ç»˜æ—¶ï¼Œéœ€è¦è¿›è¡Œä¸¤æ¬¡çš„ç»˜åˆ¶å·¥ä½œï¼ˆä¸€æ¬¡ç»˜åˆ¶åˆ° Layerï¼Œä¸€æ¬¡ä» Layer ç»˜åˆ¶åˆ°æ˜¾ç¤ºå±ï¼‰ï¼Œæ‰€ä»¥å…¶å®å®ƒçš„æ¯æ¬¡ç»˜åˆ¶çš„æ•ˆç‡æ˜¯è¢«é™ä½äº†çš„</p>
</li>
</ol>
<h1 id="ç¬¬ä¸‰ç« -æ€ä¹ˆå‘è‡ªå®šä¹‰Viewä¼ å‚"><a href="#ç¬¬ä¸‰ç« -æ€ä¹ˆå‘è‡ªå®šä¹‰Viewä¼ å‚" class="headerlink" title="ç¬¬ä¸‰ç«  æ€ä¹ˆå‘è‡ªå®šä¹‰Viewä¼ å‚"></a>ç¬¬ä¸‰ç«  æ€ä¹ˆå‘è‡ªå®šä¹‰Viewä¼ å‚</h1><blockquote>
<p> é€šè¿‡Androidè‡ªå®šä¹‰å±æ€§å¯ä»¥å‘è‡ªå®šä¹‰Viewä¼ å…¥ç‰¹å®šå‚æ•°</p>
</blockquote>
<h2 id="ç¬¬1èŠ‚-æœ€ç®€å•æ¡ˆä¾‹"><a href="#ç¬¬1èŠ‚-æœ€ç®€å•æ¡ˆä¾‹" class="headerlink" title="ç¬¬1èŠ‚ æœ€ç®€å•æ¡ˆä¾‹"></a>ç¬¬1èŠ‚ æœ€ç®€å•æ¡ˆä¾‹</h2><p>ç¬¬ä¸€æ­¥ï¼šç”³æ˜å±æ€§ï¼Œä¸€èˆ¬å­˜æ”¾åœ¨<code>value/attrs.xml</code>æ–‡ä»¶ä¸‹</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>declare-styleable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>CustomView<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dimension<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>radius<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>declare-styleable</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>æ³¨æ„ï¼šç”³æ˜å±æ€§çš„åç§°æœ€å¥½å’Œè‡ªå®šä¹‰Viewåç§°ä¸€æ ·ï¼Œ å¦‚ä¸Šé¢è‡ªå®šä¹‰å±æ€§ï¼Œè‡ªå®šä¹‰Viewåç§°æ˜¯<code>CustomView</code></p>
<p>ç¬¬äºŒæ­¥ï¼šåœ¨å¸ƒå±€æ–‡ä»¶xmlä¸­ä½¿ç”¨è‡ªå®šä¹‰å±æ€§</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>android.support.constraint.ConstraintLayout</span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>app</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res-auto<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>iview</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res-auto<span class="token punctuation">"</span></span>
    <span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>com.iview.easyview.CustomView</span>
      <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200dp<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200dp<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">android:</span>layout_marginStart</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>16dp<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">iview:</span>radius</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>30dp<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintBottom_toBottomOf</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span>
      <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>android.support.constraint.ConstraintLayout</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è§£æï¼š </p>
<ul>
<li><code>xmlns:app</code> ,<code>xmlns:iview</code> è™½ç„¶æŒ‡å‘åŒä¸€ä¸ªå‘½åç©ºé—´ï¼ˆxmlnsï¼‰<code>http://schemas.android.com/apk/res-auto</code>,ä½†æ˜¯ç”¨ä¸åŒçš„åç§°ï¼Œæ„å›¾æ˜¯è®©é˜…è¯»è€…æ¸…æ¥šåŒºåˆ†ä¸åŒçš„è‡ªå®šä¹‰å±æ€§å½’å±ã€‚ <code>xmlns:app</code> æŒ‡å‘ <code>ConstraintLayout</code> ï¼Œ<code>xmlns:iview</code> æŒ‡å‘<code>CustomView</code></li>
</ul>
<p>ç¬¬ä¸‰æ­¥ï¼šåœ¨è‡ªå®šä¹‰Viewä¸­è·å–è‡ªå®šä¹‰å±æ€§ï¼Œè¿›è¡ŒåŠ¨æ€é…ç½®</p>
<pre class="line-numbers language-java"><code class="language-java">  <span class="token keyword">public</span> <span class="token function">CustomView</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> AttributeSet attrs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span><span class="token punctuation">;</span>
    TypedArray ta <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">obtainStyledAttributes</span><span class="token punctuation">(</span>attrs<span class="token punctuation">,</span> R<span class="token punctuation">.</span>styleable<span class="token punctuation">.</span>CustomView<span class="token punctuation">)</span><span class="token punctuation">;</span>
    mRadius <span class="token operator">=</span> ta<span class="token punctuation">.</span><span class="token function">getDimensionPixelSize</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>styleable<span class="token punctuation">.</span>CustomView_radius<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ta<span class="token punctuation">.</span><span class="token function">recycle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ç¬¬2èŠ‚-8ç§åŸºæœ¬ç±»å‹ä¼ å‚ï¼ˆformatï¼‰"><a href="#ç¬¬2èŠ‚-8ç§åŸºæœ¬ç±»å‹ä¼ å‚ï¼ˆformatï¼‰" class="headerlink" title="ç¬¬2èŠ‚ 8ç§åŸºæœ¬ç±»å‹ä¼ å‚ï¼ˆformatï¼‰"></a>ç¬¬2èŠ‚ 8ç§åŸºæœ¬ç±»å‹ä¼ å‚ï¼ˆformatï¼‰</h2><pre class="line-numbers language-xml"><code class="language-xml">&lt;declare-styleable name = "View">
     &lt;attr name = "background" format = "xxx" />
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>declare-styleable</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>å…¶ä¸­xxxå¯ä¸ºå¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>referenceï¼šå‚è€ƒæŸä¸€èµ„æºID</strong></li>
<li><strong>colorï¼šé¢œè‰²å€¼</strong></li>
<li><strong>booleanï¼šå¸ƒå°”å€¼</strong></li>
<li><strong>dimensionï¼šå°ºå¯¸å€¼</strong></li>
<li><strong>floatï¼šæµ®ç‚¹å€¼</strong></li>
<li><strong>integerï¼šæ•´å‹å€¼</strong></li>
<li><strong>stringï¼šå­—ç¬¦ä¸²</strong></li>
<li><strong>fractionï¼šç™¾åˆ†æ•°</strong> å¦‚ â€œ200%â€</li>
</ol>
<h2 id="ç¬¬3èŠ‚-å•é€‰ï¼Œå¤šé€‰æ··åˆä¼ å‚"><a href="#ç¬¬3èŠ‚-å•é€‰ï¼Œå¤šé€‰æ··åˆä¼ å‚" class="headerlink" title="ç¬¬3èŠ‚ å•é€‰ï¼Œå¤šé€‰æ··åˆä¼ å‚"></a>ç¬¬3èŠ‚ å•é€‰ï¼Œå¤šé€‰æ··åˆä¼ å‚</h2><p>å•é€‰ï¼Œ<strong>enumï¼šæšä¸¾å€¼</strong></p>
<pre class="line-numbers language-xml"><code class="language-xml">   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dimension<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>layout_height<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enum</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fill_parent<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enum</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enum</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-2<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¤šé€‰ï¼Œ<strong>flagï¼šä½æˆ–è¿ç®—</strong></p>
<pre class="line-numbers language-xml"><code class="language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gravity<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>flag</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0x30<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>flag</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bottom<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0x50<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>flag</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0x03<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>flag</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0x05<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>flag</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>center_vertical<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0x10<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ··åˆï¼Œ<strong>æ··åˆç±»å‹ï¼š</strong></p>
<pre class="line-numbers language-xml"><code class="language-xml"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>reference|color<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>background<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç»¼åˆåº”è¯¥åƒè¿™æ ·</p>
<pre class="line-numbers language-xml"><code class="language-xml">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>declare-styleable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>CustomView<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dimension<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>radius<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token comment" spellcheck="true">&lt;!--å•é€‰--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dimension<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>layout_height<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enum</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fill_parent<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enum</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enum</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-2<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--å¤šé€‰--></span>
    <span class="token comment" spellcheck="true">&lt;!--android:gravity="bottom|left"/>--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gravity2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>flag</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0x30<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>flag</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bottom<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0x50<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>flag</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0x03<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>flag</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0x05<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>flag</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>center_vertical<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0x10<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--æ··åˆ--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>reference|color<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>background<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>declare-styleable</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="ç¬¬å››ç« -æ§ä»¶é»˜è®¤Styleä»é‚£æ¥çš„ï¼ŸThemeåŸç†"><a href="#ç¬¬å››ç« -æ§ä»¶é»˜è®¤Styleä»é‚£æ¥çš„ï¼ŸThemeåŸç†" class="headerlink" title="ç¬¬å››ç«  æ§ä»¶é»˜è®¤Styleä»é‚£æ¥çš„ï¼ŸThemeåŸç†"></a>ç¬¬å››ç«  æ§ä»¶é»˜è®¤Styleä»é‚£æ¥çš„ï¼ŸThemeåŸç†</h1><p>ç›¸ä¿¡å¾ˆå¤šåˆå­¦è€…ç”šè‡³ä¸€äº›åšäº†å‡ å¹´Androidçš„äººå¯¹styleï¼Œå¯¹themeéƒ½æœ‰ä¸€ç§è¶…çº§å¤æ‚çš„æ„Ÿè§‰ï¼Œä¸æƒ³è§¦ç¢°ï¼Œé‡åˆ°é—®é¢˜ç™¾åº¦ä¸€ä¸‹ï¼Œè§£å†³å°±ç®—äº†ã€‚ä½†æ˜¯ä½œä¸ºå‰ç«¯UI styleçš„æ¶æ„é€»è¾‘ä¸æ¸…æ¥šï¼ŒçœŸçš„æ˜¯ä¸€ä¸ªè‡´å‘½ä¼¤çš„ï¼Œç›¸ä¿¡æˆ‘è¿™ä¸ªè¿‡æ¥äººè¯´çš„è¯!</p>
<p>æˆ‘åŸæ¥ä¹Ÿè§‰å¾—å¤ªå¤æ‚äº†ï¼Œä½†æ˜¯ç ”ç©¶<img src="http://cdn.linz.tech/0A7EBEC3.jpg" alt="img"> çœŸçš„å¾ˆç®€å•ã€‚</p>
<h2 id="ThemeåŸç†"><a href="#ThemeåŸç†" class="headerlink" title="ThemeåŸç†"></a>ThemeåŸç†</h2><p><img src="http://cdn.linz.tech/android_theme_base_ui.png" alt=""></p>
<p>å¦‚ä¸Šå›¾æ˜¯ä»Android  studio ç›´æ¥ç”¨æ‹–å‡ºæ¥çš„åŸç”Ÿæ§ä»¶ï¼Œå­¦ä¹ äº†è‡ªå®šä¹‰å±æ€§åï¼Œè‡ªç„¶ä¼šæœ‰å¦‚ä¸‹ç–‘é—®ï¼š</p>
<ol>
<li>ä¸Šé¢çš„å±æ€§æ˜¯é‚£æ¥çš„ï¼›</li>
<li>ä¿®æ”¹ä¸»é¢˜ä¸ºä»€ä¹ˆå¯¹åº”çš„æ§ä»¶ä¹Ÿä¼šå‡ºç°å˜åŒ–ï¼›</li>
</ol>
<p>å‚è€ƒTextViewçš„æºä»£ç </p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token function">TextView</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> AttributeSet attrs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> attrs<span class="token punctuation">,</span> com<span class="token punctuation">.</span>android<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>R<span class="token punctuation">.</span>attr<span class="token punctuation">.</span>textViewStyle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>ç™½è¯ç¿»è¯‘ï¼šå½“xmlå¸ƒå±€æ²¡æœ‰è¯¥å±æ€§æ—¶ï¼Œè¯»å–å±æ€§<code>R.attr.textViewStyle</code>æŒ‡å®šçš„å±æ€§ã€‚</p>
<p>æ˜¯å¦è¿™é‡Œä¸€è„¸æ‡µé€¼ï¼Œå¬ä¸æ‡‚ï¼Œæ€ä¹ˆç”¨ï¼ŒæŠ“ç‹‚å‘¢ï¼Ÿå…·ä½“è®¾ç½®å¦‚ä¸‹ï¼š</p>
<p>ç¬¬ä¸€æ­¥ï¼šå¢åŠ è‡ªå®šä¹‰å±æ€§ï¼Œå¦‚ä¸‹å±æ€§<code>StyleInTheme</code>å±æ€§ï¼›</p>
<p>attr.xml</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--è‡ªå®šä¹‰å±æ€§--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>declare-styleable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>CustomView<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>string<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mview_1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>string<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mview_2<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>string<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mview_3<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>declare-styleable</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--å®šä¹‰CustomViewé»˜è®¤çš„style--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>reference<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>StyleInTheme<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šThemeä¸­è®¾ç½®ä¸Šé¢çš„å±æ€§æŒ‡å‘ä¸€ä¸ªStyleï¼š</p>
<pre class="line-numbers language-xml"><code class="language-xml">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>AppTheme<span class="token punctuation">"</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Theme.AppCompat.Light.DarkActionBar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!-- Customize your theme here. --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>colorPrimary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@color/colorPrimary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>colorPrimaryDark<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@color/colorPrimaryDark<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>colorAccent<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@color/colorAccent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
      <span class="token comment" spellcheck="true">&lt;!--è‡ªå®šstyle--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>StyleInTheme<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@style/StyleForTheme<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>StyleForTheme<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style language-css">
    &lt;item name=<span class="token string">"mview_1"</span>>declare in theme by style&lt;/item>
    &lt;item name=<span class="token string">"mview_2"</span>>declare in theme by style&lt;/item>
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šåœ¨è‡ªå®šä¹‰Viewä¸­æŒ‡å®š</p>
<pre class="line-numbers language-java"><code class="language-java">  <span class="token keyword">public</span> <span class="token function">CustomView</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> AttributeSet attrs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//R.attr.StyleInTheme å¿…é¡»å’ŒThemeä¸­çš„å±æ€§å¯¹åº”</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> attrs<span class="token punctuation">,</span>R<span class="token punctuation">.</span>attr<span class="token punctuation">.</span>StyleInTheme<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token function">CustomView</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> AttributeSet attrs<span class="token punctuation">,</span> <span class="token keyword">int</span> defStyleAttr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> attrs<span class="token punctuation">,</span> defStyleAttr<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token comment" spellcheck="true">// å¯ä»¥è·å–StyleForThemeä¸­è®¾ç½®çš„å±æ€§</span>
    TypedArray a <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">obtainStyledAttributes</span><span class="token punctuation">(</span>attrs<span class="token punctuation">,</span> R<span class="token punctuation">.</span>styleable<span class="token punctuation">.</span>CustomView<span class="token punctuation">,</span>defStyleAttr<span class="token punctuation">,</span>R<span class="token punctuation">.</span>style<span class="token punctuation">.</span>DefaultStyleRes<span class="token punctuation">)</span><span class="token punctuation">;</span>
    mRadius <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">getDimensionPixelSize</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>styleable<span class="token punctuation">.</span>CustomView_mview_1<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="è®¾ç½®å±æ€§çš„5ç­‰çº§"><a href="#è®¾ç½®å±æ€§çš„5ç­‰çº§" class="headerlink" title="è®¾ç½®å±æ€§çš„5ç­‰çº§"></a>è®¾ç½®å±æ€§çš„5ç­‰çº§</h2><blockquote>
<p> æ˜ç™½å¯è®¾ç½®å±æ€§çš„5ç­‰çº§ï¼Œstyleå’Œthemeéƒ½æ˜¯æµ®äº‘</p>
</blockquote>
<p>å¦‚ä¸Šæ‰€æœ‰çš„å±æ€§è§£æéƒ½æŒ‡å‘</p>
<pre class="line-numbers language-java"><code class="language-java">context<span class="token punctuation">.</span><span class="token function">obtainStyledAttributes</span><span class="token punctuation">(</span>attrs<span class="token punctuation">,</span>R<span class="token punctuation">.</span>styleable<span class="token punctuation">.</span>CustomView<span class="token punctuation">,</span>defStyleAttr<span class="token punctuation">,</span>R<span class="token punctuation">.</span>style<span class="token punctuation">.</span>DefaultStyleRes<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æºç æŒ‡å‘Resources#obtainStyledAttributesï¼Œå¦‚ä¸‹é‡ç‚¹æ³¨é‡Š</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**
* ä¸Šé¢çœç•¥...
* &lt;ol>
*     &lt;li> Any attribute values in the given AttributeSet.
*     &lt;li> The style resource specified in the AttributeSet (named
*     "style").
*     &lt;li> The default style specified by &lt;var>defStyleAttr&lt;/var> and
*     &lt;var>defStyleRes&lt;/var>
*     &lt;li> The base values in this theme.
* &lt;/ol>
* ....
**/</span>
<span class="token keyword">public</span> TypedArray <span class="token function">obtainStyledAttributes</span><span class="token punctuation">(</span>AttributeSet set<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> attrs<span class="token punctuation">,</span> <span class="token keyword">int</span> defStyleAttr<span class="token punctuation">,</span> <span class="token keyword">int</span> defStyleRes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> mThemeImpl<span class="token punctuation">.</span><span class="token function">obtainStyledAttributes</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> set<span class="token punctuation">,</span> attrs<span class="token punctuation">,</span> defStyleAttr<span class="token punctuation">,</span> defStyleRes<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ³¨é‡Šæ„æ€æ˜¯ï¼š å®šä¹‰äº†ä¸€ä¸ªè·å–å±æ€§çš„ä¼˜å…ˆçº§ï¼Œå½“ä¸¤ä¸ªä»¥ä¸Šçº§åˆ«åŒæ—¶å­˜åœ¨æ—¶ä¼˜å…ˆé€‰æ‹©çº§åˆ«é«˜çš„ã€‚</p>
<p>å¦‚å›¾æ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ï¼š</p>
<p><img src="http://cdn.linz.tech/android_attr_level2019-09-14_10-23-21.png" alt="æ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜"></p>
<p>æ ¹æ®<code>obtainStyledAttributes</code> å’Œä¸Šå›¾ç†è§£Android style å’Œ Themeçš„æ¶æ„ä½“ç³»ï¼ŒSo Easyï¼ï¼</p>
<h2 id="è·å–Styleå¸¸ç”¨æ–¹æ³•"><a href="#è·å–Styleå¸¸ç”¨æ–¹æ³•" class="headerlink" title="è·å–Styleå¸¸ç”¨æ–¹æ³•"></a>è·å–Styleå¸¸ç”¨æ–¹æ³•</h2><pre class="line-numbers language-java"><code class="language-java"> <span class="token keyword">final</span> TypedArray a <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">obtainStyledAttributes</span><span class="token punctuation">(</span>
                attrs<span class="token punctuation">,</span> R<span class="token punctuation">.</span>styleable<span class="token punctuation">.</span>PopupWindow<span class="token punctuation">,</span> defStyleAttr<span class="token punctuation">,</span> defStyleRes<span class="token punctuation">)</span><span class="token punctuation">;</span>
ColorStateList backgroundColor <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">getColorStateList</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>styleable<span class="token punctuation">.</span>CardView_cardBackgroundColor<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">hasValueOrEmpty</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>styleable<span class="token punctuation">.</span>PopupWindow_popupAnimationStyle<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">final</span> <span class="token keyword">int</span> animStyle <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">getResourceId</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>styleable<span class="token punctuation">.</span>PopupWindow_popupAnimationStyle<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
a<span class="token punctuation">.</span><span class="token function">recycle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="ç¬¬äº”ç« -View-åŠ¨ç”»ï¼ˆå±æ€§çš„ä¿®æ”¹ï¼‰"><a href="#ç¬¬äº”ç« -View-åŠ¨ç”»ï¼ˆå±æ€§çš„ä¿®æ”¹ï¼‰" class="headerlink" title="ç¬¬äº”ç«  View åŠ¨ç”»ï¼ˆå±æ€§çš„ä¿®æ”¹ï¼‰"></a>ç¬¬äº”ç«  View åŠ¨ç”»ï¼ˆå±æ€§çš„ä¿®æ”¹ï¼‰</h1><blockquote>
<h2 id="View-åŠ¨ç”»çš„æœ¬è´¨æ˜¯ä¸€å®šæ—¶é—´æ®µå†…åŠ¨æ€çš„æ”¹å˜Viewçš„ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§ï¼Œä»¥è¾¾åˆ°åŠ¨ç”»çš„æ•ˆæœ"><a href="#View-åŠ¨ç”»çš„æœ¬è´¨æ˜¯ä¸€å®šæ—¶é—´æ®µå†…åŠ¨æ€çš„æ”¹å˜Viewçš„ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§ï¼Œä»¥è¾¾åˆ°åŠ¨ç”»çš„æ•ˆæœ" class="headerlink" title="View åŠ¨ç”»çš„æœ¬è´¨æ˜¯ä¸€å®šæ—¶é—´æ®µå†…åŠ¨æ€çš„æ”¹å˜Viewçš„ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§ï¼Œä»¥è¾¾åˆ°åŠ¨ç”»çš„æ•ˆæœ"></a>View åŠ¨ç”»çš„æœ¬è´¨æ˜¯ä¸€å®šæ—¶é—´æ®µå†…åŠ¨æ€çš„æ”¹å˜Viewçš„ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§ï¼Œä»¥è¾¾åˆ°åŠ¨ç”»çš„æ•ˆæœ</h2><h3 id="ä¸‰ä¸ªå…³é”®è¦ç´ "><a href="#ä¸‰ä¸ªå…³é”®è¦ç´ " class="headerlink" title="ä¸‰ä¸ªå…³é”®è¦ç´ "></a>ä¸‰ä¸ªå…³é”®è¦ç´ </h3><ol>
<li>èµ·å§‹æ—¶é—´</li>
<li>æ”¹å˜çš„å±æ€§</li>
<li>æ”¹å˜çš„æ–¹å¼</li>
</ol>
</blockquote>
<h2 id="ç¬¬1èŠ‚-æ”¹å˜å±æ€§"><a href="#ç¬¬1èŠ‚-æ”¹å˜å±æ€§" class="headerlink" title="ç¬¬1èŠ‚ æ”¹å˜å±æ€§"></a>ç¬¬1èŠ‚ æ”¹å˜å±æ€§</h2><h3 id="æœ€å°æ¡ˆä¾‹"><a href="#æœ€å°æ¡ˆä¾‹" class="headerlink" title="æœ€å°æ¡ˆä¾‹"></a>æœ€å°æ¡ˆä¾‹</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// imageView1: 500 æ¯«ç§’</span>
imageView1<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">translationX</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setDuration</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ObjectAnimator animator <span class="token operator">=</span> 
    ObjectAnimator<span class="token punctuation">.</span><span class="token function">ofFloat</span><span class="token punctuation">(</span>imageView<span class="token punctuation">,</span> <span class="token string">"translationX"</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token comment" spellcheck="true">/*æ”¹å˜å±æ€§çš„æœ€ç»ˆå€¼*/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
animator<span class="token punctuation">.</span><span class="token function">setDuration</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
animator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å› æ­¤åŠ¨ç”»å¯æ”¹å˜çš„å±æ€§æœ‰</p>
<ol>
<li><p>ç»§æ‰¿äºViewçš„å±æ€§<br><img src="http://ws1.sinaimg.cn/large/006tKfTcgy1fj7x3rm1xxj30u50laq6y.jpg" alt=""></p>
</li>
<li><p>è‡ªå®šä¹‰Viewä¸­çš„<code>è‡ªå®šä¹‰å±æ€§</code></p>
</li>
</ol>
<h2 id="ç¬¬2èŠ‚-æ”¹å˜æ–¹å¼"><a href="#ç¬¬2èŠ‚-æ”¹å˜æ–¹å¼" class="headerlink" title="ç¬¬2èŠ‚ æ”¹å˜æ–¹å¼"></a>ç¬¬2èŠ‚ æ”¹å˜æ–¹å¼</h2><h3 id="2-1-Interpolator"><a href="#2-1-Interpolator" class="headerlink" title="2.1 Interpolator"></a>2.1 Interpolator</h3><p><a href="https://hencoder.com/ui-1-6/" target="_blank" rel="noopener">https://hencoder.com/ui-1-6/</a></p>
<p><a href="https://github.com/MasayukiSuda/EasingInterpolator" target="_blank" rel="noopener"><strong>EasingInterpolator</strong></a></p>
<p><img src="https://raw.githubusercontent.com/MasayukiSuda/EasingInterpolator/master/art/easing.png" alt=""></p>
<h3 id="2-2-è‡ªå®šä¹‰-Evaluator"><a href="#2-2-è‡ªå®šä¹‰-Evaluator" class="headerlink" title="2.2 è‡ªå®šä¹‰ Evaluator"></a>2.2 è‡ªå®šä¹‰ Evaluator</h3><blockquote>
<h2 id="ç»™èµ·å§‹å€¼å’Œè¿›è¡Œçš„ç™¾åˆ†æ¯”ï¼Œæƒ³è¦ä»€ä¹ˆå€¼è‡ªå·±å®šç®—æ³•"><a href="#ç»™èµ·å§‹å€¼å’Œè¿›è¡Œçš„ç™¾åˆ†æ¯”ï¼Œæƒ³è¦ä»€ä¹ˆå€¼è‡ªå·±å®šç®—æ³•" class="headerlink" title="ç»™èµ·å§‹å€¼å’Œè¿›è¡Œçš„ç™¾åˆ†æ¯”ï¼Œæƒ³è¦ä»€ä¹ˆå€¼è‡ªå·±å®šç®—æ³•"></a>ç»™èµ·å§‹å€¼å’Œè¿›è¡Œçš„ç™¾åˆ†æ¯”ï¼Œæƒ³è¦ä»€ä¹ˆå€¼è‡ªå·±å®šç®—æ³•</h2></blockquote>
<p>æ¡ˆä¾‹ä¸€ï¼šé¢œè‰²æ¸å˜Demo</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// è‡ªå®šä¹‰ HslEvaluator h è‰²åº¦ï¼Œsé¥±å’Œåº¦ läº®åº¦</span>
<span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">HsvEvaluator</span> <span class="token keyword">implements</span> <span class="token class-name">TypeEvaluator</span><span class="token operator">&lt;</span>Integer<span class="token operator">></span> <span class="token punctuation">{</span>  
   <span class="token keyword">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span> startHsv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">float</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span> endHsv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">float</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span> outHsv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">float</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> Integer <span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token keyword">float</span> fraction<span class="token punctuation">,</span> Integer startValue<span class="token punctuation">,</span> Integer endValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true">// æŠŠ ARGB è½¬æ¢æˆ HSV</span>
       Color<span class="token punctuation">.</span><span class="token function">colorToHSV</span><span class="token punctuation">(</span>startValue<span class="token punctuation">,</span> startHsv<span class="token punctuation">)</span><span class="token punctuation">;</span>
       Color<span class="token punctuation">.</span><span class="token function">colorToHSV</span><span class="token punctuation">(</span>endValue<span class="token punctuation">,</span> endHsv<span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token comment" spellcheck="true">// è®¡ç®—å½“å‰åŠ¨ç”»å®Œæˆåº¦ï¼ˆfractionï¼‰æ‰€å¯¹åº”çš„é¢œè‰²å€¼</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>endHsv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> startHsv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">180</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           endHsv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-=</span> <span class="token number">360</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>endHsv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> startHsv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">180</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           endHsv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">360</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       outHsv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> startHsv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">(</span>endHsv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> startHsv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> fraction<span class="token punctuation">;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>outHsv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">360</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           outHsv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-=</span> <span class="token number">360</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>outHsv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           outHsv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">360</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       outHsv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> startHsv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">(</span>endHsv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> startHsv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> fraction<span class="token punctuation">;</span>
       outHsv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> startHsv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">(</span>endHsv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> startHsv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> fraction<span class="token punctuation">;</span>

       <span class="token comment" spellcheck="true">// è®¡ç®—å½“å‰åŠ¨ç”»å®Œæˆåº¦ï¼ˆfractionï¼‰æ‰€å¯¹åº”çš„é€æ˜åº¦</span>
       <span class="token keyword">int</span> alpha <span class="token operator">=</span> startValue <span class="token operator">>></span> <span class="token number">24</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>endValue <span class="token operator">>></span> <span class="token number">24</span> <span class="token operator">-</span> startValue <span class="token operator">>></span> <span class="token number">24</span><span class="token punctuation">)</span> <span class="token operator">*</span> fraction<span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token comment" spellcheck="true">// æŠŠ HSV è½¬æ¢å› ARGB è¿”å›</span>
       <span class="token keyword">return</span> Color<span class="token punctuation">.</span><span class="token function">HSVToColor</span><span class="token punctuation">(</span>alpha<span class="token punctuation">,</span> outHsv<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

ObjectAnimator animator <span class="token operator">=</span> ObjectAnimator<span class="token punctuation">.</span><span class="token function">ofInt</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> <span class="token string">"color"</span><span class="token punctuation">,</span> <span class="token number">0xff00ff00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">// ä½¿ç”¨è‡ªå®šä¹‰çš„ HslEvaluator</span>
animator<span class="token punctuation">.</span><span class="token function">setEvaluator</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HsvEvaluator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
animator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ¡ˆä¾‹äºŒï¼šä½¿ç”¨Pointï¼ˆåæ ‡ï¼‰è¿›è¡Œç‰©ä½“çº¿è·¯æ”¹å˜</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">PointFEvaluator</span> <span class="token keyword">implements</span> <span class="token class-name">TypeEvaluator</span><span class="token operator">&lt;</span>PointF<span class="token operator">></span> <span class="token punctuation">{</span>  
   PointF newPoint <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PointF</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> PointF <span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token keyword">float</span> fraction<span class="token punctuation">,</span> PointF startValue<span class="token punctuation">,</span> PointF endValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">float</span> x <span class="token operator">=</span> startValue<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token punctuation">(</span>fraction <span class="token operator">*</span> <span class="token punctuation">(</span>endValue<span class="token punctuation">.</span>x <span class="token operator">-</span> startValue<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">float</span> y <span class="token operator">=</span> startValue<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token punctuation">(</span>fraction <span class="token operator">*</span> <span class="token punctuation">(</span>endValue<span class="token punctuation">.</span>y <span class="token operator">-</span> startValue<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       newPoint<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token keyword">return</span> newPoint<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

ObjectAnimator animator <span class="token operator">=</span> ObjectAnimator<span class="token punctuation">.</span><span class="token function">ofObject</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> <span class="token string">"position"</span><span class="token punctuation">,</span>  
        <span class="token keyword">new</span> <span class="token class-name">PointFEvaluator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">PointF</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">PointF</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
animator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="2-3-ä¸€æ¬¡æ”¹å˜å¤šä¸ªå±æ€§"><a href="#2-3-ä¸€æ¬¡æ”¹å˜å¤šä¸ªå±æ€§" class="headerlink" title="2.3 ä¸€æ¬¡æ”¹å˜å¤šä¸ªå±æ€§"></a>2.3 ä¸€æ¬¡æ”¹å˜å¤šä¸ªå±æ€§</h3><p>ä¸‰ç§æ–¹å¼</p>
<ol>
<li>åŸç”Ÿæ–¹å¼</li>
</ol>
<pre class="line-numbers language-java"><code class="language-java">view<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">scaleX</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">scaleY</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">alpha</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li><p>PropertyValuesHolder æ–¹å¼</p>
<pre class="line-numbers language-java"><code class="language-java">PropertyValuesHolder holder1 <span class="token operator">=</span> PropertyValuesHolder<span class="token punctuation">.</span><span class="token function">ofFloat</span><span class="token punctuation">(</span><span class="token string">"scaleX"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
PropertyValuesHolder holder2 <span class="token operator">=</span> PropertyValuesHolder<span class="token punctuation">.</span><span class="token function">ofFloat</span><span class="token punctuation">(</span><span class="token string">"scaleY"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
PropertyValuesHolder holder3 <span class="token operator">=</span> PropertyValuesHolder<span class="token punctuation">.</span><span class="token function">ofFloat</span><span class="token punctuation">(</span><span class="token string">"alpha"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ObjectAnimator animator <span class="token operator">=</span> ObjectAnimator<span class="token punctuation">.</span><span class="token function">ofPropertyValuesHolder</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> holder1<span class="token punctuation">,</span> holder2<span class="token punctuation">,</span> holder3<span class="token punctuation">)</span>  
animator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>animatorSetæ–¹å¼</p>
<pre class="line-numbers language-java"><code class="language-java">animatorSet<span class="token punctuation">.</span><span class="token function">playTogether</span><span class="token punctuation">(</span>animator1<span class="token punctuation">,</span> animator2<span class="token punctuation">)</span><span class="token punctuation">;</span>  
animatorSet<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ol>
<h3 id="2-4-å¤šå±æ€§æ”¹å˜è®¾ç½®é¡ºåº"><a href="#2-4-å¤šå±æ€§æ”¹å˜è®¾ç½®é¡ºåº" class="headerlink" title="2.4 å¤šå±æ€§æ”¹å˜è®¾ç½®é¡ºåº"></a>2.4 å¤šå±æ€§æ”¹å˜è®¾ç½®é¡ºåº</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// ä½¿ç”¨ AnimatorSet.play(animatorA).with/before/after(animatorB)</span>
<span class="token comment" spellcheck="true">// çš„æ–¹å¼æ¥ç²¾ç¡®é…ç½®å„ä¸ª Animator ä¹‹é—´çš„å…³ç³»</span>
animatorSet<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span>animator1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>animator2<span class="token punctuation">)</span><span class="token punctuation">;</span>  
animatorSet<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span>animator1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span>animator2<span class="token punctuation">)</span><span class="token punctuation">;</span>  
animatorSet<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span>animator1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">after</span><span class="token punctuation">(</span>animator2<span class="token punctuation">)</span><span class="token punctuation">;</span>  
animatorSet<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="2-5-åŒä¸€ä¸ªå±æ€§å…³é”®å¸§æ‹†åˆ†"><a href="#2-5-åŒä¸€ä¸ªå±æ€§å…³é”®å¸§æ‹†åˆ†" class="headerlink" title="2.5 åŒä¸€ä¸ªå±æ€§å…³é”®å¸§æ‹†åˆ†"></a>2.5 åŒä¸€ä¸ªå±æ€§å…³é”®å¸§æ‹†åˆ†</h3><pre class="line-numbers language-java"><code class="language-java"> <span class="token comment" spellcheck="true">// åœ¨ 0% å¤„å¼€å§‹</span>
Keyframe keyframe1 <span class="token operator">=</span> Keyframe<span class="token punctuation">.</span><span class="token function">ofFloat</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// æ—¶é—´ç»è¿‡ 50% çš„æ—¶å€™ï¼ŒåŠ¨ç”»å®Œæˆåº¦ 100%</span>
Keyframe keyframe2 <span class="token operator">=</span> Keyframe<span class="token punctuation">.</span><span class="token function">ofFloat</span><span class="token punctuation">(</span><span class="token number">0.5f</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// æ—¶é—´è§è¿‡ 100% çš„æ—¶å€™ï¼ŒåŠ¨ç”»å®Œæˆåº¦å€’é€€åˆ° 80%ï¼Œå³åå¼¹ 20%</span>
Keyframe keyframe3 <span class="token operator">=</span> Keyframe<span class="token punctuation">.</span><span class="token function">ofFloat</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
PropertyValuesHolder holder <span class="token operator">=</span> PropertyValuesHolder<span class="token punctuation">.</span><span class="token function">ofKeyframe</span><span class="token punctuation">(</span><span class="token string">"progress"</span><span class="token punctuation">,</span> keyframe1<span class="token punctuation">,</span> keyframe2<span class="token punctuation">,</span> keyframe3<span class="token punctuation">)</span><span class="token punctuation">;</span>

ObjectAnimator animator <span class="token operator">=</span> ObjectAnimator<span class="token punctuation">.</span><span class="token function">ofPropertyValuesHolder</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> holder<span class="token punctuation">)</span><span class="token punctuation">;</span>
animator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ³¨è§£ï¼šä»£ç é€»è¾‘æ˜¯æ ¹æ®å…³é”®å¸§ï¼ˆKeyframeï¼‰ï¼ŒæŒ‡å®šValueï¼›å®šä¹‰ä¸‰ä¸ªä¸ªç‚¹ï¼ˆKeyframe, valueï¼‰</p>
<ol>
<li>ï¼ˆ0,0ï¼‰</li>
<li>ï¼ˆ0.5,100ï¼‰</li>
<li>ï¼ˆ1,80ï¼‰</li>
</ol>
<h2 id="ç¬¬3èŠ‚-ç›‘å¬æ”¹å˜"><a href="#ç¬¬3èŠ‚-ç›‘å¬æ”¹å˜" class="headerlink" title="ç¬¬3èŠ‚ ç›‘å¬æ”¹å˜"></a>ç¬¬3èŠ‚ ç›‘å¬æ”¹å˜</h2><p>AnimatorListenerAdapter.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AnimatorListenerAdapter</span> <span class="token keyword">implements</span> <span class="token class-name">Animator<span class="token punctuation">.</span>AnimatorListener</span><span class="token punctuation">,</span>
        Animator<span class="token punctuation">.</span>AnimatorPauseListener <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimationCancel</span><span class="token punctuation">(</span>Animator animation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//onAnimationEnd()ä¹Ÿä¼šè°ƒç”¨ï¼ŒåäºCancel</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimationEnd</span><span class="token punctuation">(</span>Animator animation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimationRepeat</span><span class="token punctuation">(</span>Animator animation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//ç”±äº ViewPropertyAnimator ä¸æ”¯æŒé‡å¤ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•å¯¹ ViewPropertyAnimator ç›¸å½“äºæ— æ•ˆ</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimationStart</span><span class="token punctuation">(</span>Animator animation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimationPause</span><span class="token punctuation">(</span>Animator animation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimationResume</span><span class="token punctuation">(</span>Animator animation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ç¬¬4èŠ‚-å®æˆ˜ç¬”è®°"><a href="#ç¬¬4èŠ‚-å®æˆ˜ç¬”è®°" class="headerlink" title="ç¬¬4èŠ‚ å®æˆ˜ç¬”è®°"></a>ç¬¬4èŠ‚ å®æˆ˜ç¬”è®°</h2><h3 id="4-1-Tween-Animation"><a href="#4-1-Tween-Animation" class="headerlink" title="4.1 Tween Animation"></a>4.1 Tween Animation</h3><p>ç¬¬ä¸€æ­¥ï¼š <code>res/anim/hyperspace_jump.xml</code> åŠ¨ç”»ä¿®æ”¹é€»è¾‘xmlé…ç½®</p>
<pre class="line-numbers language-xml"><code class="language-xml">&lt;set xmlns:android="http://schemas.android.com/apk/res/android"
    android:interpolator="@[package:]anim/interpolator_resource"
    android:shareInterpolator=["true" | "false"] >
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>alpha</span>
        <span class="token attr-name"><span class="token namespace">android:</span>fromAlpha</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>float<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>toAlpha</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>float<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scale</span>
        <span class="token attr-name"><span class="token namespace">android:</span>fromXScale</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>float<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>toXScale</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>float<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>fromYScale</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>float<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>toYScale</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>float<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>pivotX</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>float<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>pivotY</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>float<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>translate</span>
        <span class="token attr-name"><span class="token namespace">android:</span>fromXDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>float<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>toXDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>float<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>fromYDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>float<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>toYDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>float<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rotate</span>
        <span class="token attr-name"><span class="token namespace">android:</span>fromDegrees</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>float<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>toDegrees</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>float<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>pivotX</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>float<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>pivotY</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>float<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">></span></span>
        ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šå¯åŠ¨xmlåŠ¨ç”»è®¾ç½®</p>
<pre class="line-numbers language-java"><code class="language-java">ImageView image <span class="token operator">=</span> <span class="token punctuation">(</span>ImageView<span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>
Animation hyperspaceJump <span class="token operator">=</span> AnimationUtils<span class="token punctuation">.</span><span class="token function">loadAnimation</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> R<span class="token punctuation">.</span>anim<span class="token punctuation">.</span>hyperspace_jump<span class="token punctuation">)</span><span class="token punctuation">;</span>
image<span class="token punctuation">.</span><span class="token function">startAnimation</span><span class="token punctuation">(</span>hyperspaceJump<span class="token punctuation">)</span><span class="token punctuation">;</span>

AnimatorSet set <span class="token operator">=</span> <span class="token punctuation">(</span>AnimatorSet<span class="token punctuation">)</span> AnimatorInflater<span class="token punctuation">.</span><span class="token function">loadAnimator</span><span class="token punctuation">(</span>myContext<span class="token punctuation">,</span>
    R<span class="token punctuation">.</span>animator<span class="token punctuation">.</span>property_animator<span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">setTarget</span><span class="token punctuation">(</span>myObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šåœæ­¢</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">stopAnimation</span><span class="token punctuation">(</span>View v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    v<span class="token punctuation">.</span><span class="token function">clearAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">canCancelAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       v<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>    
    animation<span class="token punctuation">.</span><span class="token function">setAnimationListener</span><span class="token punctuation">(</span>null<span class="token punctuation">)</span><span class="token punctuation">;</span>    
    v<span class="token punctuation">.</span><span class="token function">setAnimation</span><span class="token punctuation">(</span>null<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/**
 * Returns true if the API level supports canceling existing animations via the 
 * ViewPropertyAnimator, and false if it does not 
 * @return true if the API level supports canceling existing animations via the 
 * ViewPropertyAnimator, and false if it does not 
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">canCancelAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Build<span class="token punctuation">.</span>VERSION<span class="token punctuation">.</span>SDK_INT <span class="token operator">>=</span> Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>ICE_CREAM_SANDWICH<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>// è®¾ç½®åˆ‡æ¢åŠ¨ç”»ï¼Œä»å³è¾¹è¿›å…¥ï¼Œå·¦è¾¹é€€å‡º<br>on Activity<br>overridePendingTransition(R.anim.in_from_right, R.anim.out_to_left);</p>
<pre class="line-numbers language-xml"><code class="language-xml">//in_from_right.xml
<span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>interpolator</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@android:anim/accelerate_interpolator<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>translate</span>
        <span class="token attr-name"><span class="token namespace">android:</span>duration</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>fromXDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%p<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>toXDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0%p<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">></span></span>

//out_to_left.xml
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>interpolator</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@android:anim/accelerate_interpolator<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>translate</span>
        <span class="token attr-name"><span class="token namespace">android:</span>duration</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>fromXDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0%p<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>toXDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-100%p<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="4-2-Frame-Animation"><a href="#4-2-Frame-Animation" class="headerlink" title="4.2 Frame Animation"></a>4.2 Frame Animation</h3><p>ç¬¬ä¸€æ­¥ï¼šå®šä¹‰xmlæ–‡ä»¶ï¼Œ ä½ç½®<code>res/drawable/rocket_thrust.xml</code>å¦‚ï¼š</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>animation-list</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>oneshot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@drawable/thrust1<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">android:</span>duration</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@drawable/thrust2<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">android:</span>duration</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@drawable/thrust3<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">android:</span>duration</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>animation-list</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼š ä½¿ç”¨</p>
<pre class="line-numbers language-java"><code class="language-java">ImageView rocketImage <span class="token operator">=</span> <span class="token punctuation">(</span>ImageView<span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>rocket_image<span class="token punctuation">)</span><span class="token punctuation">;</span>
rocketImage<span class="token punctuation">.</span><span class="token function">setBackgroundResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>rocket_thrust<span class="token punctuation">)</span><span class="token punctuation">;</span>
rocketAnimation <span class="token operator">=</span> <span class="token punctuation">(</span>AnimationDrawable<span class="token punctuation">)</span> rocketImage<span class="token punctuation">.</span><span class="token function">getBackground</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rocketImage<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span>View view<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        rocketAnimation<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="4-3-Spring-Animation"><a href="#4-3-Spring-Animation" class="headerlink" title="4.3 Spring Animation"></a>4.3 Spring Animation</h3><ul>
<li><a href="https://developer.android.google.cn/guide/topics/graphics/spring-animation" target="_blank" rel="noopener">Animate movement using spring physics</a></li>
<li><a href="https://www.jianshu.com/p/c2962a8135f5" target="_blank" rel="noopener">Androidä¸­å¼¹ç°§åŠ¨ç”»çš„é‚£äº›äº‹ - SpringAnimation</a></li>
</ul>
<h4 id="CustomViewæ¡ˆä¾‹ç¬”è®°"><a href="#CustomViewæ¡ˆä¾‹ç¬”è®°" class="headerlink" title="CustomViewæ¡ˆä¾‹ç¬”è®°"></a>CustomViewæ¡ˆä¾‹ç¬”è®°</h4><ul>
<li><a href="http://blog.csdn.net/tianjian4592/article/details/44538605" target="_blank" rel="noopener">ä¸€ä¸ªç»šä¸½çš„loadingåŠ¨æ•ˆåˆ†æä¸å®ç°ï¼</a></li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-6a6533d24b09bf74.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//çŸ¥é“å¯¹åº”çš„è¾¹,æ±‚è§’åº¦</span>
<span class="token keyword">int</span> angle <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">acos</span><span class="token punctuation">(</span><span class="token punctuation">(</span>mArcRadius <span class="token operator">-</span> mCurrentProgressPosition<span class="token punctuation">)</span>        <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span> mArcRadius<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//ä½¿ç”¨Matrixæ—‹è½¬,ä½ç§»å›¾ç‰‡</span>
matrix<span class="token punctuation">.</span><span class="token function">postTranslate</span><span class="token punctuation">(</span>transX<span class="token punctuation">,</span> transY<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">postRotate</span><span class="token punctuation">(</span><span class="token keyword">float</span> degrees<span class="token punctuation">,</span> <span class="token keyword">float</span> px<span class="token punctuation">,</span> <span class="token keyword">float</span> py<span class="token punctuation">)</span><span class="token punctuation">;</span>
canvas<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>mLeafBitmap<span class="token punctuation">,</span> matrix<span class="token punctuation">,</span> mBitmapPaint<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="ç¬¬å…­ç« -UI-å¸ƒå±€"><a href="#ç¬¬å…­ç« -UI-å¸ƒå±€" class="headerlink" title="ç¬¬å…­ç«  UI å¸ƒå±€"></a>ç¬¬å…­ç«  UI å¸ƒå±€</h1><h2 id="MeasureSpec-å¸¸ç”¨æ–¹æ³•"><a href="#MeasureSpec-å¸¸ç”¨æ–¹æ³•" class="headerlink" title="MeasureSpec å¸¸ç”¨æ–¹æ³•"></a>MeasureSpec å¸¸ç”¨æ–¹æ³•</h2><ul>
<li>MeasureSpecç±»ä¸­çš„ä¸‰ä¸ªModeå¸¸é‡å€¼çš„æ„ä¹‰<br>UNSPECIFIED è¡¨ç¤ºæœªæŒ‡å®š<br>EXACTLY è€çˆ¸å·²ç»æŒ‡å®šå¥½<br>AT_MOST è¡¨ç¤ºè‡³å¤šï¼Œæœ‰ä¸€ä¸ªæœ€å¤§é™åˆ¶</li>
<li>è·å–Modeï¼Œint mode = MeasureSpec.getMode(heightMeasureSpec); </li>
<li>int size = MeasureSpec.getSize(measureSpec);  è·å¾—å®é™…å¤§å°</li>
<li>int childWidthSpec = MeasureSpec.makeMeasureSpec(width, MeasureSpec.UNSPECIFIED);</li>
<li>measureChildren /measureChild/measureChildWithMargins</li>
<li>setMeasuredDimension()  è®¾ç½®æœ€ç»ˆæµ‹é‡å€¼</li>
<li>API 11 ä»¥å‰ ä½¿ç”¨ resolveSize ï¼Œä»¥åä½¿ç”¨ resolveSizeAndState<pre class="line-numbers language-java"><code class="language-java"><span class="token function">setMeasuredDimension</span><span class="token punctuation">(</span>
<span class="token function">resolveSizeAndState</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">,</span> widthMeasureSpec<span class="token punctuation">,</span> childState <span class="token operator">&lt;&lt;</span> MEASURED_HEIGHT_STATE_SHIFT<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">resolveSizeAndState</span><span class="token punctuation">(</span>maxHeight<span class="token punctuation">,</span> heightMeasureSpec<span class="token punctuation">,</span> childState <span class="token operator">&lt;&lt;</span> MEASURED_HEIGHT_STATE_SHIFT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token keyword">int</span> width <span class="token operator">=</span> <span class="token function">resolveSize</span><span class="token punctuation">(</span><span class="token function">getSuggestedMinimumWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> widthMeasureSpec<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token keyword">int</span> height <span class="token operator">=</span> <span class="token function">resolveSize</span><span class="token punctuation">(</span><span class="token function">getSuggestedMinimumHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> heightMeasureSpec<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h2 id="ViewGroup-View"><a href="#ViewGroup-View" class="headerlink" title="ViewGroup/View"></a>ViewGroup/View</h2><p><img src="http://upload-images.jianshu.io/upload_images/1321512-28dbe5083f4f1c2f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br><img src="http://upload-images.jianshu.io/upload_images/1321512-bb097e636dd027e0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<ul>
<li>shouldDelayChildPressedState è‡ªå®šä¹‰ViewGroup ä¸ºä¸æ»šåŠ¨Groupè¿”å›falseï¼›</li>
<li>Gravity.apply(int gravity, int w, int h, Rect container, Rect outRect)<br>ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºæˆ‘ä»¬çš„å¯¹å…¶æ–¹å¼å€¼ï¼Œç¬¬äºŒä¸‰ä¸ªå‚æ•°å‘¢åˆ™è¡¨ç¤ºæˆ‘ä»¬è¦å¯¹é½çš„å…ƒç´ ï¼Œè¿™é‡Œé€šä¿—åœ°è¯´å°±æ˜¯æˆ‘ä»¬çˆ¶å®¹å™¨ä¸‹çš„å­å…ƒç´ ï¼Œè€Œcontainerå‚æ•°è¡¨ç¤ºçš„åˆ™æ˜¯æˆ‘ä»¬çˆ¶å®¹å™¨çš„çŸ©å½¢åŒºåŸŸï¼Œæœ€åä¸€ä¸ªå‚æ•°æ˜¯æ¥æ”¶è®¡ç®—åå­å…ƒç´ ä½ç½®åŒºåŸŸçš„çŸ©å½¢å¯¹è±¡ï¼Œéšä¾¿newä¸ªä¼ è¿›å»å°±è¡Œï¼Œå¯è§applyæ–¹å¼æ˜¯æ ¹æ®çŸ©å½¢åŒºåŸŸæ¥è®¡ç®—å¯¹å…¶æ–¹å¼çš„ï¼Œæ‰€ä»¥è¯´éå¸¸å¥½ç”¨ï¼Œæˆ‘ä»¬åªéœ€åœ¨onLayoutæ–¹æ³•ä¸­ç¡®å®šå‡ºçˆ¶å®¹å™¨çš„çŸ©å½¢åŒºåŸŸå°±å¯ä»¥è½»æ¾åœ°è®¡ç®—å‡ºå­å…ƒç´ æ ¹æ®å¯¹å…¶æ–¹å¼å‡ºç°åœ¨çˆ¶å®¹å™¨ä¸­çš„çŸ©å½¢åŒºåŸŸï¼Œè¿™ä¸€ä¸ªè¿‡ç¨‹ç•™ç»™å¤§å®¶è‡ªè¡Œå°è¯•. </li>
</ul>
<h2 id="è§¦æ‘¸åé¦ˆ"><a href="#è§¦æ‘¸åé¦ˆ" class="headerlink" title="è§¦æ‘¸åé¦ˆ"></a>è§¦æ‘¸åé¦ˆ</h2><p><a href="https://blog.csdn.net/lovelease/article/details/81137071" target="_blank" rel="noopener">Androidçš„äº‹ä»¶åˆ†å‘æœºåˆ¶ä»¥åŠæ»‘åŠ¨å†²çªçš„è§£å†³</a></p>
<h2 id="åæ ‡"><a href="#åæ ‡" class="headerlink" title="åæ ‡"></a>åæ ‡</h2><ul>
<li><strong>getGlobalVisibleRectæ–¹æ³•çš„ä½œç”¨æ˜¯è·å–è§†å›¾åœ¨å±å¹•åæ ‡ä¸­çš„å¯è§†åŒºåŸŸ</strong></li>
<li><strong>getLocalVisibleRectçš„ä½œç”¨æ˜¯è·å–è§†å›¾æœ¬èº«å¯è§çš„åæ ‡åŒºåŸŸï¼Œåæ ‡ä»¥è‡ªå·±çš„å·¦ä¸Šè§’ä¸ºåŸç‚¹ï¼ˆ0ï¼Œ0ï¼‰</strong></li>
<li>view.getLocationInWindow(location); //è·å–åœ¨å½“å‰çª—å£å†…çš„ç»å¯¹åæ ‡</li>
<li>view.getLocationOnScreen(location); //è·å–åœ¨æ•´ä¸ªå±å¹•å†…çš„ç»å¯¹åæ ‡</li>
<li><a href="http://blog.csdn.net/ztp800201/article/details/17218067" target="_blank" rel="noopener">MotionEventä¸­getX()å’ŒgetRawX()çš„åŒºåˆ«</a>  getRowXï¼šè§¦æ‘¸ç‚¹ç›¸å¯¹äºå±å¹•çš„åæ ‡  getXï¼š è§¦æ‘¸ç‚¹ç›¸å¯¹äºæŒ‰é’®çš„åæ ‡</li>
</ul>
<p>å‚è€ƒï¼š</p>
<ul>
<li><a href="http://www.cnblogs.com/ai-developers/p/4413585.html" target="_blank" rel="noopener">getGlobalVisibleRectå’ŒgetLocalVisibleRect</a></li>
<li><a href="https://blog.csdn.net/lvxiangan/article/details/19971509" target="_blank" rel="noopener">androidåæ ‡</a></li>
</ul>
<h3 id="è·å–Viewä½ç½®"><a href="#è·å–Viewä½ç½®" class="headerlink" title="è·å–Viewä½ç½®"></a>è·å–Viewä½ç½®</h3><p><img src="http://cdn.linz.tech/android_view_location.png" alt=""></p>
<p>å±å¹•åˆ†è¾¨ç‡ä¸º1080x2160</p>
<pre class="line-numbers language-kotlin"><code class="language-kotlin"><span class="token keyword">var</span> rect <span class="token operator">=</span> <span class="token function">Rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
view<span class="token punctuation">.</span><span class="token function">getGlobalVisibleRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span>
rect<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ul>
<li><p>getHitRect/getGlobalVisibleRect -&gt; Rect(882, 1764 - 1036, 1918)</p>
</li>
<li><p>getDrawingRect/getLocalVisibleRect -&gt; Rect(0, 0 - 154, 154)</p>
</li>
</ul>
<h1 id="é™„å½•ä¸€"><a href="#é™„å½•ä¸€" class="headerlink" title="é™„å½•ä¸€"></a>é™„å½•ä¸€</h1><h2 id="å‚è€ƒåšæ–‡"><a href="#å‚è€ƒåšæ–‡" class="headerlink" title="å‚è€ƒåšæ–‡"></a>å‚è€ƒåšæ–‡</h2><p><a href="https://blog.csdn.net/unicorn97/article/details/80796234#ConstraintLayoutConstraintSet_329" target="_blank" rel="noopener">AndroidåŠ¨ç”»å¤§åˆé›†</a></p>
<p><a href="https://blog.csdn.net/aigestudio/article/list/2?t=1&amp;" target="_blank" rel="noopener">å®šä¹‰View å…¶å®å¾ˆç®€å•</a></p>
<h3 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas"></a>Canvas</h3><ul>
<li><a href="https://www.jianshu.com/p/550d85419121" target="_blank" rel="noopener">Androidç”»å¸ƒå‰ªè£å‡½æ•°clipRectè¯¦è§£</a></li>
<li><a href="https://blog.csdn.net/tiankongcheng6/article/details/83000247" target="_blank" rel="noopener">Android canvas.save()ä¸canvas.restore()çš„ä½¿ç”¨æ€»ç»“</a></li>
<li><a href="https://blog.csdn.net/chen930724/article/details/50176661" target="_blank" rel="noopener">Android  draw canvas save restore saveLayer å­¦ä¹ </a></li>
</ul>
<h3 id="Style"><a href="#Style" class="headerlink" title="Style"></a>Style</h3><ul>
<li><p><a href="https://www.cnblogs.com/angeldevil/p/3479431.html" target="_blank" rel="noopener">Androidä¸­è‡ªå®šä¹‰æ ·å¼ä¸Viewçš„æ„é€ å‡½æ•°ä¸­çš„ç¬¬ä¸‰ä¸ªå‚æ•°defStyleçš„æ„ä¹‰</a></p>
</li>
<li><p><a href="https://www.jianshu.com/p/f1fd2d8d5536" target="_blank" rel="noopener">Androidä¸­Attributesã€defStyleAttrã€defStyleReså…³ç³»ç†è§£ä¸åº”ç”¨</a></p>
</li>
</ul>
<h2 id="å›¾ç‰‡å¤„ç†"><a href="#å›¾ç‰‡å¤„ç†" class="headerlink" title="å›¾ç‰‡å¤„ç†"></a>å›¾ç‰‡å¤„ç†</h2><h3 id="å¼€æºåº“"><a href="#å¼€æºåº“" class="headerlink" title="å¼€æºåº“"></a>å¼€æºåº“</h3><ul>
<li><a href="https://github.com/chengdazhi/StyleImageView" target="_blank" rel="noopener">StyleImageView</a><br><img src="https://raw.githubusercontent.com/chengdazhi/StyleImageView/master/images/style_sample.gif" alt=""></li>
</ul>
<h1 id="é™„å½•äºŒ"><a href="#é™„å½•äºŒ" class="headerlink" title="é™„å½•äºŒ"></a>é™„å½•äºŒ</h1><h2 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h2><h3 id="Matrix"><a href="#Matrix" class="headerlink" title="Matrix"></a>Matrix</h3><p><img src="http://upload-images.jianshu.io/upload_images/1321512-02b7186177129852.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<blockquote>
<p>é™¤äº†å¹³ç§»å¤–ï¼Œç¼©æ”¾ã€æ—‹è½¬ã€é”™åˆ‡ã€é€è§†éƒ½æ˜¯éœ€è¦ä¸€ä¸ªä¸­å¿ƒç‚¹ä½œä¸ºå‚ç…§çš„ï¼Œå¦‚æœæ²¡æœ‰å¹³ç§»ï¼Œé»˜è®¤ä¸ºå›¾å½¢çš„[0,0]ç‚¹ï¼Œå¹³ç§»åªéœ€è¦æŒ‡å®šç§»åŠ¨çš„è·ç¦»å³å¯ï¼Œå¹³ç§»æ“ä½œä¼šæ”¹å˜ä¸­å¿ƒç‚¹çš„ä½ç½®ï¼éå¸¸é‡è¦ï¼è®°ç‰¢äº†ï¼</p>
</blockquote>
<ul>
<li>è€ŒpreXXXå’ŒpostXXXå°±æ˜¯åˆ†åˆ«è¡¨ç¤ºçŸ©é˜µçš„å·¦å³ä¹˜,å·¦å³ä¹˜çš„ç»“æœæ˜¯ä¸åŒçš„ã€‚</li>
<li>å¹³ç§»leftä¸ªå•ä½â†“å¹³ç§»topä¸ªå•ä½ï¼Œä¹Ÿå°±æ˜¯è¯´åŸæœ¬shaderçš„åŸç‚¹åº”è¯¥æ˜¯ç”»å¸ƒï¼Œä¸æ˜¯å±å¹•ã€‚</li>
</ul>
<h2 id="ä»¿å†™ç»ƒä¹ "><a href="#ä»¿å†™ç»ƒä¹ " class="headerlink" title="ä»¿å†™ç»ƒä¹ "></a>ä»¿å†™ç»ƒä¹ </h2><p><a href="https://hencoder.com/activity-mock-2/" target="_blank" rel="noopener">https://hencoder.com/activity-mock-2/</a></p>
<p><strong>å³åˆ»ä»¿å†™</strong>ï¼š <a href="https://insight.io/github.com/arvinljw/ThumbUpSample/tree/master/" target="_blank" rel="noopener">https://insight.io/github.com/arvinljw/ThumbUpSample/tree/master/</a><br>å…³äºä»¿å†™è€…åˆ˜é‡‘ä¼Ÿï¼š<br>githubï¼š <a href="https://github.com/arvinljw" target="_blank" rel="noopener">https://github.com/arvinljw</a><br>ç®€ä¹¦ï¼š <a href="http://www.jianshu.com/u/8fcc3372beb7" target="_blank" rel="noopener">http://www.jianshu.com/u/8fcc3372beb7</a></p>
<p><strong>è–„è·å¥åº·ä»¿å†™</strong>ï¼š <a href="https://insight.io/github.com/totond/BooheeRuler/tree/master/" target="_blank" rel="noopener">https://insight.io/github.com/totond/BooheeRuler/tree/master/</a><br>å…³äºä»¿å†™è€…ä¸¥ç§¯æ¥·ï¼š<br>githubï¼š <a href="https://github.com/totond" target="_blank" rel="noopener">https://github.com/totond</a><br>CSDNï¼š <a href="http://blog.csdn.net/totond" target="_blank" rel="noopener">http://blog.csdn.net/totond</a><br>é‚®ç®±ï¼š <a href="mailto:yanzhikai_yjk@qq.com" target="_blank" rel="noopener">yanzhikai_yjk@qq.com</a></p>
<p><strong>å°ç±³è¿åŠ¨ä»¿å†™</strong>ï¼š <a href="https://insight.io/github.com/SickWorm/MISportsConnectWidget/tree/master/" target="_blank" rel="noopener">https://insight.io/github.com/SickWorm/MISportsConnectWidget/tree/master/</a><br>å…³äºä»¿å†™è€…é™ˆæµ©ï¼š<br>githubï¼š <a href="https://github.com/SickWorm" target="_blank" rel="noopener">https://github.com/SickWorm</a></p>
<p><strong>Flipboard ä»¿å†™</strong>ï¼š <a href="https://insight.io/github.com/sunnyxibei/HenCoderPractice/tree/master/" target="_blank" rel="noopener">https://insight.io/github.com/sunnyxibei/HenCoderPractice/tree/master/</a><br>å…³äºä»¿å†™è€…è´¾å…ƒæ–Œï¼š<br>githubï¼š <a href="https://github.com/sunnyxibei" target="_blank" rel="noopener">https://github.com/sunnyxibei</a><br>å¾®åšï¼š <a href="https://weibo.com/812306989" target="_blank" rel="noopener">https://weibo.com/812306989</a><br>å¾®ä¿¡ï¼š sun521xibei<br>ä¸ªäººåšå®¢ï¼š <a href="http://timeriver.com.cn/" target="_blank" rel="noopener">http://timeriver.com.cn/</a></p>
<h2 id="è‡ªå®šä¹‰Viewå…¶å®å¾ˆç®€å•æ¡ˆä¾‹"><a href="#è‡ªå®šä¹‰Viewå…¶å®å¾ˆç®€å•æ¡ˆä¾‹" class="headerlink" title="è‡ªå®šä¹‰Viewå…¶å®å¾ˆç®€å•æ¡ˆä¾‹"></a>è‡ªå®šä¹‰Viewå…¶å®å¾ˆç®€å•æ¡ˆä¾‹</h2><ul>
<li><p><a href="http://blog.csdn.net/aigestudio/article/details/41316141" target="_blank" rel="noopener">è‡ªå®šä¹‰æ§ä»¶å…¶å®å¾ˆç®€å•1/6</a><br><img src="http://upload-images.jianshu.io/upload_images/1321512-e7aad3fae62f26d8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
</li>
<li><p><a href="http://blog.csdn.net/aigestudio/article/details/41799811" target="_blank" rel="noopener">è‡ªå®šä¹‰æ§ä»¶å…¶å®å¾ˆç®€å•1/3</a><br><img src="http://upload-images.jianshu.io/upload_images/1321512-801e00469b2602c1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br><code>mRefBitmap = Bitmap.createBitmap(mSrcBitmap, 0, 0, mSrcBitmap.getWidth(), mSrcBitmap.getHeight(), matrix, true);</code>createBitamp + matrix å¾—åˆ°å›¾ç‰‡çš„å€’å½±å›¾<br><img src="http://upload-images.jianshu.io/upload_images/1321512-40c2c0171a7c1892.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>æ ¸å¿ƒä»£ç </p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// å®ä¾‹åŒ–æ··åˆæ¨¡å¼  </span>
      mXfermode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PorterDuffXfermode</span><span class="token punctuation">(</span>PorterDuff<span class="token punctuation">.</span>Mode<span class="token punctuation">.</span>SCREEN<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">// å»é¥±å’Œã€æäº®ã€è‰²ç›¸çŸ«æ­£  </span>
mBitmapPaint<span class="token punctuation">.</span><span class="token function">setColorFilter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ColorMatrixColorFilter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token number">0.8587F</span><span class="token punctuation">,</span> <span class="token number">0.2940F</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.0927F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6.79F</span><span class="token punctuation">,</span> <span class="token number">0.0821F</span><span class="token punctuation">,</span> <span class="token number">0.9145F</span><span class="token punctuation">,</span> <span class="token number">0.0634F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6.79F</span><span class="token punctuation">,</span> <span class="token number">0.2019F</span><span class="token punctuation">,</span> <span class="token number">0.1097F</span><span class="token punctuation">,</span> <span class="token number">0.7483F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6.79F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">// è®¾ç½®å¾„å‘æ¸å˜ï¼Œæ¸å˜ä¸­å¿ƒå½“ç„¶æ˜¯å›¾ç‰‡çš„ä¸­å¿ƒä¹Ÿæ˜¯å±å¹•ä¸­å¿ƒï¼Œæ¸å˜åŠå¾„æˆ‘ä»¬ç›´æ¥æ‹¿å›¾ç‰‡çš„é«˜åº¦ä½†æ˜¯è¦ç¨å¾®å°ä¸€ç‚¹  </span>
      <span class="token comment" spellcheck="true">// ä¸­å¿ƒé¢œè‰²ä¸ºé€æ˜è€Œè¾¹ç¼˜é¢œè‰²ä¸ºé»‘è‰²  </span>
      mShaderPaint<span class="token punctuation">.</span><span class="token function">setShader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RadialGradient</span><span class="token punctuation">(</span>screenW <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> screenH <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> mBitmap<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">7</span> <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">,</span> Color<span class="token punctuation">.</span>TRANSPARENT<span class="token punctuation">,</span> Color<span class="token punctuation">.</span>BLACK<span class="token punctuation">,</span> Shader<span class="token punctuation">.</span>TileMode<span class="token punctuation">.</span>CLAMP<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token annotation punctuation">@Override</span>  
  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onDraw</span><span class="token punctuation">(</span>Canvas canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      canvas<span class="token punctuation">.</span><span class="token function">drawColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>BLACK<span class="token punctuation">)</span><span class="token punctuation">;</span>  
      <span class="token comment" spellcheck="true">// æ–°å»ºå›¾å±‚  </span>
      <span class="token keyword">int</span> sc <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">saveLayer</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> x <span class="token operator">+</span> mBitmap<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">+</span> mBitmap<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> Canvas<span class="token punctuation">.</span>ALL_SAVE_FLAG<span class="token punctuation">)</span><span class="token punctuation">;</span>  
      <span class="token comment" spellcheck="true">// ç»˜åˆ¶æ··åˆé¢œè‰²  </span>
      canvas<span class="token punctuation">.</span><span class="token function">drawColor</span><span class="token punctuation">(</span><span class="token number">0xcc1c093e</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
      <span class="token comment" spellcheck="true">// è®¾ç½®æ··åˆæ¨¡å¼  </span>
      mBitmapPaint<span class="token punctuation">.</span><span class="token function">setXfermode</span><span class="token punctuation">(</span>mXfermode<span class="token punctuation">)</span><span class="token punctuation">;</span>  
      <span class="token comment" spellcheck="true">// ç»˜åˆ¶ä½å›¾  </span>
      canvas<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>mBitmap<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> mBitmapPaint<span class="token punctuation">)</span><span class="token punctuation">;</span>  
      <span class="token comment" spellcheck="true">// è¿˜åŸæ··åˆæ¨¡å¼  </span>
      mBitmapPaint<span class="token punctuation">.</span><span class="token function">setXfermode</span><span class="token punctuation">(</span>null<span class="token punctuation">)</span><span class="token punctuation">;</span>  
      <span class="token comment" spellcheck="true">// è¿˜åŸç”»å¸ƒ  </span>
      canvas<span class="token punctuation">.</span><span class="token function">restoreToCount</span><span class="token punctuation">(</span>sc<span class="token punctuation">)</span><span class="token punctuation">;</span>  
      <span class="token comment" spellcheck="true">// ç»˜åˆ¶ä¸€ä¸ªè·Ÿå›¾ç‰‡å¤§å°ä¸€æ ·çš„çŸ©å½¢  </span>
      canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> x <span class="token operator">+</span> mBitmap<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">+</span> mBitmap<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> mShaderPaint<span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>Matrix ImageViewä¸­çš„åº”ç”¨<br><img src="http://upload-images.jianshu.io/upload_images/1321512-fa91852954be9f0f.gif?imageMogr2/auto-orient/strip" alt=""></p>
</li>
<li><p>Matrix åœ¨ListViewä¸­çš„åº”ç”¨<br><img src="http://upload-images.jianshu.io/upload_images/1321512-5030edba20a127c9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<pre class="line-numbers language-java"><code class="language-java">  <span class="token annotation punctuation">@Override</span>  
  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onDraw</span><span class="token punctuation">(</span>Canvas canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      mCamera<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
      mCamera<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
      mCamera<span class="token punctuation">.</span><span class="token function">getMatrix</span><span class="token punctuation">(</span>mMatrix<span class="token punctuation">)</span><span class="token punctuation">;</span>  
      mMatrix<span class="token punctuation">.</span><span class="token function">preTranslate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
      mMatrix<span class="token punctuation">.</span><span class="token function">postTranslate</span><span class="token punctuation">(</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
      canvas<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>mMatrix<span class="token punctuation">)</span><span class="token punctuation">;</span>  
      <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDraw</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>  
      mCamera<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>è‡ªå®šä¹‰View<br><img src="http://upload-images.jianshu.io/upload_images/1321512-41c26887d58f3f4f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>å…³é”®ä»£ç ï¼š</p>
<pre class="line-numbers language-java"><code class="language-java"> canvas<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
      <span class="token comment" spellcheck="true">// å¹³ç§»å’Œæ—‹è½¬ç”»å¸ƒ  </span>
      canvas<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>ccX<span class="token punctuation">,</span> ccY<span class="token punctuation">)</span><span class="token punctuation">;</span>  
      canvas<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
      <span class="token comment" spellcheck="true">// ä¾æ¬¡ç”»ï¼š(é—´éš”)çº¿(é—´éš”)-åœˆ  </span>
      canvas<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span>largeCricleRadiu <span class="token operator">-</span> space<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span>lineLength <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">-</span> space<span class="token punctuation">,</span> strokePaint<span class="token punctuation">)</span><span class="token punctuation">;</span>  
      canvas<span class="token punctuation">.</span><span class="token function">drawCircle</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span>lineLength <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">-</span> smallCricleRadiu <span class="token operator">-</span> space <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> smallCricleRadiu<span class="token punctuation">,</span> strokePaint<span class="token punctuation">)</span><span class="token punctuation">;</span>  
      <span class="token comment" spellcheck="true">// é‡Šæ”¾ç”»å¸ƒ  </span>
      canvas<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>View Path/Canvasçš„ç»¼åˆåº”ç”¨  <a href="http://blog.csdn.net/aigestudio/article/details/41960507" target="_blank" rel="noopener">5/12</a><br><img src="http://upload-images.jianshu.io/upload_images/1321512-7c44d124a04d43e2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
</li>
<li><p>ç¿»é¡µ<br><a href="http://blog.csdn.net/aigestudio/article/details/42678541" target="_blank" rel="noopener">ç¿»é¡µï¼ˆ1ï¼‰</a><br><img src="http://upload-images.jianshu.io/upload_images/1321512-fab59160fd493e92.gif?imageMogr2/auto-orient/strip" alt="ç¿»é¡µ-1"></p>
</li>
</ul>
<p>éš¾ç‚¹æœªç†è§£ï¼šæŠ˜å åŒºåŸŸå›¾ç‰‡çš„ç»˜åˆ¶ã€‚</p>
<pre class="line-numbers language-java"><code class="language-java">canvas<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">90</span> <span class="token operator">-</span> mDegrees<span class="token punctuation">)</span><span class="token punctuation">;</span>  
canvas<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span>mViewHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>  
canvas<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
canvas<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token operator">-</span>mViewWidth<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-f0e11fa6b7745197.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-e553f979470b591c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"></p>
<ul>
<li>drawBitmapMesh <a href="http://blog.csdn.net/aigestudio/article/details/41960507" target="_blank" rel="noopener">è‡ªå®šä¹‰æ§ä»¶å…¶å®å¾ˆç®€å•5/12</a></li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-367aeaac082c40a1.gif?imageMogr2/auto-orient/strip" alt="20141216152332401.gif"></p>
<h2 id="ä¼˜ç§€åšæ–‡"><a href="#ä¼˜ç§€åšæ–‡" class="headerlink" title="ä¼˜ç§€åšæ–‡"></a>ä¼˜ç§€åšæ–‡</h2><ul>
<li><a href="https://mp.weixin.qq.com/s/qqoBLsjU69YpWjkzBGgM_w?utm_source=androidweekly.io&amp;utm_medium=website" target="_blank" rel="noopener">å¦‚ä½•å®ç°å›¾ç‰‡çš„æ‰­æ›²æ•ˆæœï¼Œçª—å¸˜æ•ˆæœåŠä»¿çœŸæ°´æ³¢çº¹æ•ˆæœï¼Œä¿®å›¾æŠ€æœ¯ä¹‹ç˜¦èº«ç˜¦è„¸æ•ˆæœçš„å®ç°(android-drawBitmapMesh)</a></li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>UI</tag>
        <tag>çŸ¥è¯†æ¶æ„</tag>
        <tag>è‡ªå®šä¹‰View</tag>
      </tags>
  </entry>
  <entry>
    <title>Java è¯­æ³•åŠçŸ¥è¯†æ¶æ„ç¬”è®°ï¼›</title>
    <url>/2019/09/14/2019-3-21-Java-basic/</url>
    <content><![CDATA[<p>[TOC]</p>
<h1 id="Java-åŸºç¡€å­¦ä¹ "><a href="#Java-åŸºç¡€å­¦ä¹ " class="headerlink" title="Java åŸºç¡€å­¦ä¹ "></a>Java åŸºç¡€å­¦ä¹ </h1><p><a href="http://www.horstmann.com/corejava.html" target="_blank" rel="noopener">Core Java ä¹¦ç±å®˜ç½‘</a></p>
<h2 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h2><ul>
<li>æ–¹æ³• <pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> T <span class="token function">tell</span><span class="token punctuation">(</span>T t<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> t<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li>æ•°ç»„<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
  String arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"java"</span><span class="token punctuation">,</span><span class="token string">"web"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token function">tell</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>   
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<p>public static <t>viod tell(T arr[]){<br>    for(int i=0;i&lt;arr.length;i++){<br>        System.out.println(arr[i]);<br>    }<br>}</t></p>
<pre><code>
demo
```java
private &lt;T&gt; T getObject(Message msg, Class&lt;T&gt; c) {
        return (T) msg.getData().getParcelable(c.getSimpleName());
    }</code></pre><p>ç°å®æ¡ˆä¾‹ï¼š<br><a href="https://raw.githubusercontent.com/f2prateek/rx-preferences/master/rx-preferences/src/main/java/com/f2prateek/rx/preferences2/RxSharedPreferences.java" target="_blank" rel="noopener">RxSharePreference.java</a></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@CheckResult</span> <span class="token annotation punctuation">@NonNull</span> <span class="token keyword">public</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> Preference<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token function">getObject</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> String key<span class="token punctuation">,</span>
                                                         <span class="token annotation punctuation">@NonNull</span> T defaultValue<span class="token punctuation">,</span> <span class="token annotation punctuation">@NonNull</span> Preference<span class="token punctuation">.</span>Converter<span class="token operator">&lt;</span>T<span class="token operator">></span> converter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">checkNotNull</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token string">"key == null"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RealPreference</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span>preferences<span class="token punctuation">,</span> key<span class="token punctuation">,</span> defaultValue<span class="token punctuation">,</span>
                                <span class="token keyword">new</span> <span class="token class-name">ConverterAdapter</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span>converter<span class="token punctuation">)</span><span class="token punctuation">,</span> keyChanges<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>FlowableConversionTest.java from Rxjava</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token operator">&lt;</span>R<span class="token punctuation">,</span> O<span class="token operator">></span> O <span class="token function">x</span><span class="token punctuation">(</span>Function<span class="token operator">&lt;</span>Publisher<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">,</span> O<span class="token operator">></span> operator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> operator<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>onSubscribe<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="åŸºæœ¬ç±»å‹"><a href="#åŸºæœ¬ç±»å‹" class="headerlink" title="åŸºæœ¬ç±»å‹"></a>åŸºæœ¬ç±»å‹</h2><h2 id="æ•°å­—"><a href="#æ•°å­—" class="headerlink" title="æ•°å­—"></a>æ•°å­—</h2><pre class="line-numbers language-java"><code class="language-java"> <span class="token comment" spellcheck="true">//java7 ä»¥åæ•°å­—å¯ä»¥åŠ ä¸‹åˆ’çº¿</span>
<span class="token keyword">int</span> b <span class="token operator">=</span> 1_000_000<span class="token punctuation">;</span>
<span class="token keyword">int</span> by <span class="token operator">=</span> 0B1111_0100_0010<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// äºŒè¿›åˆ¶</span>
<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0xCAFE</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åå…­è¿›åˆ¶</span>
<span class="token keyword">int</span> eight <span class="token operator">=</span> <span class="token number">010</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å…«è¿›åˆ¶</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>Float</strong>  </p>
<pre><code>float 4 å­—èŠ‚ double 8 å­—èŠ‚
3.14F or 3.14D ä¸å†™é»˜è®¤ä¸ºdoubleç±»å‹

System.out.println(2.0 - 1.1);
// ==&gt; 0.8999999999999999 äºŒè¿›åˆ¶æ— æ³•è¡¨ç¤º 1/10</code></pre><p><strong>å¼ºè½¬</strong></p>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token keyword">double</span> x <span class="token operator">=</span> <span class="token number">9.997</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> nx <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> x<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// nx = 9;</span>
<span class="token keyword">int</span> nx2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// nx2 = 10;</span>

<span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
y <span class="token operator">+=</span> <span class="token number">3.9</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// y = 5;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>å¸¸ç”¨è½¬åŒ–</strong></p>
<pre><code>List&lt;Object&gt; list ;
Object[] listener = list.toArray();

List&lt;Object&gt; list = Arrays.asList(T... elements);</code></pre><h2 id="Security"><a href="#Security" class="headerlink" title="Security"></a>Security</h2><ul>
<li><a href="https://snowolf.iteye.com/blog/379860" target="_blank" rel="noopener">JavaåŠ å¯†æŠ€æœ¯</a></li>
</ul>
<h2 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h2><p><img src="http://cdn.linz.tech/java-base-execption-2019-6-13.png" alt=""></p>
<h3 id="å¸¸è§å¼‚å¸¸"><a href="#å¸¸è§å¼‚å¸¸" class="headerlink" title="å¸¸è§å¼‚å¸¸"></a>å¸¸è§å¼‚å¸¸</h3><ul>
<li>ArithmeticExceptionï¼ˆç®—æœ¯å¼‚å¸¸ï¼‰ </li>
<li>ClassCastException ï¼ˆç±»è½¬æ¢å¼‚å¸¸ï¼‰ </li>
<li>IllegalArgumentException ï¼ˆéæ³•å‚æ•°å¼‚å¸¸ï¼‰ </li>
<li>IndexOutOfBoundsException ï¼ˆä¸‹æ ‡è¶Šç•Œå¼‚å¸¸ï¼‰ </li>
<li>NullPointerException ï¼ˆç©ºæŒ‡é’ˆå¼‚å¸¸ï¼‰ </li>
<li>SecurityException ï¼ˆå®‰å…¨å¼‚å¸¸ï¼‰</li>
</ul>
<h2 id="å¸¸ç”¨æŠ€å·§"><a href="#å¸¸ç”¨æŠ€å·§" class="headerlink" title="å¸¸ç”¨æŠ€å·§"></a>å¸¸ç”¨æŠ€å·§</h2><p>é™æ€æ–¹æ³•å¯¼å…¥ç›´æ¥ä½¿ç”¨</p>
<pre><code>import static java.lang.Math.*;</code></pre><h2 id="Annotation"><a href="#Annotation" class="headerlink" title="Annotation"></a>Annotation</h2><pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span>ElementType<span class="token punctuation">.</span>METHOD<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span>RetentionPolicy<span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token keyword">public</span> @<span class="token keyword">interface</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="ç”Ÿå‘½å‘¨æœŸ-Retention"><a href="#ç”Ÿå‘½å‘¨æœŸ-Retention" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ Retention"></a>ç”Ÿå‘½å‘¨æœŸ Retention</h3><ol>
<li>SOURCE: åœ¨æºç ç”Ÿæ•ˆï¼Œä¸ä¼šè¢«ç¼–è¯‘å™¨ç¼–è¯‘è¿›å…¥class</li>
<li>CLASS: classæ ¸æºç ç”Ÿæ•ˆï¼Œæ‰§è¡Œæ—¶ä¼šè¢«vmå¿½ç•¥ã€‚æœªçš„æ³¨é‡ŠRetentionæ—¶ä»¥classä¸ºé»˜è®¤å€¼ã€‚</li>
<li>RUNTIME: </li>
</ol>
<h3 id="ä½œç”¨èŒƒå›´-Target"><a href="#ä½œç”¨èŒƒå›´-Target" class="headerlink" title="ä½œç”¨èŒƒå›´ Target"></a>ä½œç”¨èŒƒå›´ Target</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">enum</span> ElementType <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">/**æ ‡æ˜è¯¥æ³¨è§£å¯ä»¥ç”¨äºç±»ã€æ¥å£ï¼ˆåŒ…æ‹¬æ³¨è§£ç±»å‹ï¼‰æˆ–enumå£°æ˜*/</span>
    TYPE<span class="token punctuation">,</span>

    <span class="token comment" spellcheck="true">/** æ ‡æ˜è¯¥æ³¨è§£å¯ä»¥ç”¨äºå­—æ®µ(åŸŸ)å£°æ˜ï¼ŒåŒ…æ‹¬enumå®ä¾‹ */</span>
    FIELD<span class="token punctuation">,</span>

    <span class="token comment" spellcheck="true">/** æ ‡æ˜è¯¥æ³¨è§£å¯ä»¥ç”¨äºæ–¹æ³•å£°æ˜ */</span>
    METHOD<span class="token punctuation">,</span>

    <span class="token comment" spellcheck="true">/** æ ‡æ˜è¯¥æ³¨è§£å¯ä»¥ç”¨äºå‚æ•°å£°æ˜ */</span>
    PARAMETER<span class="token punctuation">,</span>

    <span class="token comment" spellcheck="true">/** æ ‡æ˜æ³¨è§£å¯ä»¥ç”¨äºæ„é€ å‡½æ•°å£°æ˜ */</span>
    CONSTRUCTOR<span class="token punctuation">,</span>

    <span class="token comment" spellcheck="true">/** æ ‡æ˜æ³¨è§£å¯ä»¥ç”¨äºå±€éƒ¨å˜é‡å£°æ˜ */</span>
    LOCAL_VARIABLE<span class="token punctuation">,</span>

    <span class="token comment" spellcheck="true">/** æ ‡æ˜æ³¨è§£å¯ä»¥ç”¨äºæ³¨è§£å£°æ˜(åº”ç”¨äºå¦ä¸€ä¸ªæ³¨è§£ä¸Š)*/</span>
    ANNOTATION_TYPE<span class="token punctuation">,</span>

    <span class="token comment" spellcheck="true">/** æ ‡æ˜æ³¨è§£å¯ä»¥ç”¨äºåŒ…å£°æ˜ */</span>
    PACKAGE<span class="token punctuation">,</span>

    <span class="token comment" spellcheck="true">/**
     * æ ‡æ˜æ³¨è§£å¯ä»¥ç”¨äºç±»å‹å‚æ•°å£°æ˜ï¼ˆ1.8æ–°åŠ å…¥ï¼‰
     * @since 1.8
     */</span>
    TYPE_PARAMETER<span class="token punctuation">,</span>

    <span class="token comment" spellcheck="true">/**
     * ç±»å‹ä½¿ç”¨å£°æ˜ï¼ˆ1.8æ–°åŠ å…¥)
     * @since 1.8
     */</span>
    TYPE_USE
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>zejian<span class="token punctuation">.</span>annotationdemo<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>ElementType<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>Retention<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>RetentionPolicy<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>Target<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
 * Created by wuzejian on 2017/5/19.
 * æ•°æ®ç±»å‹ä½¿ç”¨Demo
 */</span>

<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span>ElementType<span class="token punctuation">.</span>TYPE<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span>RetentionPolicy<span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
@<span class="token keyword">interface</span> <span class="token class-name">Reference</span><span class="token punctuation">{</span>
    <span class="token keyword">boolean</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> @<span class="token keyword">interface</span> <span class="token class-name">AnnotationElementDemo</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//æšä¸¾ç±»å‹</span>
    <span class="token keyword">enum</span> Status <span class="token punctuation">{</span>FIXED<span class="token punctuation">,</span>NORMAL<span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//å£°æ˜æšä¸¾</span>
    Status <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> Status<span class="token punctuation">.</span>FIXED<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//å¸ƒå°”ç±»å‹</span>
    <span class="token keyword">boolean</span> <span class="token function">showSupport</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//Stringç±»å‹</span>
    String <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">default</span> <span class="token string">""</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//classç±»å‹</span>
    Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span> <span class="token function">testCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> Void<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//æ³¨è§£åµŒå¥—</span>
    Reference <span class="token function">reference</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token annotation punctuation">@Reference</span><span class="token punctuation">(</span>next<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//æ•°ç»„ç±»å‹</span>
    <span class="token keyword">long</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="é»˜è®¤èµ‹å€¼æ–¹å¼"><a href="#é»˜è®¤èµ‹å€¼æ–¹å¼" class="headerlink" title="é»˜è®¤èµ‹å€¼æ–¹å¼"></a>é»˜è®¤èµ‹å€¼æ–¹å¼</h3><p>é»˜è®¤ä¼šèµ‹å€¼ç»™valueæ–¹æ³•</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>zejian<span class="token punctuation">.</span>annotationdemo<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>ElementType<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>Retention<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>RetentionPolicy<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>Target<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
 * Created by zejian on 2017/5/20.
 * Blog : http://blog.csdn.net/javazejian [åŸæ–‡åœ°å€,è¯·å°Šé‡åŸåˆ›]
 */</span>
<span class="token comment" spellcheck="true">//å®šä¹‰æ³¨è§£</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span>ElementType<span class="token punctuation">.</span>FIELD<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span>RetentionPolicy<span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
@<span class="token keyword">interface</span> <span class="token class-name">IntegerVaule</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>
    String <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">""</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//ä½¿ç”¨æ³¨è§£</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QuicklyWay</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//å½“åªæƒ³ç»™valueèµ‹å€¼æ—¶,å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å¿«æ·æ–¹å¼</span>
    <span class="token annotation punctuation">@IntegerVaule</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//å½“nameä¹Ÿéœ€è¦èµ‹å€¼æ—¶å¿…é¡»é‡‡ç”¨key=valueçš„æ–¹å¼èµ‹å€¼</span>
    <span class="token annotation punctuation">@IntegerVaule</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">,</span>name <span class="token operator">=</span> <span class="token string">"MONEY"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> money<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="åå°„ä¸­çš„ä½¿ç”¨"><a href="#åå°„ä¸­çš„ä½¿ç”¨" class="headerlink" title="åå°„ä¸­çš„ä½¿ç”¨"></a>åå°„ä¸­çš„ä½¿ç”¨</h3><p>æŸ¥çœ‹ <code>åå°„Annotation</code></p>
<h3 id="å¸¸ç”¨æ³¨è§£"><a href="#å¸¸ç”¨æ³¨è§£" class="headerlink" title="å¸¸ç”¨æ³¨è§£"></a>å¸¸ç”¨æ³¨è§£</h3><ol>
<li>@Documented è¢«ä¿®é¥°çš„æ³¨è§£ä¼šç”Ÿæˆåˆ°javadocä¸­</li>
<li>@Inherited å¯ä»¥è®©æ³¨è§£è¢«ç»§æ‰¿</li>
</ol>
<h2 id="enum"><a href="#enum" class="headerlink" title="enum"></a>enum</h2><ul>
<li><a href="https://blog.csdn.net/testcs_dn/article/details/78604547" target="_blank" rel="noopener">Java æšä¸¾(enum) è¯¦è§£7ç§å¸¸è§çš„ç”¨æ³•</a></li>
</ul>
<h3 id="æ·±å…¥ç†è§£"><a href="#æ·±å…¥ç†è§£" class="headerlink" title="æ·±å…¥ç†è§£"></a>æ·±å…¥ç†è§£</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnumDemo</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//ç›´æ¥å¼•ç”¨</span>
        Day day <span class="token operator">=</span>Day<span class="token punctuation">.</span>MONDAY<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//å®šä¹‰æšä¸¾ç±»å‹</span>
<span class="token keyword">enum</span> Day <span class="token punctuation">{</span>
    MONDAY<span class="token punctuation">,</span> TUESDAY<span class="token punctuation">,</span> WEDNESDAY<span class="token punctuation">,</span>
    THURSDAY<span class="token punctuation">,</span> FRIDAY<span class="token punctuation">,</span> SATURDAY<span class="token punctuation">,</span> SUNDAY
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¼–è¯‘ <code>javac EnumDemo.java</code></p>
<p>åç¼–è¯‘</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Day</span> <span class="token keyword">extends</span> <span class="token class-name">Enum</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//ç¼–è¯‘å™¨ä¸ºæˆ‘ä»¬æ·»åŠ çš„é™æ€çš„values()æ–¹æ³•</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> Day<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>Day<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>$VALUES<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">//ç¼–è¯‘å™¨ä¸ºæˆ‘ä»¬æ·»åŠ çš„é™æ€çš„valueOf()æ–¹æ³•ï¼Œæ³¨æ„é—´æ¥è°ƒç”¨äº†Enumä¹Ÿç±»çš„valueOfæ–¹æ³•</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> Day <span class="token function">valueOf</span><span class="token punctuation">(</span>String s<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>Day<span class="token punctuation">)</span>Enum<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>com<span class="token operator">/</span>zejian<span class="token operator">/</span>enumdemo<span class="token operator">/</span>Day<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">//ç§æœ‰æ„é€ å‡½æ•°</span>
    <span class="token keyword">private</span> <span class="token function">Day</span><span class="token punctuation">(</span>String s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
     <span class="token comment" spellcheck="true">//å‰é¢å®šä¹‰çš„7ç§æšä¸¾å®ä¾‹</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Day MONDAY<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Day TUESDAY<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Day WEDNESDAY<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Day THURSDAY<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Day FRIDAY<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Day SATURDAY<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Day SUNDAY<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Day $VALUES<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> 
    <span class="token punctuation">{</span>    
        <span class="token comment" spellcheck="true">//å®ä¾‹åŒ–æšä¸¾å®ä¾‹</span>
        MONDAY <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Day</span><span class="token punctuation">(</span><span class="token string">"MONDAY"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        TUESDAY <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Day</span><span class="token punctuation">(</span><span class="token string">"TUESDAY"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        WEDNESDAY <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Day</span><span class="token punctuation">(</span><span class="token string">"WEDNESDAY"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        THURSDAY <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Day</span><span class="token punctuation">(</span><span class="token string">"THURSDAY"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        FRIDAY <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Day</span><span class="token punctuation">(</span><span class="token string">"FRIDAY"</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        SATURDAY <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Day</span><span class="token punctuation">(</span><span class="token string">"SATURDAY"</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        SUNDAY <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Day</span><span class="token punctuation">(</span><span class="token string">"SUNDAY"</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        $VALUES <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Day</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
            MONDAY<span class="token punctuation">,</span> TUESDAY<span class="token punctuation">,</span> WEDNESDAY<span class="token punctuation">,</span> THURSDAY<span class="token punctuation">,</span> FRIDAY<span class="token punctuation">,</span> SATURDAY<span class="token punctuation">,</span> SUNDAY
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="åå°„"><a href="#åå°„" class="headerlink" title="åå°„"></a>åå°„</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æ­£å¸¸ä½¿ç”¨</span>
Day<span class="token punctuation">[</span><span class="token punctuation">]</span> ds<span class="token operator">=</span>Day<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//å‘ä¸Šè½¬å‹Enum</span>
Enum e <span class="token operator">=</span> Day<span class="token punctuation">.</span>MONDAY<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//æ— æ³•è°ƒç”¨,æ²¡æœ‰æ­¤æ–¹æ³•</span>
<span class="token comment" spellcheck="true">//e.values();</span>
<span class="token comment" spellcheck="true">//è·å–classå¯¹è±¡å¼•ç”¨</span>
Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span> clasz <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">getDeclaringClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>clasz<span class="token punctuation">.</span><span class="token function">isEnum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Day<span class="token punctuation">[</span><span class="token punctuation">]</span> dsz <span class="token operator">=</span> <span class="token punctuation">(</span>Day<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> clasz<span class="token punctuation">.</span><span class="token function">getEnumConstants</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"dsz:"</span><span class="token operator">+</span>Arrays<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>dsz<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/**
   è¾“å‡ºç»“æœ:
   dsz:[MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]
 */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="è¦†ç›–enumç±»æ–¹æ³•"><a href="#è¦†ç›–enumç±»æ–¹æ³•" class="headerlink" title="è¦†ç›–enumç±»æ–¹æ³•"></a>è¦†ç›–enumç±»æ–¹æ³•</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>zejian<span class="token punctuation">.</span>enumdemo<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
 * Created by zejian on 2017/5/8.
 * Blog : http://blog.csdn.net/javazejian [åŸæ–‡åœ°å€,è¯·å°Šé‡åŸåˆ›]
 */</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> Day2 <span class="token punctuation">{</span>
    <span class="token function">MONDAY</span><span class="token punctuation">(</span><span class="token string">"æ˜ŸæœŸä¸€"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">TUESDAY</span><span class="token punctuation">(</span><span class="token string">"æ˜ŸæœŸäºŒ"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">WEDNESDAY</span><span class="token punctuation">(</span><span class="token string">"æ˜ŸæœŸä¸‰"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">THURSDAY</span><span class="token punctuation">(</span><span class="token string">"æ˜ŸæœŸå››"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">FRIDAY</span><span class="token punctuation">(</span><span class="token string">"æ˜ŸæœŸäº”"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SATURDAY</span><span class="token punctuation">(</span><span class="token string">"æ˜ŸæœŸå…­"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SUNDAY</span><span class="token punctuation">(</span><span class="token string">"æ˜ŸæœŸæ—¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è®°ä½è¦ç”¨åˆ†å·ç»“æŸ</span>

    <span class="token keyword">private</span> String desc<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ä¸­æ–‡æè¿°</span>

    <span class="token comment" spellcheck="true">/**
     * ç§æœ‰æ„é€ ,é˜²æ­¢è¢«å¤–éƒ¨è°ƒç”¨
     * @param desc
     */</span>
    <span class="token keyword">private</span> <span class="token function">Day2</span><span class="token punctuation">(</span>String desc<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>desc<span class="token operator">=</span>desc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * è¦†ç›–
     * @return
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> desc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>Day2 day<span class="token operator">:</span>Day2<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"name:"</span><span class="token operator">+</span>day<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>
                    <span class="token string">",desc:"</span><span class="token operator">+</span>day<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     è¾“å‡ºç»“æœ:
     name:MONDAY,desc:æ˜ŸæœŸä¸€
     name:TUESDAY,desc:æ˜ŸæœŸäºŒ
     name:WEDNESDAY,desc:æ˜ŸæœŸä¸‰
     name:THURSDAY,desc:æ˜ŸæœŸå››
     name:FRIDAY,desc:æ˜ŸæœŸäº”
     name:SATURDAY,desc:æ˜ŸæœŸå…­
     name:SUNDAY,desc:æ˜ŸæœŸæ—¥
     */</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æŠ½è±¡æ–¹æ³•"><a href="#æŠ½è±¡æ–¹æ³•" class="headerlink" title="æŠ½è±¡æ–¹æ³•"></a>æŠ½è±¡æ–¹æ³•</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>zejian<span class="token punctuation">.</span>enumdemo<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
 * Created by zejian on 2017/5/9.
 * Blog : http://blog.csdn.net/javazejian [åŸæ–‡åœ°å€,è¯·å°Šé‡åŸåˆ›]
 */</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> EnumDemo3 <span class="token punctuation">{</span>

    FIRST<span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> String <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">"FIRST TIME"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    SECOND<span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> String <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">"SECOND TIME"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/**
     * å®šä¹‰æŠ½è±¡æ–¹æ³•,æ¯ä¸ªæšä¸¾éƒ½è¦å®ç°è¿™ä¸ªæŠ½è±¡æ–¹æ³•
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> String <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//æµ‹è¯•</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"F:"</span><span class="token operator">+</span>EnumDemo3<span class="token punctuation">.</span>FIRST<span class="token punctuation">.</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"S:"</span><span class="token operator">+</span>EnumDemo3<span class="token punctuation">.</span>SECOND<span class="token punctuation">.</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">/**
         è¾“å‡ºç»“æœ:
         F:FIRST TIME
         S:SECOND TIME
         */</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ä¸æ¥å£"><a href="#ä¸æ¥å£" class="headerlink" title="ä¸æ¥å£"></a>ä¸æ¥å£</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">enum</span> Meal<span class="token punctuation">{</span>
  <span class="token function">APPETIZER</span><span class="token punctuation">(</span>Food<span class="token punctuation">.</span>Appetizer<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">MAINCOURSE</span><span class="token punctuation">(</span>Food<span class="token punctuation">.</span>MainCourse<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">DESSERT</span><span class="token punctuation">(</span>Food<span class="token punctuation">.</span>Dessert<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">COFFEE</span><span class="token punctuation">(</span>Food<span class="token punctuation">.</span>Coffee<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> Food<span class="token punctuation">[</span><span class="token punctuation">]</span> values<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token function">Meal</span><span class="token punctuation">(</span>Class<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Food</span><span class="token operator">></span> kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//é€šè¿‡classå¯¹è±¡è·å–æšä¸¾å®ä¾‹</span>
    values <span class="token operator">=</span> kind<span class="token punctuation">.</span><span class="token function">getEnumConstants</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
    <span class="token keyword">enum</span> Appetizer <span class="token keyword">implements</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
      SALAD<span class="token punctuation">,</span> SOUP<span class="token punctuation">,</span> SPRING_ROLLS<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">enum</span> MainCourse <span class="token keyword">implements</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
      LASAGNE<span class="token punctuation">,</span> BURRITO<span class="token punctuation">,</span> PAD_THAI<span class="token punctuation">,</span>
      LENTILS<span class="token punctuation">,</span> HUMMOUS<span class="token punctuation">,</span> VINDALOO<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">enum</span> Dessert <span class="token keyword">implements</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
      TIRAMISU<span class="token punctuation">,</span> GELATO<span class="token punctuation">,</span> BLACK_FOREST_CAKE<span class="token punctuation">,</span>
      FRUIT<span class="token punctuation">,</span> CREME_CARAMEL<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">enum</span> Coffee <span class="token keyword">implements</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
      BLACK_COFFEE<span class="token punctuation">,</span> DECAF_COFFEE<span class="token punctuation">,</span> ESPRESSO<span class="token punctuation">,</span>
      LATTE<span class="token punctuation">,</span> CAPPUCCINO<span class="token punctuation">,</span> TEA<span class="token punctuation">,</span> HERB_TEA<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æšä¸¾å•åˆ©"><a href="#æšä¸¾å•åˆ©" class="headerlink" title="æšä¸¾å•åˆ©"></a>æšä¸¾å•åˆ©</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**
 * Created by wuzejian on 2017/5/9.
 * æšä¸¾å•åˆ©
 */</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span>  SingletonEnum <span class="token punctuation">{</span>
    INSTANCE<span class="token punctuation">;</span>
    <span class="token keyword">private</span> String name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="EnumMap"><a href="#EnumMap" class="headerlink" title="EnumMap"></a>EnumMap</h3><pre class="line-numbers language-java"><code class="language-java"> Map<span class="token operator">&lt;</span>Color<span class="token punctuation">,</span>Integer<span class="token operator">></span> enumMap<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">EnumMap</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>Key å€¼å¿…é¡»æ˜¯æšä¸¾ç±»å‹ï¼›</li>
<li>ä½¿ç”¨EnumMapæ¯”HashMapä¼šæ›´åŠ é«˜æ•ˆ</li>
</ul>
<h3 id="EnumSet"><a href="#EnumSet" class="headerlink" title="EnumSet"></a>EnumSet</h3><ul>
<li>å†…éƒ¨å®ç°æ˜¯ä½å‘é‡,ç›´æ¥å­˜å‚¨å’Œæ“ä½œéƒ½æ˜¯bitï¼Œå› æ­¤EnumSetç©ºé—´å’Œæ—¶é—´æ€§èƒ½éƒ½ååˆ†å¯è§‚</li>
<li>EnumSetä¸å…è®¸ä½¿ç”¨ null å…ƒç´ </li>
<li>çº¿ç¨‹ä¸å®‰å…¨</li>
</ul>
<h4 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h4><pre class="line-numbers language-java"><code class="language-java">åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šå…ƒç´ ç±»å‹çš„ç©ºEnumSetã€‚
EnumSet<span class="token operator">&lt;</span>E<span class="token operator">></span>  <span class="token function">noneOf</span><span class="token punctuation">(</span>Class<span class="token operator">&lt;</span>E<span class="token operator">></span> elementType<span class="token punctuation">)</span>       
<span class="token comment" spellcheck="true">//åˆ›å»ºä¸€ä¸ªæŒ‡å®šå…ƒç´ ç±»å‹å¹¶åŒ…å«æ‰€æœ‰æšä¸¾å€¼çš„EnumSet</span>
<span class="token operator">&lt;</span>E <span class="token keyword">extends</span> <span class="token class-name">Enum</span><span class="token operator">&lt;</span>E<span class="token operator">>></span> EnumSet<span class="token operator">&lt;</span>E<span class="token operator">></span> <span class="token function">allOf</span><span class="token punctuation">(</span>Class<span class="token operator">&lt;</span>E<span class="token operator">></span> elementType<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ªåŒ…æ‹¬æšä¸¾å€¼ä¸­æŒ‡å®šèŒƒå›´å…ƒç´ çš„EnumSet</span>
<span class="token operator">&lt;</span>E <span class="token keyword">extends</span> <span class="token class-name">Enum</span><span class="token operator">&lt;</span>E<span class="token operator">>></span> EnumSet<span class="token operator">&lt;</span>E<span class="token operator">></span> <span class="token function">range</span><span class="token punctuation">(</span>E from<span class="token punctuation">,</span> E to<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">// åˆå§‹é›†åˆåŒ…æ‹¬æŒ‡å®šé›†åˆçš„è¡¥é›†</span>
<span class="token operator">&lt;</span>E <span class="token keyword">extends</span> <span class="token class-name">Enum</span><span class="token operator">&lt;</span>E<span class="token operator">>></span> EnumSet<span class="token operator">&lt;</span>E<span class="token operator">></span> <span class="token function">complementOf</span><span class="token punctuation">(</span>EnumSet<span class="token operator">&lt;</span>E<span class="token operator">></span> s<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ªåŒ…æ‹¬å‚æ•°ä¸­æ‰€æœ‰å…ƒç´ çš„EnumSet</span>
<span class="token operator">&lt;</span>E <span class="token keyword">extends</span> <span class="token class-name">Enum</span><span class="token operator">&lt;</span>E<span class="token operator">>></span> EnumSet<span class="token operator">&lt;</span>E<span class="token operator">></span> <span class="token function">of</span><span class="token punctuation">(</span>E e<span class="token punctuation">)</span>
<span class="token operator">&lt;</span>E <span class="token keyword">extends</span> <span class="token class-name">Enum</span><span class="token operator">&lt;</span>E<span class="token operator">>></span> EnumSet<span class="token operator">&lt;</span>E<span class="token operator">></span> <span class="token function">of</span><span class="token punctuation">(</span> E<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> rest<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//åˆ›å»ºä¸€ä¸ªåŒ…å«å‚æ•°å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ çš„EnumSet</span>
<span class="token operator">&lt;</span>E <span class="token keyword">extends</span> <span class="token class-name">Enum</span><span class="token operator">&lt;</span>E<span class="token operator">>></span> EnumSet<span class="token operator">&lt;</span>E<span class="token operator">></span> <span class="token function">copyOf</span><span class="token punctuation">(</span>EnumSet<span class="token operator">&lt;</span>E<span class="token operator">></span> s<span class="token punctuation">)</span>
<span class="token operator">&lt;</span>E <span class="token keyword">extends</span> <span class="token class-name">Enum</span><span class="token operator">&lt;</span>E<span class="token operator">>></span> EnumSet<span class="token operator">&lt;</span>E<span class="token operator">></span> <span class="token function">copyOf</span><span class="token punctuation">(</span>Collection<span class="token operator">&lt;</span>E<span class="token operator">></span> c<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// ä¸ä¼šcopyé‡å¤çš„å€¼</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ol>
<li><a href="https://blog.csdn.net/javazejian/article/details/71333103" target="_blank" rel="noopener">æ·±å…¥ç†è§£Javaæšä¸¾ç±»å‹(enum)</a></li>
</ol>
<h2 id="åå°„-1"><a href="#åå°„-1" class="headerlink" title="åå°„"></a>åå°„</h2><h3 id="ç±»çš„å®ä¾‹åŒ–"><a href="#ç±»çš„å®ä¾‹åŒ–" class="headerlink" title="ç±»çš„å®ä¾‹åŒ–"></a>ç±»çš„å®ä¾‹åŒ–</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 1. class</span>
<span class="token comment" spellcheck="true">//è·å–Classå¯¹è±¡çš„å¼•ç”¨</span>
clazz <span class="token operator">=</span> Class<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"study.reflect.User"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//ç¬¬ä¸€ç§æ–¹æ³•ï¼Œå®ä¾‹åŒ–é»˜è®¤æ„é€ æ–¹æ³•ï¼ŒUserå¿…é¡»æ— å‚æ„é€ å‡½æ•°,å¦åˆ™å°†æŠ›å¼‚å¸¸</span>
User user <span class="token operator">=</span> <span class="token punctuation">(</span>User<span class="token punctuation">)</span> clazz<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 2. public constructor </span>
<span class="token comment" spellcheck="true">//è·å–å¸¦Stringå‚æ•°çš„publicæ„é€ å‡½æ•°</span>
Constructor cs1 <span class="token operator">=</span>clazz<span class="token punctuation">.</span><span class="token function">getConstructor</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//åˆ›å»ºUser</span>
User user1<span class="token operator">=</span> <span class="token punctuation">(</span>User<span class="token punctuation">)</span> cs1<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token string">"xiaolong"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 3. private constructor </span>
Constructor cs2<span class="token operator">=</span>clazz<span class="token punctuation">.</span><span class="token function">getDeclaredConstructor</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>String<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//ç”±äºæ˜¯privateå¿…é¡»è®¾ç½®å¯è®¿é—®</span>
cs2<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//åˆ›å»ºuserå¯¹è±¡</span>
User user2<span class="token operator">=</span> <span class="token punctuation">(</span>User<span class="token punctuation">)</span> cs2<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token string">"lidakang"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//è·å–æ‰€æœ‰æ„é€ åŒ…å«private</span>
Constructor<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span> cons<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getDeclaredConstructors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment" spellcheck="true">//è·å–æ„é€ å‡½æ•°å‚æ•°ç±»å‹</span>
Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span> clazzs<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> cons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getParameterTypes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Fieldç±»åŠæ–¹æ³•"><a href="#Fieldç±»åŠæ–¹æ³•" class="headerlink" title="Fieldç±»åŠæ–¹æ³•"></a>Fieldç±»åŠæ–¹æ³•</h3><table>
<thead>
<tr>
<th>æ–¹æ³•è¿”å›å€¼</th>
<th>æ–¹æ³•åç§°</th>
<th>æ–¹æ³•è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>Field</td>
<td>getDeclaredField(String name)</td>
<td>(åŒ…å«privateä¿®é¥°çš„)å­—æ®µï¼Œä¸åŒ…æ‹¬ç»§æ‰¿çš„å­—æ®µ</td>
</tr>
<tr>
<td>Field[]</td>
<td>getDeclaredField()</td>
<td>è·å–Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£çš„æ‰€æœ‰(åŒ…å«privateä¿®é¥°çš„)å­—æ®µ,ä¸åŒ…æ‹¬ç»§æ‰¿çš„å­—æ®µ</td>
</tr>
<tr>
<td>Field</td>
<td>getField(String name)</td>
<td>è·å–å…·æœ‰publicä¿®é¥°çš„å­—æ®µï¼ŒåŒ…å«ç»§æ‰¿å­—æ®µ</td>
</tr>
<tr>
<td>Field[]</td>
<td>getField()</td>
<td>è·å–ä¿®é¥°ç¬¦ä¸ºpublicçš„å­—æ®µï¼ŒåŒ…å«ç»§æ‰¿å­—æ®µ</td>
</tr>
</tbody></table>
<p>Field å¸¸ç”¨æ“ä½œ</p>
<pre class="line-numbers language-java"><code class="language-java">Class <span class="token class-name">claz</span> <span class="token operator">=</span> Class<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"study.reflect.TestReflect$Animal"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Field field <span class="token operator">=</span> claz<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"field-->"</span>  <span class="token operator">+</span> field<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"toGenericString-->"</span> <span class="token operator">+</span> field<span class="token punctuation">.</span><span class="token function">toGenericString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"getDeclaringClass-->"</span> <span class="token operator">+</span> field<span class="token punctuation">.</span><span class="token function">getDeclaringClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//study.reflect.TestReflect$Animal</span>
<span class="token comment" spellcheck="true">//field-->class java.lang.String</span>
<span class="token comment" spellcheck="true">//toGenericString-->private java.lang.String //study.reflect.TestReflect$Animal.name</span>
<span class="token comment" spellcheck="true">//getDeclaringClass-->class study.reflect.TestReflect$Animal</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Methodç±»åŠç”¨æ³•"><a href="#Methodç±»åŠç”¨æ³•" class="headerlink" title="Methodç±»åŠç”¨æ³•"></a>Methodç±»åŠç”¨æ³•</h3><h4 id="get-Method"><a href="#get-Method" class="headerlink" title="get Method"></a>get Method</h4><p>æ–¹æ³•åŒ…å«çˆ¶ç±»</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æ ¹æ®å‚æ•°è·å–publicçš„Method,åŒ…å«ç»§æ‰¿è‡ªçˆ¶ç±»çš„æ–¹æ³•</span>
Method method <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">"draw"</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>String<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//è·å–æ‰€æœ‰publicçš„æ–¹æ³•:åŒ…å«çˆ¶ç±»</span>
Method<span class="token punctuation">[</span><span class="token punctuation">]</span> methods <span class="token operator">=</span>clazz<span class="token punctuation">.</span><span class="token function">getMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ–¹æ³•ä¸åŒ…å«çˆ¶ç±»</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//å¯ä»¥è·å–privat, æ— æ³•è·å–çˆ¶ç±»æ–¹æ³•</span>
Method method1 <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">"drawCircle"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Method<span class="token punctuation">[</span><span class="token punctuation">]</span> methods1<span class="token operator">=</span>clazz<span class="token punctuation">.</span><span class="token function">getDeclaredMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h4 id="Invoke"><a href="#Invoke" class="headerlink" title="Invoke"></a>Invoke</h4><p><code>invoke(Object obj,Object... args)</code></p>
<h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><h4 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h4><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//è·å–ç±»å‹</span>
Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span> clazz <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getComponentType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// new ä¸€ä¸ªæŒ‡å®šç±»å‹çš„Array</span>
Object newArr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span>clazz<span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> co <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//copy èµ‹å€¼åŸæ•°ç»„åˆ°æ–°æ•°ç»„</span>
System<span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> newArr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> co<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// setter/getter</span>
Array<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>newArr<span class="token punctuation">,</span> <span class="token number">5</span><span class="token comment" spellcheck="true">/*pos*/</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Array<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>newArra<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h4><p>Arrayçš„åŠ¨æ€åˆ›å»º, æ— æ•ˆè¯­å¥<code>T[] a = new T[];</code></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**
  * æ¥æ”¶ä¸€ä¸ªæ³›å‹æ•°ç»„ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸æ¥æ”¶çš„æ•°ç»„é•¿åº¦ä¸€æ ·çš„æ³›å‹æ•°ç»„ï¼Œ
  * å¹¶æŠŠæ¥æ”¶çš„æ•°ç»„çš„å…ƒç´ å¤åˆ¶åˆ°æ–°åˆ›å»ºçš„æ•°ç»„ä¸­ï¼Œ
  * æœ€åæ‰¾å‡ºæ–°æ•°ç»„ä¸­çš„æœ€å°å…ƒç´ ï¼Œå¹¶æ‰“å°å‡ºæ¥
  * @param a
  * @param &lt;T>
  */</span>
 <span class="token keyword">public</span>  <span class="token operator">&lt;</span>T <span class="token keyword">extends</span> <span class="token class-name">Comparable</span><span class="token operator">&lt;</span>T<span class="token operator">>></span> <span class="token keyword">void</span> <span class="token function">min</span><span class="token punctuation">(</span>T<span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment" spellcheck="true">//é€šè¿‡åå°„åˆ›å»ºç›¸åŒç±»å‹çš„æ•°ç»„</span>
     T<span class="token punctuation">[</span><span class="token punctuation">]</span> b <span class="token operator">=</span> <span class="token punctuation">(</span>T<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> Array<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getComponentType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         b<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     T min <span class="token operator">=</span> null<span class="token punctuation">;</span>
     <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
             min <span class="token operator">=</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
             flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
             min <span class="token operator">=</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
     System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="åå°„Annotation"><a href="#åå°„Annotation" class="headerlink" title="åå°„Annotation"></a>åå°„Annotation</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æŒ‡å®šç±»å‹æ˜¯å¦å­˜åœ¨</span>
<span class="token function">isAnnotationPresent</span><span class="token punctuation">(</span>Class<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Annotation</span><span class="token operator">></span> annotationClass<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//å¾—åˆ°æŒ‡å®šçš„æ³¨è§£ï¼Œæ²¡æœ‰è¿”å›null</span>
clazz<span class="token punctuation">.</span><span class="token function">getAnnoations</span><span class="token punctuation">(</span>Depressed<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
Annotation<span class="token punctuation">[</span><span class="token punctuation">]</span> annote1 <span class="token operator">=</span> <span class="token function">getAnnotations</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//ä¸åŒ…æ‹¬çˆ¶ç±»</span>
Annotation<span class="token punctuation">[</span><span class="token punctuation">]</span> annote2 <span class="token operator">=</span> <span class="token function">getDeclaredAnnotations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å¸¸ç”¨åå°„æ“ä½œ"><a href="#å¸¸ç”¨åå°„æ“ä½œ" class="headerlink" title="å¸¸ç”¨åå°„æ“ä½œ"></a>å¸¸ç”¨åå°„æ“ä½œ</h3><pre class="line-numbers language-java"><code class="language-java"> <span class="token comment" spellcheck="true">/** 
  *    ä¿®é¥°ç¬¦ã€çˆ¶ç±»ã€å®ç°çš„æ¥å£ã€æ³¨è§£ç›¸å…³ 
  */</span>

<span class="token comment" spellcheck="true">//è·å–ä¿®é¥°ç¬¦ï¼Œè¿”å›å€¼å¯é€šè¿‡Modifierç±»è¿›è¡Œè§£è¯»</span>
<span class="token keyword">public</span> <span class="token keyword">native</span> <span class="token keyword">int</span> <span class="token function">getModifiers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//è·å–çˆ¶ç±»ï¼Œå¦‚æœä¸ºObjectï¼Œçˆ¶ç±»ä¸ºnull</span>
<span class="token keyword">public</span> <span class="token keyword">native</span> Class<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> T<span class="token operator">></span> <span class="token function">getSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//å¯¹äºç±»ï¼Œä¸ºè‡ªå·±å£°æ˜å®ç°çš„æ‰€æœ‰æ¥å£ï¼Œå¯¹äºæ¥å£ï¼Œä¸ºç›´æ¥æ‰©å±•çš„æ¥å£ï¼Œä¸åŒ…æ‹¬é€šè¿‡çˆ¶ç±»é—´æ¥ç»§æ‰¿æ¥çš„</span>
<span class="token keyword">public</span> <span class="token keyword">native</span> Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//è‡ªå·±å£°æ˜çš„æ³¨è§£</span>
<span class="token keyword">public</span> Annotation<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getDeclaredAnnotations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//æ‰€æœ‰çš„æ³¨è§£ï¼ŒåŒ…æ‹¬ç»§æ‰¿å¾—åˆ°çš„</span>
<span class="token keyword">public</span> Annotation<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getAnnotations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//è·å–æˆ–æ£€æŸ¥æŒ‡å®šç±»å‹çš„æ³¨è§£ï¼ŒåŒ…æ‹¬ç»§æ‰¿å¾—åˆ°çš„</span>
<span class="token keyword">public</span> <span class="token operator">&lt;</span>A <span class="token keyword">extends</span> <span class="token class-name">Annotation</span><span class="token operator">></span> A <span class="token function">getAnnotation</span><span class="token punctuation">(</span>Class<span class="token operator">&lt;</span>A<span class="token operator">></span> annotationClass<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isAnnotationPresent</span><span class="token punctuation">(</span>Class<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Annotation</span><span class="token operator">></span> annotationClass<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/** 
  *   å†…éƒ¨ç±»ç›¸å…³
  */</span>
<span class="token comment" spellcheck="true">//è·å–æ‰€æœ‰çš„publicçš„å†…éƒ¨ç±»å’Œæ¥å£ï¼ŒåŒ…æ‹¬ä»çˆ¶ç±»ç»§æ‰¿å¾—åˆ°çš„</span>
<span class="token keyword">public</span> Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getClasses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//è·å–è‡ªå·±å£°æ˜çš„æ‰€æœ‰çš„å†…éƒ¨ç±»å’Œæ¥å£</span>
<span class="token keyword">public</span> Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getDeclaredClasses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//å¦‚æœå½“å‰Classä¸ºå†…éƒ¨ç±»ï¼Œè·å–å£°æ˜è¯¥ç±»çš„æœ€å¤–éƒ¨çš„Classå¯¹è±¡</span>
<span class="token keyword">public</span> Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span> <span class="token function">getDeclaringClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//å¦‚æœå½“å‰Classä¸ºå†…éƒ¨ç±»ï¼Œè·å–ç›´æ¥åŒ…å«è¯¥ç±»çš„ç±»</span>
<span class="token keyword">public</span> Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span> <span class="token function">getEnclosingClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//å¦‚æœå½“å‰Classä¸ºæœ¬åœ°ç±»æˆ–åŒ¿åå†…éƒ¨ç±»ï¼Œè¿”å›åŒ…å«å®ƒçš„æ–¹æ³•</span>
<span class="token keyword">public</span> Method <span class="token function">getEnclosingMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/** 
  *    Classå¯¹è±¡ç±»å‹åˆ¤æ–­ç›¸å…³
  */</span>
<span class="token comment" spellcheck="true">//æ˜¯å¦æ˜¯æ•°ç»„</span>
<span class="token keyword">public</span> <span class="token keyword">native</span> <span class="token keyword">boolean</span> <span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">//æ˜¯å¦æ˜¯åŸºæœ¬ç±»å‹</span>
<span class="token keyword">public</span> <span class="token keyword">native</span> <span class="token keyword">boolean</span> <span class="token function">isPrimitive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//æ˜¯å¦æ˜¯æ¥å£</span>
<span class="token keyword">public</span> <span class="token keyword">native</span> <span class="token keyword">boolean</span> <span class="token function">isInterface</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//æ˜¯å¦æ˜¯æšä¸¾</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isEnum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//æ˜¯å¦æ˜¯æ³¨è§£</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isAnnotation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//æ˜¯å¦æ˜¯åŒ¿åå†…éƒ¨ç±»</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isAnonymousClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//æ˜¯å¦æ˜¯æˆå‘˜ç±»</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isMemberClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//æ˜¯å¦æ˜¯æœ¬åœ°ç±»</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isLocalClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="enum-åå°„"><a href="#enum-åå°„" class="headerlink" title="enum åå°„"></a>enum åå°„</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">enum</span> RunnableState<span class="token punctuation">{</span>
  RUNNING<span class="token punctuation">,</span> ERROR<span class="token punctuation">,</span> DONE
<span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Class <span class="token class-name">clazz</span> <span class="token operator">=</span> RUNNING<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Object<span class="token punctuation">[</span><span class="token punctuation">]</span> enumConstants <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getEnumConstants</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>Object enumConstant <span class="token operator">:</span> enumConstants<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>enumConstant<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//========= out ========</span>
RUNNING
ERROR
DONE
<span class="token comment" spellcheck="true">//======================</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å…³é”®å­—"><a href="#å…³é”®å­—" class="headerlink" title="å…³é”®å­—"></a>å…³é”®å­—</h2><ul>
<li>assert false ; åœ¨jvmçš„å‚æ•°ï¼Œå‚æ•°æ˜¯-eaæˆ–è€…-enableassertions æŠ›å‡ºjava.lang.AssertionErroã€‚å¢åŠ é”™è¯¯ä¿¡æ¯ï¼Œ<code>assert  false : "è¿™ä¸ªå¼‚å¸¸æ²¡æœ‰æ€§æ ¼";</code></li>
</ul>
<h3 id="Clone"><a href="#Clone" class="headerlink" title="Clone"></a><strong>Clone</strong></h3><p>æµ…åº¦æ‹·è´/æ·±åº¦æ‹·è´</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//1.ç›´æ¥å¼ºè½¬åªèƒ½å…‹éš†åŸºæœ¬æ•°æ®ç±»å‹ï¼ŒåŸå› æ˜¯cloneæ–¹æ³•åªæ˜¯å¤åˆ¶äº†ç›¸åŒçš„å†…å­˜å—</span>
<span class="token annotation punctuation">@Override</span>
  <span class="token keyword">protected</span> Student <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> CloneNotSupportedException <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>Student<span class="token punctuation">)</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//2.å­˜åœ¨éåŸºæœ¬æ•°æ®ç±»å‹çš„å…‹éš†æ–¹æ³•</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">protected</span> Student3 <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> CloneNotSupportedException <span class="token punctuation">{</span>
    Student3 stu <span class="token operator">=</span> <span class="token punctuation">(</span>Student3<span class="token punctuation">)</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    stu<span class="token punctuation">.</span>bag <span class="token operator">=</span> bag<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> stu<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//3.æœ‰äº›ç±»æ˜¯ä¸èƒ½æ‹·è´çš„å¦‚ï¼šStringBufferæ²¡æœ‰é‡è½½clone()æ–¹æ³•</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="è¯»å†™æ“ä½œ"><a href="#è¯»å†™æ“ä½œ" class="headerlink" title="è¯»å†™æ“ä½œ"></a>è¯»å†™æ“ä½œ</h2><p><img src="https://images2017.cnblogs.com/blog/1218459/201709/1218459-20170909185534835-716713048.jpg" alt=""></p>
<p><img src="https://images2015.cnblogs.com/blog/1034279/201703/1034279-20170314221828745-451137504.png" alt=""></p>
<p><a href="http://tutorials.jenkov.com/java-io/overview.html" target="_blank" rel="noopener">Java IOæ•™ç¨‹.è‹±æ–‡</a></p>
<p><a href="http://ifeve.com/java-io/" target="_blank" rel="noopener">Java IOæ•™ç¨‹.ä¸­æ–‡</a></p>
<p>Apache Commons IO FileUtils</p>
<p><a href="http://codingdict.com/article/8778" target="_blank" rel="noopener">Apache Commons IO æ•™ç¨‹</a></p>
<h2 id="ç›‘æ§"><a href="#ç›‘æ§" class="headerlink" title="ç›‘æ§"></a>ç›‘æ§</h2><h3 id="ç›‘æ§å·¥å…·"><a href="#ç›‘æ§å·¥å…·" class="headerlink" title="ç›‘æ§å·¥å…·"></a>ç›‘æ§å·¥å…·</h3><ul>
<li><a href="https://www.cnblogs.com/happy-rabbit/p/6232581.html" target="_blank" rel="noopener">javaè‡ªå¸¦çš„ç›‘æ§å·¥å…·VisualVMä¸€</a></li>
<li>jstat JVMåˆ†æå·¥å…·</li>
</ul>
<h2 id="Javaå¸¸ç”¨å‘½ä»¤"><a href="#Javaå¸¸ç”¨å‘½ä»¤" class="headerlink" title="Javaå¸¸ç”¨å‘½ä»¤"></a>Javaå¸¸ç”¨å‘½ä»¤</h2><pre class="line-numbers language-java"><code class="language-java">javap <span class="token operator">-</span>c PathForClazz<span class="token punctuation">.</span><span class="token keyword">class</span> æŸ¥çœ‹<span class="token keyword">class</span>æ±‡ç¼–æŒ‡ä»¤<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="å¸¸ç”¨å·¥å…·"><a href="#å¸¸ç”¨å·¥å…·" class="headerlink" title="å¸¸ç”¨å·¥å…·"></a>å¸¸ç”¨å·¥å…·</h2><h3 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h3><h4 id="å…ƒå­—ç¬¦"><a href="#å…ƒå­—ç¬¦" class="headerlink" title="å…ƒå­—ç¬¦"></a>å…ƒå­—ç¬¦</h4><p><img src="http://cdn.linz.tech/reg_metacharacter.jpg" alt=""></p>
<table>
<thead>
<tr>
<th align="center">.</th>
<th align="center">åŒ¹é…é™¤æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦</th>
</tr>
</thead>
<tbody><tr>
<td align="center">\w</td>
<td align="center">åŒ¹é…å­—æ¯æˆ–æ•°å­—æˆ–ä¸‹åˆ’çº¿æˆ–æ±‰å­—</td>
</tr>
<tr>
<td align="center">\s</td>
<td align="center">åŒ¹é…ä»»æ„çš„ç©ºç™½ç¬¦ï¼Œç©ºæ ¼å›è½¦</td>
</tr>
<tr>
<td align="center">\d</td>
<td align="center">åŒ¹é…æ•°å­—</td>
</tr>
<tr>
<td align="center">\b</td>
<td align="center">åŒ¹é…å•è¯çš„å¼€å§‹æˆ–ç»“æŸ</td>
</tr>
<tr>
<td align="center">^</td>
<td align="center">åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹</td>
</tr>
<tr>
<td align="center">$</td>
<td align="center">åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸ</td>
</tr>
</tbody></table>
<p>Windowsç³»ç»Ÿé‡Œé¢ï¼Œæ¯è¡Œç»“å°¾æ˜¯â€œ&lt;å›è½¦&gt;&lt;æ¢è¡Œ&gt;â€ï¼Œå³â€œ\r\nâ€ï¼›</p>
<p>Macç³»ç»Ÿé‡Œï¼Œæ¯è¡Œç»“å°¾æ˜¯â€œ&lt;å›è½¦&gt;â€,å³â€œ\râ€ã€‚</p>
<p>Windowsç³»ç»Ÿé‡Œé¢ï¼Œæ¯è¡Œç»“å°¾æ˜¯â€œ&lt;å›è½¦&gt;&lt;æ¢è¡Œ&gt;â€ï¼Œå³â€œ\r\nâ€ï¼›</p>
<p>Macç³»ç»Ÿé‡Œï¼Œæ¯è¡Œç»“å°¾æ˜¯â€œ&lt;å›è½¦&gt;â€,å³â€œ\râ€ã€‚</p>
<p>è€ŒUNIX/Linuxé‡‡ç”¨æ¢è¡Œç¬¦LFè¡¨ç¤ºä¸‹ä¸€è¡Œï¼Œå³\n</p>
<p>è‹¹æœæœº(MAC OSç³»ç»Ÿ)åˆ™é‡‡ç”¨å›è½¦ç¬¦CRè¡¨ç¤ºä¸‹ä¸€è¡Œï¼Œå³\r</p>
<h4 id="å¸¸ç”¨çš„é™å®šç¬¦-é‡å¤"><a href="#å¸¸ç”¨çš„é™å®šç¬¦-é‡å¤" class="headerlink" title="å¸¸ç”¨çš„é™å®šç¬¦ é‡å¤"></a>å¸¸ç”¨çš„é™å®šç¬¦ é‡å¤</h4><table>
<thead>
<tr>
<th align="center">ä»£ç /è¯­æ³•</th>
<th align="center">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center">*</td>
<td align="center">é‡å¤é›¶æ¬¡æˆ–æ›´å¤šæ¬¡</td>
</tr>
<tr>
<td align="center">+</td>
<td align="center">é‡å¤ä¸€æ¬¡æˆ–æ›´å¤šæ¬¡</td>
</tr>
<tr>
<td align="center">?</td>
<td align="center">é‡å¤é›¶æ¬¡æˆ–ä¸€æ¬¡</td>
</tr>
<tr>
<td align="center">{n}</td>
<td align="center">é‡å¤næ¬¡</td>
</tr>
<tr>
<td align="center">{n,}</td>
<td align="center">é‡å¤næ¬¡æˆ–æ›´å¤šæ¬¡</td>
</tr>
<tr>
<td align="center">{n,m}</td>
<td align="center">é‡å¤nåˆ°mæ¬¡</td>
</tr>
</tbody></table>
<h4 id="åä¹‰"><a href="#åä¹‰" class="headerlink" title="åä¹‰"></a>åä¹‰</h4><table>
<thead>
<tr>
<th>ä»£ç /è¯­æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>\W</td>
<td>åŒ¹é…ä»»æ„ä¸æ˜¯å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œæ±‰å­—çš„å­—ç¬¦</td>
</tr>
<tr>
<td>\S</td>
<td>åŒ¹é…ä»»æ„ä¸æ˜¯ç©ºç™½ç¬¦çš„å­—ç¬¦</td>
</tr>
<tr>
<td>\D</td>
<td>åŒ¹é…ä»»æ„éæ•°å­—çš„å­—ç¬¦</td>
</tr>
<tr>
<td>\B</td>
<td>åŒ¹é…ä¸æ˜¯å•è¯å¼€å¤´æˆ–ç»“æŸçš„ä½ç½®</td>
</tr>
<tr>
<td>[^x]</td>
<td>åŒ¹é…é™¤äº†xä»¥å¤–çš„ä»»æ„å­—ç¬¦</td>
</tr>
<tr>
<td>[^aeiou]</td>
<td>åŒ¹é…é™¤äº†aeiouè¿™å‡ ä¸ªå­—æ¯ä»¥å¤–çš„ä»»æ„å­—ç¬¦</td>
</tr>
</tbody></table>
<h4 id="åå‘å¼•ç”¨"><a href="#åå‘å¼•ç”¨" class="headerlink" title="åå‘å¼•ç”¨"></a>åå‘å¼•ç”¨</h4><p><img src="http://cdn.linz.tech/register.png" alt=""></p>
<ul>
<li><p><a href="http://blog.csdn.net/webgeek/article/details/22059923" target="_blank" rel="noopener">JAVA æ­£åˆ™è¡¨è¾¾å¼ ï¼ˆè¶…è¯¦ç»†)</a></p>
</li>
<li><p><a href="http://deerchao.net/tutorials/regex/regex.htm" target="_blank" rel="noopener">æ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹</a></p>
</li>
<li><p><a href="https://github.com/Hamadakram/Ratifier" target="_blank" rel="noopener">Ratifier</a> é›†ä¸­äº†AndroidéªŒè¯çš„åº“,åˆ—å¦‚:</p>
<pre class="line-numbers language-java"><code class="language-java"> Mobile Number<span class="token operator">:</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token operator">+</span>\d<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token operator">-</span> <span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">?</span>\d<span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">}</span>$<span class="token operator">/</span>
 Email Address<span class="token operator">:</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z0<span class="token operator">-</span>9_<span class="token punctuation">.</span>-<span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">)</span>@<span class="token punctuation">(</span><span class="token punctuation">[</span>\da<span class="token operator">-</span>z<span class="token punctuation">.</span>-<span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z<span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">)</span>$<span class="token operator">/</span>
 URL<span class="token operator">:</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">(</span>https<span class="token operator">?</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">(</span><span class="token punctuation">[</span>\da<span class="token operator">-</span>z<span class="token punctuation">.</span>-<span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z<span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">/</span>\w <span class="token punctuation">.</span>-<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token operator">?</span>$<span class="token operator">/</span>
 IP Address<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">:</span><span class="token number">25</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">|</span><span class="token number">2</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">|</span><span class="token punctuation">[</span><span class="token number">01</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">:</span><span class="token number">25</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">|</span><span class="token number">2</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">|</span><span class="token punctuation">[</span><span class="token number">01</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">)</span>$<span class="token operator">/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h4 id="æ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹ç¬”è®°"><a href="#æ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹ç¬”è®°" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹ç¬”è®°"></a>æ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹ç¬”è®°</h4><p>ç®€å•çš„ç™½è¯ç¿»è¯‘</p>
<table>
<thead>
<tr>
<th align="center">ç™½è¯</th>
<th align="center">æ­£åˆ™ç¿»è¯‘</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ç²¾ç¡®åœ°æŸ¥æ‰¾hiè¿™ä¸ªå•è¯</td>
<td align="center">\bhi\b</td>
</tr>
<tr>
<td align="center">hiåé¢ä¸è¿œå¤„è·Ÿç€ä¸€ä¸ªLucy</td>
<td align="center">\bhi\b.*\bLucy\b</td>
</tr>
<tr>
<td align="center">ä»¥0å¼€å¤´ï¼Œç„¶åæ˜¯ä¸¤ä¸ªæ•°å­—ï¼Œç„¶åæ˜¯ä¸€ä¸ªè¿å­—å·â€œ-â€ï¼Œæœ€åæ˜¯8ä¸ªæ•°å­—</td>
<td align="center">0\d{2}-\d{8}</td>
</tr>
<tr>
<td align="center">QQå·å¿…é¡»ä¸º5ä½åˆ°12ä½æ•°å­—</td>
<td align="center">^\d{5,12}$</td>
</tr>
<tr>
<td align="center">åŒ¹é…deerchao.net</td>
<td align="center">deerchao\.net</td>
</tr>
<tr>
<td align="center">åŒ¹é…C:\Windows</td>
<td align="center">C:\\Windows</td>
</tr>
<tr>
<td align="center">åŒ¹é…Windowsåé¢è·Ÿ1ä¸ªæˆ–æ›´å¤šæ•°å­—</td>
<td align="center">Windows\d+</td>
</tr>
<tr>
<td align="center">åŒ¹é…ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå•è¯</td>
<td align="center">^\w+</td>
</tr>
<tr>
<td align="center">åŒ¹é…ä»»ä½•ä¸€ä¸ªè‹±æ–‡å…ƒéŸ³å­—æ¯</td>
<td align="center">[aeiou]</td>
</tr>
<tr>
<td align="center">åŒ¹é…æ ‡ç‚¹ç¬¦å·(.æˆ–?æˆ–!)</td>
<td align="center">[.?!]</td>
</tr>
<tr>
<td align="center">\S+</td>
<td align="center">åŒ¹é…ä¸åŒ…å«ç©ºç™½ç¬¦çš„å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td align="center">&lt;a[^&gt;]+&gt;</td>
<td align="center">ç”¨å°–æ‹¬å·æ‹¬èµ·æ¥çš„ä»¥aå¼€å¤´çš„å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td align="center">\b(\w+)\b\s+\1\b</td>
<td align="center">åŒ¹é…é‡å¤çš„å•è¯ï¼Œåƒgo go</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<p>å¤æ‚çš„é˜…è¯»ç†è§£<br>|                            æ­£åˆ™                             |     ç¿»è¯‘     |<br>| :â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”: | :â€”â€”â€”â€”â€“: |<br>|0\d{2}-\d{8}| 0\d{3}-\d{7}|åŒ¹é…ä¸¤ç§ä»¥è¿å­—å·åˆ†éš”çš„ç”µè¯å·ç ï¼šä¸€ç§æ˜¯ä¸‰ä½åŒºå·ï¼Œ8ä½æœ¬åœ°å·(å¦‚010-12345678)ï¼Œä¸€ç§æ˜¯4ä½åŒºå·ï¼Œ7ä½æœ¬åœ°å·(0376-2233445)|<br>|(0\d{2})[- ]?\d{8}| 0\d{2}[- ]?\d{8}|åŒ¹é…3ä½åŒºå·çš„ç”µè¯å·ç ï¼Œå…¶ä¸­åŒºå·å¯ä»¥ç”¨å°æ‹¬å·æ‹¬èµ·æ¥ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨ï¼ŒåŒºå·ä¸æœ¬åœ°å·é—´å¯ä»¥ç”¨è¿å­—å·æˆ–ç©ºæ ¼é—´éš”ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰é—´éš”|<br>|(\d{1,3}.){3}\d{1,3}|ç®€å•çš„IPåœ°å€åŒ¹é…|<br>|\b\w+(?=ing\b)|ä»¥ingç»“å°¾çš„å•è¯çš„å‰é¢éƒ¨åˆ†(é™¤äº†ingä»¥å¤–çš„éƒ¨åˆ†)ï¼Œå¦‚æŸ¥æ‰¾<em>Iâ€™m singing while youâ€™re dancing.<em>æ—¶ï¼Œå®ƒä¼šåŒ¹é…singå’Œdanc|<br>|(?&lt;=\bre)\w+\b|ä»¥reå¼€å¤´çš„å•è¯çš„ååŠéƒ¨åˆ†(é™¤äº†reä»¥å¤–çš„éƒ¨åˆ†)ï¼Œä¾‹å¦‚åœ¨æŸ¥æ‰¾reading a bookæ—¶ï¼Œå®ƒåŒ¹é…ading|<br>|((?&lt;=\d)\d{3})+\b|</em>234567890*è¿›è¡ŒæŸ¥æ‰¾æ—¶ç»“æœæ˜¯234567890|<br>|(?&lt;=\s)\d+(?=\s)|ä»¥ç©ºç™½ç¬¦é—´éš”çš„æ•°å­—(å†æ¬¡å¼ºè°ƒï¼Œä¸åŒ…æ‹¬è¿™äº›ç©ºç™½ç¬¦)|<br>|\d{3}(?!\d)|ä¸‰ä½æ•°å­—ï¼Œè€Œä¸”è¿™ä¸‰ä½æ•°å­—çš„åé¢ä¸èƒ½æ˜¯æ•°å­—|<br>|\b((?!abc)\w)+\b|ä¸åŒ…å«è¿ç»­å­—ç¬¦ä¸²abcçš„å•è¯|<br>|(?&lt;![a-z])\d{7}|å‰é¢ä¸æ˜¯å°å†™å­—æ¯çš„ä¸ƒä½æ•°å­—|<br>|(?&lt;=&lt;(\w+)&gt;).</em>(?=&lt;/\1&gt;)|åŒ¹é…ä¸åŒ…å«å±æ€§çš„ç®€å•HTMLæ ‡ç­¾å†…é‡Œçš„å†…å®¹|</p>
<p>åŒ¹é…IPåœ°å€:<code>((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)</code></p>
<p><a href="https://blog.csdn.net/zm2714/article/details/7946437" target="_blank" rel="noopener">æ­£åˆ™è¡¨è¾¾å¼â€”â€”è¯¦ç»†è®²è§£å¹³è¡¡ç»„</a></p>
<h3 id="JavaDoc"><a href="#JavaDoc" class="headerlink" title="JavaDoc"></a>JavaDoc</h3><h4 id="å®æˆ˜æ¡ˆä¾‹"><a href="#å®æˆ˜æ¡ˆä¾‹" class="headerlink" title="å®æˆ˜æ¡ˆä¾‹"></a>å®æˆ˜æ¡ˆä¾‹</h4><ol>
<li><p><strong>Class Level</strong></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**
* Hero is the main entity we'll be using to . . .
* 
* Please see the {@link com.baeldung.javadoc.Person} class for true identity
* @author Captain America
* 
*/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SuperHero</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// fields and methods</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>Field Level</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**
 * The public name of a hero that is common knowledge
 */</span>
<span class="token keyword">private</span> String heroName<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>Method Level</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**
 * Factory for {@linkplain Call calls} // è¿æ¥åˆ°å…¶ä»–ç±»çš„è¯´æ˜
 * &lt;h3>OkHttpClients should be shared&lt;/h3> //è®¾ç½®å­—ä½“å¤§å°
 * {@link #newBuilder()} // è¿æ¥æœ¬åœ°æ–¹æ³•
 * {@link ExecutorService#shutdown shutdown()} // è¿æ¥å…¶ä»–ç±»çš„æ–¹æ³•
 * &lt;p>This is a simple description of the method. . . // &lt;p> èƒ½å®ç°æ¢è¡ŒåŠŸèƒ½
 * &lt;a href="http://www.supermanisthegreatest.com">Superman!&lt;/a>
 * &lt;/p>
 * //ä»£ç å—
 * &lt;pre>   {@code
 *   // The singleton HTTP client.
 *   public final OkHttpClient client = new OkHttpClient.Builder()
 *       .addInterceptor(new HttpLoggingInterceptor())
 *       .cache(new Cache(cacheDir, cacheSize))
 *       .build();
 * }&lt;/pre>
 * {@code String}  //{@code text} å°†æ–‡æœ¬æ ‡è®°ä¸ºcode ä¸€èˆ¬åœ¨Javadocä¸­åªè¦æ¶‰åŠåˆ°ç±»åæˆ–è€…æ–¹æ³•åï¼Œéƒ½éœ€è¦ä½¿ç”¨@codeè¿›è¡Œæ ‡è®°
  * &lt;ul>&lt;li>{@code toffset} is negative. // æ— ç¬¦å·åˆ—è¡¨
  * &lt;li>{@code ooffset} is negative.
  * &lt;li>{@code toffset+len} is greater than the length of this
  * {@code String} object.
  * &lt;li>{@code ooffset+len} is greater than the length of the other
  * &lt;/ul>
 * @param incomingDamage the amount of incoming damage
 * @return the amount of health hero has after attack
 * @see &lt;a href="http://www.link_to_jira/HERO-402">HERO-402&lt;/a>
 * @since 1.0
 * @version ç‰ˆæœ¬
 */</span>
<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">successfullyAttacked</span><span class="token punctuation">(</span><span class="token keyword">int</span> incomingDamage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// do things</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p><code>javadoc -d doc src\*</code> ç”Ÿæˆ</p>
</li>
<li><p>maven plugin <code>mvn javadoc:javadoc</code></p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-javadoc-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tags</span><span class="token punctuation">></span></span>
            ...
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tags</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>Custom TAG <code>javadoc -tag location:a:</code>â€œNotable Locations:â€<code></code>-d doc src*``</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**
 * This is an example...
 * @location New York
 * @returns blah blah
 */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>@location æ›¿æ¢æˆ Notable Locations:</p>
</blockquote>
<p>above maven plugin </p>
<pre class="line-numbers language-xml"><code class="language-xml">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tags</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tag</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>location<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>placement</span><span class="token punctuation">></span></span>a<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>placement</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>Notable Places:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tag</span><span class="token punctuation">></span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tags</span><span class="token punctuation">></span></span>
...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h4 id="å‚è€ƒ-1"><a href="#å‚è€ƒ-1" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><ul>
<li><a href="https://www.oracle.com/technetwork/articles/java/index-137868.html" target="_blank" rel="noopener">How to Write Doc Comments for the Javadoc Tool</a></li>
</ul>
<h1 id="Java-é«˜çº§"><a href="#Java-é«˜çº§" class="headerlink" title="Java é«˜çº§"></a>Java é«˜çº§</h1><h2 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h2><h3 id="1-ClassLoader-ä»‹ç»"><a href="#1-ClassLoader-ä»‹ç»" class="headerlink" title="1. ClassLoader ä»‹ç»"></a>1. ClassLoader ä»‹ç»</h3><p>1.1 ç»“æŸä¸€ä¸ªJVMçš„ç”Ÿå‘½å‘¨æœŸæ–¹å¼</p>
<p>1.2 ç±»åŠ è½½çš„ä¸‰ä¸­æ–¹å¼</p>
<ol>
<li>éªŒè¯ -&gt; ç¡®ä¿è¢«åŠ è½½ç±»çš„æ­£ç¡®æ€§</li>
<li>å‡†å¤‡ -&gt; ä¸ºç±»çš„é™æ€å˜é‡åˆ†é…å†…å­˜ï¼Œå°†å…¶åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼</li>
<li>è§£æ -&gt; æŠŠç±»ä¸­çš„ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºç›´æ¥åº”ç”¨</li>
<li>åˆå§‹åŒ– -&gt; ä¸ºç±»çš„é™æ€å˜é‡èµ‹äºˆæ­£ç¡®çš„åˆå§‹åŒ–å€¼</li>
</ol>
<p>1.4 ä¸»åŠ¨ä½¿ç”¨</p>
<blockquote>
<p>é™¤äº†ä»¥ä¸‹å…­ä¸ªï¼Œå…¶ä½™çš„éƒ½æ˜¯è¢«åŠ¨ä½¿ç”¨ï¼Œä¸ä¼šå¯¼è‡´ç±»çš„åˆå§‹åŒ–</p>
</blockquote>
<ol>
<li>new, ç›´æ¥ä½¿ç”¨</li>
<li>è®¿é—®æŸä¸ªç±»æˆ–è€…æ¥å£çš„é™æ€å˜é‡ï¼Œæˆ–è€…å¯¹é™æ€å˜é‡è¿›è¡Œèµ‹å€¼æ“ä½œ<ol>
<li>è®¿é—®ç±»çš„é™æ€å˜é‡ä¼šåˆå§‹åŒ–class </li>
</ol>
</li>
<li>è°ƒç”¨é™æ€æ–¹æ³•</li>
<li>åå°„æŸä¸ªç±»</li>
<li>åˆå§‹åŒ–ä¸€ä¸ªå­ç±»</li>
<li>å¯åŠ¨ç±»ï¼Œæ¯”å¦‚ï¼šjava HelloWorld</li>
</ol>
<p>1.5 è¢«åŠ¨ä½¿ç”¨</p>
<p>ä¸‰ç§æ˜“é”™çš„è¢«åŠ¨ä½¿ç”¨</p>
<ol>
<li>é€šè¿‡å­ç±»è®¿é—®çˆ¶ç±»çš„staticå˜é‡ï¼Œä¸ä¼šå¯¼è‡´å­ç±»çš„åˆå§‹åŒ–</li>
<li>å®šä¹‰å¼•ç”¨æ•°ç»„ï¼Œä¸ä¼šåˆå§‹åŒ–ç±»</li>
<li>finalä¿®é¥°çš„å¸¸é‡ä¼šåœ¨ç¼–è¯‘æœŸé—´æ”¾åˆ°å¸¸é‡æ± ä¸­ï¼Œä¸ä¼šåˆå§‹åŒ–ç±»</li>
<li>finalä¿®é¥°çš„å¤æ‚ç±»å‹ï¼Œåœ¨ç¼–è¯‘æœŸé—´æ— æ³•è®¡ç®—å¾—å‡ºï¼Œä¼šåˆå§‹åŒ–ç±»</li>
</ol>
<h3 id="2-ç±»åŠ è½½è¯¦è§£"><a href="#2-ç±»åŠ è½½è¯¦è§£" class="headerlink" title="2. ç±»åŠ è½½è¯¦è§£"></a>2. ç±»åŠ è½½è¯¦è§£</h3><p>2.1 åŠ è½½ç±»çš„æ–¹å¼</p>
<ol>
<li>æœ¬åœ°ç£ç›˜åŠ è½½</li>
<li>å†…å­˜ç›´æ¥åŠ è½½</li>
<li>ç½‘ç»œåŠ è½½ URLClassLoader</li>
<li>ä»zip,jarç­‰å½’æ¡£æ–‡ä»¶ä¸­åŠ è½½.classæ–‡ä»¶</li>
<li>æ•°æ®åº“ä¸­æå–.classæ–‡ä»¶</li>
<li>åŠ¨æ€ç¼–è¯‘</li>
</ol>
<p>2.2 JVMå†…å­˜ç®€ä»‹</p>
<p><img src="http://cdn.linz.tech/jvm-detail.png" alt="2018070215085731"></p>
<ol>
<li>Execution engineåŠŸèƒ½ï¼šæ‰§è¡Œclassesä¸­çš„æŒ‡ä»¤</li>
<li>Native interfaceç»„ä»¶ï¼šä¸native librariesäº¤äº’</li>
<li>Runtime Data Areaç»„ä»¶ä¹Ÿå°±æ˜¯JVMå†…å­˜</li>
</ol>
<p>2.2.1 Program Counter Register</p>
<p>2.2.2 Java Virtual Machine Stacks </p>
<p>2.2.3 Heap Memory </p>
<p>2.2.4 Method Area</p>
<p>2.2.5 Run-time Constant Pool </p>
<p>2.2.6 Native Method Stack</p>
<h4 id="Class-and-Object-in-the-Memory"><a href="#Class-and-Object-in-the-Memory" class="headerlink" title="Class and Object in the Memory"></a>Class and Object in the Memory</h4><p><img src="http://cdn.linz.tech/class-object-in-memory.png" alt="1556803701272"></p>
<h4 id="åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹"><a href="#åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹" class="headerlink" title="åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹"></a>åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹</h4><p><img src="http://cdn.linz.tech/create-object-process.png" alt="1556804652176"></p>
<h3 id="3-ç±»çš„è¿æ¥è¯¦è§£"><a href="#3-ç±»çš„è¿æ¥è¯¦è§£" class="headerlink" title="3. ç±»çš„è¿æ¥è¯¦è§£"></a>3. ç±»çš„è¿æ¥è¯¦è§£</h3><p>3.1 éªŒè¯</p>
<blockquote>
<p>å­—èŠ‚æµä¸­åŒ…å«çš„ä¿¡æ¯ç¬¦åˆè™šæ‹Ÿæœºçš„è¦æ±‚ï¼Œå¹¶ä¸ä¼šæŸå®³åˆ°JVMè‡ªèº«å®‰å…¨</p>
</blockquote>
<ul>
<li>æ–‡ä»¶æ ¼å¼éªŒè¯<ul>
<li>é­”æœ¯å› å­æ˜¯å¦æ­£ç¡®ï¼Œ0xCAFEBABE</li>
<li>ä¸»ä»ç‰ˆæœ¬å·æ˜¯å¦ç¬¦åˆå½“å‰è™šæ‹Ÿæœº</li>
<li>å¸¸é‡æ± ä¸­çš„å¸¸é‡ç±»å‹æ˜¯ä¸æ˜¯æ”¯æŒ</li>
<li>â€¦</li>
</ul>
</li>
<li>å…ƒç´ æ•°æ®éªŒè¯</li>
<li>å­—èŠ‚ç éªŒè¯</li>
<li>å­—ç¬¦å·å¼•ç”¨éªŒè¯</li>
</ul>
<p>3.2 å‡†å¤‡é˜¶æ®µ</p>
<ol>
<li>åˆå§‹å€¼</li>
</ol>
<p>3.3 è§£æ</p>
<p>3.4 åˆå§‹åŒ–</p>
<h3 id="4-ç±»çš„åˆå§‹åŒ–è¯¦è§£"><a href="#4-ç±»çš„åˆå§‹åŒ–è¯¦è§£" class="headerlink" title="4. ç±»çš„åˆå§‹åŒ–è¯¦è§£"></a>4. ç±»çš„åˆå§‹åŒ–è¯¦è§£</h3><h3 id="5-ç±»åŠ è½½å™¨ï¼ˆJDKè‡ªå¸¦ï¼‰è¯¦ç»†ä»‹ç»"><a href="#5-ç±»åŠ è½½å™¨ï¼ˆJDKè‡ªå¸¦ï¼‰è¯¦ç»†ä»‹ç»" class="headerlink" title="5. ç±»åŠ è½½å™¨ï¼ˆJDKè‡ªå¸¦ï¼‰è¯¦ç»†ä»‹ç»"></a>5. ç±»åŠ è½½å™¨ï¼ˆJDKè‡ªå¸¦ï¼‰è¯¦ç»†ä»‹ç»</h3><p><img src="http://cdn.linz.tech/classloader-detail.png" alt="1556806319483"></p>
<h4 id="JVMè‡ªå¸¦çš„å‡ ç§åŠ è½½å™¨"><a href="#JVMè‡ªå¸¦çš„å‡ ç§åŠ è½½å™¨" class="headerlink" title="JVMè‡ªå¸¦çš„å‡ ç§åŠ è½½å™¨"></a>JVMè‡ªå¸¦çš„å‡ ç§åŠ è½½å™¨</h4><p>æ ¹ï¼ˆBootstrapï¼‰</p>
<ol>
<li>è´Ÿè´£åŠ è½½æ ¸å¿ƒç±»åº“ï¼Œå¦‚java.lang.*ç­‰ã€‚</li>
<li>æŒ‡å®šåŠ è½½ç›®å½•ä¸º<code>System.getProperty("sun.boot.class.path")</code></li>
<li>æ²¡æœ‰ç»§æ‰¿ClassLoaderç±»ï¼Œæ²¡æœ‰çˆ¶åŠ è½½å™¨ï¼›</li>
</ol>
<p>æ‰©å±•ï¼ˆExtensionï¼‰ç±»åŠ è½½å™¨</p>
<ol>
<li>çˆ¶åŠ è½½å™¨ä¸ºBootstrapï¼›</li>
<li>æŒ‡å®šåŠ è½½ç›®å½•ä¸ºSystem.getProperty(â€œjava.ext.dirsâ€)ï¼Œæˆ–è€…ä»jdk/jre/lib/ext ä¸­åŠ è½½</li>
</ol>
<p>ç³»ç»Ÿï¼ˆSystemï¼‰ç±»åŠ è½½å™¨</p>
<ol>
<li>çˆ¶å®¶åŠ è½½å™¨ä¸ºExtensionï¼›</li>
<li>æŒ‡å®šåŠ è½½ç›®å½•ä¸ºclasspathæˆ–System.getProperty(â€œjava.class.pathâ€)æŒ‡å®šç›®å½•</li>
<li>ç”¨æˆ·è‡ªå®šä¹‰ç±»é»˜è®¤åŠ è½½å™¨</li>
</ol>
<h3 id="6-ç±»åŠ è½½çš„çˆ¶å§”æ‰˜æœºåˆ¶"><a href="#6-ç±»åŠ è½½çš„çˆ¶å§”æ‰˜æœºåˆ¶" class="headerlink" title="6. ç±»åŠ è½½çš„çˆ¶å§”æ‰˜æœºåˆ¶"></a>6. ç±»åŠ è½½çš„çˆ¶å§”æ‰˜æœºåˆ¶</h3><blockquote>
<ol>
<li>å…ˆæœ‰çˆ¶åŠ è½½ï¼Œçˆ¶åŠ è½½ä¸åˆ°å†ç”±å„¿å­å­™å­åŠ è½½ï¼ŒTomcatçš„åŠ è½½å™¨æœºåˆ¶å’ŒJVMæ­£å¥½ç›¸å</li>
<li>çˆ¶åŠ è½½å™¨å’Œå­åŠ è½½å™¨å…¶å®æ˜¯ä¸€ç§åŒ…è£…å…³ç³»ï¼Œæˆ–è€…åŒ…å«å…³ç³»</li>
<li>ä¼˜ç‚¹ï¼š èƒ½æé«˜ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼Œåœ¨æ­¤æœºåˆ¶ä¸‹ï¼Œç”¨æˆ·è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨ä¸å¯èƒ½åŠ è½½åº”è¯¥æœ‰çˆ¶åŠ è½½å™¨åŠ è½½çš„å¯é ç±»ï¼Œé˜²æ­¢æ¶æ„çš„ä»£ç ä»£æ›¿çˆ¶åŠ è½½çš„å¯é ä»£ç </li>
</ol>
</blockquote>
<h3 id="7-å‘½åç©ºé—´-amp-è¿è¡Œæ—¶åŒ…"><a href="#7-å‘½åç©ºé—´-amp-è¿è¡Œæ—¶åŒ…" class="headerlink" title="7. å‘½åç©ºé—´&amp;è¿è¡Œæ—¶åŒ…"></a>7. å‘½åç©ºé—´&amp;è¿è¡Œæ—¶åŒ…</h3><h4 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h4><p>æ¯ä¸ªç±»çš„åŠ è½½å™¨éƒ½æœ‰å­çš„å‘½åç©ºé—´ï¼Œå‘½åç©ºé—´ç”±è¯¥åŠ è½½å™¨åŠå…¶æ‰€æœ‰çˆ¶åŠ è½½å™¨æ‰€åŠ è½½çš„ç±»ç»„æˆã€‚</p>
<p><img src="http://cdn.linz.tech/name-for-class.png" alt="1556852278628"></p>
<h4 id="è¿è¡Œæ—¶åŒ…"><a href="#è¿è¡Œæ—¶åŒ…" class="headerlink" title="è¿è¡Œæ—¶åŒ…"></a>è¿è¡Œæ—¶åŒ…</h4><ol>
<li>çˆ¶ç±»å®¶åŠ è½½å™¨çœ‹ä¸åˆ°å­ç±»åŠ è½½å™¨åŠ è½½çš„ç±»</li>
<li>ä¸åŒå‘½åç©ºé—´ä¸‹çš„ç±»åŠ è½½å™¨ä¹‹é—´çš„ç±»äº’ç›¸ä¸å¯è®¿é—®</li>
</ol>
<h3 id="8-åˆ›å»ºè‡ªå®šä¹‰ç±»åŠ è½½å™¨"><a href="#8-åˆ›å»ºè‡ªå®šä¹‰ç±»åŠ è½½å™¨" class="headerlink" title="8. åˆ›å»ºè‡ªå®šä¹‰ç±»åŠ è½½å™¨"></a>8. åˆ›å»ºè‡ªå®šä¹‰ç±»åŠ è½½å™¨</h3><h3 id="9-ç±»çš„å¸è½½"><a href="#9-ç±»çš„å¸è½½" class="headerlink" title="9. ç±»çš„å¸è½½"></a>9. ç±»çš„å¸è½½</h3><blockquote>
<p>JVMä¸­çš„Classåªæœ‰æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ï¼Œæ‰èƒ½è¢«GCå›æ”¶ï¼Œä¹Ÿå°±æ˜¯è¯¥Classè¢«å¸è½½ï¼ˆunloadï¼‰:</p>
</blockquote>
<ol>
<li><p>è¯¥ç±»æ‰€æœ‰çš„å®ä¾‹éƒ½å·²ç»è¢«GCã€‚</p>
</li>
<li><p>åŠ è½½è¯¥ç±»çš„ClassLoaderå®ä¾‹å·²ç»è¢«GCã€‚</p>
</li>
<li><p>è¯¥ç±»çš„java.lang.Classå¯¹è±¡æ²¡æœ‰ä»»ä½•åœ°æ–¹è¢«å¼•ç”¨ã€‚</p>
</li>
</ol>
<p>GCçš„æ—¶æœºæˆ‘ä»¬æ˜¯ä¸å¯ä»¥æ§çš„ï¼Œé‚£ä¹ˆåŒæ ·çš„æˆ‘ä»¬å¯¹äºClassçš„å¸è½½ä¹Ÿæ˜¯ä¸å¯æ§çš„ã€‚</p>
<h3 id="10-è‡ªå®šä¹‰è§£å¯†åŠ å¯†ç±»åŠ è½½å™¨"><a href="#10-è‡ªå®šä¹‰è§£å¯†åŠ å¯†ç±»åŠ è½½å™¨" class="headerlink" title="10. è‡ªå®šä¹‰è§£å¯†åŠ å¯†ç±»åŠ è½½å™¨"></a>10. è‡ªå®šä¹‰è§£å¯†åŠ å¯†ç±»åŠ è½½å™¨</h3><h3 id="11-çº¿ç¨‹ä¸Šä¸‹æ–‡åŠ è½½å™¨"><a href="#11-çº¿ç¨‹ä¸Šä¸‹æ–‡åŠ è½½å™¨" class="headerlink" title="11. çº¿ç¨‹ä¸Šä¸‹æ–‡åŠ è½½å™¨"></a>11. çº¿ç¨‹ä¸Šä¸‹æ–‡åŠ è½½å™¨</h3><p> SPIï¼ˆService Provider Interfaceï¼‰</p>
<blockquote>
<p>is an <a href="https://en.wikipedia.org/wiki/Application_programming_interface" target="_blank" rel="noopener">API</a> intended to be implemented or extended by a third party. It can be used to enable framework extension and replaceable components. for example jdbc, jndi,jms in the rt.jar. </p>
</blockquote>
<p>The reason for ContextLoader:</p>
<p>rt.jar was loaded by BootClassLoader, but the implementation is loaded by AppClassLoader</p>
<h4 id="JDBC-example"><a href="#JDBC-example" class="headerlink" title="JDBC example"></a>JDBC example</h4><p>com.mysql.jdbc.Driver</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">static</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>DriverManager<span class="token punctuation">.</span><span class="token function">registerDriver</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Driver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>SQLException E<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"Cann't register driver!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="Custom-Context-Class-Loader"><a href="#Custom-Context-Class-Loader" class="headerlink" title="Custom Context Class Loader"></a>Custom Context Class Loader</h4><pre class="line-numbers language-java"><code class="language-java">Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setContextClassLoader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContextClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="12-å…³äºJVMç±»åŠ è½½å™¨çš„æ€»ç»“"><a href="#12-å…³äºJVMç±»åŠ è½½å™¨çš„æ€»ç»“" class="headerlink" title="12. å…³äºJVMç±»åŠ è½½å™¨çš„æ€»ç»“"></a>12. å…³äºJVMç±»åŠ è½½å™¨çš„æ€»ç»“</h3><h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><ul>
<li><a href="https://docs.oracle.com/javase/specs/jvms/se8/html/" target="_blank" rel="noopener">The Java Virtual Machine Specification Java SE 8 Edition</a></li>
</ul>
<h1 id="Javaå®æˆ˜ç¬”è®°"><a href="#Javaå®æˆ˜ç¬”è®°" class="headerlink" title="Javaå®æˆ˜ç¬”è®°"></a>Javaå®æˆ˜ç¬”è®°</h1><h2 id="classå£°æ˜ä¸ºfinalçš„å¥½å¤„"><a href="#classå£°æ˜ä¸ºfinalçš„å¥½å¤„" class="headerlink" title="classå£°æ˜ä¸ºfinalçš„å¥½å¤„"></a><a href="https://blog.csdn.net/zzxuan6/article/details/44646263" target="_blank" rel="noopener">classå£°æ˜ä¸ºfinalçš„å¥½å¤„</a></h2><ul>
<li>ä¸ä¼šè¢«é‡è½½<ul>
<li>Vmäº§ç”Ÿæ›´å¿«codes</li>
<li>é˜²æ­¢è‡ªå·±æ”¹çš„ä»£ç å½±å“åˆ°å®¢æˆ·</li>
</ul>
</li>
<li>å¤šçº¿ç¨‹ä½¿ç”¨å®‰å…¨</li>
<li>é’ˆå¯¹Finalçš„ä¼˜åŒ–<ul>
<li>Jvmå’ŒApplicationæœ‰é’ˆå¯¹finalçš„ç¼“å­˜</li>
<li>Final keyword allows JVM to optimized method, variable or class.</li>
<li>jitèƒ½å¤Ÿé¿å…ä½¿ç”¨è™šå‡½æ•°è¡¨</li>
</ul>
</li>
</ul>
<blockquote>
<p>ç»“è®ºï¼šèƒ½ç”¨finalå°½é‡ä½¿ç”¨final</p>
</blockquote>
<h2 id="è¿è¡ŒJavaä»£ç "><a href="#è¿è¡ŒJavaä»£ç " class="headerlink" title="è¿è¡ŒJavaä»£ç "></a>è¿è¡ŒJavaä»£ç </h2><p>Exmaple.java </p>
<pre class="line-numbers language-shell"><code class="language-shell">#ç¼–è¯‘Javaä»£ç æˆ.class
javac Exmaple.java 
# è¿è¡Œ.classæ–‡ä»¶
java -cp . Example
#åå°è¿è¡Œ
nohup java -cp . Exmaple 
# æŸ¥çœ‹åå°è¿è¡Œæ—¥å¿—
tail -f nohup.out<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="é—®é¢˜è§£å†³"><a href="#é—®é¢˜è§£å†³" class="headerlink" title="é—®é¢˜è§£å†³"></a>é—®é¢˜è§£å†³</h1><ul>
<li><a href="https://blog.csdn.net/qq_22076345/article/details/82392236" target="_blank" rel="noopener">Intellij idea æŠ¥é”™ï¼šError : java ä¸æ”¯æŒå‘è¡Œç‰ˆæœ¬5</a></li>
</ul>
<h1 id="å­¦ä¹ èµ„æº"><a href="#å­¦ä¹ èµ„æº" class="headerlink" title="å­¦ä¹ èµ„æº"></a>å­¦ä¹ èµ„æº</h1><ul>
<li><a href="https://github.com/crossoverJie/JCSprout" target="_blank" rel="noopener">JCSprout</a> å¤„äºèŒèŠ½é˜¶æ®µçš„ Java æ ¸å¿ƒçŸ¥è¯†åº“</li>
<li><a href="https://github.com/eugenp/tutorials/tree/master/core-java" target="_blank" rel="noopener"><strong>Core Java Cookbooks and Examples</strong></a></li>
</ul>
<p>å¾ˆå¥½çš„æ·±å…¥JavaåŸºå±‚ç³»åˆ—</p>
<ol>
<li><a href="http://blog.csdn.net/javazejian/article/details/70768369" target="_blank" rel="noopener">æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯(Classå¯¹è±¡)ä¸åå°„æœºåˆ¶</a></li>
<li><a href="http://blog.csdn.net/javazejian/article/details/71333103" target="_blank" rel="noopener">æ·±å…¥ç†è§£Javaæšä¸¾ç±»å‹(enum)</a></li>
<li><a href="http://blog.csdn.net/javazejian/article/details/71860633" target="_blank" rel="noopener">æ·±å…¥ç†è§£Javaæ³¨è§£ç±»å‹(@Annotation)</a></li>
<li><a href="http://blog.csdn.net/javazejian/article/details/72828483" target="_blank" rel="noopener">æ·±å…¥ç†è§£Javaå¹¶å‘ä¹‹synchronizedå®ç°åŸç†</a></li>
<li><a href="http://blog.csdn.net/javazejian/article/details/72772461" target="_blank" rel="noopener">æ·±å…¥ç†è§£Javaå†…å­˜æ¨¡å‹(JMM)åŠvolatileå…³é”®å­—</a></li>
<li><a href="http://blog.csdn.net/javazejian/article/details/73413292" target="_blank" rel="noopener">æ·±å…¥ç†è§£Javaç±»åŠ è½½å™¨(ClassLoader)</a></li>
</ol>
<h1 id="é™„å½•-1"><a href="#é™„å½•-1" class="headerlink" title="é™„å½•"></a>é™„å½•</h1><h2 id="javase-11-API-å®˜æ–¹æ–‡æ¡£æœç´¢"><a href="#javase-11-API-å®˜æ–¹æ–‡æ¡£æœç´¢" class="headerlink" title="javase 11 API å®˜æ–¹æ–‡æ¡£æœç´¢ "></a><a href="https://docs.oracle.com/en/java/javase/11/" target="_blank" rel="noopener">javase 11 API å®˜æ–¹æ–‡æ¡£æœç´¢ </a></h2><h2 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h2><h3 id="Expresso-æ­£åˆ™å·¥å…·"><a href="#Expresso-æ­£åˆ™å·¥å…·" class="headerlink" title="Expresso æ­£åˆ™å·¥å…·"></a>Expresso æ­£åˆ™å·¥å…·</h3><p><a href="http://www.ultrapico.com/ExpressoDownload.htm" target="_blank" rel="noopener">http://www.ultrapico.com/ExpressoDownload.htm</a></p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>çŸ¥è¯†æ¶æ„</tag>
      </tags>
  </entry>
  <entry>
    <title>JNI/NDKå¼€å‘æŒ‡å—å­¦ä¹ ç¬”è®°</title>
    <url>/2019/09/12/2018-8-15-jni-note/</url>
    <content><![CDATA[<p>[TOC]</p>
<h2 id="JNIå¼€å‘æµç¨‹åŠHelloWorld"><a href="#JNIå¼€å‘æµç¨‹åŠHelloWorld" class="headerlink" title="JNIå¼€å‘æµç¨‹åŠHelloWorld"></a><a href="https://blog.csdn.net/xyang81/article/details/41759643" target="_blank" rel="noopener">JNIå¼€å‘æµç¨‹åŠHelloWorld</a></h2><p>åŸºç¡€çŸ¥è¯†ï¼šä¸åŒå¹³å°çš„åŠ¨æ€åº“<code>ï¼ˆwindowsï¼š*.dllï¼Œlinux/unixï¼š*.soï¼Œmac os xï¼š*.jnilibï¼‰</code></p>
<h3 id="JNIå¼€å‘ä¸»è¦æµç¨‹"><a href="#JNIå¼€å‘ä¸»è¦æµç¨‹" class="headerlink" title="JNIå¼€å‘ä¸»è¦æµç¨‹"></a>JNIå¼€å‘ä¸»è¦æµç¨‹</h3><ol>
<li><p>ç¬¬ä¸€æ­¥ã€å¹¶æ–°å»ºä¸€ä¸ªHelloWorld.javaæºæ–‡ä»¶</p>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token keyword">package</span> com<span class="token punctuation">.</span>study<span class="token punctuation">.</span>jnilearn<span class="token punctuation">;</span>
 <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token punctuation">{</span>
     <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">native</span> String <span class="token function">sayHello</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">// 1.å£°æ˜è¿™æ˜¯ä¸€ä¸ªnativeå‡½æ•°ï¼Œç”±æœ¬åœ°ä»£ç å®ç°</span>

     <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         String text <span class="token operator">=</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token string">"yangxin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token comment" spellcheck="true">// 3.è°ƒç”¨æœ¬åœ°å‡½æ•°</span>
         System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>

     <span class="token keyword">static</span> <span class="token punctuation">{</span>
         System<span class="token punctuation">.</span><span class="token function">loadLibrary</span><span class="token punctuation">(</span><span class="token string">"HelloWorld"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 2.åŠ è½½å®ç°äº†nativeå‡½æ•°çš„åŠ¨æ€åº“ï¼Œåªéœ€è¦å†™åŠ¨æ€åº“çš„åå­—</span>
     <span class="token punctuation">}</span>

 <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>ç”¨javacå‘½ä»¤å°†.javaæºæ–‡ä»¶ç¼–è¯‘æˆ.classå­—èŠ‚ç æ–‡ä»¶</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//-d æŒ‡å®šç›®å½•</span>
javac src<span class="token operator">/</span>com<span class="token operator">/</span>study<span class="token operator">/</span>jnilearn<span class="token operator">/</span>HelloWorld<span class="token punctuation">.</span>java <span class="token operator">-</span>d <span class="token punctuation">.</span>/bin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>ç”Ÿæˆ.hå¤´æ–‡ä»¶</p>
<pre class="line-numbers language-java"><code class="language-java">javah <span class="token operator">-</span>jni <span class="token operator">-</span>classpath <span class="token punctuation">.</span>/bin <span class="token operator">-</span>d <span class="token punctuation">.</span>/jni com<span class="token punctuation">.</span>study<span class="token punctuation">.</span>jnilearn<span class="token punctuation">.</span>HelloWorld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>å®ç°.hå¤´æ–‡ä»¶ä¸­çš„å‡½æ•°</p>
</li>
</ol>
<p><em>com_study_jnilearn_HelloWorld.hï¼š</em></p>
<pre><code>```c
/* DO NOT EDIT THIS FILE - it is machine generated */
#include &lt;jni.h&gt;</code></pre><p> /* Header for class com_study_jnilearn_HelloWorld */</p>
<pre><code>#ifndef _Included_com_study_jnilearn_HelloWorld
#define _Included_com_study_jnilearn_HelloWorld
#ifdef __cplusplus
extern "C" {
#endif
/*
 * Class:     com_study_jnilearn_HelloWorld
 * Method:    sayHello
 * Signature: (Ljava/lang/String;)Ljava/lang/String;
 */
JNIEXPORT jstring JNICALL Java_com_study_jnilearn_HelloWorld_sayHello</code></pre><p>   (JNIEnv *, jclass, jstring);</p>
<pre><code>#ifdef __cplusplus
}
#endif
#endif
```</code></pre><ol start="5">
<li>å°†C/C++ä»£ç ç¼–è¯‘æˆæœ¬åœ°åŠ¨æ€åº“æ–‡ä»¶<pre class="line-numbers language-shell"><code class="language-shell">#-I åŒ…å«å¤´æ–‡ä»¶
# -fPICï¼š    ç¼–è¯‘æˆä¸ä½ç½®æ— å…³çš„ç‹¬ç«‹ä»£ç 
# -sharedï¼šç¼–è¯‘æˆåŠ¨æ€åº“
# -o æŒ‡å®šè¾“å‡º
gcc -I$JAVA_HOME/include -I$JAVA_HOME/include/linux -fPIC -shared HelloWorld.c -o libHelloWorld.so<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>è¿è¡ŒJavaç¨‹åº</li>
</ol>
<h3 id="soåº“åŠ è½½åŠç›¸å…³é…ç½®"><a href="#soåº“åŠ è½½åŠç›¸å…³é…ç½®" class="headerlink" title="soåº“åŠ è½½åŠç›¸å…³é…ç½®"></a>soåº“åŠ è½½åŠç›¸å…³é…ç½®</h3><p>å¦‚æœæ‰‹ä¸Šæœ‰åŠ¨æ€åº“ï¼›</p>
<pre class="line-numbers language-txt"><code class="language-txt">win: libHelloWorld.dllï¼Œlinux/unixï¼šlibHelloWorld.soï¼Œmac os xï¼šlibHelloWorld.jnilib<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>åŠ è½½æ–¹å¼</strong></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//1. ä¸éœ€è¦åŠ libå‰ç¼€ï¼Œä¹Ÿä¸è¦åŠ .soã€.dllå’Œ.jnilibåç¼€</span>
System<span class="token punctuation">.</span><span class="token function">loadLibrary</span><span class="token punctuation">(</span><span class="token string">"HelloWorld"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//2. æŒ‡å®šåŠ¨æ€åº“çš„ç»å¯¹è·¯å¾„åï¼Œéœ€è¦åŠ ä¸Šå‰ç¼€å’Œåç¼€</span>
System<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">"/Users/yangxin/Desktop/libHelloWorld.jnilib"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>åŠ è½½æ–¹å¼1çš„é…ç½®</strong></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//1. å°†åŠ¨æ€é“¾æ¥åº“æ‹·è´åˆ°java.library.pathç›®å½•</span>
String libraryDirs <span class="token operator">=</span> System<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"java.library.path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>libraryDirs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</span>
<span class="token operator">/</span>Users<span class="token operator">/</span>yangxin<span class="token operator">/</span>Library<span class="token operator">/</span>Java<span class="token operator">/</span>Extensions<span class="token operator">:</span><span class="token operator">/</span>Library<span class="token operator">/</span>Java<span class="token operator">/</span>Extensions<span class="token operator">:</span>

<span class="token comment" spellcheck="true">// 2. æŒ‡å®šç³»ç»Ÿå±æ€§java.library.pathçš„å€¼</span>
java <span class="token operator">-</span>Djava<span class="token punctuation">.</span>library<span class="token punctuation">.</span>path<span class="token operator">=</span><span class="token operator">/</span>Users<span class="token operator">/</span>yangxin<span class="token operator">/</span>Desktop
<span class="token comment" spellcheck="true">// 3. æŒ‡å®šåº“çš„æœç´¢ç›®å½•: Linux/Unixç¯å¢ƒä¸‹å¯ä»¥é€šè¿‡è®¾ç½®LD_LIBRARY_PATHç¯å¢ƒå˜é‡ã€‚</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="JNIæ•°æ®ç±»å‹"><a href="#JNIæ•°æ®ç±»å‹" class="headerlink" title="JNIæ•°æ®ç±»å‹"></a><a href="https://blog.csdn.net/xyang81/article/details/42047899" target="_blank" rel="noopener">JNIæ•°æ®ç±»å‹</a></h2><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// HelloWorld.java</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">native</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">short</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">long</span> l<span class="token punctuation">,</span> <span class="token keyword">float</span> f<span class="token punctuation">,</span> <span class="token keyword">double</span> d<span class="token punctuation">,</span> <span class="token keyword">char</span> c<span class="token punctuation">,</span> 
            <span class="token keyword">boolean</span> z<span class="token punctuation">,</span> <span class="token keyword">byte</span> b<span class="token punctuation">,</span> String str<span class="token punctuation">,</span> Object obj<span class="token punctuation">,</span> MyClass p<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// HelloWorld.h</span>
JNIEXPORT <span class="token keyword">void</span> JNICALL <span class="token function">Java_com_study_jnilearn_HelloWorld_test</span>
    <span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> jclass cls<span class="token punctuation">,</span> jshort s<span class="token punctuation">,</span> jint i<span class="token punctuation">,</span> jlong l<span class="token punctuation">,</span> jfloat f<span class="token punctuation">,</span>
     jdouble d<span class="token punctuation">,</span> jchar c<span class="token punctuation">,</span> jboolean z<span class="token punctuation">,</span> jbyte b<span class="token punctuation">,</span> jstring j_str<span class="token punctuation">,</span> jobject jobj1<span class="token punctuation">,</span> jobject job2<span class="token punctuation">,</span> jintArray j_int_arr<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>ä¸»è¦ç±»å‹ï¼š</strong><br><img src="http://cdn.linz.tech/jni_type_blog.jpg" alt=""></p>
<p><strong>æ•°ç»„ï¼š</strong><br><img src="http://cdn.linz.tech/jni_array.jpg" alt=""></p>
<p><strong>å…¶ä»–</strong><br>JNIEnvå’Œjclass</p>
<h3 id="jobject-C-and-C-ä¸åŒ"><a href="#jobject-C-and-C-ä¸åŒ" class="headerlink" title="jobject C++ and C ä¸åŒ"></a>jobject C++ and C ä¸åŒ</h3><p>C++ å’ŒJavaä¸€æ ·é¢å‘å¯¹è±¡</p>
<blockquote>
<p>æ‰€æœ‰å¼•ç”¨ç±»å‹è‡ªjobjectæ´¾ç”Ÿ</p>
</blockquote>
<pre><code>class _jobject {};
   class _jclass : public _jobject {};
   class _jstring : public _jobject {};
   class _jarray : public _jobject {};
   class _jbooleanArray : public _jarray {};
   class _jbyteArray : public _jarray {};
   ...</code></pre><p>C ä½¿ç”¨typedefé‡æ–°å®šä¹‰ï¼Œå¦‚ï¼štypedef jobject jstring</p>
<p>*<em>jvalue *</em></p>
<pre class="line-numbers language-java"><code class="language-java">typedef union jvalue <span class="token punctuation">{</span>
    jboolean z<span class="token punctuation">;</span>
    jbyte    b<span class="token punctuation">;</span>
    jchar    c<span class="token punctuation">;</span>
    jshort   s<span class="token punctuation">;</span>
    jint     i<span class="token punctuation">;</span>
    jlong    j<span class="token punctuation">;</span>
    jfloat   f<span class="token punctuation">;</span>
    jdouble  d<span class="token punctuation">;</span>
    jobject  l<span class="token punctuation">;</span>
<span class="token punctuation">}</span> jvalue<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å­—ç¬¦ä¸²å¤„ç†"><a href="#å­—ç¬¦ä¸²å¤„ç†" class="headerlink" title="å­—ç¬¦ä¸²å¤„ç†"></a><a href="https://blog.csdn.net/xyang81/article/details/42066665" target="_blank" rel="noopener">å­—ç¬¦ä¸²å¤„ç†</a></h2><p>åŸºç¡€çŸ¥è¯†</p>
<ul>
<li>JNIæŠŠJavaä¸­çš„æ‰€æœ‰å¯¹è±¡å½“ä½œä¸€ä¸ªCæŒ‡é’ˆä¼ é€’åˆ°æœ¬åœ°æ–¹æ³•ä¸­ï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘JVMä¸­çš„å†…éƒ¨æ•°æ®ç»“æ„ï¼Œè€Œå†…éƒ¨çš„æ•°æ®ç»“æ„åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼æ˜¯ä¸å¯è§çš„ã€‚åªèƒ½ä»JNIEnvæŒ‡é’ˆæŒ‡å‘çš„å‡½æ•°è¡¨ä¸­é€‰æ‹©åˆé€‚çš„JNIå‡½æ•°æ¥æ“ä½œJVMä¸­çš„æ•°æ®ç»“æ„</li>
<li>Javaé»˜è®¤ä½¿ç”¨Unicodeç¼–ç ï¼Œè€ŒC/CPPé»˜è®¤ä½¿ç”¨UTFç¼–ç ï¼›GetXXUTFXX/ReleaseXXUTFXX ç”¨äºC/CPP </li>
</ul>
<h3 id="å­—ç¬¦ä¸‰éƒ¨æ›²-GET-gt-Release-gt-New"><a href="#å­—ç¬¦ä¸‰éƒ¨æ›²-GET-gt-Release-gt-New" class="headerlink" title="å­—ç¬¦ä¸‰éƒ¨æ›² GET -> Release -> New"></a>å­—ç¬¦ä¸‰éƒ¨æ›² GET -&gt; Release -&gt; New</h3><pre class="line-numbers language-c"><code class="language-c"><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>c_str <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> buff<span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    jboolean isCopy<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// è¿”å›JNI_TRUEè¡¨ç¤ºåŸå­—ç¬¦ä¸²çš„æ‹·è´ï¼Œè¿”å›JNI_FALSEè¡¨ç¤ºè¿”å›åŸå­—ç¬¦ä¸²çš„æŒ‡é’ˆ</span>
    c_str <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetStringUTFChars</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> j_str<span class="token punctuation">,</span> <span class="token operator">&amp;</span>isCopy<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"C_str: %s \n"</span><span class="token punctuation">,</span> c_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">sprintf</span><span class="token punctuation">(</span>buff<span class="token punctuation">,</span> <span class="token string">"hello %s"</span><span class="token punctuation">,</span> c_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ReleaseStringUTFChars</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> j_str<span class="token punctuation">,</span> c_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">NewStringUTF</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>buff<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>GetStringUTFChars(env, j_str, &amp;isCopy) è¯´æ˜ï¼š</p>
<ul>
<li>isCopy é»˜è®¤ä¸ºNULLå°±å¥½<ul>
<li>JNI_TRUE Jvmä¸­j_strå¤åˆ¶ä¸€ä»½;</li>
<li>JNI_FALSE è¿”å›æºå­—ç¬¦ä¸²çš„å†…å®¹ï¼Œä¸æ¨èï¼›</li>
</ul>
</li>
<li>UTF <font color="#EA0000" face="STHupo">Javaé»˜è®¤ä½¿ç”¨Unicodeç¼–ç ï¼Œè€ŒC/C++é»˜è®¤ä½¿ç”¨UTFç¼–ç </font>ï¼ŒGetStringUTFCharså¯ä»¥æŠŠä¸€ä¸ªjstringæŒ‡é’ˆï¼ˆæŒ‡å‘JVMå†…éƒ¨çš„Unicodeå­—ç¬¦åºåˆ—ï¼‰è½¬æ¢æˆä¸€ä¸ªUTF-8æ ¼å¼çš„Cå­—ç¬¦ä¸²</li>
</ul>
<h3 id="å¼‚å¸¸æ£€æŸ¥"><a href="#å¼‚å¸¸æ£€æŸ¥" class="headerlink" title="å¼‚å¸¸æ£€æŸ¥"></a>å¼‚å¸¸æ£€æŸ¥</h3><blockquote>
<p>å› ä¸ºJVMéœ€è¦ä¸ºæ–°è¯ç”Ÿçš„å­—ç¬¦ä¸²åˆ†é…å†…å­˜ç©ºé—´ï¼Œå½“å†…å­˜ç©ºé—´ä¸å¤Ÿåˆ†é…çš„æ—¶å€™ï¼Œä¼šå¯¼è‡´è°ƒç”¨å¤±è´¥ï¼Œå¤±è´¥åGetStringUTFCharsä¼šè¿”å›NULLï¼Œå¹¶æŠ›å‡ºä¸€ä¸ªOutOfMemoryErrorå¼‚å¸¸ã€‚JNIçš„å¼‚å¸¸ä¸ä¼šåœæ­¢è€Œæ˜¯ç»§ç»­å¾€ä¸‹ï¼Œç•™ä¸‹ä¸€ä¸ªç©ºæŒ‡é’ˆã€‚</p>
</blockquote>
<p>if(GetStringUTFChars == NULL ) return ;</p>
<h3 id="é‡Šæ”¾å­—ç¬¦ä¸²"><a href="#é‡Šæ”¾å­—ç¬¦ä¸²" class="headerlink" title="é‡Šæ”¾å­—ç¬¦ä¸²"></a>é‡Šæ”¾å­—ç¬¦ä¸²</h3><blockquote>
<p><font color="red" face="STHupo">GetStringUTFChars</font> ä¼šåˆ†é…å†…å­˜éœ€é‡Šæ”¾</p>
</blockquote>
<p>åŒç†ï¼š <font color="red" face="STHupo">GETXX</font>å°±å¿…é¡»è°ƒç”¨<font color="red" face="STHupo">ReleaseXXX</font></p>
<h3 id="NewStringUTF"><a href="#NewStringUTF" class="headerlink" title="NewStringUTF"></a>NewStringUTF</h3><pre><code>graph LR
NewStringUTF --&gt; JVMæ–°å»ºjava.lang.String; 
JVMæ–°å»ºjava.lang.String --&gt; æ²¡æœ‰å†…å­˜;
æ²¡æœ‰å†…å­˜--&gt; OutOfMemoryError ;</code></pre><h3 id="å…¶ä»–å‡½æ•°"><a href="#å…¶ä»–å‡½æ•°" class="headerlink" title="å…¶ä»–å‡½æ•°"></a>å…¶ä»–å‡½æ•°</h3><ul>
<li>Getå’ŒReleaseStringChars(Unicode)vs Get/ReleaseStringUTFChars(UTF-8)</li>
<li>GetStringLength/GetStringUTFLength ç”±äºUTF-8ç¼–ç çš„å­—ç¬¦ä¸²ä»¥â€™\0â€™ç»“å°¾ï¼Œè€ŒUnicodeå­—ç¬¦ä¸²ä¸æ˜¯ã€‚</li>
<li>Get/ReleaseStringCriticalï¼šæé«˜JVMè¿”å›æºå­—ç¬¦ä¸²ç›´æ¥æŒ‡é’ˆçš„å¯èƒ½æ€§<ul>
<li>å½“å­—ç¬¦1Må·¦å³ï¼Œè¾ƒå¤§æ—¶ä½¿ç”¨</li>
<li>ä¸¤ä¸ªä»£ç é—´ï¼Œä¸å¯ä»¥æ‰§è¡Œå¯¼è‡´é˜»å¡çš„è°ƒç”¨æˆ–ä¸ºæ–°å¯¹è±¡åœ¨JVMä¸­åˆ†é…å†…å­˜ï¼Œå¦åˆ™ï¼ŒJVMæœ‰å¯èƒ½æ­»é”ã€‚<pre class="line-numbers language-java"><code class="language-java">JNIEXPORT jstring JNICALL <span class="token function">Java_com_study_jnilearn_Sample_sayHello</span>
<span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> jclass cls<span class="token punctuation">,</span> jstring j_str<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">const</span> jchar<span class="token operator">*</span> c_str<span class="token operator">=</span> NULL<span class="token punctuation">;</span>
<span class="token keyword">char</span> buff<span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello "</span><span class="token punctuation">;</span>
<span class="token keyword">char</span><span class="token operator">*</span> pBuff <span class="token operator">=</span> buff <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/*
* åœ¨GetStringCritical/RealeaseStringCriticalä¹‹é—´æ˜¯ä¸€ä¸ªå…³é”®åŒºã€‚
* åœ¨è¿™å…³é”®åŒºä¹‹ä¸­,ç»å¯¹ä¸èƒ½å‘¼å«JNIçš„å…¶ä»–å‡½æ•°å’Œä¼šé€ æˆå½“å‰çº¿ç¨‹ä¸­æ–­æˆ–æ˜¯ä¼šè®©å½“å‰çº¿ç¨‹ç­‰å¾…çš„ä»»ä½•æœ¬åœ°ä»£ç ï¼Œ
* å¦åˆ™å°†é€ æˆå…³é”®åŒºä»£ç æ‰§è¡ŒåŒºé—´åƒåœ¾å›æ”¶å™¨åœæ­¢è¿ä½œï¼Œä»»ä½•è§¦å‘åƒåœ¾å›æ”¶å™¨çš„çº¿ç¨‹ä¹Ÿä¼šæš‚åœã€‚
* å…¶ä»–è§¦å‘åƒåœ¾å›æ”¶å™¨çš„çº¿ç¨‹ä¸èƒ½å‰è¿›ç›´åˆ°å½“å‰çº¿ç¨‹ç»“æŸè€Œæ¿€æ´»åƒåœ¾å›æ”¶å™¨ã€‚
*/</span>
c_str <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">GetStringCritical</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>j_str<span class="token punctuation">,</span>NULL<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// è¿”å›æºå­—ç¬¦ä¸²æŒ‡é’ˆçš„å¯èƒ½æ€§</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>c_str <span class="token operator">==</span> NULL<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">// éªŒè¯æ˜¯å¦å› ä¸ºå­—ç¬¦ä¸²æ‹·è´å†…å­˜æº¢å‡ºè€Œè¿”å›NULL</span>
<span class="token punctuation">{</span>
  <span class="token keyword">return</span> NULL<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">*</span>c_str<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
  <span class="token operator">*</span>pBuff<span class="token operator">++</span> <span class="token operator">=</span> <span class="token operator">*</span>c_str<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">ReleaseStringCritical</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>j_str<span class="token punctuation">,</span>c_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">NewStringUTF</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>buff<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
<li>GetStringRegionå’ŒGetStringUTFRegion æºå­—ç¬¦ä¸²å¤åˆ¶åˆ°ä¸€ä¸ªé¢„å…ˆåˆ†é…çš„ç¼“å†²åŒºå†…ã€ä¸åˆ†é…å†…å­˜ã€‘ï¼ŒUTFè¶Šç•Œ ä¼šæŠ¥StringIndexOutOfBoundsException; ã€æ¨èä½¿ç”¨ã€‘<ul>
<li>ç¼“å†²åŒºå¯ä»¥è¢«ç¼–è¯‘å™¨æå‰åˆ†é…ï¼Œè€Œä¸”æ°¸è¿œä¸ä¼šäº§ç”Ÿå†…å­˜æº¢å‡ºçš„å¼‚å¸¸</li>
<li>æä¾›äº†ä¸€ä¸ªå¼€å§‹ç´¢å¼•å’Œå­å­—ç¬¦ä¸²çš„é•¿åº¦å€¼</li>
<li>å¤åˆ¶å°‘é‡å­—ç¬¦ä¸²çš„æ¶ˆè€—éå¸¸å°<pre class="line-numbers language-java"><code class="language-java">jsize len <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">GetStringLength</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>j_str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// è·å–unicodeå­—ç¬¦ä¸²çš„é•¿åº¦</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"str_len:%d\n"</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> buff<span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello "</span><span class="token punctuation">;</span>
<span class="token keyword">char</span><span class="token operator">*</span> pBuff <span class="token operator">=</span> buff <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// å°†JVMä¸­çš„å­—ç¬¦ä¸²ä»¥utf-8ç¼–ç æ‹·å…¥Cç¼“å†²åŒº,è¯¥å‡½æ•°å†…éƒ¨ä¸ä¼šåˆ†é…å†…å­˜ç©ºé—´</span>
<span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">GetStringUTFRegion</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>j_str<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">,</span>pBuff<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">NewStringUTF</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>buff<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
</ul>
<h2 id="Crashé”™è¯¯å®šä½"><a href="#Crashé”™è¯¯å®šä½" class="headerlink" title="Crashé”™è¯¯å®šä½"></a><a href="https://blog.csdn.net/xyang81/article/details/42319789" target="_blank" rel="noopener">Crashé”™è¯¯å®šä½</a></h2><p><code>sdk\ndk-bundle\toolchains</code>é€‰æ‹©å‡ºåˆ†æå¯¹åº”CPUæ¶æ„çš„soæ–‡ä»¶</p>
<table>
<thead>
<tr>
<th>Toolchain</th>
<th>Location</th>
</tr>
</thead>
<tbody><tr>
<td>arm</td>
<td>$TOOLCHAIN/arm-linux-androideabi/lib/</td>
</tr>
<tr>
<td>arm64</td>
<td>$TOOLCHAIN/aarch64-linux-android/lib/</td>
</tr>
<tr>
<td>x86</td>
<td>$TOOLCHAIN/i686-linux-android/lib/</td>
</tr>
<tr>
<td>x86_64</td>
<td>$TOOLCHAIN/x86_64-linux-android/lib/</td>
</tr>
</tbody></table>
<pre><code> #02 pc 0000242f  /data/app/com.hard.dev.spiproject-C3PjhijiVGgyqX2M1fK3KQ==/lib/arm/libspi-lib.so (will_crash+30)
 #03 pc 0000245b  /data/app/com.hard.dev.spiproject-C3PjhijiVGgyqX2M1fK3KQ==/lib/arm/libspi-lib.so (JNI_OnLoad+18)</code></pre><p>ä¸¤ä½æ•°å­— pcâ€å¼€å¤´çš„éƒ½æ˜¯backtraceæ—¥å¿—<br> 0000242f 0000245bä¸º</p>
<ol>
<li>arm-linux-androideabi-addr2line å®šä½å‡ºé”™ä½ç½®</li>
</ol>
<pre><code>adb pull /data/app/com.hard.dev.spiproject-C3PjhijiVGgyqX2M1fK3KQ==/lib/arm/libspi-lib.so
arm-linux-androideabi-addr2line -e libspi-lib.so 0000242f 0000245b</code></pre><ol start="2">
<li>ä½¿ç”¨arm-linux-androideabi-objdump  å®šä½å‡ºé”™çš„å‡½æ•°ä¿¡æ¯<pre><code>arm-linux-androideabi-objdump -S -D libspi-lib.so &gt; dump.log</code></pre></li>
<li>ndk-stack<pre><code>adb logcat &gt; /tmp/foo.txt
#å…¶ä¸­$PROJECT_PATH/obj/local/armeabi-v7a æŒ‡å®šç”Ÿæˆçš„soåº“è·¯å¾„
$NDK/ndk-stack -sym $PROJECT_PATH/obj/local/armeabi-v7a -dump foo.txt</code></pre>è¾“å‡º <font color="red" face="STCaiyun">Routine</font>åæœ‰æŒ‡æ˜ä¿å­˜æºç ä½ç½®<pre><code>Stack frame #05  pc 00000d1c  /data/app-lib/com.example.hellojni-1/libhello-jni.so (JNI_OnLoad+20):Routine JNI_OnLoad at /samples/hello-jni/jni/hello-jni.c:15</code></pre></li>
</ol>
<h2 id="è®¿é—®æ•°ç»„ï¼ˆåŸºæœ¬ç±»å‹æ•°ç»„ä¸å¯¹è±¡æ•°ç»„ï¼‰"><a href="#è®¿é—®æ•°ç»„ï¼ˆåŸºæœ¬ç±»å‹æ•°ç»„ä¸å¯¹è±¡æ•°ç»„ï¼‰" class="headerlink" title="è®¿é—®æ•°ç»„ï¼ˆåŸºæœ¬ç±»å‹æ•°ç»„ä¸å¯¹è±¡æ•°ç»„ï¼‰"></a><a href="https://blog.csdn.net/xyang81/article/details/42346165" target="_blank" rel="noopener">è®¿é—®æ•°ç»„ï¼ˆåŸºæœ¬ç±»å‹æ•°ç»„ä¸å¯¹è±¡æ•°ç»„ï¼‰</a></h2><h3 id="GetIntArrayRegion-ã€å°é‡çš„ã€å›ºå®šå¤§å°çš„æ•°ç»„ã€‘"><a href="#GetIntArrayRegion-ã€å°é‡çš„ã€å›ºå®šå¤§å°çš„æ•°ç»„ã€‘" class="headerlink" title="GetIntArrayRegion ã€å°é‡çš„ã€å›ºå®šå¤§å°çš„æ•°ç»„ã€‘"></a>GetIntArrayRegion ã€å°é‡çš„ã€å›ºå®šå¤§å°çš„æ•°ç»„ã€‘</h3><p>è¿”å›Intå‹æ•°ç»„çš„å’Œä¾‹å­</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token comment" spellcheck="true">/* DO NOT EDIT THIS FILE - it is machine generated */</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;jni.h></span></span>
<span class="token comment" spellcheck="true">/* Header for class com_study_jnilearn_IntArray */</span>

<span class="token macro property">#<span class="token directive keyword">ifndef</span> _Included_com_study_jnilearn_IntArray</span>
<span class="token macro property">#<span class="token directive keyword">define</span> _Included_com_study_jnilearn_IntArray</span>
<span class="token macro property">#<span class="token directive keyword">ifdef</span> __cplusplus</span>
<span class="token keyword">extern</span> <span class="token string">"C"</span> <span class="token punctuation">{</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>
<span class="token comment" spellcheck="true">/*
 * Class:     com_study_jnilearn_IntArray
 * Method:    sumArray
 * Signature: ([I)I
 */</span>
JNIEXPORT jint JNICALL <span class="token function">Java_com_study_jnilearn_IntArray_sumArray</span>
  <span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span><span class="token punctuation">,</span> jobject<span class="token punctuation">,</span> jintArray<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">ifdef</span> __cplusplus</span>
<span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>

<span class="token comment" spellcheck="true">// IntArray.c</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"com_study_jnilearn_IntArray.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>

<span class="token comment" spellcheck="true">/*
 * Class:     com_study_jnilearn_IntArray
 * Method:    sumArray
 * Signature: ([I)I
 */</span>
JNIEXPORT jint JNICALL <span class="token function">Java_com_study_jnilearn_IntArray_sumArray</span>
<span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> jobject obj<span class="token punctuation">,</span> jintArray j_array<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    jint i<span class="token punctuation">,</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    jint <span class="token operator">*</span>c_array<span class="token punctuation">;</span>
    jint arr_len<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//1. è·å–æ•°ç»„é•¿åº¦</span>
    arr_len <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetArrayLength</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>j_array<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//2. æ ¹æ®æ•°ç»„é•¿åº¦å’Œæ•°ç»„å…ƒç´ çš„æ•°æ®ç±»å‹ç”³è¯·å­˜æ”¾javaæ•°ç»„å…ƒç´ çš„ç¼“å†²åŒº</span>
    c_array <span class="token operator">=</span> <span class="token punctuation">(</span>jint<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>jint<span class="token punctuation">)</span> <span class="token operator">*</span> arr_len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//3. åˆå§‹åŒ–ç¼“å†²åŒº</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>c_array<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>jint<span class="token punctuation">)</span><span class="token operator">*</span>arr_len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"arr_len = %d "</span><span class="token punctuation">,</span> arr_len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//4. æ‹·è´Javaæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ åˆ°ç¼“å†²åŒºä¸­</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetIntArrayRegion</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>j_array<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>arr_len<span class="token punctuation">,</span>c_array<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr_len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sum <span class="token operator">+</span><span class="token operator">=</span> c_array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//5. ç´¯åŠ æ•°ç»„å…ƒç´ çš„å’Œ</span>
    <span class="token punctuation">}</span>
    <span class="token function">free</span><span class="token punctuation">(</span>c_array<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//6. é‡Šæ”¾å­˜å‚¨æ•°ç»„å…ƒç´ çš„ç¼“å†²åŒº</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ä¼˜åŒ–GetIntArrayElements"><a href="#ä¼˜åŒ–GetIntArrayElements" class="headerlink" title="ä¼˜åŒ–GetIntArrayElements"></a>ä¼˜åŒ–GetIntArrayElements</h3><pre class="line-numbers language-c"><code class="language-c">JNIEXPORT jint JNICALL <span class="token function">Java_com_study_jnilearn_IntArray_sumArray2</span>
<span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> jobject obj<span class="token punctuation">,</span> jintArray j_array<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    jint i<span class="token punctuation">,</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    jint <span class="token operator">*</span>c_array<span class="token punctuation">;</span>
    jint arr_len<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// å¯èƒ½æ•°ç»„ä¸­çš„å…ƒç´ åœ¨å†…å­˜ä¸­æ˜¯ä¸è¿ç»­çš„ï¼ŒJVMå¯èƒ½ä¼šå¤åˆ¶æ‰€æœ‰åŸå§‹æ•°æ®åˆ°ç¼“å†²åŒºï¼Œç„¶åè¿”å›è¿™ä¸ªç¼“å†²åŒºçš„æŒ‡é’ˆ</span>
    c_array <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetIntArrayElements</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>j_array<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// NULL JNI_TRUE ç¼“å†²åŒºæ•°ç»„æŒ‡é’ˆ JNI_FALSE åŸå§‹</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c_array <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// JVMå¤åˆ¶åŸå§‹æ•°æ®åˆ°ç¼“å†²åŒºå¤±è´¥</span>
    <span class="token punctuation">}</span>
    arr_len <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetArrayLength</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>j_array<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"arr_len = %d\n"</span><span class="token punctuation">,</span> arr_len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr_len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sum <span class="token operator">+</span><span class="token operator">=</span> c_array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ReleaseIntArrayElements</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>j_array<span class="token punctuation">,</span> c_array<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// é‡Šæ”¾å¯èƒ½å¤åˆ¶çš„ç¼“å†²åŒº</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="GetIntArrayElements-ç¼ºç‚¹"><a href="#GetIntArrayElements-ç¼ºç‚¹" class="headerlink" title="GetIntArrayElements ç¼ºç‚¹"></a>GetIntArrayElements ç¼ºç‚¹</h3><ul>
<li>æœ‰å¯èƒ½åœ¨ç”³è¯·å¼€è¾Ÿä¸´æ—¶ç¼“å†²åŒºå†…å­˜ç©ºé—´æ—¶ï¼Œä¼šå†…å­˜ä¸è¶³å¯¼è‡´ç”³è¯·å¤±è´¥ï¼Œè¿”å›NULL</li>
<li>GCå ç”¨å¯¹è±¡é”ï¼Œå¯¼è‡´æœ¬åœ°çº¿ç¨‹ä¸€ç›´å µå¡</li>
</ul>
<h3 id="Get-ReleasePrimitiveArrayCritical-æš‚åœGC"><a href="#Get-ReleasePrimitiveArrayCritical-æš‚åœGC" class="headerlink" title="Get/ReleasePrimitiveArrayCritical æš‚åœGC"></a>Get/ReleasePrimitiveArrayCritical æš‚åœGC</h3><ul>
<li>ç‰¹ç‚¹ï¼šåœ°ä»£ç åœ¨è®¿é—®æ•°ç»„å¯¹è±¡æ—¶ä¼šæš‚åœGCçº¿ç¨‹</li>
<li>æ³¨æ„ï¼šä¸¤ä¸ªå‡½æ•°æœŸé—´ä¸èƒ½è°ƒç”¨ä»»ä½•ä¼šè®©çº¿ç¨‹é˜»å¡æˆ–ç­‰å¾…JVMä¸­å…¶å®ƒçº¿ç¨‹çš„æœ¬åœ°å‡½æ•°æˆ–JNIå‡½æ•°</li>
</ul>
<h2 id="å¯¹è±¡æ•°ç»„"><a href="#å¯¹è±¡æ•°ç»„" class="headerlink" title="å¯¹è±¡æ•°ç»„"></a>å¯¹è±¡æ•°ç»„</h2><h3 id="Get-SetObjectArrayElement"><a href="#Get-SetObjectArrayElement" class="headerlink" title="Get/SetObjectArrayElement"></a>Get/SetObjectArrayElement</h3><p>æ¡ˆä¾‹ï¼šObjectArray.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>study<span class="token punctuation">.</span>jnilearn<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ObjectArray</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">native</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">initInt2DArray</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ObjectArray obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">initInt2DArray</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"arr[%d][%d] = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span><span class="token function">loadLibrary</span><span class="token punctuation">(</span><span class="token string">"ObjectArray"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Cè¯­è¨€</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token comment" spellcheck="true">/* DO NOT EDIT THIS FILE - it is machine generated */</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;jni.h></span></span>
<span class="token comment" spellcheck="true">/* Header for class com_study_jnilearn_ObjectArray */</span>

<span class="token macro property">#<span class="token directive keyword">ifndef</span> _Included_com_study_jnilearn_ObjectArray</span>
<span class="token macro property">#<span class="token directive keyword">define</span> _Included_com_study_jnilearn_ObjectArray</span>
<span class="token macro property">#<span class="token directive keyword">ifdef</span> __cplusplus</span>
<span class="token keyword">extern</span> <span class="token string">"C"</span> <span class="token punctuation">{</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>
<span class="token comment" spellcheck="true">/*
 * Class:     com_study_jnilearn_ObjectArray
 * Method:    initInt2DArray
 * Signature: (I)[[I
 */</span>
JNIEXPORT jobjectArray JNICALL <span class="token function">Java_com_study_jnilearn_ObjectArray_initInt2DArray</span>
  <span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span><span class="token punctuation">,</span> jobject<span class="token punctuation">,</span> jint<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">ifdef</span> __cplusplus</span>
<span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>


<span class="token comment" spellcheck="true">// ObjectArray.c</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"com_study_jnilearn_ObjectArray.h"</span></span>
<span class="token comment" spellcheck="true">/*
 * Class:     com_study_jnilearn_ObjectArray
 * Method:    initInt2DArray
 * Signature: (I)[[I
 */</span>
JNIEXPORT jobjectArray JNICALL <span class="token function">Java_com_study_jnilearn_ObjectArray_initInt2DArray</span>
  <span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> jobject obj<span class="token punctuation">,</span> jint size<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    jobjectArray result<span class="token punctuation">;</span>
    jclass clsIntArray<span class="token punctuation">;</span>
    jint i<span class="token punctuation">,</span>j<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 1.è·å¾—ä¸€ä¸ªintå‹äºŒç»´æ•°ç»„ç±»çš„å¼•ç”¨</span>
    clsIntArray <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">FindClass</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span><span class="token string">"[I"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//"[I" JNI class descript</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>clsIntArray <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">// 2.åˆ›å»ºä¸€ä¸ªæ•°ç»„å¯¹è±¡ï¼ˆé‡Œé¢æ¯ä¸ªå…ƒç´ ç”¨clsIntArrayè¡¨ç¤ºï¼‰</span>
    <span class="token comment" spellcheck="true">// è¯´æ˜ï¼š å‡½æ•°NewObjectArrayåªèƒ½åˆ†é…ç¬¬ä¸€ç»´ï¼ŒJVMæ²¡æœ‰ä¸å¤šç»´æ•°ç»„ç›¸å¯¹åº”çš„æ•°æ®ç»“æ„ï¼ŒJNIä¹Ÿæ²¡æœ‰æä¾›ç±»ä¼¼çš„å‡½æ•°æ¥åˆ›å»ºäºŒç»´æ•°ç»„</span>
    result <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">NewObjectArray</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>size<span class="token punctuation">,</span>clsIntArray<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 3.ä¸ºæ•°ç»„å…ƒç´ èµ‹å€¼</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        jint buff<span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        jintArray intArr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">NewIntArray</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>intArr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            buff<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> j<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment" spellcheck="true">//æŠŠbuff[]ç¼“å†²ä¸­çš„å†…å®¹å¤åˆ¶åˆ°æ–°åˆ†é…çš„ä¸€ç»´æ•°ç»„ä¸­</span>
        <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">SetIntArrayRegion</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>intArr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>size<span class="token punctuation">,</span>buff<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">SetObjectArrayElement</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>result<span class="token punctuation">,</span> i<span class="token punctuation">,</span> intArr<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token comment" spellcheck="true">//é¿å…åœ¨å¾ªç¯å†…åˆ›å»ºå¤§é‡çš„JNIå±€éƒ¨å¼•ç”¨ï¼Œé€ æˆJNIå¼•ç”¨è¡¨æº¢å‡º</span>
        <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>intArr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> result<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="JVMå¼•ç”¨"><a href="#JVMå¼•ç”¨" class="headerlink" title="JVMå¼•ç”¨"></a>JVMå¼•ç”¨</h3><p> åœ¨JNIä¸­ï¼Œåªæœ‰jobjectä»¥åŠå­ç±»å±äºå¼•ç”¨å˜é‡ï¼Œä¼šå ç”¨å¼•ç”¨è¡¨çš„ç©ºé—´ï¼Œjintï¼Œjfloatï¼Œjbooleanç­‰éƒ½æ˜¯åŸºæœ¬ç±»å‹å˜é‡ï¼Œä¸ä¼šå ç”¨å¼•ç”¨è¡¨ç©ºé—´ï¼Œå³ä¸éœ€è¦é‡Šæ”¾ã€‚å¼•ç”¨è¡¨æœ€å¤§ç©ºé—´ä¸º512ä¸ªï¼Œå¦‚æœè¶…å‡ºè¿™ä¸ªèŒƒå›´ï¼ŒJVMå°±ä¼šæŒ‚æ‰ã€‚</p>
<h2 id="C-C-è®¿é—®Javaå®ä¾‹æ–¹æ³•å’Œé™æ€æ–¹æ³•"><a href="#C-C-è®¿é—®Javaå®ä¾‹æ–¹æ³•å’Œé™æ€æ–¹æ³•" class="headerlink" title="C/C++è®¿é—®Javaå®ä¾‹æ–¹æ³•å’Œé™æ€æ–¹æ³•"></a><a href="https://blog.csdn.net/xyang81/article/details/42582213" target="_blank" rel="noopener">C/C++è®¿é—®Javaå®ä¾‹æ–¹æ³•å’Œé™æ€æ–¹æ³•</a></h2><h3 id="å®æˆ˜æ¡ˆä¾‹"><a href="#å®æˆ˜æ¡ˆä¾‹" class="headerlink" title="å®æˆ˜æ¡ˆä¾‹"></a>å®æˆ˜æ¡ˆä¾‹</h3><p><strong>AccessMethod.java</strong></p>
<pre class="line-numbers language-c"><code class="language-c">package com<span class="token punctuation">.</span>study<span class="token punctuation">.</span>jnilearn<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
 * AccessMethod.java
 * æœ¬åœ°ä»£ç è®¿é—®ç±»çš„å®ä¾‹æ–¹æ³•å’Œé™æ€æ–¹æ³•
 * @author yangxin
 */</span>
public class AccessMethod <span class="token punctuation">{</span>

    public <span class="token keyword">static</span> native <span class="token keyword">void</span> <span class="token function">callJavaStaticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    public <span class="token keyword">static</span> native <span class="token keyword">void</span> <span class="token function">callJavaInstaceMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    public <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">callJavaStaticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">callJavaInstaceMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span><span class="token function">loadLibrary</span><span class="token punctuation">(</span><span class="token string">"AccessMethod"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>ClassMethod.java</strong></p>
<pre class="line-numbers language-c"><code class="language-c">package com<span class="token punctuation">.</span>study<span class="token punctuation">.</span>jnilearn<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
 * ClassMethod.java
 * ç”¨äºæœ¬åœ°ä»£ç è°ƒç”¨
 * @author yangxin
 */</span>
public class ClassMethod <span class="token punctuation">{</span>

    private <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">callStaticMethod</span><span class="token punctuation">(</span>String str<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"ClassMethod::callStaticMethod called!-->str=%s,"</span> <span class="token operator">+</span>
                <span class="token string">" i=%d\n"</span><span class="token punctuation">,</span> str<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    private <span class="token keyword">void</span> <span class="token function">callInstanceMethod</span><span class="token punctuation">(</span>String str<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"ClassMethod::callInstanceMethod called!-->str=%s, "</span> <span class="token operator">+</span>
                <span class="token string">"i=%d\n"</span><span class="token punctuation">,</span> str<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Jni æºç </p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token comment" spellcheck="true">// AccessMethod.c</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"com_study_jnilearn_AccessMethod.h"</span></span>

<span class="token comment" spellcheck="true">/*
 * Class:     com_study_jnilearn_AccessMethod
 * Method:    callJavaStaticMethod
 * Signature: ()V
 */</span>
JNIEXPORT <span class="token keyword">void</span> JNICALL <span class="token function">Java_com_study_jnilearn_AccessMethod_callJavaStaticMethod</span>
<span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> jclass cls<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    jclass clazz <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    jstring str_arg <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    jmethodID mid_static_method<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 1ã€ä»classpathè·¯å¾„ä¸‹æœç´¢ClassMethodè¿™ä¸ªç±»ï¼Œå¹¶è¿”å›è¯¥ç±»çš„Classå¯¹è±¡</span>
    clazz <span class="token operator">=</span><span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">FindClass</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span><span class="token string">"com/study/jnilearn/ClassMethod"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>clazz <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 2ã€ä»clazzç±»ä¸­æŸ¥æ‰¾callStaticMethodæ–¹æ³•</span>
    mid_static_method <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetStaticMethodID</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>clazz<span class="token punctuation">,</span><span class="token string">"callStaticMethod"</span><span class="token punctuation">,</span><span class="token string">"(Ljava/lang/String;I)V"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid_static_method <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ‰¾ä¸åˆ°callStaticMethodè¿™ä¸ªé™æ€æ–¹æ³•ã€‚"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 3ã€è°ƒç”¨clazzç±»çš„callStaticMethodé™æ€æ–¹æ³•</span>
    str_arg <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">NewStringUTF</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span><span class="token string">"æˆ‘æ˜¯é™æ€æ–¹æ³•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">CallStaticVoidMethod</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>clazz<span class="token punctuation">,</span>mid_static_method<span class="token punctuation">,</span> str_arg<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// åˆ é™¤å±€éƒ¨å¼•ç”¨</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>clazz<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>str_arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/*
 * Class:     com_study_jnilearn_AccessMethod
 * Method:    callJavaInstaceMethod
 * Signature: ()V
 */</span>
JNIEXPORT <span class="token keyword">void</span> JNICALL <span class="token function">Java_com_study_jnilearn_AccessMethod_callJavaInstaceMethod</span>
<span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> jclass cls<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    jclass clazz <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    jobject jobj <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    jmethodID mid_construct <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    jmethodID mid_instance <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    jstring str_arg <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 1ã€ä»classpathè·¯å¾„ä¸‹æœç´¢ClassMethodè¿™ä¸ªç±»ï¼Œå¹¶è¿”å›è¯¥ç±»çš„Classå¯¹è±¡</span>
    clazz <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">FindClass</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> <span class="token string">"com/study/jnilearn/ClassMethod"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>clazz <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ‰¾ä¸åˆ°'com.study.jnilearn.ClassMethod'è¿™ä¸ªç±»"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 2ã€è·å–ç±»çš„é»˜è®¤æ„é€ æ–¹æ³•ID</span>
    mid_construct <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetMethodID</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>clazz<span class="token punctuation">,</span> <span class="token string">"&lt;init>"</span><span class="token punctuation">,</span><span class="token string">"()V"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid_construct <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ‰¾ä¸åˆ°é»˜è®¤çš„æ„é€ æ–¹æ³•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 3ã€æŸ¥æ‰¾å®ä¾‹æ–¹æ³•çš„ID</span>
    mid_instance <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetMethodID</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> clazz<span class="token punctuation">,</span> <span class="token string">"callInstanceMethod"</span><span class="token punctuation">,</span> <span class="token string">"(Ljava/lang/String;I)V"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid_instance <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 4ã€åˆ›å»ºè¯¥ç±»çš„å®ä¾‹</span>
    jobj <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">NewObject</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>clazz<span class="token punctuation">,</span>mid_construct<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>jobj <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"åœ¨com.study.jnilearn.ClassMethodç±»ä¸­æ‰¾ä¸åˆ°callInstanceMethodæ–¹æ³•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 5ã€è°ƒç”¨å¯¹è±¡çš„å®ä¾‹æ–¹æ³•</span>
    str_arg <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">NewStringUTF</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span><span class="token string">"æˆ‘æ˜¯å®ä¾‹æ–¹æ³•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">CallVoidMethod</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>jobj<span class="token punctuation">,</span>mid_instance<span class="token punctuation">,</span>str_arg<span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// åˆ é™¤å±€éƒ¨å¼•ç”¨</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>clazz<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>jobj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>str_arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="callJavaStaticMethodé™æ€æ–¹æ³•å®ç°è¯´æ˜"><a href="#callJavaStaticMethodé™æ€æ–¹æ³•å®ç°è¯´æ˜" class="headerlink" title="callJavaStaticMethodé™æ€æ–¹æ³•å®ç°è¯´æ˜"></a>callJavaStaticMethodé™æ€æ–¹æ³•å®ç°è¯´æ˜</h3><p>++void (JNICALL *CallStaticVoidMethod)(JNIEnv *env, jclass cls, jmethodID methodID, â€¦);++</p>
<ul>
<li>envï¼šJNIå‡½æ•°è¡¨æŒ‡é’ˆ</li>
<li>clsï¼šè°ƒç”¨è¯¥é™æ€æ–¹æ³•çš„Classå¯¹è±¡</li>
<li>methodIDï¼šæ–¹æ³•å”¯ä¸€ID</li>
<li>â€¦ å‚æ•°4ï¼šæ–¹æ³•å®å‚åˆ—è¡¨  </li>
</ul>
<p>å…¶ä»–æ–¹æ³•</p>
<ul>
<li>CallStaticXXXMethod<blockquote>
<p>CallStaticIntMethodã€CallStaticFloatMethodã€CallStaticShortMethodã€CallStaticObjectMethod</p>
</blockquote>
</li>
</ul>
<h3 id="callInstanceMethodå®ä¾‹æ–¹æ³•å®ç°è¯´æ˜"><a href="#callInstanceMethodå®ä¾‹æ–¹æ³•å®ç°è¯´æ˜" class="headerlink" title="callInstanceMethodå®ä¾‹æ–¹æ³•å®ç°è¯´æ˜"></a>callInstanceMethodå®ä¾‹æ–¹æ³•å®ç°è¯´æ˜</h3><p>++void (JNICALL *CallVoidMethod) (JNIEnv *env, jobject obj, jmethodID methodID, â€¦);++</p>
<ul>
<li>envï¼šJNIå‡½æ•°è¡¨æŒ‡é’ˆ</li>
<li>objï¼šè°ƒç”¨è¯¥æ–¹æ³•çš„å®ä¾‹ ã€äºä¸Šä¸åŒã€‘</li>
<li>methodIDï¼šæ–¹æ³•å”¯ä¸€ID</li>
<li>â€¦ å‚æ•°4ï¼šæ–¹æ³•å®å‚åˆ—è¡¨  </li>
</ul>
<h4 id="ç›¸å…³çš„å‡½æ•°CallXXXMethod"><a href="#ç›¸å…³çš„å‡½æ•°CallXXXMethod" class="headerlink" title="ç›¸å…³çš„å‡½æ•°CallXXXMethod"></a>ç›¸å…³çš„å‡½æ•°CallXXXMethod</h4><blockquote>
<p>ï¼ˆCallXXXMethodï¼‰ï¼Œå¦‚ï¼šCallIntMethodã€CallFloatMethodã€CallObjectMethodç­‰</p>
</blockquote>
<h3 id="æ–¹æ³•ç­¾å"><a href="#æ–¹æ³•ç­¾å" class="headerlink" title="æ–¹æ³•ç­¾å"></a>æ–¹æ³•ç­¾å</h3><p>fadfaf</p>
<h4 id="æ–¹æ³•ç­¾åçš„æ ¼å¼"><a href="#æ–¹æ³•ç­¾åçš„æ ¼å¼" class="headerlink" title="æ–¹æ³•ç­¾åçš„æ ¼å¼"></a>æ–¹æ³•ç­¾åçš„æ ¼å¼</h4><p><img src="http://cdn.linz.tech/jni_argments_method.png" alt=""></p>
<h4 id="åŸºæœ¬ç±»å‹æ˜ å°„å…³ç³»"><a href="#åŸºæœ¬ç±»å‹æ˜ å°„å…³ç³»" class="headerlink" title="åŸºæœ¬ç±»å‹æ˜ å°„å…³ç³»"></a>åŸºæœ¬ç±»å‹æ˜ å°„å…³ç³»</h4><p><img src="http://cdn.linz.tech/jni_field_descriptor.png" alt=""></p>
<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ul>
<li>è·å–æ„é€ æ–¹æ³•IDï¼Œæ–¹æ³•åç§°ä½¿ç”¨â€<init>â€œ</init></li>
</ul>
<h2 id="C-C-è®¿é—®Javaå®ä¾‹Fieldå’Œstatic-Field"><a href="#C-C-è®¿é—®Javaå®ä¾‹Fieldå’Œstatic-Field" class="headerlink" title="C/C++è®¿é—®Javaå®ä¾‹Fieldå’Œstatic Field"></a><a href="https://blog.csdn.net/xyang81/article/details/42836783" target="_blank" rel="noopener">C/C++è®¿é—®Javaå®ä¾‹Fieldå’Œstatic Field</a></h2><blockquote>
<p>C/C++ä»£ç ä¸­å¯ä»¥è®¿é—®ä»»æ„Javaç±»ä¸­çš„å±æ€§</p>
</blockquote>
<h3 id="å®æˆ˜Demo"><a href="#å®æˆ˜Demo" class="headerlink" title="å®æˆ˜Demo"></a>å®æˆ˜Demo</h3><p>AccessField.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>study<span class="token punctuation">.</span>jnilearn<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
 * C/C++è®¿é—®ç±»çš„å®ä¾‹å˜é‡å’Œé™æ€å˜é‡
 * @author yangxin
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccessField</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">native</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">accessInstanceField</span><span class="token punctuation">(</span>ClassField obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">native</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">accessStaticField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ClassField obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        obj<span class="token punctuation">.</span><span class="token function">setNum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        obj<span class="token punctuation">.</span><span class="token function">setStr</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// æœ¬åœ°ä»£ç è®¿é—®å’Œä¿®æ”¹ClassFieldä¸ºä¸­çš„é™æ€å±æ€§num</span>
        <span class="token function">accessStaticField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">accessInstanceField</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// è¾“å‡ºæœ¬åœ°ä»£ç ä¿®æ”¹è¿‡åçš„å€¼</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"In Java--->ClassField.num = "</span> <span class="token operator">+</span> obj<span class="token punctuation">.</span><span class="token function">getNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"In Java--->ClassField.str = "</span> <span class="token operator">+</span> obj<span class="token punctuation">.</span><span class="token function">getStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span><span class="token function">loadLibrary</span><span class="token punctuation">(</span><span class="token string">"AccessField"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ClassField.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>study<span class="token punctuation">.</span>jnilearn<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/**
 * ClassField.java
 * ç”¨äºæœ¬åœ°ä»£ç è®¿é—®å’Œä¿®æ”¹è¯¥ç±»çš„å±æ€§
 * @author yangxin
 *
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClassField</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> num<span class="token punctuation">;</span>

    <span class="token keyword">private</span> String str<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> num<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setNum</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ClassField<span class="token punctuation">.</span>num <span class="token operator">=</span> num<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> String <span class="token function">getStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setStr</span><span class="token punctuation">(</span>String str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>str <span class="token operator">=</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Native ä»£ç </p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token comment" spellcheck="true">// AccessField.c</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"com_study_jnilearn_AccessField.h"</span></span>

<span class="token comment" spellcheck="true">/*
 * Class:     com_study_jnilearn_AccessField
 * Method:    accessInstanceField
 * Signature: ()V
 */</span>
JNIEXPORT <span class="token keyword">void</span> JNICALL <span class="token function">Java_com_study_jnilearn_AccessField_accessInstanceField</span>
<span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> jclass cls<span class="token punctuation">,</span> jobject obj<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    jclass clazz<span class="token punctuation">;</span>
    jfieldID fid<span class="token punctuation">;</span>
    jstring j_str<span class="token punctuation">;</span>
    jstring j_newStr<span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>c_str <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// 1.è·å–AccessFieldç±»çš„Classå¼•ç”¨</span>
    clazz <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetObjectClass</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>clazz <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 2. è·å–AccessFieldç±»å®ä¾‹å˜é‡strçš„å±æ€§ID</span>
    fid <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetFieldID</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>clazz<span class="token punctuation">,</span><span class="token string">"str"</span><span class="token punctuation">,</span> <span class="token string">"Ljava/lang/String;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>clazz <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 3. è·å–å®ä¾‹å˜é‡strçš„å€¼</span>
    j_str <span class="token operator">=</span> <span class="token punctuation">(</span>jstring<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetObjectField</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>obj<span class="token punctuation">,</span>fid<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// 4. å°†unicodeç¼–ç çš„javaå­—ç¬¦ä¸²è½¬æ¢æˆCé£æ ¼å­—ç¬¦ä¸²</span>
    c_str <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetStringUTFChars</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>j_str<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c_str <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"In C--->ClassField.str = %s\n"</span><span class="token punctuation">,</span> c_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ReleaseStringUTFChars</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> j_str<span class="token punctuation">,</span> c_str<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// 5. ä¿®æ”¹å®ä¾‹å˜é‡strçš„å€¼</span>
    j_newStr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">NewStringUTF</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> <span class="token string">"This is C String"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>j_newStr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">SetObjectField</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> fid<span class="token punctuation">,</span> j_newStr<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// 6.åˆ é™¤å±€éƒ¨å¼•ç”¨</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> clazz<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> j_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> j_newStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/*
 * Class:     com_study_jnilearn_AccessField
 * Method:    accessStaticField
 * Signature: ()V
 */</span>
JNIEXPORT <span class="token keyword">void</span> JNICALL <span class="token function">Java_com_study_jnilearn_AccessField_accessStaticField</span>
<span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> jclass cls<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    jclass clazz<span class="token punctuation">;</span>
    jfieldID fid<span class="token punctuation">;</span>
    jint num<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//1.è·å–ClassFieldç±»çš„Classå¼•ç”¨</span>
    clazz <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">FindClass</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span><span class="token string">"com/study/jnilearn/ClassField"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>clazz <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// é”™è¯¯å¤„ç†</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">//2.è·å–ClassFieldç±»é™æ€å˜é‡numçš„å±æ€§ID</span>
    fid <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetStaticFieldID</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> clazz<span class="token punctuation">,</span> <span class="token string">"num"</span><span class="token punctuation">,</span> <span class="token string">"I"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>fid <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 3.è·å–é™æ€å˜é‡numçš„å€¼</span>
    num <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetStaticIntField</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>clazz<span class="token punctuation">,</span>fid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"In C--->ClassField.num = %d\n"</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// 4.ä¿®æ”¹é™æ€å˜é‡numçš„å€¼</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">SetStaticIntField</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> clazz<span class="token punctuation">,</span> fid<span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// åˆ é™¤å±éƒ¨å¼•ç”¨</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>clazz<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="è®¿é—®å®ä¾‹Field"><a href="#è®¿é—®å®ä¾‹Field" class="headerlink" title="è®¿é—®å®ä¾‹Field"></a>è®¿é—®å®ä¾‹Field</h3><h4 id="GetXXField"><a href="#GetXXField" class="headerlink" title="GetXXField"></a>GetXXField</h4><blockquote>
<p>GetIntFieldï¼ŒGetFloatFieldï¼ŒGetDoubleFieldï¼ŒGetBooleanFieldç­‰</p>
</blockquote>
<pre><code>jobject (JNICALL *GetObjectField) (JNIEnv *env, jobject obj, jfieldID fieldID);</code></pre><ul>
<li>envæ˜¯JNIå‡½æ•°è¡¨æŒ‡é’ˆ</li>
<li>objæ˜¯å®ä¾‹å˜é‡æ‰€å±çš„å¯¹è±¡</li>
<li>fieldIDæ˜¯å˜é‡çš„ID  </li>
</ul>
<p>ç±»æ¯”Javaåå°„</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>
    ClassField obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token punctuation">.</span><span class="token function">setStr</span><span class="token punctuation">(</span><span class="token string">"YangXin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// è·å–ClassFieldå­—èŠ‚ç å¯¹è±¡çš„Classå¼•ç”¨</span>
    Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span> clazz <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment" spellcheck="true">// è·å–strå±æ€§</span>
    Field field <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">"str"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// å–æ¶ˆæƒé™æ£€æŸ¥ï¼Œå› ä¸ºJavaè¯­æ³•è§„å®šï¼Œépublicå±æ€§æ˜¯æ— æ³•åœ¨å¤–éƒ¨è®¿é—®çš„</span>
    field<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// è·å–objå¯¹è±¡ä¸­çš„strå±æ€§çš„å€¼</span>
    String str <span class="token operator">=</span> <span class="token punctuation">(</span>String<span class="token punctuation">)</span>field<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"str = "</span> <span class="token operator">+</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Jniçš„æ­¥éª¤</p>
<pre><code>clazz = (*env)-&gt;GetObjectClass(env,obj);
fid = (*env)-&gt;GetFieldID(env,clazz,"str", "Ljava/lang/String;");
j_str = (jstring)(*env)-&gt;GetObjectField(env,obj,fid);
//ä¿®æ”¹å®ä¾‹å±æ€§çš„å€¼ä¸ºj_newStr
(*env)-&gt;SetObjectField(env, obj, fid, j_newStr);</code></pre><p>++SetObjectField++ ç±»ä¼¼çš„æœ‰<code>SetIntFieldã€SetDoubleFieldã€SetBooleanFieldç­‰</code></p>
<h3 id="è®¿é—®é™æ€å˜é‡"><a href="#è®¿é—®é™æ€å˜é‡" class="headerlink" title="è®¿é—®é™æ€å˜é‡"></a>è®¿é—®é™æ€å˜é‡</h3><pre><code>// 3.è·å–é™æ€å˜é‡numçš„å€¼
num = (*env)-&gt;GetStaticIntField(env,clazz,fid);
// 4.ä¿®æ”¹é™æ€å˜é‡numçš„å€¼
(*env)-&gt;SetStaticIntField(env, clazz, fid, 80);</code></pre><h2 id="è°ƒç”¨æ„é€ æ–¹æ³•å’Œçˆ¶ç±»å®ä¾‹æ–¹æ³•"><a href="#è°ƒç”¨æ„é€ æ–¹æ³•å’Œçˆ¶ç±»å®ä¾‹æ–¹æ³•" class="headerlink" title="è°ƒç”¨æ„é€ æ–¹æ³•å’Œçˆ¶ç±»å®ä¾‹æ–¹æ³•"></a><a href="https://blog.csdn.net/xyang81/article/details/44002089" target="_blank" rel="noopener">è°ƒç”¨æ„é€ æ–¹æ³•å’Œçˆ¶ç±»å®ä¾‹æ–¹æ³•</a></h2><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><p>Javaä»£ç </p>
<pre><code>// Animal.java
package com.study.jnilearn;
public class Animal {

    protected String name;

    public Animal(String name) {
        this.name = name;
        System.out.println("Animal Construct call...");
    }

    public String getName() {
        System.out.println("Animal.getName Call...");
        return this.name;
    }

    public void run() {
        System.out.println("Animal.run...");
    }   
}

// Cat.java
package com.study.jnilearn;
public class Cat extends Animal {

    public Cat(String name) {
        super(name);
        System.out.println("Cat Construct call....");
    }

    @Override
    public String getName() {
        return "My name is " + this.name;
    }

    @Override
    public void run() {
        System.out.println(name + " Cat.run...");
    }
}

// AccessSuperMethod.java
package com.study.jnilearn;
public class AccessSuperMethod {

    public native static void callSuperInstanceMethod(); 

    public static void main(String[] args) {
        callSuperInstanceMethod();
    }

    static {
        System.loadLibrary("AccessSuperMethod");
    }
}</code></pre><p>AccessSuperMethod.c</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token comment" spellcheck="true">// AccessSuperMethod.c</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"com_study_jnilearn_AccessSuperMethod.h"</span></span>

JNIEXPORT <span class="token keyword">void</span> JNICALL <span class="token function">Java_com_study_jnilearn_AccessSuperMethod_callSuperInstanceMethod</span>
  <span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> jclass cls<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    jclass cls_cat<span class="token punctuation">;</span>
    jclass cls_animal<span class="token punctuation">;</span>
    jmethodID mid_cat_init<span class="token punctuation">;</span>
    jmethodID mid_run<span class="token punctuation">;</span>
    jmethodID mid_getName<span class="token punctuation">;</span>
    jstring c_str_name<span class="token punctuation">;</span>
    jobject obj_cat<span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>name <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// 1ã€è·å–Catç±»çš„classå¼•ç”¨</span>
    cls_cat <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">FindClass</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> <span class="token string">"com/study/jnilearn/Cat"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cls_cat <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 2ã€è·å–Catçš„æ„é€ æ–¹æ³•ID(æ„é€ æ–¹æ³•çš„åç»Ÿä¸€ä¸ºï¼š&lt;init>)</span>
    mid_cat_init <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetMethodID</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> cls_cat<span class="token punctuation">,</span> <span class="token string">"&lt;init>"</span><span class="token punctuation">,</span> <span class="token string">"(Ljava/lang/String;)V"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid_cat_init <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ²¡æœ‰æ‰¾åˆ°åªæœ‰ä¸€ä¸ªå‚æ•°ä¸ºStringçš„æ„é€ æ–¹æ³•</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 3ã€åˆ›å»ºä¸€ä¸ªStringå¯¹è±¡ï¼Œä½œä¸ºæ„é€ æ–¹æ³•çš„å‚æ•°</span>
    c_str_name <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">NewStringUTF</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> <span class="token string">"æ±¤å§†çŒ«"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c_str_name <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// åˆ›å»ºå­—ç¬¦ä¸²å¤±è´¥ï¼ˆå†…å­˜ä¸å¤Ÿï¼‰</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">//  4ã€åˆ›å»ºCatå¯¹è±¡çš„å®ä¾‹(è°ƒç”¨å¯¹è±¡çš„æ„é€ æ–¹æ³•å¹¶åˆå§‹åŒ–å¯¹è±¡)</span>
    obj_cat <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">NewObject</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>cls_cat<span class="token punctuation">,</span> mid_cat_init<span class="token punctuation">,</span>c_str_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj_cat <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">//-------------- 5ã€è°ƒç”¨Catçˆ¶ç±»Animalçš„runå’ŒgetNameæ–¹æ³• --------------</span>
    cls_animal <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">FindClass</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> <span class="token string">"com/study/jnilearn/Animal"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cls_animal <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// ä¾‹1ï¼š è°ƒç”¨çˆ¶ç±»çš„runæ–¹æ³•</span>
    mid_run <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetMethodID</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> cls_animal<span class="token punctuation">,</span> <span class="token string">"run"</span><span class="token punctuation">,</span> <span class="token string">"()V"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// è·å–çˆ¶ç±»Animalä¸­runæ–¹æ³•çš„id</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid_run <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// æ³¨æ„ï¼šobj_catæ˜¯Catçš„å®ä¾‹ï¼Œcls_animalæ˜¯Animalçš„Classå¼•ç”¨ï¼Œmid_runæ˜¯Animalç±»ä¸­çš„æ–¹æ³•ID</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">CallNonvirtualVoidMethod</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> obj_cat<span class="token punctuation">,</span> cls_animal<span class="token punctuation">,</span> mid_run<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// ä¾‹2ï¼šè°ƒç”¨çˆ¶ç±»çš„getNameæ–¹æ³•</span>
    <span class="token comment" spellcheck="true">// è·å–çˆ¶ç±»Animalä¸­getNameæ–¹æ³•çš„id</span>
    mid_getName <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetMethodID</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> cls_animal<span class="token punctuation">,</span> <span class="token string">"getName"</span><span class="token punctuation">,</span> <span class="token string">"()Ljava/lang/String;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid_getName <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    c_str_name <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">CallNonvirtualObjectMethod</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> obj_cat<span class="token punctuation">,</span> cls_animal<span class="token punctuation">,</span> mid_getName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    name <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetStringUTFChars</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> c_str_name<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"In C: Animal Name is %s\n"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// é‡Šæ”¾ä»javaå±‚è·å–åˆ°çš„å­—ç¬¦ä¸²æ‰€åˆ†é…çš„å†…å­˜</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ReleaseStringUTFChars</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> c_str_name<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

quit<span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true">// åˆ é™¤å±€éƒ¨å¼•ç”¨ï¼ˆjobjectæˆ–jobjectçš„å­ç±»æ‰å±äºå¼•ç”¨å˜é‡ï¼‰ï¼Œå…è®¸VMé‡Šæ”¾è¢«å±€éƒ¨å˜é‡æ‰€å¼•ç”¨çš„èµ„æº</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> cls_cat<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> cls_animal<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> c_str_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> obj_cat<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="JNIè°ƒç”¨æ€§èƒ½æµ‹è¯•åŠä¼˜åŒ–"><a href="#JNIè°ƒç”¨æ€§èƒ½æµ‹è¯•åŠä¼˜åŒ–" class="headerlink" title="JNIè°ƒç”¨æ€§èƒ½æµ‹è¯•åŠä¼˜åŒ–"></a>JNIè°ƒç”¨æ€§èƒ½æµ‹è¯•åŠä¼˜åŒ–</h2><h3 id="æ€§èƒ½æµ‹è¯•çš„ç»“è®º"><a href="#æ€§èƒ½æµ‹è¯•çš„ç»“è®º" class="headerlink" title="æ€§èƒ½æµ‹è¯•çš„ç»“è®º"></a>æ€§èƒ½æµ‹è¯•çš„ç»“è®º</h3><ul>
<li>ç©ºæ–¹æ³•è°ƒç”¨ï¼ŒJNIçš„æ€§èƒ½å°±è¦æ¯”Javaå†…éƒ¨è°ƒç”¨æ…¢å°†è¿‘5å€</li>
<li>æŸ¥æ‰¾classå’ŒID(å±æ€§å’Œæ–¹æ³•ID)æ¶ˆè€—çš„æ—¶é—´æ¯”è¾ƒå¤§-&gt;å¦‚æœæ¯æ¬¡éƒ½æ ¹æ®åç§°æŸ¥æ‰¾classå’Œfieldçš„è¯ï¼Œæ€§èƒ½è¦ä¸‹é™é«˜è¾¾40å€ï¼Œåå¤è°ƒç”¨ç”šè‡³èƒ½åˆ°è¾¾ç™¾ä¸‡çº§åˆ«<ul>
<li>æ¶ˆè€—æ—¶é—´æœ€å¤šçš„å°±æ˜¯æŸ¥æ‰¾class</li>
<li>nativeé‡Œä¿å­˜classå’Œmember idæ˜¯å¾ˆæœ‰å¿…è¦çš„</li>
<li>classå’Œmember idåœ¨ä¸€å®šèŒƒå›´å†…æ˜¯ç¨³å®šçš„ï¼Œä½†åœ¨åŠ¨æ€åŠ è½½çš„class loaderä¸‹ï¼Œä¿å­˜å…¨å±€çš„classè¦ä¹ˆå¯èƒ½å¤±æ•ˆ<h3 id="ä½¿ç”¨æ—¶ç¼“å­˜"><a href="#ä½¿ç”¨æ—¶ç¼“å­˜" class="headerlink" title="ä½¿ç”¨æ—¶ç¼“å­˜"></a>ä½¿ç”¨æ—¶ç¼“å­˜</h3></li>
</ul>
</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong><br>AccessCache.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>study<span class="token punctuation">.</span>jnilearn<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccessCache</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> String str <span class="token operator">=</span> <span class="token string">"Hello"</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">native</span> <span class="token keyword">void</span> <span class="token function">accessField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è®¿é—®stræˆå‘˜å˜é‡</span>
    <span class="token keyword">public</span> <span class="token keyword">native</span> String <span class="token function">newString</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ ¹æ®å­—ç¬¦æ•°ç»„å’ŒæŒ‡å®šé•¿åº¦åˆ›å»ºStringå¯¹è±¡</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        AccessCache accessCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AccessCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        accessCache<span class="token punctuation">.</span><span class="token function">nativeMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span> chars<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">char</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        chars<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'ä¸­'</span><span class="token punctuation">;</span>
        chars<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'å'</span><span class="token punctuation">;</span>
        chars<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'äºº'</span><span class="token punctuation">;</span>
        chars<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'æ°‘'</span><span class="token punctuation">;</span>
        chars<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'å…±'</span><span class="token punctuation">;</span>
        chars<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'å’Œ'</span><span class="token punctuation">;</span>
        chars<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'å›½'</span><span class="token punctuation">;</span>
        String str <span class="token operator">=</span> accessCache<span class="token punctuation">.</span><span class="token function">newString</span><span class="token punctuation">(</span>chars<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span><span class="token function">loadLibrary</span><span class="token punctuation">(</span><span class="token string">"AccessCache"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>++AccessCache.c++</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token comment" spellcheck="true">// AccessCache.c</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"com_study_jnilearn_AccessCache.h"</span></span>

JNIEXPORT <span class="token keyword">void</span> JNICALL <span class="token function">Java_com_study_jnilearn_AccessCache_accessField</span>
  <span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> jobject obj<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// ç¬¬ä¸€æ¬¡è®¿é—®æ—¶å°†å­—æ®µå­˜åˆ°å†…å­˜æ•°æ®åŒºï¼Œç›´åˆ°ç¨‹åºç»“æŸæ‰ä¼šé‡Šæ”¾ï¼Œå¯ä»¥èµ·åˆ°ç¼“å­˜çš„ä½œç”¨</span>
    <span class="token keyword">static</span> jfieldID fid_str <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    jclass cls_AccessCache<span class="token punctuation">;</span>
    jstring j_str<span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>c_str<span class="token punctuation">;</span>
    cls_AccessCache <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetObjectClass</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è·å–è¯¥å¯¹è±¡çš„Classå¼•ç”¨</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cls_AccessCache <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// å…ˆåˆ¤æ–­å­—æ®µIDä¹‹å‰æ˜¯å¦å·²ç»ç¼“å­˜è¿‡ï¼Œå¦‚æœå·²ç»ç¼“å­˜è¿‡åˆ™ä¸è¿›è¡ŒæŸ¥æ‰¾</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>fid_str <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        fid_str <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetFieldID</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>cls_AccessCache<span class="token punctuation">,</span><span class="token string">"str"</span><span class="token punctuation">,</span><span class="token string">"Ljava/lang/String;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// å†æ¬¡åˆ¤æ–­æ˜¯å¦æ‰¾åˆ°è¯¥ç±»çš„strå­—æ®µ</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>fid_str <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    j_str <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetObjectField</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> fid_str<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// è·å–å­—æ®µçš„å€¼</span>
    c_str <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetStringUTFChars</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> j_str<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c_str <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å†…å­˜ä¸å¤Ÿ</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"In C:\n str = \"%s\"\n"</span><span class="token punctuation">,</span> c_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ReleaseStringUTFChars</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> j_str<span class="token punctuation">,</span> c_str<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// é‡Šæ”¾ä»ä»JVMæ–°åˆ†é…å­—ç¬¦ä¸²çš„å†…å­˜ç©ºé—´</span>

    <span class="token comment" spellcheck="true">// ä¿®æ”¹å­—æ®µçš„å€¼</span>
    j_str <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">NewStringUTF</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> <span class="token string">"12345"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>j_str <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">SetObjectField</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> fid_str<span class="token punctuation">,</span> j_str<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// é‡Šæ”¾æœ¬åœ°å¼•ç”¨</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>cls_AccessCache<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>j_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

JNIEXPORT jstring JNICALL <span class="token function">Java_com_study_jnilearn_AccessCache_newString</span>
<span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> jobject obj<span class="token punctuation">,</span> jcharArray j_char_arr<span class="token punctuation">,</span> jint len<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    jcharArray elemArray<span class="token punctuation">;</span>
    jchar <span class="token operator">*</span>chars <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    jstring j_str <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span> jclass cls_string <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span> jmethodID cid_string <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// æ³¨æ„ï¼šè¿™é‡Œç¼“å­˜å±€å¼•ç”¨çš„åšæ³•æ˜¯é”™è¯¯ï¼Œè¿™é‡Œåšä¸ºä¸€ä¸ªåé¢æ•™ææé†’å¤§å®¶ï¼Œä¸‹é¢ä¼šè¯´åˆ°ã€‚</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cls_string <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cls_string <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">FindClass</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> <span class="token string">"java/lang/String"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cls_string <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// ç¼“å­˜Stringçš„æ„é€ æ–¹æ³•ID</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cid_string <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cid_string <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetMethodID</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> cls_string<span class="token punctuation">,</span> <span class="token string">"&lt;init>"</span><span class="token punctuation">,</span> <span class="token string">"([C)V"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cid_string <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"In C array Len: %d\n"</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ªå­—ç¬¦æ•°ç»„</span>
    elemArray <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">NewCharArray</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>elemArray <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// è·å–æ•°ç»„çš„æŒ‡é’ˆå¼•ç”¨ï¼Œæ³¨æ„ï¼šä¸èƒ½ç›´æ¥å°†jcharArrayä½œä¸ºSetCharArrayRegionå‡½æ•°æœ€åä¸€ä¸ªå‚æ•°</span>
    chars <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetCharArrayElements</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> j_char_arr<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>chars <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">// å°†Javaå­—ç¬¦æ•°ç»„ä¸­çš„å†…å®¹å¤åˆ¶æŒ‡å®šé•¿åº¦åˆ°æ–°çš„å­—ç¬¦æ•°ç»„ä¸­</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">SetCharArrayRegion</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> elemArray<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">,</span> chars<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// è°ƒç”¨Stringå¯¹è±¡çš„æ„é€ æ–¹æ³•ï¼Œåˆ›å»ºä¸€ä¸ªæŒ‡å®šå­—ç¬¦æ•°ç»„ä¸ºå†…å®¹çš„Stringå¯¹è±¡</span>
    j_str <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">NewObject</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> cls_string<span class="token punctuation">,</span> cid_string<span class="token punctuation">,</span> elemArray<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// é‡Šæ”¾æœ¬åœ°å¼•ç”¨</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> elemArray<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> j_str<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ç±»é™æ€åˆå§‹åŒ–ç¼“å­˜"><a href="#ç±»é™æ€åˆå§‹åŒ–ç¼“å­˜" class="headerlink" title="ç±»é™æ€åˆå§‹åŒ–ç¼“å­˜"></a>ç±»é™æ€åˆå§‹åŒ–ç¼“å­˜</h3><p><strong>ç¤ºä¾‹ï¼š</strong><br>AccessCache.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccessCache</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">native</span> <span class="token keyword">void</span> <span class="token function">initIDs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

    <span class="token keyword">public</span> <span class="token keyword">native</span> <span class="token keyword">void</span> <span class="token function">nativeMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"AccessCache.callback invoked!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        AccessCache accessCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AccessCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        accessCache<span class="token punctuation">.</span><span class="token function">nativeMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span><span class="token function">loadLibrary</span><span class="token punctuation">(</span><span class="token string">"AccessCache"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">initIDs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>++AccessCache.c++</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"com_study_jnilearn_AccessCache.h"</span></span>

jmethodID MID_AccessCache_callback<span class="token punctuation">;</span>

JNIEXPORT <span class="token keyword">void</span> JNICALL <span class="token function">Java_com_study_jnilearn_AccessCache_initIDs</span>
<span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> jclass cls<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"initIDs called!!!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    MID_AccessCache_callback <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetMethodID</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>cls<span class="token punctuation">,</span><span class="token string">"callback"</span><span class="token punctuation">,</span><span class="token string">"()V"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

JNIEXPORT <span class="token keyword">void</span> JNICALL <span class="token function">Java_com_study_jnilearn_AccessCache_nativeMethod</span>
<span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> jobject obj<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"In C Java_com_study_jnilearn_AccessCache_nativeMethod called!!!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">CallVoidMethod</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> MID_AccessCache_callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ä¸¤ç§ç¼“å­˜æ–¹å¼æ¯”è¾ƒ"><a href="#ä¸¤ç§ç¼“å­˜æ–¹å¼æ¯”è¾ƒ" class="headerlink" title="ä¸¤ç§ç¼“å­˜æ–¹å¼æ¯”è¾ƒ"></a>ä¸¤ç§ç¼“å­˜æ–¹å¼æ¯”è¾ƒ</h3><p>ä½¿ç”¨æ—¶ç¼“å­˜ç¼ºç‚¹</p>
<ul>
<li>æ¯æ¬¡éƒ½éœ€è¦æ£€æŸ¥æ˜¯å¦å·²ç»ç¼“å­˜è¯¥IDæˆ–Classå¼•ç”¨</li>
<li>åªè¦æœ¬åœ°ä»£ç ä¾èµ–äºè¿™ä¸ªIDçš„å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å°±ä¸ä¼šè¢«unloadã€‚</li>
<li>å¦‚æœç¼“å­˜å‘ç”Ÿåœ¨é™æ€åˆå§‹åŒ–æ—¶ï¼Œå½“ç±»è¢«unloadæˆ–reloadæ—¶ï¼ŒIDä¼šè¢«é‡æ–°è®¡</li>
</ul>
<h2 id="JNIå±€éƒ¨å¼•ç”¨ã€å…¨å±€å¼•ç”¨å’Œå¼±å…¨å±€å¼•ç”¨"><a href="#JNIå±€éƒ¨å¼•ç”¨ã€å…¨å±€å¼•ç”¨å’Œå¼±å…¨å±€å¼•ç”¨" class="headerlink" title="JNIå±€éƒ¨å¼•ç”¨ã€å…¨å±€å¼•ç”¨å’Œå¼±å…¨å±€å¼•ç”¨"></a><a href="https://blog.csdn.net/xyang81/article/details/44657385" target="_blank" rel="noopener">JNIå±€éƒ¨å¼•ç”¨ã€å…¨å±€å¼•ç”¨å’Œå¼±å…¨å±€å¼•ç”¨</a></h2><h3 id="å¼‚å¸¸æ¡ˆä¾‹ï¼šAndroid-JNIå±€éƒ¨å¼•ç”¨è¡¨æº¢å‡ºï¼šlocal-reference-table-overflow-max-512"><a href="#å¼‚å¸¸æ¡ˆä¾‹ï¼šAndroid-JNIå±€éƒ¨å¼•ç”¨è¡¨æº¢å‡ºï¼šlocal-reference-table-overflow-max-512" class="headerlink" title="å¼‚å¸¸æ¡ˆä¾‹ï¼šAndroid JNIå±€éƒ¨å¼•ç”¨è¡¨æº¢å‡ºï¼šlocal reference table overflow (max=512)"></a>å¼‚å¸¸æ¡ˆä¾‹ï¼š<a href="https://blog.csdn.net/xyang81/article/details/44873769" target="_blank" rel="noopener">Android JNIå±€éƒ¨å¼•ç”¨è¡¨æº¢å‡ºï¼šlocal reference table overflow (max=512)</a></h3><p>Java è°ƒç”¨</p>
<pre class="line-numbers language-Java"><code class="language-Java">    // è¿”å›countä¸ªsampleç›¸åŒçš„å­—ç¬¦ä¸²æ•°ç»„ï¼Œå¹¶ç”¨ç¼–å·æ ‡è¯†ï¼Œå¦‚ï¼šsample1ï¼Œsample2...
    public native String[] getStrings(int count, String sample);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><em>local_ref_overflow_test.c</em></p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;jni.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;android/log.h></span></span>

<span class="token macro property">#<span class="token directive keyword">define</span> LOG_TAG "MainActivity"</span>
<span class="token macro property">#<span class="token directive keyword">define</span> LOG_I(...) __android_log_print(ANDROID_LOG_INFO,LOG_TAG, __VA_ARGS__)</span>
<span class="token macro property">#<span class="token directive keyword">define</span> LOG_E(...) __android_log_print(ANDROID_LOG_ERROR, LOG_TAG, __VA_ARGS__)</span>

<span class="token macro property">#<span class="token directive keyword">ifdef</span> __cplusplus</span>
<span class="token keyword">extern</span> <span class="token string">"C"</span> <span class="token punctuation">{</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>

jobjectArray <span class="token function">getStrings</span><span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> jobject obj<span class="token punctuation">,</span> jint count<span class="token punctuation">,</span> jstring sample<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    jobjectArray str_array <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    jclass cls_string <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    jmethodID mid_string_init<span class="token punctuation">;</span>
    jobject obj_str <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>c_str_sample <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> buff<span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// ä¿è¯è‡³å°‘å¯ä»¥åˆ›å»º3ä¸ªå±€éƒ¨å¼•ç”¨ï¼ˆstr_arrayï¼Œcls_stringï¼Œobj_strï¼‰</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">EnsureLocalCapacity</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">!=</span> JNI_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    c_str_sample <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetStringUTFChars</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> sample<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c_str_sample <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    cls_string <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">FindClass</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> <span class="token string">"java/lang/String"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cls_string <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// è·å–Stringçš„æ„é€ æ–¹æ³•</span>
    mid_string_init <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetMethodID</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> cls_string<span class="token punctuation">,</span> <span class="token string">"&lt;init>"</span><span class="token punctuation">,</span> <span class="token string">"()V"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid_string_init <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>cls_string<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    obj_str <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">NewObject</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> cls_string<span class="token punctuation">,</span> mid_string_init<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj_str <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>cls_string<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„</span>
    str_array <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">NewObjectArray</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> count<span class="token punctuation">,</span> cls_string<span class="token punctuation">,</span> obj_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>str_array <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>cls_string<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>obj_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// ç»™æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ èµ‹å€¼</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">memset</span><span class="token punctuation">(</span>buff<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>buff<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// åˆå§‹ä¸€ä¸‹ç¼“å†²åŒº</span>
        <span class="token function">sprintf</span><span class="token punctuation">(</span>buff<span class="token punctuation">,</span> c_str_sample<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        jstring newStr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">NewStringUTF</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> buff<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">SetObjectArrayElement</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> str_array<span class="token punctuation">,</span> i<span class="token punctuation">,</span> newStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>newStr<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// Warning: è¿™é‡Œå¦‚æœä¸æ‰‹åŠ¨é‡Šæ”¾å±€éƒ¨å¼•ç”¨ï¼Œå¾ˆæœ‰å¯èƒ½é€ æˆå±€éƒ¨å¼•ç”¨è¡¨æº¢å‡º</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// é‡Šæ”¾æ¨¡æ¿å­—ç¬¦ä¸²æ‰€å çš„å†…å­˜</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ReleaseStringUTFChars</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> sample<span class="token punctuation">,</span> c_str_sample<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// é‡Šæ”¾å±€éƒ¨å¼•ç”¨æ‰€å ç”¨çš„èµ„æº</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> cls_string<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> obj_str<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> str_array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> JNINativeMethod g_methods<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token punctuation">{</span><span class="token string">"getStrings"</span><span class="token punctuation">,</span> <span class="token string">"(ILjava/lang/String;)[Ljava/lang/String;"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span>getStrings<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">static</span> jclass g_cls_MainActivity <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>

JNIEXPORT jint JNICALL <span class="token function">JNI_OnLoad</span><span class="token punctuation">(</span>JavaVM<span class="token operator">*</span> vm<span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token operator">*</span> reserved<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">LOG_I</span><span class="token punctuation">(</span><span class="token string">"JNI_OnLoad method call begin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    JNIEnv<span class="token operator">*</span> env <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    jclass cls <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">*</span>vm<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetEnv</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>env<span class="token punctuation">,</span> JNI_VERSION_1_6<span class="token punctuation">)</span> <span class="token operator">!=</span> JNI_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> JNI_ERR<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// æŸ¥æ‰¾è¦åŠ è½½çš„æœ¬åœ°æ–¹æ³•Classå¼•ç”¨</span>
    cls <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">FindClass</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> <span class="token string">"com/example/jni/MainActivity"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>cls <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> JNI_ERR<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">// å°†classçš„å¼•ç”¨ç¼“å­˜åˆ°å…¨å±€å˜é‡ä¸­</span>
    g_cls_MainActivity <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">NewWeakGlobalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// æ‰‹åŠ¨åˆ é™¤å±€éƒ¨å¼•ç”¨æ˜¯ä¸ªå¥½ä¹ æƒ¯</span>

    <span class="token comment" spellcheck="true">// å°†javaä¸­çš„nativeæ–¹æ³•ä¸æœ¬åœ°å‡½æ•°ç»‘å®š</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">RegisterNatives</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> g_cls_MainActivity<span class="token punctuation">,</span> g_methods<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>g_methods<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>g_methods<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">LOG_I</span><span class="token punctuation">(</span><span class="token string">"JNI_OnLoad method call end"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> JNI_VERSION_1_6<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

JNIEXPORT <span class="token keyword">void</span> JNICALL <span class="token function">JNI_OnUnload</span><span class="token punctuation">(</span>JavaVM<span class="token operator">*</span> vm<span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token operator">*</span> reserved<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">LOG_I</span><span class="token punctuation">(</span><span class="token string">"JNI_OnUnload method call begin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    JNIEnv <span class="token operator">*</span>env <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">*</span>vm<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetEnv</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>env<span class="token punctuation">,</span> JNI_VERSION_1_6<span class="token punctuation">)</span> <span class="token operator">!=</span> JNI_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">UnregisterNatives</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> g_cls_MainActivity<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// soè¢«å¸è½½çš„æ—¶å€™è§£é™¤æ³¨å†Œ</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteWeakGlobalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> g_cls_MainActivity<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token macro property">#<span class="token directive keyword">ifdef</span> __cplusplus</span>
<span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ä¸‰ç§å¼•ç”¨ç®€ä»‹åŠåŒºåˆ«"><a href="#ä¸‰ç§å¼•ç”¨ç®€ä»‹åŠåŒºåˆ«" class="headerlink" title="ä¸‰ç§å¼•ç”¨ç®€ä»‹åŠåŒºåˆ«"></a>ä¸‰ç§å¼•ç”¨ç®€ä»‹åŠåŒºåˆ«</h3><h4 id="å±€éƒ¨å¼•ç”¨ï¼ˆLocal-Referenceï¼‰"><a href="#å±€éƒ¨å¼•ç”¨ï¼ˆLocal-Referenceï¼‰" class="headerlink" title="å±€éƒ¨å¼•ç”¨ï¼ˆLocal Referenceï¼‰"></a>å±€éƒ¨å¼•ç”¨ï¼ˆLocal Referenceï¼‰</h4><ul>
<li>åˆ›å»º: NewLocalRef æˆ–JNIæ¥å£åˆ›å»ºï¼ˆFindClassã€NewObjectã€GetObjectClasså’ŒNewCharArrayç­‰ï¼‰</li>
<li>ç‰¹æ€§ï¼š<ul>
<li>ä¼šé˜»æ­¢GCå›æ”¶æ‰€å¼•ç”¨çš„å¯¹è±¡</li>
<li>ä¸åœ¨æœ¬åœ°å‡½æ•°ä¸­è·¨å‡½æ•°ä½¿ç”¨</li>
<li>ä¸èƒ½è·¨çº¿ç¨‹ä½¿ç”¨</li>
</ul>
</li>
<li>é‡Šæ”¾<ul>
<li>å‡½æ•°è¿”å›åå±€éƒ¨å¼•ç”¨æ‰€å¼•ç”¨çš„å¯¹è±¡ä¼šè¢«JVMè‡ªåŠ¨é‡Šæ”¾</li>
<li>è°ƒç”¨DeleteLocalRef<code>(*env)-&gt;DeleteLocalRef(env,local_ref)</code><pre><code>jclass cls_string = (*env)-&gt;FindClass(env, "java/lang/String");
jcharArray charArr = (*env)-&gt;NewCharArray(env, len);
jstring str_obj = (*env)-&gt;NewObject(env, cls_string, cid_string, elemArray);
// é€šè¿‡NewLocalRefå‡½æ•°åˆ›å»º
jstring str_obj_local_ref = (*env)-&gt;NewLocalRef(env,str_obj);  
....</code></pre><h4 id="å…¨å±€å¼•ç”¨ï¼ˆGlobal-Referenceï¼‰"><a href="#å…¨å±€å¼•ç”¨ï¼ˆGlobal-Referenceï¼‰" class="headerlink" title="å…¨å±€å¼•ç”¨ï¼ˆGlobal Referenceï¼‰"></a>å…¨å±€å¼•ç”¨ï¼ˆGlobal Referenceï¼‰</h4></li>
</ul>
</li>
<li>åˆ›å»ºï¼š NewGlobalRef</li>
<li>ç‰¹æ€§ï¼š <ul>
<li>ä¼šé˜»GCå›æ”¶æ‰€å¼•ç”¨çš„å¯¹è±¡åŸºäºå±€éƒ¨å¼•ç”¨åˆ›å»º</li>
<li>å¯ä»¥è·¨æ–¹æ³•ã€è·¨çº¿ç¨‹ä½¿ç”¨</li>
<li>VMä¸ä¼šè‡ªåŠ¨é‡Šæ”¾ï¼Œå¿…é¡»è°ƒç”¨DeleteGlobalRefæ‰‹åŠ¨é‡Šæ”¾<code>(*env)-&gt;DeleteGlobalRef(env,g_cls_string)</code><h4 id="å¼±å…¨å±€å¼•ç”¨ï¼ˆWeak-Global-Referenceï¼‰"><a href="#å¼±å…¨å±€å¼•ç”¨ï¼ˆWeak-Global-Referenceï¼‰" class="headerlink" title="å¼±å…¨å±€å¼•ç”¨ï¼ˆWeak Global Referenceï¼‰"></a>å¼±å…¨å±€å¼•ç”¨ï¼ˆWeak Global Referenceï¼‰</h4></li>
</ul>
</li>
<li>åˆ›å»ºï¼š NewWeakGlobalRefåŸºäºå±€éƒ¨å¼•ç”¨æˆ–å…¨å±€å¼•ç”¨åˆ›å»º</li>
<li>ç‰¹æ€§ï¼š<ul>
<li>ä¸ä¼šé˜»æ­¢GCå›æ”¶æ‰€å¼•ç”¨çš„å¯¹è±¡</li>
<li>å¯ä»¥è·¨æ–¹æ³•ã€è·¨çº¿ç¨‹ä½¿ç”¨</li>
</ul>
</li>
<li>é‡Šæ”¾ï¼š 1.æ¯”å¦‚å†…å­˜ç´§å¼ çš„æ—¶å€™ï¼›2. è°ƒç”¨DeleteWeakGlobalRefæ‰‹åŠ¨é‡Šæ”¾<code>(*env)-&gt;DeleteWeakGlobalRef(env,g_cls_string)</code><pre class="line-numbers language-c"><code class="language-c"><span class="token keyword">static</span> jclass g_cls_string<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">TestFunc</span><span class="token punctuation">(</span>JNIEnv<span class="token operator">*</span> env<span class="token punctuation">,</span> jobject obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  jclass cls_string <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">FindClass</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> <span class="token string">"java/lang/String"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  g_cls_string <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">NewWeakGlobalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>cls_string<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h3 id="å±€éƒ¨å¼•ç”¨"><a href="#å±€éƒ¨å¼•ç”¨" class="headerlink" title="å±€éƒ¨å¼•ç”¨"></a>å±€éƒ¨å¼•ç”¨</h3><h4 id="è¯¯åŒºä¸€-ç”¨staticå˜é‡ç¼“å­˜å±€éƒ¨å˜é‡ï¼ˆå˜åŠ¨ï¼‰ï¼Œé€ æˆé‡æŒ‡é’ˆï¼›"><a href="#è¯¯åŒºä¸€-ç”¨staticå˜é‡ç¼“å­˜å±€éƒ¨å˜é‡ï¼ˆå˜åŠ¨ï¼‰ï¼Œé€ æˆé‡æŒ‡é’ˆï¼›" class="headerlink" title="è¯¯åŒºä¸€: ç”¨staticå˜é‡ç¼“å­˜å±€éƒ¨å˜é‡ï¼ˆå˜åŠ¨ï¼‰ï¼Œé€ æˆé‡æŒ‡é’ˆï¼›"></a>è¯¯åŒºä¸€: ç”¨staticå˜é‡ç¼“å­˜å±€éƒ¨å˜é‡ï¼ˆå˜åŠ¨ï¼‰ï¼Œé€ æˆé‡æŒ‡é’ˆï¼›</h4><blockquote>
<p>æœ¬åœ°æ–¹æ³•è¿”å›åˆ°Javaå±‚ä¹‹åï¼Œå¦‚æœJavaå±‚æ²¡æœ‰å¯¹è¿”å›çš„å±€éƒ¨å¼•ç”¨ä½¿ç”¨çš„è¯ï¼Œ<font color="red">å±€éƒ¨å¼•ç”¨å°±ä¼šè¢«JVMè‡ªåŠ¨é‡Šæ”¾</font></p>
</blockquote>
<h4 id="è¯¯åŒºäºŒï¼šå±€éƒ¨å¼•ç”¨ä¸ç”¨é‡Šæ”¾"><a href="#è¯¯åŒºäºŒï¼šå±€éƒ¨å¼•ç”¨ä¸ç”¨é‡Šæ”¾" class="headerlink" title="è¯¯åŒºäºŒï¼šå±€éƒ¨å¼•ç”¨ä¸ç”¨é‡Šæ”¾"></a>è¯¯åŒºäºŒï¼šå±€éƒ¨å¼•ç”¨ä¸ç”¨é‡Šæ”¾</h4><ul>
<li>Androidä¸Šçš„JNIå±€éƒ¨å¼•ç”¨è¡¨æœ€å¤§æ•°é‡æ˜¯512ä¸ªï¼Œä¸€äº›å±€éƒ¨å¼•ç”¨å¾ªç¯å¯èƒ½æº¢å‡º<pre class="line-numbers language-Java"><code class="language-Java">for (i = 0; i < len; i++) {
   jstring jstr = (*env)->GetObjectArrayElement(env, arr, i);
   ... /* ä½¿ç”¨jstr */
   (*env)->DeleteLocalRef(env, jstr); // ä½¿ç”¨å®Œæˆä¹‹åé©¬ä¸Šé‡Šæ”¾
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>è°ƒç”¨JNIå·¥å…·å‡½æ•°æ—¶ï¼Œè¿”å›çš„å¼•ç”¨éœ€è¦æ‰‹åŠ¨é‡Šæ”¾</li>
<li>å±€éƒ¨å¼•ç”¨å ç”¨å¤§èµ„æºï¼Œä½†æ˜¯å‡½æ•°ä¸èƒ½ç«‹å³ç»“æŸæ—¶ï¼Œå¦‚ï¼šå ç”¨èµ„æºåæœ‰å¤§é‡çš„è¿ç®—ï¼›<pre><code>JNIEXPORT void JNICALL Java_pkg_Cls_func(JNIEnv *env, jobject this)
{
 lref = ...              /* lrefå¼•ç”¨çš„æ˜¯ä¸€ä¸ªå¤§çš„Javaå¯¹è±¡ */
 ...                     /* åœ¨è¿™é‡Œå·²ç»å¤„ç†å®Œä¸šåŠ¡é€»è¾‘åï¼Œè¿™ä¸ªå¯¹è±¡å·²ç»ä½¿ç”¨å®Œäº† */
 (*env)-&gt;DeleteLocalRef(env, lref); /* åŠæ—¶åˆ é™¤è¿™ä¸ªå¯¹è¿™ä¸ªå¤§å¯¹è±¡çš„å¼•ç”¨ï¼ŒGCå°±å¯ä»¥å¯¹å®ƒå›æ”¶ï¼Œå¹¶é‡Šæ”¾ç›¸åº”çš„èµ„æº*/
 lengthyComputation();   /* åœ¨é‡Œæœ‰ä¸ªæ¯”è¾ƒè€—æ—¶çš„è®¡ç®—è¿‡ç¨‹ */
 return;                 /* è®¡ç®—å®Œæˆä¹‹åï¼Œå‡½æ•°è¿”å›ä¹‹å‰æ‰€æœ‰å¼•ç”¨éƒ½å·²ç»é‡Šæ”¾ */
}</code></pre><h3 id="ç®¡ç†å±€éƒ¨å¼•ç”¨"><a href="#ç®¡ç†å±€éƒ¨å¼•ç”¨" class="headerlink" title="ç®¡ç†å±€éƒ¨å¼•ç”¨"></a>ç®¡ç†å±€éƒ¨å¼•ç”¨</h3></li>
<li>JNIæä¾›çš„å¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†<code>EnsureLocalCapacityã€NewLocalRefã€PushLocalFrameã€PopLocalFrameã€DeleteLocalRefã€‚</code></li>
<li>JNIå‡½æ•°é»˜è®¤åªæ”¯æŒ<font color="red">16ä¸ªå±€éƒ¨å¼•ç”¨</font>ï¼Œå¯ä»¥è°ƒç”¨EnsureLocalCapacityå¢åŠ å±€éƒ¨å¼•ç”¨æ•°é‡ï¼Œå¦‚æœåˆ›å»ºæˆåŠŸåˆ™è¿”å›0ï¼Œå¦åˆ™åˆ›å»ºå¤±è´¥ï¼Œå¹¶æŠ›å‡ºOutOfMemoryErrorå¼‚å¸¸ï¼›<pre><code>/*å¤„ç†å‡½æ•°é€»è¾‘æ—¶ï¼Œç¡®ä¿å‡½æ•°èƒ½åˆ›å»ºlenä¸ªå±€éƒ¨å¼•ç”¨*/
if((*env)-&gt;EnsureLocalCapacity(env,len) != 0) {
 ... /*ç”³è¯·lenä¸ªå±€éƒ¨å¼•ç”¨çš„å†…å­˜ç©ºé—´å¤±è´¥ OutOfMemoryError*/
 return;
}
for(i=0; i &lt; len; i++) {
 jstring jstr = (*env)-&gt;GetObjectArrayElement(env, arr, i);
 // ... ä½¿ç”¨jstrå­—ç¬¦ä¸²
 /*è¿™é‡Œæ²¡æœ‰åˆ é™¤åœ¨forä¸­ä¸´æ—¶åˆ›å»ºçš„å±€éƒ¨å¼•ç”¨*/
}</code></pre></li>
<li>Push/PopLocalFrameå¼•ç”¨å †æ ˆ<pre><code>#define N_REFS ... /*æœ€å¤§å±€éƒ¨å¼•ç”¨æ•°é‡*/
for (i = 0; i &lt; len; i++) {
 if ((*env)-&gt;PushLocalFrame(env, N_REFS) != 0) {
     ... /*å†…å­˜æº¢å‡º*/
 }
  jstring jstr = (*env)-&gt;GetObjectArrayElement(env, arr, i);
  ... /* ä½¿ç”¨jstr */
  (*env)-&gt;PopLocalFrame(env, NULL);
}</code></pre></li>
</ul>
<h3 id="å…¨å±€å¼•ç”¨"><a href="#å…¨å±€å¼•ç”¨" class="headerlink" title="å…¨å±€å¼•ç”¨"></a>å…¨å±€å¼•ç”¨</h3><p>++æ¡ˆä¾‹++</p>
<pre><code>JNIEXPORT jstring JNICALL Java_com_study_jnilearn_AccessCache_newString
(JNIEnv *env, jobject obj, jcharArray j_char_arr, jint len)
{
    // ...
    jstring jstr = NULL;
    static jclass cls_string = NULL;
    if (cls_string == NULL) {
        jclass local_cls_string = (*env)-&gt;FindClass(env, "java/lang/String");
        if (cls_string == NULL) {
            return NULL;
        }

        // å°†java.lang.Stringç±»çš„Classå¼•ç”¨ç¼“å­˜åˆ°å…¨å±€å¼•ç”¨å½“ä¸­
        cls_string = (*env)-&gt;NewGlobalRef(env, local_cls_string);

        // åˆ é™¤å±€éƒ¨å¼•ç”¨
        (*env)-&gt;DeleteLocalRef(env, local_cls_string);

        // å†æ¬¡éªŒè¯å…¨å±€å¼•ç”¨æ˜¯å¦åˆ›å»ºæˆåŠŸ
        if (cls_string == NULL) {
            return NULL;
        }
    }

    // ....
    return jstr;
}</code></pre><h3 id="å¼±å…¨å±€å¼•ç”¨"><a href="#å¼±å…¨å±€å¼•ç”¨" class="headerlink" title="å¼±å…¨å±€å¼•ç”¨"></a>å¼±å…¨å±€å¼•ç”¨</h3><p><font color="red" face="STHupo">ä¸å…¨å±€å¼•ç”¨å¾ˆé‡è¦ä¸åŒçš„ä¸€ç‚¹æ˜¯ï¼Œå¼±å¼•ç”¨ä¸ä¼šé˜»æ­¢GCå›æ”¶å®ƒå¼•ç”¨çš„å¯¹è±¡</font>  </p>
<blockquote>
<p>å¦‚æœä¸æ‰‹åŠ¨è°ƒç”¨è¿™ä¸ªå‡½æ•°æ¥é‡Šæ”¾æ‰€æŒ‡å‘çš„å¯¹è±¡ï¼ŒJVMä»ä¼šå›æ”¶å¼±å¼•ç”¨æ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œä½†å¼±å¼•ç”¨æœ¬èº«åœ¨å¼•ç”¨è¡¨ä¸­æ‰€å çš„å†…å­˜æ°¸è¿œä¹Ÿä¸ä¼šè¢«å›æ”¶ã€‚</p>
</blockquote>
<p>++æ¡ˆä¾‹ï¼š++</p>
<pre><code>JNIEXPORT void JNICALL
Java_mypkg_MyCls_f(JNIEnv *env, jobject self)
{
    static jclass myCls2 = NULL;
    if (myCls2 == NULL)
    {
        jclass myCls2Local = (*env)-&gt;FindClass(env, "mypkg/MyCls2");
        if (myCls2Local == NULL)
        {
            return; /* æ²¡æœ‰æ‰¾åˆ°mypkg/MyCls2è¿™ä¸ªç±» */
        }
        myCls2 = NewWeakGlobalRef(env, myCls2Local);
        if (myCls2 == NULL)
        {
            return; /* å†…å­˜æº¢å‡º */
        }
    }
    ... /* ä½¿ç”¨myCls2çš„å¼•ç”¨ */
}</code></pre><h3 id="å¼•ç”¨æ¯”è¾ƒ"><a href="#å¼•ç”¨æ¯”è¾ƒ" class="headerlink" title="å¼•ç”¨æ¯”è¾ƒ"></a>å¼•ç”¨æ¯”è¾ƒ</h3><p>jboolean isEqual = (*env)-&gt;IsSameObject(env, obj1, obj2)</p>
<ul>
<li>obj1,obj2: ä¸ç®¡æ˜¯å…¨å±€ã€å±€éƒ¨è¿˜æ˜¯å¼±å…¨å±€å¼•ç”¨</li>
<li>isEqual  JNI_TRUEï¼ˆæˆ–è€…1ï¼‰ç›¸åŒï¼ŒJNI_FALSEï¼ˆæˆ–è€…0ï¼‰</li>
<li>JNIä¸­çš„NULLå¼•ç”¨æŒ‡å‘JVMä¸­çš„nullå¯¹è±¡<ul>
<li>å±€éƒ¨æˆ–å…¨å±€å¼•ç”¨-&gt; (*env)-&gt;IsSameObject(env, obj, NULL) æˆ–è€… obj == NULåˆ¤æ–­</li>
<li>å¼±å…¨å±€å¼•ç”¨ (*env)-&gt;IsSameObject(env, g_obj_ref, NULL) -&gt; å¼•ç”¨ä¸­æ˜¯å¦ä»ç„¶æŒ‡å‘æ´»åŠ¨å¯¹è±¡<pre><code>jobject local_obj_ref = (*env)-&gt;NewObject(env, xxx_cls,xxx_mid);
jobject g_obj_ref = (*env)-&gt;NewWeakGlobalRef(env, local_ref);
// ... ä¸šåŠ¡é€»è¾‘å¤„ç†
jboolean isEqual = (*env)-&gt;IsSameObject(env, g_obj_ref, NULL);</code></pre></li>
</ul>
</li>
</ul>
<h3 id="å°Tip"><a href="#å°Tip" class="headerlink" title="å°Tip"></a>å°Tip</h3><h4 id="åŸºäºå…¨å±€å¼•ç”¨åˆ›å»ºä¸€ä¸ªå±€å¼•ç”¨è¿”å›ï¼Œä¹ŸåŒæ ·ä¼šé˜»æ­¢GCå›æ”¶æ‰€å¼•ç”¨çš„è¿™ä¸ªå¯¹è±¡"><a href="#åŸºäºå…¨å±€å¼•ç”¨åˆ›å»ºä¸€ä¸ªå±€å¼•ç”¨è¿”å›ï¼Œä¹ŸåŒæ ·ä¼šé˜»æ­¢GCå›æ”¶æ‰€å¼•ç”¨çš„è¿™ä¸ªå¯¹è±¡" class="headerlink" title="åŸºäºå…¨å±€å¼•ç”¨åˆ›å»ºä¸€ä¸ªå±€å¼•ç”¨è¿”å›ï¼Œä¹ŸåŒæ ·ä¼šé˜»æ­¢GCå›æ”¶æ‰€å¼•ç”¨çš„è¿™ä¸ªå¯¹è±¡"></a>åŸºäºå…¨å±€å¼•ç”¨åˆ›å»ºä¸€ä¸ªå±€å¼•ç”¨è¿”å›ï¼Œä¹ŸåŒæ ·ä¼šé˜»æ­¢GCå›æ”¶æ‰€å¼•ç”¨çš„è¿™ä¸ªå¯¹è±¡</h4><h4 id="Push-PopLocalFrameæ˜¯éå¸¸æ–¹ä¾¿ä¸”å®‰å…¨çš„ã€å»ºè®®ä½¿ç”¨ã€‘"><a href="#Push-PopLocalFrameæ˜¯éå¸¸æ–¹ä¾¿ä¸”å®‰å…¨çš„ã€å»ºè®®ä½¿ç”¨ã€‘" class="headerlink" title="Push/PopLocalFrameæ˜¯éå¸¸æ–¹ä¾¿ä¸”å®‰å…¨çš„ã€å»ºè®®ä½¿ç”¨ã€‘"></a>Push/PopLocalFrameæ˜¯éå¸¸æ–¹ä¾¿ä¸”å®‰å…¨çš„ã€å»ºè®®ä½¿ç”¨ã€‘</h4><pre class="line-numbers language-java"><code class="language-java">jobject <span class="token function">f</span><span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    jobject result<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">PushLocalFrame</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">/* è°ƒç”¨PushLocalFrameè·å–10ä¸ªå±€éƒ¨å¼•ç”¨å¤±è´¥ï¼Œä¸éœ€è¦è°ƒç”¨PopLocalFrame */</span>
        <span class="token keyword">return</span> NULL<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    result <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// åˆ›å»ºå±€éƒ¨å¼•ç”¨result</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">/* è¿”å›å‰å…ˆå¼¹å‡ºæ ˆé¡¶çš„frame */</span>
        result <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">PopLocalFrame</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    result <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">PopLocalFrame</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">/* æ­£å¸¸è¿”å› */</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="JNIå¼‚å¸¸å¤„ç†"><a href="#JNIå¼‚å¸¸å¤„ç†" class="headerlink" title="JNIå¼‚å¸¸å¤„ç†"></a><a href="https://blog.csdn.net/xyang81/article/details/45770551" target="_blank" rel="noopener">JNIå¼‚å¸¸å¤„ç†</a></h2><p>JNI å¼‚å¸¸å‡½æ•°åˆ—è¡¨</p>
<table>
<thead>
<tr>
<th>å¼‚å¸¸å‡½æ•°</th>
<th>ç›¸å…³æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>ExceptionCheck</td>
<td>æ£€æŸ¥æ˜¯å¦å‘ç”Ÿäº†å¼‚å¸¸ï¼Œè‹¥æœ‰å¼‚å¸¸è¿”å›JNI_TRUEï¼Œå¦åˆ™è¿”å›JNI_FALSE</td>
</tr>
<tr>
<td>ExceptionOccurred</td>
<td>æ£€æŸ¥æ˜¯å¦å‘ç”Ÿäº†å¼‚å¸¸ï¼Œè‹¥ç”¨å¼‚å¸¸è¿”å›è¯¥å¼‚å¸¸çš„å¼•ç”¨ï¼Œå¦åˆ™è¿”å›NULL</td>
</tr>
<tr>
<td>ExceptionDescribe</td>
<td>æ‰“å°å¼‚å¸¸çš„å †æ ˆä¿¡æ¯</td>
</tr>
<tr>
<td>ExceptionClear</td>
<td>æ¸…é™¤å¼‚å¸¸å †æ ˆä¿¡æ¯</td>
</tr>
<tr>
<td>ThrowNew</td>
<td>åœ¨å½“å‰çº¿ç¨‹è§¦å‘ä¸€ä¸ªå¼‚å¸¸ï¼Œå¹¶è‡ªå®šä¹‰è¾“å‡ºå¼‚å¸¸ä¿¡æ¯</td>
</tr>
<tr>
<td>Throw</td>
<td>ä¸¢å¼ƒä¸€ä¸ªç°æœ‰çš„å¼‚å¸¸å¯¹è±¡ï¼Œåœ¨å½“å‰çº¿ç¨‹è§¦å‘ä¸€ä¸ªæ–°çš„å¼‚å¸¸</td>
</tr>
<tr>
<td>FatalError</td>
<td>è‡´å‘½å¼‚å¸¸ï¼Œç”¨äºè¾“å‡ºä¸€ä¸ªå¼‚å¸¸ä¿¡æ¯ï¼Œå¹¶ç»ˆæ­¢å½“å‰VMå®ä¾‹ï¼ˆå³é€€å‡ºç¨‹åºï¼‰</td>
</tr>
</tbody></table>
<p>void (JNICALL *FatalError) (JNIEnv *env, const char *msg);<br>jint (JNICALL *ThrowNew) (JNIEnv *env, jclass clazz, const char *msg);<br>jint (JNICALL *Throw) (JNIEnv *env, jthrowable obj); </p>
<h3 id="å¼‚å¸¸å¤„ç†ç¤ºä¾‹"><a href="#å¼‚å¸¸å¤„ç†ç¤ºä¾‹" class="headerlink" title="å¼‚å¸¸å¤„ç†ç¤ºä¾‹"></a>å¼‚å¸¸å¤„ç†ç¤ºä¾‹</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JNIException</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">native</span> <span class="token keyword">void</span> <span class="token function">doit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">exceptionCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">20</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"--->"</span> <span class="token operator">+</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">normalCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"In Java: invoke normalCallback."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">doit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span><span class="token function">loadLibrary</span><span class="token punctuation">(</span><span class="token string">"JNIException"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>++JNIException.c++</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"com_study_jnilearn_JNIException.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>

JNIEXPORT <span class="token keyword">void</span> JNICALL <span class="token function">Java_com_study_jnilearn_JNIException_doit</span><span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> jclass cls<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    jthrowable exc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    jmethodID mid <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetStaticMethodID</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>cls<span class="token punctuation">,</span><span class="token string">"exceptionCallback"</span><span class="token punctuation">,</span><span class="token string">"()V"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">CallStaticVoidMethod</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>cls<span class="token punctuation">,</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"In C: Java_com_study_jnilearn_JNIException_doit-->called!!!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ExceptionCheck</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// æ£€æŸ¥JNIè°ƒç”¨æ˜¯å¦æœ‰å¼•å‘å¼‚å¸¸</span>
        <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ExceptionDescribe</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ExceptionClear</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// æ¸…é™¤å¼•å‘çš„å¼‚å¸¸ï¼Œåœ¨Javaå±‚ä¸ä¼šæ‰“å°å¼‚å¸¸çš„å †æ ˆä¿¡æ¯</span>
        <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ThrowNew</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">FindClass</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span><span class="token string">"java/lang/Exception"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"JNIæŠ›å‡ºçš„å¼‚å¸¸ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//return;</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">//å¦‚æœä¸return ç¨‹åºç»§ç»­æ‰§è¡Œ</span>
    mid <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetStaticMethodID</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>cls<span class="token punctuation">,</span><span class="token string">"normalCallback"</span><span class="token punctuation">,</span><span class="token string">"()V"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">CallStaticVoidMethod</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span>cls<span class="token punctuation">,</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>++JNIException.c++ ExceptionOccurred æ”¹é€ ,<code>ä½œç”¨å’ŒExceptionCheckä¸€æ ·</code>ï¼Œ<font color="red" face="STCaiyun">ä¸¤è€…çš„åŒºåˆ«åœ¨äºè¿”å›å€¼ä¸ä¸€æ ·</font></p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token comment" spellcheck="true">// ....</span>
jthrowable exc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
exc <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ExceptionOccurred</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// è¿”å›ä¸€ä¸ªæŒ‡å‘å½“å‰å¼‚å¸¸å¯¹è±¡çš„å¼•ç”¨</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>exc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ExceptionDescribe</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ‰“å°Javaå±‚æŠ›å‡ºçš„å¼‚å¸¸å †æ ˆä¿¡æ¯</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ExceptionClear</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//æ¸…é™¤å¼‚å¸¸ä¿¡æ¯</span>

    <span class="token comment" spellcheck="true">// æŠ›å‡ºæˆ‘ä»¬è‡ªå·±çš„å¼‚å¸¸å¤„ç†</span>
    jclass newExcCls<span class="token punctuation">;</span>
    newExcCls <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">FindClass</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span><span class="token string">"java/lang/Exception"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>newExcCls <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ThrowNew</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> newExcCls<span class="token punctuation">,</span> <span class="token string">"throw from C Code."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token comment" spellcheck="true">/* æ³¨æ„é‡Šæ”¾å±€éƒ¨å¼•ç”¨ */</span>
     <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">DeleteLocalRef</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> newExcCls<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token comment" spellcheck="true">/*å¼‚å¸¸å‘ç”Ÿåé‡Šæ”¾èµ„æº*/</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// ....</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å¼‚å¸¸å‘ç”Ÿåé‡Šæ”¾èµ„æº"><a href="#å¼‚å¸¸å‘ç”Ÿåé‡Šæ”¾èµ„æº" class="headerlink" title="å¼‚å¸¸å‘ç”Ÿåé‡Šæ”¾èµ„æº"></a>å¼‚å¸¸å‘ç”Ÿåé‡Šæ”¾èµ„æº</h3><pre class="line-numbers language-c"><code class="language-c">JNIEXPORT <span class="token keyword">void</span> JNICALL <span class="token function">Java_pkg_Cls_f</span><span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span> jclass cls<span class="token punctuation">,</span> jstring jstr<span class="token punctuation">)</span>
 <span class="token punctuation">{</span>
     <span class="token keyword">const</span> jchar <span class="token operator">*</span>cstr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetStringChars</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> jstr<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>c_str <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span><span class="token punctuation">;</span> 
     <span class="token punctuation">}</span>
     <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ExceptionCheck</span><span class="token punctuation">(</span>env<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">/* å¼‚å¸¸æ£€æŸ¥ */</span>
         <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ReleaseStringChars</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> jstr<span class="token punctuation">,</span> cstr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å‘ç”Ÿå¼‚å¸¸åé‡Šæ”¾å‰é¢æ‰€åˆ†é…çš„å†…å­˜</span>
         <span class="token keyword">return</span><span class="token punctuation">;</span> 
     <span class="token punctuation">}</span>
     <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
     <span class="token comment" spellcheck="true">/* æ­£å¸¸è¿”å› */</span>
     <span class="token punctuation">(</span><span class="token operator">*</span>env<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ReleaseStringChars</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> jstr<span class="token punctuation">,</span> cstr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://blog.csdn.net/xyang81/article/details/41759643" target="_blank" rel="noopener">JNI/NDKå¼€å‘æŒ‡å—ï¼ˆå¼€å±±ç¯‡ï¼‰</a></li>
<li>æ¨èã€ŠPro Android C++ with the NDKã€‹ï¼Œä¸­æ–‡ç‰ˆåç§°ã€ŠAndroid C++é«˜çº§ç¼–ç¨‹ ä½¿ç”¨NDKã€‹</li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>å®è·µ</tag>
        <tag>ç»éªŒ</tag>
      </tags>
  </entry>
  <entry>
    <title>è‡ªå®šä¹‰æ§ä»¶å…¶å®å¾ˆç®€å•(ç¬”è®°ä¸€)</title>
    <url>/2019/09/11/2019-9-11-custome-view/</url>
    <content><![CDATA[<h2 id="å§¿åŠ¿ç‚¹"><a href="#å§¿åŠ¿ç‚¹" class="headerlink" title="å§¿åŠ¿ç‚¹"></a>å§¿åŠ¿ç‚¹</h2><ul>
<li>åœ¨Androidä¸­è®¾ç½®æ•°å­—ç±»å‹çš„å‚æ•°æ—¶å¦‚æœæ²¡æœ‰ç‰¹åˆ«çš„è¯´æ˜ï¼Œå‚æ•°çš„å•ä½ä¸€èˆ¬éƒ½ä¸ºpxåƒç´ ã€‚</li>
<li><a href="http://developer.android.com/guide/topics/graphics/hardware-accel.html#unsupported" target="_blank" rel="noopener">HardwareAccel</a> æŸ¥çœ‹é‚£äº›æ–¹æ³•ä¸æ”¯æŒç¡¬ä»¶åŠ é€Ÿ;</li>
<li>å…³é—­ç¡¬ä»¶åŠ é€Ÿï¼ŒAndroidManifest.xml==&gt; applicationèŠ‚ç‚¹ä¸‹android:hardwareAccelerated=false</li>
<li>é’ˆå¯¹æŸä¸ªViewå…³é—­ç¡¬ä»¶åŠ é€Ÿ <code>setLayerType(LAYER_TYPE_SOFTWARE, null);</code></li>
<li>Androidä¼šæŠŠæ‹·è´åˆ°èµ„æºç›®å½•çš„å›¾ç‰‡è½¬ä¸ºRGB565</li>
</ul>
<h2 id="ColorFilter"><a href="#ColorFilter" class="headerlink" title="ColorFilter"></a>ColorFilter</h2><p><img src="http://upload-images.jianshu.io/upload_images/1321512-83c30bcf4aaf6e66.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h3 id="ColorMatrix"><a href="#ColorMatrix" class="headerlink" title="ColorMatrix"></a><strong>ColorMatrix</strong></h3><pre class="line-numbers language-java"><code class="language-java">ColorMatrix colorMatrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorMatrix</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
        <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>è¡Œè¡¨ç¤ºçš„Rï¼ˆçº¢è‰²ï¼‰çš„å‘é‡ï¼Œç¬¬äºŒè¡Œè¡¨ç¤ºçš„Gï¼ˆç»¿è‰²ï¼‰çš„å‘é‡ï¼Œç¬¬ä¸‰è¡Œè¡¨ç¤ºçš„Bï¼ˆè“è‰²ï¼‰çš„å‘é‡ï¼Œæœ€åä¸€è¡Œè¡¨ç¤ºAï¼ˆé€æ˜åº¦ï¼‰çš„å‘é‡</li>
<li>è¿™ä¸ªçŸ©é˜µä¸åŒçš„ä½ç½®è¡¨ç¤ºçš„RGBAå€¼ï¼Œå…¶èŒƒå›´åœ¨0.0Fè‡³2.0Fä¹‹é—´ï¼Œ1ä¸ºä¿æŒåŸå›¾çš„RGBå€¼;</li>
<li>æ¯ä¸€è¡Œçš„ç¬¬äº”åˆ—æ•°å­—è¡¨ç¤ºåç§»å€¼</li>
</ul>
<p>Usage</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// ç”Ÿæˆè‰²å½©çŸ©é˜µ</span>
ColorMatrix colorMatrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorMatrix</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
        <span class="token number">0.5F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">/*1è¡¨ç¤ºä¸å˜é¢œè‰²*/</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mPaint<span class="token punctuation">.</span><span class="token function">setColorFilter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ColorMatrixColorFilter</span><span class="token punctuation">(</span>colorMatrix<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ•°å­¦åŸç†æ˜¯ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-9f505ebf99ff5a87.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ColorMatrix"></p>
<p>å®è·µæ•ˆæœ</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-372cca129af04bd8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="åŸå›¾"></p>
<p>Demo1</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// ç”Ÿæˆè‰²å½©çŸ©é˜µ</span>
ColorMatrix colorMatrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorMatrix</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
        <span class="token number">0.5F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mPaint<span class="token punctuation">.</span><span class="token function">setColorFilter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ColorMatrixColorFilter</span><span class="token punctuation">(</span>colorMatrix<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-66b0e010cb4b61cc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Demo1"></p>
<p>Demo2</p>
<pre class="line-numbers language-java"><code class="language-java">ColorMatrix colorMatrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorMatrix</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
        <span class="token number">0.33F</span><span class="token punctuation">,</span> <span class="token number">0.59F</span><span class="token punctuation">,</span> <span class="token number">0.11F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0.33F</span><span class="token punctuation">,</span> <span class="token number">0.59F</span><span class="token punctuation">,</span> <span class="token number">0.11F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0.33F</span><span class="token punctuation">,</span> <span class="token number">0.59F</span><span class="token punctuation">,</span> <span class="token number">0.11F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-4907cce455e0ec3a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Demo2"></p>
<p>Demo3</p>
<pre class="line-numbers language-java"><code class="language-java">ColorMatrix colorMatrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorMatrix</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
        <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-d8cc681a1779bdd8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Demo3"></p>
<p>Demo4</p>
<pre class="line-numbers language-java"><code class="language-java">ColorMatrix colorMatrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorMatrix</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
        <span class="token number">0.393F</span><span class="token punctuation">,</span> <span class="token number">0.769F</span><span class="token punctuation">,</span> <span class="token number">0.189F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0.349F</span><span class="token punctuation">,</span> <span class="token number">0.686F</span><span class="token punctuation">,</span> <span class="token number">0.168F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0.272F</span><span class="token punctuation">,</span> <span class="token number">0.534F</span><span class="token punctuation">,</span> <span class="token number">0.131F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-9ce82b2dc10df197.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Demo4"><br>Demo5 çº¢è‰²çš„å˜æˆäº†è“è‰²è€Œè“è‰²çš„å°±å˜æˆäº†çº¢è‰²</p>
<pre class="line-numbers language-java"><code class="language-java">ColorMatrix colorMatrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorMatrix</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-2dee4408a4588540.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Demo5"></p>
<h3 id="LightingColorFilter"><a href="#LightingColorFilter" class="headerlink" title="LightingColorFilter"></a><strong>LightingColorFilter</strong></h3><p> A color filter that can be used to simulate simple lighting effects.<br>[LightingColorFilter](<a href="http://developer.android.com/reference/android/graphics/LightingColorFilter.html#LightingColorFilter" target="_blank" rel="noopener">http://developer.android.com/reference/android/graphics/LightingColorFilter.html#LightingColorFilter</a>(int, int)) (int mul, int add)</p>
<pre class="line-numbers language-java"><code class="language-java">R' <span class="token operator">=</span> R <span class="token operator">*</span> colorMultiply<span class="token punctuation">.</span>R <span class="token operator">+</span> colorAdd<span class="token punctuation">.</span>R 
G' <span class="token operator">=</span> G <span class="token operator">*</span> colorMultiply<span class="token punctuation">.</span>G <span class="token operator">+</span> colorAdd<span class="token punctuation">.</span>G 
B' <span class="token operator">=</span> B <span class="token operator">*</span> colorMultiply<span class="token punctuation">.</span>B <span class="token operator">+</span> colorAdd<span class="token punctuation">.</span>B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>usage:</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//è®¾ç½®é¢œè‰²è¿‡æ»¤åä¸ºé»„è‰²  </span>
mPaint<span class="token punctuation">.</span><span class="token function">setColorFilter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LightingColorFilter</span><span class="token punctuation">(</span><span class="token number">0xFFFFFFFF</span><span class="token punctuation">,</span> <span class="token number">0X00FFFF00</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
 mPaint<span class="token punctuation">.</span><span class="token function">setColorFilter</span><span class="token punctuation">(</span>null<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//è¿˜åŸæœ¬è‰²  </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="PorterDuffColorFilter"><a href="#PorterDuffColorFilter" class="headerlink" title="PorterDuffColorFilter"></a><strong>PorterDuffColorFilter</strong></h3><ul>
<li>Public Contructors<br>[PorterDuffColorFilter](<a href="http://developer.android.com/reference/android/graphics/PorterDuffColorFilter.html#PorterDuffColorFilter" target="_blank" rel="noopener">http://developer.android.com/reference/android/graphics/PorterDuffColorFilter.html#PorterDuffColorFilter</a>(int, android.graphics.PorterDuff.Mode))(int color, <a href="http://developer.android.com/reference/android/graphics/PorterDuff.Mode.html" target="_blank" rel="noopener">PorterDuff.Mode</a> mode)</li>
<li>PorterDuff.Mode å¯¹åº”</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-d9d320f2f5b29581.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-db444c9b90f8a742.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ··åˆæ¨¡å¼"></p>
<p>####Paint.setXfermode(Xfermode xfermode)</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-5665750f87dbce4d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Xfermode"></p>
<h2 id="AvoidXfermode"><a href="#AvoidXfermode" class="headerlink" title="AvoidXfermode"></a><strong>AvoidXfermode</strong></h2><ul>
<li>API 16 ä»¥ä¸Šæœºå‹å¿…é¡»åœ¨åº”ç”¨æˆ–æ‰‹æœºä¸Šå…³é—­ç¡¬ä»¶åŠ é€Ÿ ï¼›</li>
<li>AvoidXfermode(int opColor, int tolerance, AvoidXfermode.Mode mode)<br>opColorï¼šè¡¨ç¤ºä¸€ä¸ª16è¿›åˆ¶çš„å¯ä»¥å¸¦é€æ˜é€šé“çš„é¢œè‰²å€¼ä¾‹å¦‚0x12345678<br>Toleranceï¼šè¡¨ç¤ºå®¹å·®å€¼ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯å®¹å·®å‘¢ï¼Ÿä½ å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå¯ä»¥æ ‡è¯†â€œç²¾ç¡®â€æˆ–â€œæ¨¡ç³Šâ€çš„ä¸œè¥¿<br>AvoidXfermode.Modeï¼š AvoidXfermode.Mode.AVOIDæˆ–è€…AvoidXfermode.Mode.TARGET</li>
</ul>
<p>AvoidXfermode.Mode.TARGET<br>åœ¨è¯¥æ¨¡å¼ä¸‹Androidä¼šåˆ¤æ–­ç”»å¸ƒä¸Šçš„é¢œè‰²æ˜¯å¦ä¼šæœ‰è·ŸopColorä¸ä¸€æ ·çš„é¢œè‰²ï¼Œæ¯”å¦‚æˆ‘opColoræ˜¯çº¢è‰²ï¼Œé‚£ä¹ˆåœ¨TARGETæ¨¡å¼ä¸‹å°±ä¼šå»åˆ¤æ–­æˆ‘ä»¬çš„ç”»å¸ƒä¸Šæ˜¯å¦æœ‰å­˜åœ¨çº¢è‰²çš„åœ°æ–¹ï¼Œå¦‚æœæœ‰ï¼Œåˆ™æŠŠè¯¥åŒºåŸŸâ€œæŸ“â€ä¸Šä¸€å±‚æˆ‘ä»¬ç”»ç¬”å®šä¹‰çš„é¢œè‰²ï¼Œå¦åˆ™ä¸â€œæŸ“â€è‰²ï¼Œè€Œtoleranceå®¹å·®å€¼åˆ™è¡¨ç¤ºç”»å¸ƒä¸Šçš„åƒç´ å’Œæˆ‘ä»¬å®šä¹‰çš„çº¢è‰²ä¹‹é—´çš„å·®åˆ«è¯¥æ˜¯å¤šå°‘çš„æ—¶å€™æ‰å»â€œæŸ“â€çš„ï¼Œæ¯”å¦‚å½“å‰ç”»å¸ƒæœ‰ä¸€ä¸ªåƒç´ çš„è‰²å€¼æ˜¯(200, 20, 13)ï¼Œè€Œæˆ‘ä»¬çš„çº¢è‰²å€¼ä¸º(255, 0, 0)ï¼Œå½“toleranceå®¹å·®å€¼ä¸º255æ—¶ï¼Œå³ä¾¿(200, 20, 13)å¹¶ä¸ç­‰äºçº¢è‰²å€¼ä¹Ÿä¼šè¢«â€œæŸ“â€è‰²ï¼Œå®¹å·®å€¼è¶Šå¤§â€œæŸ“â€è‰²èŒƒå›´è¶Šå¹¿åä¹‹åˆ™å.<br>Usage:</p>
<pre class="line-numbers language-java"><code class="language-java"> avoidXfermode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AvoidXfermode</span><span class="token punctuation">(</span><span class="token number">0XFFFFFFFF</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> AvoidXfermode<span class="token punctuation">.</span>Mode<span class="token punctuation">.</span>TARGET<span class="token punctuation">)</span><span class="token punctuation">;</span>  
mPaint<span class="token punctuation">.</span><span class="token function">setXfermode</span><span class="token punctuation">(</span>avoidXfermode<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>API 16+æ²¡æœ‰å…³é—­ç¡¬ä»¶åŠ é€Ÿ</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-5c2a44817fe2dbb8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>API 16ä»¥ä¸‹å…³é—­ç¡¬ä»¶åŠ é€Ÿ<br><img src="http://upload-images.jianshu.io/upload_images/1321512-3a01682c6dde761e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>ç¬¦åˆæ¡ä»¶çš„æ•ˆæœï¼Œåœ¨æˆ‘ä»¬çš„æ¨¡å¼ä¸ºTARGETå®¹å·®å€¼ä¸º0çš„æ—¶å€™æ­¤æ—¶åªæœ‰å½“å›¾ç‰‡ä¸­åƒè‰²é¢œè‰²å€¼ä¸º0XFFFFFFFFçš„åœ°æ–¹æ‰ä¼šè¢«æŸ“è‰²ï¼Œè€Œå…¶ä»–åœ°æ–¹ä¸ä¼šæœ‰æ”¹å˜ï¼Œè€Œå½“å®¹å·®å€¼ä¸º255çš„æ—¶å€™åªè¦æ˜¯è·Ÿ0XFFFFFFFFæœ‰ç‚¹æ¥è¿‘çš„åœ°æ–¹éƒ½ä¼šè¢«æŸ“è‰²ã€‚<br><img src="http://upload-images.jianshu.io/upload_images/1321512-13fe2e833f369acb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"></p>
<p>AvoidXfermode.Mode.AVOID<br>AVOIDæ˜¯æˆ‘ä»¬æŒ‡å®šçš„é¢œè‰²æ˜¯å¦ä¸ç”»å¸ƒä¸ä¸€æ ·<br>AvoidXfermode(0XFFFFFFFF, 0, AvoidXfermode.Mode.AVOID)ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-53dbfcc8f292f5c8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>å½“æ¨¡å¼ä¸ºAVOIDå®¹å·®å€¼ä¸º0æ—¶ï¼Œåªæœ‰å½“å›¾ç‰‡ä¸­åƒç´ é¢œè‰²å€¼ä¸0XFFFFFFFFå®Œå…¨ä¸ä¸€æ ·çš„åœ°æ–¹æ‰ä¼šè¢«æŸ“è‰²<br>AvoidXfermode(0XFFFFFFFF, 255, AvoidXfermode.Mode.AVOID)ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-f519ac37bbaf1bff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>å½“å®¹å·®å€¼ä¸º255æ—¶ï¼Œåªè¦ä¸0XFFFFFFFFç¨å¾®æœ‰ç‚¹ä¸ä¸€æ ·çš„åœ°æ–¹å°±ä¼šè¢«æŸ“è‰²<br>é‚£ä¹ˆè¿™ç©æ„ç©¶ç«Ÿæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿæ¯”å¦‚è¯´å½“æˆ‘ä»¬åªæƒ³åœ¨ç™½è‰²çš„åŒºåŸŸç”»ç‚¹ä¸œè¥¿æˆ–è€…æƒ³æŠŠç™½è‰²åŒºåŸŸçš„åœ°æ–¹æ›¿æ¢ä¸ºå¦ä¸€å¼ å›¾ç‰‡çš„æ—¶å€™å°±å¯ä»¥é‡‡å–è¿™ç§æ–¹å¼ï¼</p>
<h3 id="PixelXorXfermode"><a href="#PixelXorXfermode" class="headerlink" title="PixelXorXfermode"></a><strong>PixelXorXfermode</strong></h3><ul>
<li>API 16ä»¥è¿‡æ—¶</li>
<li>useless</li>
</ul>
<p><strong><a href="http://developer.android.com/reference/android/graphics/PorterDuff.Mode.html" target="_blank" rel="noopener">PorterDuffXfermode</a></strong></p>
<ul>
<li>æ¦‚å¿µæœ€æ—©æ¥è‡ªäºSIGGRAPHçš„Tomas Proterå’ŒTom Duff </li>
<li>æ··åˆå›¾å½¢çš„æ¦‚å¿µæå¤§åœ°æ¨åŠ¨äº†å›¾å½¢å›¾åƒå­¦çš„å‘å±•ï¼Œå»¶ä¼¸åˆ°è®¡ç®—æœºå›¾å½¢å›¾åƒå­¦åƒAdobeå’ŒAutoDeskå…¬å¸è‘—åçš„å¤šæ¬¾è®¾è®¡è½¯ä»¶éƒ½å¯ä»¥è¯´ä¸€å®šç¨‹åº¦ä¸Šå—åˆ°å½±å“.<br><a href="http://developer.android.com/reference/android/graphics/PorterDuff.Mode.html" target="_blank" rel="noopener"><img src="http://upload-images.jianshu.io/upload_images/1321512-05621f0ce42072e0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></a><br>Usage:<pre class="line-numbers language-java"><code class="language-java">paint<span class="token punctuation">.</span><span class="token function">setXfermode</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">PorterDuffXfermode</span><span class="token punctuation">(</span>PorterDuff<span class="token punctuation">.</span>Mode<span class="token punctuation">.</span>SCREEN<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-5edd60e0d85f7b2e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<ul>
<li>Saå…¨ç§°ä¸ºSource alphaè¡¨ç¤ºæºå›¾çš„Alphaé€šé“ï¼›Scå…¨ç§°ä¸ºSource colorè¡¨ç¤ºæºå›¾çš„é¢œè‰²ï¼›Daå…¨ç§°ä¸ºDestination alphaè¡¨ç¤ºç›®æ ‡å›¾çš„Alphaé€šé“ï¼›Dcå…¨ç§°ä¸ºDestination colorè¡¨ç¤ºç›®æ ‡å›¾çš„é¢œè‰²ã€‚ </li>
<li>â€œ[â€¦â€¦]â€é‡Œåˆ†ä¸ºä¸¤éƒ¨åˆ† , å‰ä»£è¡¨è®¡ç®—åçš„Alphaé€šé“ï¼Œåä»£è¡¨è®¡ç®—åçš„é¢œè‰²å€¼ã€‚</li>
<li>More <a href="https://en.wikipedia.org/wiki/Alpha_compositing" target="_blank" rel="noopener">Alpha compositing wiki</a></li>
</ul>
<h3 id="PorterDuffXfermodeé«˜çº§å§¿åŠ¿"><a href="#PorterDuffXfermodeé«˜çº§å§¿åŠ¿" class="headerlink" title="PorterDuffXfermodeé«˜çº§å§¿åŠ¿"></a>PorterDuffXfermodeé«˜çº§å§¿åŠ¿</h3><ul>
<li>PorterDuff.Mode.ADD è®¡ç®—æ–¹å¼ï¼šSaturate(S + D)ï¼›Chineseï¼šé¥±å’Œç›¸åŠ <br><img src="http://upload-images.jianshu.io/upload_images/1321512-eef02b9a9713ca4c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
<li>PorterDuff.Mode.CLEAR</li>
<li>PorterDuff.Mode.DARKEN<br>è®¡ç®—æ–¹å¼ï¼š[Sa + Da - Sa<em>Da, Sc</em>(1 - Da) + Dc*(1 - Sa) + min(Sc, Dc)]ï¼›Chineseï¼šå˜æš—</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-e4bbf242c7385c42.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>ä¸¤ä¸ªå›¾åƒæ··åˆï¼Œè¾ƒæ·±çš„é¢œè‰²æ€»æ˜¯ä¼šè¦†ç›–è¾ƒæµ…çš„é¢œè‰²ï¼Œå¦‚æœä¸¤è€…æ·±æµ…ç›¸åŒåˆ™æ··åˆï¼Œå¦‚å›¾ï¼Œé»„è‰²è¦†ç›–äº†çº¢è‰²è€Œè“è‰²å’Œé’è‰²å› ä¸ºæ˜¯è·Ÿé€æ˜æ··åˆæ‰€ä»¥ä¸å˜.</p>
<ul>
<li>PorterDuff.Mode.DST_IN</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-636ac3c942cd1685.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>ä¸¤å¼ å›¾åˆæˆå»æ‰ç¾å¥³å¤´ä¸Šçš„å­—</p>
<pre class="line-numbers language-java"><code class="language-java">
         <span class="token comment" spellcheck="true">// å…ˆç»˜åˆ¶disç›®æ ‡å›¾</span>
        canvas<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>bitmapDis<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> mPaint<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// è®¾ç½®æ··åˆæ¨¡å¼</span>
        mPaint<span class="token punctuation">.</span><span class="token function">setXfermode</span><span class="token punctuation">(</span>PorterDuff<span class="token punctuation">.</span>Mode<span class="token punctuation">.</span>DST_IN<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// å†ç»˜åˆ¶srcæºå›¾</span>
        canvas<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>bitmapSrc<span class="token comment" spellcheck="true">/*é»‘è‰²åº•å›¾*/</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> mPaint<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// è¿˜åŸæ··åˆæ¨¡å¼</span>
        mPaint<span class="token punctuation">.</span><span class="token function">setXfermode</span><span class="token punctuation">(</span>null<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// è¿˜åŸç”»å¸ƒ</span>
        canvas<span class="token punctuation">.</span><span class="token function">restoreToCount</span><span class="token punctuation">(</span>sc<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-71458373f4246349.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<ul>
<li>PorterDuff.Mode.DST_OUT<br>è®¡ç®—æ–¹å¼ï¼š[Da * (1 - Sa), Dc * (1 - Sa)]ï¼›Chineseï¼šåªåœ¨æºå›¾åƒå’Œç›®æ ‡å›¾åƒä¸ç›¸äº¤çš„åœ°æ–¹ç»˜åˆ¶ç›®æ ‡å›¾åƒ</li>
</ul>
<h2 id="Paint-ä¹‹-Font"><a href="#Paint-ä¹‹-Font" class="headerlink" title="Paint ä¹‹ Font"></a>Paint ä¹‹ Font</h2><h3 id="FontMetrics"><a href="#FontMetrics" class="headerlink" title="FontMetrics"></a><strong>FontMetrics</strong></h3><p><img src="http://upload-images.jianshu.io/upload_images/1321512-ae793a1c884e8858.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Summary"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-4a3daa2477b03f22.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-6a7f6cf38557f408.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<ul>
<li>Top: æ˜¯é™¤äº†Baselineåˆ°å­—ç¬¦é¡¶ç«¯çš„è·ç¦»å¤–è¿˜åº”è¯¥åŒ…å«è¿™äº›ç¬¦å·çš„é«˜åº¦,bottomç±»ä¼¼ ï¼›</li>
<li>Androidä¾ç„¶ä¼šåœ¨ç»˜åˆ¶æ–‡æœ¬çš„æ—¶å€™åœ¨æ–‡æœ¬å¤–å±‚ç•™å‡ºä¸€å®šçš„è¾¹è·ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆtopå’Œbottomæ€»ä¼šæ¯”ascentå’Œdescentå¤§ä¸€ç‚¹çš„åŸå› ã€‚è€Œåœ¨TextViewä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡xmlè®¾ç½®å…¶å±æ€§android:includeFontPadding=â€falseâ€å»æ‰ä¸€å®šçš„è¾¹è·å€¼ä½†æ˜¯ä¸èƒ½å®Œå…¨å»æ‰ã€‚</li>
</ul>
<pre class="line-numbers language-java"><code class="language-java">
         mFontMetrics <span class="token operator">=</span> mPaint<span class="token punctuation">.</span><span class="token function">getFontMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"Aige"</span><span class="token punctuation">,</span> <span class="token string">"ascentï¼š"</span> <span class="token operator">+</span> mFontMetrics<span class="token punctuation">.</span>ascent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"Aige"</span><span class="token punctuation">,</span> <span class="token string">"topï¼š"</span> <span class="token operator">+</span> mFontMetrics<span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"Aige"</span><span class="token punctuation">,</span> <span class="token string">"leadingï¼š"</span> <span class="token operator">+</span> mFontMetrics<span class="token punctuation">.</span>leading<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"Aige"</span><span class="token punctuation">,</span> <span class="token string">"descentï¼š"</span> <span class="token operator">+</span> mFontMetrics<span class="token punctuation">.</span>descent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"Aige"</span><span class="token punctuation">,</span> <span class="token string">"bottomï¼š"</span> <span class="token operator">+</span> mFontMetrics<span class="token punctuation">.</span>bottom<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-d88cb5ce11dd59fe.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Log.d()â€”â€”æ–‡å­—åªæœ‰ä¸€è¡Œï¼Œæ•…leadingä¸ºé›¶"><br>StaticLayoutç»“åˆ<a href="http://developer.android.com/reference/android/text/TextPaint.html" target="_blank" rel="noopener">TextPaint</a>å®ç°æ¢è¡Œ</p>
<pre class="line-numbers language-java"><code class="language-java">mStaticLayout <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StaticLayout</span><span class="token punctuation">(</span>TEXT<span class="token punctuation">,</span> mTextPaint<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Alignment<span class="token punctuation">.</span>ALIGN_NORMAL<span class="token punctuation">,</span> <span class="token number">1.0F</span><span class="token punctuation">,</span> <span class="token number">0.0F</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
mStaticLayout<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="Paint-ä¹‹æ–¹æ³•è§£æ"><a href="#Paint-ä¹‹æ–¹æ³•è§£æ" class="headerlink" title="Paint ä¹‹æ–¹æ³•è§£æ"></a><a href="http://developer.android.com/reference/android/graphics/Paint.html" target="_blank" rel="noopener">Paint</a> ä¹‹æ–¹æ³•è§£æ</h3><ul>
<li>[breakText](<a href="http://developer.android.com/reference/android/graphics/Paint.html#breakText" target="_blank" rel="noopener">http://developer.android.com/reference/android/graphics/Paint.html#breakText</a>(java.lang.CharSequence, int, int, boolean, float, float[]))(<a href="http://developer.android.com/reference/java/lang/CharSequence.html" target="_blank" rel="noopener">CharSequence</a> text, int start, int end, boolean measureForwards, float maxWidth, float[] measuredWidth)<br>Measure the text, stopping early if the measured width exceeds maxWidth.<ul>
<li>measureForwardsè¡¨ç¤ºå‘å‰è¿˜æ˜¯å‘åæµ‹é‡</li>
<li>measuredWidthä¸ºä¸€ä¸ªå¯é€‰é¡¹ï¼Œå¯ä»¥ä¸ºç©ºï¼Œä¸ä¸ºç©ºæ—¶è¿”å›çœŸå®çš„æµ‹é‡å€¼</li>
</ul>
</li>
<li>å®šä¹‰å­—ä½“ Androidä¸­å­—ä½“æœ‰å››ç§æ ·å¼ï¼šBOLDï¼ˆåŠ ç²—ï¼‰,BOLD_ITALICï¼ˆåŠ ç²—å¹¶å€¾æ–œï¼‰,ITALICï¼ˆå€¾æ–œï¼‰,NORMALï¼ˆæ­£å¸¸ï¼‰ï¼›è€Œå…¶ä¸ºæˆ‘ä»¬æä¾›çš„å­—ä½“æœ‰äº”ç§ï¼šDEFAULT,DEFAULT_BOLD,MONOSPACE,SANS_SERIFå’ŒSERIF</li>
</ul>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//ç³»ç»Ÿè‡ªå¸¦</span>
textPaint<span class="token punctuation">.</span><span class="token function">setTypeface</span><span class="token punctuation">(</span>Typeface<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">"SERIF"</span><span class="token punctuation">,</span> Typeface<span class="token punctuation">.</span>NORMAL<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textPaint<span class="token punctuation">.</span><span class="token function">setTypeface</span><span class="token punctuation">(</span>Typeface<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Typeface<span class="token punctuation">.</span>SERIF<span class="token punctuation">,</span> Typeface<span class="token punctuation">.</span>NORMAL<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//è‡ªå®šä¹‰å­—ä½“ ä¸€</span>
<span class="token function">createFromAsset</span><span class="token punctuation">(</span>AssetManager mgr<span class="token punctuation">,</span> String path<span class="token punctuation">)</span>
<span class="token function">createFromFile</span><span class="token punctuation">(</span>String path<span class="token punctuation">)</span>å’Œ<span class="token function">createFromFile</span><span class="token punctuation">(</span>File path<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//è‡ªå®šä¹‰å­—ä½“ äºŒ</span>
<span class="token comment" spellcheck="true">// è·å–å­—ä½“å¹¶è®¾ç½®ç”»ç¬”å­—ä½“</span>
Typeface typeface <span class="token operator">=</span> Typeface<span class="token punctuation">.</span><span class="token function">createFromAsset</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">getAssets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"kt.ttf"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textPaint<span class="token punctuation">.</span><span class="token function">setTypeface</span><span class="token punctuation">(</span>typeface<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>setTextSkewX (float skewX) // è®¾ç½®ç”»ç¬”æ–‡æœ¬å€¾æ–œ  å®˜æ–¹æ¨è-0.25F</li>
<li>setStrikeThruText (boolean strikeThruText)  //æ–‡æœ¬åˆ é™¤çº¿</li>
<li>setLinearText (boolean linearText)<br>è®¾ç½®æ˜¯å¦æ‰“å¼€çº¿æ€§æ–‡æœ¬æ ‡è¯†ï¼Œè¿™ç©æ„å¯¹å¤§å¤šæ•°äººæ¥è¯´éƒ½å¾ˆå¥‡æ€ªä¸çŸ¥é“è¿™ç©æ„ä»€ä¹ˆæ„æ€ã€‚æƒ³è¦æ˜ç™½è¿™ä¸œè¥¿ä½ è¦å…ˆçŸ¥é“æ–‡æœ¬åœ¨Androidä¸­æ˜¯å¦‚ä½•è¿›è¡Œå­˜å‚¨å’Œè®¡ç®—çš„ã€‚åœ¨Androidä¸­æ–‡æœ¬çš„ç»˜åˆ¶éœ€è¦ä½¿ç”¨ä¸€ä¸ªbitmapä½œä¸ºå•ä¸ªå­—ç¬¦çš„ç¼“å­˜ï¼Œæ—¢ç„¶æ˜¯ç¼“å­˜å¿…å®šè¦ä½¿ç”¨ä¸€å®šçš„ç©ºé—´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡setLinearText (true)å‘Šè¯‰Androidæˆ‘ä»¬ä¸éœ€è¦è¿™æ ·çš„æ–‡æœ¬ç¼“å­˜ã€‚</li>
<li>setFakeBoldText (boolean fakeBoldText) //è®¾ç½®æ–‡æœ¬ä»¿ç²—ä½“</li>
</ul>
<p>** setMaskFilter(MaskFilter maskfilter) **</p>
<ul>
<li>å…³é—­ç¡¬ä»¶åŠ é€Ÿ setLayerType(LAYER_TYPE_SOFTWARE, null);  </li>
</ul>
<h2 id="MaskFilter"><a href="#MaskFilter" class="headerlink" title="MaskFilter"></a>MaskFilter</h2><h3 id="BlurMaskFilter"><a href="#BlurMaskFilter" class="headerlink" title="BlurMaskFilter"></a><a href="http://developer.android.com/reference/android/graphics/BlurMaskFilter.html" target="_blank" rel="noopener">BlurMaskFilter</a></h3><p>BlurMaskFilter(float radius, BlurMaskFilter.Blur style)  æ˜¯æ ¹æ®Alphaé€šé“çš„è¾¹ç•Œæ¥è®¡ç®—æ¨¡ç³Šçš„</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-9b82058bb8d768cb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="mPaint.setMaskFilter(new BlurMaskFilter(20, BlurMaskFilter.Blur.SOLID)); "><br>SOLID: åœ¨å›¾åƒçš„Alphaè¾¹ç•Œå¤–äº§ç”Ÿä¸€å±‚ä¸Painté¢œè‰²ä¸€è‡´çš„é˜´å½±æ•ˆæœè€Œä¸å½±å“å›¾åƒæœ¬èº«,è€ŒNORMAL,OUTERå’ŒINNER,NORMALä¼šå°†æ•´ä¸ªå›¾åƒæ¨¡ç³Šæ‰ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-dd0ae05f5bb6b83c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è€ŒNORMALä¼šåœ¨Alphaè¾¹ç•Œå¤–äº§ç”Ÿä¸€å±‚é˜´å½±ä¸”ä¼šå°†åŸæœ¬çš„å›¾åƒå˜é€æ˜"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-969dbe864ea21df3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="OUTERä¼šåœ¨Alphaè¾¹ç•Œå¤–äº§ç”Ÿä¸€å±‚é˜´å½±ä¸”ä¼šå°†åŸæœ¬çš„å›¾åƒå˜é€æ˜ï¼š"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-a2d737f7e141cd00.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="INNERåˆ™ä¼šåœ¨å›¾åƒå†…éƒ¨äº§ç”Ÿæ¨¡ç³Šï¼š"></p>
<ul>
<li>INNERæ•ˆæœå…¶å®å¹¶ä¸ç†æƒ³ï¼Œå®é™…åº”ç”¨ä¸­æˆ‘ä»¬ä½¿ç”¨çš„ä¹Ÿå°‘ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šä½¿ç”¨æ··åˆæ¨¡å¼å’Œæ¸å˜å’Œè·å¾—æ›´å®Œç¾çš„å†…é˜´å½±æ•ˆæœã€‚</li>
<li>ä»Bitmapä¸­è·å–å…¶Alphaé€šé“ï¼Œåœ¨ç»˜åˆ¶Bitmap<pre class="line-numbers language-java"><code class="language-java">      <span class="token comment" spellcheck="true">// è·å–ä½å›¾çš„Alphaé€šé“å›¾</span>
      shadowBitmap <span class="token operator">=</span> srcBitmap<span class="token punctuation">.</span><span class="token function">extractAlpha</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment" spellcheck="true">// å…ˆç»˜åˆ¶é˜´å½±</span>
      canvas<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>shadowBitmap<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> shadowPaint<span class="token punctuation">)</span><span class="token punctuation">;</span>ps
      <span class="token comment" spellcheck="true">// å†ç»˜åˆ¶ä½å›¾</span>
      canvas<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>srcBitmap<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-65441b07e4897adc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•ˆæœ"> </p>
<h3 id="EmbossMaskFilter"><a href="#EmbossMaskFilter" class="headerlink" title="EmbossMaskFilter"></a>EmbossMaskFilter</h3><p><a href="http://developer.android.com/reference/android/graphics/EmbossMaskFilter.html" target="_blank" rel="noopener">EmbossMaskFilter</a>è®©ä½ ç»˜åˆ¶çš„å›¾åƒæ„Ÿè§‰åƒæ˜¯ä»å±å¹•ä¸­â€œå‡¸â€èµ·æ¥æ›´æœ‰ç«‹ä½“æ„Ÿä¸€æ ·ï¼ˆåœ¨è®¾è®¡è½¯ä»¶ä¸­ç±»ä¼¼çš„æ•ˆæœç§°ä¹‹ä¸ºæ–œé¢æµ®é›•ï¼‰ã€‚<br>public EmbossMaskFilter (float[] direction, float ambient, float specular, float blurRadius)</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-c86eea804db449c2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<ul>
<li>direction æŒ‡å…‰ç…§æ–¹å‘,æœ‰è€Œä¸”åªèƒ½æœ‰ä¸‰ä¸ªå€¼å³float[x,y,z],<br>é¦–å…ˆxå’Œyå¾ˆå¥½ç†è§£ï¼Œå¹³é¢çš„ä¸¤ä¸ªç»´åº¦,ä¸Šé¢å°çƒä½¿ç”¨[1,1] 45åº¦è§’, è€Œzè½´è¡¨ç¤ºå…‰æºæ˜¯åœ¨å±å¹•åæ–¹è¿˜æ˜¯å±å¹•å‰æ–¹,ä¸Šé¢æˆ‘ä»¬æ˜¯ç”¨çš„æ˜¯1ï¼Œæ­£å€¼è¡¨ç¤ºå…‰æºå¾€å±å¹•å¤–åç§»1ä¸ªå•ä½ï¼Œè´Ÿå€¼è¡¨ç¤ºå¾€å±å¹•é‡Œé¢åç§»ã€‚[x,y,z]è¡¨ç¤ºçš„æ˜¯ç©ºé—´åæ ‡ï¼Œä»£è¡¨å…‰æºçš„ä½ç½®ï¼Œé‚£ä¹ˆä¸€æ—¦è¿™ä¸ªä½ç½®ç¡®å®šï¼Œ[ax,ay,az]åˆ™æ²¡æœ‰æ„ä¹‰</li>
<li>ambient ç”¨æ¥è®¾ç½®ç¯å¢ƒå…‰çš„ï¼Œåœ¨Androidä¸­ç¯å¢ƒå…‰é»˜è®¤ä¸ºç™½è‰²ï¼Œå…¶å€¼è¶Šå¤§, çƒé˜´å½±è¶Šæµ…</li>
<li>specularæ˜¯è·Ÿé«˜å…‰æœ‰å…³çš„ï¼Œå…¶å€¼æ˜¯ä¸ªåŒå‘å€¼è¶Šå°æˆ–è¶Šå¤§é«˜å…‰è¶Šå¼ºä¸­é—´å€¼åˆ™æ˜¯æœ€å¼±</li>
</ul>
<h2 id="setPathEffect"><a href="#setPathEffect" class="headerlink" title="setPathEffect"></a>setPathEffect</h2><p><a href="http://developer.android.com/reference/android/graphics/Paint.html#setPathEffect(android.graphics.PathEffect)" target="_blank" rel="noopener"><strong>setPathEffect</strong></a>(<a href="http://developer.android.com/reference/android/graphics/PathEffect.html" target="_blank" rel="noopener">PathEffect</a> effect)</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-28a7d7d4a0184dd7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="PathEffect"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-eced4d31240f92cc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å…­ä¸ªå­ç±»åˆ†åˆ«å¯ä»¥å®ç°ä¸åŒçš„è·¯å¾„æ•ˆæœ"></p>
<ul>
<li>ComposePathEffect(PathEffect outerpe, PathEffect innerpe)ä¼šå…ˆå°†è·¯å¾„å˜æˆinnerpeçš„æ•ˆæœï¼Œå†å»å¤åˆouterpeçš„è·¯å¾„æ•ˆæœï¼Œå³ï¼šouterpe(innerpe(Path))ï¼›è€ŒSumPathEffect(PathEffect first, PathEffect second)åˆ™ä¼šæŠŠä¸¤ç§è·¯å¾„æ•ˆæœåŠ èµ·æ¥å†ä½œç”¨äºè·¯å¾„</li>
</ul>
<h2 id="setShadowLayer"><a href="#setShadowLayer" class="headerlink" title="setShadowLayer"></a>setShadowLayer</h2><p><strong>setShadowLayer(float radius, float dx, float dy, int shadowColor)</strong></p>
<ul>
<li>è¯¥æ–¹æ³•ä¸ºæˆ‘ä»¬ç»˜åˆ¶çš„å›¾å½¢æ·»åŠ ä¸€ä¸ªé˜´å½±å±‚æ•ˆæœ</li>
<li>åŒæ ·ä¸æ”¯æŒHW</li>
</ul>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**
     * åˆå§‹åŒ–ç”»ç¬”
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">initPaint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// å®ä¾‹åŒ–ç”»ç¬”</span>
        mPaint <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span>Paint<span class="token punctuation">.</span>ANTI_ALIAS_FLAG<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mPaint<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>RED<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mPaint<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>Style<span class="token punctuation">.</span>FILL<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mPaint<span class="token punctuation">.</span><span class="token function">setShadowLayer</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> Color<span class="token punctuation">.</span>DKGRAY<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-dc54b487331bc55c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="setShadowLayer"></p>
<h2 id="Shader"><a href="#Shader" class="headerlink" title="Shader"></a><a href="http://developer.android.com/reference/android/graphics/Shader.html" target="_blank" rel="noopener">Shader</a></h2><p><img src="http://upload-images.jianshu.io/upload_images/1321512-9c835814fe118758.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Shader"></p>
<h3 id="BitmapShader"><a href="#BitmapShader" class="headerlink" title="BitmapShader"></a><strong>BitmapShader</strong></h3><p>[BitmapShader](<a href="http://developer.android.com/reference/android/graphics/BitmapShader.html#BitmapShader" target="_blank" rel="noopener">http://developer.android.com/reference/android/graphics/BitmapShader.html#BitmapShader</a>(android.graphics.Bitmap, android.graphics.Shader.TileMode, android.graphics.Shader.TileMode))(<a href="http://developer.android.com/reference/android/graphics/Bitmap.html" target="_blank" rel="noopener">Bitmap</a> bitmap, <a href="http://developer.android.com/reference/android/graphics/Shader.TileMode.html" target="_blank" rel="noopener">Shader.TileMode</a> tileX, Shader.TileMode tileY)<br>Usage:<br> <code>mPaint.setShader(new BitmapShader(bitmap, Shader.TileMode.MIRROR, Shader.TileMode.MIRROR));</code><br>Shader.TileMode</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-429c4b5b87ee42e9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="BitmapShader(bitmap, Shader.TileMode.MIRROR, Shader.TileMode.MIRROR)"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-a8a376efeb396145.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="BitmapShader(bitmap, Shader.TileMode.REPEAT, Shader.TileMode.REPEAT)"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-26cc878c09718d6c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="BitmapShader(bitmap, Shader.TileMode.CLAMP, Shader.TileMode.MIRROR)"></p>
<ul>
<li>ç€è‰²æ˜¯å…ˆåœ¨Yè½´æ‹‰ä¼¸äº†ç„¶åå†æ²¿ç€Xè½´é‡å¤å¯¹</li>
</ul>
<h3 id="LinearGradient"><a href="#LinearGradient" class="headerlink" title="LinearGradient"></a><strong>LinearGradient</strong></h3><ul>
<li>mPaint.setShader(new LinearGradient(left, top, right - RECT_SIZE, bottom - RECT_SIZE, Color.RED, Color.YELLOW, Shader.TileMode.REPEAT));   //(left,top) èµ·ç‚¹åæ ‡ï¼Œ (right-RECT_SIZE, bottom-RECT_SIZE) ç»ˆç‚¹åæ ‡ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/1321512-8abc8e6d219ba11f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
<li>LinearGradient(left, top, right, bottom, new int[] { Color.RED, Color.YELLOW, Color.GREEN, Color.CYAN, Color.BLUE }, new float[] { 0, 0.1F, 0.5F, 0.7F, 0.8F }, Shader.TileMode.MIRROR)ï¼Œæ•ˆæœå¦‚ä¸‹å›¾ï¼š<ul>
<li>new int[](colors[]) å®šä¹‰æ¸å˜é¢œè‰²</li>
<li>new float[](positions[]) å®šä¹‰æ¸å˜åŒºé—´,å–å€¼åŒºé—´[0, 100%]ï¼Œæ„æ€æ˜¯æ•´ä¸ªæ¸å˜å æ¸å˜åŒºåŸŸçš„ç™¾åˆ†æ¯”</li>
</ul>
</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-8abb4c67099048e0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-c39e7f5bacace753.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="positions[] =null, å„é¢œè‰²å‡åˆ†"></p>
<p>åº”ç”¨æ¡ˆä¾‹å›¾ç‰‡1â€”â€”å€’å½±ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-ed98c0646e213843.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="reflect"></p>
<pre class="line-numbers language-java"><code class="language-java">        <span class="token comment" spellcheck="true">// å®ä¾‹åŒ–ä¸€ä¸ªçŸ©é˜µå¯¹è±¡</span>
        Matrix matrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Matrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        matrix<span class="token punctuation">.</span><span class="token function">setScale</span><span class="token punctuation">(</span><span class="token number">1F</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1F</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// ç”Ÿæˆå€’å½±å›¾</span>
        mRefBitmap <span class="token operator">=</span> Bitmap<span class="token punctuation">.</span><span class="token function">createBitmap</span><span class="token punctuation">(</span>mSrcBitmap<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> mSrcBitmap<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> mSrcBitmap<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> matrix<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//ç”Ÿäº§æ¶ˆå¤±æ¸å˜</span>
        mPaint<span class="token punctuation">.</span><span class="token function">setShader</span><span class="token punctuation">(</span>
                        <span class="token keyword">new</span> <span class="token class-name">LinearGradient</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">+</span> mSrcBitmap<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span>
                                y <span class="token operator">+</span> mSrcBitmap<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> mSrcBitmap<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">,</span>
                                <span class="token number">0xAA000000</span><span class="token punctuation">,</span> Color<span class="token punctuation">.</span>TRANSPARENT<span class="token punctuation">,</span> Shader<span class="token punctuation">.</span>TileMode<span class="token punctuation">.</span>CLAMP<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//åˆæˆæ•ˆæœ</span>
    mXfermode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PorterDuffXfermode</span><span class="token punctuation">(</span>PorterDuff<span class="token punctuation">.</span>Mode<span class="token punctuation">.</span>DST_IN<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onDraw</span><span class="token punctuation">(</span>Canvas canvas<span class="token punctuation">)</span><span class="token punctuation">{</span>
        canvas<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>srcBitmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> sc <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">saveLayer</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span>Canvas<span class="token punctuation">.</span>ALL_SAVE_FLAG<span class="token punctuation">)</span> <span class="token punctuation">;</span>

        canvas<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>mRefBitmap<span class="token punctuation">)</span>
        mPaint<span class="token punctuation">.</span><span class="token function">setXfermode</span><span class="token punctuation">(</span>mXfermode<span class="token punctuation">)</span> <span class="token punctuation">;</span>
        canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span>top<span class="token punctuation">,</span>right<span class="token punctuation">,</span>bottom<span class="token punctuation">,</span>mPaint<span class="token punctuation">)</span> <span class="token punctuation">;</span>
        mPaint<span class="token punctuation">.</span><span class="token function">setXfermode</span><span class="token punctuation">(</span>mXfermode<span class="token punctuation">)</span><span class="token punctuation">;</span>
        canvas<span class="token punctuation">.</span><span class="token function">restoreToCount</span><span class="token punctuation">(</span>sc<span class="token punctuation">)</span> <span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åº”ç”¨æ¡ˆä¾‹å›¾ç‰‡2-ï¼ˆå»é¥±å’Œã€æäº®ã€è‰²ç›¸çŸ«æ­£ï¼‰<br>å§¿åŠ¿è¯€çªç¬¬ä¸€å¼ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/1321512-6daae0620f962d72.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¸“ä¸šæœ¯è¯­ä¹‹æ¢¦å¹»ç‰¹æ•ˆ"></p>
<pre class="line-numbers language-java"><code class="language-java">        <span class="token comment" spellcheck="true">// å®ä¾‹åŒ–æ··åˆæ¨¡å¼</span>
        mXfermode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PorterDuffXfermode</span><span class="token punctuation">(</span>PorterDuff<span class="token punctuation">.</span>Mode<span class="token punctuation">.</span>SCREEN<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// å»é¥±å’Œã€æäº®ã€è‰²ç›¸çŸ«æ­£</span>
        mBitmapPaint<span class="token punctuation">.</span><span class="token function">setColorFilter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ColorMatrixColorFilter</span><span class="token punctuation">(</span>
                <span class="token keyword">new</span> <span class="token class-name">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
                        <span class="token number">0.8587F</span><span class="token punctuation">,</span> <span class="token number">0.2940F</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.0927F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6.79F</span><span class="token punctuation">,</span>
                        <span class="token number">0.0821F</span><span class="token punctuation">,</span> <span class="token number">0.9145F</span><span class="token punctuation">,</span> <span class="token number">0.0634F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6.79F</span><span class="token punctuation">,</span>
                        <span class="token number">0.2019F</span><span class="token punctuation">,</span> <span class="token number">0.1097F</span><span class="token punctuation">,</span> <span class="token number">0.7483F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6.79F</span><span class="token punctuation">,</span>
                        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onDraw</span><span class="token punctuation">(</span>Canvas canvas<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">int</span> sc <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">saveLayer</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span>Canvas<span class="token punctuation">.</span>ALL_SAVE_FLAG<span class="token punctuation">)</span> <span class="token punctuation">;</span>
        canvas<span class="token punctuation">.</span><span class="token function">drawColor</span><span class="token punctuation">(</span><span class="token number">0xcc1c093e</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
        mPaint<span class="token punctuation">.</span><span class="token function">setXfermode</span><span class="token punctuation">(</span>mXfermode<span class="token punctuation">)</span> <span class="token punctuation">;</span>
        canvas<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>bitmap<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>mPaint<span class="token punctuation">)</span> <span class="token punctuation">;</span>
        mPaint<span class="token punctuation">.</span><span class="token function">setXfermode</span><span class="token punctuation">(</span>null<span class="token punctuation">)</span> <span class="token punctuation">;</span>
        canvas<span class="token punctuation">.</span><span class="token function">restoreToCount</span><span class="token punctuation">(</span>sc<span class="token punctuation">)</span> <span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ¨¡æ‹Ÿå•åç›¸æœºçš„æš—è§’æ•ˆæœï¼Œå‹æš—å›¾ç‰‡å‘¨å›´çš„é¢œè‰²äº®åº¦æäº®ä¸­å¿ƒï¼š</p>
<h3 id="RadialGradient"><a href="#RadialGradient" class="headerlink" title="RadialGradient"></a>RadialGradient</h3><p>å§¿åŠ¿è¯€çªç¬¬äºŒå¼ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/1321512-fadf93e521b00064.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="RadialGradientPs.png"></p>
<pre class="line-numbers language-java"><code class="language-java">      <span class="token function">onDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> æœ€åæ·»åŠ 
        <span class="token comment" spellcheck="true">// å®ä¾‹åŒ–æ··åˆæ¨¡å¼</span>
        <span class="token comment" spellcheck="true">// ä¸­å¿ƒé¢œè‰²ä¸ºé€æ˜è€Œè¾¹ç¼˜é¢œè‰²ä¸ºé»‘è‰²</span>
        mShaderPaint<span class="token punctuation">.</span><span class="token function">setShader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RadialGradient</span><span class="token punctuation">(</span>screenW <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> screenH <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
                mBitmap<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">7</span> <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">,</span> Color<span class="token punctuation">.</span>TRANSPARENT<span class="token punctuation">,</span> Color<span class="token punctuation">.</span>BLACK<span class="token punctuation">,</span> Shader<span class="token punctuation">.</span>TileMode<span class="token punctuation">.</span>CLAMP<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// ç»˜åˆ¶ä¸€ä¸ªè·Ÿå›¾ç‰‡å¤§å°ä¸€æ ·çš„çŸ©å½¢</span>
        canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> x <span class="token operator">+</span> mBitmap<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">+</span> mBitmap<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> mShaderPaint<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å§¿åŠ¿äºŒå­˜åœ¨çš„é—®é¢˜ï¼š</p>
<ul>
<li>åªèƒ½æ˜¯åœ†å½¢çš„æ¸å˜ï¼Œå¯¹é¢œè‰²åŒºåŸŸçš„æŠŠæ§èƒ½åŠ›ä¸è¶³ ï¼›</li>
</ul>
<p>å§¿åŠ¿2.1 çŸ©é˜µäº®ç›¸</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-f2e7497cb9dffbc7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="MatrixPs.png"></p>
<pre class="line-numbers language-java"><code class="language-java">    <span class="token comment" spellcheck="true">// æ ¹æ®æˆ‘ä»¬æºå›¾çš„å¤§å°ç”Ÿæˆæš—è§’Bitmap</span>
        darkCornerBitmap <span class="token operator">=</span> Bitmap<span class="token punctuation">.</span><span class="token function">createBitmap</span><span class="token punctuation">(</span>mBitmap<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> mBitmap<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Bitmap<span class="token punctuation">.</span>Config<span class="token punctuation">.</span>ARGB_8888<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// å°†è¯¥æš—è§’Bitmapæ³¨å…¥Canvas</span>
        Canvas canvas <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Canvas</span><span class="token punctuation">(</span>darkCornerBitmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// è®¡ç®—å¾„å‘æ¸å˜åŠå¾„</span>
        <span class="token keyword">float</span> radiu <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">2F</span> <span class="token operator">/</span> <span class="token number">3F</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// å®ä¾‹åŒ–Shaderå›¾å½¢çš„ç”»ç¬”</span>
        mShaderPaint <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// è®¾ç½®å¾„å‘æ¸å˜ï¼Œæ¸å˜ä¸­å¿ƒå½“ç„¶æ˜¯å›¾ç‰‡çš„ä¸­å¿ƒä¹Ÿæ˜¯å±å¹•ä¸­å¿ƒï¼Œæ¸å˜åŠå¾„æˆ‘ä»¬ç›´æ¥æ‹¿å›¾ç‰‡çš„é«˜åº¦ä½†æ˜¯è¦ç¨å¾®å°ä¸€ç‚¹</span>
        <span class="token comment" spellcheck="true">// ä¸­å¿ƒé¢œè‰²ä¸ºé€æ˜è€Œè¾¹ç¼˜é¢œè‰²ä¸ºé»‘è‰²</span>
        RadialGradient radialGradient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RadialGradient</span><span class="token punctuation">(</span>screenW <span class="token operator">/</span> <span class="token number">2</span> <span class="token punctuation">,</span> screenH <span class="token operator">/</span> <span class="token number">2</span> <span class="token punctuation">,</span>
                mBitmap<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">7</span> <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">,</span> Color<span class="token punctuation">.</span>TRANSPARENT<span class="token punctuation">,</span> Color<span class="token punctuation">.</span>BLACK<span class="token punctuation">,</span> Shader<span class="token punctuation">.</span>TileMode<span class="token punctuation">.</span>CLAMP<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// å®ä¾‹åŒ–ä¸€ä¸ªçŸ©é˜µ</span>
        Matrix matrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Matrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// è®¾ç½®çŸ©é˜µçš„ç¼©æ”¾</span>
        matrix<span class="token punctuation">.</span><span class="token function">setScale</span><span class="token punctuation">(</span>canvas<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>radiu <span class="token operator">*</span> <span class="token number">2F</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1.0F</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// è®¾ç½®çŸ©é˜µçš„é¢„å¹³ç§»</span>
        matrix<span class="token punctuation">.</span><span class="token function">preTranslate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>radiu <span class="token operator">*</span> <span class="token number">2F</span><span class="token punctuation">)</span> <span class="token operator">-</span> canvas<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2F</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// å°†è¯¥çŸ©é˜µæ³¨å…¥å¾„å‘æ¸å˜</span>
        radialGradient<span class="token punctuation">.</span><span class="token function">setLocalMatrix</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mShaderPaint<span class="token punctuation">.</span><span class="token function">setShader</span><span class="token punctuation">(</span>radialGradient<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// ç»˜åˆ¶çŸ©å½¢</span>
        canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> mShaderPaint<span class="token punctuation">)</span><span class="token punctuation">;</span>
               æŠŠå§¿åŠ¿äºŒonDrawæ¢æˆ
        <span class="token comment" spellcheck="true">//ç»˜åˆ¶æˆ‘ä»¬ç”»å¥½çš„å¾„å‘æ¸å˜å›¾      </span>
        canvas<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>darkCornerBitmap<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>nginx å­¦ä¹ ç¬”è®°</title>
    <url>/2019/09/11/2019-6-5-nginx/</url>
    <content><![CDATA[<h1 id="ç¬¬ä¸€ç« -Nginx-ç®€ä»‹"><a href="#ç¬¬ä¸€ç« -Nginx-ç®€ä»‹" class="headerlink" title="ç¬¬ä¸€ç«  Nginx ç®€ä»‹"></a>ç¬¬ä¸€ç«  Nginx ç®€ä»‹</h1><blockquote>
<p>nginx [engine x] is an HTTP and reverse proxy server, a mail proxy server, and a generic TCP/UDP proxy server</p>
<p>nginx  æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„<a href="https://baike.baidu.com/item/HTTP" target="_blank" rel="noopener">HTTP</a>å’Œ<a href="https://baike.baidu.com/item/åå‘ä»£ç†/7793488" target="_blank" rel="noopener">åå‘ä»£ç†</a>webæœåŠ¡å™¨</p>
</blockquote>
<h2 id="1-0-Basic-HTTP-server-features"><a href="#1-0-Basic-HTTP-server-features" class="headerlink" title="1.0 Basic HTTP server features"></a>1.0 Basic HTTP server features</h2><ul>
<li>Serving static and <a href="https://nginx.org/en/docs/http/ngx_http_index_module.html" target="_blank" rel="noopener">index</a> files, <a href="https://nginx.org/en/docs/http/ngx_http_autoindex_module.html" target="_blank" rel="noopener">autoindexing</a>; <a href="https://nginx.org/en/docs/http/ngx_http_core_module.html#open_file_cache" target="_blank" rel="noopener">open file descriptor cache</a>;</li>
<li><a href="https://nginx.org/en/docs/http/ngx_http_proxy_module.html" target="_blank" rel="noopener">Accelerated reverse proxying with caching</a>; <a href="https://nginx.org/en/docs/http/ngx_http_upstream_module.html" target="_blank" rel="noopener">load balancing and fault tolerance</a>;</li>
<li>Accelerated support with caching of <a href="https://nginx.org/en/docs/http/ngx_http_fastcgi_module.html" target="_blank" rel="noopener">FastCGI</a>, <a href="https://nginx.org/en/docs/http/ngx_http_uwsgi_module.html" target="_blank" rel="noopener">uwsgi</a>, <a href="https://nginx.org/en/docs/http/ngx_http_scgi_module.html" target="_blank" rel="noopener">SCGI</a>, and <a href="https://nginx.org/en/docs/http/ngx_http_memcached_module.html" target="_blank" rel="noopener">memcached</a> servers; <a href="https://nginx.org/en/docs/http/ngx_http_upstream_module.html" target="_blank" rel="noopener">load balancing and fault tolerance</a>;</li>
<li>Modular architecture. Filters include <a href="https://nginx.org/en/docs/http/ngx_http_gzip_module.html" target="_blank" rel="noopener">gzipping</a>, byte ranges, chunked responses, <a href="https://nginx.org/en/docs/http/ngx_http_xslt_module.html" target="_blank" rel="noopener">XSLT</a>, <a href="https://nginx.org/en/docs/http/ngx_http_ssi_module.html" target="_blank" rel="noopener">SSI</a>, and <a href="https://nginx.org/en/docs/http/ngx_http_image_filter_module.html" target="_blank" rel="noopener">image transformation</a> filter. Multiple SSI inclusions within a single page can be processed in parallel if they are handled by proxied or FastCGI/uwsgi/SCGI servers;</li>
<li><a href="https://nginx.org/en/docs/http/ngx_http_ssl_module.html" target="_blank" rel="noopener">SSL and TLS SNI support</a>;</li>
<li>Support for <a href="https://nginx.org/en/docs/http/ngx_http_v2_module.html" target="_blank" rel="noopener">HTTP/2</a> with weighted and dependency-based prioritization.</li>
</ul>
<h2 id="2-0-Other-HTTP-server-features"><a href="#2-0-Other-HTTP-server-features" class="headerlink" title="2.0 Other HTTP server features"></a>2.0 Other HTTP server features</h2><ul>
<li>Name-based and IP-based <a href="https://nginx.org/en/docs/http/request_processing.html" target="_blank" rel="noopener">virtual servers</a>;</li>
<li><a href="https://nginx.org/en/docs/http/ngx_http_core_module.html#keepalive_timeout" target="_blank" rel="noopener">Keep-alive</a> and pipelined connections support;</li>
<li><a href="https://nginx.org/en/docs/http/ngx_http_log_module.html#log_format" target="_blank" rel="noopener">Access log formats</a>, <a href="https://nginx.org/en/docs/http/ngx_http_log_module.html#access_log" target="_blank" rel="noopener">buffered log writing</a>, <a href="https://nginx.org/en/docs/control.html#logs" target="_blank" rel="noopener">fast log rotation</a>, and <a href="https://nginx.org/en/docs/syslog.html" target="_blank" rel="noopener">syslog logging</a>;</li>
<li>3xx-5xx error codes <a href="https://nginx.org/en/docs/http/ngx_http_core_module.html#error_page" target="_blank" rel="noopener">redirection</a>;</li>
<li>The rewrite module: <a href="https://nginx.org/en/docs/http/ngx_http_rewrite_module.html" target="_blank" rel="noopener">URI changing using regular expressions</a>;</li>
<li><a href="https://nginx.org/en/docs/http/ngx_http_rewrite_module.html#if" target="_blank" rel="noopener">Executing different functions</a> depending on the <a href="https://nginx.org/en/docs/http/ngx_http_geo_module.html" target="_blank" rel="noopener">client address</a>;</li>
<li>Access control based on <a href="https://nginx.org/en/docs/http/ngx_http_access_module.html" target="_blank" rel="noopener">client IP address</a>, <a href="https://nginx.org/en/docs/http/ngx_http_auth_basic_module.html" target="_blank" rel="noopener">by password (HTTP Basic authentication)</a> and by the<a href="https://nginx.org/en/docs/http/ngx_http_auth_request_module.html" target="_blank" rel="noopener">result of subrequest</a>;</li>
<li>Validation of <a href="https://nginx.org/en/docs/http/ngx_http_referer_module.html" target="_blank" rel="noopener">HTTP referer</a>;</li>
<li>The <a href="https://nginx.org/en/docs/http/ngx_http_dav_module.html" target="_blank" rel="noopener">PUT, DELETE, MKCOL, COPY, and MOVE</a> methods;</li>
<li><a href="https://nginx.org/en/docs/http/ngx_http_flv_module.html" target="_blank" rel="noopener">FLV</a> and <a href="https://nginx.org/en/docs/http/ngx_http_mp4_module.html" target="_blank" rel="noopener">MP4</a> streaming;</li>
<li><a href="https://nginx.org/en/docs/http/ngx_http_core_module.html#limit_rate" target="_blank" rel="noopener">Response rate limiting</a>;</li>
<li>Limiting the number of simultaneous <a href="https://nginx.org/en/docs/http/ngx_http_limit_conn_module.html" target="_blank" rel="noopener">connections</a> or <a href="https://nginx.org/en/docs/http/ngx_http_limit_req_module.html" target="_blank" rel="noopener">requests</a> coming from one address;</li>
<li><a href="https://nginx.org/en/docs/http/ngx_http_geoip_module.html" target="_blank" rel="noopener">IP-based geolocation</a>;</li>
<li><a href="https://nginx.org/en/docs/http/ngx_http_split_clients_module.html" target="_blank" rel="noopener">A/B testing</a>;</li>
<li><a href="https://nginx.org/en/docs/http/ngx_http_mirror_module.html" target="_blank" rel="noopener">Request mirroring</a>;</li>
<li>Embedded <a href="https://nginx.org/en/docs/http/ngx_http_perl_module.html" target="_blank" rel="noopener">Perl</a>;</li>
<li><a href="https://nginx.org/en/docs/njs/index.html" target="_blank" rel="noopener">njs</a> scripting language.</li>
</ul>
<h2 id="3-0-TCP-UDP-proxy-server-features"><a href="#3-0-TCP-UDP-proxy-server-features" class="headerlink" title="3.0 TCP/UDP proxy server features"></a>3.0 TCP/UDP proxy server features</h2><ul>
<li><p><a href="https://nginx.org/en/docs/stream/ngx_stream_proxy_module.html" target="_blank" rel="noopener">Generic proxying</a> of TCP and UDP;</p>
</li>
<li><p><a href="https://nginx.org/en/docs/stream/ngx_stream_ssl_module.html" target="_blank" rel="noopener">SSL</a> and TLS <a href="https://nginx.org/en/docs/stream/ngx_stream_ssl_preread_module.html" target="_blank" rel="noopener">SNI</a> support for TCP;</p>
</li>
<li><p><a href="https://nginx.org/en/docs/stream/ngx_stream_upstream_module.html" target="_blank" rel="noopener">Load balancing and fault tolerance</a>;</p>
</li>
<li><p>Access control based on <a href="https://nginx.org/en/docs/stream/ngx_stream_access_module.html" target="_blank" rel="noopener">client address</a>;</p>
</li>
<li><p>Executing different functions depending on the <a href="https://nginx.org/en/docs/stream/ngx_stream_geo_module.html" target="_blank" rel="noopener">client address</a>;</p>
</li>
<li><p>Limiting the number of simultaneous <a href="https://nginx.org/en/docs/stream/ngx_stream_limit_conn_module.html" target="_blank" rel="noopener">connections</a> coming from one address;</p>
</li>
<li><p><a href="https://nginx.org/en/docs/stream/ngx_stream_log_module.html#log_format" target="_blank" rel="noopener">Access log formats</a>, <a href="https://nginx.org/en/docs/stream/ngx_stream_log_module.html#access_log" target="_blank" rel="noopener">buffered log writing</a>, <a href="https://nginx.org/en/docs/control.html#logs" target="_blank" rel="noopener">fast log rotation</a>, and <a href="https://nginx.org/en/docs/syslog.html" target="_blank" rel="noopener">syslog logging</a>;</p>
</li>
<li><p><a href="https://nginx.org/en/docs/stream/ngx_stream_geoip_module.html" target="_blank" rel="noopener">IP-based geolocation</a>;</p>
</li>
<li><p><a href="https://nginx.org/en/docs/stream/ngx_stream_split_clients_module.html" target="_blank" rel="noopener">A/B testing</a>;</p>
</li>
<li><p><a href="https://nginx.org/en/docs/njs/index.html" target="_blank" rel="noopener">njs</a> scripting language.</p>
<h2 id="4-0-Nginx-ä¼˜ç‚¹"><a href="#4-0-Nginx-ä¼˜ç‚¹" class="headerlink" title="4.0 Nginx ä¼˜ç‚¹"></a>4.0 Nginx ä¼˜ç‚¹</h2></li>
</ul>
<ol>
<li><p>IO å¤šè·¯å¤ç”¨epoll<br><img src="http://cdn.linz.tech/nginx-2019-6-13-io-epoll.png" alt=""></p>
<blockquote>
<p>ä»€ä¹ˆæ˜¯IOå¤šè·¯å¤ç”¨ï¼š å¤šä¸ªæè¿°ç¬¦çš„I/Oæ“ä½œéƒ½èƒ½åœ¨ä¸€ä¸ªçº¿ç¨‹å†…å¹¶å‘äº¤æ›¿åœ°é¡ºåºå®Œæˆï¼Œå…¶ä¸­<code>å¤ç”¨</code>æŒ‡å¤ç”¨åŒä¸€ä¸ªçº¿ç¨‹ã€‚</p>
</blockquote>
</li>
<li><p>è½»é‡çº§ï¼ŒåŠŸèƒ½æ¨¡å—åŒ–ï¼Œä»£ç æ¨¡å—åŒ–</p>
</li>
<li><p>CPUäº²å’Œï¼ˆafflinityï¼‰</p>
<blockquote>
<p>ä»€ä¹ˆæ˜¯CPUäº²å’Œï¼š æ˜¯ä¸€ç§CPUæ ¸å¿ƒå’ŒNginxå·¥ä½œè¿›ç¨‹ç»‘å®šçš„æ–¹å¼ï¼ŒæŠŠæ²¡ä¸€ä¸ªWorkerè¿›ç¨‹å›ºå®šåœ¨ä¸€ä¸ªcpuä¸Šæ‰§è¡Œï¼Œå‡å°‘åˆ‡æ¢cpuçš„cache miss, è·å–æ›´å¥½çš„æ€§èƒ½ã€‚</p>
</blockquote>
</li>
<li><p>sendFile<br><img src="http://cdn.linz.tech/nginx-2019-6-13-io-sendfile.png" alt=""></p>
</li>
</ol>
<h1 id="ç¬¬äºŒç« -åŸºç¡€ç¯‡"><a href="#ç¬¬äºŒç« -åŸºç¡€ç¯‡" class="headerlink" title="ç¬¬äºŒç«  åŸºç¡€ç¯‡"></a>ç¬¬äºŒç«  åŸºç¡€ç¯‡</h1><h2 id="Nginxå¿«é€Ÿæ­å»º"><a href="#Nginxå¿«é€Ÿæ­å»º" class="headerlink" title="Nginxå¿«é€Ÿæ­å»º"></a>Nginxå¿«é€Ÿæ­å»º</h2><p>å®˜ç½‘ï¼š <a href="http://nginx.org/" target="_blank" rel="noopener">http://nginx.org/</a></p>
<p>Mainline version å¼€å‘ç‰ˆæœ¬</p>
<p>Stable version ç¨³å®šç‰ˆæœ¬</p>
<p>Legacy version å†å²ç‰ˆæœ¬</p>
<h3 id="Pre-Built-Packages"><a href="#Pre-Built-Packages" class="headerlink" title="Pre-Built Packages"></a>Pre-Built Packages</h3><p>æœ‰å¯¹åº”ç³»ç»Ÿçš„å®‰è£…æ–¹å¼ <a href="http://nginx.org/en/linux_packages.html" target="_blank" rel="noopener">linux_package</a></p>
<pre class="line-numbers language-shell"><code class="language-shell">vim /etc/yum.repos.d/nginx.repos<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="Nginx-åŸºæœ¬å‘½ä»¤ä½¿ç”¨"><a href="#Nginx-åŸºæœ¬å‘½ä»¤ä½¿ç”¨" class="headerlink" title="Nginx åŸºæœ¬å‘½ä»¤ä½¿ç”¨"></a>Nginx åŸºæœ¬å‘½ä»¤ä½¿ç”¨</h2><p>Ã˜  -hï¼šæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯</p>
<p>Ã˜  -vï¼šæ˜¾ç¤ºTengineç‰ˆæœ¬</p>
<p>Ã˜  -mï¼šæ˜¾ç¤ºæ‰€æœ‰é™æ€ç¼–è¯‘çš„æ¨¡å—</p>
<p>Ã˜  -lï¼šæ˜¾ç¤ºæ‰€æœ‰å¯é…ç½®çš„æŒ‡ä»¤</p>
<p>Ã˜  -Vï¼šæ˜¾ç¤ºç‰ˆæœ¬ã€ç¼–è¯‘å®‰è£…æ—¶çš„é€‰é¡¹ã€æ‰€æœ‰é™æ€ç¼–è¯‘çš„æ¨¡å—</p>
<p>Ã˜  -tï¼šæ£€æŸ¥Tengineé…ç½®æ–‡ä»¶è¯­æ³•</p>
<p>Ã˜  -s [stop | quit | reopen | reload]ï¼šå…³é—­ | é€€å‡º | é‡æ–°æ‰“å¼€ | é‡è½½Tengine</p>
<ul>
<li><a href="https://www.cnblogs.com/jiangwangxiang/p/8481661.html" target="_blank" rel="noopener">windowsä¸‹nginxçš„å®‰è£…åŠä½¿ç”¨</a> </li>
</ul>
<pre class="line-numbers language-shell"><code class="language-shell">  start nginx
  nginx -s stop(å¿«é€Ÿåœæ­¢nginx)  æˆ–  nginx -s quit(å®Œæ•´æœ‰åºçš„åœæ­¢nginx)
  nginx.exe -t # æµ‹è¯•conf
  nginx.exe -s reload #é‡æ–°åŠ è½½conf
  taskkill /IM  nginx.exe  /F # kill æ‰€æœ‰åå°nginxå®ä¾‹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>Nginx å¸¸ç”¨å‘½ä»¤</li>
</ul>
<pre class="line-numbers language-shell"><code class="language-shell">  sudo nginx #æ‰“å¼€ nginx
  nginx -s reload|reopen|stop|quit  #é‡æ–°åŠ è½½é…ç½®|é‡å¯|åœæ­¢|é€€å‡º nginx
  nginx -t   #æµ‹è¯•é…ç½®æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯

  nginx [-?hvVtq] [-s signal] [-c filename] [-p prefix] [-g directives]

  -?,-h           : æ‰“å¼€å¸®åŠ©ä¿¡æ¯
  -v              : æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡º
  -V              : æ˜¾ç¤ºç‰ˆæœ¬å’Œé…ç½®é€‰é¡¹ä¿¡æ¯ï¼Œç„¶åé€€å‡º
  -t              : æ£€æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼Œç„¶åé€€å‡º
  -q              : åœ¨æ£€æµ‹é…ç½®æ–‡ä»¶æœŸé—´å±è”½éé”™è¯¯ä¿¡æ¯
  -s signal       : stopï¼ˆåœæ­¢ï¼‰, quitï¼ˆé€€å‡ºï¼‰, reopenï¼ˆé‡å¯ï¼‰, reload
  -p prefix       : è®¾ç½®å‰ç¼€è·¯å¾„ï¼ˆé»˜è®¤æ˜¯ï¼š/usr/local/Cellar/nginx/1.2.6/ï¼‰
  -c filename     : è®¾ç½®é…ç½®æ–‡ä»¶ï¼ˆé»˜è®¤æ˜¯ï¼š/usr/local/etc/nginx/nginx.confï¼‰
  -g directives   : è®¾ç½®é…ç½®æ–‡ä»¶å¤–çš„å…¨å±€æŒ‡ä»¤<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>nginx -t  èƒ½æŸ¥çœ‹é…ç½®æ–‡ä»¶æ‰€åœ¨ç›®å½•</p>
<pre class="line-numbers language-shell"><code class="language-shell">nginx: the configuration file /usr/local/tengine/conf/nginx.conf syntax is ok
nginx: configuration file /usr/local/tengine/conf/nginx.conf test is successful<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>é˜¿é‡Œäº‘åå°é…ç½®æ–‡ä»¶è·¯å¾„ï¼š<code>/usr/local/tengine/conf/nginx.conf</code></p>
<h2 id="Nginxçš„ç›®å½•å’Œé…ç½®è¯­æ³•"><a href="#Nginxçš„ç›®å½•å’Œé…ç½®è¯­æ³•" class="headerlink" title="Nginxçš„ç›®å½•å’Œé…ç½®è¯­æ³•"></a>Nginxçš„ç›®å½•å’Œé…ç½®è¯­æ³•</h2><h3 id="Building-nginx-from-Sources"><a href="#Building-nginx-from-Sources" class="headerlink" title="Building nginx from Sources"></a>Building nginx from Sources</h3><p><a href="https://nginx.org/en/docs/configure.html" target="_blank" rel="noopener">https://nginx.org/en/docs/configure.html</a></p>
<h3 id="Core-functionality"><a href="#Core-functionality" class="headerlink" title="Core functionality"></a>Core functionality</h3><p><a href="https://nginx.org/en/docs/ngx_core_module.html" target="_blank" rel="noopener">https://nginx.org/en/docs/ngx_core_module.html</a></p>
<p>æ—¥å¿—ç›®å½• </p>
<p>tengine -&gt; /usr/local/tengine/logs</p>
<p>æŸ¥çœ‹nginxçš„é…ç½®</p>
<pre class="line-numbers language-shell"><code class="language-shell">nginx -V<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="é…ç½®æ¨¡å—åŒ–"><a href="#é…ç½®æ¨¡å—åŒ–" class="headerlink" title="é…ç½®æ¨¡å—åŒ–"></a>é…ç½®æ¨¡å—åŒ–</h3><p>ä¸åŒåŠŸèƒ½çš„é…ç½®æ–‡ä»¶å°½é‡å•ç‹¬ç¼–å†™ï¼Œä½¿é…ç½®æ–‡ä»¶è§£è€¦</p>
<pre class="line-numbers language-shell"><code class="language-shell">http {
    #å¯¼å…¥servers/ç›®å½•ä¸‹æ‰€æœ‰confæ–‡ä»¶
    include servers/*.conf;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h3><ol>
<li>è‡ªå®šä¹‰é”™è¯¯é¡µ</li>
</ol>
<pre class="line-numbers language-shell"><code class="language-shell">   location /bbs {
       root /vhosts/bbs;
       error_page 404 404/404.html;
   }
   error_page 500 502 503 504 /50x.html;
   location = /50x.html {
           root /usr/share/nginx/html;
   }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Nginx-æ—¥å¿—-log-fromat"><a href="#Nginx-æ—¥å¿—-log-fromat" class="headerlink" title="Nginx æ—¥å¿— log_fromat"></a>Nginx æ—¥å¿— log_fromat</h3><h3 id="ç®€å•çš„è®¿é—®æ§åˆ¶"><a href="#ç®€å•çš„è®¿é—®æ§åˆ¶" class="headerlink" title="ç®€å•çš„è®¿é—®æ§åˆ¶"></a>ç®€å•çš„è®¿é—®æ§åˆ¶</h3><h4 id="åŸºäºæ¥æºIPå®ç°è®¿é—®æ§åˆ¶"><a href="#åŸºäºæ¥æºIPå®ç°è®¿é—®æ§åˆ¶" class="headerlink" title="åŸºäºæ¥æºIPå®ç°è®¿é—®æ§åˆ¶"></a>åŸºäºæ¥æºIPå®ç°è®¿é—®æ§åˆ¶</h4><pre class="line-numbers language-shell"><code class="language-shell">server{
    location / {
        # ç½‘æ®µçš„å†™æ³•ï¼š192.168.1.0/24
        deny 192.168.1.222;
        # ä»ä¸Šåˆ°ä¸‹è¿›è¡ŒåŒ¹é…ï¼Œç±»ä¼¼iptables
        allow all;
    }

    location /bbs {
        if ( $remote_addr = 192.168.1.146 ) {
        return 404;
    }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="åŸºäºç”¨æˆ·å-å¯†ç å®ç°è®¿é—®æ§åˆ¶"><a href="#åŸºäºç”¨æˆ·å-å¯†ç å®ç°è®¿é—®æ§åˆ¶" class="headerlink" title="åŸºäºç”¨æˆ·å/å¯†ç å®ç°è®¿é—®æ§åˆ¶"></a>åŸºäºç”¨æˆ·å/å¯†ç å®ç°è®¿é—®æ§åˆ¶</h4><pre class="line-numbers language-shell"><code class="language-shell">location /bbs {
    auth_basic "Please Login";
    auth_basic_user_file /usr/local/tengine/conf/.htpasswd;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>è®¾ç½®è´¦æˆ·å¯†ç </p>
<pre class="line-numbers language-shell"><code class="language-shell">yum -y install httpd-tools
cd /usr/local/tengine/conf
htpasswd -c -m .htpasswd keyso     //ç”¨æˆ·åkeysoï¼Œå¯†ç 123456
nginx -t
nginx -s reload<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>htpasswd</strong></p>
<p>  -cï¼šè‡ªåŠ¨åˆ›å»ºè´¦å·æ–‡ä»¶<strong>ï¼ˆä»…åœ¨æ·»åŠ ç¬¬ä¸€ä¸ªç”¨æˆ·æ—¶ä½¿ç”¨è¯¥é€‰é¡¹ï¼‰</strong></p>
<p> -mï¼šä½¿ç”¨MD5åŠ å¯†ç”¨æˆ·å¯†ç </p>
<p> -sï¼šä½¿ç”¨SHAåŠ å¯†ç”¨æˆ·å¯†ç </p>
<p>  -Dï¼šåˆ é™¤æŒ‡å®šç”¨æˆ·</p>
<h4 id="ç¦æ­¢è®¿é—®æŸä¸€ç±»èµ„æº"><a href="#ç¦æ­¢è®¿é—®æŸä¸€ç±»èµ„æº" class="headerlink" title="ç¦æ­¢è®¿é—®æŸä¸€ç±»èµ„æº"></a>ç¦æ­¢è®¿é—®æŸä¸€ç±»èµ„æº</h4><pre class="line-numbers language-shell"><code class="language-shell">location ~ \.(txt|doc)$ {
    if (-f $request_filename){
        root html;
        break;
    }
    deny all;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Nginx-å˜é‡"><a href="#Nginx-å˜é‡" class="headerlink" title="Nginx å˜é‡"></a>Nginx å˜é‡</h3><p>HTTPè¯·æ±‚å˜é‡ - arg_PARAMETER, http_HEADER, sent_http_HEADER</p>
<p>å†…ç½®å˜é‡ - Nginxå†…ç½®å˜é‡ <a href="http://nginx.org/en/docs/http/ngx_http_core_module.html#Embedded%20Variables" target="_blank" rel="noopener">Embedded Variables</a></p>
<h4 id="è‡ªå®šä¹‰å˜é‡"><a href="#è‡ªå®šä¹‰å˜é‡" class="headerlink" title="è‡ªå®šä¹‰å˜é‡"></a>è‡ªå®šä¹‰å˜é‡</h4><pre><code>server {
    set $foo hello;
    location /test/ {
        default_type application/json;
        return 200 '{"status":"${foo}/$foo"}';
    }
}</code></pre><ul>
<li><p>å®šä¹‰èŒƒå›´ï¼š<code>server{}</code> å†…</p>
<blockquote>
<p>æ”¾åˆ°å¤–é¢æŠ¥é”™<code>nginx: [emerg] "set" directive is not allowed here</code></p>
</blockquote>
</li>
<li><p>åˆå§‹åŒ–ï¼šåœ¨åŠ è½½confçš„æ—¶å€™ï¼Œæ•…æ²¡æœ‰setå˜é‡ç›´æ¥å¼•ç”¨æ— æ³•å¯åŠ¨ </p>
</li>
</ul>
<pre><code>server {
    listen 8080;

    location /foo {
        set $a hello;
        echo_exec /bar; #å†…éƒ¨è·³è½¬aå€¼ä¸å˜
    }

    location /bar {
        #å¯ä»¥çœ‹å‡ºå®šä¹‰åœ¨locationèŒƒå›´ä¹‹å¤–ï¼Œèµ‹å€¼æ˜¯åœ¨locationå†…
        echo "a = [$a]"; 
    }
}
</code></pre><p>æµ‹è¯•</p>
<pre><code>[root@localhost html]# curl localhost/foo
#å†…éƒ¨è·³è½¬aå€¼ä¸å˜
a = [hello]
[root@localhost html]# curl 'http://localhost/bar'
#å¤–éƒ¨è·³è½¬æ²¡æœ‰èµ‹å€¼
a = []</code></pre><h4 id="å†…å»ºå˜é‡"><a href="#å†…å»ºå˜é‡" class="headerlink" title="å†…å»ºå˜é‡"></a>å†…å»ºå˜é‡</h4><p>å‚è€ƒ æ·±åº¦å­¦ä¹ ä¹‹ <code>Nginx å˜é‡</code></p>
<h4 id="å…¨å±€å˜é‡"><a href="#å…¨å±€å˜é‡" class="headerlink" title="å…¨å±€å˜é‡"></a>å…¨å±€å˜é‡</h4><p>å‚è€ƒ <code>é™„å½•äºŒ Nginxå…¨å±€å˜é‡è§£æ</code></p>
<h2 id="Nginx-æ¨¡å—è®²è§£"><a href="#Nginx-æ¨¡å—è®²è§£" class="headerlink" title="Nginx æ¨¡å—è®²è§£"></a>Nginx æ¨¡å—è®²è§£</h2><blockquote>
<p>åˆ†ä¸º å®˜æ–¹æ¨¡å—ï¼Œç¬¬ä¸‰æ–¹æ¨¡å—<br> å®˜æ–¹æ¨¡å—å‚æ•°ï¼š  <a href="https://nginx.org/en/docs/" target="_blank" rel="noopener">Modules reference</a></p>
</blockquote>
<h3 id="å¸¸ç”¨çš„æ¨¡å—ç”¨æ³•"><a href="#å¸¸ç”¨çš„æ¨¡å—ç”¨æ³•" class="headerlink" title="å¸¸ç”¨çš„æ¨¡å—ç”¨æ³•"></a><strong>å¸¸ç”¨çš„æ¨¡å—ç”¨æ³•</strong></h3><p><a href="https://nginx.org/en/docs/http/ngx_http_stub_status_module.html" target="_blank" rel="noopener">ngx_http_stub_status_module</a> æä¾›è®¿é—®çš„åŸºæœ¬çŠ¶æ€ä¿¡æ¯</p>
<p>ç¼–è¯‘é€‰é¡¹ï¼š â€“with-http_stub_status_module</p>
<p>ç”¨æ³•</p>
<pre class="line-numbers language-shell"><code class="language-shell">location /status {
    stub_status on;
    allow 192.168.101.120;
    deny all;
    access_log off;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><a href="https://nginx.org/en/docs/http/ngx_http_random_index_module.html" target="_blank" rel="noopener">ngx_http_random_index_module</a> éšæœºIndex.html</p>
<p>ç”¨æ³•</p>
<pre class="line-numbers language-shell"><code class="language-shell">location / {
    root /usr/src/nginx/;
     random_index on;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>åœ¨<code>/usr/src/nginx/</code> ä¸‹æ–°å»º1.html,2.html,3.html ï¼Œè®¿é—®<code>/</code> ä¼šéšæœºè®¿é—®ä»¥ä¸Šä¸‰ä¸ªæ–‡ä»¶</p>
<p><a href="https://nginx.org/en/docs/http/ngx_http_sub_module.html" target="_blank" rel="noopener">ngx_http_sub_module</a> æŒ‡å®šå­—ç¬¦ä¸²çš„æ›¿æ¢</p>
<p>ç¼–è¯‘é€‰é¡¹ï¼š  <code>--with-http_sub_module</code></p>
<blockquote>
<pre><code>location / {
    sub_filter '&lt;a href="http://127.0.0.1:8080/'  '&lt;a href="https://$host/';
    sub_filter '&lt;img src="http://127.0.0.1:8080/' '&lt;img src="https://$host/';
    sub_filter_once on; ## é»˜è®¤ä¸ºå…¨éƒ¨æ›¿æ¢ï¼Œå¼€å¯æ›¿æ¢ä¸€æ¬¡
}</code></pre></blockquote>
<h3 id="Nginx-è¯·æ±‚é™åˆ¶"><a href="#Nginx-è¯·æ±‚é™åˆ¶" class="headerlink" title="Nginx è¯·æ±‚é™åˆ¶"></a>Nginx è¯·æ±‚é™åˆ¶</h3><h4 id="é“¾æ¥é¢‘ç‡é™åˆ¶"><a href="#é“¾æ¥é¢‘ç‡é™åˆ¶" class="headerlink" title="é“¾æ¥é¢‘ç‡é™åˆ¶ :"></a>é“¾æ¥é¢‘ç‡é™åˆ¶ :</h4><p><a href="https://nginx.org/en/docs/http/ngx_http_limit_conn_module.html" target="_blank" rel="noopener">ngx_http_limit_conn_module</a></p>
<blockquote>
<p>this module is used to limit the number of connections per the defined key, in particular, the number of connections from a single IP address.</p>
<p>Not all connections are counted. A connection is counted only if it has a request being processed by the server and the whole request header has already been read.</p>
</blockquote>
<p>Directives</p>
<table>
<thead>
<tr>
<th align="left">Syntax:</th>
<th><code>**limit_conn** *zone* *number*;</code></th>
</tr>
</thead>
<tbody><tr>
<td align="left">Default:</td>
<td>â€”</td>
</tr>
<tr>
<td align="left">Context:</td>
<td><code>http</code>, <code>server</code>, <code>location</code></td>
</tr>
</tbody></table>
<p> Example Configuration</p>
<pre class="line-numbers language-shell"><code class="language-shell">limit_conn_zone $binary_remote_addr zone=perip:10m;
limit_conn_zone $server_name zone=perserver:10m;

server {
    ...
    limit_conn perip 10; #æ¯ä¸ªIP allow 10 connections 
    limit_conn perserver 100;#æ¯ä¸ªæœåŠ¡ allow 10 connections 
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ³¨æ„ï¼šHTTP/2 å¤ç”¨çš„è¿æ¥æ˜¯åˆ†å¼€è®¡æ•°çš„ï¼ŒåŸæ–‡ï¼š<br> In HTTP/2 and SPDY, each concurrent request is considered a separate connection. </p>
<h4 id="è¯·æ±‚é¢‘ç‡é™åˆ¶-ï¼š"><a href="#è¯·æ±‚é¢‘ç‡é™åˆ¶-ï¼š" class="headerlink" title="è¯·æ±‚é¢‘ç‡é™åˆ¶ ï¼š"></a>è¯·æ±‚é¢‘ç‡é™åˆ¶ ï¼š</h4><p><a href="https://nginx.org/en/docs/http/ngx_http_limit_req_module.html" target="_blank" rel="noopener">ngx_http_limit_req_module</a></p>
<blockquote>
<p>this module (0.7.21) is used to limit the request processing rate per a defined key, in particular, the processing rate of requests coming from a single IP address. The limitation is done using the â€œleaky bucketâ€ method.</p>
</blockquote>
<p>Example Configuration</p>
<pre class="line-numbers language-shelll"><code class="language-shelll">limit_req_zone $binary_remote_addr zone=perip:10m rate=1r/s;
limit_req_zone $server_name zone=perserver:10m rate=10r/s; #(r/m)
server {
    ...
    limit_req zone=perip burst=5 nodelay;
    limit_req zone=perserver burst=10;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ï¼ã€€burst ä¸‹ä¸€ä¸ªå‘¨æœŸç»§ç»­å“åº”5ä¸ªreqestè¶…è¿‡1r/sï¼Œå½“è¶…è¿‡5ä¸ªrequestçš„æ—¶å€™çœ‹ [nodelay | delay=<em>number</em>] æ€ä¹ˆå¤„ç†</p>
<p>Directives</p>
<p>| Syntax:  | <code>**limit_req** zone=*name* [burst=*number*] [nodelay | delay=*number*];</code> |<br>| :â€”â€”- | â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” |<br>| Default: | â€”                                                            |<br>| Context: | <code>http</code>, <code>server</code>, <code>location</code>                                 |</p>
<h3 id="Nginx-è®¿é—®æ§åˆ¶"><a href="#Nginx-è®¿é—®æ§åˆ¶" class="headerlink" title="Nginx è®¿é—®æ§åˆ¶"></a>Nginx è®¿é—®æ§åˆ¶</h3><p>auth_mod.conf</p>
<h4 id="åŸºäºIP"><a href="#åŸºäºIP" class="headerlink" title="åŸºäºIP"></a>åŸºäºIP</h4><ul>
<li><a href="https://nginx.org/en/docs/http/ngx_http_access_module.html" target="_blank" rel="noopener">ngx_http_access_module</a></li>
</ul>
<p>| Syntax:  | <code>**allow** *address* | *CIDR* | unix: | all;</code> |<br>| :â€”â€”- | â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” |<br>| Default: | â€”                                             |<br>| Context: | <code>http</code>, <code>server</code>, <code>location</code>, <code>limit_except</code>  |</p>
<p>CIDR ç½‘æ®µ</p>
<p>Sample Configuration</p>
<pre class="line-numbers language-shell"><code class="language-shell">location / {
    deny  192.168.1.1;
    allow 192.168.1.0/24;
    allow 10.1.1.0/16;
    allow 2001:0db8::/32;
    deny  all;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¿‡ä¸ªIPç”¨ngx_http_geo_moduleå®šä¹‰</p>
<p>access_moduleå­˜åœ¨çš„å±€é™æ€§ï¼ŒåŠå½“clienté€šè¿‡ä»£ç†è®¿é—®æ˜¯remote_addræ˜¯ä¸åŒçš„</p>
<p>è§£å†³æ–¹æ¡ˆä¸€</p>
<p><img src="http://cdn.linz.tech/nginx_http_x_forwared_for.png" alt=""></p>
<p>å­˜åœ¨é—®é¢˜æ˜¯ï¼Œhttp_x_forwarded_foræ˜¯åè®®è¦æ±‚ï¼Œå‚å•†å¯ä»¥ä¸å®ç°ä¸”å¯ä»¥ä¿®æ”¹</p>
<p>è§£å†³æ–¹æ¡ˆäºŒ HTPè‡ªå®šä¹‰å˜é‡</p>
<h4 id="åŸºäºç”¨æˆ·ä¿¡ä»»ç™»å½•"><a href="#åŸºäºç”¨æˆ·ä¿¡ä»»ç™»å½•" class="headerlink" title="åŸºäºç”¨æˆ·ä¿¡ä»»ç™»å½•"></a>åŸºäºç”¨æˆ·ä¿¡ä»»ç™»å½•</h4><ul>
<li><a href="https://nginx.org/en/docs/http/ngx_http_auth_basic_module.html" target="_blank" rel="noopener">ngx_http_auth_basic_module</a></li>
</ul>
<p>Sample Configuration</p>
<pre class="line-numbers language-shell"><code class="language-shell">location / {
    auth_basic           "Auth access test ! input your password!";
    auth_basic_user_file conf/htpasswd;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>auth_basic_user_file</strong> </p>
<pre class="line-numbers language-xml"><code class="language-xml"># comment ç”¨æˆ·å:å¯†ç :æè¿°
name1:password1
name2:password2:comment
name3:password3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>åŠ å¯†å¯†ç ï¼šhtpasswd</p>
<pre class="line-numbers language-shell"><code class="language-shell">yum install httpd-tools -y 
htpasswd -c ./auth_conf jeson # -c æŒ‡å®šç”Ÿæˆæ–‡ä»¶ jeson ç”¨æˆ·å<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>å±€é™æ€§</p>
<ol>
<li>ç”¨æˆ·ä¿¡æ¯ä¾èµ–æ–‡ä»¶æ–¹å¼</li>
<li>æ“ä½œç®¡ç†æœºæ¢°ï¼Œæ•ˆç‡ä½ä¸‹</li>
</ol>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li>Nginxç»“åˆLUAå®ç°é«˜æ•ˆéªŒè¯</li>
<li>Nginxå’ŒLDAPæ‰“é€šï¼Œåˆ©ç”¨nginx-auth-ldapæ¨¡å— </li>
</ol>
<h1 id="ç¬¬ä¸‰ç« -åœºæ™¯å®è·µ"><a href="#ç¬¬ä¸‰ç« -åœºæ™¯å®è·µ" class="headerlink" title="ç¬¬ä¸‰ç«  åœºæ™¯å®è·µ"></a>ç¬¬ä¸‰ç«  åœºæ™¯å®è·µ</h1><h2 id="Nginxä½œä¸ºé™æ€èµ„æºWEBæœåŠ¡"><a href="#Nginxä½œä¸ºé™æ€èµ„æºWEBæœåŠ¡" class="headerlink" title="Nginxä½œä¸ºé™æ€èµ„æºWEBæœåŠ¡"></a>Nginxä½œä¸ºé™æ€èµ„æºWEBæœåŠ¡</h2><h3 id="1-é™æ€èµ„æºæœåŠ¡åœºæ™¯-CDN"><a href="#1-é™æ€èµ„æºæœåŠ¡åœºæ™¯-CDN" class="headerlink" title="1, é™æ€èµ„æºæœåŠ¡åœºæ™¯-CDN"></a>1, é™æ€èµ„æºæœåŠ¡åœºæ™¯-CDN</h3><h3 id="2-é…ç½®è¯­æ³•"><a href="#2-é…ç½®è¯­æ³•" class="headerlink" title="2 é…ç½®è¯­æ³•"></a>2 é…ç½®è¯­æ³•</h3><p>tcp_nopush<br>åŸç†ï¼šå¤šä¸ªåŒ…é›†ä¸­å‘é€ï¼Œé€‚åˆå¤§æ–‡ä»¶å¼€å¯</p>
<pre class="line-numbers language-shell"><code class="language-shell">Syntax: tcp_nopush on | off;
Default: tcp_nopush off;
Context: http, server, location <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>ä½œç”¨ï¼š sendfileå¼€å¯çš„æƒ…å†µä¸‹ï¼Œæé«˜ç½‘ç»œåŒ…çš„ä¼ è¾“æ•ˆç‡</p>
<p> tcp_nodelay</p>
<pre class="line-numbers language-shel"><code class="language-shel">Syntax: tcp_nodelay on | off;
Default: on
Context: http, server, location <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>ä½œç”¨ï¼š keepaliveè¿æ¥ä¸‹ï¼Œæé«˜ç½‘ç»œåŒ…çš„ä¼ è¾“å®æ—¶æ€§ï¼›</p>
<h3 id="3-å‹ç¼©"><a href="#3-å‹ç¼©" class="headerlink" title="3. å‹ç¼©"></a>3. å‹ç¼©</h3><ul>
<li><a href="https://nginx.org/en/docs/http/ngx_http_gzip_module.html" target="_blank" rel="noopener">ngx_http_gzip_module</a></li>
</ul>
<p>Sample_confuration</p>
<pre class="line-numbers language-shell"><code class="language-shell">gzip            on;
gzip_min_length 1000;
gzip_proxied    expired no-cache no-store private auth;
gzip_types      text/plain application/xml;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>å‹ç¼©</p>
<pre class="line-numbers language-shell"><code class="language-shell">Syntax: gzip on | off;
Default: off;
Context: http, server, location, if in location<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>å‹ç¼©æ¯”</p>
<pre class="line-numbers language-shell"><code class="language-shell">Syntax: gzip_comp_level level;
Default: 1;
Context: http, server, location<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>å‹ç¼©ç‰ˆæœ¬</p>
<pre class="line-numbers language-shell"><code class="language-shell">Syntax: gzip_http_version 1.0 | 1.1;
Default: gzip_http_version 1.1; # ä¸»æµ
Context: http, server, location<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="4-æµè§ˆå™¨ç¼“å­˜åŸç†"><a href="#4-æµè§ˆå™¨ç¼“å­˜åŸç†" class="headerlink" title="4 æµè§ˆå™¨ç¼“å­˜åŸç†"></a>4 æµè§ˆå™¨ç¼“å­˜åŸç†</h3><p><strong>å®¢æˆ·ç«¯æµè§ˆå™¨ç¼“å­˜åŸç†</strong></p>
<p>etag lastmodified ç¼“å­˜åŸç†æµç¨‹å›¾</p>
<p><img src="http://cdn.linz.tech/nginx_cache_last_etag_flow.png" alt=""></p>
<p>Expires é…ç½®è¯­æ³•</p>
<pre class="line-numbers language-shell"><code class="language-shell">Syntax: expires  [modified] time;
        expires epoch | max | off;
Default: expires off;
Context: http, server, location, if in location<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>Sample ä»¥<code>.html/htm</code>ç»“å°¾çš„æ–‡ä»¶è¿‡æœŸæ—¶é—´ä¸º24å°æ—¶</p>
<pre class="line-numbers language-shell"><code class="language-shell">location ~ .*\.(htm|html)$ {
    expires 24h;
    root /opt/app/code;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="5-è·¨åŸŸè®¿é—®"><a href="#5-è·¨åŸŸè®¿é—®" class="headerlink" title="5 è·¨åŸŸè®¿é—®"></a>5 è·¨åŸŸè®¿é—®</h3><ol>
<li>æµè§ˆå™¨ç¦æ­¢è·¨åŸŸçš„åŸå› <br>ä¸å®‰å…¨å®¹æ˜“å‡ºç°CSRFæ”»å‡»ï¼ CSRFæ”»å‡»æ˜¯æ”»å‡»è€…åˆ©ç”¨ç”¨æˆ·çš„èº«ä»½æ“ä½œç”¨æˆ·å¸æˆ·çš„ä¸€ç§æ”»å‡»æ–¹å¼ï¼Œé€šå¸¸ä½¿ç”¨Anti CSRF Tokenæ¥é˜²å¾¡CSRFæ”»å‡»ï¼ŒåŒæ—¶è¦æ³¨æ„Tokençš„ä¿å¯†æ€§å’Œéšæœºæ€§ã€‚</li>
</ol>
<pre class="line-numbers language-shell"><code class="language-shell">  location / {
        add_header 'Access-Control-Allow-Origin' '*'; # * å…è®¸æ‰€æœ‰ç«™ç‚¹è·¨åŸŸè®¿é—®
        add_header 'Access-Control-Allow-Credentials' 'true';
        add_header 'Access-Control-Allow-Methods' '*'; # GET,POST,PUT,DELETE,OPTIONS; * æŒ‡æ‰€æœ‰ 
        proxy_pass http://localhost:8088;
        # proxy_redirect off ;
        index index.php index.html index.htm;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>é…ç½®Nginx å…è®¸å¤šä¸ªåŸŸåè·¨åŸŸè®¿é—®</p>
<p>å¼‚å¸¸</p>
<pre class="line-numbers language-shell"><code class="language-shell">No'Access-Control-Allow-Origin' header is present on the requested resourse.Origin 'http//localhost:8088' is therefore not allowed access.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è§£å†³</p>
<pre class="line-numbers language-shell"><code class="language-shell">map $http_origin $corsHost {
    default 0;
    "~http://www.haibakeji.com" http://www.haibakeji.com;
    "~http://m.haibakeji.com" http://m.haibakeji.com;
    "~http://wap.haibakeji.com" http://wap.haibakeji.com;
}
server
{
    listen 80;
    server_name www.haibakeji.com;
    root /nginx;
    location /
    {
        add_header Access-Control-Allow-Origin $corsHost;
    }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="6-é˜²ç›—é“¾æ¥"><a href="#6-é˜²ç›—é“¾æ¥" class="headerlink" title="6 é˜²ç›—é“¾æ¥"></a>6 é˜²ç›—é“¾æ¥</h3><ul>
<li><a href="https://nginx.org/en/docs/http/ngx_http_referer_module.html" target="_blank" rel="noopener">ngx_http_referer_module</a></li>
</ul>
<p>åŸå› ï¼š 1. é˜²æ­¢èµ„æºè¢«ç›—ç”¨ï¼Œ2. é˜²æ­¢éæ³•æŠ“å–èµ„æºå¯¼è‡´ç½‘ç«™å¡é¡¿ï¼›</p>
<p>http_refer </p>
<p><img src="http://cdn.linz.tech/nginx_http_refer.jpg" alt=""></p>
<pre class="line-numbers language-shell"><code class="language-shell">Syntax: valid_referers none | blocked | server_names | string ...;
Context: server, location<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<blockquote>
<p>è¯·æ±‚å¤´ä¸ºæŒ‡å®šå€¼æ—¶ï¼Œ å†…åµŒå˜é‡$invalid_refererè¢«è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œ å¦åˆ™è¿™ä¸ªå˜é‡ä¼šè¢«ç½®æˆâ€œ1â€ã€‚æŸ¥æ‰¾åŒ¹é…æ—¶ä¸åŒºåˆ†å¤§å°å†™ã€‚</p>
<ul>
<li>blockedï¼šâ€œRefererâ€ è¯·æ±‚å¤´å­˜åœ¨ï¼Œä½†æ˜¯å®ƒçš„å€¼è¢«é˜²ç«å¢™æˆ–è€…ä»£ç†æœåŠ¡å™¨åˆ é™¤ï¼›è¿™äº›å€¼éƒ½ä¸ä»¥â€œhttp://â€ æˆ–è€… â€œhttps://â€å­—ç¬¦ä¸²ä½œä¸ºå¼€å¤´ï¼›</li>
<li>noneï¼šç¼ºå°‘â€œRefererâ€è¯·æ±‚å¤´ï¼›</li>
<li>server_namesï¼šâ€œRefererâ€ è¯·æ±‚å¤´åŒ…å«æŸä¸ªè™šæ‹Ÿä¸»æœºåï¼›</li>
</ul>
<p>æ­£åˆ™è¡¨è¾¾å¼ï¼šå¿…é¡»ä»¥â€œ~â€ç¬¦å·ä½œä¸ºå¼€å¤´ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯è¡¨è¾¾å¼ä¼šä»â€œhttp://â€æˆ–è€…â€œhttps://â€ä¹‹åçš„æ–‡æœ¬å¼€å§‹åŒ¹é…ã€‚</p>
</blockquote>
<p>Sample</p>
<pre class="line-numbers language-java"><code class="language-java">location <span class="token operator">~</span> <span class="token punctuation">.</span>*<span class="token punctuation">.</span><span class="token punctuation">(</span>jpg<span class="token operator">|</span>gif<span class="token operator">|</span>png<span class="token punctuation">)</span>$ <span class="token punctuation">{</span>
    # å…è®¸é‚£äº›referersä¿¡æ¯è¿›è¡Œè®¿é—® 
    # ndne å…è®¸æ²¡æœ‰å¸¦refererä¿¡æ¯çš„è¿‡æ¥
    # blocked å…è®¸æ²¡æœ‰å¸¦åè®®ä¿¡æ¯ï¼Œå¦‚httpçš„
    # <span class="token operator">~</span><span class="token operator">/</span>google\<span class="token punctuation">.</span>/ #æ‰€æœ‰ <span class="token operator">~</span><span class="token operator">/</span>google\<span class="token punctuation">.</span>/è¿‡æ¥çš„
    valid_referers none blocked <span class="token number">116.62</span><span class="token punctuation">.</span><span class="token number">103.228</span> <span class="token operator">~</span><span class="token operator">/</span>google\<span class="token punctuation">.</span>/<span class="token punctuation">;</span> 
    <span class="token keyword">if</span> <span class="token punctuation">(</span>$invalid_referer<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">403</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><a href="https://blog.51cto.com/woymk/1893774" target="_blank" rel="noopener">åˆ©ç”¨nginxâ€œngx_http_referer_moduleâ€æ¨¡å—è®¾ç½®é˜²ç›—é“¾</a></p>
<h2 id="Nginxä½œä¸ºä»£ç†æœåŠ¡"><a href="#Nginxä½œä¸ºä»£ç†æœåŠ¡" class="headerlink" title="Nginxä½œä¸ºä»£ç†æœåŠ¡"></a>Nginxä½œä¸ºä»£ç†æœåŠ¡</h2><ul>
<li><a href="https://nginx.org/en/docs/http/ngx_http_proxy_module.html" target="_blank" rel="noopener">ngx_http_proxy_module</a></li>
</ul>
<p>nginx æ”¯æŒçš„ä»£ç†ç±»å‹</p>
<p><img src="http://cdn.linz.tech/nginx-proxy-type.png" alt=""></p>
<p>ä»£ç†åˆ†ä¸ºæ­£å‘ä»£ç†å’Œåå‘ä»£ç†</p>
<p>fx_proxy.conf</p>
<p>æ¨¡æ¿è®¾ç½®</p>
<pre class="line-numbers language-shell"><code class="language-shell">server{
    listen 80;
    server_name locahost jeson.t.imooc.io;
    location / {
        proxy_pass http://127.0.0.1:8080;
        proxy_redirect default;
        #è®¿é—®æ—¥å¿—é…ç½®ï¼Œ ä¼ é€’çœŸçš„åœ°å€ç»™proxyï¼Œè€Œä¸æ˜¯å½“å‰nginx
        proxy_set_header Host $http_host;
        proxy_set_header X-Real-IP $remote_addr;

        proxy_connect_timeout 30; #30s
        proxy_send_timeout 60;
        proxy_read_timeout 60;

        proxy_buffer_size 32k;
        proxy_buffering on; 
        proxy_buffers 4 128k;
        proxy_busy_buffers_size 256k;
        proxy_max_temp_file_size 256k; #configæ—¶æŒ‡å®š --http-proxy-temp-path=
        #å½“å‡ºç°ä¸€ä¸‹å¼‚å¸¸æ˜¯å¯ç”¨ä¸‹ä¸€ä¸ª upstream
         proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
    }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ–‡ä»¶å½¢å¼å¯¼å…¥</p>
<pre class="line-numbers language-shell"><code class="language-shell">location {
    include proxy_params;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>proxy_params;</p>
<pre class="line-numbers language-shell"><code class="language-shell">proxy_redirect default;

proxy_set_header Host $http_host;
proxy_set_header X-Real-IP $remote_addr;

proxy_connect_timeout 30; #30s
proxy_send_timeout 60;
proxy_read_timeout 60;

proxy_buffer_size 32k;
proxy_buffering on; 
proxy_buffers 4 128k;
proxy_busy_buffers_size 256k;
proxy_max_temp_file_size 256k; #configæ—¶æŒ‡å®š --http-proxy-temp-path=<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="è½¬å‘è·¯å¾„è§„åˆ™"><a href="#è½¬å‘è·¯å¾„è§„åˆ™" class="headerlink" title="è½¬å‘è·¯å¾„è§„åˆ™"></a>è½¬å‘è·¯å¾„è§„åˆ™</h3><p>çœŸå®è¯·æ±‚è·¯å¾„<code>http://localhost/online/wxapi/test/loginSwitch</code></p>
<p>ç¬¬ä¸€ç§ï¼šproxy_pass ç»“å°¾æœ‰<code>/</code></p>
<pre><code>location /online/wxapi/ {
        proxy_pass http://localhost:8080/; #è½¬å‘ä¸ä»£ location è·¯å¾„
}</code></pre><p>ä»£ç†ç»“æœï¼š<code>http://localhost:8080/test/loginSwitch</code></p>
<p>ç¬¬äºŒç§ï¼šproxy_pass ç»“å°¾æ²¡æœ‰<code>/</code></p>
<pre><code>location /online/wxapi/ {
        proxy_pass http://localhost:8080;#è½¬å‘ä»£ location è·¯å¾„
}</code></pre><p>ä»£ç†ç»“æœï¼š<code>http://localhost:8080/online/wxapi/test/loginSwitch</code></p>
<p>ç¬¬ä¸‰ç§ï¼šproxy_pass ç»“å°¾æœ‰<code>/web</code></p>
<pre><code>location /online/wxapi/ {
        proxy_pass http://localhost:8080/web;#è½¬å‘locationè·¯å¾„,ç›´æ¥æ‹¼æ¥ï¼Œä¸å¸¦`/`åˆ†å‰²ç¬¦
}</code></pre><p>ä»£ç†ç»“æœï¼š<code>http://localhost:8080/webtest/loginSwitch</code></p>
<p>ç¬¬äºŒç§ï¼šproxy_pass ç»“å°¾æ²¡æœ‰<code>/web/</code></p>
<pre><code>location /online/wxapi/ {
        proxy_pass http://localhost:8080/web/;#è½¬å‘ä»£ location è·¯å¾„
}</code></pre><p>ä»£ç†ç»“æœï¼š<code>http://localhost:8080/web/test/loginSwitch</code></p>
<h3 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h3><pre class="line-numbers language-shell"><code class="language-shell">location ^~ /static/ 
{     
    #ä¸ä¼  static
    # curl http://localhost:3000/static/index.html
    # proxy_pass è½¬å‘ä¸º http://www.test.com/index.html
    proxy_pass http://www.test.com/; 

    #ä¼  static
    # curl http://localhost:3000/static/index.html
    # proxy_pass è½¬å‘ä¸º http://www.test.com/static/index.html
    proxy_pass http://www.test.com; 
}

location /forum {
    #http://node1.qiuyue.com/forum ->  http://192.168.1.144/bbs
    proxy_pass http://192.168.1.144/bbs;
    index index.html index.html;
}

#jpgã€pngæˆ–è€…gifç»“å°¾çš„è¯·æ±‚åä»£
location ~* \.(jpg|png|gif)$ {
    proxy_pass http://192.168.1.144;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Nginxä½œä¸ºè´Ÿè½½å‡è¡¡æœåŠ¡"><a href="#Nginxä½œä¸ºè´Ÿè½½å‡è¡¡æœåŠ¡" class="headerlink" title="Nginxä½œä¸ºè´Ÿè½½å‡è¡¡æœåŠ¡"></a>Nginxä½œä¸ºè´Ÿè½½å‡è¡¡æœåŠ¡</h2><ul>
<li><a href="https://nginx.org/en/docs/http/ngx_http_upstream_module.html" target="_blank" rel="noopener">ngx_http_upstream_module</a></li>
</ul>
<p>æŒ‰åŒºåŸŸå¯åˆ†ä¸ºGSLBï¼ŒSLB </p>
<p>Example Configuration</p>
<pre class="line-numbers language-shell"><code class="language-shell">upstream backend {
    ip_hash; #è°ƒåº¦æ–¹å¼ hash 
    server backend1.example.com   weight=5;
    server backend2.example.com:8080 max_fails=3 fail_timeout=30s;;
    server unix:/tmp/backend3 backup; 

    server backup1.example.com:8080   backup;
    server backup2.example.com:8080   backup;
}

server {
    location / {
        proxy_pass http://backend;

    }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="è°ƒåº¦ç®—æ³•"><a href="#è°ƒåº¦ç®—æ³•" class="headerlink" title="è°ƒåº¦ç®—æ³•"></a>è°ƒåº¦ç®—æ³•</h3><p><img src="http://cdn.linz.tech/nginx_upstream.png" alt=""></p>
<p>ip_hash æœ‰ä»£ç†é—®é¢˜</p>
<pre class="line-numbers language-shell"><code class="language-shell">upstream imooc {
    hash $request_url; #å¯ä»¥æå–URLæŒ‡å®šä½ç½®è¿›è¡Œhash
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="Nginxä½œä¸ºç¼“å­˜æœåŠ¡"><a href="#Nginxä½œä¸ºç¼“å­˜æœåŠ¡" class="headerlink" title="Nginxä½œä¸ºç¼“å­˜æœåŠ¡"></a>Nginxä½œä¸ºç¼“å­˜æœåŠ¡</h2><pre class="line-numbers language-shell"><code class="language-shell">proxy_cache_path /opt/app/cache levels=1:2 keys_zone=imooc_cache:10m max_size=10g inactive=7d max_size=10g use_temp_path=off;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>proxy_cache_path </p>
<p>keys_zone = 1m # 1må¯ä»¥å­˜å‚¨8000ä¸ª</p>
<p>inactive = 60m# 60åˆ†é’Ÿå†…ä¸è®¿é—®å°±æŠŠä»–æ¸…é™¤æ‰ </p>
<p>use_temp_path = off; #å…³é—­é›¶æ—¶æ–‡ä»¶å­˜å‚¨ï¼Œå¼€å¯åŒæ—¶å’Œ cache_path ä½¿ç”¨å¯èƒ½ä¼šäº§ç”Ÿæ€§èƒ½æŸè€—</p>
<pre class="line-numbers language-shell"><code class="language-shell">location / {

    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

    proxy_cache imooc_cache;
    proxy_cache_valid 200 304 12h; #å¤´éƒ¨ä¸ºè¿”å›ä¸º200 304 12å°æ—¶è¿‡æœŸ
    proxy_cache_valid any 10m; #å…¶ä»–çš„10mè¿‡æœŸ
    proxy_cache_key $host$uri$is_args$args;
    add_header Nginx-Cache "&upstream_cache_status"; #æŸ¥çœ‹ç¼“å­˜ä½¿ç”¨çŠ¶æ€ Miss æœªä½¿ç”¨ï¼Œ HITä½¿ç”¨
    #å½“å‡ºç°ä¸€ä¸‹å¼‚å¸¸æ˜¯å¯ç”¨ä¸‹ä¸€ä¸ª upstream
    proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æ¸…ç†æŒ‡å®šç¼“å­˜"><a href="#æ¸…ç†æŒ‡å®šç¼“å­˜" class="headerlink" title="æ¸…ç†æŒ‡å®šç¼“å­˜"></a>æ¸…ç†æŒ‡å®šç¼“å­˜</h3><p>ngx_cache_purge</p>
<p>å®‰è£…ngx_cache_purge moduleå—</p>
<pre class="line-numbers language-shell"><code class="language-shell">cd /tmp
wget http://labs.frickle.com/files/ngx_cache_purge-2.3.tar.gz
tar -xf ngx_cache_purge-2.3.tar.gz
dso_tool --add-module=/tmp/ngx_cache_purge-2.3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>nginx.conf é…ç½®</p>
<pre class="line-numbers language-shell"><code class="language-shell">dso {
    load ngx_cache_purge_module.so;
}

location ~ /purge(/.*) {
       allow 192.168.1.0/24;
       deny all;
       proxy_cache_purge mycache $host$1$is_args$args;
       access_log off;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ¸…ç†ç¼“å­˜</p>
<p>å¦‚æœè¦æ¸…ç†<a href="http://node1.qiuyue.com/bbs/index.htmlçš„ç¼“å­˜ï¼Œåˆ™è®¿é—®http://node1.qiuyue.com/purge/bbs/index.htmlå³" target="_blank" rel="noopener">http://node1.qiuyue.com/bbs/index.htmlçš„ç¼“å­˜ï¼Œåˆ™è®¿é—®http://node1.qiuyue.com/purge/bbs/index.htmlå³</a></p>
<h3 id="è®©éƒ¨åˆ†é¡µé¢ä¸ç¼“å­˜"><a href="#è®©éƒ¨åˆ†é¡µé¢ä¸ç¼“å­˜" class="headerlink" title="è®©éƒ¨åˆ†é¡µé¢ä¸ç¼“å­˜"></a>è®©éƒ¨åˆ†é¡µé¢ä¸ç¼“å­˜</h3><pre class="line-numbers language-shell"><code class="language-shell">Systax: proxy_on_cache string ...
Context: http,server,location<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Sample</p>
<pre class="line-numbers language-shell"><code class="language-shell">server {
    #æ£€æµ‹urlæ˜¯å¦å·²ä¸ç¼“å­˜çš„é¡µé¢
    if($request_url ~ ^/(url3|login|register|password\/reset)){ 
        set $cookie_nocache 1; #è®¾ç½®å˜é‡çš„å€¼
    }

    location / {
        proxy_no_cache $cookie_nocache $arg_nocache $arg_comment;
        proxy_no_cache $http_pragma $http_authorization;
    }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å¤§æ–‡ä»¶åˆ†ç‰‡è¯·æ±‚"><a href="#å¤§æ–‡ä»¶åˆ†ç‰‡è¯·æ±‚" class="headerlink" title="å¤§æ–‡ä»¶åˆ†ç‰‡è¯·æ±‚"></a>å¤§æ–‡ä»¶åˆ†ç‰‡è¯·æ±‚</h3><p>http_slice_module</p>
<pre class="line-numbers language-shell"><code class="language-shell">Systax: slice size;
Context: http,server,location<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h4 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h4><p>ä¼˜åŠ¿ï¼š </p>
<p>æ¯ä¸ªå­è¯·æ±‚æ”¶åˆ°çš„æ•°æ®éƒ½ä¼šå½¢æˆä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ï¼Œä¸€ä¸ªè¯·æ±‚æ–­äº†ï¼Œå…¶ä»–è¯·æ±‚ä¸æ”¶å½±å“</p>
<p>åŠ£åŠ¿ï¼š</p>
<p>å½“æ–‡ä»¶å¾ˆå¤§æˆ–è€…sliceå¾ˆå°çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ–‡ä»¶æè¿°ç¬¦è€—å°½ç­‰æƒ…å†µ</p>
<p>â€“with-http_slice_module</p>
<pre class="line-numbers language-shell"><code class="language-shell">http {
    include      mime.types;
    default_type  application/octet-stream;
    sendfile        on;
    keepalive_timeout  65;

    proxy_cache_path /tmp/nginx/cache levels=1:2 keys_zone=cache:100m;
    server {
        listen      8087;
        server_name  localhost;
        location / {
            slice 1m;
            proxy_cache cache;
            proxy_cache_key $uri$is_args$args$slice_range;
            proxy_set_header Range $slice_range;
            proxy_cache_valid 200 206 1h;
            #proxy_set_header Range $http_range;
            proxy_pass http://127.0.0.1:8080;
        }
        error_page  500 502 503 504  /50x.html;
        location = /50x.html {
            root  html;
        }

    }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>è¯¥æ¨¡å—ç”¨åœ¨ proxy_cache å¤§æ–‡ä»¶çš„åœºæ™¯ï¼Œå°†å¤§æ–‡ä»¶åˆ‡ç‰‡ç¼“å­˜</li>
<li>ç¼–è¯‘æ—¶å¯¹ configure åŠ ä¸Š â€“with-http_slice_module å‚æ•°</li>
<li>$slice_range ä¸€å®šè¦åŠ åˆ° proxy_cache_key ä¸­ï¼Œå¹¶ä½¿ç”¨ proxy_set_header å°†å…¶ä½œä¸º Range å¤´ä¼ é€’ç»™åç«¯</li>
<li>è¦æ ¹æ®æ–‡ä»¶å¤§å°åˆç†è®¾ç½® slice å¤§å°</li>
</ul>
<p>å‚è€ƒï¼š<a href="https://www.cnblogs.com/chenpingzhao/p/5803772.html" target="_blank" rel="noopener">Nginx åˆ‡ç‰‡æ¨¡å—ã€æ–­ç‚¹ç»­ä¼ </a></p>
<h2 id="NginxåŠ¨é™åˆ†ç¦»"><a href="#NginxåŠ¨é™åˆ†ç¦»" class="headerlink" title="NginxåŠ¨é™åˆ†ç¦»"></a>NginxåŠ¨é™åˆ†ç¦»</h2><p>nginxåˆ†ç¦»JSPç»™Tomcatï¼Œ jpg,pngç›´æ¥ç”¨é™æ€èµ„æº</p>
<h2 id="Nginx-æ­å»ºæ–‡ä»¶æœåŠ¡å™¨"><a href="#Nginx-æ­å»ºæ–‡ä»¶æœåŠ¡å™¨" class="headerlink" title="Nginx æ­å»ºæ–‡ä»¶æœåŠ¡å™¨"></a>Nginx æ­å»ºæ–‡ä»¶æœåŠ¡å™¨</h2><h1 id="ç¬¬å››ç« -æ·±åº¦å­¦ä¹ ç¯‡"><a href="#ç¬¬å››ç« -æ·±åº¦å­¦ä¹ ç¯‡" class="headerlink" title="ç¬¬å››ç«  æ·±åº¦å­¦ä¹ ç¯‡"></a>ç¬¬å››ç«  æ·±åº¦å­¦ä¹ ç¯‡</h1><h2 id="Nginxç®€å•çš„è¯­æ³•"><a href="#Nginxç®€å•çš„è¯­æ³•" class="headerlink" title="Nginxç®€å•çš„è¯­æ³•"></a>Nginxç®€å•çš„è¯­æ³•</h2><h3 id="Nginx-å˜é‡-1"><a href="#Nginx-å˜é‡-1" class="headerlink" title="Nginx å˜é‡"></a>Nginx å˜é‡</h3><blockquote>
<ol>
<li>Nginx å˜é‡åçš„å¯è§èŒƒå›´è™½ç„¶æ˜¯æ•´ä¸ªé…ç½®ï¼Œä½†æ¯ä¸ªè¯·æ±‚éƒ½æœ‰æ‰€æœ‰å˜é‡çš„ç‹¬ç«‹å‰¯æœ¬ï¼Œæˆ–è€…è¯´éƒ½æœ‰å„å˜é‡ç”¨æ¥å­˜æ”¾å€¼çš„å®¹å™¨çš„ç‹¬ç«‹å‰¯æœ¬ï¼Œå½¼æ­¤äº’ä¸å¹²æ‰°;</li>
<li>ä¸€ä¸ªè¯·æ±‚åœ¨å…¶å¤„ç†è¿‡ç¨‹ä¸­ï¼Œå³ä½¿ç»å†å¤šä¸ªä¸åŒçš„ <code>location</code> é…ç½®å—ï¼Œå®ƒä½¿ç”¨çš„è¿˜æ˜¯åŒä¸€å¥— Nginx å˜é‡çš„å‰¯æœ¬,Nginx å˜é‡å€¼å®¹å™¨çš„ç”Ÿå‘½æœŸæ˜¯ä¸å½“å‰æ­£åœ¨å¤„ç†çš„è¯·æ±‚ç»‘å®šçš„ï¼Œè€Œä¸ <code>location</code>æ— å…³ã€‚</li>
</ol>
</blockquote>
<ol>
<li><p>Nginx å†…å»ºå˜å˜é‡  <a href="http://nginx.org/en/docs/http/ngx_http_core_module.html#Embedded%20Variables" target="_blank" rel="noopener">Embedded Variables</a> ï¼Œ æœ‰ç”± Nginx æ ¸å¿ƒå’Œå„ä¸ª Nginx æ¨¡å—æä¾›çš„â€œé¢„å®šä¹‰å˜é‡â€ï¼Œæˆ–è€…è¯´â€œå†…å»ºå˜é‡â€ï¼ˆbuiltin variablesï¼‰ã€‚å¸¸ç”¨çš„å†…é”®å˜é‡è¯·æŸ¥çœ‹é™„å½•äºŒï¼ŒNginxå…¨å±€å˜é‡è§£æ</p>
</li>
<li><p><a href="http://wiki.nginx.org/HttpCoreModule#.24arg_PARAMETER" target="_blank" rel="noopener">$arg_XXX</a> å˜é‡ç¾¤ï¼Œå¤§éƒ¨åˆ†arg_xxxå˜é‡æ˜¯åªè¯»çš„ï¼Œå°è¯•ä¿®æ”¹ä¼šæŠ¥ä¸€äº›å¥‡ç‰¹çš„å¼‚å¸¸<br>$arg_name æ¡ˆä¾‹</p>
<pre class="line-numbers language-shell"><code class="language-shell">location /test {
       echo "name: $arg_name";
       echo "class: $arg_class";
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¯·æ±‚/testæ¥å£</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ curl 'http://localhost:8080/test'
name: 
class: 

$ curl 'http://localhost:8080/test?name=Tom&class=3'
name: Tom
class: 3

$ curl 'http://localhost:8080/test?name=hello%20world&class=9'
name: hello%20world
class: 9<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>$arg_name</code> ä¸ä»…å¯ä»¥åŒ¹é… <code>name</code> å‚æ•°ï¼Œä¹Ÿå¯ä»¥åŒ¹é… <code>NAME</code> å‚æ•°ï¼ŒæŠ‘æˆ–æ˜¯ <code>Name</code>ï¼Œç­‰ç­‰</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ curl 'http://localhost:8080/test?NAME=Marry'
name: Marry
class: 

$ curl 'http://localhost:8080/test?Name=Jimmy'
name: Jimmy
class:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¯¹<code>hello%20world</code>è¿›è¡Œè§£ç ,ä½¿ç”¨ç¬¬ä¸‰æ–¹ <a href="http://wiki.nginx.org/HttpSetMiscModule" target="_blank" rel="noopener">ngx_set_misc</a> æ¨¡å—æä¾›</p>
<pre class="line-numbers language-shell"><code class="language-shell">   location /test {
       set_unescape_uri $name $arg_name;
       set_unescape_uri $class $arg_class;

       echo "name: $name";
       echo "class: $class";
   }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æµ‹è¯•æ•ˆæœ</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ curl 'http://localhost:8080/test?name=hello%20world&class=9'
name: hello world
class: 9<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>ç±» <a href="http://wiki.nginx.org/HttpCoreModule#.24arg_PARAMETER" target="_blank" rel="noopener">$arg_XXX</a> çš„å†…å»ºå˜é‡ç¾¤ï¼Œæ¯”å¦‚ç”¨æ¥å– cookie å€¼çš„ <a href="http://wiki.nginx.org/HttpCoreModule#.24cookie_COOKIE" target="_blank" rel="noopener">$cookie_XXX</a> å˜é‡ç¾¤ï¼Œç”¨æ¥å–è¯·æ±‚å¤´çš„ <a href="http://wiki.nginx.org/HttpCoreModule#.24http_HEADER" target="_blank" rel="noopener">$http_XXX</a> å˜é‡ç¾¤ï¼Œä»¥åŠç”¨æ¥å–å“åº”å¤´çš„ <a href="http://wiki.nginx.org/HttpCoreModule#.24sent_http_HEADER" target="_blank" rel="noopener">$sent_http_XXX</a> å˜é‡ç¾¤ï¼Œå‚è€ƒ <a href="http://nginx.org/en/docs/http/ngx_http_core_module.html" target="_blank" rel="noopener">ngx_http_core</a> æ¨¡å—çš„å®˜æ–¹æ–‡æ¡£ã€‚</p>
</li>
</ol>
<h3 id="Perlå…¼å®¹æ­£åˆ™è¡¨è¾¾å¼"><a href="#Perlå…¼å®¹æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="Perlå…¼å®¹æ­£åˆ™è¡¨è¾¾å¼"></a>Perlå…¼å®¹æ­£åˆ™è¡¨è¾¾å¼</h3><ul>
<li>.ï¼šåŒ¹é…é™¤æ¢è¡Œç¬¦\nä»¥å¤–çš„ä»»æ„å•ä¸ªå­—ç¬¦</li>
<li>?ï¼šåŒ¹é…ä¹‹å‰çš„å­—ç¬¦0æ¬¡æˆ–1æ¬¡</li>
<li>+ï¼šåŒ¹é…ä¹‹å‰çš„å­—ç¬¦è‡³å°‘1æ¬¡</li>
<li>*ï¼šåŒ¹é…ä¹‹å‰çš„å­—ç¬¦ä»»æ„æ¬¡</li>
<li>\dï¼šåŒ¹é…æ•°å­—</li>
<li>^ï¼šåŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹</li>
<li>$ï¼šåŒ¹é…å­—ç¬¦ä¸²çš„ç»“å°¾</li>
<li>{m}ï¼šé‡å¤mæ¬¡</li>
<li>{m,}ï¼šé‡å¤è‡³å°‘mæ¬¡</li>
<li>{m,n}ï¼šé‡å¤è‡³å°‘mæ¬¡ï¼Œæœ€å¤šnæ¬¡</li>
<li>[a]ï¼šåŒ¹é…å•ä¸ªå­—ç¬¦a</li>
<li>[a-z]ï¼šåŒ¹é…a-zå°å†™å­—æ¯ä¸­çš„ä»»æ„ä¸€ä¸ª</li>
<li>[^ ]ï¼šåŒ¹é…ä»»ä½•ä¸åŒ…æ‹¬åœ¨æŒ‡å®šå­—ç¬¦é›†å†…çš„ä»»æ„å­—ç¬¦</li>
<li>|ï¼šåŒ¹é… | ä¹‹å‰æˆ–ä¹‹åçš„éƒ¨åˆ†</li>
<li>()ï¼šåˆ†ç»„ï¼Œç»„æˆä¸€ç»„ç”¨äºåŒ¹é…çš„å®ä½“ï¼Œé€šå¸¸é…åˆ | ä½¿ç”¨ã€‚å°æ‹¬å·()ä¹‹é—´åŒ¹é…çš„å†…å®¹ï¼Œå¯ä»¥åœ¨åé¢é€šè¿‡$1æ¥å¼•ç”¨ï¼Œ$2è¡¨ç¤ºçš„æ˜¯å‰é¢ç¬¬äºŒä¸ª()é‡Œçš„å†…å®¹</li>
</ul>
<p>æ·±å…¥å­¦ä¹ å‚è€ƒ <a href="http://deerchao.net/tutorials/regex/regex.htm" target="_blank" rel="noopener">æ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹</a></p>
<pre class="line-numbers language-shell"><code class="language-shell">#localhost:8080/abc/qwe/asd
location ~/abc/(.*)/(.*) {
    set $para1 $1; # qwe
    set $para2 $2;# asd
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p><code>$1|$2|$3 ...</code>æ˜¯<code>nginxåœ¨åŒ¹é…æ­£åˆ™æ—¶ç”Ÿæˆçš„å˜é‡</code>ï¼Œç”¨äºæ•è·<strong>ä¸€ä¸ª</strong>æ­£åˆ™è¡¨è¾¾å¼æ‹¬å·ä¸­åŒ¹é…çš„å­—ç¬¦ä¸²ï¼ˆä»å·¦åˆ°å³ä¾æ¬¡å­˜å‚¨åœ¨<code>$1|$2|$3 ...</code>ä¸­ï¼‰ï¼Œæ–°å€¼è¦†ç›–æ—§å€¼ã€‚</p>
</blockquote>
<p><code>if(æ¡ä»¶) {â€¦}</code></p>
<ol>
<li>if(b), bæ˜¯ç©ºæˆ–è€…ä»»åŠ¡ä»¥0å¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œæ¡ä»¶ä¸ºfalse</li>
<li>æ¯”è¾ƒå†…å®¹ï¼Œç”¨= æˆ–!= </li>
<li>æ£€æµ‹æ–‡ä»¶æˆ–ç›®å½•<ol>
<li>-få’Œ!-fç”¨æ¥åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨</li>
<li>-då’Œ!-dç”¨æ¥åˆ¤æ–­ç›®å½•æ˜¯å¦å­˜åœ¨</li>
<li>-eå’Œ!-eç”¨æ¥åˆ¤æ–­æ–‡ä»¶å’Œç›®å½•æ˜¯å¦å­˜åœ¨</li>
<li>-xå’Œ!-xç”¨æ¥åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œ</li>
</ol>
</li>
</ol>
<pre class="line-numbers language-shell"><code class="language-shell">if(!-f $request_filename){ #å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨é‡å®šå‘åˆ°ç™¾åº¦
    rewrite ^/(.*)$ http://www.baidu.com/$1 redirect;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼š</p>
<p>==:ç­‰å€¼æ¯”è¾ƒ;</p>
<p>~ï¼šä¸æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼åŒ¹é…æ—¶è¿”å›â€œçœŸâ€ï¼Œåˆ¤æ–­åŒ¹é…ä¸å¦æ—¶åŒºåˆ†å­—ç¬¦å¤§å°å†™ï¼›</p>
<p>~*ï¼šä¸æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼åŒ¹é…æ—¶è¿”å›â€œçœŸâ€ï¼Œåˆ¤æ–­åŒ¹é…ä¸å¦æ—¶ä¸åŒºåˆ†å­—ç¬¦å¤§å°å†™ï¼›</p>
<p>!~ï¼šä¸æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼</p>
<p>ä¸åŒ¹é…æ—¶è¿”å›â€œçœŸâ€ï¼Œåˆ¤æ–­åŒ¹é…ä¸å¦æ—¶åŒºåˆ†å­—ç¬¦å¤§å°å†™ï¼›</p>
<p>!~*ï¼šä¸æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ä¸åŒ¹é…æ—¶è¿”å›â€œçœŸâ€ï¼Œåˆ¤æ–­åŒ¹é…ä¸å¦æ—¶ä¸åŒºåˆ†å­—ç¬¦å¤§å°å†™ï¼›</p>
<h3 id="å®æˆ˜æ¡ˆä¾‹"><a href="#å®æˆ˜æ¡ˆä¾‹" class="headerlink" title="å®æˆ˜æ¡ˆä¾‹"></a>å®æˆ˜æ¡ˆä¾‹</h3><p><strong>æµè§ˆå™¨å®ç°åˆ†ç¦»</strong></p>
<pre class="line-numbers language-shell"><code class="language-shell"># ç¦æ­¢ä½¿ç”¨curlå‘½ä»¤ä¸‹è½½æ–‡ä»¶
if ($http_user_agent ~ curl) {
    return 403;
}

# æµè§ˆå™¨å®ç°åˆ†ç¦»
if ($http_user_agent ~ Firefox){
       rewrite ^/(.*)$ /firefox/$1 break;
}

if ($http_user_agent ~ MSIE){
      rewrite ^/(.*)$ /msie/$1 break;
}

if ($http_user_agent ~ Edge){
      rewrite ^/(.*)$ /edge/$1 break;
}

if ($http_user_agent ~ Chrome){
      rewrite ^/(.*)$ /chrome/$1 break;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æµè§ˆå™¨åˆ†ç¦»çš„æ•ˆæœ</p>
<pre class="line-numbers language-shell"><code class="language-shell">ä¾‹å¦‚ï¼š ç”¨chromeè®¿é—® http://192.168.1.222/index.html ä¼šè®¿é—® /usr/local/tengine/html/chrome/index.html

# echo "Firefox html" > /usr/local/tengine/html/firefox/index.html
# echo "MSIE html" > /usr/local/tengine/html/msie/index.html
# echo "Edge html" > /usr/local/tengine/html/edge/index.html
# echo "Chrome html" > /usr/local/tengine/html/chrome/index.html<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç½‘ç«™æ›´æ–°ï¼ŒåŸæœåŠ¡è·³è½¬åˆ°åœæœæç¤ºï¼Œå…¬å¸å†…éƒ¨IPå¯ä»¥è®¿é—®</p>
<pre class="line-numbers language-shell"><code class="language-shell">set $my_ip ''; 
if ( $remote_addr = 222.222.222.222){set $my_ip 1;} #æ³¨æ„è¿™é‡Œçš„$remote_addrå¦‚ä½•ç”¨äº†è´Ÿè½½å‡è¡¡çš„è¯,è¿™é‡Œåº”è¯¥æ˜¯$http_x_forwarded_for
if ( $remote_addr = 192.168.1.170 ){ set $my_ip 1;}
if ( $remote_addr = 192.168.1.169 ){ set $my_ip 1;}
if ( $my_ip != 1) {rewrite ^/design/(.*)\.php$ /tingfu.html?$1&;}  #å°†*.phpè½¬åˆ°tingfu.html<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åªå…è®¸æŒ‡å®šIPè®¿é—®ï¼Œå…¶ä»–IPè·³è½¬åˆ°æŒ‡å®šé¡µé¢</p>
<pre class="line-numbers language-shell"><code class="language-shell">set $test '';
if ( $request_uri ~* /img/test.php ) {
        set $test P;
}

if ( $http_x_forwarded_for !~* ^222\.222\.222\.222.* ) {
        set $test "${test}C";
}

if ( $test = PC ) {  #å½“æ¡ä»¶ç¬¦åˆ è®¿é—®test.phpå¹¶ä¸” ipä¸æ˜¯222.222.222.222çš„ è½¬å‘åˆ°55555.php
    rewrite ^(.*)$ /img/55555.php permanent;  
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Locationä½¿ç”¨è¯¦è§£"><a href="#Locationä½¿ç”¨è¯¦è§£" class="headerlink" title="Locationä½¿ç”¨è¯¦è§£"></a>Locationä½¿ç”¨è¯¦è§£</h2><blockquote>
<p>å‚è€ƒ <a href="https://www.cnblogs.com/xiaoliangup/p/9175932.html" target="_blank" rel="noopener">nginx locationæŒ‡ä»¤è¯¦è§£</a></p>
</blockquote>
<p>åŸºæœ¬è¯­æ³•ï¼š <code>location [=|~|~\*|^~|@] pattern{â€¦â€¦}**</code></p>
<ol>
<li>æ²¡æœ‰ä¿®é¥°ç¬¦ è¡¨ç¤ºï¼šå¿…é¡»ä»¥æŒ‡å®šæ¨¡å¼å¼€å§‹</li>
<li>=è¡¨ç¤ºï¼šå¿…é¡»ä¸æŒ‡å®šçš„æ¨¡å¼<code>ç²¾ç¡®</code>åŒ¹é…</li>
<li>~ è¡¨ç¤ºï¼šæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼è¦<code>åŒºåˆ†å¤§å°å†™</code><ul>
<li><code>~ \.(txt|css)$</code>   åŒ¹é…æ‰€æœ‰ä»¥txtå’Œcssç»“å°¾çš„è¯·æ±‚ åŒºåˆ†å¤§å°å†™</li>
</ul>
</li>
<li>~* è¡¨ç¤ºï¼šæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼<code>ä¸åŒºåˆ†å¤§å°å†™</code></li>
<li>^~ ç±»ä¼¼äºæ— ä¿®é¥°ç¬¦çš„è¡Œä¸ºï¼Œä¹Ÿæ˜¯ä»¥æŒ‡å®šæ¨¡å¼å¼€å§‹ï¼Œä¸åŒçš„æ˜¯ï¼Œå¦‚æœæ¨¡å¼åŒ¹é…ï¼Œ<br>é‚£ä¹ˆå°±<code>åœæ­¢æœç´¢å…¶ä»–æ¨¡å¼</code>äº†ã€‚</li>
<li>@ ï¼šå®šä¹‰å‘½ålocationåŒºæ®µï¼Œè¿™äº›åŒºæ®µå®¢æˆ·æ®µä¸èƒ½è®¿é—®ï¼Œåªå¯ä»¥ç”±<code>å†…éƒ¨</code>äº§ç”Ÿçš„è¯·<br>æ±‚æ¥è®¿é—®ï¼Œå¦‚try_filesæˆ–error_pageç­‰</li>
</ol>
<p>ä¼˜å…ˆçº§ â€œ=â€ &gt; <strong>â€œ^~â€</strong> &gt; *<em>â€œ<del>â€ æˆ–â€œ</del>\</em>â€ ** &gt; â€œ/ â€</p>
<ol>
<li>locationå—ä¸­æœªè®¾ç½®rootæ—¶ï¼Œä¼šå–å¤–å±‚ï¼ˆserverå—ï¼‰çš„rootï¼Œä½†server.rootæ˜æ˜¾ä¸æ˜¯å…ˆç”Ÿæˆå­—ç¬¦ä¸²ç„¶åèµ‹å€¼ç»™location.rootï¼Œè€Œæ˜¯ç›´æ¥æŠŠæ¨¡æ¿ä¸²äº¤ç»™location.rootã€‚</li>
</ol>
<h2 id="Rewriteè§„åˆ™"><a href="#Rewriteè§„åˆ™" class="headerlink" title="Rewriteè§„åˆ™"></a>Rewriteè§„åˆ™</h2><blockquote>
<p><a href="https://blog.51cto.com/qiuyue/2121319" target="_blank" rel="noopener">CentOS 7.4 Tengineå®‰è£…é…ç½®è¯¦è§£ï¼ˆå››ï¼‰</a></p>
</blockquote>
<p>é…ç½®è¯­æ³•</p>
<pre class="line-numbers language-shell"><code class="language-shell">Syntax: rewrite regex replacement [falg];
Context: server, location , if<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="å››ç§flagæ ‡å¿—ä½"><a href="#å››ç§flagæ ‡å¿—ä½" class="headerlink" title="å››ç§flagæ ‡å¿—ä½"></a>å››ç§flagæ ‡å¿—ä½</h3><ul>
<li>lastï¼šæ‰§è¡Œè¯¥rewriteè§„åˆ™åï¼Œåœæ­¢å¤„ç†åç»­çš„rewriteæŒ‡ä»¤é›†ï¼Œå¯¹äº<code>é‡å†™åçš„URLä¼šé‡æ–°åŒ¹é…location</code></li>
<li>breakï¼šæ‰§è¡Œè¯¥rewriteè§„åˆ™åï¼Œåœæ­¢å¤„ç†åç»­çš„rewriteæŒ‡ä»¤é›†ï¼Œ<code>ä¸å†è¿›è¡ŒlocationåŒ¹é…</code></li>
<li>redirectï¼šé‡å†™å®Œæˆä¹‹åä¼šè¿”å›å®¢æˆ·ç«¯302çŠ¶æ€å“åº”ç ï¼ˆä¸´æ—¶é‡å®šå‘ï¼‰ï¼Œåœ°å€æ ä¼šæ˜¾ç¤ºè·³è½¬åçš„åœ°å€</li>
<li>permanentï¼šé‡å†™å®Œæˆä¹‹åä¼šè¿”å›å®¢æˆ·ç«¯301ï¼ˆæ°¸ä¹…é‡å®šå‘ï¼‰ï¼Œåœ°å€æ ä¼šæ˜¾ç¤ºè·³è½¬åçš„åœ°å€</li>
</ul>
<p>Sample01 <code>default</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">location /aaa.html {
    rewrite "^/aaa.html$" /bbb.html; # å…ˆèµ°rewrite æ‰ location
    rewrite "^/bbb.html$" /ddd.html;
}


location /bbb.html {
    rewrite "^/bbb.html$" /ccc.html;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åˆ›å»ºæµ‹è¯•å†…å®¹ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell"># echo "aaa html" > /usr/local/tengine/html/aaa.html
# echo "bbb html" > /usr/local/tengine/html/bbb.html
# echo "ccc html" > /usr/local/tengine/html/ccc.html
# echo "ddd html" > /usr/local/tengine/html/ddd.html<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>æµ‹è¯•ç»“æœ</p>
<blockquote>
<p> curl <a href="http://localhost/aaa.html" target="_blank" rel="noopener">http://localhost/aaa.html</a> â€“&gt; ddd.html</p>
</blockquote>
<p> Sample02  <code>last</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">location /aaa.html {

    rewrite "^/aaa.html$" /bbb.html last; # ä¸ä¼šå¾€ä¸‹rewrite ,èµ°ä¸‹é¢çš„locationåŒ¹é…
    rewrite "^/bbb.html$" /ddd.html; 

}

location /bbb.html {
    rewrite "^/bbb.html$" /ccc.html;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>æµ‹è¯•ï¼š curl <a href="http://localhost/aaa.html" target="_blank" rel="noopener">http://localhost/aaa.html</a> ==&gt; ccc.html</p>
<p>è§£æï¼š aaa.html â€“&gt; bbb.html â€“&gt; ç”±äºflagä¸ºlastï¼Œæ‰€ä»¥ä¸ä¼šå°†bbb.html â€“&gt; ddd.html â€“&gt; é‡æ–°åŒ¹é…bbb.html â€“&gt; ccc.html</p>
</blockquote>
<p>Sample03  <code>break</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">location /aaa.html {
    rewrite "^/aaa.html$" /bbb.html break;  # ä¸å‘ä¸‹rewrite åŠlocation
    rewrite "^/bbb.html$" /ddd.html;
}

location /bbb.html {
    rewrite "^/bbb.html$" /ccc.html;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>æµ‹è¯•ï¼š curl <a href="http://localhost/aaa.html" target="_blank" rel="noopener">http://localhost/aaa.html</a> â€“&gt; bbb.html</p>
<p>è§£æï¼šaaa.html â€“&gt; bbb.html â€“&gt; ç”±äºflagä¸ºbreakï¼Œæ‰€ä»¥ä¸å†è¿›è¡ŒlocationåŒ¹é…</p>
</blockquote>
<p>Sample04 é¦–å…ˆæ‰§è¡Œserveræ®µå†…çš„rewriteæŒ‡ä»¤</p>
<pre class="line-numbers language-shell"><code class="language-shell">rewrite "^/aaa.html$" /bbb.html;

location /ccc.html {
    rewrite "^/ccc.html$" /eee.html;
}

location /bbb.html {
    rewrite "^/bbb.html$" /ccc.html;
    rewrite "^/ccc.html$" /ddd.html;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p> curl <a href="http://localhost/aaa.html" target="_blank" rel="noopener">http://localhost/aaa.html</a> â€“&gt; ddd.html</p>
</blockquote>
<p>Sample 05 å…ˆæŠŠserveræ®µçš„rewriteå¼„å®Œï¼Œç„¶åæ‰location</p>
<pre class="line-numbers language-shell"><code class="language-shell">rewrite "^/aaa.html$" /bbb.html;

rewrite "^/ccc.html$" /ddd.html;


location /bbb.html {
    rewrite "^/bbb.html$" /ccc.html;
}

location /ddd.html {
    rewrite "^/ddd.html$" /eee.html;
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>æµ‹è¯•ï¼š curl <a href="http://localhost/aaa.html" target="_blank" rel="noopener">http://localhost/aaa.html</a> â€“&gt; ccc.html</p>
</blockquote>
<h3 id="å®æˆ˜æ¡ˆä¾‹-1"><a href="#å®æˆ˜æ¡ˆä¾‹-1" class="headerlink" title="å®æˆ˜æ¡ˆä¾‹"></a>å®æˆ˜æ¡ˆä¾‹</h3><p>æµè§ˆå™¨åˆ†ç¦»</p>
<pre class="line-numbers language-shell"><code class="language-shell">#http://192.168.1.222/index.html  -> /usr/local/tengine/html/msie/index.html
if ($http_user_agent ~ MSIE){

      rewrite ^/(.*)$ /msie/$1 break;

}
#http://192.168.1.222/index.html  -> /usr/local/tengine/html/edge/index.html
if ($http_user_agent ~ Edge){

      rewrite ^/(.*)$ /edge/$1 break;

}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è‡ªåŠ¨è·³è½¬åˆ°, <a href="http://blog.qiuyue.comæ—¶è‡ªåŠ¨è·³è½¬åˆ°http://www.qiuyue.com/blog" target="_blank" rel="noopener">http://blog.qiuyue.comæ—¶è‡ªåŠ¨è·³è½¬åˆ°http://www.qiuyue.com/blog</a></p>
<pre class="line-numbers language-shell"><code class="language-shell">server {

    listen 80;
    server_name blog.qiuyue.com;
    rewrite ^/(.*)$ http://www.qiuyue.com/blog/$1 permanent;

    location / {
         root html/blog;
         index index.html index.html;
    }
}

server {
    listen 80;
    server_name www.qiuyue.com;
    location / {
      root html/www;
      index index.html index.html;
    }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><a href="http://www.qiuyue.com/bbsæ—¶è‡ªåŠ¨è·³è½¬åˆ°http://bbs.qiuyue.com" target="_blank" rel="noopener">http://www.qiuyue.com/bbsæ—¶è‡ªåŠ¨è·³è½¬åˆ°http://bbs.qiuyue.com</a></p>
<pre class="line-numbers language-shell"><code class="language-shell">server {

    listen 80;
    server_name www.qiuyue.com;
    rewrite ^/bbs/(.*)$ http://bbs.qiuyue.com/$1 permanent;

     location / {
        root html/www;
        index index.html index.html;
     }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ä¼˜é›…çš„Rewriteè§„åˆ™ä¹¦å†™"><a href="#ä¼˜é›…çš„Rewriteè§„åˆ™ä¹¦å†™" class="headerlink" title="ä¼˜é›…çš„Rewriteè§„åˆ™ä¹¦å†™"></a>ä¼˜é›…çš„Rewriteè§„åˆ™ä¹¦å†™</h3><p>è‡ªå·±å†™çš„</p>
<pre class="line-numbers language-shell"><code class="language-shell">server {
    listen 80;
    server_name www.nginx.org nginx.org;
    if($htpp_host = nginx.org){
        rewrite (.*) http://www.nginx.org$1;
    }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å®˜æ–¹æ¨èå†™æ³•</p>
<pre class="line-numbers language-shell"><code class="language-shell">server {
    listen 80;
    server_name nginx.org;
    rewrite ^ http://www.nginx.org$request_url?; #åªç”¨ä¸€è¡Œï¼Œå¹¶ä¸”ä¹¦å†™ç¾è§‚
}

server {
    listen 80;
    server_name www.nginx.org;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Nginx-é«˜çº§æ¨¡å—"><a href="#Nginx-é«˜çº§æ¨¡å—" class="headerlink" title="Nginx é«˜çº§æ¨¡å—"></a>Nginx é«˜çº§æ¨¡å—</h2><h3 id="secure-link-moduleæ¨¡å—"><a href="#secure-link-moduleæ¨¡å—" class="headerlink" title="secure_link_moduleæ¨¡å—"></a>secure_link_moduleæ¨¡å—</h3><ul>
<li><a href="https://nginx.org/en/docs/http/ngx_http_secure_link_module.html" target="_blank" rel="noopener">ngx_http_secure_link_module</a></li>
</ul>
<p>æ³¨æ„ä½œç”¨ï¼š</p>
<ol>
<li>åˆ¶å®šå¹¶å…è®¸æ£€æŸ¥è¯·æ±‚çš„è¿æ¥çš„çœŸå®æ€§ä»¥åŠä¿æŠ¤èµ„æºå…é­æœªç»æˆæƒçš„è®¿é—®ï¼›</li>
<li>é™åˆ¶è¿æ¥ç”Ÿæ•ˆå‘¨æœŸï¼›</li>
</ol>
<h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><p>enabled with the <code>--with-http_secure_link_module</code></p>
<p>è¯­æ³•</p>
<pre class="line-numbers language-shell"><code class="language-shell">Syntax:    secure_link expression;
Context:    http, server, location<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-shell"><code class="language-shell">Syntax:    secure_link_md5 expression;
Context:    http, server, location<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h4 id="Sample"><a href="#Sample" class="headerlink" title="Sample"></a>Sample</h4><pre class="line-numbers language-shell"><code class="language-shell">location /s/ {
    secure_link $arg_md5,$arg_expires;
    secure_link_md5 "$secure_link_expires$uri$remote_addr secret";

    if ($secure_link = "") {
        return 403;
    }

    if ($secure_link = "0") {
        return 410;
    }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>md5url.sh ç”Ÿæˆå®‰å…¨è¿æ¥</p>
<pre class="line-numbers language-shell"><code class="language-shell">#!/bin/sh
#
#Auth:zhilinchn@126.com
servername="zhilinchn.com"
download_file="/dowload/file.img"
time_num=$(date -d "2019-10-16 00:00:00" +%s)
secret_num="secret"  #è®°å¾—å’ŒæœåŠ¡ç«¯ secretå¯¹åº”
res=$(echo -n "${time_num}${download_file} ${secret_num}" | openssl md5 -binary | openssl base64 | tr +/ -_ | tr -d =)
echo "http://${servername}${download_file}?md5=${res}&expires=${time_num}"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>source md5url.sh è¿›è¡Œè®¿é—®</p>
<pre class="line-numbers language-shell"><code class="language-shell">http://zhilinchn.com/dowload/file.img?md5=FFhZt0XJo7ed_X973FsRgA&expires=1571155200<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="geoip-module-æ¨¡å—"><a href="#geoip-module-æ¨¡å—" class="headerlink" title="geoip_module æ¨¡å—"></a>geoip_module æ¨¡å—</h3><ul>
<li><a href="https://nginx.org/en/docs/http/ngx_http_geoip_module.html" target="_blank" rel="noopener">ngx_http_geoip_module</a> åŸºäºIPåœ°å€MaxMind GeoIP äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¯»å–IPæ‰€åœ¨åœ°åŸŸä¿¡æ¯ã€‚</li>
<li>yum install nginx-module-geoip</li>
</ul>
<h4 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h4><ol>
<li>åŒºåˆ«å›½å†…å›½å¤–ä½œHTTPè®¿é—®è§„åˆ™</li>
<li>åŒºåˆ«å›½å†…åŸå¸‚åœ°åŸŸHTTPè®¿é—®è§„åˆ™</li>
</ol>
<h3 id="ngx-fancyindex-å®ç°æ–‡ä»¶ç´¢å¼•ç›®å½•"><a href="#ngx-fancyindex-å®ç°æ–‡ä»¶ç´¢å¼•ç›®å½•" class="headerlink" title="ngx-fancyindex å®ç°æ–‡ä»¶ç´¢å¼•ç›®å½•"></a>ngx-fancyindex å®ç°æ–‡ä»¶ç´¢å¼•ç›®å½•</h3><blockquote>
<p>å®ç°ç´¢å¼•ç›®å½•ï¼ˆé€‚ç”¨äºä¸‹è½½ç«™ï¼‰tengine</p>
</blockquote>
<ol>
<li><p>ä¸‹è½½ngx-fancyindex</p>
<pre class="line-numbers language-shell"><code class="language-shell">yum -y install git \
cd /tmp \
git clone https://github.com/aperezdc/ngx-fancyindex.git ngx-fancyindex<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>ä½¿ç”¨Tengineçš„dso_toolå·¥å…·ç¼–è¯‘ç¬¬ä¸‰æ–¹æ¨¡å—ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">dso_tool -h #help
dso_tool --add-module=/tmp/ngx-fancyindex
ls /usr/local/tengine/modules | grep fancyindex  -->  ngx_http_fancyindex_module.so<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>æ·»åŠ events é…ç½®</p>
</li>
</ol>
<pre class="line-numbers language-shell"><code class="language-shell">   dso {
       load ngx_http_fancyindex_module.so;
   }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ol start="4">
<li><p>server è®¾ç½®</p>
<pre class="line-numbers language-shell"><code class="language-shell">location /software {
    root /download;
    fancyindex on;              # å¯ç”¨fancyç›®å½•ç´¢å¼•åŠŸèƒ½
    fancyindex_exact_size off;    # ä¸æ˜¾ç¤ºæ–‡ä»¶çš„ç²¾ç¡®å¤§å°ï¼Œè€Œæ˜¯å››èˆäº”å…¥ï¼Œå•ä½æ˜¯KBã€MBå’ŒGB
    fancyindex_localtime on;     # é»˜è®¤ä¸ºoffï¼Œæ˜¾ç¤ºçš„æ˜¯GMTæ—¶é—´ï¼Œæ”¹ä¸ºonï¼Œæ˜¾ç¤ºçš„æ˜¯æœåŠ¡å™¨æ—¶é—´

}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>é‡è½½åæµ‹è¯•</p>
</li>
</ol>
<ul>
<li>è®¿é—®åˆ°æµ‹è¯•</li>
<li>æ£€æµ‹æ¨¡å—æ˜¯å¦åŠ è½½æˆåŠŸ nginx -m  â€“&gt;  ngx_http_fancyindex_module (shared, 3.1)</li>
</ul>
<h2 id="åŸºäºNginxçš„HTTPSæœåŠ¡"><a href="#åŸºäºNginxçš„HTTPSæœåŠ¡" class="headerlink" title="åŸºäºNginxçš„HTTPSæœåŠ¡"></a>åŸºäºNginxçš„HTTPSæœåŠ¡</h2><h3 id="è‡ªå»ºCAæœåŠ¡å™¨åˆ›å»ºç§æœ‰CA"><a href="#è‡ªå»ºCAæœåŠ¡å™¨åˆ›å»ºç§æœ‰CA" class="headerlink" title="è‡ªå»ºCAæœåŠ¡å™¨åˆ›å»ºç§æœ‰CA"></a>è‡ªå»ºCAæœåŠ¡å™¨åˆ›å»ºç§æœ‰CA</h3><ol>
<li><p>å®‰è£…ç›¸å…³è½¯ä»¶åŒ…,ç”Ÿæˆç§é’¥</p>
<pre class="line-numbers language-shell"><code class="language-shell">yum -y install openssl openssh-clients
#åˆ›å»ºä¿å­˜è¯ä¹¦ä¿¡æ¯çš„æ•°æ®åº“æ–‡ä»¶
touch /etc/pki/CA/index.txt
#ä¿å­˜è¯ä¹¦åºåˆ—å·çš„æ–‡ä»¶
echo 01 > /etc/pki/CA/serial
#ç”Ÿæˆç§é’¥cakey.pem
(umask 077; openssl genrsa -out /etc/pki/CA/private/cakey.pem 2048)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¤‡æ³¨ï¼š</p>
<p>genrsaï¼šç”¨äºç”ŸæˆRSAå¯†é’¥å¯¹çš„OpenSSLå­å‘½ä»¤ (man genrsa)</p>
<p>-out cakey.pem æŒ‡å®šç§é’¥ä¿å­˜ä½ç½®</p>
<p>2048 å¯†é’¥é•¿åº¦</p>
</li>
<li><p>ç”ŸæˆCAè¯ä¹¦cacert.pem</p>
<pre class="line-numbers language-shell"><code class="language-shell">cd /etc/pki/CA 
openssl req -new -x509 -key private/cakey.pem -days 7300 -out cacert.pem<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>è¾“å…¥ä¿¡æ¯</p>
<pre class="line-numbers language-shell"><code class="language-shell">Country Name (2 letter code) [XX]:cn
State or Province Name (full name) []:guangdong       
Locality Name (eg, city) [Default City]:shenzhen
Organization Name (eg, company) [Default Company Ltd]:TX
Organizational Unit Name (eg, section) []:DEV
Common Name (eg, your name or your server's hostname) []:ca.vhosts.com #è¯ä¹¦é¢å‘è€…
Email Address []:zhilinchn@126.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¤‡æ³¨ï¼š</p>
<p>reqå­å‘½ä»¤å¸¸ç”¨é€‰é¡¹ï¼ˆman reqï¼‰<br>-newï¼šç”Ÿæˆæ–°è¯ä¹¦ç­¾ç½²è¯·æ±‚<br>-x509ï¼šä¸“ç”¨äºCAç”Ÿæˆè‡ªç­¾è¯ä¹¦<br>-key cakey.pemï¼šç”ŸæˆCAè¯ä¹¦è¯·æ±‚æ—¶ç”¨åˆ°çš„ç§é’¥</p>
<p>-days 7300ï¼šè¯ä¹¦çš„æœ‰æ•ˆæœŸé™ä¸º20å¹´<br>-out cacert.pemï¼šè¯ä¹¦çš„ä¿å­˜è·¯å¾„</p>
</li>
</ol>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul>
<li><a href="https://blog.csdn.net/baofeidyz/article/details/80435929" target="_blank" rel="noopener">ã€Nginxã€‘Nginxé…ç½®SSLè¯ä¹¦</a></li>
</ul>
<h2 id="Nginx-ä¸Luaå¼€å‘"><a href="#Nginx-ä¸Luaå¼€å‘" class="headerlink" title="Nginx ä¸Luaå¼€å‘"></a>Nginx ä¸Luaå¼€å‘</h2><h3 id="Nginxä¸Luaç‰¹æ€§ä¸ä¼˜åŠ¿"><a href="#Nginxä¸Luaç‰¹æ€§ä¸ä¼˜åŠ¿" class="headerlink" title="Nginxä¸Luaç‰¹æ€§ä¸ä¼˜åŠ¿"></a>Nginxä¸Luaç‰¹æ€§ä¸ä¼˜åŠ¿</h3><ol>
<li><p>Lua æ˜¯ä¸€ä¸ªç®€æ´ã€è½»é‡ã€å¯æ‰©å±•çš„è„šæœ¬è¯­è¨€ã€‚Luaè„šæœ¬å¯ä»¥å¾ˆå®¹æ˜“çš„è¢«<a href="https://baike.baidu.com/item/C%2FC%2B%2B" target="_blank" rel="noopener">C/C++</a> ä»£ç è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥åè¿‡æ¥è°ƒç”¨C/C++çš„å‡½æ•°ã€‚Luaç”±æ ‡å‡†Cç¼–å†™è€Œæˆï¼Œä»£ç ç®€æ´ä¼˜ç¾ï¼Œå‡ ä¹åœ¨æ‰€æœ‰æ“ä½œç³»ç»Ÿå’Œå¹³å°ä¸Šéƒ½å¯ä»¥<a href="https://baike.baidu.com/item/ç¼–è¯‘/1258343" target="_blank" rel="noopener">ç¼–è¯‘</a>ï¼Œè¿è¡Œã€‚ä¸€ä¸ªå®Œæ•´çš„Luaè§£é‡Šå™¨ä¸è¿‡200kï¼Œåœ¨ç›®å‰æ‰€æœ‰<a href="https://baike.baidu.com/item/è„šæœ¬å¼•æ“/4449478" target="_blank" rel="noopener">è„šæœ¬å¼•æ“</a>ä¸­ï¼ŒLuaçš„é€Ÿåº¦æ˜¯æœ€å¿«çš„ã€‚è¿™ä¸€åˆ‡éƒ½å†³å®šäº†Luaæ˜¯ä½œä¸ºåµŒå…¥å¼è„šæœ¬çš„æœ€ä½³é€‰æ‹©</p>
</li>
<li><p>Nginx+ Luaçš„ä¼˜åŠ¿<br>å……åˆ†ç»“åˆNginxçš„å¹¶å‘å¤„ç†epollä¼˜åŠ¿å’ŒLuaçš„è½»é‡çº§å®ç°ç®€å•çš„åŠŸèƒ½æé«˜é«˜å¹¶å‘åœºæ™¯ã€‚</p>
<ul>
<li>ç»Ÿè®¡ç”¨æˆ·IPï¼›</li>
<li>ç»Ÿè®¡ç”¨æˆ·çš„è®¿é—®æ¬¡æ•°ï¼›</li>
<li>å®‰å…¨åŠŸèƒ½</li>
</ul>
</li>
</ol>
<h3 id="Lua-åŸºç¡€è¯­æ³•"><a href="#Lua-åŸºç¡€è¯­æ³•" class="headerlink" title="Lua åŸºç¡€è¯­æ³•"></a>Lua åŸºç¡€è¯­æ³•</h3><ol>
<li><p>å®‰è£…luaè§£æå™¨ <code>yum install lua</code></p>
</li>
<li><p>run Hello World </p>
<ul>
<li><p>terminal input lua <code>print("Hello World!")</code></p>
</li>
<li><p>scriptï¼štest.lua , <code>chmod a+x text.lua</code> <code>./test.lua</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">#!/usr/bin/lua
print("Hello World!")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
<li><p>æ³¨é‡Š</p>
<pre class="line-numbers language-shell"><code class="language-shell">-- å•è¡Œæ³¨é‡Š
--[[
 å¤šè¡Œæ³¨é‡Š
 å¤šè¡Œæ³¨é‡Š
 --]]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>luaçš„æ•°æ®ç±»å‹<br>å¸ƒå°”ç±»å‹åªæœ‰nilå’Œfalseï¼Œ æ•°å­—ï¼Œç©ºå­—ç¬¦ä¸²ï¼ˆâ€™\0â€˜ï¼‰éƒ½æ˜¯true</p>
</li>
<li><p>å˜é‡</p>
<pre class="line-numbers language-lua"><code class="language-lua">a <span class="token operator">=</span> <span class="token number">5</span>               <span class="token comment" spellcheck="true">-- å…¨å±€å˜é‡</span>
<span class="token keyword">local</span> b <span class="token operator">=</span> <span class="token number">5</span>         <span class="token comment" spellcheck="true">-- å±€éƒ¨å˜é‡</span>

<span class="token keyword">function</span> <span class="token function">joke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    c <span class="token operator">=</span> <span class="token number">5</span>           <span class="token comment" spellcheck="true">-- å…¨å±€å˜é‡</span>
    <span class="token keyword">local</span> d <span class="token operator">=</span> <span class="token number">6</span>     <span class="token comment" spellcheck="true">-- å±€éƒ¨å˜é‡</span>
<span class="token keyword">end</span>

<span class="token function">joke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span>          <span class="token comment" spellcheck="true">--> 5 nil</span>

<span class="token keyword">do</span> 
    <span class="token keyword">local</span> a <span class="token operator">=</span> <span class="token number">6</span>     <span class="token comment" spellcheck="true">-- å±€éƒ¨å˜é‡</span>
    b <span class="token operator">=</span> <span class="token number">6</span>           <span class="token comment" spellcheck="true">-- å¯¹å±€éƒ¨å˜é‡é‡æ–°èµ‹å€¼</span>
    <span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">--> 6 6</span>
<span class="token keyword">end</span>

<span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>      <span class="token comment" spellcheck="true">--> 5 6</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<p>whileå¾ªç¯</p>
<pre class="line-numbers language-lua"><code class="language-lua">sum <span class="token operator">=</span> <span class="token number">0</span> 
num <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">while</span> num <span class="token operator">&lt;=</span><span class="token number">100</span> <span class="token keyword">do</span>
    sum <span class="token operator">=</span> sum <span class="token operator">+</span> num
    <span class="token comment" spellcheck="true">-- ä¸æ”¯æŒ num++</span>
    num <span class="token operator">=</span> num <span class="token operator">+</span><span class="token number">1</span>
<span class="token keyword">end</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"sum="</span><span class="token punctuation">,</span>sum<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>forå¾ªç¯</p>
<pre class="line-numbers language-shell"><code class="language-shell">sum=0
for i=1,100 do
    sum = sum +i
end<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>if-else åˆ¤æ–­è¯­å¥</p>
<pre class="line-numbers language-lua"><code class="language-lua"><span class="token keyword">if</span> age <span class="token operator">==</span> <span class="token number">40</span> <span class="token keyword">and</span> sex <span class="token operator">==</span> <span class="token string">"Male"</span> <span class="token keyword">then</span> 
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"å¤§äº40ç”·äºº"</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true">-- ~= ä¸ç­‰äº</span>
<span class="token keyword">elseif</span> age <span class="token operator">></span> <span class="token number">60</span> <span class="token keyword">and</span> sex <span class="token operator">~=</span> <span class="token string">"Female"</span> <span class="token keyword">then</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"éå¥³äººè€Œä¸”å¤§äº60"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span>
    <span class="token comment" spellcheck="true">-- ä»å±å¹•ç»ˆç«¯è¯»å–</span>
    <span class="token keyword">local</span> age <span class="token operator">=</span> io<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true">-- .. å­—ç¬¦æ‹¼æ¥</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Your age is "</span><span class="token operator">..</span>age<span class="token punctuation">)</span>
<span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Nginx-lua-ç¯å¢ƒ"><a href="#Nginx-lua-ç¯å¢ƒ" class="headerlink" title="Nginx + lua ç¯å¢ƒ"></a>Nginx + lua ç¯å¢ƒ</h3><ol>
<li><p>LuaJIT</p>
</li>
<li><p>ngx_devel_kit å’Œlua-nginx-module</p>
</li>
<li><p>é‡æ–°ç¼–è¯‘ å‚è€ƒ <a href="http://www.imooc.com/article/19597" target="_blank" rel="noopener">http://www.imooc.com/article/19597</a> </p>
</li>
<li><p>å®¹å™¨åŒ–ï¼Œå‚è€ƒé™„å½•äºŒ</p>
</li>
</ol>
<h3 id="Nginx-è°ƒç”¨luaæ¨¡å—æŒ‡ä»¤"><a href="#Nginx-è°ƒç”¨luaæ¨¡å—æŒ‡ä»¤" class="headerlink" title="Nginx è°ƒç”¨luaæ¨¡å—æŒ‡ä»¤"></a>Nginx è°ƒç”¨luaæ¨¡å—æŒ‡ä»¤</h3><p><img src="http://cdn.linz.tech/nginx_lua_module.png" alt=""></p>
<h3 id="Nginx-lua-API"><a href="#Nginx-lua-API" class="headerlink" title="Nginx lua API"></a>Nginx lua API</h3><p><img src="http://cdn.linz.tech/nginx_lua_api.png" alt=""></p>
<p>æ¯”è¾ƒå…¨çš„APIæ€»ç»“ <a href="https://www.cnblogs.com/wangxusummer/p/4309007.html" target="_blank" rel="noopener">ngx_lua æ¨¡å—</a></p>
<pre class="line-numbers language-shell"><code class="language-shell">location /hello {
      default_type 'text/plain';
      content_by_lua 'ngx.say("hello, lua")';
}

location /myip {
      default_type 'text/plain';
      content_by_lua 'ngx.req.get_headers()["x_forward_for"] ngx.say("IP",clientIP)'
}

location / {
      default_type 'text/plain';
      content_by_lua_file0 /opt/app/lua/dep.lua; #è°ƒç”¨luaè„šæœ¬
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å®æˆ˜-ç°åº¦å‘å¸ƒ"><a href="#å®æˆ˜-ç°åº¦å‘å¸ƒ" class="headerlink" title="å®æˆ˜-ç°åº¦å‘å¸ƒ"></a>å®æˆ˜-ç°åº¦å‘å¸ƒ</h3><p><a href="https://blog.csdn.net/qq_31725371/article/details/85226056#2_192168120MemcacheLua_70" target="_blank" rel="noopener">Nginx + Lua + MemcacheåŸºäºIPå®ç°ç°åº¦å‘å¸ƒ</a></p>
<p>dep.lua</p>
<pre class="line-numbers language-lua"><code class="language-lua"><span class="token comment" spellcheck="true">-- å–åˆ°ç”¨æˆ·IP</span>
clientIP <span class="token operator">=</span> ngx<span class="token punctuation">.</span>req<span class="token punctuation">.</span><span class="token function">get_headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"X-Real-IP"</span><span class="token punctuation">]</span>
<span class="token keyword">if</span> clientIP <span class="token operator">==</span> <span class="token keyword">nil</span> <span class="token keyword">then</span>
    clientIP <span class="token operator">=</span> ngx<span class="token punctuation">.</span>req<span class="token punctuation">.</span><span class="token function">get_headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"x_forwarded_for"</span><span class="token punctuation">]</span>
<span class="token keyword">end</span>
<span class="token keyword">if</span> clientIP <span class="token operator">==</span> nill <span class="token keyword">then</span> 
    clientIP <span class="token operator">==</span> ngx<span class="token punctuation">.</span>var<span class="token punctuation">.</span>remote_addr
<span class="token keyword">end</span>
    <span class="token keyword">local</span> memcached <span class="token operator">=</span> require <span class="token string">"resty.memcached"</span>
    <span class="token keyword">local</span> memc<span class="token punctuation">,</span> err <span class="token operator">=</span> memcached<span class="token punctuation">:</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> memc <span class="token keyword">then</span> 
        ngx<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token string">"failed to instantiate memc:"</span><span class="token punctuation">,</span>err<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token keyword">end</span>
    <span class="token keyword">local</span> ok<span class="token punctuation">,</span>err <span class="token operator">=</span> memc<span class="token punctuation">:</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span><span class="token number">11211</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> ok <span class="token keyword">then</span> 
        ngx<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token string">"failed to connect:"</span><span class="token punctuation">,</span>err<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token keyword">end</span>
    <span class="token keyword">local</span> res<span class="token punctuation">,</span> flags<span class="token punctuation">,</span> err <span class="token operator">=</span> memc<span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span>clientIP<span class="token punctuation">)</span>
    ngx<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token string">"value key:"</span><span class="token punctuation">,</span>res<span class="token punctuation">,</span>clientIP<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token keyword">then</span> 
        ngx<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token string">"failed to get clientIP "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        <span class="token keyword">return</span> 
    <span class="token keyword">end</span> 
    <span class="token keyword">if</span> res <span class="token operator">==</span> <span class="token string">"1"</span> <span class="token keyword">then</span> 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="ç¬¬äº”ç« -Nginxæ¶æ„ç¯‡"><a href="#ç¬¬äº”ç« -Nginxæ¶æ„ç¯‡" class="headerlink" title="ç¬¬äº”ç«  Nginxæ¶æ„ç¯‡"></a>ç¬¬äº”ç«  Nginxæ¶æ„ç¯‡</h1><h2 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h2><ol>
<li>å¤šä¸ªserver_name çš„ä¼˜å…ˆçº§</li>
<li>å¤šä¸ªLocationä¼˜å…ˆçº§</li>
<li>try_filesä½¿ç”¨</li>
<li>alias å’ŒrootåŒºåˆ«</li>
<li>è·å–ç”¨æˆ·çœŸå®IP</li>
<li>Nginxå¸¸è§çš„é”™è¯¯</li>
</ol>
<h2 id="æ€§èƒ½ä¼˜åŒ–"><a href="#æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–"></a>æ€§èƒ½ä¼˜åŒ–</h2><h3 id="Apache-ab-å‹æµ‹è¯•å·¥å…·"><a href="#Apache-ab-å‹æµ‹è¯•å·¥å…·" class="headerlink" title="Apache ab å‹æµ‹è¯•å·¥å…·"></a>Apache ab å‹æµ‹è¯•å·¥å…·</h3><p>å®‰è£…</p>
<pre class="line-numbers language-shell"><code class="language-shell">sudo yum install httpd-tools<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ä½¿ç”¨</p>
<pre class="line-numbers language-shell"><code class="language-shell"># -n å‘é€100æ¬¡ -c å¹¶å‘10
ab -n 100 -c 10 [http[s]://]hostname[:port]/path
#-p post æ–¹å¼ -T æ•°æ®æ ¼å¼
#post_wecaht.txt  = {"send_type":"email", "to":"yanyongwen@xiaoniu66.com", "content":"parallel test"}
ab -n 100 -c 10 -p post_wechat.txt -T application/json [http[s]://]hostname[:port]/path
#-H headers
ab -n 1000 -c 200 -p post.txt -H 'X-Custom-Header':'xxxx' -H 'OS-TYPE':'linux' -T application/json http://localhost:9090/hardware
# -k æ˜¯å¦å¼€å¯é•¿è¿æ¥<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç»“æœåˆ†æ</p>
<pre class="line-numbers language-shell"><code class="language-shell">Server Software:        Microsoft-HTTPAPI/2.0 
Server Hostname:        192.168.0.10 
Server Port:            80

Document Path:          / 
Document Length:        315 bytes       HTTPå“åº”æ•°æ®çš„æ­£æ–‡é•¿åº¦

Concurrency Level:      800 
Time taken for tests:   0.914 seconds    æ‰€æœ‰è¿™äº›è¯·æ±‚å¤„ç†å®Œæˆæ‰€èŠ±è´¹çš„æ—¶é—´ 
Complete requests:      800             å®Œæˆè¯·æ±‚æ•° 
Failed requests:        0                å¤±è´¥è¯·æ±‚æ•° 
Write errors:           0                
Non-2xx responses:      800              # æœ‰å¤šå°‘ä¸ªé200çš„è¯·æ±‚
Total transferred:      393600 bytes     ç½‘ç»œæ€»ä¼ è¾“é‡ 
HTML transferred:       252000 bytes     HTMLå†…å®¹ä¼ è¾“é‡ 
Requests per second:    875.22 [#/sec] (mean) ååé‡-æ¯ç§’è¯·æ±‚æ•° 
Time per request:       914.052 [ms] (mean)  æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œå“åº”é¡µé¢è¦èŠ±è´¹çš„æ—¶é—´ 
Time per request:       1.143 [ms] (mean, across all concurrent requests) å¹¶å‘çš„æ¯ä¸ªè¯·æ±‚å¹³å‡æ¶ˆè€—æ—¶é—´ 
Transfer rate:          420.52 [Kbytes/sec] received å¹³å‡æ¯ç§’ç½‘ç»œä¸Šçš„æµé‡ï¼Œå¯ä»¥å¸®åŠ©æ’é™¤æ˜¯å¦å­˜åœ¨ç½‘ç»œæµé‡è¿‡å¤§å¯¼è‡´å“åº”æ—¶é—´å»¶é•¿çš„é—®é¢˜


ç½‘ç»œä¸Šæ¶ˆè€—çš„æ—¶é—´çš„åˆ†è§£ï¼š 
Connection Times (ms) 
              min  mean[+/-sd] median   max 
Connect:        0    1   0.5      1       3 
Processing:   245  534 125.2    570     682 
Waiting:       11  386 189.1    409     669 
Total:        246  535 125.0    571     684

æ•´ä¸ªåœºæ™¯ä¸­æ‰€æœ‰è¯·æ±‚çš„å“åº”æƒ…å†µã€‚åœ¨åœºæ™¯ä¸­æ¯ä¸ªè¯·æ±‚éƒ½æœ‰ä¸€ä¸ªå“åº”æ—¶é—´ 
å…¶ä¸­ 50ï¼… çš„ç”¨æˆ·å“åº”æ—¶é—´å°äº 571 æ¯«ç§’ 
80 ï¼… çš„ç”¨æˆ·å“åº”æ—¶é—´å°äº 652 æ¯«ç§’ 
æœ€å¤§çš„å“åº”æ—¶é—´å°äº 684 æ¯«ç§’ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ç³»ç»Ÿå’ŒNginxæ€§èƒ½ä¼˜åŒ–"><a href="#ç³»ç»Ÿå’ŒNginxæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="ç³»ç»Ÿå’ŒNginxæ€§èƒ½ä¼˜åŒ–"></a>ç³»ç»Ÿå’ŒNginxæ€§èƒ½ä¼˜åŒ–</h3><h3 id="æ–‡ä»¶å¥æŸ„è®¾ç½®"><a href="#æ–‡ä»¶å¥æŸ„è®¾ç½®" class="headerlink" title="æ–‡ä»¶å¥æŸ„è®¾ç½®"></a>æ–‡ä»¶å¥æŸ„è®¾ç½®</h3><h3 id="CPUäº²å’Œæ€§è®¾ç½®"><a href="#CPUäº²å’Œæ€§è®¾ç½®" class="headerlink" title="CPUäº²å’Œæ€§è®¾ç½®"></a>CPUäº²å’Œæ€§è®¾ç½®</h3><h3 id="Nginxé€šç”¨é…ç½®ä¼˜åŒ–"><a href="#Nginxé€šç”¨é…ç½®ä¼˜åŒ–" class="headerlink" title="Nginxé€šç”¨é…ç½®ä¼˜åŒ–"></a>Nginxé€šç”¨é…ç½®ä¼˜åŒ–</h3><h2 id="Nginxå®‰å…¨"><a href="#Nginxå®‰å…¨" class="headerlink" title="Nginxå®‰å…¨"></a>Nginxå®‰å…¨</h2><h3 id="æ¶æ„è¡Œä¸ºæ§åˆ¶æ‰‹æ®µ"><a href="#æ¶æ„è¡Œä¸ºæ§åˆ¶æ‰‹æ®µ" class="headerlink" title="æ¶æ„è¡Œä¸ºæ§åˆ¶æ‰‹æ®µ"></a>æ¶æ„è¡Œä¸ºæ§åˆ¶æ‰‹æ®µ</h3><h3 id="æ”»å‡»æ‰‹æ®µä¹‹æš´åŠ›ç ´è§£"><a href="#æ”»å‡»æ‰‹æ®µä¹‹æš´åŠ›ç ´è§£" class="headerlink" title="æ”»å‡»æ‰‹æ®µä¹‹æš´åŠ›ç ´è§£"></a>æ”»å‡»æ‰‹æ®µä¹‹æš´åŠ›ç ´è§£</h3><h3 id="æ–‡ä»¶ä¸Šä¼ æ¼æ´"><a href="#æ–‡ä»¶ä¸Šä¼ æ¼æ´" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ æ¼æ´"></a>æ–‡ä»¶ä¸Šä¼ æ¼æ´</h3><h3 id="SQLæ³¨å…¥"><a href="#SQLæ³¨å…¥" class="headerlink" title="SQLæ³¨å…¥"></a>SQLæ³¨å…¥</h3><h3 id="Nginx-lua-é˜²ç«å¢™åŠŸèƒ½"><a href="#Nginx-lua-é˜²ç«å¢™åŠŸèƒ½" class="headerlink" title="Nginx + lua é˜²ç«å¢™åŠŸèƒ½"></a>Nginx + lua é˜²ç«å¢™åŠŸèƒ½</h3><h3 id="å¤æ‚è®¿é—®æ”»å‡»ä¸­CCæ”»å‡»æ–¹å¼"><a href="#å¤æ‚è®¿é—®æ”»å‡»ä¸­CCæ”»å‡»æ–¹å¼" class="headerlink" title="å¤æ‚è®¿é—®æ”»å‡»ä¸­CCæ”»å‡»æ–¹å¼"></a>å¤æ‚è®¿é—®æ”»å‡»ä¸­CCæ”»å‡»æ–¹å¼</h3><h2 id="1-è°ƒè¯•"><a href="#1-è°ƒè¯•" class="headerlink" title="1. è°ƒè¯•"></a>1. è°ƒè¯•</h2><h3 id="1-1-æŸ¥çœ‹nginxçš„çŠ¶æ€ä¿¡æ¯"><a href="#1-1-æŸ¥çœ‹nginxçš„çŠ¶æ€ä¿¡æ¯" class="headerlink" title="1.1 æŸ¥çœ‹nginxçš„çŠ¶æ€ä¿¡æ¯"></a>1.1 æŸ¥çœ‹nginxçš„çŠ¶æ€ä¿¡æ¯</h3><blockquote>
<p>éœ€è¦ç¼–è¯‘æ—¶å®‰è£…<code>http_stub_status_module</code>  åŠconfig â€“with-http_stub_status_module</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">location /status {
    stub_status on;
    allow 192.168.101.120;
    deny all;
    access_log off;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è®¿é—®<a href="http://192.168.1.222/status" target="_blank" rel="noopener">http://192.168.1.222/status</a></p>
<p><img src="http://cdn.linz.tech/nginx-2019-6-13-io-status.png" alt=""></p>
<p>çŠ¶æ€è¯´æ˜</p>
<ul>
<li>Active connectionsï¼šå½“å‰æ´»åŠ¨çš„å®¢æˆ·ç«¯è¿æ¥æ•°</li>
<li>acceptsï¼šå·²ç»æ¥æ”¶è¿‡çš„å®¢æˆ·ç«¯è¿æ¥æ€»æ•°</li>
<li>handledï¼šå·²ç»å¤„ç†è¿‡çš„å®¢æˆ·ç«¯è¿æ¥æ€»æ•°</li>
<li>requestsï¼šå®¢æˆ·ç«¯çš„è¯·æ±‚æ€»æ•°</li>
<li>request_timeï¼šè¯·æ±‚æ—¶é—´</li>
<li>Readingï¼šæ­£åœ¨è¯»å–çš„å®¢æˆ·ç«¯è¯·æ±‚æ•°</li>
<li>Writingï¼šæ­£åœ¨å¤„ç†è¯·æ±‚æˆ–å‘é€å“åº”æŠ¥æ–‡çš„è¿æ¥æ•°</li>
<li>Waitingï¼šç­‰å¾…å‘å‡ºè¯·æ±‚çš„ç©ºé—²è¿æ¥æ•°</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼šå¯ä»¥é…åˆ åŸºäºç”¨æˆ·å/å¯†ç å®ç°è®¿é—®æ§åˆ¶è¿›è¡Œå¯†ç æ ¡éªŒ</p>
</blockquote>
<h3 id="1-2-è£…è½½echoæ¨¡å—-ç”¨äºæ‰“å°æ—¥å¿—"><a href="#1-2-è£…è½½echoæ¨¡å—-ç”¨äºæ‰“å°æ—¥å¿—" class="headerlink" title="1.2 è£…è½½echoæ¨¡å—, ç”¨äºæ‰“å°æ—¥å¿—"></a>1.2 è£…è½½echoæ¨¡å—, ç”¨äºæ‰“å°æ—¥å¿—</h3><ol>
<li>ä¸‹è½½echo-nginx-moduleï¼š</li>
</ol>
<pre class="line-numbers language-shell"><code class="language-shell">yum -y install git \
cd /tmp \
git clone https://github.com/openresty/echo-nginx-module.git<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li><p>ä½¿ç”¨Tengineçš„dso_toolå·¥å…·ç¼–è¯‘ç¬¬ä¸‰æ–¹æ¨¡å—ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">dso_tool --add-module=/tmp/echo-nginx-module
ls /usr/local/tengine/modules | grep echo  -->  ngx_http_echo_module.so<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>nginx é…ç½®</p>
<pre class="line-numbers language-shell"><code class="language-shell">events{
    dso {
        load ngx_http_echo_module.so;
    }
}
server{
location /echo {
    default_type "text/plain";    # ä¸æŒ‡å®šdefault_typeï¼Œä¼šæç¤ºä¸‹è½½æ–‡ä»¶ï¼Œè€Œéç›´æ¥è¾“å‡ºåœ¨æµè§ˆå™¨ä¸­
    echo "host  -->  $host";                        # è¯·æ±‚ä¸»æœºå¤´å­—æ®µï¼Œå¦åˆ™ä¸ºæœåŠ¡å™¨åç§°
    echo "server_name  -->  $server_name";          # æœåŠ¡å™¨åç§°
    echo "server_addr  -->  $server_addr";            # æœåŠ¡å™¨IPåœ°å€
    echo "remote_addr  -->  $remote_addr";          # å®¢æˆ·ç«¯IPåœ°å€
    echo "uri  -->  $uri";                          # ä¸å¸¦è¯·æ±‚å‚æ•°çš„å½“å‰URIï¼Œ$uriä¸åŒ…å«ä¸»æœºå
    echo "document_uri  -->  $document_uri";        # ä¸$uriå«ä¹‰ç›¸åŒ
    echo "request_uri  -->  $request_uri";            # å¸¦è¯·æ±‚å‚æ•°çš„åŸå§‹URIï¼Œä¸åŒ…å«ä¸»æœºå
    echo "request_filename  -->  $request_filename";   # å½“å‰è¯·æ±‚çš„æ–‡ä»¶è·¯å¾„
    echo "document_root  -->  $document_root";      # å½“å‰è¯·æ±‚åœ¨rootæŒ‡ä»¤ä¸­æŒ‡å®šçš„å€¼
}
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>æµ‹è¯•</p>
<ul>
<li>nginx -m  â€“&gt;  ngx_http_echo_module (shared, 3.1)</li>
<li>è®¿é—®çš„  <a href="http://www.qiuyue.com/echo" target="_blank" rel="noopener">http://www.qiuyue.com/echo</a></li>
</ul>
</li>
</ol>
<h3 id="Curl-ä½¿ç”¨"><a href="#Curl-ä½¿ç”¨" class="headerlink" title="Curl ä½¿ç”¨"></a>Curl ä½¿ç”¨</h3><p>æŸ¥çœ‹ä¸€ä¸ªå®Œæ•´çš„httpè¯·æ±‚</p>
<pre class="line-numbers language-shell"><code class="language-shell">curl -v https://coding.imooc.com > /dev/null<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="æµ‹è¯•æ­£åˆ™è¡¨è¾¾å¼"><a href="#æµ‹è¯•æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æµ‹è¯•æ­£åˆ™è¡¨è¾¾å¼"></a>æµ‹è¯•æ­£åˆ™è¡¨è¾¾å¼</h3><p>å®˜ç½‘ï¼š <a href="https://www.pcre.org/" target="_blank" rel="noopener">https://www.pcre.org/</a></p>
<p>å®‰è£…</p>
<pre class="line-numbers language-shell"><code class="language-shell">wget https://ftp.pcre.org/pub/pcre/pcre-8.13.tar.gz
tar -xzvf  pcre-8.13.tar.gz
cd pcre-8.13
./configure --enable-utf8  
make && make intall<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä½¿ç”¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">pcre
pcretest # æ­£åˆ™æµ‹è¯•<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Expresso å·¨å¥½ç”¨çš„æ­£åˆ™å·¥å…·</p>
<p>ä¸‹è½½åœ°å€ï¼š <a href="http://www.ultrapico.com/ExpressoDownload.htm" target="_blank" rel="noopener">http://www.ultrapico.com/ExpressoDownload.htm</a></p>
<h3 id="ä½¿ç”¨è¿”å›å€¼è°ƒè¯•"><a href="#ä½¿ç”¨è¿”å›å€¼è°ƒè¯•" class="headerlink" title="ä½¿ç”¨è¿”å›å€¼è°ƒè¯•"></a>ä½¿ç”¨è¿”å›å€¼è°ƒè¯•</h3><pre class="line-numbers language-shell"><code class="language-shell">location /test/ {
    default_type application/json;
    return 200 '{"status":"success"}';
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æŸ¥çœ‹æ—¥å¿—"><a href="#æŸ¥çœ‹æ—¥å¿—" class="headerlink" title="æŸ¥çœ‹æ—¥å¿—"></a>æŸ¥çœ‹æ—¥å¿—</h3><pre class="line-numbers language-shell"><code class="language-shell">tail -f /usr/local/tengine/logs/access.log <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="ç¬¬å…­ç« -æ–°ç‰¹æ€§"><a href="#ç¬¬å…­ç« -æ–°ç‰¹æ€§" class="headerlink" title="ç¬¬å…­ç«  æ–°ç‰¹æ€§"></a>ç¬¬å…­ç«  æ–°ç‰¹æ€§</h1><h2 id="Nginx-å¹³æ»‘å‡çº§å®ç°å’ŒåŸç†"><a href="#Nginx-å¹³æ»‘å‡çº§å®ç°å’ŒåŸç†" class="headerlink" title="Nginx å¹³æ»‘å‡çº§å®ç°å’ŒåŸç†"></a>Nginx å¹³æ»‘å‡çº§å®ç°å’ŒåŸç†</h2><h2 id="HTTP2-0åè®®ç‰¹æ€§gRPC"><a href="#HTTP2-0åè®®ç‰¹æ€§gRPC" class="headerlink" title="HTTP2.0åè®®ç‰¹æ€§gRPC"></a>HTTP2.0åè®®ç‰¹æ€§gRPC</h2><h1 id="é™„å½•ä¸€"><a href="#é™„å½•ä¸€" class="headerlink" title="é™„å½•ä¸€"></a>é™„å½•ä¸€</h1><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol>
<li><a href="https://blog.51cto.com/qiuyue/2114716" target="_blank" rel="noopener">CentOS 7.4 Tengineå®‰è£…é…ç½®è¯¦è§£ï¼ˆä¸€ï¼‰</a></li>
<li><a href="https://www.jianshu.com/p/00cd4dfe5829" target="_blank" rel="noopener">nginxæ­£åˆ™ç›¸å…³å˜é‡$1,$2,$3ä½¿ç”¨æ³¨æ„</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm" target="_blank" rel="noopener">æ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹</a></li>
<li><a href="http://blog.sina.com.cn/s/blog_6d579ff40100wi7p.html" target="_blank" rel="noopener">Nginx å˜é‡æ¼«è°ˆï¼ˆä¸€ï¼‰</a></li>
<li><a href="https://coding.imooc.com/class/chapter/121.html#Anchor" target="_blank" rel="noopener">Nginxå…¥é—¨åˆ°å®è·µï¼Nginxä¸­é—´ä»¶</a></li>
</ol>
<h3 id="ç¥çº§è¿›é˜¶åšæ–‡"><a href="#ç¥çº§è¿›é˜¶åšæ–‡" class="headerlink" title="ç¥çº§è¿›é˜¶åšæ–‡"></a>ç¥çº§è¿›é˜¶åšæ–‡</h3><p><a href="http://blog.sina.com.cn/s/articlelist_1834459124_1_1.html" target="_blank" rel="noopener">Nginx å˜é‡æ¼«è°ˆ</a></p>
<p><a href="http://blog.sina.com.cn/s/articlelist_1834459124_2_1.html" target="_blank" rel="noopener">Nginx é…ç½®æŒ‡ä»¤çš„æ‰§è¡Œé¡ºåº</a></p>
<h2 id="å®˜æ–¹æ–‡æ¡£"><a href="#å®˜æ–¹æ–‡æ¡£" class="headerlink" title="å®˜æ–¹æ–‡æ¡£"></a>å®˜æ–¹æ–‡æ¡£</h2><p><a href="https://nginx.org/en/docs/" target="_blank" rel="noopener">https://nginx.org/en/docs/</a></p>
<h3 id="ngx-http-core-module-å‚æ•°å®˜ç½‘æ–‡æ¡£"><a href="#ngx-http-core-module-å‚æ•°å®˜ç½‘æ–‡æ¡£" class="headerlink" title="ngx_http_core_module å‚æ•°å®˜ç½‘æ–‡æ¡£"></a>ngx_http_core_module å‚æ•°å®˜ç½‘æ–‡æ¡£</h3><blockquote>
<p> åŒ…å«åœ¨httpä¸Šä¸‹æ–‡å†…çš„æ‰€æœ‰å‚æ•°è§£æ</p>
</blockquote>
<ul>
<li><a href="https://nginx.org/en/docs/http/ngx_http_core_module.html#var_status" target="_blank" rel="noopener">ngx_http_core_module</a></li>
</ul>
<h3 id="ngx-http-log-moduleï¼ˆæ—¥å¿—æ¨¡å—ï¼‰"><a href="#ngx-http-log-moduleï¼ˆæ—¥å¿—æ¨¡å—ï¼‰" class="headerlink" title="ngx_http_log_moduleï¼ˆæ—¥å¿—æ¨¡å—ï¼‰"></a>ngx_http_log_moduleï¼ˆæ—¥å¿—æ¨¡å—ï¼‰</h3><p><a href="http://nginx.org/en/docs/http/ngx_http_log_module.html" target="_blank" rel="noopener">http://nginx.org/en/docs/http/ngx_http_log_module.html</a> </p>
<h3 id="Embedded-Variables-ï¼ˆnginx-å†…ç½®å˜é‡ï¼‰"><a href="#Embedded-Variables-ï¼ˆnginx-å†…ç½®å˜é‡ï¼‰" class="headerlink" title="Embedded Variables ï¼ˆnginx å†…ç½®å˜é‡ï¼‰"></a>Embedded Variables ï¼ˆnginx å†…ç½®å˜é‡ï¼‰</h3><p><a href="http://nginx.org/en/docs/http/ngx_http_core_module.html#Embedded%20Variables" target="_blank" rel="noopener">Embedded Variables</a></p>
<h1 id="é™„å½•äºŒ"><a href="#é™„å½•äºŒ" class="headerlink" title="é™„å½•äºŒ"></a>é™„å½•äºŒ</h1><h2 id="Tengine"><a href="#Tengine" class="headerlink" title="Tengine"></a><strong>Tengine</strong></h2><p><a href="https://github.com/alibaba/tengine" target="_blank" rel="noopener">Tengine github</a></p>
<p><a href="http://tengine.taobao.org/documentation.html" target="_blank" rel="noopener">documentation</a></p>
<h2 id="Nginx-conf-æ ‡å‡†æ¨¡æ¿-Tengine"><a href="#Nginx-conf-æ ‡å‡†æ¨¡æ¿-Tengine" class="headerlink" title="Nginx.conf æ ‡å‡†æ¨¡æ¿(Tengine)"></a>Nginx.conf æ ‡å‡†æ¨¡æ¿(Tengine)</h2><pre class="line-numbers language-shell"><code class="language-shell">
user tengine;                    # è¿è¡Œworkerè¿›ç¨‹çš„ç”¨æˆ·

worker_processes auto;           # workerè¿›ç¨‹çš„ä¸ªæ•°ï¼Œå‘½ä»¤ps aux | grep nginxå¯æŸ¥çœ‹å¯åŠ¨çš„workerè¿›ç¨‹æ•°é‡

worker_cpu_affinity auto;         # å°†workerè¿›ç¨‹ç»‘å®šåœ¨å“ªäº›CPUä¸Šï¼Œå‡å°‘ç”±äºä¸Šä¸‹æ–‡åˆ‡æ¢å¯¼è‡´çš„CPUæ¶ˆè€—

worker_rlimit_nofile 65535;       # workerè¿›ç¨‹èƒ½å¤Ÿæ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•°é™åˆ¶

error_log logs/error.log error;     # æŒ‡å®šTengineé”™è¯¯æ—¥å¿—çš„å­˜æ”¾è·¯å¾„å’Œçº§åˆ«

pid logs/nginx.pid;              # æŒ‡å®šTengineè¿›ç¨‹çš„pidæ–‡ä»¶è·¯å¾„

google_perftools_profiles /tmp/tcmalloc;   # tcmallocä¿å­˜è·¯å¾„ï¼Œå‘½ä»¤lsof -n | grep tcmallocéªŒè¯è¿è¡ŒçŠ¶æ€



events {

accept_mutex on;           # è®©å¤šä¸ªworkerè¿›ç¨‹è½®æµåœ°ã€åºåˆ—åŒ–åœ°å“åº”æ–°è¯·æ±‚

multi_accept on;            # åœ¨Tengineæ¥æ”¶åˆ°ä¸€ä¸ªæ–°è¿æ¥é€šçŸ¥åï¼Œè°ƒç”¨accept()æ¥æ¥æ”¶å°½å¯èƒ½å¤šçš„è¿æ¥

worker_connections 65535;   # å•ä¸ªworkerè¿›ç¨‹æ‰€èƒ½å“åº”çš„æœ€å¤§å¹¶å‘è¿æ¥æ•°

# æ­¤å¤„æ²¡æœ‰æŒ‡å®šuse epoll;æŒ‡ä»¤ï¼Œè®©Tengineè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„äº‹ä»¶å¤„ç†æ¨¡å‹

}



http {

server_tokens off;           # éšè—Tengineç‰ˆæœ¬å·

include mime.types;         # MIMEæ˜¯ç½‘ç»œèµ„æºçš„åª’ä½“ç±»å‹ï¼Œä½¿ç”¨includeæŒ‡ä»¤å¯¼å…¥mime.typesæ–‡ä»¶

default_type application/octet-stream;   # æŒ‡å®šé»˜è®¤ç±»å‹



# è‡ªå®šä¹‰è®¿é—®æ—¥å¿—æ ¼å¼ï¼Œåç§°ä¸ºmainï¼ŒæŒ‡å®šè¦ä¿å­˜çš„æ—¥å¿—å†…å®¹

# ====================================================

# $remote_addrä¸$http_x_forwarded_forå«ä¹‰ç›¸åŒï¼šå®¢æˆ·ç«¯çš„IPåœ°å€

# $remote_userï¼šè®°å½•å®¢æˆ·ç«¯ç”¨æˆ·åç§°

# $time_localï¼šé€šç”¨æ—¥å¿—æ ¼å¼ä¸‹çš„æœ¬åœ°æœåŠ¡å™¨æ—¶é—´

# $requestï¼šè®°å½•è¯·æ±‚çš„URLä¸HTTPåè®®

# $statusï¼šå“åº”çŠ¶æ€ç ï¼ŒæˆåŠŸæ˜¯200

# $body_bytes_sentï¼šå‘é€ç»™å®¢æˆ·ç«¯HTTPå“åº”çš„ä¸»ä½“å†…å®¹çš„å­—èŠ‚æ•°å¤§å°ï¼Œä¸åŒ…æ‹¬å“åº”é¦–éƒ¨çš„å¤§å°

# $http_refererï¼šè®°å½•ä»å“ªä¸ªé¡µé¢é“¾æ¥è®¿é—®è¿‡æ¥çš„

# $http_user_agentï¼šè®°å½•å®¢æˆ·ç«¯æµè§ˆå™¨ç›¸å…³ä¿¡æ¯

# ====================================================

log_format main '$remote_addr - $remote_user [$time_local] "$request" '

                  '$status $body_bytes_sent "$http_referer" '

                 '"$http_user_agent" "$http_x_forwarded_for"';



access_log off;       # å…³é—­è®¿é—®æ—¥å¿—ï¼Œæé«˜ç£ç›˜çš„I/Oæ€§èƒ½

sendfile on;          # å¼€å¯é«˜æ•ˆæ–‡ä»¶ä¼ è¾“æ¨¡å¼ï¼Œè°ƒç”¨sendfile()è¿›è¡Œæ•°æ®å¤åˆ¶ï¼Œsendfile()å¤åˆ¶æ•°æ®æ˜¯åœ¨å†…æ ¸çº§åˆ«å®Œæˆçš„ï¼Œæ‰€ä»¥ä¼šæ¯”ä¸€èˆ¬çš„read()ã€write()æ›´é«˜æ•ˆï¼Œsendfile()å¯ä»¥åœ¨ç£ç›˜å’ŒTCP socketä¹‹é—´äº’ç›¸æ‹·è´æ•°æ®

tcp_nopush on;      # å¼€å¯åæœåŠ¡å™¨çš„å“åº”å¤´éƒ¨ä¿¡æ¯äº§ç”Ÿç‹¬ç«‹çš„æ•°æ®åŒ…å‘é€ï¼Œå³ä¸€ä¸ªå“åº”å¤´ä¿¡æ¯ä¸€ä¸ªåŒ…ã€‚åœ¨ä¸€ä¸ªæ•°æ®åŒ…é‡Œå‘é€æ‰€æœ‰å¤´æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ¥ä¸€ä¸ªçš„å‘é€ï¼Œç”¨äºé˜²æ­¢ç½‘ç»œé˜»å¡ï¼Œå¿…é¡»å…ˆå¼€å¯sendfileæ¨¡å¼

keepalive_timeout 65; # å®¢æˆ·ç«¯keep-aliveè¿æ¥è¶…æ—¶æ—¶é•¿ï¼ŒæœåŠ¡å™¨å°†åœ¨è¿™ä¸ªè¶…æ—¶æ—¶é•¿è¿‡åå…³é—­è¿æ¥ï¼Œå•ä½ç§’

charset UTF-8;      # å®šä¹‰å¤´æ–‡ä»¶é»˜è®¤å­—ç¬¦é›†



gzip on;                      # é‡‡ç”¨gzipå‹ç¼©å½¢å¼å‘é€æ•°æ®ï¼Œå°†é¡µé¢å‹ç¼©åä¼ è¾“æ›´èŠ‚çœå¸¦å®½

gzip_disable "msie6";           # IE6çš„æµè§ˆå™¨ç¦ç”¨gzipåŠŸèƒ½

gzip_proxied any;              # æŒ‡å®šå¯¹å®¢æˆ·ç«¯è¯·æ±‚çš„æ‰€æœ‰èµ„æºå¯ç”¨å‹ç¼©åŠŸèƒ½

gzip_min_length 1k;            # æŒ‡å®šå¯¹æ•°æ®å¯ç”¨å‹ç¼©çš„æœ€å°‘å­—èŠ‚æ•°ï¼Œå¦‚æœè¯·æ±‚å°äº1Kçš„æ–‡ä»¶ï¼Œä¸è¦å‹ç¼©ï¼Œå‹ç¼©å°æ•°æ®ä¼šé™ä½å¤„ç†æ­¤è¯·æ±‚çš„æ‰€æœ‰è¿›ç¨‹é€Ÿåº¦

gzip_comp_level 6;             # æŒ‡å®šæ•°æ®çš„å‹ç¼©ç­‰çº§ï¼Œè¿™ä¸ªç­‰çº§å¯ä»¥æ˜¯1~9ä¹‹é—´çš„ä»»æ„æ•°å€¼ï¼Œ1å‹ç¼©æ¯”æœ€å°ä½†å¤„ç†é€Ÿåº¦æœ€å¿«ï¼Œ9å¤„ç†æœ€æ…¢ä½†å‹ç¼©æ¯”æœ€å¤§ï¼ŒCPUæ¶ˆè€—ä¹Ÿè¶Šå¤§

gzip_buffers 16 8k;             # æŒ‡å®šå‹ç¼©å“åº”çš„ç¼“å†²åŒºçš„æ•°é‡å’Œå¤§å°

gzip_vary on;                 # å…è®¸æŠŠ"Vary: Accept-Encoding"æ’å…¥å“åº”é¦–éƒ¨

gzip_http_version 1.1;          # æŒ‡å®šè¯†åˆ«HTTPåè®®ç‰ˆæœ¬ï¼Œé»˜è®¤æ˜¯1.1

gzip_types text/plain text/css text/xml text/javascript application/json application/x-javascript application/xml application/xml+rss;               # æŒ‡å®šéœ€è¦å‹ç¼©çš„èµ„æºç±»å‹



reset_timedout_connection on;       # å…³é—­ä¸å“åº”çš„å®¢æˆ·ç«¯è¿æ¥ï¼Œé‡Šæ”¾å®¢æˆ·ç«¯æ‰€å çš„å†…å­˜ç©ºé—´

client_body_buffer_size 8k;         # æŒ‡å®šç”¨äºè¯»å–å®¢æˆ·ç«¯è¯·æ±‚ä¸»ä½“çš„ç¼“å†²åŒºå¤§å°

client_header_buffer_size 1k;       # æŒ‡å®šç”¨äºè¯»å–å®¢æˆ·ç«¯è¯·æ±‚é¦–éƒ¨çš„ç¼“å†²åŒºå¤§å°

large_client_header_buffers 4 8k;    # æŒ‡å®šç”¨äºè¯»å–å®¢æˆ·ç«¯è¯·æ±‚ä¸­è¾ƒå¤§é¦–éƒ¨çš„ç¼“å†²åŒºçš„æœ€å¤§æ•°é‡å’Œå¤§å°

client_max_body_size 1m;          # æŒ‡å®šç”¨äºå®¢æˆ·ç«¯è¯·æ±‚ä¸»ä½“çš„æœ€å¤§å¤§å°

client_header_timeout 30s;         # æŒ‡å®šç”¨äºè¯»å–å®¢æˆ·ç«¯è¯·æ±‚æŠ¥æ–‡é¦–éƒ¨çš„è¶…æ—¶æ—¶é•¿ï¼Œå•ä½ç§’

client_body_timeout 30s;           # æŒ‡å®šç”¨äºè¯»å–å®¢æˆ·ç«¯è¯·æ±‚æŠ¥æ–‡ä¸»ä½“çš„è¶…æ—¶æ—¶é•¿ï¼Œå•ä½ç§’

send_timeout 30s;                 # æŒ‡å®šç”¨äºå‘å®¢æˆ·ç«¯å‘é€å“åº”æŠ¥æ–‡çš„è¶…æ—¶æ—¶é•¿ï¼Œå•ä½ç§’

}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Nginx-Lua-ç¯å¢ƒå®¹å™¨åŒ–è„šæœ¬"><a href="#Nginx-Lua-ç¯å¢ƒå®¹å™¨åŒ–è„šæœ¬" class="headerlink" title="Nginx + Lua ç¯å¢ƒå®¹å™¨åŒ–è„šæœ¬"></a>Nginx + Lua ç¯å¢ƒå®¹å™¨åŒ–è„šæœ¬</h2><p>Dockerfile</p>
<pre class="line-numbers language-shell"><code class="language-shell">FROM centos:latest
MAINTAINER  becivells <becivells@gmail.com> 
RUN yum -y update &&  yum  -y upgrade
RUN yum -y install gcc gcc-c+ openssl openssl-devel pcre-devel zlib-devel  make wget 

ENV TENGINE_VERSION tengine-2.2.3
RUN cd /tmp/ && wget  http://tengine.taobao.org/download/${TENGINE_VERSION}.tar.gz &&\
    tar -zxvf ${TENGINE_VERSION}.tar.gz -C /tmp/ && chmod -R 777 /tmp/${TENGINE_VERSION}
#mkdir
RUN mkdir -p /var/tmp/nginx/client/ &&\
    mkdir -p /var/tmp/nginx/proxy/ &&\
    mkdir -p /var/tmp/nginx/fcgi/ &&\
    mkdir -p /var/tmp/nginx/uwsgi/ &&\
    mkdir -p /var/tmp/nginx/scgi/ 
#./configure

#LuaJIT
RUN cd /tmp/ && wget http://luajit.org/download/LuaJIT-2.0.4.tar.gz && \
    tar xzvf LuaJIT-2.0.4.tar.gz && \
    cd LuaJIT-2.0.4 && \
    make install PREFIX=/usr/local/LuaJIT 

ENV LUAJIT_LIB=/usr/local/LuaJIT/lib 
ENV LUAJIT_INC=/usr/local/LuaJIT/include/luajit-2.0

RUN cd /tmp/ && wget https://github.com/simpl/ngx_devel_kit/archive/v0.3.0.tar.gz && \
    tar -xzvf v0.3.0.tar.gz && \
    wget https://github.com/openresty/lua-nginx-module/archive/v0.10.8.tar.gz && \
    tar -xzvf v0.10.8.tar.gz


RUN cd /tmp/${TENGINE_VERSION} && ./configure \
    --prefix=/opt/${TENGINE_VERSION}/ \
    #--sbin-path=/usr/sbin/nginx \
    #--modules-path=/usr/lib64/nginx/modules \
    #--conf-path=/etc/nginx/nginx.conf \
    --error-log-path=/var/log/nginx/error.log \
    --http-log-path=/var/log/nginx/access.log \
    --pid-path=/var/run/nginx/nginx.pid  \
    --lock-path=/var/lock/nginx.lock \
    --http-client-body-temp-path=/var/tmp/nginx/client/ \
    --http-proxy-temp-path=/var/tmp/nginx/proxy/ \
    --http-fastcgi-temp-path=/var/tmp/nginx/fcgi/ \
    --http-uwsgi-temp-path=/var/tmp/nginx/uwsgi \
    --with-file-aio \
    --with-http_addition_module \
    --with-http_auth_request_module \
    --with-http_dav_module \
    --with-http_flv_module \
    --with-http_gunzip_module \
    --with-http_gzip_static_module \
    --with-http_mp4_module \
    --with-http_random_index_module \
    --with-http_realip_module \
    --with-http_secure_link_module \
    --with-http_slice_module \
    --with-http_ssl_module \
    --with-http_stub_status_module \
    --with-http_sub_module \
    --with-mail \
    --with-mail_ssl_module \
    --with-cc-opt='-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions  -fstack-protector-strong \
    --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -fPIC' \
    --with-ld-opt='-Wl,-z,relro -Wl,-z,now -pie' \
    --add-module=/tmp/lua-nginx-module-0.10.8 \
    --add-module=/tmp/ngx_devel_kit-0.3.0 \
    --with-pcre  &&\
    cd /tmp/${TENGINE_VERSION} && make -j 4 && make install && \
    rm -rf /tmp/* && yum clean all && \
    ln -s /opt/${TENGINE_VERSION}/ /opt/tengine && \
    echo "/usr/local/LuaJIT/lib" >> /etc/ld.so.conf && \
    ldconfig
EXPOSE 80
CMD ["/opt/tengine/sbin/nginx", "-g", "daemon off;"] 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä½¿ç”¨æ–¹å¼</p>
<pre class="line-numbers language-shell"><code class="language-shell">#æ„å»ºå®¹å™¨
docker build -t centos:tengine .
#æŒ‡å®š81ç«¯å£è¿è¡Œ
docker run --rm -p 81:80 centos:tengine
#è¿›å…¥centos:tengine terminal ç»ˆç«¯
docker exec -it <container_id> /bin/bash <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æµ‹è¯•</p>
<pre class="line-numbers language-shell"><code class="language-shell">location /hello {
      default_type 'text/plain';
      content_by_lua 'ngx.say("hello, lua")';
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Nginxå…¨å±€å˜é‡è§£æ"><a href="#Nginxå…¨å±€å˜é‡è§£æ" class="headerlink" title="Nginxå…¨å±€å˜é‡è§£æ"></a>Nginxå…¨å±€å˜é‡è§£æ</h2><pre class="line-numbers language-shelll"><code class="language-shelll">$content_lengthï¼šhttpè¯·æ±‚å¤´ä¸­çš„Content-lengthå­—æ®µ

$content_typeï¼šhttpè¯·æ±‚å¤´ä¸­çš„Content-Typeå­—æ®µ

$document_rootï¼šå½“å‰è¯·æ±‚åœ¨rootæŒ‡ä»¤ä¸­æŒ‡å®šçš„å€¼

$hostï¼šè¯·æ±‚ä¸»æœºå¤´å­—æ®µï¼Œå¦‚æœè¯·æ±‚ä¸­æ²¡æœ‰Hostè¡Œï¼Œåˆ™ä¸ºæœåŠ¡å™¨åç§°

$http_user_agentï¼šå®¢æˆ·ç«¯agentä¿¡æ¯

$http_cookieï¼šå®¢æˆ·ç«¯cookieä¿¡æ¯

$limit_rateï¼šé™åˆ¶è¿æ¥é€Ÿç‡

$request_methodï¼šå®¢æˆ·ç«¯è¯·æ±‚æ–¹æ³•ï¼Œé€šå¸¸ä¸ºGETæˆ–POST

$remote_addrï¼šå®¢æˆ·ç«¯IPåœ°å€

$remote_portï¼šå®¢æˆ·ç«¯ç«¯å£

$remote_userï¼šå·²ç»ç»è¿‡Auth Basic ModuleéªŒè¯çš„ç”¨æˆ·å

$request_filenameï¼šå½“å‰è¯·æ±‚çš„æ–‡ä»¶è·¯å¾„ï¼Œç”±rootæˆ–aliasæŒ‡ä»¤ä¸URLè¯·æ±‚ç”Ÿæˆ

$schemeï¼šè¯·æ±‚ä½¿ç”¨çš„åè®®ï¼Œæ¯”å¦‚httpæˆ–è€…æ˜¯https

$server_protocolï¼šè¯·æ±‚ä½¿ç”¨çš„åè®®ç‰ˆæœ¬ï¼Œé€šå¸¸æ˜¯HTTP/1.0æˆ–HTTP/1.1

$server_addrï¼šæœåŠ¡å™¨åœ°å€ï¼Œåœ¨å®Œæˆä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨åå¯ä»¥ç¡®å®šè¿™ä¸ªå€¼

$server_nameï¼šæœåŠ¡å™¨åç§°

$server_portï¼šè¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨çš„ç«¯å£å·

$request_uriï¼šåŒ…å«è¯·æ±‚å‚æ•°çš„åŸå§‹URLï¼Œä¸åŒ…å«ä¸»æœºåï¼Œå¦‚ï¼š/foo/bar.php?arg=baz

$uriï¼šä¸å¸¦è¯·æ±‚å‚æ•°çš„å½“å‰URLï¼Œ$uriä¸åŒ…å«ä¸»æœºåï¼Œå¦‚ï¼š/foo/bar.html

$document_uriï¼šä¸$uriç›¸åŒ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ä½¿ç”¨è¿‡ç¨‹ä¸­çš„é—®é¢˜åˆ—è¡¨"><a href="#ä½¿ç”¨è¿‡ç¨‹ä¸­çš„é—®é¢˜åˆ—è¡¨" class="headerlink" title="ä½¿ç”¨è¿‡ç¨‹ä¸­çš„é—®é¢˜åˆ—è¡¨"></a>ä½¿ç”¨è¿‡ç¨‹ä¸­çš„é—®é¢˜åˆ—è¡¨</h2><h3 id="window-conf-æ–‡ä»¶åŠ è½½æ— æ•ˆ"><a href="#window-conf-æ–‡ä»¶åŠ è½½æ— æ•ˆ" class="headerlink" title="window conf æ–‡ä»¶åŠ è½½æ— æ•ˆ"></a>window conf æ–‡ä»¶åŠ è½½æ— æ•ˆ</h3><p>åŸå› æ˜¯ nginx åœ¨åå°å¯åŠ¨å¤šä¸ªå®ä¾‹å¯¼è‡´æ— æ³•æ›´æ–°åˆ°å½“å‰ä½¿ç”¨çš„å®ä¾‹(<code>åœ¨ä»»åŠ¡åˆ—è¡¨ä¸­å¯ä»¥æ‰¾åˆ°å¤šä¸ªnginxå®ä¾‹</code>)</p>
<p>è§£å†³ï¼šå…³é—­æ‰€æœ‰nginx.exe, é‡æ–°å¯åŠ¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">taskkill /IM  nginx.exe  /F <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="å¢åŠ åˆ«åç¼“å­˜"><a href="#å¢åŠ åˆ«åç¼“å­˜" class="headerlink" title="å¢åŠ åˆ«åç¼“å­˜"></a>å¢åŠ åˆ«åç¼“å­˜</h3><p>é”™è¯¯æç¤ºï¼š</p>
<pre><code>could not build the server_names_hash, you should increase server_names_hash_bucket_size: 32</code></pre><p>è§£å†³æ–¹æ¡ˆï¼š</p>
<pre><code>http{
    server_names_hash_bucket_size 64; #å¿…é¡»æ˜¯32çš„å€æ•°
}</code></pre><h3 id="413-request-entity-too-large"><a href="#413-request-entity-too-large" class="headerlink" title="413 request entity too large"></a>413 request entity too large</h3><p>Nginxè®¾ç½®ä¸Šä¼ æ–‡ä»¶å¤§å°é™åˆ¶</p>
<pre><code>location ^~ /api/media/ {
          proxy_pass http://media_server_pool/media/;
          client_max_body_size 2000m;
}</code></pre>]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>çŸ¥è¯†æ¶æ„</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaå¤šçº¿ç¨‹å¹¶å‘å­¦ä¹ ç¬”è®°</title>
    <url>/2019/09/11/2019-4-13-Java-concurrent/</url>
    <content><![CDATA[<h1 id="é˜¶æ®µä¸€ï¼šå¤šçº¿åŸºç¡€çŸ¥è¯†"><a href="#é˜¶æ®µä¸€ï¼šå¤šçº¿åŸºç¡€çŸ¥è¯†" class="headerlink" title="é˜¶æ®µä¸€ï¼šå¤šçº¿åŸºç¡€çŸ¥è¯†"></a>é˜¶æ®µä¸€ï¼šå¤šçº¿åŸºç¡€çŸ¥è¯†</h1><h2 id="å…¥é—¨æ€è€ƒ"><a href="#å…¥é—¨æ€è€ƒ" class="headerlink" title="å…¥é—¨æ€è€ƒ"></a>å…¥é—¨æ€è€ƒ</h2><h3 id="ä¸ºä»€ä¹ˆè¦å­¦ä¹ å¹¶å‘"><a href="#ä¸ºä»€ä¹ˆè¦å­¦ä¹ å¹¶å‘" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å­¦ä¹ å¹¶å‘"></a>ä¸ºä»€ä¹ˆè¦å­¦ä¹ å¹¶å‘</h3><ol>
<li>å‘æŒ¥CPUå¤šå¤„ç†å™¨çš„å¼ºå¤§èƒ½åŠ› </li>
<li>æ›´ç¬¦åˆç°å®ç”Ÿæ´»ä¸­çš„å¤šäº‹ä»¶åŒæ—¶å¤„ç†</li>
<li>ç®€åŒ–å¼‚æ­¥äº‹ä»¶çš„å¤„ç†</li>
<li>æ›´åŠ çµæ•çš„å“åº”ç”¨æˆ·ç•Œé¢</li>
</ol>
<h3 id="å¹¶å‘çš„ç¼ºç‚¹"><a href="#å¹¶å‘çš„ç¼ºç‚¹" class="headerlink" title="å¹¶å‘çš„ç¼ºç‚¹"></a>å¹¶å‘çš„ç¼ºç‚¹</h3><ol>
<li>å®‰å…¨æ€§</li>
<li>æ´»è·ƒæ€§ï¼ˆé¥¥é¥¿ï¼‰é—®é¢˜</li>
<li>æ€§èƒ½é—®é¢˜ï¼ˆå¹¶å‘ä¸ä¸€å®šå¿«ï¼‰<ol>
<li>çº¿ç¨‹åˆ‡æ¢æœ‰æ¶ˆè€—ccc</li>
</ol>
</li>
</ol>
<h3 id="å­¦ä¹ å¹¶å‘çš„å››ä¸ªé˜¶æ®µ"><a href="#å­¦ä¹ å¹¶å‘çš„å››ä¸ªé˜¶æ®µ" class="headerlink" title="å­¦ä¹ å¹¶å‘çš„å››ä¸ªé˜¶æ®µ"></a>å­¦ä¹ å¹¶å‘çš„å››ä¸ªé˜¶æ®µ</h3><ol>
<li>ç†Ÿç»ƒæŒæ¡APIï¼Œèƒ½å¤Ÿå®Œæˆå¹¶å‘ç¼–ç¨‹</li>
<li>ç†Ÿè¯»APIæºç ï¼ŒæŒæ¡å…¶åŸç†</li>
<li>ç†è§£Javaè™šæ‹Ÿæœºçš„å†…å­˜æ¨¡å‹ ã€å¾…çœ‹ã€‘</li>
<li>æ“ä½œç³»ç»Ÿå¯¹å¹¶å‘çš„æ”¯æŒ ã€å¾…çœ‹ã€‘</li>
</ol>
<h2 id="è¿›ç¨‹ä¸çº¿ç¨‹åŸºç¡€çŸ¥è¯†"><a href="#è¿›ç¨‹ä¸çº¿ç¨‹åŸºç¡€çŸ¥è¯†" class="headerlink" title="è¿›ç¨‹ä¸çº¿ç¨‹åŸºç¡€çŸ¥è¯†"></a>è¿›ç¨‹ä¸çº¿ç¨‹åŸºç¡€çŸ¥è¯†</h2><ul>
<li>è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„åŸºæœ¬å•ä½</li>
<li>è¿›ç¨‹åŒ…å«å¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹å…±äº«è¿›ç¨‹</li>
<li>çº¿ç¨‹æ˜¯CPUè°ƒåº¦çš„åŸºæœ¬å•ä½</li>
</ul>
<h3 id="çº¿ç¨‹çŠ¶æ€"><a href="#çº¿ç¨‹çŠ¶æ€" class="headerlink" title="çº¿ç¨‹çŠ¶æ€"></a>çº¿ç¨‹çŠ¶æ€</h3><p><img src="http://ifeve.com/wp-content/uploads/2014/08/threads2.gif" alt=""></p>
<h3 id="çº¿ç¨‹ä¸­æ–­åŠä¸­æ–­å¤„ç†"><a href="#çº¿ç¨‹ä¸­æ–­åŠä¸­æ–­å¤„ç†" class="headerlink" title="çº¿ç¨‹ä¸­æ–­åŠä¸­æ–­å¤„ç†"></a>çº¿ç¨‹ä¸­æ–­åŠä¸­æ–­å¤„ç†</h3><p><a href="https://www.cnblogs.com/lujiango/p/7641983.html" target="_blank" rel="noopener">å¤šçº¿ç¨‹-interrupt()ï¼ŒisInterrupted()ï¼Œinterrupted()</a></p>
<pre class="line-numbers language-java"><code class="language-java">  <span class="token function">setDaemon</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//ä¸»è¿›ç¨‹ç»“æŸï¼Œå­çº¿ç¨‹whileï¼ˆtrueï¼‰ä¹Ÿç»“æŸ</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="ä¼˜é›…çš„ä¸­æ–­çº¿ç¨‹"><a href="#ä¼˜é›…çš„ä¸­æ–­çº¿ç¨‹" class="headerlink" title="ä¼˜é›…çš„ä¸­æ–­çº¿ç¨‹"></a>ä¼˜é›…çš„ä¸­æ–­çº¿ç¨‹</h4><ol>
<li>å¤„ç†ä¸ä¸­æ–­çº¿ç¨‹ï¼Œåœ¨ä¸­æ–­ä¸­è§¦å‘å…¶å¼‚å¸¸</li>
</ol>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li>ç”¨å®ˆæŠ¤è¿›ç¨‹,</li>
</ol>
<blockquote>
<p>Daemon Threadï¼š å…¶ä¼˜å…ˆçº§ç‰¹åˆ«ä½(ä½åˆ°ç”šè‡³å¯ä»¥è¢«JVMè‡ªåŠ¨ç»ˆæ­¢)ï¼Œé€šå¸¸è¿™ç±»çº¿ç¨‹ç”¨äºåœ¨ç©ºé—²æ—¶åšä¸€äº›èµ„æºæ¸…ç†ç±»çš„å·¥ä½œï¼Œæ¯”å¦‚GCçº¿ç¨‹</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java">   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span>Runnable task<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       executeThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token string">"ThreadService"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token annotation punctuation">@Override</span>
         <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           Thread runner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">"Daemon-thread"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           runner<span class="token punctuation">.</span><span class="token function">setDaemon</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           runner<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">try</span> <span class="token punctuation">{</span>
             runner<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             finished <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
             <span class="token comment" spellcheck="true">//e.printStackTrace();</span>
           <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
       <span class="token punctuation">}</span><span class="token punctuation">;</span>
       executeThread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>   çº¿ç¨‹æ± ä¸­çš„åº”ç”¨</p>
<pre class="line-numbers language-java"><code class="language-java">     <span class="token keyword">public</span> <span class="token keyword">static</span> ThreadFactory <span class="token function">threadFactory</span><span class="token punctuation">(</span><span class="token keyword">final</span> String name<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token keyword">boolean</span> daemon<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ThreadFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> Thread <span class="token function">newThread</span><span class="token punctuation">(</span>Runnable runnable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           Thread result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>runnable<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
           result<span class="token punctuation">.</span><span class="token function">setDaemon</span><span class="token punctuation">(</span>daemon<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">return</span> result<span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
       <span class="token punctuation">}</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å †å’Œæ ˆ"><a href="#å †å’Œæ ˆ" class="headerlink" title="å †å’Œæ ˆ"></a>å †å’Œæ ˆ</h3><blockquote>
<ol>
<li>æ ˆjava.util.Stakæ˜¯çº¿ç¨‹çš„ç§æœ‰Last In First Outé¡ºåºçš„æ•°æ®ç»“æ„ï¼Œå †æ‰€æœ‰çº¿ç¨‹éƒ½èƒ½è®¿é—®åˆ°</li>
<li>æ ˆå†…å­˜ç”¨æ¥å­˜å‚¨<code>å±€éƒ¨å˜é‡å’Œæ–¹æ³•è°ƒç”¨</code> ,å †å†…å­˜ç”¨æ¥å­˜å‚¨Javaä¸­çš„å¯¹è±¡ã€‚ æ— è®ºæ˜¯æˆå‘˜å˜é‡ï¼Œå±€éƒ¨å˜é‡ï¼Œè¿˜æ˜¯ç±»å˜é‡ï¼Œå®ƒä»¬æŒ‡å‘çš„å¯¹è±¡éƒ½å­˜å‚¨åœ¨å †å†…å­˜ä¸­ã€‚</li>
</ol>
</blockquote>
<ul>
<li><a href="https://droidyue.com/blog/2014/12/07/differences-between-stack-and-heap-in-java/" target="_blank" rel="noopener">Javaä¸­çš„å †å’Œæ ˆçš„åŒºåˆ«</a></li>
</ul>
<p>æŸ¥çœ‹å †å’Œæ ˆçš„é»˜è®¤å€¼</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//å † å…¶ä¸­InitialHeapSizeä¸ºæœ€å¼€å§‹çš„å †çš„å¤§å°ï¼ŒMaxHeapSizeä¸ºå †çš„æœ€å¤§å€¼ã€‚</span>
java <span class="token operator">-</span>XX<span class="token operator">:</span><span class="token operator">+</span>PrintFlagsFinal <span class="token operator">-</span>version <span class="token operator">|</span> grep HeapSize
<span class="token comment" spellcheck="true">//æ ˆ</span>
java <span class="token operator">-</span>XX<span class="token operator">:</span><span class="token operator">+</span>PrintFlagsFinal <span class="token operator">-</span>version <span class="token operator">|</span> grep ThreadStackSize<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡"><a href="#çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡" class="headerlink" title="çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡"></a>çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡</h3><h4 id="1-ç±»synchronized-wait-notify-å®ç°ç›¸äº’é€šçŸ¥"><a href="#1-ç±»synchronized-wait-notify-å®ç°ç›¸äº’é€šçŸ¥" class="headerlink" title="1. ç±»synchronized,wait,notify å®ç°ç›¸äº’é€šçŸ¥"></a>1. ç±»synchronized,wait,notify å®ç°ç›¸äº’é€šçŸ¥</h4><p>å…±äº«å˜é‡</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MySignal</span><span class="token punctuation">{</span>

  <span class="token keyword">protected</span> <span class="token keyword">boolean</span> hasDataToProcess <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">boolean</span> <span class="token function">hasDataToProcess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>hasDataToProcess<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">setHasDataToProcess</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> hasData<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hasDataToProcess <span class="token operator">=</span> hasData<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>Waitè§£é”</li>
</ul>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">int</span> <span class="token function">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// wait() synchronized è§£é”ï¼Œå¤šçº¿ç¨‹èƒ½ç›´æ¥è®¿é—®åˆ°wait</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>notify. , ä¼šåŠ é”æ‹¿åˆ°é”ï¼Œä½†æ˜¯ä¼šç­‰åˆ°synchronizeçš„é”é‡Šæ”¾æˆåŠŸåæ‰èƒ½åŠ é”<ul>
<li>notify: éšæœºå«é†’ä¸€ä¸ªå¤„äºwaitçŠ¶æ€çš„çº¿ç¨‹</li>
<li>notifyAll: å«é†’æ‰€æœ‰çš„å¤„äºwaitçº¿ç¨‹ï¼Œäº‰å¤ºåˆ°æ—¶é—´ç‰‡çš„çº¿ç¨‹åªæœ‰ä¸€ä¸ª</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-java"><code class="language-java">  <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">set</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    signal <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// notifyæ–¹æ³•ä¼šéšæœºå«é†’ä¸€ä¸ªå¤„äºwaitçŠ¶æ€çš„çº¿ç¨‹</span>
    <span class="token comment" spellcheck="true">// notifyAllå«é†’æ‰€æœ‰çš„å¤„äºwaitçº¿ç¨‹ï¼Œäº‰å¤ºåˆ°æ—¶é—´ç‰‡çš„çº¿ç¨‹åªæœ‰ä¸€ä¸ª</span>
  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="3-å¸¸ç”¨çš„Lockæœºåˆ¶"><a href="#3-å¸¸ç”¨çš„Lockæœºåˆ¶" class="headerlink" title="3. å¸¸ç”¨çš„Lockæœºåˆ¶"></a>3. å¸¸ç”¨çš„Lockæœºåˆ¶</h4><p>LockSupport, ReentrantLock</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//åˆå§‹åŒ–    </span>
Lock lock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReentrantLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Condition a <span class="token operator">=</span> lock<span class="token punctuation">.</span><span class="token function">newCondition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Condition b <span class="token operator">=</span> lock<span class="token punctuation">.</span><span class="token function">newCondition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//ä½¿ç”¨</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        lock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>signal <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            a<span class="token punctuation">.</span><span class="token function">await</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        signal <span class="token operator">++</span><span class="token punctuation">;</span>
        b<span class="token punctuation">.</span><span class="token function">signal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        lock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="4-å¹¶å‘å·¥å…·ç±»åŠå¹¶å‘å®¹å™¨"><a href="#4-å¹¶å‘å·¥å…·ç±»åŠå¹¶å‘å®¹å™¨" class="headerlink" title="4. å¹¶å‘å·¥å…·ç±»åŠå¹¶å‘å®¹å™¨"></a>4. å¹¶å‘å·¥å…·ç±»åŠå¹¶å‘å®¹å™¨</h4><p>CountDownLatch </p>
<h4 id="5-ç®¡é“"><a href="#5-ç®¡é“" class="headerlink" title="5. ç®¡é“"></a>5. ç®¡é“</h4><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>PipedInputStream<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>PipedOutputStream<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">testPipeConnection</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">/**
         * åˆ›å»ºç®¡é“è¾“å‡ºæµ
         */</span>
        PipedOutputStream pos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PipedOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">/**
         * åˆ›å»ºç®¡é“è¾“å…¥æµ
         */</span>
        PipedInputStream pis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PipedInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">/**
             * å°†ç®¡é“è¾“å…¥æµä¸è¾“å‡ºæµè¿æ¥ æ­¤è¿‡ç¨‹ä¹Ÿå¯é€šè¿‡é‡è½½çš„æ„é€ å‡½æ•°æ¥å®ç°
             */</span>
            pos<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>pis<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment" spellcheck="true">/**
         * åˆ›å»ºç”Ÿäº§è€…çº¿ç¨‹
         */</span>
        Producer p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Producer</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">/**
         * åˆ›å»ºæ¶ˆè´¹è€…çº¿ç¨‹
         */</span>
        Consumer1 c1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Consumer1</span><span class="token punctuation">(</span>pis<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">/**
         * å¯åŠ¨çº¿ç¨‹
         */</span>
        p<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/**
 * ç”Ÿäº§è€…çº¿ç¨‹(ä¸ä¸€ä¸ªç®¡é“è¾“å…¥æµç›¸å…³è”)
 * 
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Producer</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> PipedOutputStream pos<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Producer</span><span class="token punctuation">(</span>PipedOutputStream pos<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>pos <span class="token operator">=</span> pos<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            pos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            i<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/**
 * æ¶ˆè´¹è€…çº¿ç¨‹(ä¸ä¸€ä¸ªç®¡é“è¾“å…¥æµç›¸å…³è”)
 * 
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Consumer1</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> PipedInputStream pis<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Consumer1</span><span class="token punctuation">(</span>PipedInputStream pis<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>pis <span class="token operator">=</span> pis<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"consumer1:"</span><span class="token operator">+</span>pis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¼ºç‚¹ </p>
<ol>
<li>åªèƒ½ä¸¤ä¸ªçº¿ç¨‹ä¹‹é—´ä¸“é€’.</li>
<li>åªèƒ½å•å‘æµåŠ¨ï¼›</li>
</ol>
<h4 id="4-volatile-å…³é”®å­—"><a href="#4-volatile-å…³é”®å­—" class="headerlink" title="4. volatile å…³é”®å­—"></a>4. volatile å…³é”®å­—</h4><h4 id="ThreadLocalåŸç†å’Œä½¿ç”¨"><a href="#ThreadLocalåŸç†å’Œä½¿ç”¨" class="headerlink" title="ThreadLocalåŸç†å’Œä½¿ç”¨"></a>ThreadLocalåŸç†å’Œä½¿ç”¨</h4><blockquote>
<p>æ¡ˆä¾‹ï¼šjavaBase/ThreadLocalDemo<br>åŸç†ï¼šæŠŠåˆå§‹å€¼æ”¾åˆ°çº¿ç¨‹ä¸­å»ï¼Œå¹¶ä¸”æ¯ä¸ªçº¿ç¨‹å•ç‹¬ä¸€ä»½äº’ä¸å½±å“</p>
</blockquote>
<p><strong>ä½¿ç”¨åœºæ™¯</strong> </p>
<ul>
<li>å®ç°å•ä¸ªçº¿ç¨‹å•ä¾‹ä»¥åŠå•ä¸ªçº¿ç¨‹ä¸Šä¸‹æ–‡ä¿¡æ¯å­˜å‚¨ï¼Œæ¯”å¦‚äº¤æ˜“idç­‰</li>
<li>å®ç°çº¿ç¨‹å®‰å…¨ï¼Œéçº¿ç¨‹å®‰å…¨çš„å¯¹è±¡ä½¿ç”¨ThreadLocalä¹‹åå°±ä¼šå˜å¾—çº¿ç¨‹å®‰å…¨ï¼Œå› ä¸ºæ¯ä¸ªçº¿ç¨‹éƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„å®ä¾‹</li>
<li>æ‰¿è½½ä¸€äº›çº¿ç¨‹ç›¸å…³çš„æ•°æ®ï¼Œé¿å…åœ¨æ–¹æ³•ä¸­æ¥å›ä¼ é€’å‚æ•°</li>
</ul>
<h4 id="é—´é€šä¿¡ä¹‹joinåŠ èµ›"><a href="#é—´é€šä¿¡ä¹‹joinåŠ èµ›" class="headerlink" title="é—´é€šä¿¡ä¹‹joinåŠ èµ›"></a>é—´é€šä¿¡ä¹‹joinåŠ èµ›</h4><blockquote>
<p> JavaBase/JoinDemo.java</p>
</blockquote>
<p>CyclicBarrier  å¼€ä¼šåœºæ™¯ç±»ä¼¼ï¼Œå¦‚æœå‡ºç°ä¸€ä¸ªäººå‘˜æ²¡æœ‰awaitæˆ–ä¸­é€”å¼‚å¸¸ï¼Œå¯¼è‡´å…¶ä»–çº¿ç¨‹ä¸€ç›´åœ¨ç­‰å¾…</p>
<h4 id="Exchanger"><a href="#Exchanger" class="headerlink" title="Exchanger"></a>Exchanger<v></v></h4><blockquote>
<p>tb7.Demo</p>
</blockquote>
<h4 id="Callableã€Futureå’ŒFutureTask"><a href="#Callableã€Futureå’ŒFutureTask" class="headerlink" title="Callableã€Futureå’ŒFutureTask"></a>Callableã€Futureå’ŒFutureTask</h4><blockquote>
<p>tb8.Demo</p>
</blockquote>
<ul>
<li><a href="https://www.cnblogs.com/dolphin0520/p/3949310.html" target="_blank" rel="noopener">Callableã€Futureå’ŒFutureTask</a></li>
</ul>
<p>Futureè®¾è®¡æ¨¡å¼çš„å®ç°</p>
<blockquote>
<p>tb9 com.sample.design_pattern.chapter04_future_design</p>
</blockquote>
<p><strong>Callable å’ŒRunnableçš„åŒºåˆ«</strong></p>
<ol>
<li>Runnableçš„runæ–¹æ³•æ˜¯çº¿ç¨‹è°ƒç”¨çš„ï¼Œåœ¨runæ–¹æ³•æ˜¯å¼‚æ­¥æ‰§è¡Œçš„</li>
<li>Callableçš„callæ–¹æ³•ï¼Œä¸æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œæ˜¯ç”±Futureçš„runæ–¹æ³•è°ƒç”¨çš„</li>
</ol>
<p><strong>Futureæºç è§£æ</strong></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">!=</span> NEW <span class="token operator">||</span>
        <span class="token operator">!</span>UNSAFE<span class="token punctuation">.</span><span class="token function">compareAndSwapObject</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> runnerOffset<span class="token punctuation">,</span>
                                     null<span class="token punctuation">,</span> Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        Callable<span class="token operator">&lt;</span>V<span class="token operator">></span> c <span class="token operator">=</span> callable<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">!=</span> null <span class="token operator">&amp;&amp;</span> state <span class="token operator">==</span> NEW<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            V result<span class="token punctuation">;</span>
            <span class="token keyword">boolean</span> ran<span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                result <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                ran <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                result <span class="token operator">=</span> null<span class="token punctuation">;</span>
                ran <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                <span class="token function">setException</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>ran<span class="token punctuation">)</span>
                <span class="token function">set</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// runner must be non-null until state is settled to</span>
        <span class="token comment" spellcheck="true">// prevent concurrent calls to run()</span>
        runner <span class="token operator">=</span> null<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// state must be re-read after nulling runner to prevent</span>
        <span class="token comment" spellcheck="true">// leaked interrupts</span>
        <span class="token keyword">int</span> s <span class="token operator">=</span> state<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">>=</span> INTERRUPTING<span class="token punctuation">)</span>
            <span class="token function">handlePossibleCancellationInterrupt</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å¤šç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼æ¡ˆ"><a href="#å¤šç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼æ¡ˆ" class="headerlink" title="å¤šç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼æ¡ˆ"></a>å¤šç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼æ¡ˆ</h3><ol>
<li>ç»§æ‰¿Threadç±»</li>
<li>å®ç°Runnableæ¥å£</li>
<li>åŒ¿åå†…éƒ¨ç±»</li>
<li>å¸¦è¿”å›å€¼çš„çº¿ç¨‹ï¼Œå®ç° <code>implements Callable&lt;T&gt;</code> æœ‰è¿”å›å€¼çš„ </li>
<li>å®šæ—¶å™¨ï¼Œjavaå¸¸ç”¨çš„å‡ ç§å®šæ—¶å™¨<code>@Scheduledæ³¨è§£ã€quartzã€new Timer().scheduleã€ä½¿ç”¨çº¿ç¨‹æ§åˆ¶</code> ã€å¾…æ·±å…¥ã€‘</li>
<li>çº¿ç¨‹æ± çš„å®ç° ã€å¾…æ·±å…¥ã€‘</li>
<li>Lambdaè¡¨è¾¾å¼å®ç°</li>
<li>Springæ˜¯éœ€è¦å¤šçº¿ç¨‹</li>
<li>RxJava </li>
</ol>
<h3 id="çº¿ç¨‹è®¾ç½®"><a href="#çº¿ç¨‹è®¾ç½®" class="headerlink" title="çº¿ç¨‹è®¾ç½®"></a>çº¿ç¨‹è®¾ç½®</h3><p>-Xss10M è®¾ç½® tackssize  new thread(stacksize)</p>
<ul>
<li><p><a href="https://unixboy.iteye.com/blog/174173" target="_blank" rel="noopener">VMè°ƒä¼˜æ€»ç»“ -Xms -Xmx -Xmn -Xss</a></p>
</li>
<li><p><code>Thread.currentThread().setPriority(priority);</code>ä¼˜å…ˆçº§è®¾ç½®</p>
<blockquote>
<p>ä¸è¦æŠŠçº¿ç¨‹çš„ä¼˜å…ˆçº§ä¸<code>è¿è¡Œç»“æœçš„é¡ºåº</code>ä½œä¸ºè¡¡é‡çš„æ ‡å‡†ï¼Œä¼˜å…ˆçº§è¾ƒé«˜çš„çº¿ç¨‹å¹¶ä¸ä¸€å®šæ¯ä¸€æ¬¡éƒ½å…ˆæ‰§è¡Œå®Œrun()æ–¹æ³•ä¸­çš„ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œçº¿ç¨‹çš„ä¼˜å…ˆçº§ä¸æ‰“å°é¡ºåºæ— å…³ï¼Œä¸è¦å°†è¿™ä¸¤è€…çš„å…³ç³»ç›¸å…³è”ï¼Œå®ƒä»¬çš„å…³ç³»å…·æœ‰ä¸ç¡®å®šæ€§å’Œéšæœºæ€§ã€‚</p>
</blockquote>
</li>
</ul>
<h3 id="å…³é”®å­—"><a href="#å…³é”®å­—" class="headerlink" title="å…³é”®å­—"></a>å…³é”®å­—</h3><ul>
<li>join å…„å¼Ÿä½ èµ°ï¼Œæˆ‘å«å</li>
</ul>
<h3 id="ThreadGroup-çº¿ç¨‹ç»„"><a href="#ThreadGroup-çº¿ç¨‹ç»„" class="headerlink" title="ThreadGroup çº¿ç¨‹ç»„"></a>ThreadGroup çº¿ç¨‹ç»„</h3><ul>
<li>ç»™çº¿ç¨‹æŒ‡å®šThreadGroup </li>
</ul>
<pre class="line-numbers language-java"><code class="language-java">  ThreadGroup threadGroup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadGroup</span><span class="token punctuation">(</span><span class="token string">"TG1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  Thread t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>threadGroup<span class="token punctuation">,</span> <span class="token string">"t1"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ul>
<li>mainå‡½æ•°é»˜è®¤åˆ›å»ºåœ¨<code>main</code>çº¿ç¨‹ç»„ä¸­</li>
</ul>
<h2 id="ä¸­æ–­çš„å¤„ç†é€»è¾‘ä½“ä¼š"><a href="#ä¸­æ–­çš„å¤„ç†é€»è¾‘ä½“ä¼š" class="headerlink" title="ä¸­æ–­çš„å¤„ç†é€»è¾‘ä½“ä¼š"></a>ä¸­æ–­çš„å¤„ç†é€»è¾‘ä½“ä¼š</h2><ol>
<li><p>ä¸æ”¯æŒçº¿ç¨‹interruptçš„</p>
<blockquote>
<p>å¯ä»¥åœ¨interruptä¸­è§¦å‘åœæ­¢æ¡ä»¶ï¼Œå¦‚è¯»å–æ–‡ä»¶æ—¶åœ¨interruptä¸­å…³é—­è¯»å–æ–‡ä»¶çš„æµè§¦å‘çº¿ç¨‹å†…çš„å¼‚å¸¸</p>
</blockquote>
</li>
</ol>
<pre class="line-numbers language-java"><code class="language-java">   <span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>
   <span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>InputStream<span class="token punctuation">;</span>
   <span class="token keyword">import</span> java<span class="token punctuation">.</span>net<span class="token punctuation">.</span>Socket<span class="token punctuation">;</span>

   <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test32</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> BUF_SIZE <span class="token operator">=</span> <span class="token number">512</span><span class="token punctuation">;</span>

       Socket socket<span class="token punctuation">;</span>
       InputStream in<span class="token punctuation">;</span>

       <span class="token keyword">public</span> <span class="token function">Test32</span><span class="token punctuation">(</span>Socket socket<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>
           <span class="token keyword">this</span><span class="token punctuation">.</span>socket <span class="token operator">=</span> socket<span class="token punctuation">;</span>
           <span class="token keyword">this</span><span class="token punctuation">.</span>in <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token annotation punctuation">@Override</span>
       <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token keyword">try</span> <span class="token punctuation">{</span>
               <span class="token comment" spellcheck="true">//ä¸­æ–­æ˜¯å…³é—­socketæ˜¯çº¿ç¨‹äº§ç”Ÿé”™è¯¯</span>
               socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
               <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>

       <span class="token annotation punctuation">@Override</span>
       <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token keyword">try</span> <span class="token punctuation">{</span>
               <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">byte</span><span class="token punctuation">[</span>BUF_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
               <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                   <span class="token keyword">int</span> count <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span>
                   <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                       <span class="token keyword">break</span><span class="token punctuation">;</span>
                   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

                   <span class="token punctuation">}</span>
               <span class="token punctuation">}</span>
           <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li><p>å‘ä¸ŠæŠ›å¼‚å¸¸ï¼Œè‡ªå·±ä¸å¤„ç†</p>
</li>
<li><p>è‡ªå·±å¤„ç†å®Œï¼Œåœ¨æŠ›å¼‚å¸¸ä¸Šé¢åœ¨å¤„ç†</p>
</li>
</ol>
<h2 id="çº¿ç¨‹å¼‚å¸¸é—®é¢˜åŠå¤„ç†"><a href="#çº¿ç¨‹å¼‚å¸¸é—®é¢˜åŠå¤„ç†" class="headerlink" title="çº¿ç¨‹å¼‚å¸¸é—®é¢˜åŠå¤„ç†"></a>çº¿ç¨‹å¼‚å¸¸é—®é¢˜åŠå¤„ç†</h2><blockquote>
<p>çŸ¥è¯†ç‚¹ï¼š é“¶è¡ŒæœåŠ¡ä¼šé¢„ç•™åº”æ€¥æœåŠ¡å™¨ï¼Œå®šæœŸé‡å¯æœåŠ¡å™¨ï¼Œé‡ç½®èµ„æºä¿æŒæœåŠ¡å™¨çš„ç¨³å®šæ€§</p>
</blockquote>
<h3 id="1-é’©å­å‡½æ•°ï¼Œæ•è·å¼‚å¸¸"><a href="#1-é’©å­å‡½æ•°ï¼Œæ•è·å¼‚å¸¸" class="headerlink" title="1. é’©å­å‡½æ•°ï¼Œæ•è·å¼‚å¸¸"></a>1. é’©å­å‡½æ•°ï¼Œæ•è·å¼‚å¸¸</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExitCapture</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Runtime<span class="token punctuation">.</span><span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addShutdownHook</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">{</span>
      System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"The application will be exit."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">notifyAndRelease</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        Thread<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span>1_000L<span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"I am working ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment" spellcheck="true">//ignore</span>
      <span class="token punctuation">}</span>
      i<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token comment" spellcheck="true">// simulate a exception</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token operator">></span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"error"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// 1. try to capture the simulate exception and handler that</span>
  <span class="token comment" spellcheck="true">// 2. even this Thread kill by some reason can capture</span>
  <span class="token comment" spellcheck="true">// 3. but kill -9 pid (force kill ) can't not capture </span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">notifyAndRelease</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"notify to the admin(the monitor.) by email or mq or some other way"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      Thread<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span>1_000<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Will release resource(socket,file,connection.)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span><span class="token punctuation">{</span>
      Thread<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span>1_000<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">//ignore</span>
    <span class="token punctuation">}</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Relase and notify Done. "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="2-è·å–çº¿ç¨‹è¿è¡ŒæœŸé—´çš„å¼‚å¸¸"><a href="#2-è·å–çº¿ç¨‹è¿è¡ŒæœŸé—´çš„å¼‚å¸¸" class="headerlink" title="2. è·å–çº¿ç¨‹è¿è¡ŒæœŸé—´çš„å¼‚å¸¸"></a>2. è·å–çº¿ç¨‹è¿è¡ŒæœŸé—´çš„å¼‚å¸¸</h3><pre class="line-numbers language-java"><code class="language-java">  threadRun<span class="token punctuation">.</span><span class="token function">setUncaughtExceptionHandler</span><span class="token punctuation">(</span><span class="token punctuation">(</span>threadError<span class="token punctuation">,</span> e<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>threadError<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
<li>ThreadFactoryè®¾ç½®</li>
</ol>
<pre class="line-numbers language-java"><code class="language-java">   ExecutorService exec <span class="token operator">=</span> Executors<span class="token punctuation">.</span><span class="token function">newCachedThreadPool</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ThreadFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
               <span class="token annotation punctuation">@Override</span>
               <span class="token keyword">public</span> Thread <span class="token function">newThread</span><span class="token punctuation">(</span>Runnable r<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                   Thread thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
                   thread<span class="token punctuation">.</span><span class="token function">setUncaughtExceptionHandler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyUnchecckedExceptionhandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                   <span class="token keyword">return</span> thread<span class="token punctuation">;</span>
               <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   exec<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ExceptionThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="3-è¿½è¸ªç¨‹åºä¸­è°ƒç”¨çš„é€»è¾‘é¡ºåº"><a href="#3-è¿½è¸ªç¨‹åºä¸­è°ƒç”¨çš„é€»è¾‘é¡ºåº" class="headerlink" title="3. è¿½è¸ªç¨‹åºä¸­è°ƒç”¨çš„é€»è¾‘é¡ºåº"></a>3. è¿½è¸ªç¨‹åºä¸­è°ƒç”¨çš„é€»è¾‘é¡ºåº</h3><pre class="line-numbers language-java"><code class="language-java">    Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>e <span class="token operator">-</span><span class="token operator">></span> <span class="token operator">!</span>e<span class="token punctuation">.</span><span class="token function">isNativeMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>e <span class="token operator">-</span><span class="token operator">></span> Optional<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>
                    e<span class="token punctuation">.</span><span class="token function">getClassName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token function">getMethodName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token function">getLineNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">ifPresent</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span>
                <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="4-çº¿ç¨‹ç»„ThreadGroup"><a href="#4-çº¿ç¨‹ç»„ThreadGroup" class="headerlink" title="4. çº¿ç¨‹ç»„ThreadGroup"></a>4. çº¿ç¨‹ç»„ThreadGroup</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//1.åˆ›å»ºçº¿ç¨‹ç»„</span>
ThreadGroup threadGroup <span class="token operator">=</span>
        <span class="token comment" spellcheck="true">// è¿™æ˜¯åŒ¿åç±»å†™æ³•</span>
        <span class="token keyword">new</span> <span class="token class-name">ThreadGroup</span><span class="token punctuation">(</span><span class="token string">"group"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// ç»§æ‰¿ThreadGroupå¹¶é‡æ–°å®šä¹‰ä»¥ä¸‹æ–¹æ³•</span>
            <span class="token comment" spellcheck="true">// åœ¨çº¿ç¨‹æˆå‘˜æŠ›å‡ºunchecked exception ä¼šæ‰§è¡Œæ­¤æ–¹æ³•</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">uncaughtException</span><span class="token punctuation">(</span>Thread t<span class="token punctuation">,</span> Throwable e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">//4.å¤„ç†æ•è·çš„çº¿ç¨‹å¼‚å¸¸</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//2.åˆ›å»ºThread        </span>
Thread thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>threadGroup<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">"my_thread"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">//3.å¯åŠ¨çº¿ç¨‹</span>
thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="5-é»˜è®¤çš„çº¿ç¨‹å¼‚å¸¸æ•è·å™¨"><a href="#5-é»˜è®¤çš„çº¿ç¨‹å¼‚å¸¸æ•è·å™¨" class="headerlink" title="5. é»˜è®¤çš„çº¿ç¨‹å¼‚å¸¸æ•è·å™¨"></a>5. é»˜è®¤çš„çº¿ç¨‹å¼‚å¸¸æ•è·å™¨</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// è®¾ç½®é»˜è®¤çš„çº¿ç¨‹å¼‚å¸¸æ•è·å¤„ç†å™¨</span>
Thread<span class="token punctuation">.</span><span class="token function">setDefaultUncaughtExceptionHandler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyUnchecckedExceptionhandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<blockquote>
<p>å½“çº¿ç¨‹å‡ºç°å¼‚å¸¸æ—¶ï¼Œ<br>å¦‚æœæˆ‘ä»¬æ²¡æœ‰æŒ‡å®šçº¿ç¨‹çš„å¼‚å¸¸å¤„ç†å™¨ï¼Œè€Œä¸”çº¿ç¨‹ç»„ä¹Ÿæ²¡æœ‰è®¾ç½®ï¼Œé‚£ä¹ˆå°±ä¼šä½¿ç”¨é»˜è®¤çš„çº¿ç¨‹å¼‚å¸¸å¤„ç†å™¨</p>
</blockquote>
<h3 id="6-FetureTaskæ¥æ•è·å¼‚å¸¸"><a href="#6-FetureTaskæ¥æ•è·å¼‚å¸¸" class="headerlink" title="6. FetureTaskæ¥æ•è·å¼‚å¸¸"></a>6. FetureTaskæ¥æ•è·å¼‚å¸¸</h3><h4 id="6-1-åŸºæœ¬ç”¨æ³•"><a href="#6-1-åŸºæœ¬ç”¨æ³•" class="headerlink" title="6.1 åŸºæœ¬ç”¨æ³•"></a>6.1 åŸºæœ¬ç”¨æ³•</h4><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//1.åˆ›å»ºFeatureTask</span>
FutureTask<span class="token operator">&lt;</span>Integer<span class="token operator">></span> futureTask <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FutureTask</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Callable</span><span class="token operator">&lt;</span>Integer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> Integer <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//2.åˆ›å»ºThread</span>
Thread thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>futureTask<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//3.å¯åŠ¨çº¿ç¨‹</span>
thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    Integer result <span class="token operator">=</span> futureTask<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ExecutionException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//4.å¤„ç†æ•è·çš„çº¿ç¨‹å¼‚å¸¸</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="6-2-çº¿ç¨‹æ± ä½¿ç”¨"><a href="#6-2-çº¿ç¨‹æ± ä½¿ç”¨" class="headerlink" title="6.2 çº¿ç¨‹æ± ä½¿ç”¨"></a>6.2 çº¿ç¨‹æ± ä½¿ç”¨</h4><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//1.åˆ›å»ºçº¿ç¨‹æ± </span>
ExecutorService executorService <span class="token operator">=</span> Executors<span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//2.åˆ›å»ºCallableï¼Œæœ‰è¿”å›å€¼çš„ï¼Œä½ ä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å®ç°Callableæ¥å£ã€‚</span>
<span class="token comment" spellcheck="true">//  å¦‚æœä½ ä¸éœ€è¦è¿”å›å€¼ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªThreadå³å¯ï¼Œåœ¨ç¬¬3æ­¥æ—¶submitè¿™ä¸ªthreadã€‚</span>
Callable<span class="token operator">&lt;</span>Integer<span class="token operator">></span> callable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Callable</span><span class="token operator">&lt;</span>Integer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> Integer <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//3.æäº¤å¾…æ‰§è¡Œçš„çº¿ç¨‹</span>
Future<span class="token operator">&lt;</span>Integer<span class="token operator">></span> future <span class="token operator">=</span> executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>callable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
     Integer result <span class="token operator">=</span> future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ExecutionException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//4.å¤„ç†æ•è·çš„çº¿ç¨‹å¼‚å¸¸</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="7-é‡å†™ThreadPoolExecutorçš„afterExecute"><a href="#7-é‡å†™ThreadPoolExecutorçš„afterExecute" class="headerlink" title="7. é‡å†™ThreadPoolExecutorçš„afterExecute"></a>7. é‡å†™ThreadPoolExecutorçš„afterExecute</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//1.åˆ›å»ºçº¿ç¨‹æ± </span>
ThreadPoolExecutor threadPoolExecutor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadPoolExecutor</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> 0L<span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">LinkedBlockingQueue</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">afterExecute</span><span class="token punctuation">(</span>Runnable r<span class="token punctuation">,</span> Throwable t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token keyword">instanceof</span> <span class="token class-name">Thread</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">//å¤„ç†æ•è·çš„å¼‚å¸¸</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token keyword">instanceof</span> <span class="token class-name">FutureTask</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            FutureTask futureTask <span class="token operator">=</span> <span class="token punctuation">(</span>FutureTask<span class="token punctuation">)</span> r<span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                futureTask<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ExecutionException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">//å¤„ç†æ•è·çš„å¼‚å¸¸</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Thread t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
threadPoolExecutor<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>t1<span class="token punctuation">)</span><span class="token punctuation">;</span>
Callable<span class="token operator">&lt;</span>Integer<span class="token operator">></span> callable <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token number">2</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span>
threadPoolExecutor<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>callable<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å¤šçº¿ç¨‹å¸¦æ¥çš„é£é™©"><a href="#å¤šçº¿ç¨‹å¸¦æ¥çš„é£é™©" class="headerlink" title="å¤šçº¿ç¨‹å¸¦æ¥çš„é£é™©"></a>å¤šçº¿ç¨‹å¸¦æ¥çš„é£é™©</h2><h3 id="æ´»è·ƒæ€§é—®é¢˜"><a href="#æ´»è·ƒæ€§é—®é¢˜" class="headerlink" title="æ´»è·ƒæ€§é—®é¢˜"></a>æ´»è·ƒæ€§é—®é¢˜</h3><h4 id="1-æ­»é”"><a href="#1-æ­»é”" class="headerlink" title="1. æ­»é”"></a>1. æ­»é”</h4><p><a href="https://blog.csdn.net/hd12370/article/details/82814348" target="_blank" rel="noopener">ä»€ä¹ˆæ˜¯æ­»é”ï¼Œäº§ç”Ÿæ­»é”çš„åŸå› åŠå¿…è¦æ¡ä»¶</a></p>
<h4 id="2-é¥¥é¥¿"><a href="#2-é¥¥é¥¿" class="headerlink" title="2. é¥¥é¥¿"></a>2. é¥¥é¥¿</h4><blockquote>
<ol>
<li>é«˜ä¼˜å…ˆçº§åå™¬æ‰€æœ‰ä½ä¼˜å…ˆçº§çš„CPUæ—¶é—´ç‰‡</li>
<li>çº¿ç¨‹è¢«æ°¸ä¹…å µå¡(block)åœ¨ä¸€ä¸ªç­‰å¾…è¿›å…¥åŒæ­¥å—çš„çŠ¶æ€</li>
<li>wait() ç­‰å¾…çš„çº¿ç¨‹æ°¸è¿œä¸è¢«å”¤é†’ </li>
</ol>
</blockquote>
<p>   å¦‚ä½•å¤„é¥¥é¥¿ä¸å…¬å¹³</p>
<ol>
<li>è®¾ç½®åˆç†çš„ä¼˜å…ˆçº§ï¼›</li>
<li>è®¾ç½®synchronized</li>
</ol>
<h4 id="3-æ´»é”"><a href="#3-æ´»é”" class="headerlink" title="3. æ´»é”"></a>3. æ´»é”</h4><blockquote>
<p>ç”±äºæŸäº›æ¡ä»¶æ²¡æœ‰æ»¡è¶³ï¼Œå¯¼è‡´ä¸€ç›´é‡å¤å°è¯•ï¼Œå¤±è´¥ï¼Œå°è¯•ï¼Œå¤±è´¥ã€‚æ´»é”å’Œæ­»é”çš„åŒºåˆ«åœ¨äºï¼Œå¤„äºæ´»é”çš„å®ä½“æ˜¯åœ¨ä¸æ–­çš„æ”¹å˜çŠ¶æ€</p>
</blockquote>
<p>æ´»é”æŒ‡çš„æ˜¯çº¿ç¨‹ä¸æ–­é‡å¤æ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œä½†æ¯æ¬¡æ“ä½œçš„ç»“æœéƒ½æ˜¯å¤±è´¥çš„ã€‚å°½ç®¡è¿™ä¸ªé—®é¢˜ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼Œä½†æ˜¯ç¨‹åºä¹Ÿæ— æ³•ç»§ç»­æ‰§è¡Œã€‚æ´»é”é€šå¸¸å‘ç”Ÿåœ¨å¤„ç†äº‹åŠ¡æ¶ˆæ¯çš„åº”ç”¨ç¨‹åºä¸­ï¼Œå¦‚æœä¸èƒ½æˆåŠŸå¤„ç†è¿™ä¸ªäº‹åŠ¡é‚£ä¹ˆäº‹åŠ¡å°†å›æ»šæ•´ä¸ªæ“ä½œã€‚è§£å†³æ´»é”çš„åŠæ³•æ˜¯åœ¨æ¯æ¬¡é‡å¤æ‰§è¡Œçš„æ—¶å€™å¼•å…¥éšæœºæœºåˆ¶ï¼Œè¿™æ ·ç”±äºå‡ºç°çš„å¯èƒ½æ€§ä¸åŒä½¿å¾—ç¨‹åºå¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–çš„ä»»åŠ¡</p>
<h3 id="æ€§èƒ½é—®é¢˜"><a href="#æ€§èƒ½é—®é¢˜" class="headerlink" title="æ€§èƒ½é—®é¢˜"></a>æ€§èƒ½é—®é¢˜</h3><h3 id="çº¿ç¨‹å®‰å…¨æ€§é—®é¢˜"><a href="#çº¿ç¨‹å®‰å…¨æ€§é—®é¢˜" class="headerlink" title="çº¿ç¨‹å®‰å…¨æ€§é—®é¢˜"></a>çº¿ç¨‹å®‰å…¨æ€§é—®é¢˜</h3><blockquote>
<p>å‡ºç°çº¿ç¨‹å®‰å…¨æ€§é—®é¢˜çš„æ¡ä»¶ï¼š</p>
<ol>
<li>â€¢å¤šçº¿ç¨‹ç¯å¢ƒä¸‹</li>
<li>â€¢å¤šä¸ªçº¿ç¨‹å…±äº«ä¸€ä¸ªèµ„æº</li>
<li>å¯¹èµ„æºè¿›è¡ŒéåŸå­æ€§æ“ä½œï¼ˆåŒæ—¶è¯»OKï¼ŒåŒæ—¶ è¯»å†™æœ‰é—®é¢˜ï¼‰</li>
</ol>
</blockquote>
<h4 id="synchronized-çš„åŸç†ä¸ä½¿ç”¨"><a href="#synchronized-çš„åŸç†ä¸ä½¿ç”¨" class="headerlink" title="synchronized çš„åŸç†ä¸ä½¿ç”¨"></a>synchronized çš„åŸç†ä¸ä½¿ç”¨</h4><ul>
<li><p>å†…ç½®é”</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**
* æ™®é€šæ–¹æ³•ä¸Š,å†…ç½®é”å°±æ˜¯å½“å‰ç±»çš„å®ä¾‹
*/</span>
<span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">int</span> <span class="token function">getNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value <span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>äº’æ–¥é”</p>
</li>
</ul>
<p>ä¸‰ç§ä¿®é¥°æ–¹å¼</p>
<ol>
<li>æ™®é€šæ–¹æ³•ï¼Œå†…ç½®é”<code>å½“å‰ç±»çš„å®ä¾‹</code></li>
<li>é™æ€æ–¹æ³•ï¼Œå†…ç½®é”<code>æ˜¯å½“å‰çš„Classå­—èŠ‚ç å¯¹è±¡</code></li>
<li>ä»£ç å—ï¼Œå†…ç½®é”<code>æŒ‡å®šçš„ç±»</code></li>
</ol>
<h4 id="çº¿ç¨‹é”"><a href="#çº¿ç¨‹é”" class="headerlink" title="çº¿ç¨‹é”"></a>çº¿ç¨‹é”</h4><p>é”çš„å­˜æ”¾</p>
<blockquote>
<p>ä»»ä½•å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºé”ï¼Œé”ä¿¡æ¯å­˜æ”¾åœ¨å¯¹è±¡çš„å¤´ä¸­ Mark World</p>
</blockquote>
<p>é”çš„åˆ†ç±»</p>
<ol>
<li><p>åå‘é”</p>
<blockquote>
<p>å­˜åœ¨åŸå› ï¼š</p>
<ol>
<li>æ¯æ¬¡è·å–é”å’Œé‡Šæ”¾é”ä¼šæµªè´¹èµ„æº</li>
<li>å¾ˆå¤šæƒ…å†µä¸‹ï¼Œç«äº‰é”ä¸æ˜¯æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œè€Œæ˜¯ä¸€ä¸ªçº¿ç¨‹åœ¨ä½¿ç”¨</li>
</ol>
</blockquote>
<p>å¤„ç†æ–¹å¼ï¼š</p>
<ol>
<li>å¦‚æœæ˜¯åŒä¸€ä¸ªçº¿ç¨‹ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯åå‘é”ï¼Œæ˜¯å¦æ˜¯ä¸Šä¸€ä¸ªçº¿ç¨‹idï¼Œç›´æ¥è®¿é—®ï¼›æ›´å¤šæ¡ä»¶å¦‚ä¸‹ï¼š<ol>
<li>â€¢çº¿ç¨‹id</li>
<li>â€¢Epoch</li>
<li>â€¢å¯¹è±¡çš„åˆ†ä»£å¹´é¾„ä¿¡æ¯</li>
<li>â€¢æ˜¯å¦æ˜¯åå‘é”</li>
<li>â€¢é”æ ‡å¿—ä½</li>
</ol>
</li>
<li>å…¶ä»–çº¿ç¨‹è®¿é—®ä¼šéœ€è¦é‡æ–°è·å–é”ï¼›</li>
</ol>
</li>
<li><p>è½»é‡é”</p>
</li>
<li><p>é‡é‡é”ï¼ˆsynchronizeï¼‰</p>
</li>
</ol>
<h4 id="ç†è§£è‡ªæ—‹é”ï¼Œæ­»é”ä¸é‡å…¥é”"><a href="#ç†è§£è‡ªæ—‹é”ï¼Œæ­»é”ä¸é‡å…¥é”" class="headerlink" title="ç†è§£è‡ªæ—‹é”ï¼Œæ­»é”ä¸é‡å…¥é”"></a>ç†è§£è‡ªæ—‹é”ï¼Œæ­»é”ä¸é‡å…¥é”</h4><ul>
<li>é”çš„é‡å…¥</li>
</ul>
<pre class="line-numbers language-java"><code class="language-java">  synchronize æ–¹æ³•è®¿é—® å†…éƒ¨è®¿é—®synchronizeæ–¹æ³•<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>è‡ªæ—‹é”ï¼Œæ²¡æœ‰æ‹¿åˆ°é”çš„çº¿ç¨‹ç­‰å¾…æˆ–è€…åœ¨ç­‰å¾…çº¿ç¨‹çš„çŠ¶æ€è¾¾åˆ°æŸä¸ªæ¡ä»¶çš„æ—¶å€™</li>
</ul>
<pre class="line-numbers language-java"><code class="language-java">          <span class="token keyword">while</span><span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">activeCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment" spellcheck="true">// è‡ªæ—‹</span>
          <span class="token punctuation">}</span>
          System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‰€æœ‰çš„çº¿ç¨‹æ‰§è¡Œå®Œæ¯•äº†..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><p>æ­»é”</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// a b å¹¶è¡Œæ‰§è¡Œï¼Œa æ–¹æ³•è·å–obj1é”ï¼Œ bæ–¹æ³•è·å–obj2é”ï¼Œç¬¬äºŒæ­¥ç›¸äº’åˆ¶çº¦å½¢æˆæ­»é”</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">a</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>obj1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>obj2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">b</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>obj2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>obj1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h4 id="æŒ‡ä»¤é‡æ’åº-happen-before"><a href="#æŒ‡ä»¤é‡æ’åº-happen-before" class="headerlink" title="æŒ‡ä»¤é‡æ’åº(happen-before)"></a>æŒ‡ä»¤é‡æ’åº(happen-before)</h4><blockquote>
<p><strong>æŒ‡ä»¤é‡æ’åº</strong>ï¼Œå¯ä»¥åˆ†ä¸ºç¼–è¯‘å™¨é‡æ’åºå’Œå¤„ç†å™¨é‡æ’åº</p>
</blockquote>
<h4 id="å•ä¾‹"><a href="#å•ä¾‹" class="headerlink" title="å•ä¾‹"></a>å•ä¾‹</h4><ul>
<li><p>é¥¿æ±‰å¼</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//ä¸å­˜åœ¨çº¿ç¨‹å®‰å…¨æ€§é—®é¢˜</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// ç§æœ‰åŒ–æ„é€ æ–¹æ³•</span>
    <span class="token keyword">private</span> <span class="token function">Singleton</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> Singleton instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> Singleton <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<ul>
<li><p>æ‡’æ±‰å¼ï¼Œç”¨çš„æ—¶å€™æ‰åŠ è½½</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton2</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token function">Singleton2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">// volatile é˜²æ­¢è™šæ‹Ÿæœºä¸ºäº†æé«˜æ€§èƒ½åœ¨ä¸æ”¹å˜æ‰§è¡Œç»“æœçš„å‰æä¸‹æŒ‡ä»¤é‡æ’åºï¼ˆåŸæ¥æ‰§è¡Œåœ¨åé¢çš„å¯èƒ½æ”¾åˆ°å‰é¢è¿è¡Œï¼‰</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">volatile</span> Singleton2 instance<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/**
     * åŒé‡æ£€æŸ¥åŠ é”
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> Singleton2 <span class="token function">getInstance</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// è‡ªæ—‹   while(true)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>instance <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>Singleton2<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>instance <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                    instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// æŒ‡ä»¤é‡æ’åº</span>
                    <span class="token comment" spellcheck="true">// new Singleton2() æ±‡ç¼–ä¸­ä¸æ˜¯ä¸€ä¸ªæŒ‡ä»¤å®Œæˆï¼Œå¤§è‡´è¿‡ç¨‹å¦‚ä¸‹</span>
                    <span class="token comment" spellcheck="true">// ç”³è¯·ä¸€å—å†…å­˜ç©ºé—´   // 1 åœ¨1çš„æ—¶å€™instanceå°±ä¸ä¸ºç©ºäº†</span>
                    <span class="token comment" spellcheck="true">// åœ¨è¿™å—ç©ºé—´é‡Œå®ä¾‹åŒ–å¯¹è±¡  // 2</span>
                    <span class="token comment" spellcheck="true">// instanceçš„å¼•ç”¨æŒ‡å‘è¿™å—ç©ºé—´åœ°å€   // 3</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h4 id="VolatileåŸç†ä¸ä½¿ç”¨"><a href="#VolatileåŸç†ä¸ä½¿ç”¨" class="headerlink" title="VolatileåŸç†ä¸ä½¿ç”¨"></a>VolatileåŸç†ä¸ä½¿ç”¨</h4><blockquote>
<ol>
<li>Volatileç§°ä¹‹ä¸ºè½»é‡çº§é”ï¼Œè¢«volatileä¿®é¥°çš„å˜é‡ï¼Œåœ¨çº¿ç¨‹ä¹‹é—´æ˜¯å¯è§çš„ã€‚<ol>
<li>å¯è§ï¼šä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†è¿™ä¸ªå˜é‡çš„å€¼ï¼Œåœ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¸­èƒ½å¤Ÿè¯»åˆ°è¿™ä¸ªä¿®æ”¹åçš„å€¼ã€‚</li>
</ol>
</li>
<li>Synchronizedé™¤äº†çº¿ç¨‹ä¹‹é—´äº’æ–¥æ„å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªéå¸¸å¤§çš„ä½œç”¨ï¼Œå°±æ˜¯ä¿è¯å¯è§æ€§</li>
<li>volatile åªä¿è¯äº†çº¿ç¨‹çš„ä¹‹é—´çš„å¯è§æ€§ï¼Œä¸èƒ½ä¿è¯çº¿ç¨‹çš„åŸå­æ€§</li>
</ol>
</blockquote>
<p>volatileå†…å­˜è¯­ä¹‰</p>
<ol>
<li>çº¿ç¨‹å¯¹å˜é‡è¿›è¡Œä¿®æ”¹ä¹‹åï¼Œè¦ç«‹åˆ»å›å†™åˆ°ä¸»å†…å­˜ã€‚</li>
<li>çº¿ç¨‹å¯¹å˜é‡è¯»å–çš„æ—¶å€™ï¼Œè¦ä»ä¸»å†…å­˜ä¸­è¯»ï¼Œè€Œä¸æ˜¯ç¼“å­˜ã€‚</li>
</ol>
<p>å‚è€ƒï¼š </p>
<ol>
<li><a href="https://blog.csdn.net/vernonzheng/article/details/8201744" target="_blank" rel="noopener">Javaå¤šçº¿ç¨‹ï¼ˆä¸€ï¼‰ä¹‹volatileæ·±å…¥åˆ†æ</a></li>
<li><a href="https://www.ibm.com/developerworks/cn/java/j-jtp06197.html" target="_blank" rel="noopener">æ­£ç¡®ä½¿ç”¨ Volatile å˜é‡ ã€é‡ç‚¹ã€‘</a> EverNoteæœ‰ç¬”è®°</li>
</ol>
<h4 id="JDK5æä¾›çš„åŸå­ç±»çš„æ“ä½œä»¥åŠå®ç°åŸç†"><a href="#JDK5æä¾›çš„åŸå­ç±»çš„æ“ä½œä»¥åŠå®ç°åŸç†" class="headerlink" title="JDK5æä¾›çš„åŸå­ç±»çš„æ“ä½œä»¥åŠå®ç°åŸç†"></a>JDK5æä¾›çš„åŸå­ç±»çš„æ“ä½œä»¥åŠå®ç°åŸç†</h4><p>jarï¼š rt.jar <code>java.util.concurrent.atomic</code>  æ ¸å¿ƒä»£ç é€»è¾‘</p>
<pre class="line-numbers language-java"><code class="language-java">    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token function">getAndUpdate</span><span class="token punctuation">(</span>IntUnaryOperator updateFunction<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> prev<span class="token punctuation">,</span> next<span class="token punctuation">;</span>
        <span class="token keyword">do</span> <span class="token punctuation">{</span>
            prev <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è·å–å½“å‰å€¼</span>
            next <span class="token operator">=</span> updateFunction<span class="token punctuation">.</span><span class="token function">applyAsInt</span><span class="token punctuation">(</span>prev<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//è·å–å…±äº«èµ„æºå€¼</span>
        <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">compareAndSet</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//å¦‚æœå…±äº«èµ„æºæ²¡æœ‰è¢«æ”¹å˜æ›´æ–°ï¼Œç»§ç»­get()</span>
        <span class="token keyword">return</span> prev<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å‚è€ƒã€€ï¼‘ï¼ï¼»éé˜»å¡ç®—æ³•ç®€ä»‹ï¼½ï¼ˆ<a href="https://www.ibm.com/developerworks/cn/java/j-jtp04186/ï¼‰" target="_blank" rel="noopener">https://www.ibm.com/developerworks/cn/java/j-jtp04186/ï¼‰</a></p>
<h4 id="Lockæ¥å£è®¤è¯†ä¸ä½¿ç”¨"><a href="#Lockæ¥å£è®¤è¯†ä¸ä½¿ç”¨" class="headerlink" title="Lockæ¥å£è®¤è¯†ä¸ä½¿ç”¨"></a>Lockæ¥å£è®¤è¯†ä¸ä½¿ç”¨</h4><p><strong>synchronized å’ŒLockå„è‡ªä¼˜åŠ¿</strong></p>
<p>Lock</p>
<ol>
<li>æ˜¾ç¤ºåœ°è·å–å’Œé‡Šæ”¾é”ï¼Œç¹çèƒ½è®©ä»£ç æ›´çµæ´»</li>
<li>ä½¿ç”¨Lockå¯ä»¥æ–¹ä¾¿çš„å®ç°å…¬å¹³æ€§</li>
<li>éé˜»å¡çš„è·å–é”</li>
<li>èƒ½è¢«ä¸­æ–­çš„è·å–é”</li>
<li>è¶…æ—¶è·å–é”</li>
</ol>
<h4 id="AbstractQueuedSynchronizer-AQS-è¯¦è§£"><a href="#AbstractQueuedSynchronizer-AQS-è¯¦è§£" class="headerlink" title="AbstractQueuedSynchronizer(AQS)è¯¦è§£"></a><strong>AbstractQueuedSynchronizer(AQS)è¯¦è§£</strong></h4><pre class="line-numbers language-java"><code class="language-java">ReentrantLock<span class="token punctuation">.</span>java
<span class="token comment" spellcheck="true">//ç®€å•æ¡ˆä¾‹</span>
MyLock2<span class="token punctuation">.</span>java<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h4 id="å…¬å¹³é”"><a href="#å…¬å¹³é”" class="headerlink" title="å…¬å¹³é”"></a>å…¬å¹³é”</h4><blockquote>
<p>å…¬å¹³æ˜¯é’ˆå¯¹è·å–è€Œè¨€çš„ï¼Œå¦‚æœä¸€ä¸ªé”æ˜¯å…¬å¹³çš„ï¼Œé‚£ä¹ˆé”çš„è·å–é¡ºåºå°±åº”è¯¥ç¬¦åˆè¯·æ±‚çš„ç»å¯¹æ—¶é—´é¡ºåºã€‚</p>
<p>å®è´¨æ˜¯å…ˆè¿›å…ˆå‡º</p>
</blockquote>
<p>FirLock</p>
<ul>
<li>FairSync é¡ºåºæ‰§è¡Œï¼Œé«˜å¹¶å‘æ€§èƒ½æŸè€—</li>
<li>NonFairSync  æ¯ä¸ªçº¿ç¨‹è·å–é”çš„å‡ ç‡éƒ½æ˜¯ç›¸åŒï¼Œå‡å°‘JVMè°ƒåº¦æ—¶é—´</li>
</ul>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">FairSync</span> <span class="token keyword">extends</span> <span class="token class-name">Sync</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token operator">-</span>3000897897090466540L<span class="token punctuation">;</span>

        <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">acquire</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment" spellcheck="true">/**
         * Fair version of tryAcquire.  Don't grant access unless
         * recursive call or no waiters or is first.
         */</span>
        <span class="token keyword">protected</span> <span class="token keyword">final</span> <span class="token keyword">boolean</span> <span class="token function">tryAcquire</span><span class="token punctuation">(</span><span class="token keyword">int</span> acquires<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">final</span> Thread current <span class="token operator">=</span> Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">hasQueuedPredecessors</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                    <span class="token function">compareAndSetState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> acquires<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">setExclusiveOwnerThread</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>current <span class="token operator">==</span> <span class="token function">getExclusiveOwnerThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> nextc <span class="token operator">=</span> c <span class="token operator">+</span> acquires<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>nextc <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Maximum lock count exceeded"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">setState</span><span class="token punctuation">(</span>nextc<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="è¯»å†™é”"><a href="#è¯»å†™é”" class="headerlink" title="è¯»å†™é”"></a>è¯»å†™é”</h4><ul>
<li>ReentrantReadWriteLock  å¤šä¸ªè¯»é”ä¸äº’æ–¥ï¼Œè¯»é”ä¸å†™é”äº’æ–¥ï¼Œå¤šä¸ªå†™é”äº’æ–¥</li>
</ul>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">protected</span> <span class="token keyword">final</span> <span class="token keyword">boolean</span> <span class="token function">tryReleaseShared</span><span class="token punctuation">(</span><span class="token keyword">int</span> unused<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Thread current <span class="token operator">=</span> Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>firstReader <span class="token operator">==</span> current<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// assert firstReaderHoldCount > 0;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>firstReaderHoldCount <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
            firstReader <span class="token operator">=</span> null<span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            firstReaderHoldCount<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        HoldCounter rh <span class="token operator">=</span> cachedHoldCounter<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>rh <span class="token operator">==</span> null <span class="token operator">||</span> rh<span class="token punctuation">.</span>tid <span class="token operator">!=</span> <span class="token function">getThreadId</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span><span class="token punctuation">)</span>
            rh <span class="token operator">=</span> readHolds<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> rh<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            readHolds<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token keyword">throw</span> <span class="token function">unmatchedUnlockException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token operator">--</span>rh<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> nextc <span class="token operator">=</span> c <span class="token operator">-</span> SHARED_UNIT<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">compareAndSetState</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> nextc<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token comment" spellcheck="true">// Releasing the read lock has no effect on readers,</span>
            <span class="token comment" spellcheck="true">// but it may allow waiting writers to proceed if</span>
            <span class="token comment" spellcheck="true">// both read and write locks are now free.</span>
            <span class="token keyword">return</span> nextc <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>é”é™çº§</strong></p>
<blockquote>
<p>â€¢é”é™çº§æ˜¯æŒ‡å†™é”é™çº§ä¸ºè¯»é”ã€‚</p>
<p>â€¢åœ¨å†™é”æ²¡æœ‰é‡Šæ”¾çš„æ—¶å€™ï¼Œè·å–åˆ°è¯»é”ï¼Œå†é‡Šæ”¾å†™é”</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java">    <span class="token keyword">private</span> <span class="token keyword">volatile</span> <span class="token keyword">boolean</span> isUpdate<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">readWrite</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        r<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ä¸ºäº†ä¿è¯isUpdateèƒ½å¤Ÿæ‹¿åˆ°æœ€æ–°çš„å€¼</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isUpdate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            r<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            w<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"xxx"</span><span class="token punctuation">,</span> <span class="token string">"xxx"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            r<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//é”é™çº§ åˆ©ç”¨è¯»å†™é”äº’æ–¥ï¼Œåœ¨å†™é”ç«äº‰å†™ä¹‹å‰å…ˆè¯»é”</span>
            w<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        Object obj <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"xxx"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
        r<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>é”å‡çº§</strong></p>
<blockquote>
<p>â€¢æŠŠè¯»é”å‡çº§ä¸ºå†™é”</p>
<p>â€¢åœ¨è¯»é”æ²¡æœ‰é‡Šæ”¾çš„æ—¶å€™ï¼Œè·å–åˆ°å†™é”ï¼Œå†é‡Šæ”¾è¯»é”</p>
</blockquote>
<h4 id="çº¿ç¨‹å®‰å…¨æ€§é—®é¢˜ç®€å•æ€»ç»“"><a href="#çº¿ç¨‹å®‰å…¨æ€§é—®é¢˜ç®€å•æ€»ç»“" class="headerlink" title="çº¿ç¨‹å®‰å…¨æ€§é—®é¢˜ç®€å•æ€»ç»“"></a>çº¿ç¨‹å®‰å…¨æ€§é—®é¢˜ç®€å•æ€»ç»“</h4><ol>
<li><p>å‡ºç°çº¿ç¨‹å®‰å…¨æ€§é—®é¢˜çš„æ¡ä»¶</p>
<p>â€¢åœ¨å¤šçº¿ç¨‹çš„ç¯å¢ƒä¸‹</p>
<p>â€¢å¿…é¡»æœ‰å…±äº«èµ„æº</p>
<p>â€¢å¯¹å…±äº«èµ„æºè¿›è¡ŒéåŸå­æ€§æ“ä½œ</p>
</li>
<li><p>è§£å†³çº¿ç¨‹å®‰å…¨æ€§é—®é¢˜çš„é€”å¾„</p>
<p>â€¢synchronized ï¼ˆåå‘é”ï¼Œè½»é‡çº§é”ï¼Œé‡é‡çº§é”ï¼‰</p>
<p>â€¢volatile</p>
<p>â€¢JDKæä¾›çš„åŸå­ç±»</p>
</li>
<li><p>ä½¿ç”¨Lockï¼ˆå…±äº«é”ï¼Œæ’å®ƒé”ï¼‰</p>
</li>
<li><p>è®¤è¯†çš„â€œ*é”â€</p>
<p>â€¢åå‘é”</p>
<p>â€¢è½»é‡çº§é”</p>
<p>â€¢é‡é‡çº§é”</p>
<p>â€¢é‡å…¥é”</p>
<p>â€¢è‡ªæ—‹é”</p>
<p>â€¢å…±äº«é”</p>
<p>â€¢ç‹¬å é”</p>
<p>â€¢æ’ä»–é”</p>
<p>â€¢è¯»å†™é”</p>
<p>â€¢å…¬å¹³é”</p>
<p>â€¢éå…¬å¹³é”</p>
<p>â€¢æ­»é”</p>
<p>â€¢æ´»é”</p>
</li>
</ol>
<h3 id="åŒæ­¥å®¹å™¨ä¸å¹¶å‘å®¹å™¨"><a href="#åŒæ­¥å®¹å™¨ä¸å¹¶å‘å®¹å™¨" class="headerlink" title="åŒæ­¥å®¹å™¨ä¸å¹¶å‘å®¹å™¨"></a>åŒæ­¥å®¹å™¨ä¸å¹¶å‘å®¹å™¨</h3><ul>
<li>åŒæ­¥å®¹å™¨ï¼Œæ€§èƒ½æ¯”è¾ƒå·®<ul>
<li>Vectorï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰</li>
<li>ArrayListï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰==&gt; è½¬åŒ–æˆçº¿ç¨‹å®‰å…¨<code>Collections.synchronizedCollection(list)</code></li>
<li>Hashtable ==&gt; HashMap</li>
</ul>
</li>
<li>å¹¶å‘å®¹å™¨<ul>
<li>CopyOnWriteArrayList  </li>
<li>ConcurrentHashMap   åˆ†åŒºåŠ é” æ¥å®ç°</li>
</ul>
</li>
</ul>
<h4 id="CopyOnWriteArrayList-åŸç†å’Œä½¿ç”¨"><a href="#CopyOnWriteArrayList-åŸç†å’Œä½¿ç”¨" class="headerlink" title="CopyOnWriteArrayList åŸç†å’Œä½¿ç”¨"></a>CopyOnWriteArrayList åŸç†å’Œä½¿ç”¨</h4><blockquote>
<p>åŸç†ï¼šè¯»ä¸åŠ é”ï¼Œ å†™newä¸€ä¸ªListç”¨äºå†™ï¼Œå†™å®ŒæˆListå¤´æŒ‡é’ˆæŒ‡å‘æ–°çš„List </p>
<p>ä½¿ç”¨ï¼š æ¯æ¬¡å†™éƒ½copyä¸€ä»½ï¼Œæ•…å†™æ•°æ®é‡å¤§çš„æ—¶å€™å¯¹å†…å­˜çš„æ¶ˆè€—æ˜¯éå¸¸å¤§çš„ï¼Œè¯»æ“ä½œæ¯”è¾ƒå¤šä½¿ç”¨CopyOnWriteArrayList ï¼Œå¦‚æœè¯»å¾ˆå°‘å†™æ“ä½œå¾ˆå¤šä½¿ç”¨åŒæ­¥å®¹å™¨å¤„ç†è¿™ä»¶äº‹æ€§èƒ½ä¼šæ›´å¥½ä¸€ç‚¹</p>
</blockquote>
<h4 id="éé˜»å¡é˜Ÿåˆ—-å¹¶å‘å®¹å™¨ConcurrentLinkedQueu"><a href="#éé˜»å¡é˜Ÿåˆ—-å¹¶å‘å®¹å™¨ConcurrentLinkedQueu" class="headerlink" title="éé˜»å¡é˜Ÿåˆ—-å¹¶å‘å®¹å™¨ConcurrentLinkedQueu"></a>éé˜»å¡é˜Ÿåˆ—-å¹¶å‘å®¹å™¨ConcurrentLinkedQueu</h4><p>åŸç†ä¸ä½¿ç”¨</p>
<blockquote>
<p>å¹¶å‘å®‰å…¨çš„FIFOé“¾è¡¨çš„é˜Ÿåˆ—<br>æç¤º: size() ä¸æ˜¯çº¿ç¨‹å®‰å…¨ï¼Œå¯¼è‡´è°ƒç”¨çš„æ—¶å€™æ•°é‡ä¸å‡†ç¡®å®¹æ˜“å˜</p>
</blockquote>
<h4 id="é˜»å¡é˜Ÿåˆ—BlockingQueue"><a href="#é˜»å¡é˜Ÿåˆ—BlockingQueue" class="headerlink" title="é˜»å¡é˜Ÿåˆ—BlockingQueue"></a>é˜»å¡é˜Ÿåˆ—BlockingQueue</h4><ul>
<li>ArrayBlockingQueue</li>
</ul>
<p><img src="http://cdn.linz.tech/java-blockingqueue-2019-6-13.jpg" alt=""></p>
<p>1)ArrayBlockingQueue:è§„å®šå¤§å°çš„BlockingQueue,å…¶æ„é€ å‡½æ•°å¿…é¡»å¸¦ä¸€ä¸ªintå‚æ•°æ¥æŒ‡æ˜å…¶å¤§å°.å…¶æ‰€å«çš„å¯¹è±¡æ˜¯ä»¥FIFO(å…ˆå…¥å…ˆå‡º)é¡ºåºæ’åºçš„.</p>
<p>2)LinkedBlockingQueue:å¤§å°ä¸å®šçš„BlockingQueue,è‹¥å…¶æ„é€ å‡½æ•°å¸¦ä¸€ä¸ªè§„å®šå¤§å°çš„å‚æ•°,ç”Ÿæˆçš„BlockingQueueæœ‰å¤§å°é™åˆ¶,è‹¥ä¸å¸¦å¤§å°å‚æ•°,æ‰€ç”Ÿæˆçš„BlockingQueueçš„å¤§å°ç”±Integer.MAX_VALUEæ¥å†³å®š.å…¶æ‰€å«çš„å¯¹è±¡æ˜¯ä»¥FIFO(å…ˆå…¥å…ˆå‡º)é¡ºåºæ’åºçš„   <code>æœ‰å±Šé“¾è¡¨é˜Ÿåˆ—</code></p>
<p>3)PriorityBlockingQueue:ç±»ä¼¼äºLinkedBlockQueue,ä½†å…¶æ‰€å«å¯¹è±¡çš„æ’åºä¸æ˜¯FIFO,è€Œæ˜¯ä¾æ®å¯¹è±¡çš„è‡ªç„¶æ’åºé¡ºåºæˆ–è€…æ˜¯æ„é€ å‡½æ•°çš„Comparatorå†³å®šçš„é¡ºåº.  <code>æ— å±Šé˜Ÿåˆ—</code></p>
<p>4)SynchronousQueue:ç‰¹æ®Šçš„BlockingQueue,å¯¹å…¶çš„æ“ä½œå¿…é¡»æ˜¯æ”¾å’Œå–äº¤æ›¿å®Œæˆçš„.</p>
<h4 id="å¹¶å‘å®¹å™¨ConcurrentHashMap"><a href="#å¹¶å‘å®¹å™¨ConcurrentHashMap" class="headerlink" title="å¹¶å‘å®¹å™¨ConcurrentHashMap"></a>å¹¶å‘å®¹å™¨ConcurrentHashMap</h4><h2 id="çº¿ç¨‹æ± "><a href="#çº¿ç¨‹æ± " class="headerlink" title="çº¿ç¨‹æ± "></a>çº¿ç¨‹æ± </h2><h3 id="çº¿ç¨‹æ± æ¦‚è¿°"><a href="#çº¿ç¨‹æ± æ¦‚è¿°" class="headerlink" title="çº¿ç¨‹æ± æ¦‚è¿°"></a>çº¿ç¨‹æ± æ¦‚è¿°</h3><ul>
<li><p>ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± </p>
</li>
<li><p>ä¸ºä»€ä¹ˆä½¿ç”¨çº¿ç¨‹æ± </p>
</li>
<li><p>çº¿ç¨‹æ± çš„ä¼˜åŠ¿</p>
<ul>
<li>ç¬¬ä¸€ï¼šé™ä½èµ„æºæ¶ˆè€—ã€‚é€šè¿‡é‡å¤åˆ©ç”¨å·²åˆ›å»ºçš„çº¿ç¨‹é™ä½çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯é€ æˆçš„æ¶ˆè€—ã€‚</li>
<li>ç¬¬äºŒï¼šæé«˜å“åº”é€Ÿåº¦ã€‚å½“ä»»åŠ¡åˆ°è¾¾æ—¶ï¼Œä»»åŠ¡å¯ä»¥ä¸éœ€è¦çš„ç­‰åˆ°çº¿ç¨‹åˆ›å»ºå°±èƒ½ç«‹å³æ‰§è¡Œã€‚</li>
<li>ç¬¬ä¸‰ï¼šæé«˜çº¿ç¨‹çš„å¯ç®¡ç†æ€§ã€‚çº¿ç¨‹æ˜¯ç¨€ç¼ºèµ„æºï¼Œå¦‚æœæ— é™åˆ¶çš„åˆ›å»ºï¼Œä¸ä»…ä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œè¿˜ä¼šé™ä½ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥è¿›è¡Œç»Ÿä¸€çš„åˆ†é…ï¼Œè°ƒä¼˜å’Œç›‘æ§ã€‚ä½†æ˜¯è¦åšåˆ°åˆç†çš„åˆ©ç”¨çº¿ç¨‹æ± ï¼Œå¿…é¡»å¯¹å…¶åŸç†äº†å¦‚æŒ‡æŒã€‚</li>
</ul>
</li>
</ul>
<h3 id="Executorsæä¾›å››ç§çº¿ç¨‹æ± "><a href="#Executorsæä¾›å››ç§çº¿ç¨‹æ± " class="headerlink" title="Executorsæä¾›å››ç§çº¿ç¨‹æ± "></a>Executorsæä¾›å››ç§çº¿ç¨‹æ± </h3><ul>
<li>newCachedThreadPoolåˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çº¿ç¨‹æ± ï¼Œå¦‚æœçº¿ç¨‹æ± é•¿åº¦è¶…è¿‡å¤„ç†éœ€è¦ï¼Œå¯çµæ´»å›æ”¶ç©ºé—²çº¿ç¨‹ï¼Œè‹¥æ— å¯å›æ”¶ï¼Œåˆ™æ–°å»ºçº¿ç¨‹</li>
<li>newScheduledThreadPool åˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œæ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§ä»»åŠ¡æ‰§è¡Œã€‚</li>
<li>newSingleThreadExecutor åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹åŒ–çš„çº¿ç¨‹æ± ï¼Œå®ƒåªä¼šç”¨å”¯ä¸€çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œä¿è¯æ‰€æœ‰ä»»åŠ¡æŒ‰ç…§æŒ‡å®šé¡ºåº(FIFO, LIFO, ä¼˜å…ˆçº§)æ‰§è¡Œã€‚</li>
</ul>
<h3 id="åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± å¹¶æäº¤çº¿ç¨‹ä»»åŠ¡"><a href="#åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± å¹¶æäº¤çº¿ç¨‹ä»»åŠ¡" class="headerlink" title="åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± å¹¶æäº¤çº¿ç¨‹ä»»åŠ¡"></a>åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± å¹¶æäº¤çº¿ç¨‹ä»»åŠ¡</h3><h3 id="çº¿ç¨‹æ± æºç è§£æ"><a href="#çº¿ç¨‹æ± æºç è§£æ" class="headerlink" title="çº¿ç¨‹æ± æºç è§£æ"></a>çº¿ç¨‹æ± æºç è§£æ</h3><h4 id="å‚æ•°è®¤è¯†"><a href="#å‚æ•°è®¤è¯†" class="headerlink" title="å‚æ•°è®¤è¯†"></a>å‚æ•°è®¤è¯†</h4><ol>
<li><p>corePoolSize : çº¿ç¨‹æ± çš„åŸºæœ¬å¤§å°ï¼Œå½“æäº¤ä¸€ä¸ªä»»åŠ¡åˆ°çº¿ç¨‹æ± æ—¶ï¼Œçº¿ç¨‹æ± ä¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œå³ä½¿å…¶ä»–ç©ºé—²çš„åŸºæœ¬çº¿ç¨‹èƒ½å¤Ÿæ‰§è¡Œæ–°ä»»åŠ¡ä¹Ÿä¼šåˆ›å»ºçº¿ç¨‹ï¼Œç­‰åˆ°éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡æ•°å¤§äºçº¿ç¨‹æ± åŸºæœ¬å¤§å°æ—¶å°±ä¸å†åˆ›å»ºã€‚å¦‚æœè°ƒç”¨äº†çº¿ç¨‹æ± çš„prestartAllCoreThreadsæ–¹æ³•ï¼Œçº¿ç¨‹æ± ä¼šæå‰åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰åŸºæœ¬çº¿ç¨‹ã€‚</p>
</li>
<li><p>runnableTaskQueueï¼šä»»åŠ¡å¯¹åˆ—ï¼Œç”¨äºä¿å­˜ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡çš„é˜»å¡é˜Ÿåˆ—ã€‚å¯ä»¥é€‰æ‹©ä»¥ä¸‹å‡ ä¸ªé˜»å¡é˜Ÿåˆ—ã€‚</p>
</li>
</ol>
<ul>
<li><p>ArrayBlockingQueueï¼šæ˜¯ä¸€ä¸ªåŸºäºæ•°ç»„ç»“æ„çš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ï¼Œæ­¤é˜Ÿåˆ—æŒ‰ FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰åŸåˆ™å¯¹å…ƒç´ è¿›è¡Œæ’åºã€‚</p>
</li>
<li><p>LinkedBlockingQueueï¼šä¸€ä¸ªåŸºäºé“¾è¡¨ç»“æ„çš„é˜»å¡é˜Ÿåˆ—ï¼Œæ­¤é˜Ÿåˆ—æŒ‰FIFO ï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ æ’åºå…ƒç´ ï¼Œååé‡é€šå¸¸è¦é«˜äºArrayBlockingQueueã€‚é™æ€å·¥å‚æ–¹æ³•Executors.newFixedThreadPool()ä½¿ç”¨äº†è¿™ä¸ªé˜Ÿåˆ—ã€‚</p>
</li>
<li><p>SynchronousQueueï¼šä¸€ä¸ªä¸å­˜å‚¨å…ƒç´ çš„é˜»å¡é˜Ÿåˆ—ã€‚æ¯ä¸ªæ’å…¥æ“ä½œå¿…é¡»ç­‰åˆ°å¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ç§»é™¤æ“ä½œï¼Œå¦åˆ™æ’å…¥æ“ä½œä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€ï¼Œååé‡é€šå¸¸è¦é«˜äºLinkedBlockingQueueï¼Œé™æ€å·¥å‚æ–¹æ³•Executors.newCachedThreadPoolä½¿ç”¨äº†è¿™ä¸ªé˜Ÿåˆ—ã€‚</p>
</li>
<li><p>PriorityBlockingQueueï¼šä¸€ä¸ªå…·æœ‰ä¼˜å…ˆçº§å¾—æ— é™é˜»å¡é˜Ÿåˆ—ã€‚</p>
</li>
</ul>
<ol start="3">
<li><p>maximumPoolSizeï¼šçº¿ç¨‹æ± æœ€å¤§å¤§å°ï¼Œçº¿ç¨‹æ± å…è®¸åˆ›å»ºçš„æœ€å¤§çº¿ç¨‹æ•°ã€‚å¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œå¹¶ä¸”å·²åˆ›å»ºçš„çº¿ç¨‹æ•°å°äºæœ€å¤§çº¿ç¨‹æ•°ï¼Œåˆ™çº¿ç¨‹æ± ä¼šå†åˆ›å»ºæ–°çš„çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯å¦‚æœä½¿ç”¨äº†æ— ç•Œçš„ä»»åŠ¡é˜Ÿåˆ—è¿™ä¸ªå‚æ•°å°±æ²¡ä»€ä¹ˆæ•ˆæœã€‚</p>
</li>
<li><p>ThreadFactoryï¼šç”¨äºè®¾ç½®åˆ›å»ºçº¿ç¨‹çš„å·¥å‚ï¼Œå¯ä»¥é€šè¿‡çº¿ç¨‹å·¥å‚ç»™æ¯ä¸ªåˆ›å»ºå‡ºæ¥çš„çº¿ç¨‹è®¾ç½®æ›´æœ‰æ„ä¹‰çš„åå­—ï¼ŒDebugå’Œå®šä½é—®é¢˜æ—¶éå¸¸åˆå¸®åŠ©ã€‚</p>
</li>
<li><p>RejectedExecutionHandlerï¼ˆé¥±å’Œç­–ç•¥ï¼‰ï¼šå½“é˜Ÿåˆ—å’Œçº¿ç¨‹æ± éƒ½æ»¡äº†ï¼Œè¯´æ˜çº¿ç¨‹æ± å¤„äºé¥±å’ŒçŠ¶æ€ï¼Œé‚£ä¹ˆå¿…é¡»é‡‡å–ä¸€ç§ç­–ç•¥å¤„ç†æäº¤çš„æ–°ä»»åŠ¡ã€‚è¿™ä¸ªç­–ç•¥é»˜è®¤æƒ…å†µä¸‹æ˜¯AbortPolicyï¼Œè¡¨ç¤ºæ— æ³•å¤„ç†æ–°ä»»åŠ¡æ—¶æŠ›å‡ºå¼‚å¸¸ã€‚</p>
</li>
</ol>
<ul>
<li><p>CallerRunsPolicyï¼šåªç”¨è°ƒç”¨è€…æ‰€åœ¨çº¿ç¨‹æ¥è¿è¡Œä»»åŠ¡ã€‚</p>
</li>
<li><p>DiscardOldestPolicyï¼šä¸¢å¼ƒé˜Ÿåˆ—é‡Œæœ€è¿‘çš„ä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶æ‰§è¡Œå½“å‰ä»»åŠ¡ã€‚</p>
</li>
<li><p>DiscardPolicyï¼šä¸å¤„ç†ï¼Œä¸¢å¼ƒæ‰ã€‚</p>
</li>
<li><p>å½“ç„¶ä¹Ÿå¯ä»¥æ ¹æ®åº”ç”¨åœºæ™¯éœ€è¦æ¥å®ç°RejectedExecutionHandleræ¥å£è‡ªå®šä¹‰ç­–ç•¥ã€‚å¦‚è®°å½•æ—¥å¿—æˆ–æŒä¹…åŒ–ä¸èƒ½å¤„ç†çš„ä»»åŠ¡ã€‚</p>
</li>
</ul>
<ol start="6">
<li><p>keepAliveTime ï¼šçº¿ç¨‹æ´»åŠ¨ä¿æŒæ—¶é—´ï¼Œçº¿ç¨‹æ± çš„å·¥ä½œçº¿ç¨‹ç©ºé—²åï¼Œä¿æŒå­˜æ´»çš„æ—¶é—´ã€‚æ‰€ä»¥å¦‚æœä»»åŠ¡å¾ˆå¤šï¼Œå¹¶ä¸”æ¯ä¸ªä»»åŠ¡æ‰§è¡Œçš„æ—¶é—´æ¯”è¾ƒçŸ­ï¼Œå¯ä»¥è°ƒå¤§è¿™ä¸ªæ—¶é—´ï¼Œæé«˜çº¿ç¨‹çš„åˆ©ç”¨ç‡ã€‚</p>
</li>
<li><p>TimeUnitï¼šçº¿ç¨‹æ´»åŠ¨ä¿æŒæ—¶é—´çš„å•ä½ï¼Œå¯é€‰çš„å•ä½æœ‰å¤©ï¼ˆDAYSï¼‰ï¼Œå°æ—¶ï¼ˆHOURSï¼‰ï¼Œåˆ†é’Ÿï¼ˆMINUTESï¼‰ï¼Œæ¯«ç§’(MILLISECONDS)ï¼Œå¾®ç§’(MICROSECONDS, åƒåˆ†ä¹‹ä¸€æ¯«ç§’)å’Œæ¯«å¾®ç§’(NANOSECONDS, åƒåˆ†ä¹‹ä¸€å¾®ç§’)ã€‚</p>
</li>
<li><p>ç±»ä¸­å…¶ä»–å±æ€§</p>
</li>
</ol>
<pre class="line-numbers language-java"><code class="language-java">
    <span class="token comment" spellcheck="true">// çº¿ç¨‹æ± çš„æ§åˆ¶çŠ¶æ€:ç”¨æ¥è¡¨ç¤ºçº¿ç¨‹æ± çš„è¿è¡ŒçŠ¶æ€ï¼ˆæ•´å‹çš„é«˜3ä½ï¼‰å’Œè¿è¡Œçš„workeræ•°é‡ï¼ˆä½29ä½ï¼‰</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> AtomicInteger ctl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AtomicInteger</span><span class="token punctuation">(</span><span class="token function">ctlOf</span><span class="token punctuation">(</span>RUNNING<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 29ä½çš„åç§»é‡</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> COUNT_BITS <span class="token operator">=</span> Integer<span class="token punctuation">.</span>SIZE <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// æœ€å¤§å®¹é‡ï¼ˆ2^29 - 1ï¼‰</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> CAPACITY   <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> COUNT_BITS<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// runState is stored in the high-order bits</span>
    <span class="token comment" spellcheck="true">// çº¿ç¨‹è¿è¡ŒçŠ¶æ€ï¼Œæ€»å…±æœ‰5ä¸ªçŠ¶æ€ï¼Œéœ€è¦3ä½æ¥è¡¨ç¤ºï¼ˆæ‰€ä»¥åç§»é‡çš„29 = 32 - 3ï¼‰</span>
   <span class="token comment" spellcheck="true">/**
    * RUNNING    :    æ¥å—æ–°ä»»åŠ¡å¹¶ä¸”å¤„ç†å·²ç»è¿›å…¥é˜»å¡é˜Ÿåˆ—çš„ä»»åŠ¡
    * SHUTDOWN    ï¼š    ä¸æ¥å—æ–°ä»»åŠ¡ï¼Œä½†æ˜¯å¤„ç†å·²ç»è¿›å…¥é˜»å¡é˜Ÿåˆ—çš„ä»»åŠ¡
    * STOP        :    ä¸æ¥å—æ–°ä»»åŠ¡ï¼Œä¸å¤„ç†å·²ç»è¿›å…¥é˜»å¡é˜Ÿåˆ—çš„ä»»åŠ¡å¹¶ä¸”ä¸­æ–­æ­£åœ¨è¿è¡Œçš„ä»»åŠ¡
    * TIDYING    :    æ‰€æœ‰çš„ä»»åŠ¡éƒ½å·²ç»ç»ˆæ­¢ï¼ŒworkerCountä¸º0ï¼Œ çº¿ç¨‹è½¬åŒ–ä¸ºTIDYINGçŠ¶æ€å¹¶ä¸”è°ƒç”¨terminatedé’©å­å‡½æ•°
    * TERMINATED:    terminatedé’©å­å‡½æ•°å·²ç»è¿è¡Œå®Œæˆ
    **/</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> RUNNING    <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> COUNT_BITS<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SHUTDOWN   <span class="token operator">=</span>  <span class="token number">0</span> <span class="token operator">&lt;&lt;</span> COUNT_BITS<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> STOP       <span class="token operator">=</span>  <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> COUNT_BITS<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TIDYING    <span class="token operator">=</span>  <span class="token number">2</span> <span class="token operator">&lt;&lt;</span> COUNT_BITS<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TERMINATED <span class="token operator">=</span>  <span class="token number">3</span> <span class="token operator">&lt;&lt;</span> COUNT_BITS<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// é˜»å¡é˜Ÿåˆ—</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> BlockingQueue<span class="token operator">&lt;</span>Runnable<span class="token operator">></span> workQueue<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// å¯é‡å…¥é”</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> ReentrantLock mainLock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReentrantLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// å­˜æ”¾å·¥ä½œçº¿ç¨‹é›†åˆ</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> HashSet<span class="token operator">&lt;</span>Worker<span class="token operator">></span> workers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span>Worker<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// ç»ˆæ­¢æ¡ä»¶</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> Condition termination <span class="token operator">=</span> mainLock<span class="token punctuation">.</span><span class="token function">newCondition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// æœ€å¤§çº¿ç¨‹æ± å®¹é‡</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> largestPoolSize<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// å·²å®Œæˆä»»åŠ¡æ•°é‡</span>
    <span class="token keyword">private</span> <span class="token keyword">long</span> completedTaskCount<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// çº¿ç¨‹å·¥å‚</span>
    <span class="token keyword">private</span> <span class="token keyword">volatile</span> ThreadFactory threadFactory<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// æ‹’ç»æ‰§è¡Œå¤„ç†å™¨</span>
    <span class="token keyword">private</span> <span class="token keyword">volatile</span> RejectedExecutionHandler handler<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// çº¿ç¨‹ç­‰å¾…è¿è¡Œæ—¶é—´</span>
    <span class="token keyword">private</span> <span class="token keyword">volatile</span> <span class="token keyword">long</span> keepAliveTime<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// æ˜¯å¦è¿è¡Œæ ¸å¿ƒçº¿ç¨‹è¶…æ—¶</span>
    <span class="token keyword">private</span> <span class="token keyword">volatile</span> <span class="token keyword">boolean</span> allowCoreThreadTimeOut<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// æ ¸å¿ƒæ± çš„å¤§å°</span>
    <span class="token keyword">private</span> <span class="token keyword">volatile</span> <span class="token keyword">int</span> corePoolSize<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// æœ€å¤§çº¿ç¨‹æ± å¤§å°</span>
    <span class="token keyword">private</span> <span class="token keyword">volatile</span> <span class="token keyword">int</span> maximumPoolSize<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// é»˜è®¤æ‹’ç»æ‰§è¡Œå¤„ç†å™¨</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> RejectedExecutionHandler defaultHandler <span class="token operator">=</span>
        <span class="token keyword">new</span> <span class="token class-name">AbortPolicy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="æ„é€ æ–¹æ³•"><a href="#æ„é€ æ–¹æ³•" class="headerlink" title="æ„é€ æ–¹æ³•"></a>æ„é€ æ–¹æ³•</h4><pre class="line-numbers language-java"><code class="language-java">    <span class="token keyword">public</span> <span class="token function">ThreadPoolExecutor</span><span class="token punctuation">(</span><span class="token keyword">int</span> corePoolSize<span class="token punctuation">,</span>
                              <span class="token keyword">int</span> maximumPoolSize<span class="token punctuation">,</span>
                              <span class="token keyword">long</span> keepAliveTime<span class="token punctuation">,</span>
                              TimeUnit unit<span class="token punctuation">,</span>
                              BlockingQueue<span class="token operator">&lt;</span>Runnable<span class="token operator">></span> workQueue<span class="token punctuation">,</span>
                              ThreadFactory threadFactory<span class="token punctuation">,</span>
                              RejectedExecutionHandler handler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>corePoolSize <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span>                                                <span class="token comment" spellcheck="true">// æ ¸å¿ƒå¤§å°ä¸èƒ½å°äº0</span>
            maximumPoolSize <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">||</span>                                            <span class="token comment" spellcheck="true">// çº¿ç¨‹æ± çš„åˆå§‹æœ€å¤§å®¹é‡ä¸èƒ½å°äº0</span>
            maximumPoolSize <span class="token operator">&lt;</span> corePoolSize <span class="token operator">||</span>                                <span class="token comment" spellcheck="true">// åˆå§‹æœ€å¤§å®¹é‡ä¸èƒ½å°äºæ ¸å¿ƒå¤§å°</span>
            keepAliveTime <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>                                                <span class="token comment" spellcheck="true">// keepAliveTimeä¸èƒ½å°äº0</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                
        <span class="token keyword">if</span> <span class="token punctuation">(</span>workQueue <span class="token operator">==</span> null <span class="token operator">||</span> threadFactory <span class="token operator">==</span> null <span class="token operator">||</span> handler <span class="token operator">==</span> null<span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// åˆå§‹åŒ–ç›¸åº”çš„åŸŸ</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>corePoolSize <span class="token operator">=</span> corePoolSize<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>maximumPoolSize <span class="token operator">=</span> maximumPoolSize<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>workQueue <span class="token operator">=</span> workQueue<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>keepAliveTime <span class="token operator">=</span> unit<span class="token punctuation">.</span><span class="token function">toNanos</span><span class="token punctuation">(</span>keepAliveTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>threadFactory <span class="token operator">=</span> threadFactory<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>handler <span class="token operator">=</span> handler<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="æäº¤ä»»åŠ¡"><a href="#æäº¤ä»»åŠ¡" class="headerlink" title="æäº¤ä»»åŠ¡"></a>æäº¤ä»»åŠ¡</h5><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/*
* è¿›è¡Œä¸‹é¢ä¸‰æ­¥
*
* 1. å¦‚æœè¿è¡Œçš„çº¿ç¨‹å°äºcorePoolSize,åˆ™å°è¯•ä½¿ç”¨ç”¨æˆ·å®šä¹‰çš„Runnalbeå¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹
*     è°ƒç”¨addWorkerå‡½æ•°ä¼šåŸå­æ€§çš„æ£€æŸ¥runStateå’ŒworkCountï¼Œé€šè¿‡è¿”å›falseæ¥é˜²æ­¢åœ¨ä¸åº”
*     è¯¥æ·»åŠ çº¿ç¨‹æ—¶æ·»åŠ äº†çº¿ç¨‹
* 2. å¦‚æœä¸€ä¸ªä»»åŠ¡èƒ½å¤ŸæˆåŠŸå…¥é˜Ÿåˆ—ï¼Œåœ¨æ·»åŠ ä¸€ä¸ªçº¿åŸæ—¶ä»éœ€è¦è¿›è¡ŒåŒé‡æ£€æŸ¥ï¼ˆå› ä¸ºåœ¨å‰ä¸€æ¬¡æ£€æŸ¥å
*     è¯¥çº¿ç¨‹æ­»äº¡äº†ï¼‰ï¼Œæˆ–è€…å½“è¿›å…¥åˆ°æ­¤æ–¹æ³•æ—¶ï¼Œçº¿ç¨‹æ± å·²ç»shutdownäº†ï¼Œæ‰€ä»¥éœ€è¦å†æ¬¡æ£€æŸ¥çŠ¶æ€ï¼Œ
*    è‹¥æœ‰å¿…è¦ï¼Œå½“åœæ­¢æ—¶è¿˜éœ€è¦å›æ»šå…¥é˜Ÿåˆ—æ“ä½œï¼Œæˆ–è€…å½“çº¿ç¨‹æ± æ²¡æœ‰çº¿ç¨‹æ—¶éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹
* 3. å¦‚æœæ— æ³•å…¥é˜Ÿåˆ—ï¼Œé‚£ä¹ˆéœ€è¦å¢åŠ ä¸€ä¸ªæ–°çº¿ç¨‹ï¼Œå¦‚æœæ­¤æ“ä½œå¤±è´¥ï¼Œé‚£ä¹ˆå°±æ„å‘³ç€çº¿ç¨‹æ± å·²ç»shut
*     downæˆ–è€…å·²ç»é¥±å’Œäº†ï¼Œæ‰€ä»¥æ‹’ç»ä»»åŠ¡
*/</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span>Runnable command<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">==</span> null<span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// è·å–çº¿ç¨‹æ± æ§åˆ¶çŠ¶æ€</span>
    <span class="token keyword">int</span> c <span class="token operator">=</span> ctl<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">workerCountOf</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">&lt;</span> corePoolSize<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// workeræ•°é‡å°äºcorePoolSize</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">addWorker</span><span class="token punctuation">(</span>command<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// æ·»åŠ worker</span>
            <span class="token comment" spellcheck="true">// æˆåŠŸåˆ™è¿”å›</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// ä¸æˆåŠŸåˆ™å†æ¬¡è·å–çº¿ç¨‹æ± æ§åˆ¶çŠ¶æ€</span>
        c <span class="token operator">=</span> ctl<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">// çº¿ç¨‹æ± å¤„äºRUNNINGçŠ¶æ€ï¼Œå°†ç”¨æˆ·è‡ªå®šä¹‰çš„Runnableå¯¹è±¡æ·»åŠ è¿›workQueueé˜Ÿåˆ—</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isRunning</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> workQueue<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token comment" spellcheck="true">// å†æ¬¡æ£€æŸ¥ï¼Œè·å–çº¿ç¨‹æ± æ§åˆ¶çŠ¶æ€</span>
        <span class="token keyword">int</span> recheck <span class="token operator">=</span> ctl<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// çº¿ç¨‹æ± ä¸å¤„äºRUNNINGçŠ¶æ€ï¼Œå°†è‡ªå®šä¹‰ä»»åŠ¡ä»workQueueé˜Ÿåˆ—ä¸­ç§»é™¤</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token function">isRunning</span><span class="token punctuation">(</span>recheck<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">remove</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">)</span> 
            <span class="token comment" spellcheck="true">// æ‹’ç»æ‰§è¡Œå‘½ä»¤</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">workerCountOf</span><span class="token punctuation">(</span>recheck<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// workeræ•°é‡ç­‰äº0</span>
            <span class="token comment" spellcheck="true">// æ·»åŠ worker</span>
            <span class="token function">addWorker</span><span class="token punctuation">(</span>null<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">addWorker</span><span class="token punctuation">(</span>command<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// æ·»åŠ workerå¤±è´¥</span>
        <span class="token comment" spellcheck="true">// æ‹’ç»æ‰§è¡Œå‘½ä»¤</span>
        <span class="token function">reject</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="addWorker"><a href="#addWorker" class="headerlink" title="addWorker"></a>addWorker</h5><ol>
<li><p>åŸå­æ€§çš„å¢åŠ workerCountã€‚</p>
</li>
<li><p>å°†ç”¨æˆ·ç»™å®šçš„ä»»åŠ¡å°è£…æˆä¸ºä¸€ä¸ªworkerï¼Œå¹¶å°†æ­¤workeræ·»åŠ è¿›workersé›†åˆä¸­ã€‚</p>
</li>
<li><p>å¯åŠ¨workerå¯¹åº”çš„çº¿ç¨‹ï¼Œå¹¶å¯åŠ¨è¯¥çº¿ç¨‹ï¼Œè¿è¡Œworkerçš„runæ–¹æ³•ã€‚</p>
</li>
<li><p>å›æ»šworkerçš„åˆ›å»ºåŠ¨ä½œï¼Œå³å°†workerä»workersé›†åˆä¸­åˆ é™¤ï¼Œå¹¶åŸå­æ€§çš„å‡å°‘workerCountã€‚</p>
</li>
</ol>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">addWorker</span><span class="token punctuation">(</span>Runnable firstTask<span class="token punctuation">,</span> <span class="token keyword">boolean</span> core<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    retry<span class="token operator">:</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// å¤–å±‚æ— é™å¾ªç¯</span>
        <span class="token comment" spellcheck="true">// è·å–çº¿ç¨‹æ± æ§åˆ¶çŠ¶æ€</span>
        <span class="token keyword">int</span> c <span class="token operator">=</span> ctl<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// è·å–çŠ¶æ€</span>
        <span class="token keyword">int</span> rs <span class="token operator">=</span> <span class="token function">runStateOf</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// Check if queue empty only if necessary.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>rs <span class="token operator">>=</span> SHUTDOWN <span class="token operator">&amp;&amp;</span>            <span class="token comment" spellcheck="true">// çŠ¶æ€å¤§äºç­‰äºSHUTDOWNï¼Œåˆå§‹çš„ctlä¸ºRUNNINGï¼Œå°äºSHUTDOWN</span>
            <span class="token operator">!</span> <span class="token punctuation">(</span>rs <span class="token operator">==</span> SHUTDOWN <span class="token operator">&amp;&amp;</span>        <span class="token comment" spellcheck="true">// çŠ¶æ€ä¸ºSHUTDOWN</span>
               firstTask <span class="token operator">==</span> null <span class="token operator">&amp;&amp;</span>        <span class="token comment" spellcheck="true">// ç¬¬ä¸€ä¸ªä»»åŠ¡ä¸ºnull</span>
               <span class="token operator">!</span> workQueue<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true">// workeré˜Ÿåˆ—ä¸ä¸ºç©º</span>
            <span class="token comment" spellcheck="true">// è¿”å›</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// workeræ•°é‡</span>
            <span class="token keyword">int</span> wc <span class="token operator">=</span> <span class="token function">workerCountOf</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>wc <span class="token operator">>=</span> CAPACITY <span class="token operator">||</span>                                <span class="token comment" spellcheck="true">// workeræ•°é‡å¤§äºç­‰äºæœ€å¤§å®¹é‡</span>
                wc <span class="token operator">>=</span> <span class="token punctuation">(</span>core <span class="token operator">?</span> corePoolSize <span class="token operator">:</span> maximumPoolSize<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">// workeræ•°é‡å¤§äºç­‰äºæ ¸å¿ƒçº¿ç¨‹æ± å¤§å°æˆ–è€…æœ€å¤§çº¿ç¨‹æ± å¤§å°</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">compareAndIncrementWorkerCount</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>                 <span class="token comment" spellcheck="true">// æ¯”è¾ƒå¹¶å¢åŠ workerçš„æ•°é‡</span>
                <span class="token comment" spellcheck="true">// è·³å‡ºå¤–å±‚å¾ªç¯</span>
                <span class="token keyword">break</span> retry<span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// è·å–çº¿ç¨‹æ± æ§åˆ¶çŠ¶æ€</span>
            c <span class="token operator">=</span> ctl<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// Re-read ctl</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">runStateOf</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">!=</span> rs<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// æ­¤æ¬¡çš„çŠ¶æ€ä¸ä¸Šæ¬¡è·å–çš„çŠ¶æ€ä¸ç›¸åŒ</span>
                <span class="token comment" spellcheck="true">// è·³è¿‡å‰©ä½™éƒ¨åˆ†ï¼Œç»§ç»­å¾ªç¯</span>
                <span class="token keyword">continue</span> retry<span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// else CAS failed due to workerCount change; retry inner loop</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// workerå¼€å§‹æ ‡è¯†</span>
    <span class="token keyword">boolean</span> workerStarted <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// workerè¢«æ·»åŠ æ ‡è¯†</span>
    <span class="token keyword">boolean</span> workerAdded <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// </span>
    Worker w <span class="token operator">=</span> null<span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// åˆå§‹åŒ–worker</span>
        w <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span>firstTask<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// è·å–workerå¯¹åº”çš„çº¿ç¨‹</span>
        <span class="token keyword">final</span> Thread t <span class="token operator">=</span> w<span class="token punctuation">.</span>thread<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// çº¿ç¨‹ä¸ä¸ºnull</span>
            <span class="token comment" spellcheck="true">// çº¿ç¨‹æ± é”</span>
            <span class="token keyword">final</span> ReentrantLock mainLock <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mainLock<span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// è·å–é”</span>
            mainLock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// Recheck while holding lock.</span>
                <span class="token comment" spellcheck="true">// Back out on ThreadFactory failure or if</span>
                <span class="token comment" spellcheck="true">// shut down before lock acquired.</span>
                <span class="token comment" spellcheck="true">// çº¿ç¨‹æ± çš„è¿è¡ŒçŠ¶æ€</span>
                <span class="token keyword">int</span> rs <span class="token operator">=</span> <span class="token function">runStateOf</span><span class="token punctuation">(</span>ctl<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>rs <span class="token operator">&lt;</span> SHUTDOWN <span class="token operator">||</span>                                    <span class="token comment" spellcheck="true">// å°äºSHUTDOWN</span>
                    <span class="token punctuation">(</span>rs <span class="token operator">==</span> SHUTDOWN <span class="token operator">&amp;&amp;</span> firstTask <span class="token operator">==</span> null<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// ç­‰äºSHUTDOWNå¹¶ä¸”firstTaskä¸ºnull</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">isAlive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// precheck that t is startable    // çº¿ç¨‹åˆšæ·»åŠ è¿›æ¥ï¼Œè¿˜æœªå¯åŠ¨å°±å­˜æ´»</span>
                        <span class="token comment" spellcheck="true">// æŠ›å‡ºçº¿ç¨‹çŠ¶æ€å¼‚å¸¸</span>
                        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalThreadStateException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// å°†workeræ·»åŠ åˆ°workeré›†åˆ</span>
                    workers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// è·å–workeré›†åˆçš„å¤§å°</span>
                    <span class="token keyword">int</span> s <span class="token operator">=</span> workers<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">></span> largestPoolSize<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// é˜Ÿåˆ—å¤§å°å¤§äºlargestPoolSize</span>
                        <span class="token comment" spellcheck="true">// é‡æ–°è®¾ç½®largestPoolSize</span>
                        largestPoolSize <span class="token operator">=</span> s<span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// è®¾ç½®workerå·²è¢«æ·»åŠ æ ‡è¯†</span>
                    workerAdded <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// é‡Šæ”¾é”</span>
                mainLock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>workerAdded<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// workerè¢«æ·»åŠ </span>
                <span class="token comment" spellcheck="true">// å¼€å§‹æ‰§è¡Œworkerçš„runæ–¹æ³•</span>
                t<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">// è®¾ç½®workerå·²å¼€å§‹æ ‡è¯†</span>
                workerStarted <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> workerStarted<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// workeræ²¡æœ‰å¼€å§‹</span>
            <span class="token comment" spellcheck="true">// æ·»åŠ workerå¤±è´¥</span>
            <span class="token function">addWorkerFailed</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> workerStarted<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="æ‰§è¡Œä»»åŠ¡"><a href="#æ‰§è¡Œä»»åŠ¡" class="headerlink" title="æ‰§è¡Œä»»åŠ¡"></a>æ‰§è¡Œä»»åŠ¡</h4><p>runWorkerå‡½æ•°ä¸­ä¼šå®é™…æ‰§è¡Œç»™å®šä»»åŠ¡ï¼ˆå³è°ƒç”¨ç”¨æˆ·é‡å†™çš„runæ–¹æ³•ï¼‰ï¼Œå¹¶ä¸”å½“ç»™å®šä»»åŠ¡å®Œæˆåï¼Œä¼šç»§ç»­ä»é˜»å¡é˜Ÿåˆ—ä¸­å–ä»»åŠ¡ï¼Œç›´åˆ°é˜»å¡é˜Ÿåˆ—ä¸ºç©ºï¼ˆå³ä»»åŠ¡å…¨éƒ¨å®Œæˆï¼‰ã€‚åœ¨æ‰§è¡Œç»™å®šä»»åŠ¡æ—¶ï¼Œä¼šè°ƒç”¨é’©å­å‡½æ•°ï¼Œåˆ©ç”¨é’©å­å‡½æ•°å¯ä»¥å®Œæˆç”¨æˆ·è‡ªå®šä¹‰çš„ä¸€äº›é€»è¾‘ã€‚åœ¨runWorkerä¸­ä¼šè°ƒç”¨åˆ°getTaskå‡½æ•°å’ŒprocessWorkerExité’©å­å‡½æ•°</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">runWorker</span><span class="token punctuation">(</span>Worker w<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// è·å–å½“å‰çº¿ç¨‹</span>
    Thread wt <span class="token operator">=</span> Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// è·å–wçš„firstTask</span>
    Runnable task <span class="token operator">=</span> w<span class="token punctuation">.</span>firstTask<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// è®¾ç½®wçš„firstTaskä¸ºnull</span>
    w<span class="token punctuation">.</span>firstTask <span class="token operator">=</span> null<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// é‡Šæ”¾é”ï¼ˆè®¾ç½®stateä¸º0ï¼Œå…è®¸ä¸­æ–­ï¼‰</span>
    w<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// allow interrupts</span>
    <span class="token keyword">boolean</span> completedAbruptly <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>task <span class="token operator">!=</span> null <span class="token operator">||</span> <span class="token punctuation">(</span>task <span class="token operator">=</span> <span class="token function">getTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// ä»»åŠ¡ä¸ä¸ºnullæˆ–è€…é˜»å¡é˜Ÿåˆ—è¿˜å­˜åœ¨ä»»åŠ¡</span>
            <span class="token comment" spellcheck="true">// è·å–é”</span>
            w<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// If pool is stopping, ensure thread is interrupted;</span>
            <span class="token comment" spellcheck="true">// if not, ensure thread is not interrupted.  This</span>
            <span class="token comment" spellcheck="true">// requires a recheck in second case to deal with</span>
            <span class="token comment" spellcheck="true">// shutdownNow race while clearing interrupt</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">runStateAtLeast</span><span class="token punctuation">(</span>ctl<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> STOP<span class="token punctuation">)</span> <span class="token operator">||</span>    <span class="token comment" spellcheck="true">// çº¿ç¨‹æ± çš„è¿è¡ŒçŠ¶æ€è‡³å°‘åº”è¯¥é«˜äºSTOP</span>
                 <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">interrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>                <span class="token comment" spellcheck="true">// çº¿ç¨‹è¢«ä¸­æ–­</span>
                  <span class="token function">runStateAtLeast</span><span class="token punctuation">(</span>ctl<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> STOP<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>    <span class="token comment" spellcheck="true">// å†æ¬¡æ£€æŸ¥ï¼Œçº¿ç¨‹æ± çš„è¿è¡ŒçŠ¶æ€è‡³å°‘åº”è¯¥é«˜äºSTOP</span>
                <span class="token operator">!</span>wt<span class="token punctuation">.</span><span class="token function">isInterrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                    <span class="token comment" spellcheck="true">// wtçº¿ç¨‹ï¼ˆå½“å‰çº¿ç¨‹ï¼‰æ²¡æœ‰è¢«ä¸­æ–­</span>
                wt<span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment" spellcheck="true">// ä¸­æ–­wtçº¿ç¨‹ï¼ˆå½“å‰çº¿ç¨‹ï¼‰</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// åœ¨æ‰§è¡Œä¹‹å‰è°ƒç”¨é’©å­å‡½æ•°</span>
                <span class="token function">beforeExecute</span><span class="token punctuation">(</span>wt<span class="token punctuation">,</span> task<span class="token punctuation">)</span><span class="token punctuation">;</span>
                Throwable thrown <span class="token operator">=</span> null<span class="token punctuation">;</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token comment" spellcheck="true">// è¿è¡Œç»™å®šçš„ä»»åŠ¡</span>
                    task<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">RuntimeException</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    thrown <span class="token operator">=</span> x<span class="token punctuation">;</span> <span class="token keyword">throw</span> x<span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Error</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    thrown <span class="token operator">=</span> x<span class="token punctuation">;</span> <span class="token keyword">throw</span> x<span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    thrown <span class="token operator">=</span> x<span class="token punctuation">;</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
                    <span class="token comment" spellcheck="true">// æ‰§è¡Œå®Œåè°ƒç”¨é’©å­å‡½æ•°</span>
                    <span class="token function">afterExecute</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> thrown<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
                task <span class="token operator">=</span> null<span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">// å¢åŠ ç»™workerå®Œæˆçš„ä»»åŠ¡æ•°é‡</span>
                w<span class="token punctuation">.</span>completedTasks<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">// é‡Šæ”¾é”</span>
                w<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        completedAbruptly <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// å¤„ç†å®Œæˆåï¼Œè°ƒç”¨é’©å­å‡½æ•°</span>
        <span class="token function">processWorkerExit</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> completedAbruptly<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ­¤å‡½æ•°ç”¨äºä»workerQueueé˜»å¡é˜Ÿåˆ—ä¸­è·å–Runnableå¯¹è±¡ï¼Œç”±äºæ˜¯é˜»å¡é˜Ÿåˆ—ï¼Œæ‰€ä»¥æ”¯æŒæœ‰é™æ—¶é—´ç­‰å¾…ï¼ˆpollï¼‰å’Œæ— é™æ—¶é—´ç­‰å¾…ï¼ˆtakeï¼‰ã€‚åœ¨è¯¥å‡½æ•°ä¸­è¿˜ä¼šå“åº”shutDownå’Œã€shutDownNowå‡½æ•°çš„æ“ä½œï¼Œè‹¥æ£€æµ‹åˆ°çº¿ç¨‹æ± å¤„äºSHUTDOWNæˆ–STOPçŠ¶æ€ï¼Œåˆ™ä¼šè¿”å›nullï¼Œè€Œä¸å†è¿”å›é˜»å¡é˜Ÿåˆ—ä¸­çš„Runnalbeå¯¹è±¡ã€‚</p>
<pre class="line-numbers language-java"><code class="language-java">    <span class="token keyword">private</span> Runnable <span class="token function">getTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">boolean</span> timedOut <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Did the last poll() time out?</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// æ— é™å¾ªç¯ï¼Œç¡®ä¿æ“ä½œæˆåŠŸ</span>
            <span class="token comment" spellcheck="true">// è·å–çº¿ç¨‹æ± æ§åˆ¶çŠ¶æ€</span>
            <span class="token keyword">int</span> c <span class="token operator">=</span> ctl<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// è¿è¡Œçš„çŠ¶æ€</span>
            <span class="token keyword">int</span> rs <span class="token operator">=</span> <span class="token function">runStateOf</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">// Check if queue empty only if necessary.</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>rs <span class="token operator">>=</span> SHUTDOWN <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>rs <span class="token operator">>=</span> STOP <span class="token operator">||</span> workQueue<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// å¤§äºç­‰äºSHUTDOWNï¼ˆè¡¨ç¤ºè°ƒç”¨äº†shutDownï¼‰å¹¶ä¸”ï¼ˆå¤§äºç­‰äºSTOPï¼ˆè°ƒç”¨äº†shutDownNowï¼‰æˆ–è€…workeré˜»å¡é˜Ÿåˆ—ä¸ºç©ºï¼‰</span>
                <span class="token comment" spellcheck="true">// å‡å°‘workerçš„æ•°é‡</span>
                <span class="token function">decrementWorkerCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">// è¿”å›nullï¼Œä¸æ‰§è¡Œä»»åŠ¡</span>
                <span class="token keyword">return</span> null<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment" spellcheck="true">// è·å–workeræ•°é‡</span>
            <span class="token keyword">int</span> wc <span class="token operator">=</span> <span class="token function">workerCountOf</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">// Are workers subject to culling?</span>
            <span class="token keyword">boolean</span> timed <span class="token operator">=</span> allowCoreThreadTimeOut <span class="token operator">||</span> wc <span class="token operator">></span> corePoolSize<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ˜¯å¦å…è®¸coreThreadè¶…æ—¶æˆ–è€…workerCountå¤§äºæ ¸å¿ƒå¤§å°</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>wc <span class="token operator">></span> maximumPoolSize <span class="token operator">||</span> <span class="token punctuation">(</span>timed <span class="token operator">&amp;&amp;</span> timedOut<span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true">// workeræ•°é‡å¤§äºmaximumPoolSize</span>
                <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>wc <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">||</span> workQueue<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// workerCountå¤§äº1æˆ–è€…workeré˜»å¡é˜Ÿåˆ—ä¸ºç©ºï¼ˆåœ¨é˜»å¡é˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶ï¼Œéœ€è¦ä¿è¯è‡³å°‘æœ‰ä¸€ä¸ªwcï¼‰</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">compareAndDecrementWorkerCount</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token comment" spellcheck="true">// æ¯”è¾ƒå¹¶å‡å°‘workerCount</span>
                    <span class="token comment" spellcheck="true">// è¿”å›nullï¼Œä¸æ‰§è¡Œä»»åŠ¡ï¼Œè¯¥workerä¼šé€€å‡º</span>
                    <span class="token keyword">return</span> null<span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">// è·³è¿‡å‰©ä½™éƒ¨åˆ†ï¼Œç»§ç»­å¾ªç¯</span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                Runnable r <span class="token operator">=</span> timed <span class="token operator">?</span>
                    workQueue<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span>keepAliveTime<span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>NANOSECONDS<span class="token punctuation">)</span> <span class="token operator">:</span>    <span class="token comment" spellcheck="true">// ç­‰å¾…æŒ‡å®šæ—¶é—´</span>
                    workQueue<span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                        <span class="token comment" spellcheck="true">// ä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°æœ‰å…ƒç´ </span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">!=</span> null<span class="token punctuation">)</span>
                    <span class="token keyword">return</span> r<span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">// ç­‰å¾…æŒ‡å®šæ—¶é—´åï¼Œæ²¡æœ‰è·å–å…ƒç´ ï¼Œåˆ™è¶…æ—¶</span>
                timedOut <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> retry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// æŠ›å‡ºäº†è¢«ä¸­æ–­å¼‚å¸¸ï¼Œé‡è¯•ï¼Œæ²¡æœ‰è¶…æ—¶</span>
                timedOut <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>processWorkerExitå‡½æ•°æ˜¯åœ¨workeré€€å‡ºæ—¶è°ƒç”¨åˆ°çš„é’©å­å‡½æ•°ï¼Œè€Œå¼•èµ·workeré€€å‡ºçš„ä¸»è¦å› ç´ å¦‚ä¸‹</p>
<ol>
<li><p>é˜»å¡é˜Ÿåˆ—å·²ç»ä¸ºç©ºï¼Œå³æ²¡æœ‰ä»»åŠ¡å¯ä»¥è¿è¡Œäº†ã€‚</p>
</li>
<li><p>è°ƒç”¨äº†shutDownæˆ–shutDownNowå‡½æ•°</p>
</li>
</ol>
<p>æ­¤å‡½æ•°ä¼šæ ¹æ®æ˜¯å¦ä¸­æ–­äº†ç©ºé—²çº¿ç¨‹æ¥ç¡®å®šæ˜¯å¦å‡å°‘workerCountçš„å€¼ï¼Œå¹¶ä¸”å°†workerä»workersé›†åˆä¸­ç§»é™¤å¹¶ä¸”ä¼šå°è¯•ç»ˆæ­¢çº¿ç¨‹æ± ã€‚</p>
<pre class="line-numbers language-java"><code class="language-java">    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">processWorkerExit</span><span class="token punctuation">(</span>Worker w<span class="token punctuation">,</span> <span class="token keyword">boolean</span> completedAbruptly<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>completedAbruptly<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// å¦‚æœè¢«ä¸­æ–­ï¼Œåˆ™éœ€è¦å‡å°‘workCount    // If abrupt, then workerCount wasn't adjusted</span>
            <span class="token function">decrementWorkerCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// è·å–å¯é‡å…¥é”</span>
        <span class="token keyword">final</span> ReentrantLock mainLock <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mainLock<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// è·å–é”</span>
        mainLock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// å°†workerå®Œæˆçš„ä»»åŠ¡æ·»åŠ åˆ°æ€»çš„å®Œæˆä»»åŠ¡ä¸­</span>
            completedTaskCount <span class="token operator">+=</span> w<span class="token punctuation">.</span>completedTasks<span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// ä»workersé›†åˆä¸­ç§»é™¤è¯¥worker</span>
            workers<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// é‡Šæ”¾é”</span>
            mainLock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment" spellcheck="true">// å°è¯•ç»ˆæ­¢</span>
        <span class="token function">tryTerminate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// è·å–çº¿ç¨‹æ± æ§åˆ¶çŠ¶æ€</span>
        <span class="token keyword">int</span> c <span class="token operator">=</span> ctl<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">runStateLessThan</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> STOP<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// å°äºSTOPçš„è¿è¡ŒçŠ¶æ€</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>completedAbruptly<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> min <span class="token operator">=</span> allowCoreThreadTimeOut <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> corePoolSize<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>min <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span> workQueue<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// å…è®¸æ ¸å¿ƒè¶…æ—¶å¹¶ä¸”workQueueé˜»å¡é˜Ÿåˆ—ä¸ä¸ºç©º</span>
                    min <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">workerCountOf</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">>=</span> min<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// workerCountå¤§äºç­‰äºmin</span>
                    <span class="token comment" spellcheck="true">// ç›´æ¥è¿”å›</span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// replacement not needed</span>
            <span class="token punctuation">}</span>
            <span class="token comment" spellcheck="true">// æ·»åŠ worker</span>
            <span class="token function">addWorker</span><span class="token punctuation">(</span>null<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="å…³é—­çº¿ç¨‹æ± "><a href="#å…³é—­çº¿ç¨‹æ± " class="headerlink" title="å…³é—­çº¿ç¨‹æ± "></a>å…³é—­çº¿ç¨‹æ± </h4><pre class="line-numbers language-java"><code class="language-java">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> ReentrantLock mainLock <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mainLock<span class="token punctuation">;</span>
        mainLock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// æ£€æŸ¥shutdownæƒé™</span>
            <span class="token function">checkShutdownAccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// è®¾ç½®çº¿ç¨‹æ± æ§åˆ¶çŠ¶æ€ä¸ºSHUTDOWN</span>
            <span class="token function">advanceRunState</span><span class="token punctuation">(</span>SHUTDOWN<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// ä¸­æ–­ç©ºé—²worker</span>
            <span class="token function">interruptIdleWorkers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// è°ƒç”¨shutdowné’©å­å‡½æ•°</span>
            <span class="token function">onShutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// hook for ScheduledThreadPoolExecutor</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            mainLock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment" spellcheck="true">// å°è¯•ç»ˆæ­¢</span>
        <span class="token function">tryTerminate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">    <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">tryTerminate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// æ— é™å¾ªç¯ï¼Œç¡®ä¿æ“ä½œæˆåŠŸ</span>
            <span class="token comment" spellcheck="true">// è·å–çº¿ç¨‹æ± æ§åˆ¶çŠ¶æ€</span>
            <span class="token keyword">int</span> c <span class="token operator">=</span> ctl<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isRunning</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">||</span>                                            <span class="token comment" spellcheck="true">// çº¿ç¨‹æ± çš„è¿è¡ŒçŠ¶æ€ä¸ºRUNNING</span>
                <span class="token function">runStateAtLeast</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> TIDYING<span class="token punctuation">)</span> <span class="token operator">||</span>                            <span class="token comment" spellcheck="true">// çº¿ç¨‹æ± çš„è¿è¡ŒçŠ¶æ€æœ€å°è¦å¤§äºTIDYING</span>
                <span class="token punctuation">(</span><span class="token function">runStateOf</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">==</span> SHUTDOWN <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span> workQueue<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">// çº¿ç¨‹æ± çš„è¿è¡ŒçŠ¶æ€ä¸ºSHUTDOWNå¹¶ä¸”workQueueé˜Ÿåˆ—ä¸ä¸ºnull</span>
                <span class="token comment" spellcheck="true">// ä¸èƒ½ç»ˆæ­¢ï¼Œç›´æ¥è¿”å›</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">workerCountOf</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// çº¿ç¨‹æ± æ­£åœ¨è¿è¡Œçš„workeræ•°é‡ä¸ä¸º0    // Eligible to terminate</span>
                <span class="token comment" spellcheck="true">// ä»…ä»…ä¸­æ–­ä¸€ä¸ªç©ºé—²çš„worker</span>
                <span class="token function">interruptIdleWorkers</span><span class="token punctuation">(</span>ONLY_ONE<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment" spellcheck="true">// è·å–çº¿ç¨‹æ± çš„é”</span>
            <span class="token keyword">final</span> ReentrantLock mainLock <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mainLock<span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// è·å–é”</span>
            mainLock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>ctl<span class="token punctuation">.</span><span class="token function">compareAndSet</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> <span class="token function">ctlOf</span><span class="token punctuation">(</span>TIDYING<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// æ¯”è¾ƒå¹¶è®¾ç½®çº¿ç¨‹æ± æ§åˆ¶çŠ¶æ€ä¸ºTIDYING</span>
                    <span class="token keyword">try</span> <span class="token punctuation">{</span>
                        <span class="token comment" spellcheck="true">// ç»ˆæ­¢ï¼Œé’©å­å‡½æ•°</span>
                        <span class="token function">terminated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
                        <span class="token comment" spellcheck="true">// è®¾ç½®çº¿ç¨‹æ± æ§åˆ¶çŠ¶æ€ä¸ºTERMINATED</span>
                        ctl<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token function">ctlOf</span><span class="token punctuation">(</span>TERMINATED<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">// é‡Šæ”¾åœ¨terminationæ¡ä»¶ä¸Šç­‰å¾…çš„æ‰€æœ‰çº¿ç¨‹</span>
                        termination<span class="token punctuation">.</span><span class="token function">signalAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// é‡Šæ”¾é”</span>
                mainLock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment" spellcheck="true">// else retry on failed CAS</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">interruptIdleWorkers</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> onlyOne<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// çº¿ç¨‹æ± çš„é”</span>
        <span class="token keyword">final</span> ReentrantLock mainLock <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mainLock<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// è·å–é”</span>
        mainLock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>Worker w <span class="token operator">:</span> workers<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// éå†workersé˜Ÿåˆ—</span>
                <span class="token comment" spellcheck="true">// workerå¯¹åº”çš„çº¿ç¨‹</span>
                Thread t <span class="token operator">=</span> w<span class="token punctuation">.</span>thread<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>t<span class="token punctuation">.</span><span class="token function">isInterrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> w<span class="token punctuation">.</span><span class="token function">tryLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// çº¿ç¨‹æœªè¢«ä¸­æ–­å¹¶ä¸”æˆåŠŸè·å¾—é”</span>
                    <span class="token keyword">try</span> <span class="token punctuation">{</span>
                        <span class="token comment" spellcheck="true">// ä¸­æ–­çº¿ç¨‹</span>
                        t<span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SecurityException</span> ignore<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
                        <span class="token comment" spellcheck="true">// é‡Šæ”¾é”</span>
                        w<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>onlyOne<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// è‹¥åªä¸­æ–­ä¸€ä¸ªï¼Œåˆ™è·³å‡ºå¾ªç¯</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// é‡Šæ”¾é”</span>
            mainLock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><h3 id="StampedLock"><a href="#StampedLock" class="headerlink" title="StampedLock"></a>StampedLock</h3><ul>
<li>ä¹è§‚é”ï¼ˆtryOptimisticReadï¼‰ï¼Œè¯»å†™ä¸äº’æ–¥</li>
<li>æ‚²è§‚é”ï¼Œè¯»å†™äº’æ–¥</li>
</ul>
<p>æ€ä¹ˆä¿è¯è¯»å†™åŒæ­¥</p>
<p>è¯»åå‘ç°æœ‰å†™é‡æ–°è¯»å–</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token keyword">double</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span>
   <span class="token keyword">private</span> <span class="token keyword">final</span> StampedLock sl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StampedLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">void</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token keyword">double</span> deltaX<span class="token punctuation">,</span> <span class="token keyword">double</span> deltaY<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// an exclusively locked method</span>
     <span class="token keyword">long</span> stamp <span class="token operator">=</span> sl<span class="token punctuation">.</span><span class="token function">writeLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">try</span> <span class="token punctuation">{</span>
       x <span class="token operator">+=</span> deltaX<span class="token punctuation">;</span>
       y <span class="token operator">+=</span> deltaY<span class="token punctuation">;</span>
     <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
       sl<span class="token punctuation">.</span><span class="token function">unlockWrite</span><span class="token punctuation">(</span>stamp<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">//ä¸‹é¢çœ‹çœ‹ä¹è§‚è¯»é”æ¡ˆä¾‹</span>
   <span class="token keyword">double</span> <span class="token function">distanceFromOrigin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// A read-only method</span>
     <span class="token keyword">long</span> stamp <span class="token operator">=</span> sl<span class="token punctuation">.</span><span class="token function">tryOptimisticRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//è·å¾—ä¸€ä¸ªä¹è§‚è¯»é”</span>
     <span class="token keyword">double</span> currentX <span class="token operator">=</span> x<span class="token punctuation">,</span> currentY <span class="token operator">=</span> y<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//å°†ä¸¤ä¸ªå­—æ®µè¯»å…¥æœ¬åœ°å±€éƒ¨å˜é‡</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>sl<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>stamp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//æ£€æŸ¥å‘å‡ºä¹è§‚è¯»é”ååŒæ—¶æ˜¯å¦æœ‰å…¶ä»–å†™é”å‘ç”Ÿï¼Ÿ</span>
        stamp <span class="token operator">=</span> sl<span class="token punctuation">.</span><span class="token function">readLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//å¦‚æœæ²¡æœ‰ï¼Œæˆ‘ä»¬å†æ¬¡è·å¾—ä¸€ä¸ªè¯»æ‚²è§‚é”</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
          currentX <span class="token operator">=</span> x<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å°†ä¸¤ä¸ªå­—æ®µè¯»å…¥æœ¬åœ°å±€éƒ¨å˜é‡</span>
          currentY <span class="token operator">=</span> y<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å°†ä¸¤ä¸ªå­—æ®µè¯»å…¥æœ¬åœ°å±€éƒ¨å˜é‡</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
           sl<span class="token punctuation">.</span><span class="token function">unlockRead</span><span class="token punctuation">(</span>stamp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>currentX <span class="token operator">*</span> currentX <span class="token operator">+</span> currentY <span class="token operator">*</span> currentY<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//ä¸‹é¢æ˜¯æ‚²è§‚è¯»é”æ¡ˆä¾‹</span>
   <span class="token keyword">void</span> <span class="token function">moveIfAtOrigin</span><span class="token punctuation">(</span><span class="token keyword">double</span> newX<span class="token punctuation">,</span> <span class="token keyword">double</span> newY<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// upgrade</span>
     <span class="token comment" spellcheck="true">// Could instead start with optimistic, not read mode</span>
     <span class="token keyword">long</span> stamp <span class="token operator">=</span> sl<span class="token punctuation">.</span><span class="token function">readLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">try</span> <span class="token punctuation">{</span>
       <span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> <span class="token number">0.0</span> <span class="token operator">&amp;&amp;</span> y <span class="token operator">==</span> <span class="token number">0.0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//å¾ªç¯ï¼Œæ£€æŸ¥å½“å‰çŠ¶æ€æ˜¯å¦ç¬¦åˆ</span>
         <span class="token keyword">long</span> ws <span class="token operator">=</span> sl<span class="token punctuation">.</span><span class="token function">tryConvertToWriteLock</span><span class="token punctuation">(</span>stamp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//å°†è¯»é”è½¬ä¸ºå†™é”</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>ws <span class="token operator">!=</span> 0L<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//è¿™æ˜¯ç¡®è®¤è½¬ä¸ºå†™é”æ˜¯å¦æˆåŠŸ</span>
           stamp <span class="token operator">=</span> ws<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//å¦‚æœæˆåŠŸ æ›¿æ¢ç¥¨æ®</span>
           x <span class="token operator">=</span> newX<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//è¿›è¡ŒçŠ¶æ€æ”¹å˜</span>
           y <span class="token operator">=</span> newY<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//è¿›è¡ŒçŠ¶æ€æ”¹å˜</span>
           <span class="token keyword">break</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
         <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//å¦‚æœä¸èƒ½æˆåŠŸè½¬æ¢ä¸ºå†™é”</span>
           sl<span class="token punctuation">.</span><span class="token function">unlockRead</span><span class="token punctuation">(</span>stamp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//æˆ‘ä»¬æ˜¾å¼é‡Šæ”¾è¯»é”</span>
           stamp <span class="token operator">=</span> sl<span class="token punctuation">.</span><span class="token function">writeLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//æ˜¾å¼ç›´æ¥è¿›è¡Œå†™é” ç„¶åå†é€šè¿‡å¾ªç¯å†è¯•</span>
         <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
       sl<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span>stamp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//é‡Šæ”¾è¯»é”æˆ–å†™é”</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="é˜¶æ®µäºŒï¼šå¤šçº¿ç¨‹è®¾è®¡æ¨¡å¼è¯¦ç»†ä»‹ç»"><a href="#é˜¶æ®µäºŒï¼šå¤šçº¿ç¨‹è®¾è®¡æ¨¡å¼è¯¦ç»†ä»‹ç»" class="headerlink" title="é˜¶æ®µäºŒï¼šå¤šçº¿ç¨‹è®¾è®¡æ¨¡å¼è¯¦ç»†ä»‹ç»"></a>é˜¶æ®µäºŒï¼šå¤šçº¿ç¨‹è®¾è®¡æ¨¡å¼è¯¦ç»†ä»‹ç»</h1><h2 id="ä¸ƒé’Ÿå•ä¾‹æ¨¡å¼"><a href="#ä¸ƒé’Ÿå•ä¾‹æ¨¡å¼" class="headerlink" title="ä¸ƒé’Ÿå•ä¾‹æ¨¡å¼"></a>ä¸ƒé’Ÿå•ä¾‹æ¨¡å¼</h2><ol>
<li><p>é¥¿æ±‰å¼ï¼›</p>
</li>
<li><p>æ‡’æ±‰å¼ï¼›</p>
</li>
<li><p>synchronize method</p>
</li>
<li><p>synchronize block</p>
</li>
<li><p>volatile è§£å†³é‡æ’åº</p>
</li>
<li><p>Holderæ–¹å¼ ã€æ¨èã€‘</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingletonObject6</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token function">SingletonObject6</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">InstanceHolder</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// static åªæ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶ä¸¥æ ¼ä¿è¯æŒ‰ç…§é¡ºåºæ‰§è¡Œ</span>
        <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">static</span> SingletonObject6 instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SingletonObject6</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> SingletonObject6 <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> InstanceHolder<span class="token punctuation">.</span>instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>æšä¸¾</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingletonObject7</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token function">SingletonObject7</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">enum</span> Singleton <span class="token punctuation">{</span>
        INSTANCE<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">final</span> SingletonObject7 instance<span class="token punctuation">;</span>
        <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SingletonObject7</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">public</span> SingletonObject7 <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> SingletonObject7 <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Singleton<span class="token punctuation">.</span>INSTANCE<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        IntStream<span class="token punctuation">.</span><span class="token function">rangeClosed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>i <span class="token operator">-</span><span class="token operator">></span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>SingletonObject7<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h2 id="WaitSet"><a href="#WaitSet" class="headerlink" title="WaitSet"></a>WaitSet</h2><ol>
<li>æ‰€æœ‰çš„å¯¹è±¡éƒ½ä¼šæœ‰ä¸€ä¸ªwait set,ç”¨æ¥å­˜æ”¾è°ƒç”¨äº†è¯¥å¯¹è±¡waitæ–¹æ³•ä¹‹åè¿›å…¥blockçŠ¶æ€çº¿ç¨‹</li>
<li>çº¿ç¨‹è¢«notifyä¹‹åï¼Œä¸ä¸€å®šç«‹å³å¾—åˆ°æ‰§è¡Œ</li>
<li>çº¿ç¨‹ä»wait setä¸­è¢«å”¤é†’é¡ºåºä¸ä¸€å®šæ˜¯FIFO.</li>
<li>çº¿ç¨‹è¢«å”¤é†’åï¼Œå¿…é¡»é‡æ–°è·å–é”</li>
</ol>
<h2 id="volatile-æœ€å¥½çš„ä¾‹å­"><a href="#volatile-æœ€å¥½çš„ä¾‹å­" class="headerlink" title="volatile æœ€å¥½çš„ä¾‹å­"></a>volatile æœ€å¥½çš„ä¾‹å­</h2><h3 id="ç¼“å­˜ä¸ä¸€è‡´é—®é¢˜"><a href="#ç¼“å­˜ä¸ä¸€è‡´é—®é¢˜" class="headerlink" title="ç¼“å­˜ä¸ä¸€è‡´é—®é¢˜"></a>ç¼“å­˜ä¸ä¸€è‡´é—®é¢˜</h3><ol>
<li><p>å†…å­˜æ¨¡å‹ï¼Œç”±äºcpuå’Œå†…å­˜é¢‘ç‡ä¸åŒå­˜åœ¨cpu é«˜é€Ÿç¼“å­˜</p>
<p><img src="http://cdn.linz.tech/volatile-1554818576765.png" alt="volatile"></p>
</li>
<li><p>ç”±äºJavaä¼˜åŒ–ï¼Œæ£€æµ‹åˆ°çº¿ç¨‹æ²¡æœ‰å†™æ“ä½œï¼Œå°±ä¸éœ€è¦å»ä¸»çº¿ç¨‹ä¸­æ‹¿æ›´æ–°å˜é‡</p>
</li>
</ol>
<h4 id="è§£å†³ç¼“å­˜ä¸ä¸€è‡´é—®é¢˜"><a href="#è§£å†³ç¼“å­˜ä¸ä¸€è‡´é—®é¢˜" class="headerlink" title="è§£å†³ç¼“å­˜ä¸ä¸€è‡´é—®é¢˜"></a>è§£å†³ç¼“å­˜ä¸ä¸€è‡´é—®é¢˜</h4><pre class="line-numbers language-java"><code class="language-java">i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//ä¸¤ä¸ªçº¿ç¨‹åŒæ­¥æ‰§è¡Œ </span>
i<span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
cpu1 <span class="token operator">-</span><span class="token operator">></span> main memory <span class="token operator">-</span><span class="token operator">></span> i <span class="token operator">-</span><span class="token operator">></span> cache i<span class="token operator">+</span><span class="token number">1</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token function">cache</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> main <span class="token function">memory</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
cpu2 <span class="token operator">-</span><span class="token operator">></span> main memory <span class="token operator">-</span><span class="token operator">></span> i <span class="token operator">-</span><span class="token operator">></span> cache i<span class="token operator">+</span><span class="token number">1</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token function">cache</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> main <span class="token function">memory</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸¤ç§æ–¹æ¡ˆ</p>
<ol>
<li>ç»™æ•°æ®æ€»çº¿ï¼ˆæ•°æ®æ€»çº¿ï¼Œåœ°å€æ€»çº¿ï¼Œæ§åˆ¶æ€»çº¿ï¼‰åŠ é”</li>
<li>CPUé«˜é€Ÿç¼“å­˜ä¸€è‡´æ€§åè®®ï¼ˆIntel MESIï¼‰</li>
</ol>
<blockquote>
<p>æ ¸å¿ƒæ€æƒ³ï¼š</p>
<ol>
<li>å½“CPUå†™å…¥æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°è¯¥å˜é‡è¢«å…±äº«ï¼ˆå…¶ä»–CPUå­˜åœ¨è¯¥å˜é‡çš„å‰¯æœ¬ï¼‰ï¼Œä¼šå‘å‡ºä¸€ä¸ªä¿¡å·ï¼Œé€šçŸ¥å…¶ä»–CPUè¯¥å˜é‡ç¼“å­˜æ— æ•ˆï¼›</li>
<li>å…¶ä»–çš„CPUè®¿é—®è¯¥å˜é‡çš„æ—¶å€™ï¼Œé‡æ–°åˆ°ä¸»å†…å­˜ä¸­è·å–</li>
</ol>
</blockquote>
<h3 id="æŒ‡ä»¤é‡æ’-amp-happens-beforeè§„åˆ™"><a href="#æŒ‡ä»¤é‡æ’-amp-happens-beforeè§„åˆ™" class="headerlink" title="æŒ‡ä»¤é‡æ’&amp;happens-beforeè§„åˆ™"></a>æŒ‡ä»¤é‡æ’&amp;happens-beforeè§„åˆ™</h3><h3 id="ä¸‰ä¸ªé‡è¦æ¦‚å¿µ"><a href="#ä¸‰ä¸ªé‡è¦æ¦‚å¿µ" class="headerlink" title="ä¸‰ä¸ªé‡è¦æ¦‚å¿µ"></a>ä¸‰ä¸ªé‡è¦æ¦‚å¿µ</h3><p>åŸå­æ€§ï¼Œå¯è§æ€§ï¼Œæœ‰åºæ€§</p>
<ol>
<li><p>åŸå­æ€§ï¼š å¯¹åŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡è¯»å–å’Œèµ‹å€¼æ˜¯ä¿è¯åŸå­æ€§çš„ï¼Œè¦ä¹ˆæˆåŠŸï¼Œè¦ä¹ˆå¤±è´¥ï¼Œè¿™äº›æ“ä½œä¸å¯ä¸­æ–­</p>
<pre class="line-numbers language-java"><code class="language-java">a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> åŸå­æ€§
b <span class="token operator">=</span> a<span class="token punctuation">;</span> ä¸æ»¡è¶³ï¼Œ <span class="token number">1</span><span class="token punctuation">.</span> read a <span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">.</span> assign b<span class="token punctuation">;</span>
c<span class="token operator">++</span><span class="token punctuation">;</span>   ä¸æ»¡è¶³    <span class="token number">1</span><span class="token punctuation">.</span> read c<span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">.</span> add<span class="token punctuation">;</span> <span class="token number">3</span><span class="token punctuation">.</span> assign to c<span class="token punctuation">;</span>
c <span class="token operator">=</span> c<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> ä¸æ»¡è¶³ <span class="token number">1</span><span class="token punctuation">.</span> read c<span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">.</span> add<span class="token punctuation">;</span> <span class="token number">3</span><span class="token punctuation">.</span> assign to c<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>å¯è§æ€§</p>
</li>
<li><p>æœ‰åºæ€§<br><img src="http://cdn.linz.tech/%E6%9C%89%E5%BA%8F%E6%80%A7.png" alt="æœ‰åºæ€§"></p>
</li>
</ol>
<h3 id="volatile-å…³é”®å­—ä½œç”¨"><a href="#volatile-å…³é”®å­—ä½œç”¨" class="headerlink" title="volatile å…³é”®å­—ä½œç”¨"></a>volatile å…³é”®å­—ä½œç”¨</h3><ol>
<li>ä¿è¯é‡æ’åºå¾ªåºï¼›</li>
<li>å¼ºåˆ¶å¯¹ç¼“å­˜çš„ä¿®æ”¹ç«‹åˆ»æ›´æ–°åˆ°ä¸»å­˜ï¼›</li>
<li>å¦‚æœæœ‰å†™æ“ä½œï¼Œå…¶ä»–CPUä¸­çš„ç¼“å­˜å¤±æ•ˆï¼›</li>
</ol>
<h3 id="volatileå®è·µ"><a href="#volatileå®è·µ" class="headerlink" title="volatileå®è·µ"></a>volatileå®è·µ</h3><ol>
<li>volatileè¯»æ“ä½œå’Œévolatileä¸€æ ·ï¼Œå†™æ“ä½œå¼€é”€æ¯”è¯»å¤šå¾—å¤šï¼Œä½†æ˜¯volatile çš„æ€»å¼€é”€ä»ç„¶è¦æ¯”é”è·å–ä½<br>==&gt; å¦‚æœè¯»æ“ä½œçš„æ¬¡æ•°è¦è¿œè¿œè¶…è¿‡å†™æ“ä½œï¼Œä¸é”ç›¸æ¯”ï¼Œvolatile å˜é‡é€šå¸¸èƒ½å¤Ÿå‡å°‘åŒæ­¥çš„æ€§èƒ½å¼€é”€ã€‚</li>
</ol>
<h3 id="å‚è€ƒ-1"><a href="#å‚è€ƒ-1" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ol>
<li><a href="https://blog.csdn.net/vernonzheng/article/details/8201744" target="_blank" rel="noopener">Javaå¤šçº¿ç¨‹ï¼ˆä¸€ï¼‰ä¹‹volatileæ·±å…¥åˆ†æ</a></li>
<li><a href="https://www.ibm.com/developerworks/cn/java/j-jtp06197.html" target="_blank" rel="noopener">æ­£ç¡®ä½¿ç”¨ Volatile å˜é‡ ã€é‡ç‚¹ã€‘</a> EverNoteæœ‰ç¬”è®°</li>
</ol>
<h2 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h2><pre class="line-numbers language-java"><code class="language-java">design_pattern<span class="token operator">/</span>ObserverClient<span class="token punctuation">.</span>java<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="ä¸€ä¸ªäººé€šè¿‡"><a href="#ä¸€ä¸ªäººé€šè¿‡" class="headerlink" title="ä¸€ä¸ªäººé€šè¿‡"></a>ä¸€ä¸ªäººé€šè¿‡</h2><blockquote>
<p>å…±äº«èµ„æº</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java">design_pattern<span class="token operator">/</span>gate<span class="token punctuation">.</span>java<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="è¯»å†™é”åˆ†ç¦»"><a href="#è¯»å†™é”åˆ†ç¦»" class="headerlink" title="è¯»å†™é”åˆ†ç¦»"></a>è¯»å†™é”åˆ†ç¦»</h2><pre class="line-numbers language-java"><code class="language-java">design_pattern<span class="token operator">/</span>chapter03_readwrite_lock<span class="token operator">/</span>ReaderWorker<span class="token punctuation">.</span>java<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="ä¸å¯å˜ç±»-Immutable"><a href="#ä¸å¯å˜ç±»-Immutable" class="headerlink" title="ä¸å¯å˜ç±» Immutable"></a>ä¸å¯å˜ç±» Immutable</h2><p>chapter 07</p>
<blockquote>
<p>ä½œç”¨ï¼š å¤šçº¿ä¸ç”¨åŠ é”ï¼Œæé«˜ç¨‹æ•ˆç‡</p>
</blockquote>
<p>ç®€å•çš„ä¸å¯å˜æ“ä½œ</p>
<ol>
<li>è¿”å›Listç”¨<code>Collections.unmodifiableList(list)</code></li>
<li>è¿”å›å¯¹è±¡ç”¨clone</li>
</ol>
<h2 id="Future-Design-Pattern"><a href="#Future-Design-Pattern" class="headerlink" title="Future Design Pattern"></a>Future Design Pattern</h2><blockquote>
<p>è®¾è®¡é€»è¾‘ï¼š åœ¨ä¸å µå¡ä¸»çº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œä¸»çº¿ç¨‹åšå…¶ä»–çš„äº‹æƒ…ï¼Œç„¶ååœ¨å»å–ç»“æœ</p>
</blockquote>
<p>chapter08</p>
<pre class="line-numbers language-java"><code class="language-java">Future        <span class="token operator">-</span><span class="token operator">></span>ä»£è¡¨çš„æ˜¯æœªæ¥çš„ä¸€ä¸ªå‡­æ®
FutureTask    <span class="token operator">-</span><span class="token operator">></span>å°†ä½ çš„è°ƒç”¨é€»è¾‘è¿›è¡Œäº†éš”ç¦»
FutureService <span class="token operator">-</span><span class="token operator">></span>æ¡¥æ¥ Futureå’Œ FutureTask<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="Guarded-Suspension-design-pattern"><a href="#Guarded-Suspension-design-pattern" class="headerlink" title="Guarded Suspension design pattern"></a>Guarded Suspension design pattern</h2><blockquote>
<p>chapter09</p>
</blockquote>
<h3 id="å®é™…ç”Ÿæ´»ä¸­çš„ä¾‹å­"><a href="#å®é™…ç”Ÿæ´»ä¸­çš„ä¾‹å­" class="headerlink" title="å®é™…ç”Ÿæ´»ä¸­çš„ä¾‹å­"></a>å®é™…ç”Ÿæ´»ä¸­çš„ä¾‹å­</h3><p>ç­‰æˆ‘ä¸€ä¸‹ï¼Œæˆ‘ä¸€ä¼šå°±æ¥ ==&gt; ä»»åŠ¡å¤ªå¤šï¼ŒæŠŠä»»åŠ¡ç¼“å­˜åˆ°é˜Ÿåˆ—ä¸­ï¼Œåé¢åœ¨å¤„ç†</p>
<pre class="line-numbers language-shell"><code class="language-shell">æˆ‘æ­£åœ¨å¨æˆ¿åšé¥­
å¿«é€’å‘˜æ•²é—¨ï¼Œè¯´ä½ çš„å¿«é€’æ¥äº†ï¼Œè¦æ±‚å¼€é—¨<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="The-Thread-Specific-Storage"><a href="#The-Thread-Specific-Storage" class="headerlink" title="The Thread-Specific Storage"></a>The Thread-Specific Storage</h2><blockquote>
<p>çº¿ç¨‹ä¿é™©ç®±ï¼Œ chapter11</p>
</blockquote>
<ol>
<li>ThreadLocal  æ—©æœŸå®ç°åŸç† </li>
</ol>
<pre class="line-numbers language-java"><code class="language-java">Map<span class="token operator">&lt;</span>Thread<span class="token punctuation">,</span>T<span class="token operator">></span> storage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HassMap</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol start="2">
<li><p>åº”ç”¨åœ¨åŒä¸€çº¿ç¨‹ä¸­åšä¸Šä¸‹æ–‡è®¾è®¡æ¨¡å¼</p>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        queryAction<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"The name query successful"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        httpAction<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"The card id query successful"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//Context ä¸ºThreadLocal å®ç°çš„å•ä¾‹æ¨¡å¼ç”¨äºrunå†…éƒ¨æ•°æ®å‚¨å­˜</span>
        Context context <span class="token operator">=</span> ActionContext<span class="token punctuation">.</span><span class="token function">getActionContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"The Name is "</span> <span class="token operator">+</span> context<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                           <span class="token operator">+</span> <span class="token string">" and CardId "</span> <span class="token operator">+</span>         context<span class="token punctuation">.</span><span class="token function">getCardId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h2 id="Balking-pattern"><a href="#Balking-pattern" class="headerlink" title="Balking pattern"></a>Balking pattern</h2><blockquote>
<p>æ‰§è¡Œåˆ°æŸä¸ªçŠ¶æ€ï¼Œç»ˆç«¯æ‰§è¡Œ</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>changed<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// è®¾è®¡æ¨¡å¼æ ¸å¿ƒé‡ç‚¹ï¼Œå½“å‘ç°äº‹æƒ…å·²ç»è¢«å…¶ä»–çº¿ç¨‹å¹²å®Œï¼Œä¸åœ¨å¾€ä¸‹æ‰§è¡Œ</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">doSave</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>changed <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Producer-and-Consumer-pattern"><a href="#Producer-and-Consumer-pattern" class="headerlink" title="Producer and Consumer pattern"></a>Producer and Consumer pattern</h2><h3 id="BlockingQueue-å®ç°"><a href="#BlockingQueue-å®ç°" class="headerlink" title="BlockingQueue å®ç°"></a>BlockingQueue å®ç°</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">final</span> BlockingQueue<span class="token operator">&lt;</span>Integer<span class="token operator">></span> blockingQueue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBlockingQueue</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//ç”Ÿäº§</span>
blockingQueue<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//æ¶ˆè´¹</span>
blockingQueue<span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Semaphore-å®ç°"><a href="#Semaphore-å®ç°" class="headerlink" title="Semaphore å®ç°"></a>Semaphore å®ç°</h3><pre class="line-numbers language-java"><code class="language-java">  <span class="token keyword">final</span> Semaphore notFull <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Semaphore</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//è®¡æ•°</span>
  <span class="token keyword">final</span> Semaphore notEmpty <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Semaphore</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//è®¡æ•°</span>
  <span class="token keyword">final</span> Semaphore mutex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Semaphore</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// é”çš„æ•ˆæœ</span>

<span class="token comment" spellcheck="true">// Producer.java</span>
 <span class="token keyword">try</span> <span class="token punctuation">{</span>
     notFull<span class="token punctuation">.</span><span class="token function">acquire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     mutex<span class="token punctuation">.</span><span class="token function">acquire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     count<span class="token operator">++</span><span class="token punctuation">;</span>
     System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token operator">+</span> <span class="token string">"ç”Ÿäº§è€…ç”Ÿäº§ï¼Œç›®å‰æ€»å…±æœ‰"</span> <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
     mutex<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     notEmpty<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//Cusomer.java</span>
 <span class="token keyword">try</span> <span class="token punctuation">{</span>
     notEmpty<span class="token punctuation">.</span><span class="token function">acquire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     mutex<span class="token punctuation">.</span><span class="token function">acquire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     count<span class="token operator">--</span><span class="token punctuation">;</span>
     System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token operator">+</span> <span class="token string">"æ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œç›®å‰æ€»å…±æœ‰"</span> <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
     mutex<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     notFull<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="synchronized"><a href="#synchronized" class="headerlink" title="synchronized"></a>synchronized</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">push</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    count <span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">take</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    count <span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ReentrantLockå®ç°"><a href="#ReentrantLockå®ç°" class="headerlink" title="ReentrantLockå®ç°"></a>ReentrantLockå®ç°</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//åˆ›å»ºä¸€ä¸ªé”å¯¹è±¡</span>
<span class="token keyword">private</span> Lock lock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReentrantLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//åˆ›å»ºä¸¤ä¸ªæ¡ä»¶å˜é‡ï¼Œä¸€ä¸ªä¸ºç¼“å†²åŒºéæ»¡ï¼Œä¸€ä¸ªä¸ºç¼“å†²åŒºéç©º</span>
<span class="token keyword">private</span> <span class="token keyword">final</span> Condition notFull <span class="token operator">=</span> lock<span class="token punctuation">.</span><span class="token function">newCondition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">final</span> Condition notEmpty <span class="token operator">=</span> lock<span class="token punctuation">.</span><span class="token function">newCondition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//Producer.java</span>
  lock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> FULL<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            notFull<span class="token punctuation">.</span><span class="token function">await</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        count <span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//å”¤é†’æ¶ˆè´¹è€…</span>
         notEmpty<span class="token punctuation">.</span><span class="token function">signal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
        lock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//Consumer.java</span>
lock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        notEmpty<span class="token punctuation">.</span><span class="token function">await</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    notFull<span class="token punctuation">.</span><span class="token function">signal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    lock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">final</span> Message message<span class="token punctuation">)</span> <span class="token keyword">throws</span> InterruptedException <span class="token punctuation">{</span>
    <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>queue<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// multi-thread lock </span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> limit<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// out over limit wait</span>
            queue<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        queue<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// first in last out </span>
        queue<span class="token punctuation">.</span><span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Count-Donw-pattern"><a href="#Count-Donw-pattern" class="headerlink" title="Count Donw pattern"></a>Count Donw pattern</h2><ol>
<li><p>JDK CountDownLatch </p>
<pre class="line-numbers language-java"><code class="language-java"> CountDownLatch latch <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CountDownLatch</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      latch<span class="token punctuation">.</span><span class="token function">countDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      latch<span class="token punctuation">.</span><span class="token function">await</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>æ¨¡ä»¿</p>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token keyword">public</span> <span class="token function">CountDown</span><span class="token punctuation">(</span><span class="token keyword">int</span> total<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">=</span> total<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">down</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">await</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> InterruptedException <span class="token punctuation">{</span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>counter <span class="token operator">!=</span> total<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h2 id="Two-Phase-Termination-Design-Pattern"><a href="#Two-Phase-Termination-Design-Pattern" class="headerlink" title="Two-Phase Termination Design Pattern"></a>Two-Phase Termination Design Pattern</h2><blockquote>
<p>çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œåœ¨çº¿ç¨‹ä¸­å…³é—­ä¸€æ¬¡ï¼Œè¿˜éœ€è¦æ‰‹åŠ¨æ¸…ç†ä¸€ä¸‹èµ„æº</p>
</blockquote>
<h2 id="Work-Thread-Design-Pattern"><a href="#Work-Thread-Design-Pattern" class="headerlink" title="Work Thread Design Pattern"></a>Work Thread Design Pattern</h2><blockquote>
<p>æµæ°´çº¿å·¥äººï¼Œæµæ°´çº¿ä¸€ç›´å¼€ç€ï¼Œæœ‰å›ºå®šå·¥äººç»„è£…ï¼Œè¿è¾“å·¥äººè´Ÿè´£è¿è¾“æ·»åŠ æµæ°´çº¿çš„è´§ç‰©</p>
</blockquote>
<h2 id="Active-Object"><a href="#Active-Object" class="headerlink" title="Active Object"></a>Active Object</h2><blockquote>
<p>ï¼ˆChapter18ï¼‰æ¥å—å¼‚æ­¥æ¶ˆæ¯çš„ä¸»åŠ¨æ–¹æ³•</p>
</blockquote>
<h1 id="é˜¶æ®µä¸‰ï¼šå¹¶å‘åŒ…è¯¦æƒ…ä»‹ç»"><a href="#é˜¶æ®µä¸‰ï¼šå¹¶å‘åŒ…è¯¦æƒ…ä»‹ç»" class="headerlink" title="é˜¶æ®µä¸‰ï¼šå¹¶å‘åŒ…è¯¦æƒ…ä»‹ç»"></a>é˜¶æ®µä¸‰ï¼šå¹¶å‘åŒ…è¯¦æƒ…ä»‹ç»</h1><h2 id="1-åŸå­ç±»å‹è¯¦ç»†è®²è§£"><a href="#1-åŸå­ç±»å‹è¯¦ç»†è®²è§£" class="headerlink" title="1. åŸå­ç±»å‹è¯¦ç»†è®²è§£"></a>1. åŸå­ç±»å‹è¯¦ç»†è®²è§£</h2><h3 id="1-1-Atomic"><a href="#1-1-Atomic" class="headerlink" title="1.1 Atomic*"></a>1.1 Atomic*</h3><blockquote>
<ol>
<li>volatile ä¿®é¥°çš„å˜é‡</li>
<li>CASç®—æ³•ï¼Œ ä¹Ÿå°±æ˜¯CPUçº§åˆ«çš„åŒæ­¥å‘½ä»¤è¿›ç¨‹é—´é€šä¿¡</li>
</ol>
</blockquote>
<h3 id="1-2-AtomicReference-ABAé—®é¢˜"><a href="#1-2-AtomicReference-ABAé—®é¢˜" class="headerlink" title="1.2 AtomicReference ABAé—®é¢˜"></a>1.2 AtomicReference ABAé—®é¢˜</h3><p>ç¼ºç‚¹ï¼š</p>
<p>CASè½»é‡çº§é”ï¼Œå¸¦æ¥çš„ä¸€ä¸ªä¸¥é‡é—®é¢˜ï¼ŒABAé—®é¢˜ï¼Œ é—®é¢˜æè¿°ï¼Œå½“T2ä»Aå›åˆ°AçŠ¶æ€å¯ä»¥æœ‰å„ç§æ¡ä»¶çš„å˜åŒ–ï¼Œè€ŒT1çš„åˆ¤æ–­æ¡ä»¶å¯èƒ½å¯¼è‡´æ— æ³•æ„ŸçŸ¥åˆ°T2çš„å¤šç§çŠ¶æ€å˜åŒ–è€Œäº§ç”Ÿé—®é¢˜</p>
<pre class="line-numbers language-shell"><code class="language-shell">T1            T2
A->C        A->B->A<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>è§£å†³æ–¹æ¡ˆæ˜¯åŠ ç‰ˆæœ¬æ ‡ç­¾ï¼Œå®˜æ–¹æä¾›çš„è§£å†³ç±»<code>AtomicStampedReference</code></p>
<p>AtomicLong å¦‚æœæ˜¯64ä½çš„æƒ…å†µä¸‹å¯èƒ½ä¼šæœ‰é«˜ä½ä½ä½åˆ†åˆ«ä¼ è¾“çš„é—®é¢˜å¯¼è‡´éåŸå­æ€§ï¼›</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">compareAndSet</span><span class="token punctuation">(</span>V   expectedReference<span class="token punctuation">,</span>
                                 V   newReference<span class="token punctuation">,</span>
                                 <span class="token keyword">int</span> expectedStamp<span class="token punctuation">,</span>
                                 <span class="token keyword">int</span> newStamp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Pair<span class="token operator">&lt;</span>V<span class="token operator">></span> current <span class="token operator">=</span> pair<span class="token punctuation">;</span>
        <span class="token keyword">return</span>
            expectedReference <span class="token operator">==</span> current<span class="token punctuation">.</span>reference <span class="token operator">&amp;&amp;</span>
            expectedStamp <span class="token operator">==</span> current<span class="token punctuation">.</span>stamp <span class="token operator">&amp;&amp;</span>
            <span class="token punctuation">(</span><span class="token punctuation">(</span>newReference <span class="token operator">==</span> current<span class="token punctuation">.</span>reference <span class="token operator">&amp;&amp;</span>
              newStamp <span class="token operator">==</span> current<span class="token punctuation">.</span>stamp<span class="token punctuation">)</span> <span class="token operator">||</span>
             <span class="token function">casPair</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> Pair<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>newReference<span class="token punctuation">,</span> newStamp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="1-2-Atomic-FieldUpdaterä½¿ç”¨åœºæ™¯"><a href="#1-2-Atomic-FieldUpdaterä½¿ç”¨åœºæ™¯" class="headerlink" title="1.2  Atomic*FieldUpdaterä½¿ç”¨åœºæ™¯"></a>1.2  Atomic*FieldUpdaterä½¿ç”¨åœºæ™¯</h3><ol>
<li><p>æƒ³è¦ç±»çš„å±æ€§æ“ä½œå…·å¤‡åŸå­æ€§</p>
<ul>
<li>volatile</li>
<li>éprivateï¼Œprotectedï¼ˆä¿è¯å¯è®¿é—®ï¼‰</li>
<li>ç±»å‹ä¸€è‡´</li>
</ul>
</li>
<li><p>ä¸æƒ³ä½¿ç”¨é”ï¼ˆåŒ…æ‹¬æ˜¾å¼é”æˆ–è€…é‡é‡çº§é”synchronizedï¼‰</p>
<ol>
<li>å¤§é‡éœ€è¦åŸå­ç±»å‹ä¿®é¥°çš„å¯¹è±¡ï¼Œç›¸å¯¹æ¯”è¾ƒè€—è´¹å†…å­˜ï¼Œæ¡ˆä¾‹ConcurrentSkipListMap</li>
</ol>
<pre class="line-numbers language-java"><code class="language-java">Node<span class="token punctuation">{</span>
    pre<span class="token operator">:</span>Node<span class="token punctuation">;</span>
    next<span class="token operator">:</span>Node<span class="token punctuation">;</span>
    value<span class="token operator">:</span>Objecct<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h3 id="1-3-Unsafe"><a href="#1-3-Unsafe" class="headerlink" title="1.3 Unsafe"></a>1.3 Unsafe</h3><blockquote>
<p>Unsafeæ˜¯Javaä¸­ä¸€ä¸ªåº•å±‚ç±»ï¼ŒåŒ…å«äº†å¾ˆå¤šåŸºç¡€çš„æ“ä½œï¼Œæ¯”å¦‚æ•°ç»„æ“ä½œã€å¯¹è±¡æ“ä½œã€å†…å­˜æ“ä½œã€CASæ“ä½œã€çº¿ç¨‹(park)æ“ä½œã€æ …æ ï¼ˆFenceï¼‰æ“ä½œï¼ŒJUCåŒ…ã€ä¸€äº›ä¸‰æ–¹æ¡†æ¶éƒ½ä½¿ç”¨Unsafeç±»æ¥ä¿è¯å¹¶å‘å®‰å…¨ã€‚</p>
<pre><code>Java is a safe programming language and prevents programmer from doing
a lot of stupid mistakes, most of which based on memory management.
But, there is a way to do such mistakes intentionally, using Unsafe class</code></pre></blockquote>
<ul>
<li>park/unpark LockSupport ä¾èµ–park/unpark å®ç°</li>
</ul>
<h4 id="Java-è°ƒç”¨C-C-ä»£ç "><a href="#Java-è°ƒç”¨C-C-ä»£ç " class="headerlink" title="Java è°ƒç”¨C/C++ ä»£ç "></a>Java è°ƒç”¨C/C++ ä»£ç </h4><p>Hello.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token punctuation">{</span>
    System<span class="token punctuation">.</span><span class="token function">loadLibrary</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">native</span> <span class="token keyword">void</span> <span class="token function">hi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token class-name">Hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¼–è¯‘Hello.java <code>javac Hello.java</code></p>
<p>ç”ŸæˆJniå¤´æ–‡ä»¶ <code>javah -jni Hello</code></p>
<p>ç¼–å†™Cä»£ç <br>Hello.c</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;jni.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>
<span class="token comment" spellcheck="true">/* Header for class Hello */</span>

<span class="token macro property">#<span class="token directive keyword">ifndef</span> _Included_Hello</span>
<span class="token macro property">#<span class="token directive keyword">define</span> _Included_Hello</span>
<span class="token macro property">#<span class="token directive keyword">ifdef</span> __cplusplus</span>
<span class="token keyword">extern</span> <span class="token string">"C"</span> <span class="token punctuation">{</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>
<span class="token comment" spellcheck="true">/*
 * Class:     Hello
 * Method:    hi
 * Signature: ()V
 */</span>
JNIEXPORT <span class="token keyword">void</span> JNICALL <span class="token function">Java_Hello_hi</span>
  <span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span> env<span class="token punctuation">,</span> jobject o<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Hello Jni\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token macro property">#<span class="token directive keyword">ifdef</span> __cplusplus</span>
<span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¼–è¯‘C<code>gcc -fPIC -D_REENETRANT -I "$JAVA_HOME/include" -I "$JAVA_HOME/include/linux" -c Hello.c</code></p>
<p>ç”Ÿæˆè¿æ¥åº“ <code>gcc -shared Hello.o -o libhello.so</code></p>
<p>è¿è¡Œjava Hello å¦‚ä¸‹å¼‚å¸¸ï¼Œéœ€é…ç½®<code>LD_LIBRARY_PATH</code>ä¸ºå½“å‰è·¯å¾„</p>
<p> <code>export LD_LIBRARY_PATH=./lib:$LD_LIBRARY_PATH</code></p>
<pre class="line-numbers language-java"><code class="language-java">Exception in thread <span class="token string">"main"</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>UnsatisfiedLinkError<span class="token operator">:</span> no hello in java<span class="token punctuation">.</span>library<span class="token punctuation">.</span>path
        at java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>ClassLoader<span class="token punctuation">.</span><span class="token function">loadLibrary</span><span class="token punctuation">(</span>ClassLoader<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1867</span><span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Runtime<span class="token punctuation">.</span><span class="token function">loadLibrary0</span><span class="token punctuation">(</span>Runtime<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">870</span><span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>System<span class="token punctuation">.</span><span class="token function">loadLibrary</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1122</span><span class="token punctuation">)</span>
        at Hello<span class="token punctuation">.</span>&lt;clinit<span class="token operator">></span><span class="token punctuation">(</span>Hello<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="unsafeå¸¸ç”¨æ–¹æ³•"><a href="#unsafeå¸¸ç”¨æ–¹æ³•" class="headerlink" title="unsafeå¸¸ç”¨æ–¹æ³•"></a>unsafeå¸¸ç”¨æ–¹æ³•</h4><pre class="line-numbers language-java"><code class="language-java">    <span class="token comment" spellcheck="true">/**
     * ç»•è¿‡åˆå§‹åŒ–
     */</span>
    Simple simple2 <span class="token operator">=</span> <span class="token punctuation">(</span>Simple<span class="token punctuation">)</span> unsafe<span class="token punctuation">.</span><span class="token function">allocateInstance</span><span class="token punctuation">(</span>Simple<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>simple2<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    Guard guard <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Guard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    guard<span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">/**
     * ç›´æ¥ä¿®æ”¹guardå†…å­˜
     */</span>
    Field field <span class="token operator">=</span> guard<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">"ACCESS_ALLOWED"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    unsafe<span class="token punctuation">.</span><span class="token function">putInt</span><span class="token punctuation">(</span>guard<span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">objectFieldOffset</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    guard<span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">/**
     * å®šä¹‰ç±»
     */</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token function">loadClassContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span> aClass <span class="token operator">=</span> unsafe<span class="token punctuation">.</span><span class="token function">defineClass</span><span class="token punctuation">(</span>null<span class="token punctuation">,</span> bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> bytes<span class="token punctuation">.</span>length<span class="token punctuation">,</span>null<span class="token punctuation">,</span>null<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> v <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> aClass<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">"get"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>aClass<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"defineClass:"</span> <span class="token operator">+</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">/**
     * è·å–ç±»çš„size
     */</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">sizeOf</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Simple</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="2-Javaå¹¶å‘åŒ…å·¥å…·"><a href="#2-Javaå¹¶å‘åŒ…å·¥å…·" class="headerlink" title="2. Javaå¹¶å‘åŒ…å·¥å…·"></a>2. Javaå¹¶å‘åŒ…å·¥å…·</h2><h3 id="2-1-CountDownLatch"><a href="#2-1-CountDownLatch" class="headerlink" title="2.1 CountDownLatch"></a>2.1 CountDownLatch</h3><blockquote>
<ol>
<li>å¹¶è¡Œè½¬çªœè¡Œï¼Œç­‰åˆ°æœ€åç»“æœï¼Œç¦»æ•£å¹³è¡Œä»»åŠ¡å¢åŠ é€»è¾‘å±‚æ¬¡å…³ç³»</li>
<li>æœ‰ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œçš„æ—¶å€™å‘ç°å¯ä»¥äº¤ç»™å…¶ä»–çº¿ç¨‹æ‰§è¡Œï¼›</li>
</ol>
</blockquote>
<h3 id="2-2-CyclicBarrier"><a href="#2-2-CyclicBarrier" class="headerlink" title="2.2 CyclicBarrier"></a>2.2 CyclicBarrier</h3><p>API</p>
<pre class="line-numbers language-java"><code class="language-java"> CyclicBarrier barrier <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CyclicBarrier</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment" spellcheck="true">//å½“æ‰€æœ‰çº¿ç¨‹çº¿ç¨‹å†™å…¥æ“ä½œå®Œæ¯•ä¹‹åï¼Œæ‰€æœ‰çº¿ç¨‹å°±ç»§ç»­è¿›è¡Œåç»­çš„æ“ä½œäº†</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
barrier<span class="token punctuation">.</span><span class="token function">getNumberWaiting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//è·å–å½“å‰ç­‰å¾…æ•°é‡</span>
barrier<span class="token punctuation">.</span><span class="token function">getParties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
barrier<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// å½“getNumberWaiting !=0 çš„æ—¶å€™, resetä¼šå¯¼è‡´æ­£åœ¨ç­‰å¾…çš„çº¿ç¨‹æŠ¥BrokenBarrierException å¼‚å¸¸</span>

å³reset <span class="token operator">==</span> initial <span class="token operator">==</span> finishï¼›<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>CountDownLatch VS CyclicBarrier</p>
<ol>
<li>CountDownLatch ä¸èƒ½resetï¼Œè€ŒCyclicBarrieræ˜¯å¯ä»¥å¾ªç¯ä½¿ç”¨çš„ï¼›</li>
<li>latch å·¥ä½œçº¿ç¨‹äº’ä¸å…³ç³»ï¼Œ barrierå·¥ä½œçº¿ç¨‹å¿…é¡»ç­‰åˆ°</li>
</ol>
<h3 id="2-3-Semaphore"><a href="#2-3-Semaphore" class="headerlink" title="2.3 Semaphore"></a>2.3 Semaphore</h3><blockquote>
<p><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Semaphore.html" target="_blank" rel="noopener">Semaphore Api</a></p>
</blockquote>
<p>å®˜æ–¹demo</p>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token keyword">class</span> <span class="token class-name">Pool</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> MAX_AVAILABLE <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
   <span class="token keyword">private</span> <span class="token keyword">final</span> Semaphore available <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Semaphore</span><span class="token punctuation">(</span>MAX_AVAILABLE<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token keyword">public</span> Object <span class="token function">getItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> InterruptedException <span class="token punctuation">{</span>
     available<span class="token punctuation">.</span><span class="token function">acquire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">return</span> <span class="token function">getNextAvailableItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">putItem</span><span class="token punctuation">(</span>Object x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">markAsUnused</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
       available<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token comment" spellcheck="true">// Not a particularly efficient data structure; just for demo</span>
   <span class="token keyword">protected</span> Object<span class="token punctuation">[</span><span class="token punctuation">]</span> items <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> whatever kinds of items being managed
   <span class="token keyword">protected</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span> used <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">boolean</span><span class="token punctuation">[</span>MAX_AVAILABLE<span class="token punctuation">]</span><span class="token punctuation">;</span>

   <span class="token keyword">protected</span> <span class="token keyword">synchronized</span> Object <span class="token function">getNextAvailableItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX_AVAILABLE<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>used<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          used<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> null<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// not reached</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">protected</span> <span class="token keyword">synchronized</span> <span class="token keyword">boolean</span> <span class="token function">markAsUnused</span><span class="token punctuation">(</span>Object item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX_AVAILABLE<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">==</span> items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>used<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            used<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><p><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Semaphore.html#acquireUninterruptibly--" target="_blank" rel="noopener">acquireUninterruptibly</a> ä¸å¤„ç†ä¸­æ–­</p>
</li>
<li><p><strong>acquire</strong>(int permits) åŒæ—¶è·å–å¤šä¸ªä¸­æ–­</p>
</li>
<li><p><strong>release</strong>(int permits) åŒæ—¶é‡Šæ”¾å¤šä¸ªä¸­æ–­</p>
</li>
<li><p>drainPermits() Acquires and returns all permits that are immediately available.</p>
</li>
</ul>
<h3 id="2-4-ReentrantLock"><a href="#2-4-ReentrantLock" class="headerlink" title="2.4 ReentrantLock"></a>2.4 ReentrantLock</h3><blockquote>
<h3 id="ReentrantLock-API"><a href="#ReentrantLock-API" class="headerlink" title="ReentrantLock API"></a><a href="https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html" target="_blank" rel="noopener">ReentrantLock API</a></h3><ol>
<li>getOwner() å°è¯•æ‹¿åˆ°è¿™ä¸ªé”ï¼Œé‚£ä¸åˆ°çš„æ—¶å€™å°è¯•ä¸­æ–­</li>
</ol>
</blockquote>
<ul>
<li><p>ConditionObject å…·ä½“å®ç°ç±»</p>
<blockquote>
<p> ç»´æŠ¤ä¸€ä¸ªå•å‘åˆ—è¡¨ï¼Œawaitå‘ç­‰å¾…é˜Ÿåˆ—æ’å…¥Nodeï¼Œå«é†’å‘ç­‰å¾…é˜Ÿåˆ—å¤´éƒ¨ç§»é™¤ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ”¾äººåŒæ­¥é˜Ÿåˆ—ä¸­ç«äº‰CPUèµ„æº</p>
</blockquote>
<ul>
<li>åŒæ­¥é˜Ÿåˆ—</li>
<li>ç­‰å¾…é˜Ÿåˆ—</li>
</ul>
</li>
</ul>
<h3 id="2-5-Exchanger"><a href="#2-5-Exchanger" class="headerlink" title="2.5 Exchanger"></a>2.5 Exchanger</h3><blockquote>
<p><a href="https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Exchanger.html" target="_blank" rel="noopener">Exchanger API</a></p>
</blockquote>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>exchangerçš„å€¼æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå †å†…å­˜ï¼Œå¦‚æœä¿®æ”¹ä¸¤è¾¹éƒ½ä¼šå˜åŠ¨ï¼Œå¦‚æ“ä½œæŸäº›List =&gt; ä»£ç ExchangerExampleã€‚ </li>
</ol>
<p>å®˜ç½‘Demo</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">FillAndEmpty</span> <span class="token punctuation">{</span>
   Exchanger<span class="token operator">&lt;</span>DataBuffer<span class="token operator">></span> exchanger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Exchanger</span><span class="token operator">&lt;</span>DataBuffer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DataBuffer initialEmptyBuffer <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> a made<span class="token operator">-</span>up type
   DataBuffer initialFullBuffer <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

   <span class="token keyword">class</span> <span class="token class-name">FillingLoop</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
     <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       DataBuffer currentBuffer <span class="token operator">=</span> initialEmptyBuffer<span class="token punctuation">;</span>
       <span class="token keyword">try</span> <span class="token punctuation">{</span>
         <span class="token keyword">while</span> <span class="token punctuation">(</span>currentBuffer <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token function">addToBuffer</span><span class="token punctuation">(</span>currentBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>currentBuffer<span class="token punctuation">.</span><span class="token function">isFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
             currentBuffer <span class="token operator">=</span> exchanger<span class="token punctuation">.</span><span class="token function">exchange</span><span class="token punctuation">(</span>currentBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
       <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> handle <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">class</span> <span class="token class-name">EmptyingLoop</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
     <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       DataBuffer currentBuffer <span class="token operator">=</span> initialFullBuffer<span class="token punctuation">;</span>
       <span class="token keyword">try</span> <span class="token punctuation">{</span>
         <span class="token keyword">while</span> <span class="token punctuation">(</span>currentBuffer <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token function">takeFromBuffer</span><span class="token punctuation">(</span>currentBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>currentBuffer<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
             currentBuffer <span class="token operator">=</span> exchanger<span class="token punctuation">.</span><span class="token function">exchange</span><span class="token punctuation">(</span>currentBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
       <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> handle <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FillingLoop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">EmptyingLoop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åšæ–‡ï¼š<a href="https://www.jianshu.com/p/c523826b2c94" target="_blank" rel="noopener">ã€æ­»ç£•Javaå¹¶å‘ã€‘â€”â€“J.U.Cä¹‹å¹¶å‘å·¥å…·ç±»ï¼šExchanger</a></p>
<h3 id="2-6-ReadWriteLock"><a href="#2-6-ReadWriteLock" class="headerlink" title="2.6 ReadWriteLock"></a>2.6 ReadWriteLock</h3><h3 id="2-7-Condition"><a href="#2-7-Condition" class="headerlink" title="2.7 Condition"></a>2.7 Condition</h3><h3 id="2-8-StampedLock"><a href="#2-8-StampedLock" class="headerlink" title="2.8 StampedLock"></a>2.8 StampedLock</h3><blockquote>
<p>è¯»çš„æ—¶å€™ä¹Ÿèƒ½å†™</p>
</blockquote>
<p>æœ€ç®€å•æ¡ˆä¾‹</p>
<pre class="line-numbers language-java"><code class="language-java">  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">long</span> stamped <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      stamped <span class="token operator">=</span> lock<span class="token punctuation">.</span><span class="token function">readLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
      lock<span class="token punctuation">.</span><span class="token function">unlockRead</span><span class="token punctuation">(</span>stamped<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">long</span> stamped <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      stamped <span class="token operator">=</span> lock<span class="token punctuation">.</span><span class="token function">writeLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
      lock<span class="token punctuation">.</span><span class="token function">unlockWrite</span><span class="token punctuation">(</span>stamped<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å®˜ç½‘demo</p>
<pre class="line-numbers language-java"><code class="language-java">  <span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> StampedLock sl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StampedLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token keyword">double</span> deltaX<span class="token punctuation">,</span> <span class="token keyword">double</span> deltaY<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// an exclusively locked method</span>
      <span class="token keyword">long</span> stamp <span class="token operator">=</span> sl<span class="token punctuation">.</span><span class="token function">writeLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        x <span class="token operator">+=</span> deltaX<span class="token punctuation">;</span>
        y <span class="token operator">+=</span> deltaY<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        sl<span class="token punctuation">.</span><span class="token function">unlockWrite</span><span class="token punctuation">(</span>stamp<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">double</span> <span class="token function">distanceFromOrigin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// A read-only method</span>
      <span class="token keyword">long</span> stamp <span class="token operator">=</span> sl<span class="token punctuation">.</span><span class="token function">tryOptimisticRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">double</span> currentX <span class="token operator">=</span> x<span class="token punctuation">,</span> currentY <span class="token operator">=</span> y<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>sl<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>stamp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         stamp <span class="token operator">=</span> sl<span class="token punctuation">.</span><span class="token function">readLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">try</span> <span class="token punctuation">{</span>
           currentX <span class="token operator">=</span> x<span class="token punctuation">;</span>
           currentY <span class="token operator">=</span> y<span class="token punctuation">;</span>
         <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            sl<span class="token punctuation">.</span><span class="token function">unlockRead</span><span class="token punctuation">(</span>stamp<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>currentX <span class="token operator">*</span> currentX <span class="token operator">+</span> currentY <span class="token operator">*</span> currentY<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">moveIfAtOrigin</span><span class="token punctuation">(</span><span class="token keyword">double</span> newX<span class="token punctuation">,</span> <span class="token keyword">double</span> newY<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// upgrade</span>
      <span class="token comment" spellcheck="true">// Could instead start with optimistic, not read mode</span>
      <span class="token keyword">long</span> stamp <span class="token operator">=</span> sl<span class="token punctuation">.</span><span class="token function">readLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> <span class="token number">0.0</span> <span class="token operator">&amp;&amp;</span> y <span class="token operator">==</span> <span class="token number">0.0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">long</span> ws <span class="token operator">=</span> sl<span class="token punctuation">.</span><span class="token function">tryConvertToWriteLock</span><span class="token punctuation">(</span>stamp<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>ws <span class="token operator">!=</span> 0L<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            stamp <span class="token operator">=</span> ws<span class="token punctuation">;</span>
            x <span class="token operator">=</span> newX<span class="token punctuation">;</span>
            y <span class="token operator">=</span> newY<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">else</span> <span class="token punctuation">{</span>
            sl<span class="token punctuation">.</span><span class="token function">unlockRead</span><span class="token punctuation">(</span>stamp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            stamp <span class="token operator">=</span> sl<span class="token punctuation">.</span><span class="token function">writeLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        sl<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span>stamp<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="2-9-Forkjoin"><a href="#2-9-Forkjoin" class="headerlink" title="2.9 Forkjoin"></a>2.9 Forkjoin</h3><blockquote>
<p>ä»»åŠ¡åˆ†è§£æ¡†æ¶</p>
</blockquote>
<ol>
<li>RecursiveTask  æœ‰è¿”å›å€¼</li>
<li>RecursiveAction æ— è¿”å›å€¼</li>
</ol>
<h3 id="3-0-Phaser"><a href="#3-0-Phaser" class="headerlink" title="3.0 Phaser"></a>3.0 Phaser</h3><blockquote>
<p><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/Phaser.html" target="_blank" rel="noopener">Phaser API</a></p>
</blockquote>
<ol>
<li><p>é€šè¿‡ phaser.register() å¯ä»¥åŠ¨æ€æ·»åŠ ï¼›</p>
</li>
<li><p>å¯ä»¥å¾ªç¯ä½¿ç”¨</p>
</li>
<li><p>arriveAndAwaitAdvance Arrives at this phaser and awaits others.</p>
</li>
<li><p>arriveAndDeregister  åŠ¨æ€çš„â€“ï¼›æˆ‘é€€å‡ºä½  ä»¬ä¸ç”¨ç­‰æˆ‘äº†</p>
<pre class="line-numbers language-java"><code class="language-java">  <span class="token comment" spellcheck="true">/**
     * Arrives at this phaser and deregisters from it without waiting
     * for others to arrive. Deregistration reduces the number of
     * parties required to advance in future phases.  If this phaser
     * has a parent, and deregistration causes this phaser to have
     * zero parties, this phaser is also deregistered from its parent.
     *
     * &lt;p>It is a usage error for an unregistered party to invoke this
     * method.  However, this error may result in an {@code
     * IllegalStateException} only upon some subsequent operation on
     * this phaser, if ever.
     *
     * @return the arrival phase number, or a negative value if terminated
     * @throws IllegalStateException if not terminated and the number
     * of registered or unarrived parties would become negative
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">arriveAndDeregister</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">doArrive</span><span class="token punctuation">(</span>ONE_DEREGISTER<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<ol start="5">
<li><p>arrive</p>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token comment" spellcheck="true">/**
     * Arrives at this phaser, without waiting for others to arrive.
     *
     * &lt;p>It is a usage error for an unregistered party to invoke this
     * method.  However, this error may result in an {@code
     * IllegalStateException} only upon some subsequent operation on
     * this phaser, if ever.
     *
     * @return the arrival phase number, or a negative value if terminated
     * @throws IllegalStateException if not terminated and the number
     * of unarrived parties would become negative
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">arrive</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">doArrive</span><span class="token punctuation">(</span>ONE_ARRIVAL<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<ol start="6">
<li>bulkRegister æ³¨å†Œå¤šä¸ª</li>
</ol>
<p>çŠ¶æ€åˆ¤æ–­</p>
<ol>
<li>getRegisteredParties</li>
<li>getArrivedParties</li>
<li>getUnarrivedParties</li>
</ol>
<p>æ§åˆ¶</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æ ¹æ®æ¡ä»¶æ§åˆ¶æ˜¯å¦ç»ˆæ­¢Phaser   </span>
<span class="token keyword">final</span> Phaser phaser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Phaser</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span> <span class="token keyword">protected</span> <span class="token keyword">boolean</span> <span class="token function">onAdvance</span><span class="token punctuation">(</span><span class="token keyword">int</span> phase<span class="token punctuation">,</span> <span class="token keyword">int</span> registeredParties<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"phase:"</span> <span class="token operator">+</span> phase <span class="token operator">+</span> <span class="token string">"\tregisteredParties :"</span> <span class="token operator">+</span> registeredParties<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//return super.onAdvance(phase, registeredParties);</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token comment" spellcheck="true">/*ç»ˆæ­¢*/</span><span class="token punctuation">,</span> <span class="token boolean">false</span> <span class="token comment" spellcheck="true">/*ä¸ç»ˆæ­¢*/</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¼ºåˆ¶ç»ˆæ­¢</p>
<pre class="line-numbers language-java"><code class="language-java">phaser<span class="token punctuation">.</span><span class="token function">forceTermination</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>awaitAdvance(phase phase) æ¡ˆä¾‹</p>
<p>ç»ˆæ­¢ç­‰å¾…çš„ä¸¤ä¸ªæ¡ä»¶</p>
<ul>
<li>current phase is not equal to the given phase value</li>
<li>this phaser is terminated.</li>
</ul>
<p>demo: F:\Source\javaBase\src\main\java\com\sample\current\phaser\PhaserExample6.java</p>
<p>å¸¦æœ‰ç­‰å¾…çš„ä¸­æ–­</p>
<ol>
<li>awaitAdvanceInterruptibly</li>
<li>phaser.awaitAdvanceInterruptibly(0,3,TimeUnit.SECONDS); å¸¦æœ‰è¶…æ—¶æ—¶é—´</li>
</ol>
<h3 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h3><p> <a href="https://www.cnblogs.com/dolphin0520/p/3920397.html" target="_blank" rel="noopener">1. CountDownLatchã€CyclicBarrierå’ŒSemaphore</a></p>
<h2 id="3-Executorsæ¡†æ¶"><a href="#3-Executorsæ¡†æ¶" class="headerlink" title="3. Executorsæ¡†æ¶"></a>3. Executorsæ¡†æ¶</h2><p>ThreadPoolExecutor</p>
<h3 id="3-1-shutdownåˆ†æ"><a href="#3-1-shutdownåˆ†æ" class="headerlink" title="3.1 shutdownåˆ†æ"></a>3.1 shutdownåˆ†æ</h3><p>shutdown</p>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token comment" spellcheck="true">/**
     * shutdown
     *
     * -- condition ---
     * 20 threads
     *   10 threads work
     *   10 idle
     *
     * shutdown invoked
     * -- result -- 
     * 1. 10 waiting to finished the work.
     * 2. 10 interrupted the idle works.
     * 3. 20 idle threads will exist.
     */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>shutdownNow</p>
<pre class="line-numbers language-java"><code class="language-java">    <span class="token comment" spellcheck="true">/**
     * shutdownNow
     * -- condition ---
     * 10 threads queue elements 10
     * 10 running
     * 10 stored in the blocking queue.
     *-- result --
     * 1. return list&lt;Runnable> remain 10 un handle runnable in the queue.
     * 2. interrupt all of threads in the pool.
     */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è°ƒç”¨shutdownåä¸€äº›çŠ¶æ€å˜åŒ–</p>
<pre class="line-numbers language-java"><code class="language-java">executorService<span class="token punctuation">.</span><span class="token function">isShutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// ture</span>
executorService<span class="token punctuation">.</span><span class="token function">isTerminated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false è¿˜æœ‰ä»»åŠ¡åœ¨æ‰§è¡Œ</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span>ThreadPoolExecutor<span class="token punctuation">)</span> executorService<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isTerminating</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="3-2-Executors-newWorkStealingPool"><a href="#3-2-Executors-newWorkStealingPool" class="headerlink" title="3.2 Executors.newWorkStealingPool"></a>3.2 Executors.newWorkStealingPool</h3><ol>
<li>using all available processors </li>
<li>çº¿ç¨‹å·¥ä½œæ¨¡å¼ä¸ºâ€œWork-Stealing Algorithmâ€ ï¼Œå½“ä»»åŠ¡é˜Ÿåˆ—å®Œæˆåä¸æ˜¯è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œè€Œæ˜¯ä¸»åŠ¨çªƒå–åˆ«çš„çº¿ç¨‹ä»»åŠ¡æ¥åšï¼›</li>
<li>ä»»åŠ¡å¤„ç†å®Œè‡ªåŠ¨åœæ­¢çº¿ç¨‹æ± ï¼›</li>
</ol>
<h3 id="3-3-Schedule-çš„å®ç°"><a href="#3-3-Schedule-çš„å®ç°" class="headerlink" title="3.3 Schedule çš„å®ç°"></a>3.3 Schedule çš„å®ç°</h3><ol>
<li><p>Timer å­˜åœ¨é—®é¢˜æ˜¯å½“ä»»åŠ¡æ‰§è¡Œè¶…æ—¶æ—¶ï¼Œå½±å“ä¸‹ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œæ—¶é—´</p>
</li>
<li><p>crontab (linux), æ¯éš”ä¸€åˆ†é’Ÿæ‰§è¡Œrun.sh è„šæœ¬</p>
<p>run.sh</p>
<pre class="line-numbers language-shell"><code class="language-shell">#!/bin/sh
echo `date "+%Y-%m-%d %H:%M:%S"`<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><code>crontab -e</code>  edit userâ€™s crontab </p>
<pre class="line-numbers language-shell"><code class="language-shell">#æ¯ä¸€åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡
* * * * * sh //root/document/scripts/run.sh >> /root/document/scripts/run.log<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>crontab ç®€å•è¯´æ˜ vi <code>/etc/crontab</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">SHELL=/bin/bash                     <==ä½¿ç”¨å“ªç§ shell æ¥å£ 
PATH=/sbin:/bin:/usr/sbin:/usr/bin  <==æ‰§è¡Œæ–‡ä»¶æœå¯»è·¯å¾„ 
MAILTO=root                         <==è‹¥æœ‰é¢å¤– STDOUTï¼Œä»¥ email å°†æ•°æ®é€ç»™è° 

# Example of job definition: 
# .---------------- minute (0 - 59) 
# |  .------------- hour (0 - 23) 
# |  |  .---------- day of month (1 - 31) 
# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ... 
# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat 
# |  |  |  |  | 
# *  *  *  *  * user-name  command to be executed <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>quartz(æ¨èä½¿ç”¨)</p>
<p>çŸ³è‹±é’Ÿ</p>
<p>ç›¸å…³æ•™ç¨‹<a href="https://blog.csdn.net/u010648555/article/details/54863144" target="_blank" rel="noopener">ç²¾è¿› Quartzâ€”Quartzå¤§è‡´ä»‹ç»ï¼ˆä¸€ï¼‰</a></p>
<p>ä¾èµ–</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- https://mvnrepository.com/artifact/org.quartz-scheduler/quartz --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.quartz-scheduler<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>quartz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.2.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æœ€ç®€å•demo</p>
<pre class="line-numbers language-java"><code class="language-java">    JobDetail jobDetail <span class="token operator">=</span> JobBuilder<span class="token punctuation">.</span><span class="token function">newJob</span><span class="token punctuation">(</span>SimpleJob<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">withIdentity</span><span class="token punctuation">(</span><span class="token string">"job1"</span><span class="token punctuation">,</span> <span class="token string">"group1"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Trigger trigger <span class="token operator">=</span> TriggerBuilder<span class="token punctuation">.</span><span class="token function">newTrigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">withIdentity</span><span class="token punctuation">(</span><span class="token string">"trigger"</span><span class="token punctuation">,</span> <span class="token string">"group1"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">withSchedule</span><span class="token punctuation">(</span>CronScheduleBuilder<span class="token punctuation">.</span><span class="token function">cronSchedule</span><span class="token punctuation">(</span><span class="token string">"0/5 * * * * ?"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    Scheduler scheduler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StdSchedulerFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getScheduler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    scheduler<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    scheduler<span class="token punctuation">.</span><span class="token function">scheduleJob</span><span class="token punctuation">(</span>jobDetail<span class="token punctuation">,</span> trigger<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>SimpleJob.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleJob</span> <span class="token keyword">implements</span> <span class="token class-name">Job</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span>JobExecutionContext jobExecutionContext<span class="token punctuation">)</span>
      <span class="token keyword">throws</span> JobExecutionException <span class="token punctuation">{</span>
    SimpleDateFormat dt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-mm-dd hh:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"======"</span> <span class="token operator">+</span> dt<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"======"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>ScheduledExecutorService</p>
<blockquote>
<p>å¦‚æœæ‰§è¡Œä»»åŠ¡æ—¶é•¿è¶…è¿‡å‘¨æœŸï¼Œé‚£ä¹ˆå‘¨æœŸæŒ‰ç…§ä»»åŠ¡æ—¶é•¿ç®—</p>
</blockquote>
</li>
</ol>
<h3 id="3-4-å¼‚å¸¸å¤„ç†"><a href="#3-4-å¼‚å¸¸å¤„ç†" class="headerlink" title="3.4 å¼‚å¸¸å¤„ç†"></a>3.4 å¼‚å¸¸å¤„ç†</h3><p>   æ–¹æ¡ˆä¸€ï¼šå¢åŠ å®ˆæŠ¤çº¿ç¨‹å¹¶è®¾ç½®å¼‚å¸¸æ•è·ç±»<code>setUncaughtExceptionHandler</code>ï¼Œç¼ºç‚¹å½“è·å–ä¸åˆ°è¯¦ç»†çš„çº¿ç¨‹çŠ¶æ€<br>   æ–¹æ¡ˆäºŒï¼šé€šè¿‡è‡ªå®šä¹‰Runnableæ•æ‰å¼‚å¸¸,æ¨¡æ¿å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-java"><code class="language-java">   <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">MyTask</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>

     <span class="token keyword">protected</span> <span class="token keyword">final</span> String name <span class="token punctuation">;</span>

     <span class="token keyword">public</span> <span class="token function">MyTask</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>

     <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">try</span> <span class="token punctuation">{</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doExecute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>

     <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">error</span><span class="token punctuation">(</span>Throwable e<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">doExecute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">doInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="3-5-æ‹’ç»ç­–ç•¥ï¼ˆRejectedExecutionHandlerï¼‰"><a href="#3-5-æ‹’ç»ç­–ç•¥ï¼ˆRejectedExecutionHandlerï¼‰" class="headerlink" title="3.5 æ‹’ç»ç­–ç•¥ï¼ˆRejectedExecutionHandlerï¼‰"></a>3.5 æ‹’ç»ç­–ç•¥ï¼ˆRejectedExecutionHandlerï¼‰</h3><h3 id="3-6-APIè¯¦è§£"><a href="#3-6-APIè¯¦è§£" class="headerlink" title="3.6 APIè¯¦è§£"></a>3.6 APIè¯¦è§£</h3><blockquote>
<p>F:\Source\javaBase\src\main\java\com\sample\current\executor\ExecutorServiceExampleApi.java</p>
</blockquote>
<p> Core Thread Timeout è®¾ç½®æ ¸å¿ƒçº¿ç¨‹è¶…æ—¶æ—¶é—´ï¼Œè¶…æ—¶å…³é—­æ ¸å¿ƒçº¿ç¨‹æ± </p>
<pre class="line-numbers language-java"><code class="language-java">executorServices<span class="token punctuation">.</span><span class="token function">setKeepAliveTime</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>
executorServices<span class="token punctuation">.</span><span class="token function">allowCoreThreadTimeOut</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>å¸¦è¿”å›å€¼çš„æ–¹æ³•</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token operator">&lt;</span>T<span class="token operator">></span> List<span class="token operator">&lt;</span>Future<span class="token operator">&lt;</span>T<span class="token operator">>></span> <span class="token function">invokeAll</span><span class="token punctuation">(</span>Collection<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Callable</span><span class="token operator">&lt;</span>T<span class="token operator">>></span> tasks<span class="token punctuation">)</span>
        <span class="token keyword">throws</span> InterruptedException<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//ä»£è¶…æ—¶æ—¶é—´</span>
<span class="token operator">&lt;</span>T<span class="token operator">></span> List<span class="token operator">&lt;</span>Future<span class="token operator">&lt;</span>T<span class="token operator">>></span> <span class="token function">invokeAll</span><span class="token punctuation">(</span>Collection<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Callable</span><span class="token operator">&lt;</span>T<span class="token operator">>></span> tasks<span class="token punctuation">,</span>
                                  <span class="token keyword">long</span> timeout<span class="token punctuation">,</span> TimeUnit unit<span class="token punctuation">)</span>
        <span class="token keyword">throws</span> InterruptedException<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/**
* return {@code false}
* if all core threads have already been started.
*/</span>
<span class="token keyword">boolean</span> <span class="token function">prestartCoreThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>prestartAllCoreThreads</code>  é¢„å¯åŠ¨æ‰€æœ‰çš„coreThread</p>
<p><code>before/after</code> åœ¨æ¯ä¸ªä»»åŠ¡å¯åŠ¨å¼€å§‹å’Œç»“æŸæ—¶è°ƒç”¨</p>
<pre class="line-numbers language-java"><code class="language-java">    <span class="token annotation punctuation">@Override</span> <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">beforeExecute</span><span class="token punctuation">(</span>Thread t<span class="token punctuation">,</span> Runnable r<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"--before--"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"init the "</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>MyRunnable<span class="token punctuation">)</span> r<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span> <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">afterExecute</span><span class="token punctuation">(</span>Runnable r<span class="token punctuation">,</span> Throwable t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">afterExecute</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
      System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"--after--"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>null <span class="token operator">==</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"successful "</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>MyRunnable<span class="token punctuation">)</span> r<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        t<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="3-7-Future-amp-Callable"><a href="#3-7-Future-amp-Callable" class="headerlink" title="3.7 Future&amp;Callable"></a>3.7 Future&amp;Callable</h3><ol>
<li><p>future.get() interrupt æ˜¯è°ï¼Ÿ  </p>
<pre class="line-numbers language-shell"><code class="language-shell">ä¸­æ–­çš„æ˜¯è°ƒç”¨çš„çº¿ç¨‹ï¼Œä½†æ˜¯ä¸­æ–­årunnableè¿˜èƒ½ç»§ç»­å·¥ä½œ<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ol>
<ol start="2">
<li><p>future timeout æ˜¯å¦ä¼šç»§ç»­æ‰§è¡Œï¼Ÿ <code>future.get(5, TimeUnit.SECONDS);</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">futureä¸­æ–­Runnableåä¼šç»§ç»­æ‰§è¡Œï¼Œå¦‚æœéœ€è¦ç»ˆæ­¢ä»»åŠ¡éœ€è¦é¢å¤–å¤„ç† å¦‚kill -9 applicationId<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ol>
<h3 id="3-8-CompletionService"><a href="#3-8-CompletionService" class="headerlink" title="3.8 CompletionService"></a>3.8 CompletionService</h3><p>è§£å†³ä¸€ä¸ªé—®é¢˜,å¦‚ä¸‹ï¼Œå¤šçº¿ç¨‹<code>futureList.get</code>çš„æ—¶å€™ä¸çŸ¥é“éšå…ˆå®Œæˆè°åå®Œæˆï¼ˆ<code>è°å…ˆè°å</code>ï¼‰ï¼Œå¯¼è‡´æ‰§è¡Œå¿«çš„ç­‰æ‰§è¡Œæ…¢çš„ã€‚</p>
<pre class="line-numbers language-java"><code class="language-java">List<span class="token operator">&lt;</span>Future<span class="token operator">&lt;</span>Integer<span class="token operator">>></span> futureList <span class="token operator">=</span> executorService<span class="token punctuation">.</span><span class="token function">invokeAll</span><span class="token punctuation">(</span>callableList<span class="token punctuation">)</span><span class="token punctuation">;</span>
System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>futureList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>futureList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">completionService<span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// é˜»å¡ï¼ŒçŸ¥é“æœ‰ä»»åŠ¡å®Œæˆå¯ä»¥è·å–ç»“æœ</span>
completionService<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//pollç›´æ¥è¿”å›ï¼Œä¸é˜»å¡ã€‚ä½†æ˜¯æ²¡æœ‰å®Œæˆçš„ä»»åŠ¡åˆ™è¿”å›null</span>
completionService<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span>TimeUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//é˜»å¡ç­‰å¾…æŒ‡å®šæ—¶é—´ï¼Œå¦‚æœæœ‰å®Œæˆç»“æœè¿”å›ï¼Œæ²¡æœ‰çš„ç›´æ¥è¿”å›null</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>è·å–æœ€å…ˆå®Œæˆçš„ä»»åŠ¡</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>future <span class="token operator">=</span> completionService<span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="3-9-CompletableFuture"><a href="#3-9-CompletableFuture" class="headerlink" title="3.9 CompletableFuture"></a>3.9 CompletableFuture</h3><h4 id="å…¥é—¨ä½“éªŒ"><a href="#å…¥é—¨ä½“éªŒ" class="headerlink" title="å…¥é—¨ä½“éªŒ"></a>å…¥é—¨ä½“éªŒ</h4><p><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html" target="_blank" rel="noopener">Java Doc Api </a></p>
<blockquote>
<p>ExecutorService + future å½“ä»»åŠ¡æ‰§è¡Œå®Œæˆçš„æ—¶å€™é€šçŸ¥è°ƒåŠ¨è€…</p>
<p>è§£å†³futureçš„ç¼ºç‚¹ï¼š</p>
<ol>
<li>å¤šä¸ªfutureä¸çŸ¥é“è°å…ˆæ‰§è¡Œå®Œ</li>
<li>futureéœ€è¦ä¸»åŠ¨å»æ‹¿è€Œä¸”future.get() ä¼šé˜»å¡</li>
<li>futureè·å–çš„ç»“æœåœ¨æ”¾å…¥çº¿ç¨‹æ± éœ€è¦new callbackï¼Œè¾¾ä¸åˆ°æè¿</li>
</ol>
<p>è§£å†³æ¡ˆä¾‹ï¼š<br>F:\Source\javaBase\src\main\java\com\sample\current\executor\CompletableFutureExample.java</p>
</blockquote>
<p>çŸ¥è¯†ç‚¹ï¼š</p>
<ol>
<li>CompletableFuture é»˜è®¤çš„çº¿ç¨‹æ˜¯å®ˆæŠ¤çº¿ç¨‹å½“è°ƒç”¨è€…é€€å‡ºï¼Œé»˜è®¤ç›´æ¥é€€å‡ºï¼›</li>
</ol>
<h4 id="å¤šä¸ªCompletableFutureçš„ç»„åˆ"><a href="#å¤šä¸ªCompletableFutureçš„ç»„åˆ" class="headerlink" title="å¤šä¸ªCompletableFutureçš„ç»„åˆ"></a>å¤šä¸ªCompletableFutureçš„ç»„åˆ</h4><h3 id="å®æˆ˜ç»éªŒ"><a href="#å®æˆ˜ç»éªŒ" class="headerlink" title="å®æˆ˜ç»éªŒ"></a>å®æˆ˜ç»éªŒ</h3><h4 id="1-ä»»åŠ¡è¶…æ—¶æ— æ³•shutdown"><a href="#1-ä»»åŠ¡è¶…æ—¶æ— æ³•shutdown" class="headerlink" title="1. ä»»åŠ¡è¶…æ—¶æ— æ³•shutdown"></a>1. ä»»åŠ¡è¶…æ—¶æ— æ³•shutdown</h4><blockquote>
<p>å½“æœ‰runnableè®¿é—®æŸä¸ªèµ„æºï¼Œç½‘ç»œè¯·æ±‚ï¼ŒæŸä¸ªdbç‰¹åˆ«æ…¢ä»»åŠ¡è¿‡é‡çš„æ—¶å€™ï¼Œshutdown/shutdownNow æ— æ³•ä½¿ç”¨</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java">   <span class="token comment" spellcheck="true">//æ–°å»ºçº¿ç¨‹æ± æ—¶ï¼Œä½¿ç”¨å®ˆæŠ¤çº¿ç¨‹çš„æ–¹å¼</span>
   <span class="token keyword">new</span> <span class="token class-name">ThreadFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> Thread <span class="token function">newThread</span><span class="token punctuation">(</span>Runnable r<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
           Thread thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
           thread<span class="token punctuation">.</span><span class="token function">setDaemon</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">return</span> thread<span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
       <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="2-ExecutorServiceä¸­çš„é™·é˜±"><a href="#2-ExecutorServiceä¸­çš„é™·é˜±" class="headerlink" title="2. ExecutorServiceä¸­çš„é™·é˜±"></a>2. ExecutorServiceä¸­çš„é™·é˜±</h4><blockquote>
<p> çº¿ç¨‹æ± ä¸­æ‰§è¡Œå®Œä¸€æ®µæ—¶é—´ï¼ˆ20sï¼‰ï¼Œshutdownçº¿ç¨‹ï¼Œç„¶åè®°å½•ä¸‹æœªå®Œæˆçš„ä»»åŠ¡<br> ç­”æ¡ˆï¼š F:\Source\javaBase\src\main\java\com\sample\current\executor\ComplexExample.java</p>
</blockquote>
<p>   <code>ä½¿ç”¨CompletionService + shutdownNow è¿”å›æœªå®Œæˆå€¼çš„æ–¹å¼</code>, å®¹æ˜“çŠ¯çš„é—®é¢˜ï¼š</p>
<ol>
<li>ExecutorCompletionService æŠŠrunableé‡æ–°å°è£…ï¼ŒshutdownNow è¿”å›ç§æœ‰ç±»æ— æ³•ä½¿ç”¨</li>
<li>shutdownNow æ²¡æœ‰åŒ…æ‹¬ä¸­æ–­çš„ä»»åŠ¡</li>
</ol>
<h3 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p><img src="http://cdn.linz.tech/threads-executor.png" alt="1559003770862"></p>
<h2 id="4-å¹¶å‘é›†åˆ"><a href="#4-å¹¶å‘é›†åˆ" class="headerlink" title="4. å¹¶å‘é›†åˆ"></a>4. å¹¶å‘é›†åˆ</h2><p>å¸¸ç”¨çš„å¹¶å‘é›†åˆç±»</p>
<pre class="line-numbers language-java"><code class="language-java"> ConcurrentHashMap    
 ConcurrentSkipListMap
 ConcurrentLinkedQueue
 ConcurrentLinkedDeque
 CopyOnWriteArraySet  
 CopyOnWriteArrayList 

 ArrayBlockingQueue   
 PriorityBlockingQueue
 LinkedBlockingQueue  
 SynchronousQueue     
 DelayQueue           
 LinkedTransferQueue  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="1-LinkedList-å®ç°"><a href="#1-LinkedList-å®ç°" class="headerlink" title="1. LinkedList  å®ç°"></a>1. LinkedList  å®ç°</h3><pre class="line-numbers language-shell"><code class="language-shell">LinkedList                                            Binary search treee
1. å•å‘LinkedList            Stack                    B+ tree
2. å•é¡¹æœ‰åº          ==>      Queue     ç”±æ ‘çš„å¹³è¡¡æ€§    Red Black tree
3. åŒå‘                      Binary Tree ==>          AVL
4. åŒå‘æœ‰åº                                           2-3-4 Tree 
                                                     Spary's Tree<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>æ— åº F:\Source\javaBase\src\main\java\com\sample\current\collections\LinkedList.java</li>
<li>æœ‰åº F:\Source\javaBase\src\main\java\com\sample\current\collections\PriorityLinkedList.java</li>
</ul>
<h3 id="2-SkipListè·³è¡¨æ•°æ®ç»“æ„å®ç°"><a href="#2-SkipListè·³è¡¨æ•°æ®ç»“æ„å®ç°" class="headerlink" title="2. SkipListè·³è¡¨æ•°æ®ç»“æ„å®ç°"></a>2. SkipListè·³è¡¨æ•°æ®ç»“æ„å®ç°</h3><blockquote>
<p>F:\Source\javaBase\src\main\java\com\sample\current\collections\SimpleSkipList.java</p>
</blockquote>
<p>è·³è¡¨çš„å®ç°</p>
<p>è·³è¡¨çš„æŠ€æœ¯ç‰¹ç‚¹</p>
<ol>
<li>ä¸€ç§éšæœºçš„æ•°æ®ç»“æ„</li>
<li>æœ€åº•å±‚åŒ…å«æ•´ä¸ªè·³è¡¨çš„æ‰€æœ‰å…ƒç´ </li>
<li>å…¸å‹çš„ç©ºé—´æ¢æ—¶é—´çš„ç®—æ³•</li>
<li>ç”±äºå¯¹æ¯”æ•ˆç‡é«˜ï¼ŒæŸ¥æ‰¾åˆ é™¤å¿«</li>
</ol>
<h3 id="3-ArrayBlockingQueue"><a href="#3-ArrayBlockingQueue" class="headerlink" title="3. ArrayBlockingQueue"></a>3. ArrayBlockingQueue</h3><p>æ’å…¥é˜Ÿåˆ—æ–¹æ³•(ä¸»è¦åŒºåˆ†æ˜¯é˜Ÿåˆ—æ»¡æ—¶åº”è¯¥æ€ä¹ˆååº”ï¼Œå¼‚å¸¸ï¼Œç­‰å¾…ï¼Œè¿”å›å€¼)</p>
<table>
<thead>
<tr>
<th align="center">æ–¹æ³•åç§°</th>
<th align="center">å‚æ•°æè¿°</th>
<th align="center">è¿”å›å€¼</th>
<th align="center">å¼‚å¸¸ä¿¡æ¯</th>
</tr>
</thead>
<tbody><tr>
<td align="center">add</td>
<td align="center">æ’å…¥å¯¹è±¡</td>
<td align="center">tureä»£è¡¨æ’å…¥æˆåŠŸï¼Œå¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼ŒæŠ›å‡ºå¼‚å¸¸</td>
<td align="center">IllegalStateException(â€œQueue fullâ€)å¼‚å¸¸â€”â€”AbstractQueue</td>
</tr>
<tr>
<td align="center">offer</td>
<td align="center">æ’å…¥å¯¹è±¡</td>
<td align="center">trueä»£è¡¨æ’å…¥æˆåŠŸï¼Œé˜Ÿåˆ—å·²æ»¡ç›´æ¥è¿”å›false</td>
<td align="center">æ— </td>
</tr>
<tr>
<td align="center">offer</td>
<td align="center">æ’å…¥å¯¹è±¡ï¼Œç­‰å¾…æ—¶é—´</td>
<td align="center">trueä»£è¡¨æ’å…¥æˆåŠŸï¼Œé˜Ÿåˆ—å·²æ»¡<code>ç­‰å¾…</code>ä¸€æ®µæ—¶é—´åä»æ²¡æœ‰ç©ºé—´åˆ™è¿”å›false</td>
<td align="center">æ— </td>
</tr>
<tr>
<td align="center">put</td>
<td align="center">æ’å…¥å¯¹è±¡</td>
<td align="center">trueä»£è¡¨æ’å…¥æˆåŠŸï¼Œå¦‚æœé˜Ÿåˆ—å·²æ»¡åˆ™<code>é˜»å¡</code>çº¿ç¨‹ç­‰å¾…é˜Ÿåˆ—ä¸ºç©ºçš„æ—¶å€™æ’å…¥</td>
<td align="center"></td>
</tr>
</tbody></table>
<p>è·å–é˜Ÿåˆ—å†…å®¹</p>
<table>
<thead>
<tr>
<th align="center">æ–¹æ³•åç§°</th>
<th align="center">å‚æ•°æè¿°</th>
<th align="center">è¿”å›å€¼</th>
<th align="center">å¼‚å¸¸ä¿¡æ¯</th>
</tr>
</thead>
<tbody><tr>
<td align="center">remove</td>
<td align="center">æ— </td>
<td align="center">è¿”å›é˜Ÿé¦–æ•°æ®å¹¶ç§»é™¤ï¼Œé˜Ÿåˆ—å·²ç©ºåˆ™æŠ›å‡ºå¼‚å¸¸ä¿¡æ¯</td>
<td align="center">NoSuchElementException()å¼‚å¸¸â€”â€”AbstractQueue</td>
</tr>
<tr>
<td align="center">poll</td>
<td align="center">æ— </td>
<td align="center">åˆ—ä¸ä¸ºç©ºæ—¶è¿”å›é˜Ÿ<code>é¦–å€¼</code>å¹¶ç§»é™¤ï¼›é˜Ÿåˆ—ä¸ºç©ºæ—¶è¿”å›nullã€‚<code>éé˜»å¡</code>ç«‹å³è¿”å›ã€‚</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">poll</td>
<td align="center">ç­‰å¾…æ—¶é—´</td>
<td align="center">è®¾å®šç­‰å¾…çš„æ—¶é—´ï¼Œå¦‚æœåœ¨æŒ‡å®šæ—¶é—´å†…é˜Ÿåˆ—è¿˜æœªå­”åˆ™è¿”å›nullï¼Œä¸ä¸ºç©ºåˆ™è¿”å›é˜Ÿé¦–å€¼</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">take</td>
<td align="center">æ— </td>
<td align="center">é˜Ÿåˆ—ä¸ä¸ºç©ºè¿”å›é˜Ÿé¦–å€¼å¹¶ç§»é™¤ï¼›å½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ä¼šé˜»å¡ç­‰å¾…ï¼Œä¸€ç›´ç­‰åˆ°é˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶å†è¿”å›é˜Ÿé¦–å€¼ã€‚</td>
<td align="center"></td>
</tr>
</tbody></table>
<p>å‚è€ƒï¼š</p>
<p><a href="https://www.battleheart.cn/2019/04/06/arrayblockingqueue-principle/#" target="_blank" rel="noopener">ArrayBlockingQueueåŸç†è¯¦è§£</a></p>
<h2 id="JDK-æ–°ç‰¹æ€§"><a href="#JDK-æ–°ç‰¹æ€§" class="headerlink" title="JDK æ–°ç‰¹æ€§"></a>JDK æ–°ç‰¹æ€§</h2><h3 id="LongAddr"><a href="#LongAddr" class="headerlink" title="LongAddr"></a>LongAddr</h3><blockquote>
<p>Atomctic çš„ä¸åŒä¹‹å¤„</p>
</blockquote>
<ul>
<li>ç«äº‰å¤šä¸ªèµ„æºï¼ˆæ‹†åˆ†ä¸ºCellæ•°ç»„ï¼‰</li>
<li>åŠ¨æ€æ‰©å®¹</li>
</ul>
<p>ç¼ºç‚¹ï¼š </p>
<p>LongAdderåœ¨ç»Ÿè®¡çš„æ—¶å€™å¦‚æœæœ‰å¹¶å‘æ›´æ–°ï¼Œå¯èƒ½å¯¼è‡´ç»Ÿè®¡çš„æ•°æ®æœ‰è¯¯å·®java</p>
<h4 id="æä¾›çš„æ–¹æ³•"><a href="#æä¾›çš„æ–¹æ³•" class="headerlink" title="æä¾›çš„æ–¹æ³•"></a>æä¾›çš„æ–¹æ³•</h4><ol>
<li>add()ï¼šå¢åŠ æŒ‡å®šçš„æ•°å€¼ï¼›</li>
<li>increament()ï¼šå¢åŠ 1ï¼›</li>
<li>decrement()ï¼šå‡å°‘1ï¼›</li>
<li>intValue()/floatValue()/doubleValue()ï¼šå¾—åˆ°æœ€ç»ˆè®¡æ•°åçš„ç»“æœ</li>
<li>sum()ï¼šæ±‚å’Œï¼Œå¾—åˆ°æœ€ç»ˆè®¡æ•°ç»“æœ</li>
<li>sumThenReset()ï¼šæ±‚å’Œå¾—åˆ°æœ€ç»ˆè®¡æ•°ç»“æœï¼Œå¹¶é‡ç½®valueã€‚</li>
</ol>
<h1 id="é˜¶æ®µå››-å¹¶å‘æ·±å…¥æ¢è®¨"><a href="#é˜¶æ®µå››-å¹¶å‘æ·±å…¥æ¢è®¨" class="headerlink" title="é˜¶æ®µå››: å¹¶å‘æ·±å…¥æ¢è®¨"></a>é˜¶æ®µå››: å¹¶å‘æ·±å…¥æ¢è®¨</h1><h2 id="ç¬¬1èŠ‚-é”"><a href="#ç¬¬1èŠ‚-é”" class="headerlink" title="ç¬¬1èŠ‚ é”"></a>ç¬¬1èŠ‚ é”</h2><p>â€¢è½»é‡çº§é”</p>
<p>â€¢é‡é‡çº§é”</p>
<p>â€¢é‡å…¥é”</p>
<p>â€¢è‡ªæ—‹é”</p>
<p>â€¢å…±äº«é”</p>
<p>â€¢ç‹¬å é”</p>
<p>â€¢æ’ä»–é”</p>
<p>â€¢è¯»å†™é”</p>
<p>â€¢å…¬å¹³é”</p>
<p>â€¢éå…¬å¹³é”</p>
<p>â€¢æ­»é”</p>
<p>â€¢æ´»é”</p>
<h3 id="1-1-æ­»é”"><a href="#1-1-æ­»é”" class="headerlink" title="1.1 æ­»é”"></a>1.1 æ­»é”</h3><p><a href="https://blog.csdn.net/hd12370/article/details/82814348" target="_blank" rel="noopener">æ­»é”é¢è¯•é¢˜ï¼ˆä»€ä¹ˆæ˜¯æ­»é”ï¼Œäº§ç”Ÿæ­»é”çš„åŸå› åŠå¿…è¦æ¡ä»¶ï¼‰</a></p>
<blockquote>
<p> Jconsole -&gt; çº¿ç¨‹-&gt; æœ‰<code>æ£€æµ‹æ­»é”</code>çš„å·¥å…·</p>
</blockquote>
<h4 id="1-1-1-æ­»é”çš„åˆ†ç±»"><a href="#1-1-1-æ­»é”çš„åˆ†ç±»" class="headerlink" title="1.1.1 æ­»é”çš„åˆ†ç±»"></a>1.1.1 æ­»é”çš„åˆ†ç±»</h4><ol>
<li><p>1 é¡ºåºæ­»é”ï¼ŒAè°ƒç”¨<code>leftRight()</code>ï¼ŒBè°ƒç”¨<code>rightLeft()</code> ï¼ˆå•æ‰€å†…æœ‰å‘ï¼Œå•æ‰€å¤–æœ‰çº¸ï¼Œç›¸äº’ç¼ºå°‘ï¼‰</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LeftRightDeadlock</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> Object left <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> Object right <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">leftRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// å¾—åˆ°lefté”</span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>left<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// å¾—åˆ°righté”</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">rightLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// å¾—åˆ°righté”</span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// å¾—åˆ°lefté”</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>left<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">doSomethingElse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code></code></pre></li>
<li><p>2 åŠ¨æ€æ­»é”ï¼Œè¿›æ¥é”å®šè‡ªå·±çš„è´¦æˆ·ï¼Œç›¸äº’ç­‰å¾…ã€‚</p>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token comment" spellcheck="true">// è½¬è´¦</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">transferMoney</span><span class="token punctuation">(</span>Account fromAccount<span class="token punctuation">,</span>
                                     Account toAccount<span class="token punctuation">,</span>
                                     DollarAmount amount<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> InsufficientFundsException <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// é”å®šæ±‡è´¦è´¦æˆ·</span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>fromAccount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// é”å®šæ¥è´¦è´¦æˆ·</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>toAccount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// åˆ¤ä½™é¢æ˜¯å¦å¤§äº0</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>fromAccount<span class="token punctuation">.</span><span class="token function">getBalance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">InsufficientFundsException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token comment" spellcheck="true">// æ±‡è´¦è´¦æˆ·å‡é’±</span>
                    fromAccount<span class="token punctuation">.</span><span class="token function">debit</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// æ¥è´¦è´¦æˆ·å¢é’±</span>
                    toAccount<span class="token punctuation">.</span><span class="token function">credit</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>å¦‚æœä¸¤ä¸ªçº¿ç¨‹<strong>åŒæ—¶</strong>è°ƒç”¨<code>transferMoney()</code></li>
<li>çº¿ç¨‹Aä»Xè´¦æˆ·å‘Yè´¦æˆ·è½¬è´¦</li>
<li>çº¿ç¨‹Bä»è´¦æˆ·Yå‘è´¦æˆ·Xè½¬è´¦ï¼Œäº§ç”Ÿæ­»é”ã€‚</li>
</ul>
</li>
<li><p>3 åä½œå¯¹è±¡ä¹‹é—´</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CooperatingDeadlock</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// Warning: deadlock-prone!</span>
    <span class="token keyword">class</span> <span class="token class-name">Taxi</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@GuardedBy</span><span class="token punctuation">(</span><span class="token string">"this"</span><span class="token punctuation">)</span> <span class="token keyword">private</span> Point location<span class="token punctuation">,</span> destination<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">final</span> Dispatcher dispatcher<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">Taxi</span><span class="token punctuation">(</span>Dispatcher dispatcher<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>dispatcher <span class="token operator">=</span> dispatcher<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">synchronized</span> Point <span class="token function">getLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> location<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment" spellcheck="true">// setLocation éœ€è¦Taxiå†…ç½®é”</span>
        <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">setLocation</span><span class="token punctuation">(</span>Point location<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>location <span class="token operator">=</span> location<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>location<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>destination<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token comment" spellcheck="true">// è°ƒç”¨notifyAvailable()éœ€è¦Dispatcherå†…ç½®é”</span>
                dispatcher<span class="token punctuation">.</span><span class="token function">notifyAvailable</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">synchronized</span> Point <span class="token function">getDestination</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> destination<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">setDestination</span><span class="token punctuation">(</span>Point destination<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>destination <span class="token operator">=</span> destination<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">class</span> <span class="token class-name">Dispatcher</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@GuardedBy</span><span class="token punctuation">(</span><span class="token string">"this"</span><span class="token punctuation">)</span> <span class="token keyword">private</span> <span class="token keyword">final</span> Set<span class="token operator">&lt;</span>Taxi<span class="token operator">></span> taxis<span class="token punctuation">;</span>
        <span class="token annotation punctuation">@GuardedBy</span><span class="token punctuation">(</span><span class="token string">"this"</span><span class="token punctuation">)</span> <span class="token keyword">private</span> <span class="token keyword">final</span> Set<span class="token operator">&lt;</span>Taxi<span class="token operator">></span> availableTaxis<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">Dispatcher</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            taxis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span>Taxi<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            availableTaxis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span>Taxi<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">notifyAvailable</span><span class="token punctuation">(</span>Taxi taxi<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            availableTaxis<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>taxi<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment" spellcheck="true">// è°ƒç”¨getImage()éœ€è¦Dispatcherå†…ç½®é”</span>
        <span class="token keyword">public</span> <span class="token keyword">synchronized</span> Image <span class="token function">getImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Image image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>Taxi t <span class="token operator">:</span> taxis<span class="token punctuation">)</span>
                <span class="token comment" spellcheck="true">// è°ƒç”¨getLocation()éœ€è¦Taxiå†…ç½®é”</span>
                image<span class="token punctuation">.</span><span class="token function">drawMarker</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">getLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> image<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">class</span> <span class="token class-name">Image</span> <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">drawMarker</span><span class="token punctuation">(</span>Point p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>Dispatcher</code>çš„getImage() åŠ<code>Taxi</code>çš„setLocationæœ‰ç›¸äº’é”çš„å¯èƒ½æ€§</p>
</li>
</ol>
<h4 id="1-1-2-é¿å…æ­»é”"><a href="#1-1-2-é¿å…æ­»é”" class="headerlink" title="1.1.2 é¿å…æ­»é”"></a>1.1.2 é¿å…æ­»é”</h4><ul>
<li><strong>å›ºå®šåŠ é”çš„é¡ºåº</strong>(é’ˆå¯¹é”é¡ºåºæ­»é”)</li>
<li><strong>å¼€æ”¾è°ƒç”¨</strong>(é’ˆå¯¹å¯¹è±¡ä¹‹é—´åä½œé€ æˆçš„æ­»é”)</li>
<li><strong>ä½¿ç”¨å®šæ—¶é”</strong>â€“&gt;<code>tryLock()</code></li>
</ul>
<h5 id="2-1-å›ºå®šé”é¡ºåºé¿å…æ­»é”"><a href="#2-1-å›ºå®šé”é¡ºåºé¿å…æ­»é”" class="headerlink" title="2.1 å›ºå®šé”é¡ºåºé¿å…æ­»é”"></a>2.1 å›ºå®šé”é¡ºåºé¿å…æ­»é”</h5><blockquote>
<p>ç”¨HashCode å›ºå®šé¡ºåº</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InduceLockOrder</span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">// é¢å¤–çš„é”ã€é¿å…ä¸¤ä¸ªå¯¹è±¡hashå€¼ç›¸ç­‰çš„æƒ…å†µ(å³ä½¿å¾ˆå°‘)</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Object tieLock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">transferMoney</span><span class="token punctuation">(</span><span class="token keyword">final</span> Account fromAcct<span class="token punctuation">,</span>
                              <span class="token keyword">final</span> Account toAcct<span class="token punctuation">,</span>
                              <span class="token keyword">final</span> DollarAmount amount<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> InsufficientFundsException <span class="token punctuation">{</span>
        <span class="token keyword">class</span> <span class="token class-name">Helper</span> <span class="token punctuation">{</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">transfer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> InsufficientFundsException <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>fromAcct<span class="token punctuation">.</span><span class="token function">getBalance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">InsufficientFundsException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    fromAcct<span class="token punctuation">.</span><span class="token function">debit</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    toAcct<span class="token punctuation">.</span><span class="token function">credit</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment" spellcheck="true">// å¾—åˆ°é”çš„hashå€¼</span>
        <span class="token keyword">int</span> fromHash <span class="token operator">=</span> System<span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span>fromAcct<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> toHash <span class="token operator">=</span> System<span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span>toAcct<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// æ ¹æ®hashå€¼æ¥ä¸Šé”</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>fromHash <span class="token operator">&lt;</span> toHash<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>fromAcct<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>toAcct<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">new</span> <span class="token class-name">Helper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>fromHash <span class="token operator">></span> toHash<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment" spellcheck="true">// æ ¹æ®hashå€¼æ¥ä¸Šé”</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>toAcct<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>fromAcct<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">new</span> <span class="token class-name">Helper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment" spellcheck="true">// é¢å¤–çš„é”ã€é¿å…ä¸¤ä¸ªå¯¹è±¡hashå€¼ç›¸ç­‰çš„æƒ…å†µ(å³ä½¿å¾ˆå°‘)</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>tieLock<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>fromAcct<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>toAcct<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">new</span> <span class="token class-name">Helper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="2-2-å¼€æ”¾è°ƒç”¨é¿å…æ­»é”"><a href="#2-2-å¼€æ”¾è°ƒç”¨é¿å…æ­»é”" class="headerlink" title="2.2 å¼€æ”¾è°ƒç”¨é¿å…æ­»é”"></a>2.2 å¼€æ”¾è°ƒç”¨é¿å…æ­»é”</h5><blockquote>
<p><strong>å¦‚æœåœ¨è°ƒç”¨æŸä¸ªæ–¹æ³•æ—¶ä¸éœ€è¦æŒæœ‰é”ï¼Œé‚£ä¹ˆè¿™ç§è°ƒç”¨è¢«ç§°ä¸ºå¼€æ”¾è°ƒç”¨</strong>ï¼</p>
<p>ç”¨å±€éƒ¨ä»£ç å—é”ä»£æ›¿æ•´ä¸ªæ–¹æ³•çš„é”</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">CooperatingNoDeadlock</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@ThreadSafe</span>
    <span class="token keyword">class</span> <span class="token class-name">Taxi</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@GuardedBy</span><span class="token punctuation">(</span><span class="token string">"this"</span><span class="token punctuation">)</span> <span class="token keyword">private</span> Point location<span class="token punctuation">,</span> destination<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">final</span> Dispatcher dispatcher<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">Taxi</span><span class="token punctuation">(</span>Dispatcher dispatcher<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>dispatcher <span class="token operator">=</span> dispatcher<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">synchronized</span> Point <span class="token function">getLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> location<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">setLocation</span><span class="token punctuation">(</span>Point location<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">boolean</span> reachedDestination<span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">// åŠ Taxiå†…ç½®é”</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>location <span class="token operator">=</span> location<span class="token punctuation">;</span>
                reachedDestination <span class="token operator">=</span> location<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment" spellcheck="true">// æ‰§è¡ŒåŒæ­¥ä»£ç å—åå®Œæ¯•ï¼Œé‡Šæ”¾é”</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>reachedDestination<span class="token punctuation">)</span>
                <span class="token comment" spellcheck="true">// åŠ Dispatcherå†…ç½®é”</span>
                dispatcher<span class="token punctuation">.</span><span class="token function">notifyAvailable</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">synchronized</span> Point <span class="token function">getDestination</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> destination<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">setDestination</span><span class="token punctuation">(</span>Point destination<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>destination <span class="token operator">=</span> destination<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@ThreadSafe</span>
    <span class="token keyword">class</span> <span class="token class-name">Dispatcher</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@GuardedBy</span><span class="token punctuation">(</span><span class="token string">"this"</span><span class="token punctuation">)</span> <span class="token keyword">private</span> <span class="token keyword">final</span> Set<span class="token operator">&lt;</span>Taxi<span class="token operator">></span> taxis<span class="token punctuation">;</span>
        <span class="token annotation punctuation">@GuardedBy</span><span class="token punctuation">(</span><span class="token string">"this"</span><span class="token punctuation">)</span> <span class="token keyword">private</span> <span class="token keyword">final</span> Set<span class="token operator">&lt;</span>Taxi<span class="token operator">></span> availableTaxis<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">Dispatcher</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            taxis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span>Taxi<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            availableTaxis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span>Taxi<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">notifyAvailable</span><span class="token punctuation">(</span>Taxi taxi<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            availableTaxis<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>taxi<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> Image <span class="token function">getImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Set<span class="token operator">&lt;</span>Taxi<span class="token operator">></span> copy<span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">// Dispatcherå†…ç½®é”</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                copy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span>Taxi<span class="token operator">></span><span class="token punctuation">(</span>taxis<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment" spellcheck="true">// æ‰§è¡ŒåŒæ­¥ä»£ç å—åå®Œæ¯•ï¼Œé‡Šæ”¾é”</span>

            Image image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>Taxi t <span class="token operator">:</span> copy<span class="token punctuation">)</span>
                <span class="token comment" spellcheck="true">// åŠ Taixå†…ç½®é”</span>
                image<span class="token punctuation">.</span><span class="token function">drawMarker</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">getLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> image<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">class</span> <span class="token class-name">Image</span> <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">drawMarker</span><span class="token punctuation">(</span>Point p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="2-3-ä½¿ç”¨å®šæ—¶é”"><a href="#2-3-ä½¿ç”¨å®šæ—¶é”" class="headerlink" title="2.3 ä½¿ç”¨å®šæ—¶é”"></a>2.3 ä½¿ç”¨å®šæ—¶é”</h5><h3 id="1-2-åå‘é”-è½»é‡çº§é”-é‡é‡çº§é”"><a href="#1-2-åå‘é”-è½»é‡çº§é”-é‡é‡çº§é”" class="headerlink" title="1.2  åå‘é”/è½»é‡çº§é”/é‡é‡çº§é”"></a>1.2  åå‘é”/è½»é‡çº§é”/é‡é‡çº§é”</h3><h3 id="1-3-ç‹¬äº«é”-amp-å…±äº«é”"><a href="#1-3-ç‹¬äº«é”-amp-å…±äº«é”" class="headerlink" title="1.3 ç‹¬äº«é” &amp; å…±äº«é”"></a>1.3 ç‹¬äº«é” &amp; å…±äº«é”</h3><p>ç‹¬äº«é”(äº’æ–¥é”)ï¼šåŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è·å¾—é”æ¯”å¦‚ï¼ŒReentrantLock æ˜¯äº’æ–¥é”ï¼ŒReadWriteLock ä¸­çš„å†™é”æ˜¯äº’æ–¥é”ã€‚ å…±äº«é”ï¼šå¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶è·å¾—é”ã€‚æ¯”å¦‚ï¼ŒSemaphoreã€CountDownLatch æ˜¯å…±äº«é”ï¼ŒReadWriteLock ä¸­çš„è¯»é”æ˜¯å…±äº«é”ã€‚</p>
<h1 id="æ·±åº¦é—®é¢˜"><a href="#æ·±åº¦é—®é¢˜" class="headerlink" title="æ·±åº¦é—®é¢˜"></a>æ·±åº¦é—®é¢˜</h1><h2 id="Javaçš„å¤šè·¯å¤ç”¨"><a href="#Javaçš„å¤šè·¯å¤ç”¨" class="headerlink" title="Javaçš„å¤šè·¯å¤ç”¨"></a>Javaçš„å¤šè·¯å¤ç”¨</h2><ol>
<li><a href="https://www.cnblogs.com/straybirds/p/9479158.html" target="_blank" rel="noopener">å¸¸ç”¨4ç§IOæ¨¡å‹ï¼ˆåŒæ­¥/å¼‚æ­¥/é˜»å¡/éé˜»å¡çš„æ¦‚å¿µï¼‰</a></li>
</ol>
<h1 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h1><h2 id="é—®é¢˜å®šä½"><a href="#é—®é¢˜å®šä½" class="headerlink" title="é—®é¢˜å®šä½"></a>é—®é¢˜å®šä½</h2><blockquote>
<p>æ•°æ®+ å·¥å…·+ ç»éªŒ</p>
</blockquote>
<p>æ“ä½œç³»ç»Ÿâ€“&gt; JVM è™šæ‹Ÿæœº(javaæä¾›çš„å·¥å…·)â€“&gt; æ•°æ® </p>
<h3 id="jstack-ä½¿ç”¨"><a href="#jstack-ä½¿ç”¨" class="headerlink" title="jstack ä½¿ç”¨"></a>jstack ä½¿ç”¨</h3><p><img src="https://img-blog.csdn.net/20160929103820068" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<blockquote>
<p>å»ºè®®çº¿ç¨‹åå­—ç»™çš„æœ‰æ„ä¹‰ï¼Œåœ¨æ’æŸ¥é—®é¢˜æ—¶å¾ˆæœ‰å¿…è¦ã€‚</p>
</blockquote>
<ol>
<li><code>jps -v</code> åˆ—å‡ºæ‰€æœ‰Javaè¿›ç¨‹ï¼Œæ‹¿åˆ°pid=1523</li>
<li><code>jstack 1523 &gt; 1523.log</code> å°†dumpæ–‡ä»¶è¾“å‡ºåˆ°æ—¥å¿—</li>
<li>ä¸Šä¼ åˆ°<a href="http://heaphero.io/index.jsp" target="_blank" rel="noopener">http://heaphero.io/index.jsp</a> æˆ–ä½¿ç”¨MATåˆ†æ</li>
</ol>
<h2 id="Best-practice"><a href="#Best-practice" class="headerlink" title="Best  practice"></a>Best  practice</h2><ol>
<li><p>å°½é‡ä¸è¦åœ¨çº¿ç¨‹ä¸­åšå¤§é‡è€—æ—¶çš„ç½‘ç»œæ“ä½œï¼Œå¦‚æŸ¥è¯¢æ•°æ®åº“ï¼ˆå¯ä»¥çš„è¯åœ¨ä¸€å¼€å§‹å°±å°†æ•°æ®ä»ä» DB ä¸­æŸ¥å‡ºå‡†å¤‡å¥½ï¼‰ã€èƒ½åœ¨åˆå§‹åŒ–åšçš„è€—æ—¶å®Œæˆã€‘</p>
</li>
<li><p>å°½å¯èƒ½çš„å‡å°‘å¤šçº¿ç¨‹ç«äº‰é”ã€‚å¯ä»¥å°†æ•°æ®åˆ†æ®µï¼Œå„ä¸ªçº¿ç¨‹åˆ†åˆ«è¯»å–ã€‚</p>
</li>
<li><p>å¤šåˆ©ç”¨ <code>CAS+è‡ªæ—‹</code> çš„æ–¹å¼æ›´æ–°æ•°æ®ï¼Œå‡å°‘é”çš„ä½¿ç”¨ã€‚ã€å¾…å®è·µã€‘</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">private</span> AtomicReference<span class="token operator">&lt;</span>Thread<span class="token operator">></span> atomicReference <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AtomicReference</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>atomicReference<span class="token punctuation">.</span><span class="token function">compareAndSet</span><span class="token punctuation">(</span>null<span class="token punctuation">,</span> <span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    atomicReference<span class="token punctuation">.</span><span class="token function">compareAndSet</span><span class="token punctuation">(</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>åº”ç”¨ä¸­åŠ ä¸Š <code>-XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp</code> å‚æ•°ï¼Œåœ¨å†…å­˜æº¢å‡ºæ—¶è‡³å°‘å¯ä»¥æ‹¿åˆ°å†…å­˜æ—¥å¿—ã€‚</p>
</li>
<li><p>çº¿ç¨‹æ± ç›‘æ§ã€‚å¦‚çº¿ç¨‹æ± å¤§å°ã€é˜Ÿåˆ—å¤§å°ã€æœ€å¤§çº¿ç¨‹æ•°ç­‰æ•°æ®ï¼Œå¯æå‰åšå¥½é¢„ä¼°ã€‚</p>
<pre class="line-numbers language-java"><code class="language-java"> ThreadPoolExecutor tpe <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ThreadPoolExecutor<span class="token punctuation">)</span> es<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> queueSize <span class="token operator">=</span> tpe<span class="token punctuation">.</span><span class="token function">getQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å½“å‰æ’é˜Ÿçº¿ç¨‹æ•°ï¼š"</span> <span class="token operator">+</span> queueSize<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> activeCount <span class="token operator">=</span> tpe<span class="token punctuation">.</span><span class="token function">getActiveCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å½“å‰æ´»åŠ¨çº¿ç¨‹æ•°ï¼š"</span> <span class="token operator">+</span> activeCount<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">long</span> completedTaskCount <span class="token operator">=</span> tpe<span class="token punctuation">.</span><span class="token function">getCompletedTaskCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‰§è¡Œå®Œæˆçº¿ç¨‹æ•°ï¼š"</span> <span class="token operator">+</span> completedTaskCount<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">long</span> taskCount <span class="token operator">=</span> tpe<span class="token punctuation">.</span><span class="token function">getTaskCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ€»çº¿ç¨‹æ•°ï¼š"</span> <span class="token operator">+</span> taskCount<span class="token punctuation">)</span><span class="token punctuation">;</span>

        Thread<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>JVM ç›‘æ§ï¼Œå¯ä»¥çœ‹åˆ°å †å†…å­˜çš„æ¶¨å¹…è¶‹åŠ¿ï¼ŒGC æ›²çº¿ç­‰æ•°æ®ï¼Œä¹Ÿå¯ä»¥æå‰åšå¥½å‡†å¤‡ã€‚</p>
<ol>
<li>Linux ç³»ç»Ÿç›‘æ§ æŸ¥çœ‹ï¼ˆLinuxèœé¸Ÿç§æˆ¿èœç¬”è®°ï¼‰ä¹‹  æ€§èƒ½ç›‘æ§ ã€å¾…å®è·µæ€»ç»“ã€‘</li>
<li><code>jstat</code>     JVMç›‘æ§å‘½ä»¤(åœ¨JavaåŸºç¡€ç¬”è®°çœ‹åˆ°ä½¿ç”¨è¯´æ˜ä¹‹ç›‘æ§)</li>
<li>jvisualvm  åŒä¸Š</li>
</ol>
</li>
</ol>
<h2 id="ç®€æ˜“webæœåŠ¡å™¨"><a href="#ç®€æ˜“webæœåŠ¡å™¨" class="headerlink" title="ç®€æ˜“webæœåŠ¡å™¨"></a>ç®€æ˜“webæœåŠ¡å™¨</h2><ul>
<li><a href="http://www.runoob.com/w3cnote/android-tutorial-http-response-header.html" target="_blank" rel="noopener">http å“åº”å¤´å’Œè¯·æ±‚å¤´å¯¹ç…§è¡¨</a></li>
<li><a href="http://www.runoob.com/http/http-content-type.html" target="_blank" rel="noopener">HTTP content-type å¯¹ç…§è¡¨</a></li>
<li><a href="http://www.runoob.com/http/http-status-codes.html" target="_blank" rel="noopener">HTTPçŠ¶æ€ç </a></li>
</ul>
<h1 id="é™„å½•ä¸€"><a href="#é™„å½•ä¸€" class="headerlink" title="é™„å½•ä¸€"></a>é™„å½•ä¸€</h1><h2 id="æ¨èä¹¦ç±"><a href="#æ¨èä¹¦ç±" class="headerlink" title="æ¨èä¹¦ç±"></a>æ¨èä¹¦ç±</h2><ul>
<li>ã€ŠJava å¹¶å‘ç¼–ç¨‹å®æˆ˜ã€‹</li>
<li>ã€ŠJavaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹æ–¹è…¾é£</li>
<li>ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹ å‘¨å¿—æ˜</li>
</ul>
<h2 id="ç½‘ç«™"><a href="#ç½‘ç«™" class="headerlink" title="ç½‘ç«™"></a>ç½‘ç«™</h2><ul>
<li><a href="http://ifeve.com/" target="_blank" rel="noopener">javaå¹¶å‘ç¼–ç¨‹ç½‘</a></li>
</ul>
<h2 id="åšå®¢"><a href="#åšå®¢" class="headerlink" title="åšå®¢"></a>åšå®¢</h2><ol>
<li><a href="https://www.ibm.com/developerworks/cn/java/j-jtp04186/" target="_blank" rel="noopener">Java ç†è®ºä¸å®è·µ</a></li>
</ol>
<h2 id="ä¸“ä¸šåè¯"><a href="#ä¸“ä¸šåè¯" class="headerlink" title="ä¸“ä¸šåè¯"></a>ä¸“ä¸šåè¯</h2><ul>
<li>æŒ‡ä»¤é‡æ’åºï¼Œåœ¨ä¸å½±å“ç¨‹åºè¿è¡Œç»“æœçš„å‰æä¸‹é‡æ–°æ’åºä»£ç </li>
</ul>
<h1 id="é™„å½•äºŒ"><a href="#é™„å½•äºŒ" class="headerlink" title="é™„å½•äºŒ"></a>é™„å½•äºŒ</h1><h2 id="å¸¸ç”¨çš„æ¶ˆæ¯é˜Ÿåˆ—"><a href="#å¸¸ç”¨çš„æ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="å¸¸ç”¨çš„æ¶ˆæ¯é˜Ÿåˆ—"></a>å¸¸ç”¨çš„æ¶ˆæ¯é˜Ÿåˆ—</h2><p><img src="https://img-blog.csdn.net/20171010212146188?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZ3dkMTE1NDk3ODM1Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
        <tag>Java</tag>
        <tag>çŸ¥è¯†æ¶æ„</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Dockerå­¦ä¹ ç¬”è®°</title>
    <url>/2019/09/10/2019-4-14-Docker-note/</url>
    <content><![CDATA[<h1 id="Container"><a href="#Container" class="headerlink" title="Container"></a>Container</h1><pre class="line-numbers language-shell"><code class="language-shell">docker build --tag=friendlyhello .
#or add version  
docker build -tag= friendlyhello:v0.0.1 .

docker image ls
docker run -p 4000:80 friendlyhello <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Docker for Linux network set</p>
<blockquote>
<p>Set proxy server, replace host:port with values for your servers</p>
<pre class="line-numbers language-shell"><code class="language-shell">ENV http_proxy host:port
ENV https_proxy host:port<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>docker dns set <code>/etc/docker/daemon.json</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">{
  "dns": ["your_dns_address", "8.8.8.8"]
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><code>sudo service docker restart</code></p>
</blockquote>
<p>On Windows, explicitly stop the container</p>
<blockquote>
<p><code>CTRL+C</code> canâ€™t stop image use <code>docker container ls</code> </p>
<p><code>docker container stop &lt;Container NAME or ID&gt;</code></p>
</blockquote>
<h2 id="å®¹å™¨çš„åŸºæœ¬æ“ä½œ"><a href="#å®¹å™¨çš„åŸºæœ¬æ“ä½œ" class="headerlink" title="å®¹å™¨çš„åŸºæœ¬æ“ä½œ"></a>å®¹å™¨çš„åŸºæœ¬æ“ä½œ</h2><h3 id="å¯åŠ¨äº¤äº’å¼å®¹å™¨"><a href="#å¯åŠ¨äº¤äº’å¼å®¹å™¨" class="headerlink" title="å¯åŠ¨äº¤äº’å¼å®¹å™¨"></a>å¯åŠ¨äº¤äº’å¼å®¹å™¨</h3><pre class="line-numbers language-shell"><code class="language-shell">  docker run -i -t IMAGE /bin/bash
    -i --interactive   #true|false é»˜è®¤æ˜¯false Keep STDIN open even if not attached
    -t --tty=true|false é»˜è®¤æ˜¯false # å‘Šè¯‰å®¹å™¨åˆ›å»ºä¸€ä¸ªä¼ªttyç»ˆç«¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ul>
<li>æ¡ˆä¾‹ï¼š dockerå®‰è£…ubuntué•œåƒ</li>
</ul>
<pre class="line-numbers language-shell"><code class="language-shell">docker search ubuntu
docker pull ubuntu
docker images 
#è¿è¡Œé•œåƒå¹¶æŒ‡å®šåç§°å’Œç«¯å£æ˜ å°„ï¼Œè¿”å›å®¹å™¨id
docker run -it -d --name ubuntu_test -p 8088:80 ubuntu
#æŸ¥çœ‹æ‰€æœ‰å¯åŠ¨çš„å®¹å™¨
docker ps
#æ ¹æ®ä¸Šé¢idï¼ˆå‰2ä¸ªï¼‰æŸ¥çœ‹å®¹å™¨ä¿¡æ¯
docker inspect 98
#è¿›å…¥é•œåƒ(æˆ–è€…æŠŠå®¹å™¨idæ”¹ä¸ºå®¹å™¨åï¼Œä¹Ÿå¯ä»¥è¿›å…¥)
#æ–°å»ºè¿›ç¨‹æ‰§è¡Œ
docker exec -it 98 /bin/bash 
# é€€å‡ºå®¹å™¨
exit
#åœæ­¢å®¹å™¨
docker stop id
#åˆ é™¤å®¹å™¨
docker rm <CONTAINER ID>
#åˆ¶ä½œdockeré•œåƒ
docker commit 98 ubuntu_test1:1.0
#æ‰“åŒ…é•œåƒå¹¶æŸ¥çœ‹
docker save -o ubuntu_test1.tar ubuntu_test1:1.0
#äº¤äº’çš„æ–¹å¼é‡æ–°å¯åŠ¨å®¹å™¨
docker start -i<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å®ˆæŠ¤å¼å®¹å™¨"><a href="#å®ˆæŠ¤å¼å®¹å™¨" class="headerlink" title="å®ˆæŠ¤å¼å®¹å™¨"></a>å®ˆæŠ¤å¼å®¹å™¨</h2><pre class="line-numbers language-shell"><code class="language-shell">#ä½¿çœŸæ­£è¿è¡Œçš„å®¹å™¨åå°è¿è¡Œ
Ctrl+P  Ctrl+Q 
# åå°å¯åŠ¨å®¹å™¨
docker run -d 
#æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker logs
#æŸ¥çœ‹å®¹å™¨çš„è¿›ç¨‹
docker top
#ä¸ºè¿è¡Œä¸­çš„å®¹å™¨å¯åŠ¨æ–°è¿›ç¨‹
docker exec
# åœæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ stop ç­‰å¾…å®¹å™¨æ­£å¸¸åœæ­¢ï¼Œç›´æ¥killæ‰è¿›ç¨‹ 
docker stop/kill
#ä½¿ç”¨Dockerå¸®åŠ©æ–‡æ¡£
man docker-run
man docker-logs
man docker-top<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å®Œæ•´çš„æ“ä½œæ¡ˆä¾‹</p>
<pre class="line-numbers language-shell"><code class="language-shell">#è‡ªå®šä¹‰å®¹å™¨åç§°
docker run --name dc -d ubuntu /bin/sh -c "while true;do echo hello world; sleep 1;done"
#æŸ¥çœ‹containerä¿¡æ¯
docker ps 
#è¿›å…¥åå°è¿è¡Œçš„å®¹å™¨
docker attach id
docker logs `
    -f follow -t æ—¶é—´
docker logs -tf --tail  10 container_name
docker top container_name
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è®¾ç½®å®¹å™¨çš„ç«¯å£æ˜ å°„</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker run -p 80 --name web -it ubuntu /bin/bash
#å®¹å™¨åˆå§‹åŒ–ä¹‹å‰éœ€æ±‚ apt-get update æ›´æ–°ä¸€ä¸‹
apt-get install -y nginx
apt-get install -y vim 
mkdir -p /var/www/html
vim index.html
whereis nginx 
vim /etc/nginx/sites-enabled/default root æ”¹ä¸º /var/www/html ä½ç½®
#æŸ¥çœ‹niginxè¿è¡Œæƒ…å†µ
ps -ef 
# édockerç¯å¢ƒä¸‹
docker port web # 80/tcp -> 0.0.0.0:32768 localhostï¼š32768 ç›´æ¥è®¿é—®
`æ¯æ¬¡é‡å¯å®¹å™¨çš„IPå’Œç«¯å£å·ä¼šå˜`<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åœæ­¢å¹¶ä¸”åˆ é™¤å®¹å™¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker container stop wildfly
docker container rm wildfly<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>å…¶ä»–æ–¹å¼<code>docker container rm -f wildfly</code></p>
<h4 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h4><pre class="line-numbers language-shell"><code class="language-shell">  #åœæ­¢æŒ‡å®šå®¹å™¨
  docker container stop `docker container ps | grep wildfly | awk '{print $1}'`
  #åˆ é™¤æ‰€æœ‰è¿è¡Œçš„container
  docker container stop $(docker container ps -q)
  #åˆ é™¤æ‰€æœ‰container
  docker container rm $(docker container ps -aq)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="é•œåƒ"><a href="#é•œåƒ" class="headerlink" title="é•œåƒ"></a>é•œåƒ</h1><blockquote>
<p>é•œåƒç›¸å…³</p>
</blockquote>
<h2 id="é•œåƒä¿¡æ¯æŸ¥çœ‹å‘½ä»¤"><a href="#é•œåƒä¿¡æ¯æŸ¥çœ‹å‘½ä»¤" class="headerlink" title="é•œåƒä¿¡æ¯æŸ¥çœ‹å‘½ä»¤"></a>é•œåƒä¿¡æ¯æŸ¥çœ‹å‘½ä»¤</h2><p><code>docker info</code> èƒ½æŸ¥çœ‹dockeré•œåƒå­˜å‚¨ä½ç½® ä¸€èˆ¬ä¸º<code>/var/lib/docker</code><br><code>docker system df</code>  æŸ¥çœ‹é•œåƒã€å®¹å™¨ã€æ•°æ®å·æ‰€å ç”¨çš„ç©ºé—´<br><code>docker image history jboss/wildfly</code>  æŸ¥çœ‹é•œåƒæ›´è¯¦ç»†çš„ä¿¡æ¯</p>
<h2 id="é•œåƒçš„æŸ¥çœ‹äºåˆ é™¤"><a href="#é•œåƒçš„æŸ¥çœ‹äºåˆ é™¤" class="headerlink" title="é•œåƒçš„æŸ¥çœ‹äºåˆ é™¤"></a>é•œåƒçš„æŸ¥çœ‹äºåˆ é™¤</h2><pre class="line-numbers language-shell"><code class="language-shell">docker images 
    -a  #all
    -f  #filter
    --no-trunc #ä¸ä½¿ç”¨é˜¶æ®µçš„å½¢å¼
    -q #åªæ˜¾ç¤ºé•œåƒçš„å”¯ä¸€id
#åˆ—å‡ºä»“åº“åä¸ºcentosçš„æ‰€æœ‰é•œåƒ 
docker images centos  
#æŸ¥çœ‹é•œåƒä¿¡æ¯
docker inspect ubuntu:14.0
docker inspect <images_id>
#åˆ é™¤é•œåƒ
docker rmi
    -f 
    --no-prune  #Do not delete untagged parents
#åˆ é™¤å¤šä¸ª
docker rmi ubuntu:14.0 ubuntu:precise
#åˆ é™¤ubuntuä¸­çš„æ‰€æœ‰é•œåƒ
docker rmi $(docker images ubuntu -q)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å®˜ç½‘æ¡ˆä¾‹-Share-Image"><a href="#å®˜ç½‘æ¡ˆä¾‹-Share-Image" class="headerlink" title="å®˜ç½‘æ¡ˆä¾‹ Share Image"></a>å®˜ç½‘æ¡ˆä¾‹ Share Image</h2><p>å®˜ç½‘ï¼š <a href="https://hub.docker.com/" target="_blank" rel="noopener">https://hub.docker.com/</a></p>
<pre class="line-numbers language-shell"><code class="language-shell">docker build -t friendlyhello .  # Create image using this directory's Dockerfile
docker run -p 4000:80 friendlyhello  # Run "friendlyname" mapping port 4000 to 80
docker run -d -p 4000:80 friendlyhello         # Same thing, but in detached mode
docker run -it --rm ubuntu /bin/bash           #é€€å‡ºååˆ é™¤å®¹å™¨
docker container ls                                # List all running containers
docker container ls -a             # List all containers, even those not running
docker container stop <hash>           # Gracefully stop the specified container
docker container kill <hash>         # Force shutdown of the specified container
docker container rm <hash>        # Remove specified container from this machine
docker container rm $(docker container ls -a -q)         # Remove all containers
docker image ls -a                             # List all images on this machine
docker image rm <image id>            # Remove specified image from this machine
docker image rm $(docker image ls -a -q)   # Remove all images from this machine
docker login             # Log in this CLI session using your Docker credentials
#docker image ls åˆ—å‡ºæ‰€æœ‰imageï¼Œdocker tag ç»™imageæ‰“æ ‡ç­¾
docker tag <image> username/repository:tag  # Tag <image> for upload to registry
#ä¾‹å¦‚ï¼šæŠŠæœ¬åœ°åä¸º`android_sdk_27:v0.0.1`çš„é•œåƒé‡å‘½åä¸ºåˆ†äº«æ ¼å¼
docker tag android_sdk_27:v0.0.1  dockerlinz/android-sdk:27
#åˆ†äº«imageåˆ°dockerlinz
docker push dockerlinz/android-sdk:27

docker push username/repository:tag            # Upload tagged image to registry
docker run username/repository:tag                   # Run image from a registry<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="é•œåƒçš„è·å–å’Œæ¨é€"><a href="#é•œåƒçš„è·å–å’Œæ¨é€" class="headerlink" title="é•œåƒçš„è·å–å’Œæ¨é€"></a>é•œåƒçš„è·å–å’Œæ¨é€</h2><p><strong>Ubuntu 14.04ã€Debian 7 Wheezy</strong></p>
<pre class="line-numbers language-shell"><code class="language-shell">docker search 

#é•œåƒçš„æ‹‰å–
docker pull 
#ä½¿ç”¨å›½å†…é•œåƒ www.daocloud.io
--registry-mirror
# 1. ä¿®æ”¹ /etc/default/docker
# or 2. æ·»åŠ  DOCKER_OPTS = "--registry-mirror=http://mirror-addr" 
sudo service docker restart
#æŸ¥çœ‹æ˜¯å¦ç”Ÿæ•ˆ
docker info<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><a href="https://yeasy.gitbooks.io/docker_practice/install/mirror.html" target="_blank" rel="noopener">é•œåƒåŠ é€Ÿå™¨ å‚è€ƒæ–‡æ¡£</a></li>
</ul>
<p>å¸¸ç”¨å›½å†…é•œåƒ</p>
<ul>
<li><a href="https://docs.docker.com/registry/recipes/mirror/#use-case-the-china-registry-mirror" target="_blank" rel="noopener">Docker å®˜æ–¹æä¾›çš„ä¸­å›½ registry mirror <code>https://registry.docker-cn.com</code></a></li>
<li><a href="https://www.jianshu.com/p/1a4025c5f186" target="_blank" rel="noopener">Docker å›½å†…é•œåƒåº“åŠ é€Ÿ</a></li>
<li><a href="https://cr.console.aliyun.com/cn-hangzhou/mirrors" target="_blank" rel="noopener">é˜¿é‡Œäº‘åŠ é€Ÿå™¨(éœ€ç™»å½•è´¦å·è·å–)</a></li>
<li><a href="https://kirk-enterprise.github.io/hub-docs/#/user-guide/mirror" target="_blank" rel="noopener">ä¸ƒç‰›äº‘åŠ é€Ÿå™¨ <code>https://reg-mirror.qiniu.com/</code></a></li>
</ul>
<p><strong>Ubuntu 16.04+ã€Debian 8+ã€CentOS 7</strong></p>
<p>ä¿®æ”¹<code>/etc/docker/daemon.json</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">{
    "registry-mirrors": ["https://yourcode.mirror.aliyuncs.com"]
      # "registry-mirrors": ["https://registry.docker-cn.com"]
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>é‡å¯</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo systemctl daemon-reload
$ sudo systemctl restart docker<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="æ„å»ºé•œåƒä¸ä»“åº“"><a href="#æ„å»ºé•œåƒä¸ä»“åº“" class="headerlink" title="æ„å»ºé•œåƒä¸ä»“åº“"></a>æ„å»ºé•œåƒä¸ä»“åº“</h2><blockquote>
<p>commit åœ¨åŸæœ‰é•œåƒçš„åŸºç¡€ä¸Šï¼Œå†å åŠ ä¸Šå®¹å™¨çš„å­˜å‚¨å±‚ï¼Œå¹¶æ„æˆæ–°çš„é•œåƒï¼Œå°½é‡å‡å°‘ä½¿ç”¨commitå› ä¸ºæ¯æ¬¡å åŠ ï¼Œæ…ç”¨ <code>docker commit</code></p>
</blockquote>
<ul>
<li><code>docker diff &lt;container_id&gt;</code> æ¯”è¾ƒä¸Šä¸€æ¬¡ä¿®æ”¹äº†å“ªäº›æ–‡ä»¶</li>
</ul>
<pre class="line-numbers language-shell"><code class="language-shell">#Commitæ„å»ºé•œåƒ
docker commit [OPTIONS] CONTAINER [REPOSITORY:[TAG]]
    -a, --author="Jobhn Hannibal Smith hannibal@a-team.com"
    -m, --message="" Commit message
    -p, --pause=true Pause container during comit # commit æŒ‡ä»¤ä¼šæš‚åœå®¹å™¨ï¼Œ-påˆ™ä¸åœæ­¢
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æ¡ˆä¾‹commit-æ–¹å¼"><a href="#æ¡ˆä¾‹commit-æ–¹å¼" class="headerlink" title="æ¡ˆä¾‹commit æ–¹å¼"></a><strong>æ¡ˆä¾‹commit æ–¹å¼</strong></h3><pre class="line-numbers language-shell"><code class="language-shell"> docker run -it -p 80 --name comit_test ubuntu /bin/bash
 apt-get update 
 apt-get install nginx 
 exit
 docker ps -l 
 docker commit -a 'Dockerlinz press' -m 'nigix' commit_test dockerlinz/commit_test1
 docker images 
 docker run -d --name nginx_web1 dockerlinz/commit_test1 nginx -g "daemon off;" #nginx åå°è¿è¡Œ
 # å‘ç°æ²¡æœ‰æ˜ å°„ç«¯å£
docker run -d --name nginx_web1 -p 80 dockerlinz/commit_test1 nginx -g "daemon off;"
curl localhost:port
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="DockerFileæ„å»ºé•œåƒ"><a href="#DockerFileæ„å»ºé•œåƒ" class="headerlink" title="DockerFileæ„å»ºé•œåƒ"></a><strong>DockerFileæ„å»ºé•œåƒ</strong></h3><p>DockerFile demo </p>
<pre class="line-numbers language-shell"><code class="language-shell">  #First Dockerfile
  FROM ubuntu:14:04
  MAINTAINER dormancypress "dormancypress@outlook.com"
  RUN apt-get update
  RUN apt-get install -y nginx 
  EXPOSE 80<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>docker build docke</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker build [OPTIONS] PATH | URL
    --force-rm
    --no-cache
    --pull
    -q # ä¸æ˜¾ç¤ºè¿‡ç¨‹
    --rm 
    -t #TAG

docker build -t="dockerlinz/df_test"
docker run -d --name nginx_web1 -p 80 dockerlinz/df_test nginx -g "daemon off;"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><p>DockerFileæŒ‡ä»¤vim</p>
<pre class="line-numbers language-shell"><code class="language-shell">ARG <å‚æ•°å>[=<é»˜è®¤å€¼>] # docker build --build-arg <å‚æ•°å>=<å€¼>
#COPY [--chown=<user>:<group>] <æºè·¯å¾„>... <ç›®æ ‡è·¯å¾„>
COPY package.json /usr/src/app/
COPY hom* /mydir/
#å’Œcopyç±»ä¼¼å¸¦è§£å‹åŠŸèƒ½
ADD ubuntu-xenial-core-cloudimg-amd64-root.tar.gz /
# MAINTAINER <name> åŒ…å«é•œåƒæ‰€æœ‰è€…å’Œè”ç³»ä¿¡æ¯
MAINTAINER dormancypress "dormancypress@gmail.com"
#ENV è®¾ç½®ç¯å¢ƒå˜é‡
ENV <key> <value>
ENV <key1>=<value1> <key2>=<value2>...\
<key1>=<value1>
#USER æŒ‡å®šå½“å‰ç”¨æˆ·
USER <ç”¨æˆ·å>[:<ç”¨æˆ·ç»„>]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><p>CMDçš„ä¸‰ç§æ¨¡å¼</p>
<pre class="line-numbers language-shell"><code class="language-shell">#1. CMD ["exe","param1","param2"] ï¼ˆexecæ¨¡å¼ï¼‰
#2. CMD ls -a (shellæ¨¡å¼)
CMD [ "sh", "-c", "echo $HOME" ]
#3. CMD ["param1","param2"] (ENTRYPOINT æŒ‡ä»¤çš„é»˜è®¤å‚æ•°)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>ENTRYPOINT  <code>å¯ä»¥ä½¿ç”¨docker run --entrypointè¦†ç›–</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">#1. ENTRYPOINT ["exe","param1","param2"] ï¼ˆexecæ¨¡å¼ï¼‰
#2. ENTRYPOINT ls -a (shellæ¨¡å¼)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
<li><p>DockerFile æ„å»ºè¿‡ç¨‹<br>run image -&gt; exec cmd -&gt;commit-&gt; exec cmd -&gt; commit </p>
<pre class="line-numbers language-shell"><code class="language-shell">#è°ƒè¯•å…·ä½“æ­¥éª¤
æ„å»ºDockerFileçš„æ—¶å€™å¯ä»¥è¿è¡Œä¸­é—´å±‚é•œåƒï¼Œå¯ä»¥è°ƒè¯•å…·ä½“æ­¥éª¤
# é»˜è®¤ç¼“å­˜ï¼Œä¸ç¼“å­˜
docker build --no-cache 
# å±€éƒ¨ç¼“å­˜åˆ·æ–°ï¼Œä¿®æ”¹æ—¥æœŸåä¸‹é¢çš„æ“ä½œåˆ·æ–°ç¼“å­˜
ENV REFRESH_DATA 2019-1-30
# æ˜¾ç¤ºä¸€ä¸ªé•œåƒçš„æ„å»ºè¿‡ç¨‹
docker history <image><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h1 id="Services"><a href="#Services" class="headerlink" title="Services"></a>Services</h1><pre class="line-numbers language-shell"><code class="language-shell">docker stack ls                                            # List stacks or apps
docker stack deploy -c <composefile> <appname>  # Run the specified Compose file
docker service ls                 # List running services associated with an app
docker service ps <service>                  # List tasks associated with an app
docker inspect <task or container>                   # Inspect task or container
docker container ls -q                                      # List container IDs
#docker stack ls 
docker stack rm <appname>                             # Tear down an application
docker swarm leave --force      # Take down a single node swarm from the manager
#æ›´æ–°ç«¯å£
docker service update --publish-rm 8080:5000 --publish-add 8088:5000 web
#æ›´æ–°image
docker service  update --image xiaopeng163/python-flask-demo:2.0 web<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>this node is not a swarm manager. Use â€œdocker swarm initâ€ or â€œdocker swarm joinâ€ to connect this node to swarm and try again<br>ç”¨ï¼š<code>docker swarm init</code> è§£å†³</p>
</blockquote>
<h3 id="Remote-API"><a href="#Remote-API" class="headerlink" title="Remote API"></a>Remote API</h3><p>è¿æ¥ä¸‰ç§æ–¹å¼</p>
<pre class="line-numbers language-shell"><code class="language-shell">unix:///var/run/docker.sock
tcp://host:port
fd://socketfd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>nc -U /var/run/docker.sock</p>
<h3 id="docker-å®ˆæŠ¤è¿›ç¨‹é…ç½®å’Œæ“ä½œ"><a href="#docker-å®ˆæŠ¤è¿›ç¨‹é…ç½®å’Œæ“ä½œ" class="headerlink" title="docker å®ˆæŠ¤è¿›ç¨‹é…ç½®å’Œæ“ä½œ"></a>docker å®ˆæŠ¤è¿›ç¨‹é…ç½®å’Œæ“ä½œ</h3><pre class="line-numbers language-shell"><code class="language-shell"># æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
ps -ef | grep docker 
sudo status docker 
#
sudo service docker stop/start/restart
# ä¸è¿è¡Œç›¸å…³ï¼š
docker -d [OPTIONS]
    -D #è°ƒè¯•æ¨¡å¼
    -e,--exec-driver="native" #docker è¿è¡Œçš„é©±åŠ¨
    -l,--log-level="info" #æ—¥å¿—çº§åˆ«
    -g,--graph="/var/lib/docker" #ç›®å½•
    -p,--pidfile="/var/rundocker.pid"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><p>DockeræœåŠ¡å™¨é“¾æ¥ç›¸å…³</p>
<pre class="line-numbers language-shell"><code class="language-shell">-G,--group="docker" #ç”¨æˆ·ç»„
-H,--host=[]
--tls=false
--tlscacert="/home/sven/.docker/ca.pem"
--tlscert="/home/sven/.docker/cert.pem"
--tlskey="/home/sven/.docker/key.pem"
--tlsverify=false<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p><code>/etc/defalt/docker</code> </p>
</li>
</ul>
<h1 id="Swarms"><a href="#Swarms" class="headerlink" title="Swarms"></a>Swarms</h1><p><a href="https://docs.docker.com/get-started/part4/" target="_blank" rel="noopener">https://docs.docker.com/get-started/part4/</a></p>
<h2 id="å¸¸ç”¨å‘½ä»¤-1"><a href="#å¸¸ç”¨å‘½ä»¤-1" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><pre class="line-numbers language-shell"><code class="language-shell">docker stack deploy --compose-file=docker-compose.yml <NAME>
docker stack ls 
docker stack rm <NAME>
#åˆå§‹åŒ–å½“å‰èŠ‚ç‚¹ä¸ºmanager
docker swarm init --advertise-addr 192.168.99.100:2377
#è·å–åŠ å…¥managerçš„token
docker swarm join-token manager
#åŠ å…¥managerçš„é›†ç¾¤
docker swarm join --token SWMTKN-1-2abs9211jijp6pmxc7b20v4vc6apbznnxgh48th36lxttud5ue-andtd5ira0z17ht6psxg9xo8j 192.168.208.137:2377
#å¼ºè¡Œé€€å‡ºswarm
docker swarm leave --force
docker node ls # åˆ—å‡ºå½“å‰èŠ‚ç‚¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="docker-machine"><a href="#docker-machine" class="headerlink" title="docker-machine"></a>docker-machine</h2><pre class="line-numbers language-shell"><code class="language-shell">docker-machine create --driver virtualbox myvm1
docker-machine create --driver virtualbox myvm2
docker-machine ls
myvm1   -        virtualbox   Running   tcp://192.168.99.100:2376           v17.06.2-ce
myvm2   -        virtualbox   Running   tcp://192.168.99.101:2376           v17.06.2-ce
docker-machine ssh myvm1 "docker swarm init --advertise-addr 192.168.99.100:2377"
docker-machine ssh myvm2 "docker swarm join \
--token <token> \
<ip>:2377"
docker-machine ssh myvm1 "docker node ls"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Configuration-docker-machine"><a href="#Configuration-docker-machine" class="headerlink" title="Configuration docker-machine"></a>Configuration docker-machine</h3><pre class="line-numbers language-shell"><code class="language-shell">docker-machine env myvm1
export DOCKER_TLS_VERIFY="1"
export DOCKER_HOST="tcp://192.168.99.100:2376"
export DOCKER_CERT_PATH="/Users/sam/.docker/machine/machines/myvm1"
export DOCKER_MACHINE_NAME="myvm1"
# Run this command to configure your shell:
 eval $(docker-machine env myvm1)

 eval $(docker-machine env -u)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Deploy-the-app-on-the-swarm-manager"><a href="#Deploy-the-app-on-the-swarm-manager" class="headerlink" title="Deploy the app on the swarm manager"></a>Deploy the app on the swarm manager</h3><pre class="line-numbers language-shell"><code class="language-shell">docker stack deploy -c docker-compose.yml getstartedlab
docker stack rm getstartedlab<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="swarm-è¿æ¥æ•°æ®åº“"><a href="#swarm-è¿æ¥æ•°æ®åº“" class="headerlink" title="swarm è¿æ¥æ•°æ®åº“"></a>swarm è¿æ¥æ•°æ®åº“</h3><p>connection-url è¿æ¥</p>
<pre class="line-numbers language-yml"><code class="language-yml">swarm:
  datasources:
    data-sources:
      ExampleDS:
        driver-name: mysql
        connection-url: jdbc:mysql://db:3306/employees
        user-name: mysql
        password: mysql
  jaeger:
    service-name: jaeger
    reporter-log-spans: true
    sampler-type: const
    sampler-parameter: 1
    agent-host: jaeger
  opentracing:
    servlet:
      skipPattern: /metrics<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>é€šè¿‡é•œåƒè¿æ¥</p>
<pre class="line-numbers language-yml"><code class="language-yml">version: '3.3'
services:
  db:
    container_name: db
    image: mysql:8
    environment:
      MYSQL_DATABASE: employees
      MYSQL_USER: mysql
      MYSQL_PASSWORD: mysql
      MYSQL_ROOT_PASSWORD: supersecret
    ports:
      - 3306:3306
  web:
    image: arungupta/docker-javaee:dockerconeu17
    ports:
      - 8080:8080
      - 9990:9990
    depends_on:
      - db<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><pre class="line-numbers language-shell"><code class="language-shell">docker-machine create --driver virtualbox myvm1 # Create a VM (Mac, Win7, Linux)
docker-machine create -d hyperv --hyperv-virtual-switch "myswitch" myvm1 # Win10
docker-machine env myvm1                # View basic information about your node
docker-machine ssh myvm1 "docker node ls"         # List the nodes in your swarm
docker-machine ssh myvm1 "docker node inspect <node ID>"        # Inspect a node
docker-machine ssh myvm1 "docker swarm join-token -q worker"   # View join token
docker-machine ssh myvm1   # Open an SSH session with the VM; type "exit" to end
docker node ls                # View nodes in swarm (while logged on to manager)
docker-machine ssh myvm2 "docker swarm leave"  # Make the worker leave the swarm
docker-machine ssh myvm1 "docker swarm leave -f" # Make master leave, kill swarm
docker-machine ls # list VMs, asterisk shows which VM this shell is talking to
docker-machine start myvm1            # Start a VM that is currently not running
docker-machine env myvm1      # show environment variables and command for myvm1
eval $(docker-machine env myvm1)         # Mac command to connect shell to myvm1
& "C:\Program Files\Docker\Docker\Resources\bin\docker-machine.exe" env myvm1 | Invoke-Expression   # Windows command to connect shell to myvm1
docker stack deploy -c <file> <app>  # Deploy an app; command shell must be set to talk to manager (myvm1), uses local Compose file
docker-machine scp docker-compose.yml myvm1:~ # Copy file to node's home dir (only required if you use ssh to connect to manager and deploy the app)
docker-machine ssh myvm1 "docker stack deploy -c <file> <app>"   # Deploy an app using ssh (you must have first copied the Compose file to myvm1)
eval $(docker-machine env -u)     # Disconnect shell from VMs, use native docker
docker-machine stop $(docker-machine ls -q)               # Stop all running VMs
docker-machine rm $(docker-machine ls -q) # Delete all VMs and their disk images<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Stacks"><a href="#Stacks" class="headerlink" title="Stacks"></a>Stacks</h2><pre class="line-numbers language-shell"><code class="language-shell">docker stack deploy -c docker-compose.yml getstartedlab
docker stack ps getstartedlab<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>help</p>
<pre class="line-numbers language-shell"><code class="language-shell">deploy      Deploy a new stack or update an existing stack
ls          List stacks
ps          List the tasks in the stack
rm          Remove one or more stacks
services    List the services in the stack<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸æ”¯æŒ stack deploy çš„composeå…³é”®å­—</p>
<ul>
<li><a href="https://docs.docker.com/compose/compose-file/#build" target="_blank" rel="noopener">build</a></li>
<li><a href="https://docs.docker.com/compose/compose-file/#cgroup_parent" target="_blank" rel="noopener">cgroup_parent</a></li>
<li><a href="https://docs.docker.com/compose/compose-file/#container_name" target="_blank" rel="noopener">container_name</a></li>
<li><a href="https://docs.docker.com/compose/compose-file/#devices" target="_blank" rel="noopener">devices</a></li>
<li><a href="https://docs.docker.com/compose/compose-file/#tmpfs" target="_blank" rel="noopener">tmpfs</a></li>
<li><a href="https://docs.docker.com/compose/compose-file/#external_links" target="_blank" rel="noopener">external_links</a></li>
<li><a href="https://docs.docker.com/compose/compose-file/#links" target="_blank" rel="noopener">links</a></li>
<li><a href="https://docs.docker.com/compose/compose-file/#network_mode" target="_blank" rel="noopener">network_mode</a></li>
<li><a href="https://docs.docker.com/compose/compose-file/#restart" target="_blank" rel="noopener">restart</a></li>
<li><a href="https://docs.docker.com/compose/compose-file/#security_opt" target="_blank" rel="noopener">security_opt</a></li>
<li><a href="https://docs.docker.com/compose/compose-file/#sysctls" target="_blank" rel="noopener">sysctls</a></li>
<li><a href="https://docs.docker.com/compose/compose-file/#userns_mode" target="_blank" rel="noopener">userns_mode</a></li>
</ul>
<p>redis sample</p>
<pre class="line-numbers language-shell"><code class="language-shell">version: "3"
services:
  web:
    # replace username/repo:tag with your name and image details
    image: dockerlinz/get-started:part2
    deploy:
      replicas: 5
      restart_policy:
        condition: on-failure
      resources:
        limits:
          cpus: "0.1"
          memory: 50M
    ports:
      - "80:80"
    networks:
      - webnet
  visualizer:
    image: dockersamples/visualizer:stable
    ports:
      - "8080:8080"
    volumes:
      - "/var/run/docker.sock:/var/run/docker.sock"
    deploy:
      placement:
        constraints: [node.role == manager]
    networks:
      - webnet
  redis:
    image: redis
    ports:
      - "6379:6379"
    volumes:
      - "/home/docker/data:/data"
    deploy:
      placement:
        constraints: [node.role == manager]
    command: redis-server --appendonly yes
    networks:
      - webnet
networks:
  webnet:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="deploy-è¯¦è§£"><a href="#deploy-è¯¦è§£" class="headerlink" title="deploy è¯¦è§£"></a>deploy è¯¦è§£</h2><pre class="line-numbers language-shell"><code class="language-shell">    deploy:
      replicas: 5
      restart_policy:
        condition: on-failure
      resources:
        limits:
          cpus: "0.1"
          memory: 50M
       placement:
        constraints:
          - node.role == manager
          - node.id==2ivku8v2gvtg4
          - node.hostname!=node-2
          - node.labels.security==high
          - engine.labels.operatingsystem == ubuntu 14.04
        preferences:
          - spread: node.labels.zone
       update_config:
          parallelism: 2
          delay: 10s
          order: stop-first<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å‚è€ƒï¼š <a href="https://docs.docker.com/engine/reference/commandline/service_create/#specify-service-constraints-constraint" target="_blank" rel="noopener">constraints</a> and <a href="https://docs.docker.com/engine/reference/commandline/service_create/#specify-service-placement-preferences-placement-pref" target="_blank" rel="noopener">preferences</a>.</p>
<h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><pre class="line-numbers language-shell"><code class="language-shell">docker-machine create --driver virtualbox myvm1 # Create a VM (Mac, Win7, Linux)
docker-machine create -d hyperv --hyperv-virtual-switch "myswitch" myvm1 # Win10
docker-machine env myvm1                # View basic information about your node
docker-machine ssh myvm1 "docker node ls"         # List the nodes in your swarm
docker-machine ssh myvm1 "docker node inspect <node ID>"        # Inspect a node
docker-machine ssh myvm1 "docker swarm join-token -q worker"   # View join token
docker-machine ssh myvm1   # Open an SSH session with the VM; type "exit" to end
docker node ls                # View nodes in swarm (while logged on to manager)
docker-machine ssh myvm2 "docker swarm leave"  # Make the worker leave the swarm
docker-machine ssh myvm1 "docker swarm leave -f" # Make master leave, kill swarm
docker-machine ls # list VMs, asterisk shows which VM this shell is talking to
docker-machine start myvm1            # Start a VM that is currently not running
docker-machine env myvm1      # show environment variables and command for myvm1
eval $(docker-machine env myvm1)         # Mac command to connect shell to myvm1
& "C:\Program Files\Docker\Docker\Resources\bin\docker-machine.exe" env myvm1 | Invoke-Expression   # Windows command to connect shell to myvm1
docker stack deploy -c <file> <app>  # Deploy an app; command shell must be set to talk to manager (myvm1), uses local Compose file
docker-machine scp docker-compose.yml myvm1:~ # Copy file to node's home dir (only required if you use ssh to connect to manager and deploy the app)
docker-machine ssh myvm1 "docker stack deploy -c <file> <app>"   # Deploy an app using ssh (you must have first copied the Compose file to myvm1)
eval $(docker-machine env -u)     # Disconnect shell from VMs, use native docker

docker-machine start $(docker-machine ls -q)               # Stop all running VMs
docker-machine stop $(docker-machine ls -q)               # Stop all running VMs
docker-machine rm $(docker-machine ls -q) # Delete all VMs and their disk images<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="ç›‘æ§-monitoring"><a href="#ç›‘æ§-monitoring" class="headerlink" title="ç›‘æ§ monitoring"></a>ç›‘æ§ monitoring</h1><h2 id="Docker-CLi"><a href="#Docker-CLi" class="headerlink" title="Docker CLi"></a>Docker CLi</h2><pre class="line-numbers language-shell"><code class="language-shell">#å®¹å™¨ä½¿ç”¨èµ„æºæƒ…å†µï¼Œå¦‚cpuï¼Œmenï¼Œi/o 
docker stats <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>æ˜¾ç¤ºæŒ‡å®šçš„å†…å®¹ï¼Œ:</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker container stats --format "{{.Container}}: {{.CPUPerc}}"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-shell"><code class="language-shell">55198043b6aa: 0.10%
5b5dd33b675d: 0.11%
6e98a9597e6a: 0.10%<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>ç±»ä¼¼ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker container stats --format "table {{.Name}}\t{{.CPUPerc}}\t{{.MemUsage}}"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="Docker-Remote-API"><a href="#Docker-Remote-API" class="headerlink" title="Docker Remote API"></a>Docker Remote API</h2><pre class="line-numbers language-shell"><code class="language-shell">curl --unix-socket /var/run/docker.sock http://localhost/containers/<name>/stats<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="Docker-events"><a href="#Docker-events" class="headerlink" title="Docker events"></a>Docker events</h2><p><a href="https://docs.docker.com/engine/reference/commandline/events/" target="_blank" rel="noopener">https://docs.docker.com/engine/reference/commandline/events/</a><br><code>docker events [OPTIONS]</code></p>
<blockquote>
<p>å¯åŠ¨Docker events åTerminalè¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œ å½“æœ‰docker äº‹ä»¶çš„æ—¶å€™æ‰“å°äº‹ä»¶è¯¦æƒ…</p>
</blockquote>
<h2 id="Prometheus"><a href="#Prometheus" class="headerlink" title="Prometheus"></a>Prometheus</h2><ul>
<li><a href="https://prometheus.io/docs/operating/configuration/" target="_blank" rel="noopener">Prometheus configuration file</a></li>
<li><a href="https://prometheus.io/" target="_blank" rel="noopener">Prometheus å®˜ç½‘</a></li>
<li><a href="https://github.com/docker/labs/blob/master/developer-tools/java/chapters/ch10-monitoring.adoc#Prometheus" target="_blank" rel="noopener">Docker metrics for Prometheus</a></li>
</ul>
<h2 id="cAdvisor"><a href="#cAdvisor" class="headerlink" title="cAdvisor"></a>cAdvisor</h2><ul>
<li><a href="https://github.com/google/cadvisor" target="_blank" rel="noopener">cAdvisor</a></li>
</ul>
<pre class="line-numbers language-shell"><code class="language-shell">docker container run \
  --volume=/:/rootfs:ro \
  --volume=/var/run:/var/run:rw \
  --volume=/sys:/sys:ro \
  --volume=/var/lib/docker/:/var/lib/docker:ro \
  --publish=8080:8080 \
  --detach=true \
  --name=cadvisor \
  google/cadvisor:latest<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="How-to-setup-Docker-monitoring"><a href="#How-to-setup-Docker-monitoring" class="headerlink" title="How to setup Docker monitoring"></a>How to setup Docker monitoring</h2><ul>
<li><a href="https://www.brianchristner.io/how-to-setup-docker-monitoring/" target="_blank" rel="noopener">How to setup Docker monitoring</a>. </li>
<li>é¡¹ç›®æ–‡ä»¶ï¼š <a href="https://github.com/vegasbrianc/docker-monitoring" target="_blank" rel="noopener">docker-monitoring</a></li>
<li><a href="https://hub.docker.com/r/google/cadvisor/" target="_blank" rel="noopener">cadvisor</a></li>
<li><a href="https://registry.hub.docker.com/u/tutum/influxdb/" target="_blank" rel="noopener"><strong>InfluxDB</strong></a></li>
<li><a href="https://registry.hub.docker.com/u/grafana/grafana/" target="_blank" rel="noopener"><strong>Grafana Metrics Dashboard</strong></a> </li>
</ul>
<h3 id="æ¡ˆä¾‹ä¸€"><a href="#æ¡ˆä¾‹ä¸€" class="headerlink" title="æ¡ˆä¾‹ä¸€"></a>æ¡ˆä¾‹ä¸€</h3><ol>
<li> docker-compose.yml  <code>docker-compose up -d</code></li>
</ol>
<pre class="line-numbers language-shell"><code class="language-shell">version: '2'
#https://www.brianchristner.io/how-to-setup-docker-monitoring/
services:
 influxdbData:
  image: busybox
  volumes:
    - ./data/influxdb:/data
#  å¯¹åº”çš„å‘½ä»¤è¡Œ
#  sudo docker run -d -p 8083:8083 -p 8086:8086 --expose 8090 --expose 8099 --name influxsrv tutum/influxdb

 influxdb:
  image: tutum/influxdb:0.9
  restart: always
  environment:
    - PRE_CREATE_DB=cadvisor
  ports:
    - "8083:8083"
    - "8086:8086"
  expose:
    - "8090"
    - "8099"
  volumes_from:
    - "influxdbData"
# å¯¹åº”çš„å‘½ä»¤è¡Œ
# sudo docker run --volume=/:/rootfs:ro --volume=/var/run:/var/run:rw
#  --volume=/sys:/sys:ro --volume=/var/lib/docker/:/var/lib/docker:ro
#  --publish=8080:8080
#   --detach=true
#   --link influxsrv:influxsrv --name=cadvisor google/cadvisor:latest
#   -storage_driver_db=influxdb
#   -storage_driver_host=influxsrv:8086
 cadvisor:
  image: google/cadvisor:v0.29.0
  links:
    - influxdb:influxsrv
  command: -storage_driver=influxdb -storage_driver_db=cadvisor -storage_driver_host=influxsrv:8086
  restart: always
  ports:
    - "8081:8080"
  volumes:
    - /:/rootfs:ro
    - /var/run:/var/run:rw
    - /sys:/sys:ro
    - /var/lib/docker/:/var/lib/docker:ro
#  sudo docker run -d -p 3000:3000 -e INFLUXDB_HOST=localhost -e INFLUXDB_PORT=8086 -e INFLUXDB_NAME=cadvisor -e INFLUXDB_USER=root -e INFLUXDB_PASS=root
#   --link influxsrv:influxsrv --name grafana grafana/grafana
 grafana:
  image: grafana/grafana
  restart: always
  links:
    - influxdb:influxsrv
  ports:
    - "3001:3000"
  environment:
    - HTTP_USER=admin
    - HTTP_PASS=admin
    - INFLUXDB_HOST=influxsrv
    - INFLUXDB_PORT=8086
    - INFLUXDB_NAME=cadvisor
    - INFLUXDB_USER=root
    - INFLUXDB_PASS=root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li>InfluxDBæ“ä½œ</li>
</ol>
<p>UIæ“ä½œç•Œé¢ï¼š<a href="http://47.107.130.109:8083" target="_blank" rel="noopener">http://47.107.130.109:8083</a></p>
<blockquote>
<p>æ³¨æ„ï¼šå¤–ç½‘éœ€æ‰“å¼€InfluxDBæ‰“å¼€é˜²ç«å¢™çš„ç«¯å£ï¼Œå¦‚ä¸Šï¼Œ8083,8086<br>8083ç”¨äºWEBè®¿é—®</p>
<p>8086ç”¨äºæ•°æ®åº“æ“ä½œ</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">#Quaery
CREATE DATABASE "cadvisor"
#è¿æ¥è®¾ç½®-> ç‚¹å‡»è®¾ç½®icon è®¾ç½®usernameï¼Œpassword<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ol start="3">
<li>OPITIONï¼ˆå¯é€‰ï¼‰ï¼šå¼€å¯ cAdvisorå¤–ç½‘è®¿é—®ç«¯å£</li>
</ol>
<p><a href="http://47.107.130.109:8081" target="_blank" rel="noopener">http://47.107.130.109:8081</a>  </p>
<pre class="line-numbers language-shell"><code class="language-shell">docker run -p 8081:3000 grafana/grafan<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol start="4">
<li>grafana é…ç½®ï¼Œè¯¦æƒ…å‚è€ƒï¼š<a href="http://blog.51cto.com/ganbing/2083389" target="_blank" rel="noopener">dockerï¼šå¿«é€Ÿæ„å»ºå®¹å™¨ç›‘æ§ç³»ç»ŸcAdvisor+InfluxDB+Grafana</a><br><a href="http://47.107.130.109:3001" target="_blank" rel="noopener">http://47.107.130.109:3001</a><br>![](E:\MyDocument\img\grafana è®¾ç½®å›¾ç‰‡_20190217180332.png)</li>
</ol>
<ul>
<li>å¯¼å…¥ä¹…å·¥ç¨‹è®¾ç½®ï¼Œ<br>JSONdashboard -&gt; è®¾ç½®-&gt;JSON Model -&gt; <a href="https://github.com/vegasbrianc/docker-monitoring/blob/master/docker-monitoring-0.9.json" target="_blank" rel="noopener">docker-monitoring-0.9.json</a></li>
</ul>
<h3 id="æ¡ˆä¾‹äºŒ"><a href="#æ¡ˆä¾‹äºŒ" class="headerlink" title="æ¡ˆä¾‹äºŒ"></a>æ¡ˆä¾‹äºŒ</h3><ul>
<li><img src="https://raw.githubusercontent.com/starsliao/Prometheus/master/screenshot.jpg" alt=""></li>
</ul>
<h3 id="æ›´å¤šå›¾è¡¨æ˜¾ç¤º"><a href="#æ›´å¤šå›¾è¡¨æ˜¾ç¤º" class="headerlink" title="æ›´å¤šå›¾è¡¨æ˜¾ç¤º"></a>æ›´å¤šå›¾è¡¨æ˜¾ç¤º</h3><ul>
<li><a href="https://grafana.com/dashboards" target="_blank" rel="noopener">dashboards å®˜ç½‘æ’ä»¶</a></li>
</ul>
<h2 id="Monitor-Java-Applications"><a href="#Monitor-Java-Applications" class="headerlink" title="Monitor Java Applications"></a>Monitor Java Applications</h2><h1 id="Docker-Network"><a href="#Docker-Network" class="headerlink" title="Docker Network"></a>Docker Network</h1><h2 id="åŸºæœ¬çŸ¥è¯†"><a href="#åŸºæœ¬çŸ¥è¯†" class="headerlink" title="åŸºæœ¬çŸ¥è¯†"></a>åŸºæœ¬çŸ¥è¯†</h2><p><a href="https://docs.docker.com/compose/networking/#specify-custom-networks" target="_blank" rel="noopener">Networking in Compose</a></p>
<h3 id="Dockerç½‘ç»œæ¨¡å¼"><a href="#Dockerç½‘ç»œæ¨¡å¼" class="headerlink" title="Dockerç½‘ç»œæ¨¡å¼"></a>Dockerç½‘ç»œæ¨¡å¼</h3><ul>
<li>è‡ªåŠ¨åˆ›å»º bridgeï¼ˆåˆ›å»ºå®¹å™¨é»˜è®¤è¿æ¥åˆ°æ­¤ç½‘ç»œï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸ä½¿ç”¨â€“networkå‚æ•°æ—¶ï¼‰ã€ none ã€host</li>
<li>è‡ªå®šä¹‰æ¨¡å¼ï¼šbridgeã€overlayã€macvlanã€‚</li>
</ul>
<pre class="line-numbers language-shell"><code class="language-shell">hostï¼šå®¹å™¨å°†ä¸ä¼šè™šæ‹Ÿå‡ºè‡ªå·±çš„ç½‘å¡ï¼Œé…ç½®è‡ªå·±çš„IPç­‰ï¼Œè€Œæ˜¯ä½¿ç”¨å®¿ä¸»æœºçš„IPå’Œç«¯å£ã€‚
Containerï¼šåˆ›å»ºçš„å®¹å™¨ä¸ä¼šåˆ›å»ºè‡ªå·±çš„ç½‘å¡ï¼Œé…ç½®è‡ªå·±çš„IPï¼Œè€Œæ˜¯å’Œä¸€ä¸ªæŒ‡å®šçš„å®¹å™¨å…±äº«IPã€ç«¯å£èŒƒå›´ã€‚
Noneï¼šè¯¥æ¨¡å¼å…³é—­äº†å®¹å™¨çš„ç½‘ç»œåŠŸèƒ½ã€‚
Bridgeï¼šæ­¤æ¨¡å¼ä¼šä¸ºæ¯ä¸€ä¸ªå®¹å™¨åˆ†é…ã€è®¾ç½®IPç­‰ï¼Œå¹¶å°†å®¹å™¨è¿æ¥åˆ°ä¸€ä¸ªdocker0è™šæ‹Ÿç½‘æ¡¥ï¼Œé€šè¿‡docker0ç½‘æ¡¥ä»¥åŠIptables natè¡¨é…ç½®ä¸å®¿ä¸»æœºé€šä¿¡ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>å®˜æ–¹å¯¹é€‰æ‹©ç½‘ç»œæ¨¡å¼çš„æ€»ç»“</p>
<ul>
<li><strong>User-defined bridge networks</strong> are best when you need multiple containers to communicate on the same Docker host. ã€åŒdocker hostã€‘</li>
<li><strong>Host networks</strong> are best when the network stack should not be isolated from the Docker host, but you want other aspects of the container to be isolated. ã€ä¸docker hostæ˜¯å¦éš”ç¦»ã€‘</li>
<li><strong>Overlay networks</strong> are best when you need containers running on different Docker hosts to communicate, or when multiple applications work together using swarm services. ã€é›†ç¾¤é€‚ç”¨å¤šdocker hostã€‘</li>
<li><strong>Macvlan networks</strong> are best when you are migrating from a VM setup or need your containers to look like physical hosts on your network, each with a unique MAC address. ã€æ¨¡æ‹ŸçœŸå®ç½‘ç»œã€‘</li>
<li><strong>Third-party network plugins</strong> allow you to integrate Docker with specialized network stacks. ã€æŒ‡å®šä¸åŒç½‘ç»œç±»å‹ã€‘</li>
</ul>
<p>é…ç½®æ–‡ä»¶</p>
<p>å®¹å™¨ä¸­ä¸»æœºåå’ŒDNSé…ç½®ä¿¡æ¯éƒ½æ˜¯é€šè¿‡ä¸‰ä¸ªç³»ç»Ÿé…ç½®æ–‡ä»¶æ¥ç»´æŠ¤çš„ï¼š/etc/resolv.confã€/etc/hostnameå’Œ/etc/hostsã€‚</p>
<h2 id="å¸¸ç”¨å‘½ä»¤-2"><a href="#å¸¸ç”¨å‘½ä»¤-2" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><pre class="line-numbers language-shell"><code class="language-shell">#ä½¿container_nginx è¿æ¥åˆ°app_net ç½‘ç»œ
docker network connect app_net container_nginx <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ç½‘ç»œé—®é¢˜æ£€æµ‹å·¥å…·ç®±</p>
<p><a href="https://github.com/nicolaka/netshoot" target="_blank" rel="noopener"><strong>netshoot</strong></a></p>
<h2 id="2ä¸ªdocker-composeç»„ç½‘"><a href="#2ä¸ªdocker-composeç»„ç½‘" class="headerlink" title="2ä¸ªdocker-composeç»„ç½‘"></a>2ä¸ªdocker-composeç»„ç½‘</h2><p>å»ºç«‹ç½‘ç»œç»„</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker network create app_net<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ¯ä¸ªæœåŠ¡éƒ½å¢åŠ  </p>
<pre class="line-numbers language-shell"><code class="language-shell">networks:
    - custom_net<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>å¦‚ä¸‹ï¼š</p>
<p>docker-compose-demo1.yml</p>
<pre class="line-numbers language-shell"><code class="language-shell">ersion: "3"
services:

  app:
    build: .
    networks:
      - custom_net
  db:
    image: postgres
    networks:
      - custom_net
networks:
   custom_net:
      external:
         name: app_net<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸¤ä¸ªcomposeå…¬ç”¨externalç½‘ç»œ,å¦‚ä¸Šè®¾ç½®ç½‘ç»œ</p>
<h2 id="external-links-compose-å®ç°å®¹å™¨å•å‘è¿æ¥"><a href="#external-links-compose-å®ç°å®¹å™¨å•å‘è¿æ¥" class="headerlink" title="external_links compose å®ç°å®¹å™¨å•å‘è¿æ¥"></a>external_links compose å®ç°å®¹å™¨å•å‘è¿æ¥</h2><p> nginx-net.yml</p>
<pre class="line-numbers language-shell"><code class="language-shell">#å¿…é¡»å…ˆäº nginx-net-external-links.yml
version: "3"
services:
  nginx2:
    image: nginx
    container_name: nginx2
    network_mode: bridge<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>nginx-net-enternal.yml</p>
<pre class="line-numbers language-yml"><code class="language-yml">version: "3"
services:
  nginx1:
    image: nginx
    external_links:
      - nginx2
    container_name: nginx1
    network_mode: bridge<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æµ‹è¯•</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker exec -it nginx1 ping nginx2 #å¯ä»¥pingé€š
docker exec -it nginx2 ping nginx1 #ä¸å¯ä»¥pingé€š<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="Docker0-çš„æ¦‚è¿°"><a href="#Docker0-çš„æ¦‚è¿°" class="headerlink" title="Docker0 çš„æ¦‚è¿°"></a>Docker0 çš„æ¦‚è¿°</h2><blockquote>
<p> ç½‘æ¡¥: å±äºOSI ä¸ƒå±‚æ¨¡å‹ä¸­çš„æ•°æ®é“¾è·¯å±‚</p>
</blockquote>
<ol>
<li>Linxu è™šæ‹Ÿç½‘æ¡¥çš„ç‰¹ç‚¹ï¼š<ol>
<li>å¯ä»¥è®¾ç½®IPåœ°å€ï¼ŒLinuxå°±å¯ä»¥é€šè¿‡è·¯ç”±è¡¨æˆ–è€…IPè¡¨è§„åˆ™åœ¨ç½‘ç»œå±‚å®šä½ç½‘æ¡¥åœ°å€</li>
<li>ç›¸å½“äºä¸€ä¸ªéšè—çš„è™šæ‹Ÿç½‘å¡</li>
</ol>
</li>
</ol>
<p>Docker0çš„é»˜è®¤åœ°å€åˆ’åˆ†ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">IP: 172.17.42.1 å­ç½‘æ©ç ï¼š 255.255.0.0
MACï¼š02:42:ac:11:00:00 åˆ° 02:42:ac:11:ff:ff
å…±æä¾›äº†65534ä¸ªåœ°å€<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="è‡ªä¹‰å®šç½‘æ¡¥"><a href="#è‡ªä¹‰å®šç½‘æ¡¥" class="headerlink" title="è‡ªä¹‰å®šç½‘æ¡¥"></a>è‡ªä¹‰å®šç½‘æ¡¥</h3><blockquote>
<p>æœ‰ç©ºæœç´¢å…³é”®å­—ç ”ç©¶ï¼Œé…ç½®å¤±è´¥ï¼Œé…ç½®</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">#å®‰è£…å·¥å…·
sudo apt-get -f install bridge-utils    
#å¢åŠ è™šæ‹Ÿç½‘æ¡¥
sudo brctl addbr br0
# æ¯æ¬¡ä¿®æ”¹ï¼Œéœ€è¦é‡å¯dockeræ‰èƒ½ç”Ÿæ•ˆ
sudo ifconfig br0 192.168.100.1 netmask 255.255.255.0
#éªŒè¯æ˜¯å¦æˆåŠŸ br0
ifconfig <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>è‡ªå®šä¹‰é»˜è®¤ç½‘æ¡¥ docker0</strong></p>
<pre class="line-numbers language-shell"><code class="language-shell">#æ–°çš„ç½‘æ¡¥
sudo brctl addbr bridge0
sudo ip addr add 192.168.208.1/16 dev bridge0
sudo ip link set dev bridge0 up
#æŸ¥çœ‹é…ç½®
ip addr show bridge0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åœ¨ Docker é…ç½®æ–‡ä»¶<code>/etc/docker/daemon.json</code></p>
<pre class="line-numbers language-shell"><code class="language-shell"> { 
     "bridge": "bridge0", 
 }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>å†æ¬¡å¯åŠ¨dockeræœåŠ¡</p>
<pre class="line-numbers language-shell"><code class="language-shell"> # é‡å¯
systemctl daemon-reload
systemctl restart docker<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="Docker-å®¹å™¨çš„äº’è”"><a href="#Docker-å®¹å™¨çš„äº’è”" class="headerlink" title="Docker å®¹å™¨çš„äº’è”"></a>Docker å®¹å™¨çš„äº’è”</h2><h3 id="â€“icc-true-å…è®¸æ‰€æœ‰å®¹å™¨äº’è”"><a href="#â€“icc-true-å…è®¸æ‰€æœ‰å®¹å™¨äº’è”" class="headerlink" title="â€“icc=true å…è®¸æ‰€æœ‰å®¹å™¨äº’è”"></a>â€“icc=true å…è®¸æ‰€æœ‰å®¹å™¨äº’è”</h3><blockquote>
<p>â€“icc=true è¿è¡Œå®¹å™¨äº’ç›¸è¿æ¥</p>
</blockquote>
<p>Dockerfille</p>
<pre class="line-numbers language-java"><code class="language-java">FROM ubuntu<span class="token operator">:</span><span class="token number">14.04</span>
RUN apt<span class="token operator">-</span>get install <span class="token operator">-</span>y ping 
RUN apt<span class="token operator">-</span>get update
RUN apt<span class="token operator">-</span>get install <span class="token operator">-</span>y nginx
RUN apt<span class="token operator">-</span>get install <span class="token operator">-</span>y curl 
EXPOSE <span class="token number">80</span>
CMD <span class="token operator">/</span>bin<span class="token operator">/</span>bash<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¼–è¯‘åŠè¿è¡Œ</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker build -t dormancypress/cct .
docker run -it --name cct1 dormancypress/cct
#è¿›å…¥cct1ï¼Œå¯åŠ¨nginx
nginx 
docker run -it --name cct2 dormancypress/cct
nginx 
#æŸ¥çœ‹ç›¸äº’çš„ip,å°è¯•åœ¨ä¸åŒçš„containerä¸­ï¼Œping
docker attach cct1 
#nginxè®¿é—®
curl <ip><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>é‡å¯é•œåƒipä¼šæ”¹å˜ ã€å¾…éªŒè¯ã€‘</p>
</blockquote>
<h4 id="â€“link"><a href="#â€“link" class="headerlink" title="â€“link"></a>â€“link</h4><pre class="line-numbers language-shell"><code class="language-shell">docker run --link=[container_name]:[alias] [image] [cmd]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å®è·µæ¡ˆä¾‹</p>
<p>å¯åŠ¨cct3å¹¶è¿æ¥åˆ°cct1</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker run -it --name cct3 --link=cct1:webtest dormancypress/cct
#æµ‹è¯•æ˜¯å¦æ­£å¸¸è¿æ¥
ping webtest <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="â€“icc-true-æ‹’ç»æ‰€æœ‰å®¹å™¨äº’è”"><a href="#â€“icc-true-æ‹’ç»æ‰€æœ‰å®¹å™¨äº’è”" class="headerlink" title="â€“icc=true æ‹’ç»æ‰€æœ‰å®¹å™¨äº’è”"></a>â€“icc=true æ‹’ç»æ‰€æœ‰å®¹å™¨äº’è”</h3><blockquote>
<p>æ‹’ç»æ‰€æœ‰å®¹å™¨é—´çš„è®¿é—®</p>
</blockquote>
<h3 id="å…è®¸ç‰¹å®šå®¹å™¨è®¿é—´çš„è¿æ¥"><a href="#å…è®¸ç‰¹å®šå®¹å™¨è®¿é—´çš„è¿æ¥" class="headerlink" title="å…è®¸ç‰¹å®šå®¹å™¨è®¿é—´çš„è¿æ¥"></a>å…è®¸ç‰¹å®šå®¹å™¨è®¿é—´çš„è¿æ¥</h3><h2 id="Dockerå®¹å™¨ä¸å¤–éƒ¨ç½‘ç»œçš„è¿æ¥"><a href="#Dockerå®¹å™¨ä¸å¤–éƒ¨ç½‘ç»œçš„è¿æ¥" class="headerlink" title="Dockerå®¹å™¨ä¸å¤–éƒ¨ç½‘ç»œçš„è¿æ¥"></a>Dockerå®¹å™¨ä¸å¤–éƒ¨ç½‘ç»œçš„è¿æ¥</h2><ol>
<li><p>ip_forward æ˜¯å¦å…è®¸æµé‡è½¬å‘ 1 å…è®¸ï¼ŒæŸ¥çœ‹ <code>sudo sysctl net.ipv4.conf.all.forwarding</code></p>
</li>
<li><p>iptables LinuxåŒ…è¿‡æ»¤é˜²ç«å¢™ç³»ç»Ÿ</p>
<ol>
<li>talbe</li>
<li>chain</li>
<li>rule ï¼ˆaccept, reject, dropï¼‰</li>
</ol>
<p>å®æˆ˜ï¼Œfilterè¡¨åŒ…å«è¿æ¥ï¼šï¼ˆINPUT, OUTPUT, FORWARDï¼‰</p>
<pre class="line-numbers language-shell"><code class="language-shell">sudo iptables -t filter -L -n 
# -I è§„åˆ™ -s æŒ‡å®šåœ°å€ -d ç›®çš„åœ°å€ ==> é˜»æ­¢10.211.55.3è®¿é—®172.17.0.1
sudo iptables -I DOCKER -s 10.211.55.3 -d 172.17.0.1 -p TCP --dport 80 j DROP <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>æ³¨è§£ï¼š<a href="https://blog.csdn.net/u011537073/article/details/82685586" target="_blank" rel="noopener">iptable å‘½ä»¤è¯¦è§£</a></p>
</li>
</ol>
<h2 id="Dockerå®¹å™¨çš„è·¨ä¸»æœºè®¿é—®"><a href="#Dockerå®¹å™¨çš„è·¨ä¸»æœºè®¿é—®" class="headerlink" title="Dockerå®¹å™¨çš„è·¨ä¸»æœºè®¿é—®"></a>Dockerå®¹å™¨çš„è·¨ä¸»æœºè®¿é—®</h2><p><img src="http://cdn.linz.tech/threads-gateway-2019-6-13.png" alt=""></p>
<h3 id="ç½‘æ¡¥å®ç°"><a href="#ç½‘æ¡¥å®ç°" class="headerlink" title="ç½‘æ¡¥å®ç°"></a>ç½‘æ¡¥å®ç°</h3><pre class="line-numbers language-shell"><code class="language-shell">sudo apt-get install bridge-utils <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>é™æ€é…ç½®IPï¼Œé˜²æ­¢IPé‡å¯åå˜åŠ¨ <code>vim /etc/network/interfaces</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">auto lo
iface lo inet loopback

# The primary network interface
auto br0 # æŒ‡å®šç½‘å…³
iface br0 inet static
ã€€ã€€address 192.168.0.42
ã€€ã€€network 192.168.0.0
ã€€ã€€netmask 255.255.255.0
#ã€€ã€€broadcast 192.168.0.255
ã€€ã€€gateway 192.168.0.1
bridge_ports eth0 #æŒ‡å®šæœ¬åœ°çš„ç‰©ç†ç½‘å¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>é…ç½®dockeré»˜è®¤é€‰é¡¹ ï¼ˆæ—§åŠç‰ˆæœ¬æœ‰æ•ˆï¼‰<code>vim  /etc/default/docker</code> </p>
<pre class="line-numbers language-shell"><code class="language-shell"># --fixed-cidr é™åˆ¶IPåœ°å€ä½¿ç”¨èŒƒå›´
DOCKER_OPTS= -b=br0 --fixed-cidr='10.211.55.04/26'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>é‡å¯ç”Ÿæ•ˆ <code>reboot</code></p>
<h4 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ol>
<li>æœ‰ç‚¹ï¼š é…ç½®ç®€å•ï¼Œä¸ä¾èµ–ç¬¬ä¸‰æ–¹è½¯ä»¶</li>
<li>ç¼ºç‚¹ï¼š <ol>
<li>ä¸ä¸»æœºåœ¨åŒç½‘æ®µï¼Œéœ€è¦å°å¿ƒåˆ’åˆ†IPåœ°å€</li>
<li>éœ€è¦ç½‘æ®µçš„æ§åˆ¶æƒé™ï¼Œç”Ÿäº§ç¯å¢ƒä¸æ˜“å®ç°</li>
<li>ä¸å®¹æ˜“ç®¡ç†ï¼Œå…¼å®¹æ€§ä¸ä½³</li>
</ol>
</li>
</ol>
<h3 id="Open-vSwitchï¼ˆovsï¼‰"><a href="#Open-vSwitchï¼ˆovsï¼‰" class="headerlink" title="Open vSwitchï¼ˆovsï¼‰"></a>Open vSwitchï¼ˆovsï¼‰</h3><h4 id="åŸç†è§£æ"><a href="#åŸç†è§£æ" class="headerlink" title="åŸç†è§£æ"></a>åŸç†è§£æ</h4><blockquote>
<p> Open vSwitch æ˜¯ä¸€ä¸ªé«˜è´¨é‡çš„ã€å¤šå±‚è™šæ‹Ÿäº¤æ¢æœº</p>
</blockquote>
<p>åŸç†å›¾</p>
<p><img src="http://cdn.linz.tech/1555683876672.png" alt="1555683876672"></p>
<p>åŸç†è§£æï¼š</p>
<blockquote>
<p>GREï¼šé€šç”¨è·¯ç”±åè®®å°è£…ã€‚ </p>
<p>éš§é“æŠ€æœ¯ï¼ˆTunnelingï¼‰ä¸€ç§ä½¿ç”¨äº’è”ç½‘åŸºç¡€è®¾æ–½åœ¨ç½‘ç»œä¼ è¾“æ•°æ®çš„æ–¹å¼ï¼Œæ”¯æŒä¸åŒåè®®çš„æ•°æ®ï¼Œå¹¶æ¯ä¸ªå¸§å¤´æœ‰è·¯ç”±å¯»å€ä¿¡æ¯ã€‚å³éš§é“æŠ€æœ¯æ˜¯æä¾›æ˜¯ç‚¹å¯¹ç‚¹å†å°è£…çš„æŠ€æœ¯ï¼›</p>
</blockquote>
<h4 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h4><blockquote>
<ul>
<li>å»ºç«‹ovsè¿æ¥</li>
<li>æ·»åŠ greè¿æ¥</li>
<li>é…ç½®dockerå®¹å™¨è™šæ‹Ÿç½‘æ¡¥</li>
<li>ä¸ºè™šæ‹Ÿç½‘æ¡¥æ·»åŠ ovsæ¥å£</li>
<li>æ·»åŠ ä¸åŒçš„Dockerç½‘æ®µè·¯ç”±</li>
</ul>
</blockquote>
<ol>
<li>é…ç½®å®‰è£…</li>
</ol>
<pre class="line-numbers language-shell"><code class="language-shell">#å®‰è£…å·¥å…·
sudo apt-get install openvswitch-switch
sudo apt-get install bridge-utils
#æŸ¥çœ‹ç‰ˆæœ¬
sudo ovs-vsctl show
#åˆ›å»ºç½‘æ¡¥
sudo ovs-vsctl add-br obr0
#æ·»åŠ GREæ¥å£
sudo ovs-vsctl add-port obr0 gre0
#interface remote_ip æŒ‡å®šè¿œç¨‹æœåŠ¡å™¨åœ°å€ï¼ˆä¸ºå¦ä¸€å°è™šæ‹Ÿæœºåœ°å€ï¼‰192.168.208.132
sudo ovs-vsctl set interface gre0 type=gre options:remote_ip=192.168.59.104
#æŸ¥çœ‹æ–°å»ºçŠ¶æ€ï¼Œç¡®è®¤ä¿®æ”¹æˆåŠŸ
sudo ovs-vsctl show
#æ–°å»ºç½‘æ¡¥
sudo brctl addbr br0
#é…ç½®ç½‘æ¡¥
sudo ifconfig br0 192.168.1.1 netmask 255.255.255.0
#æ·»åŠ osvç½‘æ¡¥è¿æ¥
sudo brctl addif br0 obr0
#æŸ¥çœ‹å½“å‰ç½‘æ¡¥çš„è¿æ¥çŠ¶æ€
sudo brctl show
#ä¿®æ”¹Dockeré»˜è®¤çš„ç½‘æ¡¥ "bridge":"br0"
vim /etc/docker/daemon.json 
sudo systemctl daemon-reload
sudo systemctl restart docker<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li>éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ</li>
</ol>
<pre class="line-numbers language-shell"><code class="language-shell">docker run -it ubuntu /bin/bash if
#ping å¦ä¸€å°ä¸»æœºæ˜¯å¦æˆåŠŸ
ping 192.168.59.104<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ol start="3">
<li><p>åŒæ­¥éª¤1ï¼Œä½†æ˜¯è¯¥ç½‘æ¡¥<code>sudo ifconfig br0 192.168.2.1 netmask 255.255.255.0</code></p>
</li>
<li><p>é…ç½®å¥½åä¸¤ä¸ªé•œåƒè¿˜æ˜¯ä¸èƒ½pingé€šï¼Œæ·»åŠ è·¯ç”±è¡¨</p>
<p>æŸ¥çœ‹è·¯ç”±è¾¹ä¿¡æ¯ 192.168.208.132</p>
<pre class="line-numbers language-shell"><code class="language-shell">Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         192.168.208.2   0.0.0.0         UG    100    0        0 ens33
link-local      *               255.255.0.0     U     1000   0        0 ens33
172.17.0.0      *               255.255.0.0     U     0      0        0 docker0
192.168.208.0   *               255.255.255.0   U     100    0        0 ens33<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ·»åŠ è·¯ç”±</p>
<pre class="line-numbers language-shell"><code class="language-shell">#æ·»åŠ 192.168.2.0/2è·¯ç”±ä¿¡æ¯ï¼Œåœ¨192.168.59.104èƒ½æ‰¾åˆ°æŒ‡å®šè®¾å¤‡eth0 
sudo ip route add 192.168.2.0/24 via 192.168.59.104 dev eth0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ol>
<h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><ul>
<li><a href="https://www.sdnlab.com/3166.html" target="_blank" rel="noopener">Open vSwitch2.3.0ç‰ˆæœ¬å®‰è£…éƒ¨ç½²åŠåŸºæœ¬æ“ä½œ</a></li>
<li><a href="http://www.imooc.com/article/278645" target="_blank" rel="noopener">ç¬”è®°</a></li>
</ul>
<h3 id="Weave"><a href="#Weave" class="headerlink" title="Weave"></a>Weave</h3><h4 id="å®æˆ˜-1"><a href="#å®æˆ˜-1" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h4><p>`Weave çš„å®‰è£…</p>
<pre class="line-numbers language-shell"><code class="language-shell">sudo curl -L git.io/weave -o /usr/local/bin/weave  #ä¸‹è½½
sudo chmod a+x /usr/local/bin/weave  #èµ‹äºˆæ‰§è¡Œæƒé™
weave version   #æŸ¥çœ‹weaveç‰ˆæœ¬
weave status     #æŸ¥çœ‹weaveçŠ¶æ€<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¿è¡Œ</p>
<pre class="line-numbers language-shell"><code class="language-shell"># docker1 ä¸»æœº
weave launcn 192.168.208.134  # 192.168.208.134 éœ€è¦è¿æ¥ä¸»æœºåœ°å€
# åå°è¿è¡Œä¸€ä¸ªé•œåƒ
docker run -it dockerlinz/cct 
#ä¸ºé•œåƒåˆ†é…IPåœ°å€
weave attach 192.168.1.2/24 <ContainerId>
#docker2 ä¸»æœºåŒä¸Šé…ç½®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æµ‹è¯•</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker exec  -it  <ContainerId> /bin/bash
ping ip<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h4 id="å¸¸ç”¨å‘½ä»¤-3"><a href="#å¸¸ç”¨å‘½ä»¤-3" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h4><pre class="line-numbers language-shell"><code class="language-shell">weave --help  #æŸ¥çœ‹å¸®åŠ©
weave ps #æŸ¥çœ‹weaveè·¯ç”±çŠ¶æ€ï¼šweave ps
weave connect  OTHER_HOST  #å¯ä»¥æŠŠä¸€å°ä¸»æœºè¿æ¥åˆ°weaveç½‘ç»œ
weave attach #åŠ¨æ€æ·»åŠ ç½‘ç»œå¯¹äºä¸æ˜¯é€šè¿‡weaveå¯åŠ¨çš„å®¹å™¨ï¼Œå¯ä»¥é€šè¿‡weave attach 10.0.1.1/24  $ContainerIdæ¥æ·»åŠ ç½‘ç»œï¼ˆweave  detachåˆ é™¤ç½‘ç»œï¼‰
weave expose #ä¸ä½¿ç”¨dockerçš„åŸç”Ÿç½‘ç»œå®¹å™¨å’Œå®¿ä¸»æœºä¹‹é—´æ˜¯æ— æ³•äº’é€šçš„ , weave expose ip/24è¿™ä¸ªå‘½ä»¤ä¼šæŠŠå®¿ä¸»æœºåŠ å…¥åˆ°weave ç½‘ç»œä¸­, å®¿ä¸»æœºå°±å¯ä»¥å’Œå®¹å™¨ä¹‹é—´è‡ªç”±é€šä¿¡äº†
weave launch -password #å®‰å…¨æ€§ï¼šå¯ä»¥é€šè¿‡weave launch -password wEaVeè®¾ç½®ä¸€ä¸ªå¯†ç ç”¨äºweave peersä¹‹é—´åŠ å¯†é€šä¿¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Weave Network Plugin</p>
<p><a href="https://www.weave.works/docs/net/latest/introducing-weave/" target="_blank" rel="noopener">Weave Network Plugin</a></p>
<h3 id="Overlay"><a href="#Overlay" class="headerlink" title="Overlay"></a>Overlay</h3><p><a href="https://www.cnblogs.com/bigberg/p/8521542.html" target="_blank" rel="noopener">Dockerå®¹å™¨è·¨ä¸»æœºé€šä¿¡â€“overlayç½‘ç»œ</a></p>
<p>å‚è€ƒï¼š <a href="https://www.jianshu.com/p/ae3e6132a3bd" target="_blank" rel="noopener">è‡ªå®šä¹‰é»˜è®¤ç½‘æ¡¥ docker0</a></p>
<p>æ“ä½œæ¡ˆä¾‹<code>Ingress Network / lvs</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">#æŸ¥çœ‹è·¯ç”±åˆ—è¡¨
iptables -nL -t nat
yum install bridge-utils -y
# æŸ¥çœ‹ç½‘å…³
brctl show 
docker network ls<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å‚è€ƒ-1"><a href="#å‚è€ƒ-1" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://success.docker.com/article/networking" target="_blank" rel="noopener">Designing Scalable, Portable Docker Container Networks</a></p>
<h1 id="docker-compose"><a href="#docker-compose" class="headerlink" title="docker-compose"></a>docker-compose</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><pre class="line-numbers language-shell"><code class="language-shell">curl -L https://get.daocloud.io/docker/compose/releases/download/1.24.1/docker-compose-`uname -s`-`uname -m` > /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="å®˜æ–¹é…ç½®æ–‡æ¡£"><a href="#å®˜æ–¹é…ç½®æ–‡æ¡£" class="headerlink" title="å®˜æ–¹é…ç½®æ–‡æ¡£"></a>å®˜æ–¹é…ç½®æ–‡æ¡£</h2><p><a href="https://docs.docker.com/compose/compose-file/" target="_blank" rel="noopener"> å®˜ç½‘ docker-compose.yml æ–‡ä»¶å‚è€ƒ</a> </p>
<p><a href="https://blog.csdn.net/qq_36148847/article/details/79427878" target="_blank" rel="noopener">docker-compose.yml é…ç½®æ–‡ä»¶ç¼–å†™è¯¦è§£</a></p>
<h2 id="åŸºæœ¬æ“ä½œ"><a href="#åŸºæœ¬æ“ä½œ" class="headerlink" title="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ</h2><pre class="line-numbers language-shell"><code class="language-shell"># one-off
docker-compose run 
# å¯åŠ¨å¹¶åœ¨åå°è¿è¡Œ
docker-compose up -d
# åœæ­¢container
docker-compose stop 
# bring everything down, remove the container 
docker-compose down 
# remove the data 
docker-compose down --volumes<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å¸¸ç”¨å‚æ•°è¯¦è§£"><a href="#å¸¸ç”¨å‚æ•°è¯¦è§£" class="headerlink" title="å¸¸ç”¨å‚æ•°è¯¦è§£"></a>å¸¸ç”¨å‚æ•°è¯¦è§£</h2><p>epends_on</p>
<p>example:</p>
<pre class="line-numbers language-shell"><code class="language-shell">version: "3.7"
services:
  web:
    build: .
    depends_on:
      - db
      - redis
  redis:
    image: redis
  db:
    image: postgres<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>depends_on åªæ˜¯serviceçš„å¯åŠ¨é¡ºåº, è€Œä¸æ˜¯ç­‰å¾…db,redis å‡†å¤‡å¥½ä¹‹ååœ¨å¯åŠ¨ï¼Œè¿™å°±ä¼šæœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œweb å¯åŠ¨ådb,redis æ²¡æœ‰å‡†å¤‡å¥½ï¼Œå¯¼è‡´webå¯åŠ¨å¤±è´¥ï¼Œå®˜ç½‘è§£å†³æ–¹æ¡ˆ</p>
<pre class="line-numbers language-shell"><code class="language-shell"> depends_on:
      - "db"
    command: ["./wait-for-it.sh", "db:5432", "--", "python", "app.py"]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>wait-for-it.sh ä½¿ç”¨è„šæœ¬è¿›è¡Œé‡è¿</p>
<pre class="line-numbers language-shell"><code class="language-shell">#!/bin/sh
# wait-for-postgres.sh

set -e

host="$1"
shift
cmd="$@"

until PGPASSWORD=$POSTGRES_PASSWORD psql -h "$host" -U "postgres" -c '\q'; do
  >&2 echo "Postgres is unavailable - sleeping"
  sleep 1
done

>&2 echo "Postgres is up - executing command"
exec $cmd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ç”¨docker-compose-é…ç½®ç¯å¢ƒ"><a href="#ç”¨docker-compose-é…ç½®ç¯å¢ƒ" class="headerlink" title="ç”¨docker-compose é…ç½®ç¯å¢ƒ"></a>ç”¨docker-compose é…ç½®ç¯å¢ƒ</h2><p>docker-compose-pull-images.yml</p>
<pre class="line-numbers language-yml"><code class="language-yml">version: '3'
services:
  ubuntu:
    image: ubuntu:latest
  busybox:
    image: busybox:latest
  openjdk:
    image: openjdk:latest
  wildfly:
    image: jboss/wildfly:latest
  javaee7-hol:
    image: arungupta/javaee7-hol:latest
  docker-javaee:
    image: arungupta/docker-javaee:dockerconeu17
  mysql:
    image: mysql:8
  hadoop:
    image: tailtarget/hadoop:2.7.2
  jenkins:
    image: jenkins/jenkins:lts
  prometheus:
    image: prom/prometheus:latest
  node-exporter:
    image: prom/node-exporter
  cadvisor:
    image: google/cadvisor:latest
  grafana:
    image: grafana/grafana
  debian:
    image: debian:stable-slim
  alpine:
    image: alpine:3.6
  openjdk-slim:
    image: openjdk:9-jdk-slim<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>Pulls images for services defined in a Compose file, but does not start the containers.</p>
</blockquote>
<pre class="line-numbers language-yml"><code class="language-yml">#add sudo for linux 
docker-compose -f docker-compose-pull-images.yml pull --parallel<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ymlæ–‡ä»¶æ›´æ–°</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker stack deploy wordpress --compose-file=docker-compose.yml <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="å®æˆ˜æ¡ˆä¾‹"><a href="#å®æˆ˜æ¡ˆä¾‹" class="headerlink" title="å®æˆ˜æ¡ˆä¾‹"></a>å®æˆ˜æ¡ˆä¾‹</h3><h4 id="FastFDS"><a href="#FastFDS" class="headerlink" title="FastFDS"></a>FastFDS</h4><ol>
<li><a href="https://github.com/happyfish100/fastdfs" target="_blank" rel="noopener"><strong>fastdfs å®˜ç½‘</strong></a><ol>
<li><a href="https://github.com/qbanxiaoli/fastdfs" target="_blank" rel="noopener">docker-compose  å’ŒDockerfile  ç”Ÿæˆfastdfs å­¦ä¹ æ¡ˆä¾‹</a></li>
<li><a href="https://github.com/Guu-mc/fastdfs" target="_blank" rel="noopener">moocu/fastdfs source </a></li>
</ol>
</li>
</ol>
<h2 id="Network-in-compose"><a href="#Network-in-compose" class="headerlink" title="Network in compose"></a>Network in compose</h2><p><a href="https://docs.docker.com/compose/networking/#links" target="_blank" rel="noopener">Networking in Compose</a></p>
<p>åŒä¸€ä¸ªcompose app ç›¸äº’è¿é€š</p>
<pre class="line-numbers language-shell"><code class="language-shell">version: "3"
services:
  linux:
    image: ubuntu
  db:
    image: postgres
    ports:
      - "8001:5432"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
<li>compose ç”¨linux å’Œ db ä½œä¸ºä¸»æœºåœ°å€,<code>docker exec -it linux ping db</code>  å¯ä»¥pingé€š</li>
<li>composeå†…éƒ¨ä½¿ç”¨é»˜è®¤ç«¯å£è€Œä¸æ˜¯æ˜ å°„ç«¯å£ï¼Œ å¦‚å½“linux ä½¿ç”¨dbæ•°æ®åº“æ˜¯ä½¿ç”¨ç«¯å£5432å¯ä»¥ç›´æ¥è®¿é—®ï¼Œè€Œä¸æ˜¯å¤–éƒ¨æ˜ å°„ç«¯å£8001</li>
</ol>
<h1 id="Docker-å®‰å…¨"><a href="#Docker-å®‰å…¨" class="headerlink" title="Docker å®‰å…¨"></a>Docker å®‰å…¨</h1><h2 id="docker-Secret"><a href="#docker-Secret" class="headerlink" title="docker Secret"></a>docker Secret</h2><p><strong>å®˜æ–¹æ–‡æ¡£è¯¦ç»†ä»‹ç»</strong>ï¼š <a href="https://docs.docker.com/engine/swarm/secrets/" target="_blank" rel="noopener">Manage sensitive data with Docker secrets</a></p>
<pre class="line-numbers language-shell"><code class="language-shell">#æ–°å»ºä¸€ä¸ªåç§°ä¸ºmy-pw å€¼ä¸º password çš„secret
docker secret create my-pw password
#ä¸äº§ç”Ÿæ–‡ä»¶
printf <secret> | docker secret create my_secret -
#æŸ¥çœ‹secret
docker secret ls

#æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨ï¼Œæ˜¯å¦å­˜åœ¨secretæ–‡ä»¶
docker container exec $(docker ps --filter name=redis -q) ls -l /run/secrets
#æŸ¥çœ‹secretå†…å®¹
docker container exec $(docker ps --filter name=redis -q) cat /run/secrets/my_secret_data
#åˆ é™¤
docker service update --secret-rm my_secret_data redis
#Add or update a secret on a service
docker service update  --secret-add secret                  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ymlæ–‡ä»¶ä¸­ä½¿ç”¨</p>
<pre><code>services:
   db:
     image: mysql:latest
     environment:
       MYSQL_ROOT_PASSWORD_FILE: /run/secrets/my_secret
       MYSQL_DATABASE: wordpress
     secrets:
       - my_secret</code></pre><pre class="line-numbers language-yml"><code class="language-yml">webï¼š
    image: wordpress
    ports:
        - 8080:80
    secrets:
        - my-pw
    environment:
        WORDPRESS_DB_HOST: mysql
        WORDPRESS_DB_PASSWORD_FILE: /run/secrets/my-pw<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>docker run ä½¿ç”¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker service create --name client --secret my-pw busybox sh -c "while true: do sleep 3600;done"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="è¿›é˜¶å­¦ä¹ "><a href="#è¿›é˜¶å­¦ä¹ " class="headerlink" title="è¿›é˜¶å­¦ä¹ "></a>è¿›é˜¶å­¦ä¹ </h1><h2 id="storage"><a href="#storage" class="headerlink" title="storage"></a>storage</h2><h3 id="Volumes"><a href="#Volumes" class="headerlink" title="Volumes"></a>Volumes</h3><ul>
<li><a href="https://docs.docker.com/storage/volumes/" target="_blank" rel="noopener">compose file reference Use volumes</a> ä¸€ä¸‹Volumesæœ€å¸¸ç”¨çš„æ“ä½œ</li>
</ul>
<p>container sharing volumes</p>
<pre class="line-numbers language-shell"><code class="language-shell">sudo docker run -it -v /usr/lib:/usr/lib/dbdata --name dbcontainer-192.168.1.184 ubuntu:14.04

sudo docker run -it --volumes-from dbcontainer-192.168.1.184 --name 

mastercontainer-192.168.1.180 ubuntu:14.04<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="plugin"><a href="#plugin" class="headerlink" title="plugin"></a>plugin</h2><h2 id="docker-inspect"><a href="#docker-inspect" class="headerlink" title="docker inspect"></a>docker inspect</h2><ul>
<li><a href="https://www.cnblogs.com/mumengyun/p/10038145.html" target="_blank" rel="noopener">docker inspectè·å–è¯¦ç»†å‚æ•°çš„ä¸¤ç§æ–¹æ³•</a></li>
</ul>
<h2 id="Kubernetes"><a href="#Kubernetes" class="headerlink" title="Kubernetes"></a>Kubernetes</h2><ul>
<li><a href="https://www.kubernetes.org.cn/4387.html" target="_blank" rel="noopener">Ubuntu 18.04 ç¦»çº¿å®‰è£…Kubernetes v1.11.1</a></li>
</ul>
<h2 id="å¸¸ç”¨å·¥å…·"><a href="#å¸¸ç”¨å·¥å…·" class="headerlink" title="å¸¸ç”¨å·¥å…·"></a>å¸¸ç”¨å·¥å…·</h2><ul>
<li><p><strong>portainer</strong> æ˜¯ä¸€ä¸ªå¼€æºã€è½»é‡çº§Docker<br>ç®¡ç†ç”¨æˆ·ç•Œé¢å®˜æ–¹ç½‘ç«™ï¼š<a href="https://portainer.io/" target="_blank" rel="noopener">https://portainer.io/</a><br>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://portainer.readthedocs.io/" target="_blank" rel="noopener">https://portainer.readthedocs.io/</a><br>æ¼”ç¤ºç½‘å€ï¼š<a href="http://demo.portainer.io/" target="_blank" rel="noopener">http://demo.portainer.io</a> è´¦å·admin å¯†ç  tryportainer<br>å®‰è£…å‘½ä»¤</p>
<pre class="line-numbers language-shell"><code class="language-shell"># ä¸‹è½½é•œåƒ
docker pull portainer/portainer:latest
docker run -d -p 9000:9000 \
    --restart=always \
    -v /var/run/docker.sock:/var/run/docker.sock \
    --name prtainer \
    portainer/portainer<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>é—®é¢˜è§£å†³</p>
<blockquote>
<p>é—®é¢˜1. è®¾ç½®å¯†ç å é€‰æ‹©<code>Local</code> -&gt; <code>conect</code> æŠ¥é”™</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">Failure
Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/_ping: dial unix /var/run/docker.sock: connect: permission denied<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong></p>
<ul>
<li>åŸå› <br>SELinuxå¼€å¯ ä¸»è¦ä½œç”¨å°±æ˜¯æœ€å¤§é™åº¦åœ°å‡å°ç³»ç»Ÿä¸­æœåŠ¡è¿›ç¨‹å¯è®¿é—®çš„èµ„æºï¼ˆæœ€å°æƒé™åŸåˆ™ï¼‰</li>
<li>è§£å†³<pre class="line-numbers language-shell"><code class="language-shell"># ç¬¬ä¸€æ­¥
etenforce 0
#ç¬¬äºŒæ­¥
ä¿®æ”¹/etc/selinux/config æ–‡ä»¶
å°†SELINUX=enforcingæ”¹ä¸ºSELINUX=disabled
é‡å¯æœºå™¨å³å¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h2 id="Docker-ä¼ å‚"><a href="#Docker-ä¼ å‚" class="headerlink" title="Docker ä¼ å‚"></a>Docker ä¼ å‚</h2><h3 id="ç›´æ¥ç”¨-docker-inspect-lt-container-id-gt-æŸ¥çœ‹"><a href="#ç›´æ¥ç”¨-docker-inspect-lt-container-id-gt-æŸ¥çœ‹" class="headerlink" title="ç›´æ¥ç”¨ docker inspect <container-id> æŸ¥çœ‹"></a>ç›´æ¥ç”¨ <code>docker inspect &lt;container-id&gt;</code> æŸ¥çœ‹</h3><p>Dockerfile </p>
<pre class="line-numbers language-shell"><code class="language-shell">ENTRYPOINT java -Xmx256M -jar /app.jar
CMD ["echo", "hello"]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>docker inspect <container-id>  å®é™…å¯åŠ¨çš„å‘½ä»¤åŠå‚æ•°</container-id></p>
<pre class="line-numbers language-shell"><code class="language-shell">  "Path": "/bin/sh",
    "Args": [
        "-c",
        "java -Xmx256M -jar /app.jar",
        "echo",
        "hello"
    ]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ENTRYPOINT-CMD"><a href="#ENTRYPOINT-CMD" class="headerlink" title="ENTRYPOINT / CMD"></a>ENTRYPOINT / CMD</h3><p>æœ‰ENTRYPOINT ä¼˜å…ˆ</p>
<h3 id="å–å‚"><a href="#å–å‚" class="headerlink" title="$å–å‚"></a>$å–å‚</h3><p>Dockerfile</p>
<pre class="line-numbers language-shell"><code class="language-shell">FROM ubuntu
ENTRYPOINT echo hello $0 $2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>è¿è¡Œ</p>
<pre class="line-numbers language-shell"><code class="language-shell">#ç¼–è¯‘
docker build -t test .
#è¿è¡Œ
docker run test 111 2222 333
#è¾“å‡º
hello 111 333<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Dockerfile2</p>
<pre class="line-numbers language-shell"><code class="language-shell">ENTRYPOINT echo hello $0 $@
#è¿è¡Œ
docker run test 111 2222 333
#è¾“å‡º
hello 111 2222 333<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ç¯å¢ƒå˜é‡æ–¹å¼"><a href="#ç¯å¢ƒå˜é‡æ–¹å¼" class="headerlink" title="ç¯å¢ƒå˜é‡æ–¹å¼"></a>ç¯å¢ƒå˜é‡æ–¹å¼</h3><p>Dockerfile </p>
<pre class="line-numbers language-shell"><code class="language-shell">FROM ubuntu
ENTRYPOINT echo hello $0 ${OPT}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ç¼–è¯‘ tag=testï¼Œ è¿è¡Œ<code>docker run -e OPT="-Xmx5G -Xms2G" test aa bb</code>,è¾“å‡º</p>
<pre class="line-numbers language-shell"><code class="language-shell">hello aa -Xmx5G -Xms2G<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="Alpine-Linux"><a href="#Alpine-Linux" class="headerlink" title="Alpine Linux"></a><strong>Alpine</strong> Linux</h2><blockquote>
<p>alpine linux æ˜¯ä¸€ä¸ªåŸºäºå®‰å…¨çš„è½»é‡çº§ Linux å‘è¡Œç‰ˆï¼ŒåŸºäº musl libc å’Œ busyboxã€‚alpine linux ç”±äºç®€å•å®‰å…¨ï¼Œéå¸¸é€‚åˆ docker çš„ linux å‘è¡Œç‰ˆï¼Œå¹¶ä¸”è¢« docker å®˜æ–¹æ‰€æ¨èç”¨æ¥å–ä»£ ubuntuã€‚å®ƒä¸ä½†éå¸¸å°ï¼Œä»…æœ‰ 5m å·¦å³ï¼Œè€Œä¸”ç»è¿‡ä¼˜åŒ–å¯ä»¥åœ¨ RAM ä¸­è¿è¡Œ  <a href="https://wiki.alpinelinux.org/wiki/Main_Page" target="_blank" rel="noopener">å®˜æ–¹è¯´æ˜æ–‡æ¡£</a></p>
</blockquote>
<h3 id="è½¯ä»¶ç®¡ç†-package-management"><a href="#è½¯ä»¶ç®¡ç†-package-management" class="headerlink" title="è½¯ä»¶ç®¡ç† package management"></a>è½¯ä»¶ç®¡ç† package management</h3><p><a href="https://wiki.alpinelinux.org/wiki/Alpine_Linux_package_management" target="_blank" rel="noopener">Package management å®˜æ–¹è¯¦ç»†è¯´æ˜</a> åŒ…å«è¯¦ç»†çš„å‘½ä»¤æ¡ˆä¾‹</p>
<p>å‘½ä»¤åˆ—è¡¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">
add    Add new packages to the running system
del    Delete packages from the running system
fix    Attempt to repair or upgrade an installed package
update    Update the index of available packages
info    Prints information about installed or available packages
search    Search for packages or descriptions with wildcard patterns
upgrade    Upgrade the currently installed packages
cache    Maintenance operations for locally cached package repository
version    Compare version differences between installed and available packages
index    create a repository index from a list of packages
fetch    download (but not install) packages
audit    List changes to the file system from pristine package install state
verify    Verify a package signature
dot    Create a graphviz graph description for a given package
policy    Display the repository that updates a given package, plus repositories that also offer the package
stats    Display statistics, including number of packages installed and available, number of directories and files, etc.
manifest    Display checksums for files contained in a given package<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="è½¯ä»¶ä»“åº“"><a href="#è½¯ä»¶ä»“åº“" class="headerlink" title="è½¯ä»¶ä»“åº“"></a>è½¯ä»¶ä»“åº“</h4><p><a href="https://pkgs.alpinelinux.org/packages" target="_blank" rel="noopener">å®˜æ–¹è½¯ä»¶ä»“åº“</a> <a href="https://pkgs.alpinelinux.org/packages" target="_blank" rel="noopener">https://pkgs.alpinelinux.org/packages</a>  å¯ä»¥æœç´¢å®‰è£…</p>
<p><a href="http://dl-cdn.alpinelinux.org/alpine/latest-stable/community/" target="_blank" rel="noopener">ç¤¾åŒºæœ€æ–°ç¨³å®šè½¯ä»¶åˆ—è¡¨</a> èƒ½æ‰¾åˆ°å®˜æ–¹ä»“åº“æ²¡æœ‰çš„è½¯ä»¶</p>
<h4 id="å‚è€ƒ-2"><a href="#å‚è€ƒ-2" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><ul>
<li><a href="http://www.imooc.com/article/287437?block_id=tuijian_wz" target="_blank" rel="noopener"><strong>alpine linux ç¯å¢ƒä¸­å®‰è£… docker</strong></a></li>
</ul>
<h1 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h1><h2 id="æœ¬åœ°æ‰“åŒ…Imageï¼Œè§£å‹åˆ†æåˆ°å…¶ä»–æœåŠ¡å™¨"><a href="#æœ¬åœ°æ‰“åŒ…Imageï¼Œè§£å‹åˆ†æåˆ°å…¶ä»–æœåŠ¡å™¨" class="headerlink" title="æœ¬åœ°æ‰“åŒ…Imageï¼Œè§£å‹åˆ†æåˆ°å…¶ä»–æœåŠ¡å™¨"></a>æœ¬åœ°æ‰“åŒ…Imageï¼Œè§£å‹åˆ†æåˆ°å…¶ä»–æœåŠ¡å™¨</h2><pre class="line-numbers language-shell"><code class="language-shell">docker image save helloworld > helloworld.tar
docker image load -i helloworld.tar<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="Jenkins"><a href="#Jenkins" class="headerlink" title="Jenkins"></a>Jenkins</h2><h3 id="Running-Docker-in-Jenkins"><a href="#Running-Docker-in-Jenkins" class="headerlink" title="*Running Docker in Jenkins *"></a>*<em>Running Docker in Jenkins *</em></h3><p><a href="https://container-solutions.com/running-docker-in-jenkins-in-docker/" target="_blank" rel="noopener">https://container-solutions.com/running-docker-in-jenkins-in-docker/</a></p>
<p>Dockerfile</p>
<pre class="line-numbers language-shell"><code class="language-shell">#ä¸åŠ latestè‡ªåŠ¨é€‰æ‹©æœ€æ–°çš„ï¼šFROM jenkins:latest
FROM jenkins
USER root
#æ¸…é™¤äº†åŸºç¡€é•œåƒè®¾ç½®çš„æºï¼Œåˆ‡æ¢æˆé˜¿é‡Œäº‘çš„jessieæº
RUN echo '' > /etc/apt/sources.list.d/jessie-backports.list \
  && echo "deb http://mirrors.aliyun.com/debian jessie main contrib non-free" > /etc/apt/sources.list \
  && echo "deb http://mirrors.aliyun.com/debian jessie-updates main contrib non-free" >> /etc/apt/sources.list \
  && echo "deb http://mirrors.aliyun.com/debian-security jessie/updates main contrib non-free" >> /etc/apt/sources.list

RUN apt-get update \
        && apt-get install -y sudo \
        #è§£å†³docker å‘½ä»¤æ‰¾ä¸åˆ°libltdl7åº“çš„é—®é¢˜
        && apt-get install -y libltdl7 \
        && rm -rf /var/lib/apt/lists/*
#å¢åŠ sudo æƒé™
RUN echo "jenkins ALL=NOPASSWD: ALL" >> /etc/sudoers
#ä¸ç”¨sudoè¿è¡Œdocker
ARG dockerGid=999
RUN echo "docker:x:${dockerGid}:jenkins" >> /etc/group

USER jenkins
COPY plugins.txt /usr/share/jenkins/plugins.txt
RUN /usr/local/bin/plugins.sh /usr/share/jenkins/plugins.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>plugins.txt</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ cat plugins.txt
scm-api:latest
git-client:latest
git:latest
greenballs:latest<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>shell </p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker build -t myjenk .
...
Successfully built 471fc0d22bff
$ docker run -d -v /var/run/docker.sock:/var/run/docker.sock \
                -v $(which docker):/usr/bin/docker -p 8080:8080 myjenk
docker exec -it 471fc0d22bff /bin/bash 
# in jenkins 
jenkins@e8a57cd15581:/$ cat /var/jenkins_home/secrets/initialAdminPassword<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¢åŠ æ—¶åŒºå’Œæ—¶é—´</p>
<pre class="line-numbers language-shell"><code class="language-shell">-v /etc/timezone:/etc/timezone -v /etc/localtime:/etc/localtime<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æŒ‚è½½æœ¬åœ°çš„è®¾ç½®ï¼Œä¸ç”¨æ¯æ¬¡éƒ½éœ€é‡æ–°è®¾ç½®</p>
<pre class="line-numbers language-shell"><code class="language-shell">-v /var/docker_data/jenkins/jenkins_home:/var/jenkins_home 
-v /var/docker_data/jenkins/settings:/var/settings <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Jenkins Operation </p>
<ul>
<li>Open the Jenkins home page in a browser and click the â€œcreate new jobsâ€ link.</li>
<li>Enter the item name (e.g. â€œdocker-testâ€), select â€œFreestyle projectâ€ and click OK.</li>
<li>On the configuration page, click â€œAdd build stepâ€ then â€œExecute shellâ€.</li>
<li>In the command box enter â€œsudo docker run hello-worldâ€</li>
<li>Click â€œSaveâ€.</li>
<li>Click â€œBuild Nowâ€.</li>
</ul>
<p><strong>å¯èƒ½å‡ºç°çš„é—®é¢˜ - æ‰¾ä¸åˆ°æŸäº›library</strong></p>
<pre class="line-numbers language-shell"><code class="language-shell">docker: error while loading shared libraries: libltdl.so.7: cannot open shared object file: No such file or directory
Build step 'Execute shell' marked build as failure<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>åŸå› Jenkinså®¹å™¨å†…æ²¡æœ‰è¿™ä¸ªåº“ï¼Œè§£å†³ï¼Œå¢åŠ å¯¹åº”åº“çš„æ˜ å°„<code>-v /usr/lib/x86_64-linux-gnu/libltdl.so.7:/usr/lib/x86_64-linux-gnu/libltdl.so.7</code></p>
<pre><code>docker run -d -v /var/run/docker.sock:/var/run/docker.sock   -v $(which docker):/usr/bin/docker -v /usr/lib/x86_64-linux-gnu/libltdl.so.7:/usr/lib/x86_64-linux-gnu/libltdl.so.7 -p 8086:8080 myjenk</code></pre><h2 id="Tengine-å®¹å™¨åŒ–"><a href="#Tengine-å®¹å™¨åŒ–" class="headerlink" title="Tengine å®¹å™¨åŒ–"></a>Tengine å®¹å™¨åŒ–</h2><h3 id="Tengine-TCMalloc"><a href="#Tengine-TCMalloc" class="headerlink" title="Tengine + TCMalloc"></a>Tengine + TCMalloc</h3><p>å…¶ä¸­<code>libunwind-1.2</code>å’Œ <code>gperftools-2.7</code> ç”±äºç½‘ç»œé—®é¢˜ç¼“å­˜åœ¨æœ¬åœ° <code>E:\software\2.coder\env\</code></p>
<p>Dockderfile</p>
<pre class="line-numbers language-shell"><code class="language-shell">#Dockerfile for tnegine
FROM centos:latest

MAINTAINER zhilin "zhilinchn@126.ocm"

ENV NGINX_VERSION 2.3.0


WORKDIR /usr/src/

ADD https://github.com/alibaba/tengine/archive/${NGINX_VERSION}.tar.gz tengine.tar.gz

# å®‰è£…ä¾èµ–ç¨‹åºåŒ…
RUN yum -y update && yum -y upgrade &&\
    yum -y install gcc gcc-c++ openssl-devel \
        pcre-devel \
        zlib-devel \
        make \
        wget \
        ibxml2-devel \
        gd-devel \
        GeoIP-devel \
        google-perftools-devel \
        libatomic_ops-devel \
        cmake
#ç”±äºç½‘ç»œçš„åŸå›  libunwindï¼Œgperftools æœ¬åœ°å…ˆä¸‹å¥½
ADD  ./libunwind-1.2 /usr/src/libunwind-1.2
ADD  ./gperftools-2.7 /usr/src/gperftools-2.7

#ä½¿ç”¨TCMallocä¼˜åŒ–Tengineæ€§èƒ½
RUN cd /usr/src/libunwind-1.2 &&\
        ./configure && \
        make && make install && \
        cd /usr/src/gperftools-2.7 && \
        ./configure --enable-libunwind --enable-frame-pointers --enable-emergency-malloc && \
        make && make install && \
        mkdir -pv /tmp/tcmalloc && \
        chmod -R 0777 /tmp/tcmalloc


RUN     cd /usr/src/ && \  
        tar -zxvf tengine.tar.gz  && \
                cd tengine-${NGINX_VERSION} && \
        ./configure \
        --prefix=/usr/local/tengine \
        --with-threads \
        --with-file-aio \
        #--with-force-exit \
        --with-mail \
        --with-pcre-jit \
        --with-libatomic \
        --http-log-path=/usr/local/tengine/logs/access.log \
        --with-google_perftools_module && \
        make && make install

EXPOSE 80

CMD ["/usr/local/tengine/sbin/nginx", "-g", "daemon off;"]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Docker-centos-lua"><a href="#Docker-centos-lua" class="headerlink" title="Docker +centos+ lua"></a>Docker +centos+ lua</h3><p>Dockerfile </p>
<blockquote>
<p>docker + tengine + luaæ’ä»¶ é›†æˆ</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">FROM centos:latest
MAINTAINER  becivells <becivells@gmail.com>
RUN yum -y update &&  yum  -y upgrade
RUN yum -y install gcc gcc-c+ openssl openssl-devel pcre-devel zlib-devel  make wget

ENV TENGINE_VERSION tengine-2.2.3
RUN cd /tmp/ && wget  http://tengine.taobao.org/download/${TENGINE_VERSION}.tar.gz &&\
    tar -zxvf ${TENGINE_VERSION}.tar.gz -C /tmp/ && chmod -R 777 /tmp/${TENGINE_VERSION}
#mkdir
RUN mkdir -p /var/tmp/nginx/client/ &&\
    mkdir -p /var/tmp/nginx/proxy/ &&\
    mkdir -p /var/tmp/nginx/fcgi/ &&\
    mkdir -p /var/tmp/nginx/uwsgi/ &&\
    mkdir -p /var/tmp/nginx/scgi/
#./configure

#LuaJIT
RUN cd /tmp/ && wget http://luajit.org/download/LuaJIT-2.0.4.tar.gz && \
        tar xzvf LuaJIT-2.0.4.tar.gz && \
        cd LuaJIT-2.0.4 && \
        make install PREFIX=/usr/local/LuaJIT

ENV LUAJIT_LIB=/usr/local/LuaJIT/lib
ENV LUAJIT_INC=/usr/local/LuaJIT/include/luajit-2.0

RUN cd /tmp/ && wget https://github.com/simpl/ngx_devel_kit/archive/v0.3.0.tar.gz && \
        tar -xzvf v0.3.0.tar.gz && \
        wget https://github.com/openresty/lua-nginx-module/archive/v0.10.8.tar.gz && \
        tar -xzvf v0.10.8.tar.gz

RUN cd /tmp/${TENGINE_VERSION} && ./configure \
        --prefix=/opt/${TENGINE_VERSION}/ \
        #--sbin-path=/usr/sbin/nginx \
        #--modules-path=/usr/lib64/nginx/modules \
        #--conf-path=/etc/nginx/nginx.conf \
        --error-log-path=/var/log/nginx/error.log \
        --http-log-path=/var/log/nginx/access.log \
        --pid-path=/var/run/nginx/nginx.pid  \
        --lock-path=/var/lock/nginx.lock \
        --http-client-body-temp-path=/var/tmp/nginx/client/ \
        --http-proxy-temp-path=/var/tmp/nginx/proxy/ \
        --http-fastcgi-temp-path=/var/tmp/nginx/fcgi/ \
        --http-uwsgi-temp-path=/var/tmp/nginx/uwsgi \
        --with-file-aio \
        --with-http_addition_module \
        --with-http_auth_request_module \
        --with-http_dav_module \
        --with-http_flv_module \
        --with-http_gunzip_module \
        --with-http_gzip_static_module \
        --with-http_mp4_module \
        --with-http_random_index_module \
        --with-http_realip_module \
        --with-http_secure_link_module \
        --with-http_slice_module \
        --with-http_ssl_module \
        --with-http_stub_status_module \
        --with-http_sub_module \
           --with-mail \
        --with-mail_ssl_module \
        --with-cc-opt='-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions  -fstack-protector-strong \
        --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -fPIC' \
        --with-ld-opt='-Wl,-z,relro -Wl,-z,now -pie' \
        --add-module=/tmp/lua-nginx-module-0.10.8 \
        --add-module=/tmp/ngx_devel_kit-0.3.0 \
        --with-pcre  &&\
        cd /tmp/${TENGINE_VERSION} && make -j 4 && make install && \
        rm -rf /tmp/* && yum clean all && \
        ln -s /opt/${TENGINE_VERSION}/ /opt/tengine && \
        echo "/usr/local/LuaJIT/lib" >> /etc/ld.so.conf && \
        ldconfig
EXPOSE 80
CMD ["/opt/tengine/sbin/nginx", "-g", "daemon off;"]

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Tengine-Alpine"><a href="#Tengine-Alpine" class="headerlink" title="Tengine + Alpine"></a>Tengine + Alpine</h3><p><a href="https://github.com/Axizdkr/tengine" target="_blank" rel="noopener">https://github.com/Axizdkr/tengine</a></p>
<p>Dockerfile</p>
<pre class="line-numbers language-shell"><code class="language-shell">FROM alpine:3.9


ENV TENGINE_VERSION 2.3.0

# nginx: https://git.io/vSIyj

RUN rm -rf /var/cache/apk/* && \
    rm -rf /tmp/*

ENV CONFIG "\
        --prefix=/etc/nginx \
        --sbin-path=/usr/sbin/nginx \
        --modules-path=/usr/lib/nginx/modules \
        --conf-path=/etc/nginx/nginx.conf \
        --error-log-path=/var/log/nginx/error.log \
        --http-log-path=/var/log/nginx/access.log \
        --pid-path=/var/run/nginx.pid \
        --lock-path=/var/run/nginx.lock \
        --http-client-body-temp-path=/var/cache/nginx/client_temp \
        --http-proxy-temp-path=/var/cache/nginx/proxy_temp \
        --http-fastcgi-temp-path=/var/cache/nginx/fastcgi_temp \
        --http-uwsgi-temp-path=/var/cache/nginx/uwsgi_temp \
        --http-scgi-temp-path=/var/cache/nginx/scgi_temp \
        --user=nginx \
        --group=nginx \
        --with-http_ssl_module \
        --with-http_realip_module \
        --with-http_addition_module \
        --with-http_sub_module \
        --with-http_dav_module \
        --with-http_flv_module \
        --with-http_mp4_module \
        --with-http_gunzip_module \
        --with-http_gzip_static_module \
        --with-http_random_index_module \
        --with-http_secure_link_module \
        --with-http_stub_status_module \
        --with-http_auth_request_module \
        --with-http_xslt_module=dynamic \
        --with-http_image_filter_module=dynamic \
        --with-http_geoip_module=dynamic \
        --with-threads \
        --with-stream \
        --with-stream_ssl_module \
        --with-stream_ssl_preread_module \
        --with-stream_realip_module \
        --with-stream_geoip_module=dynamic \
        --with-http_slice_module \
        --with-mail \
        --with-mail_ssl_module \
        --with-compat \
        --with-file-aio \
        --with-http_v2_module \
        --add-module=modules/ngx_http_upstream_check_module \
        "
RUN     addgroup -S nginx \
        && adduser -D -S -h /var/cache/nginx -s /sbin/nologin -G nginx nginx \
        && apk add --no-cache --virtual .build-deps \
                gcc \
                libc-dev \
                make \
                openssl-dev \
                pcre-dev \
                zlib-dev \
                linux-headers \
                curl \
                libxslt-dev \
                gd-dev \
                geoip-dev \
        && curl -L "http://tengine.taobao.org/download/tengine-$TENGINE_VERSION.tar.gz" -o tengine.tar.gz \
        && mkdir -p /usr/src \
        && tar -zxC /usr/src -f tengine.tar.gz \
        && rm tengine.tar.gz \
        && cd /usr/src/tengine-$TENGINE_VERSION \
        && ./configure $CONFIG --with-debug \
        && make -j$(getconf _NPROCESSORS_ONLN) \
        && mv objs/nginx objs/nginx-debug \
        && mv objs/ngx_http_xslt_filter_module.so objs/ngx_http_xslt_filter_module-debug.so \
        && mv objs/ngx_http_image_filter_module.so objs/ngx_http_image_filter_module-debug.so \
        && mv objs/ngx_http_geoip_module.so objs/ngx_http_geoip_module-debug.so \
        && mv objs/ngx_stream_geoip_module.so objs/ngx_stream_geoip_module-debug.so \
        && ./configure $CONFIG \
        && make -j$(getconf _NPROCESSORS_ONLN) \
        && make install \
        && rm -rf /etc/nginx/html/ \
        && mkdir /etc/nginx/conf.d/ \
        && mkdir -p /usr/share/nginx/html/ \
        && install -m644 html/index.html /usr/share/nginx/html/ \
        && install -m644 html/50x.html /usr/share/nginx/html/ \
        && install -m755 objs/nginx-debug /usr/sbin/nginx-debug \
        && install -m755 objs/ngx_http_xslt_filter_module-debug.so /usr/lib/nginx/modules/ngx_http_xslt_filter_module-debug.so \
        && install -m755 objs/ngx_http_image_filter_module-debug.so /usr/lib/nginx/modules/ngx_http_image_filter_module-debug.so \
        && install -m755 objs/ngx_http_geoip_module-debug.so /usr/lib/nginx/modules/ngx_http_geoip_module-debug.so \
        && install -m755 objs/ngx_stream_geoip_module-debug.so /usr/lib/nginx/modules/ngx_stream_geoip_module-debug.so \
        && ln -s ../../usr/lib/nginx/modules /etc/nginx/modules \
        && strip /usr/sbin/nginx* \
        && strip /usr/lib/nginx/modules/*.so \
        && rm -rf /usr/src/tengine-$NGINX_VERSION \
        \
        # Bring in gettext so we can get `envsubst`, then throw
        # the rest away. To do this, we need to install `gettext`
        # then move `envsubst` out of the way so `gettext` can
        # be deleted completely, then move `envsubst` back.
        && apk add --no-cache --virtual .gettext gettext \
        && mv /usr/bin/envsubst /tmp/ \
        \
        && runDeps="$( \
                scanelf --needed --nobanner --format '%n#p' /usr/sbin/nginx /usr/lib/nginx/modules/*.so /tmp/envsubst \
                        | tr ',' '\n' \
                        | sort -u \
                        | awk 'system("[ -e /usr/local/lib/" $1 " ]") == 0 { next } { print "so:" $1 }' \
        )" \
        && apk add --no-cache --virtual .nginx-rundeps $runDeps \
        && apk del .build-deps \
        && apk del .gettext \
        && mv /tmp/envsubst /usr/local/bin/ \
        \
        # Bring in tzdata so users could set the timezones through the environment
        # variables
        && apk add --no-cache tzdata \
        \
        # forward request and error logs to docker log collector
        && ln -sf /dev/stdout /var/log/nginx/access.log \
        && ln -sf /dev/stderr /var/log/nginx/error.log

COPY nginx.conf /etc/nginx/nginx.conf

EXPOSE 80 443

STOPSIGNAL SIGTERM

CMD ["nginx", "-g", "daemon off;"]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å‚è€ƒ-3"><a href="#å‚è€ƒ-3" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul>
<li><p><a href="https://blog.csdn.net/becivells/article/details/52014957" target="_blank" rel="noopener">Dockerfile-centos:tengine</a></p>
</li>
<li><p><a href="http://www.imooc.com/article/19597" target="_blank" rel="noopener"><strong>Nginxç¼–è¯‘å®‰è£…Luaæ¨¡å—</strong></a></p>
</li>
<li><p><a href="https://blog.csdn.net/weixin_43865893/article/details/86520130" target="_blank" rel="noopener">Tengine+Luaæ’ä»¶ç¼–è¯‘å®‰è£…</a></p>
</li>
</ul>
<h2 id="docker-zipkin"><a href="#docker-zipkin" class="headerlink" title="docker-zipkin"></a>docker-zipkin</h2><h3 id="zipkin-elasticsearch"><a href="#zipkin-elasticsearch" class="headerlink" title="zipkin + elasticsearch"></a>zipkin + elasticsearch</h3><p><a href="https://blog.csdn.net/xiaoluo033/article/details/80961807" target="_blank" rel="noopener">spring cloud 2.0 å…¥é—¨ç³»åˆ—ä¸€ ï¼ˆ10ï¼‰åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª-Zipkin</a></p>
<p>docker-compose.yml</p>
<pre class="line-numbers language-yml"><code class="language-yml">version: "3"
services:

  elasticsearch:
    image:  elasticsearch:latest
    container_name: elasticsearch
    restart: always
    networks:
      - elk
    ports:
      - "9200:9200"
      - "9300:9300"
    volumes:
       - ../elasticsearch/data:/usr/share/elasticsearch/data

  zipkin:
    image: openzipkin/zipkin:latest
    container_name: zipkin
    restart: always
    networks:
      - elk
    ports:
      - "9411:9411"
    environment:
      - STORAGE_TYPE=elasticsearch
      - ES_HOSTS=elasticsearch

networks:
    elk:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="docker-zipkin-å˜é‡ä¸“é€’åˆ†æ"><a href="#docker-zipkin-å˜é‡ä¸“é€’åˆ†æ" class="headerlink" title="docker-zipkin å˜é‡ä¸“é€’åˆ†æ"></a>docker-zipkin å˜é‡ä¸“é€’åˆ†æ</h3><p><a href="https://github.com/openzipkin/docker-zipkin" target="_blank" rel="noopener"> <strong>docker-zipkin</strong></a> </p>
<p>docker-compose.yml è®¾ç½®ç¯å¢ƒå˜é‡</p>
<p>zipkin/Dockerfile è°ƒç”¨<code>run.sh</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">WORKDIR /zipkin

RUN ["/busybox/sh", "-c", "ln -s /busybox/* /bin"]

EXPOSE 9410 9411

ENTRYPOINT ["/busybox/sh", "run.sh"]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>run.sh æ ¹æ®docker-compose.ymlåŠ¨æ€è®¾ç½®å˜é‡</p>
<pre class="line-numbers language-shell"><code class="language-shell">#!/bin/sh

if [ -f ".${STORAGE_TYPE}_profile" ]; then
  source ${PWD}/.${STORAGE_TYPE}_profile
fi

exec java ${MODULE_OPTS} ${JAVA_OPTS} -cp . org.springframework.boot.loader.PropertiesLauncher<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>.mysql_profile</p>
<pre class="line-numbers language-shell"><code class="language-shell">#!/bin/sh
if [[ -z "$MYSQL_HOST" ]]; then
  if [[ -z "$STORAGE_PORT_3306_TCP_ADDR" ]]; then
    echo "** ERROR: You need to link with a MySQL container as 'storage' or specify MYSQL_HOST env var."
    echo "STORAGE_PORT_3306_TCP_ADDR (container link) or MYSQL_HOST should contain a MySQL hostname."
    exit 1
  fi
  MYSQL_HOST=$STORAGE_PORT_3306_TCP_ADDR
  # When there's a container named "mysql", MYSQL_PORT will have a value like tcp://172.17.0.2:3306
  export MYSQL_PORT=3306
fi

export MYSQL_HOST
export MYSQL_USER=${MYSQL_USER:=zipkin}
export MYSQL_PASS=${MYSQL_PASS:=zipkin}

echo "MySQL host: $MYSQL_HOST"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>spring boot æœ€ç»ˆè·å–é…ç½®</p>
<p><code>/zipkin-server/src/main/resources/zipkin-server-shared.yml</code></p>
<pre class="line-numbers language-yml"><code class="language-yml"> mysql:
      jdbc-url: ${MYSQL_JDBC_URL:}
      host: ${MYSQL_HOST:localhost}
      port: ${MYSQL_TCP_PORT:3306}
      username: ${MYSQL_USER:}
      password: ${MYSQL_PASS:}
      db: ${MYSQL_DB:zipkin}
      max-active: ${MYSQL_MAX_CONNECTIONS:10}
      use-ssl: ${MYSQL_USE_SSL:false}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å®¹å™¨ä½¿ç”¨è¿œç¨‹storage"><a href="#å®¹å™¨ä½¿ç”¨è¿œç¨‹storage" class="headerlink" title="å®¹å™¨ä½¿ç”¨è¿œç¨‹storage"></a>å®¹å™¨ä½¿ç”¨è¿œç¨‹storage</h2><pre class="line-numbers language-shell"><code class="language-shell">docker plugin install vieux/sshfs
docker volume create \
  -d vieux/sshfs \
  --name sshvolume \
  -o sshcmd=user@1.2.3.4:/remote \
  -o password=$(cat file_containing_password_for_remote_host)

docker run --rm -v sshvolume:/data busybox ls /data
#åˆ é™¤
docker volume rm sshvolume
docker plugin disable vieux/sshfs
docker plugin remove vieux/sshfs<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="docker-mongo"><a href="#docker-mongo" class="headerlink" title="docker-mongo"></a>docker-mongo</h2><p>å‚è€ƒåšæ–‡ï¼š</p>
<ul>
<li><a href="https://blog.csdn.net/u011104991/article/details/81735960" target="_blank" rel="noopener">ä½¿ç”¨Dockerä¸€é”®éƒ¨ç½²MongoDB</a></li>
<li><a href="https://docs.gitlab.com/omnibus/docker/#deploy-gitlab-in-a-docker-swarm" target="_blank" rel="noopener">Deploy GitLab in a Docker swarm</a></li>
<li><a href="https://hub.docker.com/_/mongo" target="_blank" rel="noopener">https://hub.docker.com/_/mongo</a></li>
</ul>
<h2 id="nacos-docker"><a href="#nacos-docker" class="headerlink" title="nacos-docker"></a>nacos-docker</h2><p><a href="https://github.com/nacos-group/nacos-docker" target="_blank" rel="noopener"><strong>nacos-docker</strong></a></p>
<h2 id="fastdfs"><a href="#fastdfs" class="headerlink" title="fastdfs"></a><strong>fastdfs</strong></h2><p><a href="https://github.com/happyfish100/fastdfs" target="_blank" rel="noopener">https://github.com/happyfish100/fastdfs</a></p>
<h1 id="æ›´å¤šå®˜æ–¹å­¦ä¹ èµ„æº"><a href="#æ›´å¤šå®˜æ–¹å­¦ä¹ èµ„æº" class="headerlink" title="æ›´å¤šå®˜æ–¹å­¦ä¹ èµ„æº"></a>æ›´å¤šå®˜æ–¹å­¦ä¹ èµ„æº</h1><ul>
<li><a href="https://docs.docker.com/samples/" target="_blank" rel="noopener">Samples</a>: Our samples include multiple examples of popular software running in containers, and some good labs that teach best practices.</li>
<li><a href="https://docs.docker.com/engine/userguide/" target="_blank" rel="noopener">User Guide</a>: The user guide has several examples that explain networking and storage in greater depth than was covered here.</li>
<li><a href="https://docs.docker.com/engine/admin/" target="_blank" rel="noopener">Admin Guide</a>: Covers how to manage a Dockerized production environment.</li>
<li><a href="https://training.docker.com/" target="_blank" rel="noopener">Training</a>: Official Docker courses that offer in-person instruction and virtual classroom environments.</li>
<li><a href="https://blog.docker.com/" target="_blank" rel="noopener">Blog</a>: Covers whatâ€™s going on with Docker lately.</li>
</ul>
<h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><h2 id="Docker-å®‰è£…"><a href="#Docker-å®‰è£…" class="headerlink" title="Docker å®‰è£…"></a>Docker å®‰è£…</h2><p>æœ€ç®€å•å®˜ç½‘æ–¹æ¡ˆ</p>
<pre class="line-numbers language-shell"><code class="language-shell">curl -fsSL get.docker.com -o get-docker.sh
sudo sh get-docker.sh --mirror Aliyun<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>å®˜ç½‘å®‰è£…æ•™ç¨‹</p>
<p><a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/#install-docker-ce" target="_blank" rel="noopener">install-docker-ce</a></p>
<p>ä»å…¥é—¨åˆ°å®æˆ˜</p>
<p><a href="https://yeasy.gitbooks.io/docker_practice/install/" target="_blank" rel="noopener">install</a></p>
<h2 id="é…ç½®ä¼˜åŒ–"><a href="#é…ç½®ä¼˜åŒ–" class="headerlink" title="é…ç½®ä¼˜åŒ–"></a>é…ç½®ä¼˜åŒ–</h2><ul>
<li><p>ä½¿ç”¨å›½å†…é•œåƒ <code>/etc/docker/daemon.jsonï¼ˆLinuxï¼‰ æˆ–è€… %programdata%\docker\config\daemon.jsonï¼ˆWindows</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">{
  "registry-mirrors": ["http://hub-mirror.c.163.com"]
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>é…ç½®å…¨éƒ¨å®¹å™¨çš„ DNS <code>/etc/docker/daemon.json</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">{
  "dns" : [
    "114.114.114.114",
    "8.8.8.8"
  ]
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<p>æ³¨æ„ï¼švi /etc/docker/demo.json  <code>[Linux viç¼–è¾‘åæ— æ³•ä¿å­˜å‡ºç°E212ï¼šCan't open file for writing](https://www.cnblogs.com/hujunwei/p/11335565.html)</code>  å…ˆåˆ›å»ºè·¯å¾„</p>
<h2 id="Docker-ç½‘ç»œé…ç½®"><a href="#Docker-ç½‘ç»œé…ç½®" class="headerlink" title="Docker ç½‘ç»œé…ç½®"></a>Docker ç½‘ç»œé…ç½®</h2><blockquote>
<p>docker c/s æ¨¡å¼å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šä¿¡çš„æ–¹å¼</p>
<pre class="line-numbers language-shell"><code class="language-shell">unix:///var/run/docker.sock
tcp://host:port
fd://socketfd or fd://*<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>å®ˆæŠ¤è¿›ç¨‹é»˜è®¤é…ç½®ï¼š <code>unix:///var/run/docker.sock</code></p>
</blockquote>
<p>docker è¿œç¨‹è®¿é—®</p>
<pre class="line-numbers language-shell"><code class="language-shell"># ä¿®æ”¹æœåŠ¡å™¨æ ‡è¯†Label
vim /etc/docker/daemon.json 
# å¢åŠ ï¼š
"labels":["name=docker_daemon_server_on_ubuntu"]
# é‡å¯
systemctl daemon-reload
systemctl restart docker
# éªŒè¯ç”Ÿæ•ˆ 
docker info 
...
Labels:
 name=docker_daemon_server_on_ubuntu
...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¿®æ”¹é»˜è®¤ç½‘æ¡¥ <code>vim /etc/docker/daemon.json</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">{
    "bridge": "br0"
}

# é‡å¯ç”Ÿæ•ˆ
systemctl daemon-reload
systemctl restart docker<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="daemon-json"><a href="#daemon-json" class="headerlink" title="daemon.json"></a>daemon.json</h2><p><strong>linuxç‰ˆæœ¬</strong></p>
<pre class="line-numbers language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"api-cors-header"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"authorization-plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"bip"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"bridge"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"cgroup-parent"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"cluster-store"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"cluster-store-opts"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"cluster-advertise"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"debug"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"default-gateway"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"default-gateway-v6"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"default-runtime"</span><span class="token operator">:</span> <span class="token string">"runc"</span><span class="token punctuation">,</span>
    <span class="token property">"default-ulimits"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"disable-legacy-registry"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"dns"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"dns-opts"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"dns-search"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"exec-opts"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"exec-root"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"fixed-cidr"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"fixed-cidr-v6"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"graph"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"group"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"hosts"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"icc"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"insecure-registries"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"ip"</span><span class="token operator">:</span> <span class="token string">"0.0.0.0"</span><span class="token punctuation">,</span>
    <span class="token property">"iptables"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"ipv6"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"ip-forward"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"ip-masq"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"labels"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"live-restore"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"log-driver"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"log-level"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"log-opts"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"max-concurrent-downloads"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">"max-concurrent-uploads"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">"mtu"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">"oom-score-adjust"</span><span class="token operator">:</span> -<span class="token number">500</span><span class="token punctuation">,</span>
    <span class="token property">"pidfile"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"raw-logs"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"registry-mirrors"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"runtimes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"runc"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"runc"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"custom"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"/usr/local/bin/my-runc-replacement"</span><span class="token punctuation">,</span>
            <span class="token property">"runtimeArgs"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"--debug"</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"selinux-enabled"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"storage-driver"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"storage-opts"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"swarm-default-advertise-addr"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"tls"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"tlscacert"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"tlscert"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"tlskey"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"tlsverify"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"userland-proxy"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"userns-remap"</span><span class="token operator">:</span> <span class="token string">""</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>windows10</strong></p>
<pre class="line-numbers language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"authorization-plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"bridge"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"cluster-advertise"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"cluster-store"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"debug"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"default-ulimits"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"disable-legacy-registry"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"dns"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"dns-opts"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"dns-search"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"exec-opts"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"fixed-cidr"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"graph"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"group"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"hosts"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"insecure-registries"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"labels"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"live-restore"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"log-driver"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"log-level"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"mtu"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">"pidfile"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"raw-logs"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"registry-mirrors"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"storage-driver"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"storage-opts"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"swarm-default-advertise-addr"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"tlscacert"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"tlscert"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"tlskey"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"tlsverify"</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="config"><a href="#config" class="headerlink" title="config"></a>config</h2><blockquote>
<p><a href="https://docs.docker.com/engine/swarm/configs/" target="_blank" rel="noopener">å®˜ç½‘è¯´æ˜</a> æœ‰ä¸‰ä¸ªè¯¦ç»†çš„æ¡ˆä¾‹</p>
</blockquote>
<p>å…³é”®å‘½ä»¤æå–</p>
<pre class="line-numbers language-shell"><code class="language-shell"># ç¬¬ä¸€ä¸ª site.conf ä¸ºconfigå‘½åï¼Œ ç¬¬äºŒä¸ªä¸ºconfigè¯»å–è·¯å¾„
docker config create site.conf ./site.conf
docker config ls<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>ä½¿ç”¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker service create \
     --name nginx \
     --secret site.key \
     --secret site.crt \
     --config source=site.conf,target=/etc/nginx/conf.d/site.conf,mode=0440 \
     --publish published=3000,target=443 \
     nginx:latest \
     sh -c "exec nginx -g 'daemon off;'"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ›¿æ¢ </p>
<blockquote>
<p>removing the old config and adding the new config at the same mount point within the container</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">docker config create site-v2.conf site.conf
$ docker service update \
  --config-rm site.conf \
  --config-add source=site-v2.conf,target=/etc/nginx/conf.d/site.conf,mode=0440 \
  nginx<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ¸…é™¤å¹¶é€€å‡º</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker config rm site.conf
$ docker service rm nginx
$ docker secret rm site.crt site.key
$ docker config rm site-v2.conf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="compose-config"><a href="#compose-config" class="headerlink" title="compose config"></a>compose config</h3><p>åˆ›å»ºconfigåç›´æ¥ä½¿ç”¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">    configs:
    #docker config create mongod.conf ./mongod.conf
      - source: mongod.conf
        target: /etc/mongo/mongod.conf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>å…¨å±€config</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3.6"</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">gitlab</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> gitlab/gitlab<span class="token punctuation">-</span>ce<span class="token punctuation">:</span>latest
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">GITLAB_OMNIBUS_CONFIG</span><span class="token punctuation">:</span> <span class="token string">"from_file('/omnibus_config.rb')"</span>
    <span class="token key atrule">configs</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">source</span><span class="token punctuation">:</span> gitlab
        <span class="token key atrule">target</span><span class="token punctuation">:</span> /omnibus_config.rb
    <span class="token key atrule">secrets</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> gitlab_root_password
  <span class="token key atrule">gitlab-runner</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> gitlab/gitlab<span class="token punctuation">-</span>runner<span class="token punctuation">:</span>alpine
    <span class="token key atrule">deploy</span><span class="token punctuation">:</span>
      <span class="token key atrule">mode</span><span class="token punctuation">:</span> replicated
      <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">4</span>
<span class="token key atrule">configs</span><span class="token punctuation">:</span>
  <span class="token key atrule">gitlab</span><span class="token punctuation">:</span>
    <span class="token key atrule">file</span><span class="token punctuation">:</span> ./gitlab.rb
<span class="token key atrule">secrets</span><span class="token punctuation">:</span>
  <span class="token key atrule">gitlab_root_password</span><span class="token punctuation">:</span>
    <span class="token key atrule">file</span><span class="token punctuation">:</span> ./root_password.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>gitlab.rb</p>
<pre class="line-numbers language-shell"><code class="language-shell">external_url 'https://my.domain.com/'
gitlab_rails['initial_root_password'] = File.read('/run/secrets/gitlab_root_password')<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h1 id="ä½¿ç”¨æ¡ˆä¾‹"><a href="#ä½¿ç”¨æ¡ˆä¾‹" class="headerlink" title="ä½¿ç”¨æ¡ˆä¾‹"></a>ä½¿ç”¨æ¡ˆä¾‹</h1><ul>
<li><p>Nexus èµ·åˆ°ç¼“å­˜çš„ä½œç”¨ï¼ˆé“¾æ¥åˆ° DockerHub ä¸­ä¸‹è½½å¹¶ç¼“å­˜åˆ° Nexus ä¸­ï¼‰</p>
<blockquote>
<p>å…¶å®ƒçš„ä»“åº“åˆ›å»ºæ–¹æ³•è¯·å„ä½è‡ªå·±æ‘¸ç´¢ï¼Œè¿˜å¯ä»¥åˆ›å»ºä¸€ä¸ª docker (proxy) ç±»å‹çš„ä»“åº“é“¾æ¥åˆ° DockerHub ä¸Šã€‚å†åˆ›å»ºä¸€ä¸ª docker (group) ç±»å‹çš„ä»“åº“æŠŠåˆšæ‰çš„ hosted ä¸ proxy æ·»åŠ åœ¨ä¸€èµ·ã€‚ä¸»æœºåœ¨è®¿é—®çš„æ—¶å€™é»˜è®¤ä¸‹è½½ç§æœ‰ä»“åº“ä¸­çš„é•œåƒï¼Œå¦‚æœæ²¡æœ‰å°†é“¾æ¥åˆ° DockerHub ä¸­ä¸‹è½½å¹¶ç¼“å­˜åˆ° Nexus ä¸­ã€‚</p>
</blockquote>
</li>
<li><p><a href="https://blog.csdn.net/boling_cavalry/article/details/77623193" target="_blank" rel="noopener">ä½¿ç”¨dockerä¿®æ”¹æŸ¥çœ‹JDKæºç ï¼Œç”¨äºæ·±åº¦çš„è°ƒè¯•</a></p>
</li>
</ul>
<h2 id="ç¬¬ä¸‰æ–¹åº“ä½¿ç”¨"><a href="#ç¬¬ä¸‰æ–¹åº“ä½¿ç”¨" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“ä½¿ç”¨"></a>ç¬¬ä¸‰æ–¹åº“ä½¿ç”¨</h2><p>Vagrant</p>
<ul>
<li><p><a href="https://www.cnblogs.com/vikings-blog/p/3953810.html" target="_blank" rel="noopener">ubuntu å®‰è£…vagrantè¿‡ç¨‹</a></p>
</li>
<li><p><a href="https://www.vagrantup.com/downloads.html" target="_blank" rel="noopener">downloads</a> ubuntu: dpkg -i xx.deb</p>
</li>
</ul>
<h2 id="é—®é¢˜è§£å†³"><a href="#é—®é¢˜è§£å†³" class="headerlink" title="é—®é¢˜è§£å†³"></a>é—®é¢˜è§£å†³</h2><ol>
<li>dockerå¯åŠ¨æŠ¥é”™ï¼šWARNING: IPv4 forwarding is disabled. Networking will not work.<pre class="line-numbers language-shell"><code class="language-shell">vi /usr/lib/sysctl.d/00-system.conf
æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ol>
<p>net.ipv4.ip_forward=1</p>
<p>é‡å¯networkæœåŠ¡<br>systemctl restart network</p>
<pre><code>
2.  ubuntuï¼š  docker: Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Post http://%2Fvar%2Frun%2Fdocker.sock/v1.39/containers/create: dial unix /var/run/docker.sock: connect: permission denied.
    See 'docker run --help'.

çŒœæµ‹æ˜¯éœ€ROOTæƒé™ï¼Œ dockeræœåŠ¡æ²¡æœ‰å¯åŠ¨,è§£å†³æ–¹æ¡ˆ

```shell
su root #åˆ‡æ¢åˆ°rootç”¨æˆ·
systemctl enable docker #è®¾ç½®å¼€æœºè‡ªåŠ¨å¯ç”¨dockeræœåŠ¡
systemctl start docker #å¯åŠ¨docker æœåŠ¡</code></pre><p>æˆ–è€…èµ‹äºˆdocker sudo æƒé™</p>
<pre class="line-numbers language-shell"><code class="language-shell">sudo groupadd docker
sudo usermod -aG docker $USER
sudo service docker restart
#å®æˆ˜ä¸­éœ€è¦åˆ‡æ¢åˆ°rootçš„è¿è¡Œè¿‡ä¸€é su åˆ°root su jobs åˆ°å½“å‰ç”¨æˆ·
# æµ‹è¯•
docker run hello-world 
# æˆ–
docker version <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><p>Unable to locate package nginx</p>
<p>è§£å†³æ–¹æ¡ˆï¼š apt-get update</p>
</li>
<li><p>æ— æ³•è·å¾—é” /var/lib/dpkg/lock - open<br>åŸå› å¯èƒ½æ˜¯ä¸Šæ¬¡æˆ‘ç›´æ¥åœ¨VMåˆ‡æ–­çš„ç”µæºå¯¼è‡´èµ„æºä¸€ç›´è¢«å ç”¨æœªè¢«é‡Šæ”¾<br>è§£å†³ï¼š(å…»æˆæ­£å¸¸å…³æœºçš„ä¹ æƒ¯)</p>
<pre class="line-numbers language-shell"><code class="language-shell">sudo rm /var/cache/apt/archives/lock
sudo rm /var/lib/dpkg/lock<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>docker å„ç§å‘½ä»¤éƒ½æŠ¥</p>
<pre class="line-numbers language-shell"><code class="language-shell">Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>systemctl status docker å‡ºç°æ—¥å¿—å¦‚ä¸‹</p>
<pre class="line-numbers language-shell"><code class="language-shell"> docker.service - Docker Application Container Engine
   Loaded: loaded (/lib/systemd/system/docker.service; enabled; vendor preset: enabled)
   Active: failed (Result: start-limit-hit) since ä¸‰ 2019-01-30 23:47:41 CST; 1min 49s ago
     Docs: https://docs.docker.com
  Process: 3700 ExecStart=/usr/bin/dockerd -H fd:// (code=exited, status=1/FAILURE)
 Main PID: 3700 (code=exited, status=1/FAILURE)

1æœˆ 30 23:47:38 jobs-machine systemd[1]: Failed to start Docker Application Container Engine.
1æœˆ 30 23:47:38 jobs-machine systemd[1]: docker.service: Unit entered failed state.
1æœˆ 30 23:47:38 jobs-machine systemd[1]: docker.service: Failed with result 'exit-code'.
1æœˆ 30 23:47:41 jobs-machine systemd[1]: docker.service: Service hold-off time over, scheduling restart.
1æœˆ 30 23:47:41 jobs-machine systemd[1]: Stopped Docker Application Container Engine.
1æœˆ 30 23:47:41 jobs-machine systemd[1]: docker.service: Start request repeated too quickly.
1æœˆ 30 23:47:41 jobs-machine systemd[1]: Failed to start Docker Application Container Engine.
1æœˆ 30 23:47:41 jobs-machine systemd[1]: docker.service: Unit entered failed state.
1æœˆ 30 23:47:41 jobs-machine systemd[1]: docker.service: Failed with result 'start-limit-hit'.
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è§£å†³ï¼š åŸå›  <code>/etc/docker/daemon.json</code> è¯­æ³•é”™è¯¯</p>
<pre class="line-numbers language-shell"><code class="language-shell">mv /etc/docker/daemon.json /etc/docker/daemon.json.bak<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ul>
<ul>
<li><p>vagrant box é”™è¯¯ä¿¡æ¯</p>
<pre class="line-numbers language-shell"><code class="language-shell">/usr/lib/ruby/2.3.0/rubygems/specification.rb:949:in `all=': undefined method `group_by' for nil:NilClass (NoMethodError)
    from /usr/lib/ruby/vendor_ruby/vagrant/bundler.rb:275:in `with_isolated_gem'
    from /usr/lib/ruby/vendor_ruby/vagrant/bundler.rb:231:in `internal_install'
    from /usr/lib/ruby/vendor_ruby/vagrant/bundler.rb:102:in `install'
    from /usr/lib/ruby/vendor_ruby/vagrant/plugin/manager.rb:62:in `block in install_plugin'
    from /usr/lib/ruby/vendor_ruby/vagrant/plugin/manager.rb:72:in `install_plugin'
    from /usr/share/vagrant/plugins/commands/plugin/action/install_gem.rb:37:in `call'
    from /usr/lib/ruby/vendor_ruby/vagrant/action/warden.rb:34:in `call'
    from /usr/lib/ruby/vendor_ruby/vagrant/action/builder.rb:116:in `call'
    from /usr/lib/ruby/vendor_ruby/vagrant/action/runner.rb:66:in `block in run'
    from /usr/lib/ruby/vendor_ruby/vagrant/util/busy.rb:19:in `busy'
    from /usr/lib/ruby/vendor_ruby/vagrant/action/runner.rb:66:in `run'
    from /usr/share/vagrant/plugins/commands/plugin/command/base.rb:14:in `action'
    from /usr/share/vagrant/plugins/commands/plugin/command/install.rb:32:in `block in execute'
    from /usr/share/vagrant/plugins/commands/plugin/command/install.rb:31:in `each'
    from /usr/share/vagrant/plugins/commands/plugin/command/install.rb:31:in `execute'
    from /usr/share/vagrant/plugins/commands/plugin/command/root.rb:56:in `execute'
    from /usr/lib/ruby/vendor_ruby/vagrant/cli.rb:42:in `execute'
    from /usr/lib/ruby/vendor_ruby/vagrant/environment.rb:268:in `cli'
    from /usr/bin/vagrant:173:in `<main>'
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è§£å†³æ–¹æ¡ˆï¼šæ›´æ–°vagrantåˆ°æœ€æ–°ç‰ˆæœ¬ï¼›</p>
<h2 id="COPY-failed-Forbidden-path-outside-the-build-context"><a href="#COPY-failed-Forbidden-path-outside-the-build-context" class="headerlink" title="COPY failed: Forbidden path outside the build context:"></a>COPY failed: Forbidden path outside the build context:</h2><p>åŸå› å¯¹ build ã€‚ çš„ç†è§£æœ‰é—®é¢˜ï¼Œcontext å°±æ˜¯ã€‚ ä»–ä¸ä¼šå‘ä¸Šæ‰¾èµ„æºï¼Œåªä¼šå‘ä¸‹é€’å½’æŸ¥æ‰¾èµ„æºï¼Œä½¿ç”¨ ã€‚ ä¸Šçº§ç›®å½•æ˜¯æ‰¾ä¸åˆ°èµ„æºçš„ã€‚ è¿™æ ·è®¾è®¡ç›®çš„æ˜¯é™åˆ¶ç”Ÿæˆä¸Šä¸‹æ–‡å ç”¨çš„èµ„æº</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker build -f dockerfile/Dockerfile .<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ul>
<h1 id="é™„å½•ä¸€"><a href="#é™„å½•ä¸€" class="headerlink" title="é™„å½•ä¸€"></a>é™„å½•ä¸€</h1><p>å­¦ä¹ èµ„æ–™</p>
<ul>
<li><p><a href="https://yeasy.gitbooks.io/docker_practice/appendix/best_practices.html" target="_blank" rel="noopener">Dockerfile æœ€ä½³å®è·µ</a></p>
</li>
<li><p><a href="https://github.com/docker/labs/tree/master/developer-tools/java" target="_blank" rel="noopener">Docker for Java Developers</a></p>
</li>
</ul>
<p>å­¦ä¹ æºç </p>
<ul>
<li><a href="https://github.com/arun-gupta/docker-java-sample/" target="_blank" rel="noopener"><strong>docker-java-sample</strong></a> æœ‰ç®€å•çš„Mvn å’Œgradle ç”Ÿæˆdocker image çš„æ¡ˆä¾‹</li>
<li><a href="https://github.com/fabianenardon/mongo-docker-demo" target="_blank" rel="noopener"><strong>mongo-docker-demo</strong></a></li>
<li><a href="https://github.com/arun-gupta/docker-javaee" target="_blank" rel="noopener">docker-javaee</a> A simple Java EE application deployed using WildFly and accessing MySQL database <ul>
<li><a href="https://docs.helm.sh/using_helm/#installing-helm" target="_blank" rel="noopener">installing-helm</a>  </li>
</ul>
</li>
</ul>
<p>å®˜æ–¹ç½‘ç«™</p>
<ul>
<li><a href="https://docs.docker.com/get-started/" target="_blank" rel="noopener">Get started with Docker</a></li>
<li><a href="https://docs.docker.com/" target="_blank" rel="noopener">Docker å®˜ç½‘</a></li>
</ul>
<h1 id="é™„å½•äºŒ"><a href="#é™„å½•äºŒ" class="headerlink" title="é™„å½•äºŒ"></a>é™„å½•äºŒ</h1><h2 id="å¸¸ç”¨å·¥å…·-1"><a href="#å¸¸ç”¨å·¥å…·-1" class="headerlink" title="å¸¸ç”¨å·¥å…·"></a>å¸¸ç”¨å·¥å…·</h2><ul>
<li><a href="https://github.com/fabric8io/docker-maven-plugin" target="_blank" rel="noopener"><strong>docker-maven-plugin</strong></a><ul>
<li><a href="http://dmp.fabric8.io/" target="_blank" rel="noopener">document</a></li>
</ul>
</li>
<li><a href="http://dockone.io/article/442" target="_blank" rel="noopener">å¦‚ä½•ç”¨Gradleåˆ›å»ºDockeré•œåƒ</a></li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>çŸ¥è¯†æ¶æ„</tag>
      </tags>
  </entry>
  <entry>
    <title>ç½‘ç»œç¼–ç¨‹ç¬”è®°æ±‡æ€»</title>
    <url>/2019/09/10/2019-4-13-netwok_pragram_note/</url>
    <content><![CDATA[<p>[TOC]</p>
<h1 id="åŸºæœ¬çŸ¥è¯†"><a href="#åŸºæœ¬çŸ¥è¯†" class="headerlink" title="åŸºæœ¬çŸ¥è¯†"></a>åŸºæœ¬çŸ¥è¯†</h1><h2 id="åŸºæœ¬æœ¯è¯­"><a href="#åŸºæœ¬æœ¯è¯­" class="headerlink" title="åŸºæœ¬æœ¯è¯­"></a>åŸºæœ¬æœ¯è¯­</h2><h3 id="Socket"><a href="#Socket" class="headerlink" title="Socket"></a><strong>Socket</strong></h3><p>æ“ä½œç³»ç»Ÿä¸ºè½¯ä»¶æä¾›è¾“å…¥/å‡ºçš„ç«¯å£ï¼Œé“¾æ¥è¿‡ç¨‹Serviceç«¯ç›‘å¬æŸä¸ªç«¯å£ï¼Œå®¢æˆ·ç«¯è®¿é—®æœåŠ¡å™¨ç«¯å£ï¼›</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">int</span> <span class="token function">socket</span><span class="token punctuation">(</span><span class="token keyword">int</span> domain<span class="token punctuation">,</span> <span class="token keyword">int</span> type<span class="token punctuation">,</span> <span class="token keyword">int</span> protocol<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>domainï¼šåè®®åŸŸï¼Œåˆç§°åè®®æ—ï¼ˆfamilyï¼‰ã€‚å¸¸ç”¨æœ‰AF_INETã€AF_INET6ã€AF_LOCALï¼ˆæˆ–ç§°AF_UNIXï¼ŒUnixåŸŸSocketï¼‰ã€AF_ROUTEç­‰,å†³å®šäº†socketçš„åœ°å€ç±»å‹,åœ¨é€šä¿¡ä¸­å¿…é¡»é‡‡ç”¨å¯¹åº”çš„åœ°å€ï¼Œå¦‚AF_INETå†³å®šäº†è¦ç”¨ipv4åœ°å€ï¼ˆ32ä½çš„ï¼‰ä¸ç«¯å£å·ï¼ˆ16ä½çš„ï¼‰çš„ç»„åˆã€AF_UNIXå†³å®šäº†è¦ç”¨ä¸€ä¸ªç»å¯¹è·¯å¾„åä½œä¸ºåœ°å€ã€‚</li>
<li>type ï¼šæŒ‡å®šSocketç±»å‹ï¼Œæœ‰SOCK_STREAMã€SOCK_DGRAMã€SOCK_RAWã€SOCK_PACKETã€SOCK_SEQPACKETç­‰ã€‚<ul>
<li>SOCK_STREAM é¢å‘è¿æ¥, é’ˆå¯¹äºé¢å‘è¿æ¥çš„TCPæœåŠ¡åº”ç”¨ </li>
<li>SOCK_DGRAM ä¸€ç§æ— è¿æ¥, å¯¹åº”äºæ— è¿æ¥çš„UDPæœåŠ¡åº”ç”¨</li>
</ul>
</li>
<li>protocol: æŒ‡å®šåè®®,æœ‰IPPROTO_TCPã€IPPROTO_UDPã€IPPROTO_STCPã€IPPROTO_TIPCç­‰ </li>
</ul>
<p>å‚è€ƒï¼š</p>
<ol>
<li><a href="https://baike.baidu.com/item/socket/281150" target="_blank" rel="noopener">socketç™¾ç§‘</a></li>
</ol>
<h3 id="TCP-IP"><a href="#TCP-IP" class="headerlink" title="TCP/IP"></a>TCP/IP</h3><p> Transmission Control Protocol (TCP) and the Internet Protocol (IP)</p>
<blockquote>
<p>provides end-to-end data communication specifying how data should be packetized, addressed, transmitted, routed, and received.</p>
</blockquote>
<p> From lowest to highest</p>
<ul>
<li>link layer: containing communication methods for data that remains whichin a single network segment;</li>
<li>internet layer: providing internetworking between independent network;</li>
<li>transport layer: providing end-to-end comminucation services for applications;</li>
<li>applicaton layer: providing services to users and system functions; such as SMTP, FTP, SSH, HTTP</li>
</ul>
<p>å‚è€ƒï¼š</p>
<ol>
<li><a href="https://en.wikipedia.org/wiki/Internet_protocol_suite" target="_blank" rel="noopener">Internet protocol suite</a></li>
</ol>
<h3 id="Httpåè®®ä¸­Cookie"><a href="#Httpåè®®ä¸­Cookie" class="headerlink" title="Httpåè®®ä¸­Cookie"></a>Httpåè®®ä¸­Cookie</h3><p>Cookieæ€»æ˜¯ä¿å­˜åœ¨å®¢æˆ·ç«¯ä¸­ï¼ŒæŒ‰åœ¨å®¢æˆ·ç«¯ä¸­çš„å­˜å‚¨ä½ç½®ï¼Œå¯åˆ†ä¸ºå†…å­˜Cookieå’Œç¡¬ç›˜Cookie,å†…å­˜Cookieç”±æµè§ˆå™¨ç»´æŠ¤; HTTPè¯·æ±‚ä¸­çš„cookieæ˜æ–‡ï¼ŒHTTPSåŠ å¯†ï¼Œå¤§å°é™åˆ¶åœ¨4kB</p>
<p><strong>è¯­æ³•</strong></p>
<pre class="line-numbers language-xml"><code class="language-xml">Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span> 
Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; Expires=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>date</span><span class="token punctuation">></span></span>
Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; Max-Age=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>non-zero-digit</span><span class="token punctuation">></span></span>
Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; Domain=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>domain-value</span><span class="token punctuation">></span></span>
Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; Path=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path-value</span><span class="token punctuation">></span></span>
Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; Secure
Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; HttpOnly

Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; SameSite=Strict
Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; SameSite=Lax

// Multiple directives are also possible, for example:
Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; Domain=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>domain-value</span><span class="token punctuation">></span></span>; Secure; HttpOnly<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>æ¡ˆä¾‹</strong><br>Server-&gt;Client</p>
<pre><code>Set-Cookie: lu=Rg3vHJZnehYLjVg7qi3bZjzg; Expires=Tue, 15 Jan 2013 21:47:38 GMT; Path=/; Domain=.169it.com; HttpOnly

Set-Cookie: made_write_conn=1295214458; Path=/; Domain=.169it.com

Set-Cookie: reg_fb_gate=deleted; Expires=Thu, 01 Jan 1970 00:00:01 GMT; Path=/; Domain=.169it.com; HttpOnly</code></pre><p>Client-&gt;Server </p>
<pre><code>GET /spec.html HTTP/1.1  

Host: www.example.org  

Cookie: name=value; name2=value2  

Accept: */*  </code></pre><h3 id="å±æ€§è¯¦è§£"><a href="#å±æ€§è¯¦è§£" class="headerlink" title="å±æ€§è¯¦è§£"></a>å±æ€§è¯¦è§£</h3><ul>
<li>cookie-nameï¼š å˜é‡åç”¨äºè·å–cookie-valueï¼›</li>
<li>Expiresï¼šcookieè¿‡æœŸæ—¶é—´ï¼Œå¯ä»¥è®¾ç½®æ—¶é—´å°äºå½“å‰ä½¿cookieæ— æ•ˆï¼›</li>
<li>Pathï¼šcookieçš„æœ‰æ•ˆèŒƒå›´ï¼Œå¦‚Path=â€/â€æ•´ä¸ªåŸŸåå†…æœ‰æ•ˆï¼›</li>
<li>domainï¼š cookieæœ‰æ•ˆçš„åŸŸåï¼›</li>
</ul>
<p>å‚è€ƒï¼š </p>
<ol>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie" target="_blank" rel="noopener">Set-Cookie</a></li>
<li><a href="https://www.cnblogs.com/yanganok/p/5322411.html" target="_blank" rel="noopener">Httpåè®®ä¸­Cookieä»‹ç»</a></li>
</ol>
<h3 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h3><blockquote>
<p>Uniform Resource Locator / åŒä¸€èµ„æºå®šä½å™¨</p>
</blockquote>
<p>æ ¼å¼</p>
<pre class="line-numbers language-xml"><code class="language-xml">scheme:[//[user[:password]@]host[:port]][/path][?query][#fragment]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ¡ˆä¾‹ï¼š</p>
<pre class="line-numbers language-url"><code class="language-url">http://www.example.com:80/path/to/myfile.html?key1=value1&key2=value2#SomewhereInTheDocument<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="æµè§ˆå™¨å¤„ç†URLå®Œæ•´è¿‡ç¨‹"><a href="#æµè§ˆå™¨å¤„ç†URLå®Œæ•´è¿‡ç¨‹" class="headerlink" title="æµè§ˆå™¨å¤„ç†URLå®Œæ•´è¿‡ç¨‹"></a>æµè§ˆå™¨å¤„ç†URLå®Œæ•´è¿‡ç¨‹</h3><p><img src="http://cdn.linz.tech/web-process-url.png" alt="1556472466987"></p>
<h2 id="ç½‘ç»œåè®®"><a href="#ç½‘ç»œåè®®" class="headerlink" title="ç½‘ç»œåè®®"></a>ç½‘ç»œåè®®</h2><h3 id="ç»å…¸äº”å±‚æ¨¡å‹"><a href="#ç»å…¸äº”å±‚æ¨¡å‹" class="headerlink" title="ç»å…¸äº”å±‚æ¨¡å‹"></a>ç»å…¸äº”å±‚æ¨¡å‹</h3><p><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1561132064&amp;di=cc967a2bf193d68f4abcdebb215c85ce&amp;imgtype=jpg&amp;er=1&amp;src=http%3A%2F%2Fseo-1255598498.file.myqcloud.com%2Ffull%2Fa1b608d8a924f451f5538a13996e023be1d904f4.jpg" alt=""></p>
<h3 id="HTTPåŸºç¡€"><a href="#HTTPåŸºç¡€" class="headerlink" title="HTTPåŸºç¡€"></a>HTTPåŸºç¡€</h3><h4 id="HTTPå†å²"><a href="#HTTPå†å²" class="headerlink" title="HTTPå†å²"></a>HTTPå†å²</h4><ol>
<li><p>HTTP/1.1<br>æŒä¹…è¿æ¥ï¼Œ Pipelineï¼ˆå¹¶è¡Œ/ä¸²è¡Œä¼ è¾“ï¼‰ï¼Œå¢åŠ hostå‘½ä»¤</p>
</li>
<li><p>HTTP2</p>
<ol>
<li>æ‰€æœ‰æ•°æ®è¿›è¡ŒäºŒè¿›åˆ¶ä¼ è¾“ï¼Œå¸¦æ¥çš„å¥½å¤„ï¼š<ul>
<li>åŒä¸€ä¸ªè¿æ¥é‡Œé¢å‘é€å¤šä¸ªè¯·æ±‚ä¸éœ€è¦æŒ‰ç…§é¡ºåº</li>
<li>åŒä¿¡æ¯å‹ç¼©ä»¥åŠæ¨é€ç­‰æé«˜æ•ˆç‡çš„åŠŸèƒ½<h4 id="ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹"></a>ä¸‰æ¬¡æ¡æ‰‹</h4></li>
</ul>
</li>
</ol>
</li>
<li><p>ä¸‰æ¬¡æ¡æ‰‹æ—¶åºå›¾<br><img src="http://cdn.linz.tech/handshake-3-2019-6-13.png" alt=""></p>
<h4 id="HTTPæŠ¥æ–‡"><a href="#HTTPæŠ¥æ–‡" class="headerlink" title="HTTPæŠ¥æ–‡"></a>HTTPæŠ¥æ–‡</h4></li>
</ol>
<p><img src="http://cdn.linz.tech/http-message-2019-6-13.png" alt="1556350805659"></p>
<p><strong>å“åº”çŠ¶æ€ç </strong></p>
<ul>
<li>1xx æ¶ˆæ¯ï¼Œä¸€èˆ¬æ˜¯å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œè¯·æ±‚å·²ç»æ”¶åˆ°äº†ï¼Œæ­£åœ¨å¤„ç†ï¼Œåˆ«æ€¥â€¦</li>
<li>2xx å¤„ç†æˆåŠŸï¼Œä¸€èˆ¬è¡¨ç¤ºï¼šè¯·æ±‚æ”¶æ‚‰ã€æˆ‘æ˜ç™½ä½ è¦çš„ã€è¯·æ±‚å·²å—ç†ã€å·²ç»å¤„ç†å®Œæˆç­‰ä¿¡æ¯.</li>
<li>3xx é‡å®šå‘åˆ°å…¶å®ƒåœ°æ–¹ã€‚å®ƒè®©å®¢æˆ·ç«¯å†å‘èµ·ä¸€ä¸ªè¯·æ±‚ä»¥å®Œæˆæ•´ä¸ªå¤„ç†ã€‚</li>
<li>4xx å¤„ç†å‘ç”Ÿé”™è¯¯ï¼Œè´£ä»»åœ¨å®¢æˆ·ç«¯ï¼Œå¦‚å®¢æˆ·ç«¯çš„è¯·æ±‚ä¸€ä¸ªä¸å­˜åœ¨çš„èµ„æºï¼Œå®¢æˆ·ç«¯æœªè¢«æˆæƒï¼Œç¦æ­¢è®¿é—®ç­‰ã€‚</li>
<li>5xx å¤„ç†å‘ç”Ÿé”™è¯¯ï¼Œè´£ä»»åœ¨æœåŠ¡ç«¯ï¼Œå¦‚æœåŠ¡ç«¯æŠ›å‡ºå¼‚å¸¸ï¼Œè·¯ç”±å‡ºé”™ï¼ŒHTTPç‰ˆæœ¬ä¸æ”¯æŒç­‰ã€‚</li>
</ul>
<h3 id="å¸¸è§çš„HTTPå“åº”æŠ¥æ–‡å¤´"><a href="#å¸¸è§çš„HTTPå“åº”æŠ¥æ–‡å¤´" class="headerlink" title="å¸¸è§çš„HTTPå“åº”æŠ¥æ–‡å¤´"></a><strong>å¸¸è§çš„HTTPå“åº”æŠ¥æ–‡å¤´</strong></h3><h4 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control  "></a><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control" target="_blank" rel="noopener"><strong>Cache-Control</strong>  </a></h4><p>Cacheability</p>
<p><strong>public</strong></p>
<p><strong>private</strong> åªæœ‰æµè§ˆå™¨å¯ä»¥ç¼“å­˜æ•°æ®ï¼Œä»£ç†æ˜¯ä¸å…è®¸ç¼“å­˜çš„</p>
<p><code>no-store</code></p>
<p>The cache should not store anything about the client request or server response.</p>
<p>åˆ°æœŸ</p>
<p><code>Cache-Control: max-age=3600</code>  è®©å®¢æˆ·ç«¯å¯¹å“åº”å†…å®¹ç¼“å­˜3600ç§’,å¦‚æœå®¢æˆ·å†æ¬¡è®¿é—®è¯¥èµ„æºï¼Œç›´æ¥ä»å®¢æˆ·ç«¯çš„ç¼“å­˜ä¸­è¿”å›å†…å®¹ç»™å®¢æˆ·</p>
<p><code>s-maxage=&lt;seconds&gt;</code> ä»£ç†æœåŠ¡å™¨è¯»å–</p>
<p><code>max-stale=&lt;seconds&gt;</code>è¿‡æœŸåæ˜¯ç»§ç»­ä½¿ç”¨ç¼“å­˜ï¼Œå‘èµ·ç«¯è®¾ç½®</p>
<p>é‡æ–°è®¤è¯(revalidation and reloading)</p>
<p><code>must-revaliadate</code> </p>
<blockquote>
<p>Indicates that once a resource has become stale (e.g. <code>max-age</code> has expired), a cache must not use the response to satisfy subsequent requests for this resource without successful <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching#Cache_validation" target="_blank" rel="noopener">validation</a> on the origin server.</p>
</blockquote>
<p><code>proxy-revalidate</code></p>
<blockquote>
<p>Same as <code>must-revalidate</code>, but it only applies to shared caches (e.g., proxies) and is ignored by a private cache.</p>
</blockquote>
<p><strong>other</strong></p>
<p><code>no-transform</code> </p>
<blockquote>
<p>The Content-Encoding, Content-Range, Content-Type headers must not be modified by a proxy </p>
<p>on HTTPS is redundant  </p>
</blockquote>
<p>åˆ¤æ–­Contentg</p>
<h4 id="Keep-alive-é•¿è¿æ¥"><a href="#Keep-alive-é•¿è¿æ¥" class="headerlink" title="Keep-alive é•¿è¿æ¥"></a>Keep-alive é•¿è¿æ¥</h4><blockquote>
<p>Connection: keep-alive</p>
<p>Connection: close </p>
</blockquote>
<h4 id="CORSè·¨åŸŸ"><a href="#CORSè·¨åŸŸ" class="headerlink" title="CORSè·¨åŸŸ"></a>CORSè·¨åŸŸ</h4><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">:</span> <span class="token string">'*'</span> <span class="token comment" spellcheck="true">// æ‰€æœ‰çš„ç½‘ç«™å¯ä»¥ç”¨</span>
<span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">:</span> <span class="token string">'https:www.bai.com'</span> 
<span class="token string">'Access-Control-Allow-Headers'</span><span class="token punctuation">:</span> <span class="token string">'X-text-Cors'</span>  <span class="token comment" spellcheck="true">// å…è®¸æŒ‡å®šå¤´è®¿é—®</span>
<span class="token string">'Access-Control-Allow-Methods'</span><span class="token punctuation">:</span> <span class="token string">'POST, PUT,DELETE    '</span>  <span class="token comment" spellcheck="true">// å…è®¸æŒ‡å®šæ–¹æ³•</span>
<span class="token string">'Access-Control-Max-Age'</span><span class="token punctuation">:</span> <span class="token string">'1000'</span> <span class="token comment" spellcheck="true">// å…è®¸ä»¥ä¸Šç§æ–¹å¼è·¨åŸŸçš„æ—¶é—´</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="æ•°æ®åå•†"><a href="#æ•°æ®åå•†" class="headerlink" title="æ•°æ®åå•†"></a>æ•°æ®åå•†</h4><p>Â·1. Accept</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token string">'Accept-Encoding'</span>
<span class="token string">'Accept-Language'</span>
<span class="token string">'User-Agent'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li><p>Content</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token string">'Content-Type'</span>
<span class="token string">'Content-Encoding'</span><span class="token punctuation">:</span><span class="token string">'gzip,br,defalte'</span>
<span class="token string">'Content-Language'</span><span class="token punctuation">:</span><span class="token string">'zh-cn'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h4 id="redirect"><a href="#redirect" class="headerlink" title="redirect"></a>redirect</h4><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span>
http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'request come'</span><span class="token punctuation">,</span>request<span class="token punctuation">.</span>url<span class="token punctuation">)</span>
    response<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token comment" spellcheck="true">/*æ¯æ¬¡éƒ½é‡å®šå‘*/</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        <span class="token string">'Location'</span><span class="token punctuation">:</span><span class="token string">'/new'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>url <span class="token operator">==</span> <span class="token string">'new'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
            <span class="token string">'Content-Type'</span><span class="token punctuation">:</span><span class="token string">'text/html'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8887</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>301 Sample</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token operator">...</span>
response<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">301</span> <span class="token comment" spellcheck="true">/*å‘Šè¯‰æµè§ˆå™¨ï¼Œå¦‚æœä¸‹æ¬¡åœ¨è®¿é—®/ ç›´æ¥é‡å®šå‘åˆ°/newï¼Œæ˜¯æ°¸ä¹…çš„å˜æ›´*/</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        <span class="token string">'Location'</span><span class="token punctuation">:</span><span class="token string">'/new'</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>301 ä¼šç¼“å­˜åˆ°æµè§ˆå™¨ç¼“å­˜ä¸­ï¼Œé™¤éè¯·ç¼“å­˜å¦åˆ™ï¼Œæµè§ˆå™¨ä¸ä¼šè®¿é—®æ—§åœ°å€ï¼Œæ•…ä½¿ç”¨çš„æ—¶å€™éœ€éå¸¸è°¨æ…</p>
</blockquote>
<h4 id="Content-Security-Policyï¼ˆCSPï¼‰"><a href="#Content-Security-Policyï¼ˆCSPï¼‰" class="headerlink" title="Content-Security-Policyï¼ˆCSPï¼‰"></a>Content-Security-Policyï¼ˆCSPï¼‰</h4><blockquote>
<ol>
<li>é™åˆ¶èµ„æºè·å–</li>
<li>æŠ¥å‘Šèµ„æºè·å–è¶Šæƒ</li>
</ol>
</blockquote>
<p>é™åˆ¶æ–¹å¼</p>
<p><code>deafault-src</code>: é™åˆ¶å…¨å±€</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"> <span class="token comment" spellcheck="true">//é™åˆ¶é€šè¿‡http/httpsçš„æ–¹å¼åŠ è½½ï¼Œç¦æ­¢å†…è”æ–¹å¼åŠ è½½é˜²æ­¢jsæ³¨å…¥</span>
<span class="token string">'Content-Security-Policy'</span><span class="token punctuation">:</span> <span class="token string">'default-src http: https:'</span>
<span class="token comment" spellcheck="true">// é™åˆ¶æœ¬åŸŸåæ–¹å¼åŠ è½½ï¼Œä¸èƒ½é™åˆ¶formè¡¨å•æäº¤</span>
<span class="token string">'Content-Security-Policy'</span><span class="token punctuation">:</span> <span class="token string">'default-src \'self\''</span>
<span class="token comment" spellcheck="true">//é™åˆ¶formè¡¨å•æäº¤</span>
<span class="token string">'Content-Security-Policy'</span><span class="token punctuation">:</span> <span class="token string">'default-src \'self\'; from-action \'self\''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>é™åˆ¶ç‰¹å®šçš„èµ„æºç±»å‹ï¼š <code>connect-src</code>,<code>img-src</code>,<code>font-src</code>,<code>media-src</code>,<code>style-src</code>,<code>script-src</code>,<code>frame-src</code></p>
<p><code>Content-Security-Policy-Report-Only</code>  åªæäº¤ä¸é™åˆ¶</p>
<p>meta å½¢å¼</p>
<pre class="line-numbers language-xml"><code class="language-xml">&lt;meta http-equiv="", content="content-src 'self'; from-action 'self'"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å‚è€ƒï¼š</p>
<h4 id="å®æˆ˜æ¡ˆä¾‹"><a href="#å®æˆ˜æ¡ˆä¾‹" class="headerlink" title="å®æˆ˜æ¡ˆä¾‹"></a>å®æˆ˜æ¡ˆä¾‹</h4><ol>
<li>ç¼“å­˜çš„ç®€å•ä½¿ç”¨</li>
</ol>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">if</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>url <span class="token operator">==</span> <span class="token string">'/script.js'</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// é’ˆå¯¹jsæ–‡ä»¶è¿›è¡Œç¼“å­˜</span>
    response<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'text/javascript'</span><span class="token punctuation">,</span>
        <span class="token string">'Cache-Control'</span><span class="token punctuation">:</span> <span class="token string">'max-age=200'</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    respone<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'console.log("script loaded twice")'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<ol>
<li>å¯¹ä¸€ä¸‹ä¸å¸¸å˜åŠ¨çš„èµ„æºè¿›è¡Œç¼“å­˜;</li>
<li>å¯¹JavaScriptè¿›è¡Œæ‰“åŒ…åŠ å…¥hashcode, hash å€¼å˜åŠ¨ä¸ä½¿ç”¨æœåŠ¡å™¨ç¼“å­˜</li>
</ol>
</blockquote>
<ol start="2">
<li>éªŒè¯å¤´</li>
</ol>
<p><code>Last-Modified</code> ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´ï¼Œé…åˆ<code>If-Modified-Since</code>æˆ–è€…<code>If-Unmodified-Since</code>ä½¿ç”¨</p>
<p><code>Etag</code> æ•°æ®ç­¾åï¼Œé…åˆ<code>If-Match</code>æˆ–è€…<code>If-Non_Match</code>ä½¿ç”¨ï¼Œå¯¹æ¯”èµ„æºç­¾ååˆ¤æ–­æ˜¯å¦ä½¿ç”¨ç¼“å­˜</p>
<p>Sample:</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">if</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>url <span class="token operator">==</span> <span class="token string">'/script.js'</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
    <span class="token keyword">const</span> etag <span class="token operator">=</span> request<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'if-none-match'</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>etag<span class="token operator">==</span><span class="token string">'777'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         response<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">304</span><span class="token comment" spellcheck="true">/*å‘Šè¯‰æµè§ˆå™¨ä½¿ç”¨ç¼“å­˜*/</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
            <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'text/javascript'</span><span class="token punctuation">,</span>
            <span class="token string">'Cache-Control'</span><span class="token punctuation">:</span> <span class="token string">'max-age=2000,no-Cache'</span><span class="token punctuation">,</span> 
            <span class="token string">'Last-Modified'</span><span class="token punctuation">:</span> <span class="token string">'123'</span><span class="token punctuation">,</span>
            <span class="token string">'Etag'</span><span class="token punctuation">:</span> <span class="token string">'777'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
         response<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">304</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
            <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'text/javascript'</span><span class="token punctuation">,</span>
            <span class="token string">'Cache-Control'</span><span class="token punctuation">:</span> <span class="token string">'max-age=2000,no-Cache'</span><span class="token punctuation">,</span> 
            <span class="token string">'Last-Modified'</span><span class="token punctuation">:</span> <span class="token string">'123'</span><span class="token punctuation">,</span>
            <span class="token string">'Etag'</span><span class="token punctuation">:</span> <span class="token string">'777'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        respone<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'console.log("script loaded twice")'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="3">
<li><p>no-cacheå’Œno-storeçš„åŒºåˆ«</p>
<p>no-cache å¯ä»¥åœ¨æœ¬åœ°ç¼“å­˜ï¼Œå¯ä»¥åœ¨ä»£ç†æœåŠ¡å™¨ç¼“å­˜ï¼Œä½†æ˜¯è¿™ä¸ªç¼“å­˜è¦æœåŠ¡å™¨éªŒè¯æ‰å¯ä»¥ä½¿ç”¨<br>no-store å½»åº•å¾—ç¦ç”¨ç¼“å†²ï¼Œæœ¬åœ°å’Œä»£ç†æœåŠ¡å™¨éƒ½ä¸ç¼“å†²ï¼Œæ¯æ¬¡éƒ½ä»æœåŠ¡å™¨è·å–</p>
</li>
<li><p>Cookie and session</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">response<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'text/html'</span><span class="token punctuation">,</span>
    <span class="token string">'Set-Cookie'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'id=123;max=32'</span><span class="token punctuation">,</span> <span class="token string">'abc=456'</span><span class="token punctuation">;</span> <span class="token string">'HttpOnly'</span><span class="token comment" spellcheck="true">/*ç¦æ­¢Jsè®¿é—®*/</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">// js ä¸­è¯»å–</span>
document<span class="token punctuation">.</span>cookie <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h3 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h3><p>HTTPS æ¡æ‰‹è¿‡ç¨‹</p>
<p><img src="http://cdn.linz.tech/https-handshake.png" alt=""></p>
<h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><p>ç­¾å</p>
<ul>
<li><a href="https://blog.csdn.net/t6546545/article/details/80508554" target="_blank" rel="noopener">æœåŠ¡å™¨é…ç½®httpsåè®®ï¼Œä¸‰ç§å…è´¹çš„æ–¹æ³•</a></li>
<li><a href="https://www.cnblogs.com/tianhei/p/7726505.html" target="_blank" rel="noopener">é˜¿é‡Œäº‘ nginxé…ç½®sslè¯ä¹¦å®ç°httpsè®¿é—®</a></li>
</ul>
<h4 id="é—®é¢˜è§£å†³"><a href="#é—®é¢˜è§£å†³" class="headerlink" title="é—®é¢˜è§£å†³"></a>é—®é¢˜è§£å†³</h4><h3 id="HTTP2"><a href="#HTTP2" class="headerlink" title="HTTP2"></a>HTTP2</h3><h4 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h4><ol>
<li>ä¿¡é“å¤ç”¨</li>
<li>åˆ†å¸§ä¼ è¾“</li>
<li>Server Push </li>
<li>å‹ç¼©å¤´</li>
<li>è¯·æ±‚åˆ†çº§</li>
<li>å…¼å®¹HTTP 1.0</li>
</ol>
<p>HTTP1. 1 å­˜åœ¨çš„é—®é¢˜</p>
<p>æµè§ˆå™¨åˆ›å»ºè¿æ¥æ•°æœ‰é™åˆ¶Chrome 6ä¸ªï¼Œ å¤šäº6ä¸ªå°±ç­‰å¾…</p>
<p>ä¿¡é“ä¸å¤ç”¨ï¼Œæ¡æ‰‹æ¶ˆè€—å¤§</p>
<p>ä¸èƒ½åˆ†å¸§ä¼ è¾“ï¼Œåªèƒ½å¤„ç†å®Œä¸€ä¸ªè¯·æ±‚åå¤„ç†å¦ä¸€ä¸ªè¯·æ±‚</p>
<h4 id="å®æˆ˜æ¡ˆä¾‹-1"><a href="#å®æˆ˜æ¡ˆä¾‹-1" class="headerlink" title="å®æˆ˜æ¡ˆä¾‹"></a>å®æˆ˜æ¡ˆä¾‹</h4><ol>
<li><strong>Server push æå‡%8çš„é€Ÿåº¦</strong></li>
</ol>
<p><img src="http://cdn.linz.tech/websocket-push-2019-6-13.webp" alt="img"></p>
<pre class="line-numbers language-xml"><code class="language-xml">//é€šè¿‡response å“åº”å¤´ä¸­æ·»åŠ å¦‚ä¸‹
Link: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>styles.css</span><span class="token punctuation">></span></span>; rel=preload; as=style, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>example.png</span><span class="token punctuation">></span></span>; rel=preload; as=image<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ol start="2">
<li><a href="https://blog.csdn.net/qq_36994771/article/details/79946711" target="_blank" rel="noopener">springboo2å¼€å¯http2</a></li>
</ol>
<h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><ul>
<li><a href="https://blog.csdn.net/Modest/article/details/51723201" target="_blank" rel="noopener">HTTP/2.0 ä¸­è‹±æ–‡å¯¹ç…§</a></li>
<li><a href="https://juejin.im/post/5c789dbce51d451ecc2028e7#heading-4" target="_blank" rel="noopener">HTTP 2.0åœ¨OKHttpä¸­çš„åº”ç”¨</a></li>
<li><a href="https://hpbn.co/http2/#header-compression" target="_blank" rel="noopener">HTTP/2</a></li>
<li><a href="https://imququ.com/post/header-compression-in-http2.html" target="_blank" rel="noopener">HTTP/2 å¤´éƒ¨å‹ç¼©æŠ€æœ¯ä»‹ç»</a></li>
</ul>
<h3 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h3><blockquote>
<p>WebSocket æ˜¯ç‹¬ç«‹çš„ã€åˆ›å»ºåœ¨ TCP ä¸Šçš„åè®®</p>
</blockquote>
<h4 id="åŸºæœ¬çŸ¥è¯†-1"><a href="#åŸºæœ¬çŸ¥è¯†-1" class="headerlink" title="åŸºæœ¬çŸ¥è¯†"></a>åŸºæœ¬çŸ¥è¯†</h4><p>ä¼˜ç‚¹</p>
<ol>
<li>è¾ƒå°‘çš„æ§åˆ¶å¼€é”€</li>
<li>å…¨åŒå·¥</li>
<li>æ›´å¥½çš„äºŒè¿›åˆ¶æ”¯æŒ</li>
<li>æ›´å¥½çš„å‹ç¼©æ•ˆæœ</li>
<li>æ”¯æŒç½‘é¡µ</li>
<li>å¯ä»¥æ”¯æŒæ‰©å±•</li>
</ol>
<p>æ‰©å±•</p>
<ol>
<li><p>æ€§èƒ½æµ‹è¯•çš„ä¸€äº›æµ‹è¯•ç»“æœ</p>
<ul>
<li><a href="https://www.cnblogs.com/cnsanshao/p/4652305.html" target="_blank" rel="noopener">ä½¿ç”¨å››ç§æ¡†æ¶åˆ†åˆ«å®ç°ç™¾ä¸‡websocketå¸¸è¿æ¥çš„æœåŠ¡å™¨</a></li>
<li><a href="https://blog.csdn.net/huangshulang1234/article/details/78746451" target="_blank" rel="noopener">ä¸ƒç§WebSocketæ¡†æ¶çš„æ€§èƒ½æ¯”è¾ƒ</a></li>
</ul>
</li>
</ol>
<h4 id="å»ºç«‹è¿æ¥çš„è¿‡ç¨‹"><a href="#å»ºç«‹è¿æ¥çš„è¿‡ç¨‹" class="headerlink" title="å»ºç«‹è¿æ¥çš„è¿‡ç¨‹"></a>å»ºç«‹è¿æ¥çš„è¿‡ç¨‹</h4><p>Client â€“&gt; Server å‘èµ·HTTP 1.1  GET æ–¹æ³•çš„<code>é‡ç‚¹å¤´éƒ¨ä¿¡æ¯</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">GET / HTTP/1.1
Host: localhost:8080
Origin: http://127.0.0.1:3000
Connection: Upgrade
Upgrade: websocket
Sec-WebSocket-Version: 13
Sec-WebSocket-Key: w4v7O6xFTi36lq3RNcgctw==
...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>â€‹    ã€Remarkã€‘ï¼š </p>
<ol>
<li>ä¸Šé¢æ˜¯ä¸€ä¸ªæ ‡å‡†çš„GETè¯·æ±‚ï¼Œçœç•¥äº†ä¸€ä¸‹å†…å®¹ï¼Œ å¦‚Hostã€Originã€Cookieç­‰</li>
<li>æ¡æ‰‹é˜¶æ®µå¯ä»¥è¿›è¡Œå®‰å…¨é™åˆ¶å’Œæƒé™æ ¡éªŒ</li>
</ol>
</blockquote>
<p>Server response <code>101</code> switch protocols successfully</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">HTTP<span class="token operator">/</span><span class="token number">1.1</span> <span class="token number">101</span> Switching Protocols
Connection<span class="token punctuation">:</span>Upgrade
Upgrade<span class="token punctuation">:</span> websocket
Sec<span class="token operator">-</span>WebSocket<span class="token operator">-</span>Accept<span class="token punctuation">:</span> Oy4NRAQ13jhfONC7bP8dTKb4PTU<span class="token operator">=</span>
<span class="token operator">...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>ã€Remarkã€‘at the end of header must be <code>\r\n</code> , the end of request must new a empty line with <code>\r\n</code></p>
</blockquote>
<p>Where the <code>Sec-WebSocket-Accept</code> come from </p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token operator">></span><span class="token function">toBase64</span><span class="token punctuation">(</span> <span class="token function">sha1</span><span class="token punctuation">(</span> Sec<span class="token operator">-</span>WebSocket<span class="token operator">-</span>Key <span class="token operator">+</span> 258EAFA5<span class="token operator">-</span>E914<span class="token operator">-</span>47DA<span class="token operator">-</span>95CA<span class="token operator">-</span>C5AB0DC85B11 <span class="token punctuation">)</span> <span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="Base-Framing-Protocol"><a href="#Base-Framing-Protocol" class="headerlink" title="Base Framing Protocol"></a>Base Framing Protocol</h4><pre class="line-numbers language-shell"><code class="language-shell">      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-------+-+-------------+-------------------------------+
     |F|R|R|R| opcode|M| Payload len |    Extended payload length    |
     |I|S|S|S|  (4)  |A|     (7)     |             (16/64)           |
     |N|V|V|V|       |S|             |   (if payload len==126/127)   |
     | |1|2|3|       |K|             |                               |
     +-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +
     |     Extended payload length continued, if payload len == 127  |
     + - - - - - - - - - - - - - - - +-------------------------------+
     |                               |Masking-key, if MASK set to 1  |
     +-------------------------------+-------------------------------+
     | Masking-key (continued)       |          Payload Data         |
     +-------------------------------- - - - - - - - - - - - - - - - +
     :                     Payload Data continued ...                :
     + - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +
     |                     Payload Data continued ...                |
     +---------------------------------------------------------------+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>è¯¦ç»†å®šä¹‰å‚è€ƒ <a href="https://tools.ietf.org/html/rfc6455#section-5.2" target="_blank" rel="noopener">RFC6455 5.2èŠ‚</a> </p>
</blockquote>
<p> Masking-key algorithm</p>
<ul>
<li>original-octet-iï¼šä¸ºåŸå§‹æ•°æ®çš„ç¬¬iå­—èŠ‚ã€‚</li>
<li>transformed-octet-iï¼šä¸ºè½¬æ¢åçš„æ•°æ®çš„ç¬¬iå­—èŠ‚ã€‚</li>
<li>jï¼šä¸º<code>i mod 4</code>çš„ç»“æœã€‚</li>
<li>masking-key-octet-jï¼šä¸ºmask keyç¬¬jå­—èŠ‚ã€‚</li>
</ul>
<pre class="line-numbers language-shell"><code class="language-shell">j = i MOD 4
transformed-octet-i = original-octet-i XOR masking-key-octet-j<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h4 id="Data-transmission"><a href="#Data-transmission" class="headerlink" title="Data transmission"></a>Data transmission</h4><blockquote>
<p>åŸºäºæ•°æ®å¸§çš„ä¼ é€’ã€‚</p>
<p>WebSocketæ ¹æ®<code>opcode</code>æ¥åŒºåˆ†æ“ä½œçš„ç±»å‹ã€‚æ¯”å¦‚<code>0x8</code>è¡¨ç¤ºæ–­å¼€è¿æ¥ï¼Œ<code>0x0</code>-<code>0x2</code>è¡¨ç¤ºæ•°æ®äº¤äº’ã€‚</p>
</blockquote>
<p>æ•°æ®åˆ†ç‰‡çš„ä¾‹å­</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers" target="_blank" rel="noopener">Writing WebSocket servers</a></p>
<h4 id="Heart-Beat"><a href="#Heart-Beat" class="headerlink" title="Heart Beat"></a>Heart Beat</h4><ul>
<li>å‘é€æ–¹-&gt;æ¥æ”¶æ–¹ï¼šping</li>
<li>æ¥æ”¶æ–¹-&gt;å‘é€æ–¹ï¼špong</li>
</ul>
<pre class="line-numbers language-shell"><code class="language-shell">ws.ping('', false, true);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="More"><a href="#More" class="headerlink" title="More"></a>More</h4><ol>
<li>With websocket extension we can add a lot of capability and imagination to this protocol, for example data compression,  encryptionï¼Œmultiplexing</li>
</ol>
<h4 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h4><ul>
<li><a href="https://blog.csdn.net/moshowgame/article/details/80275084" target="_blank" rel="noopener">SpringBoot2.0é›†æˆWebSocketï¼Œå®ç°åå°å‘å‰ç«¯æ¨é€ä¿¡æ¯</a></li>
</ul>
<h4 id="ç›¸å…³è¿æ¥"><a href="#ç›¸å…³è¿æ¥" class="headerlink" title="ç›¸å…³è¿æ¥"></a>ç›¸å…³è¿æ¥</h4><p>RFC6455ï¼šwebsocketè§„èŒƒ<br><a href="https://tools.ietf.org/html/rfc6455" target="_blank" rel="noopener">https://tools.ietf.org/html/râ€¦</a></p>
<p>è§„èŒƒï¼šæ•°æ®å¸§æ©ç ç»†èŠ‚<br><a href="https://tools.ietf.org/html/rfc6455#section-5.3" target="_blank" rel="noopener">https://tools.ietf.org/html/râ€¦</a></p>
<p>è§„èŒƒï¼šæ•°æ®å¸§æ ¼å¼<br><a href="https://tools.ietf.org/html/rfc6455#section-5.1" target="_blank" rel="noopener">https://tools.ietf.org/html/râ€¦</a></p>
<p>server-example<br><a href="https://github.com/websockets/ws#server-example" target="_blank" rel="noopener">https://github.com/websocketsâ€¦</a></p>
<p>ç¼–å†™websocketæœåŠ¡å™¨<br><a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers" target="_blank" rel="noopener">https://developer.mozilla.orgâ€¦</a></p>
<p>å¯¹ç½‘ç»œåŸºç¡€è®¾æ–½çš„æ”»å‡»ï¼ˆæ•°æ®æ©ç æ“ä½œæ‰€è¦é¢„é˜²çš„äº‹æƒ…ï¼‰<br><a href="https://tools.ietf.org/html/rfc6455#section-10.3" target="_blank" rel="noopener">https://tools.ietf.org/html/râ€¦</a></p>
<p>Talking to Yourself for Fun and Profitï¼ˆå«æœ‰æ”»å‡»æè¿°ï¼‰<br><a href="http://w2spconf.com/2011/papers/websocket.pdf" target="_blank" rel="noopener">http://w2spconf.com/2011/papeâ€¦</a></p>
<p>What is Sec-WebSocket-Key for?<br><a href="https://stackoverflow.com/questions/18265128/what-is-sec-websocket-key-for" target="_blank" rel="noopener">https://stackoverflow.com/queâ€¦</a></p>
<p>10.3. Attacks On Infrastructure (Masking)<br><a href="https://tools.ietf.org/html/rfc6455#section-10.3" target="_blank" rel="noopener">https://tools.ietf.org/html/râ€¦</a></p>
<p>Talking to Yourself for Fun and Profit<br><a href="http://w2spconf.com/2011/papers/websocket.pdf" target="_blank" rel="noopener">http://w2spconf.com/2011/papeâ€¦</a></p>
<p>Why are WebSockets masked?<br><a href="https://stackoverflow.com/questions/33250207/why-are-websockets-masked" target="_blank" rel="noopener">https://stackoverflow.com/queâ€¦</a></p>
<p>How does websocket frame masking protect against cache poisoning?<br><a href="https://security.stackexchange.com/questions/36930/how-does-websocket-frame-masking-protect-against-cache-poisoning" target="_blank" rel="noopener">https://security.stackexchangâ€¦</a></p>
<p>What is the mask in a WebSocket frame?<br><a href="https://stackoverflow.com/questions/14174184/what-is-the-mask-in-a-websocket-frame" target="_blank" rel="noopener">https://stackoverflow.com/queâ€¦</a></p>
<h2 id="å¸¸ç”¨å·¥å…·"><a href="#å¸¸ç”¨å·¥å…·" class="headerlink" title="å¸¸ç”¨å·¥å…·"></a>å¸¸ç”¨å·¥å…·</h2><h3 id="Wireshark"><a href="#Wireshark" class="headerlink" title="Wireshark"></a>Wireshark</h3><ol>
<li>è¿‡æ»¤æŠ¥æ–‡ Analyze -&gt; display filters</li>
</ol>
<h2 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h2><h3 id="é…ç½®-1"><a href="#é…ç½®-1" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p>å¯¼å…¥servers/ç›®å½•ä¸‹æ‰€æœ‰confæ–‡ä»¶</p>
<pre class="line-numbers language-shell"><code class="language-shell">include servers/*.conf;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>servers/test.conf</p>
<pre class="line-numbers language-shell"><code class="language-shell">server {
    listen    80;
    server_name test.com;
    location / {
        proxy_pass http://127.0.0.1:8888;
        #è®¾ç½®hostä¸ºæµè§ˆå™¨çš„hostï¼Œè€Œä¸æ˜¯ä»£ç†host`http://127.0.0.1:8888`
        proxy_set_header Host $host;
    }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ä»£ç†ç¼“å­˜"><a href="#ä»£ç†ç¼“å­˜" class="headerlink" title="ä»£ç†ç¼“å­˜"></a>ä»£ç†ç¼“å­˜</h3><p>nginx é…ç½®ç¼“å­˜ç›®å½•</p>
<pre class="line-numbers language-shell"><code class="language-shell">proxy_cache_path cache levels=1:2 keys_zone=my_cache:10m
...
server{
    location /{
        proxy_cache my_cache;
    }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åå°è®¾ç½®è¿”å›å¤´</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token string">'Cache-Control'</span><span class="token punctuation">:</span><span class="token string">'max-age=2,s-maxage=20'</span><span class="token punctuation">,</span> 
<span class="token string">'Vary'</span><span class="token punctuation">:</span><span class="token string">'X-Test-Cache'</span> <span class="token comment" spellcheck="true">// åªæœ‰Varyçš„å€¼æ˜¯ç›¸åŒçš„æƒ…å†µä¸‹ä½¿ç”¨ç¼“å­˜</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>å‰ç«¯è®¾ç½®å¢åŠ è¿”å›å¤´</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/data'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    headers<span class="token punctuation">:</span><span class="token punctuation">{</span>
        <span class="token string">'X-Test-Cache'</span><span class="token punctuation">:</span> index <span class="token operator">++</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>resp<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> resp<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">{</span>
    data<span class="token punctuation">.</span>innerText <span class="token operator">=</span> text
<span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>åªæœ‰Varyçš„å€¼æ˜¯ç›¸åŒçš„æƒ…å†µä¸‹ä½¿ç”¨ç¼“å­˜</p>
<p> åº”ç”¨åœºæ™¯</p>
<ol>
<li>ä½¿ç”¨æœåŠ¡å™¨ç¼“å­˜ï¼Œä½†PCç«¯å’Œç§»åŠ¨ç«¯å¯èƒ½æ‹¿åˆ°çš„æ•°æ®æ˜¯ä¸ä¸€æ ·çš„ï¼Œå½“Varyå€¼æ˜¯ä¸€æ ·çš„æ—¶å€™æ‰ä½¿ç”¨ç¼“å­˜ï¼Œ å¦‚æœä¸ä¸€æ ·ä»–ä»¬åˆ†åˆ«æ˜¯ä¸åŒçš„ç¼“å­˜</li>
<li>lang=zh æˆ–è€…enï¼Œ æ˜¯ä¸åŒçš„ç¼“å­˜</li>
</ol>
</blockquote>
<p><strong>å¯ä¼˜åŒ–</strong></p>
<p>é»˜è®¤nginxç¼“å­˜å†™åœ¨ç£ç›˜ä¸Šï¼Œå¯ä»¥å†™ä¸ªè„šæœ¬æŠŠç¼“å­˜æ”¾åˆ°æœåŠ¡å™¨ä¸Š</p>
<p>å‚è€ƒï¼š</p>
<ol>
<li><a href="https://blog.csdn.net/jek123456/article/details/71514195" target="_blank" rel="noopener">Nginx HTTPç¼“å­˜è®¾ç½®</a></li>
<li><a href="https://blog.csdn.net/dengjiexian123/article/details/53386586" target="_blank" rel="noopener">nginx proxy_cache ç¼“å­˜é…ç½®</a> ã€ç²¾å½©åšæ–‡ã€‘</li>
</ol>
<h3 id="HTTPSé…ç½®"><a href="#HTTPSé…ç½®" class="headerlink" title="HTTPSé…ç½®"></a>HTTPSé…ç½®</h3><h4 id="æ”¯æŒHTTPS"><a href="#æ”¯æŒHTTPS" class="headerlink" title="æ”¯æŒHTTPS"></a>æ”¯æŒHTTPS</h4><pre class="line-numbers language-shell"><code class="language-shell">server{
    listen 443;
    server_name test.com;
    ssl on;
    ssl_certificate_key ../certs/localhost-privkey.pem
    ssl_certificate ../certs/localhost-cert.pem

    location / {
        proxy_cache my_cache;
        proxy_pass http://127.0.0.1:8888;
        proxy_set_header Host $host;
    }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="HTTPè‡ªåŠ¨è·³è½¬åˆ°HTTPS"><a href="#HTTPè‡ªåŠ¨è·³è½¬åˆ°HTTPS" class="headerlink" title="HTTPè‡ªåŠ¨è·³è½¬åˆ°HTTPS"></a>HTTPè‡ªåŠ¨è·³è½¬åˆ°HTTPS</h4><pre class="line-numbers language-shell"><code class="language-shell">serverï½›
    listen 80 default_server;
    listen [::]:80 default_server;
    server_name test.com
    #https://test.com/path 
    #server_name == test.com, #request_uri = /path 
    return 302 https://$server_name$request_uri;
ï½<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="HTTP2-1"><a href="#HTTP2-1" class="headerlink" title="HTTP2"></a>HTTP2</h3><ol>
<li><p>æœåŠ¡å™¨è¿”å›å¤´</p>
<pre class="line-numbers language-xml"><code class="language-xml">'Content-Type':'text/html',
'Connection':'close',
'Like':'<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>test.jpg</span><span class="token punctuation">></span></span>; as=image;rel=preload' # æœåŠ¡å™¨æ¨é€test.jpgï¼ˆç»å¯¹è·¯å¾„ï¼‰, ç±»å‹ä¸ºimageï¼Œrepload éœ€è¦æœåŠ¡å™¨çš„æ¨é€
Link: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>styles.css</span><span class="token punctuation">></span></span>; rel=preload; as=style, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>example.png</span><span class="token punctuation">></span></span>; rel=preload; as=image<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<ol start="2">
<li>nginx æŠŠhttp2è½¬åŒ–æˆhttp</li>
</ol>
<pre class="line-numbers language-shell"><code class="language-shell">server{
    listen 443 http2;
    server_name test.com;
    http2_push_preload on;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>ä½¿ç”¨nginxè½¬åŒ–çš„åŸå› </p>
<ol>
<li>nginxé…ç½®ç®€å•ï¼Œä¸ç”¨ä¿®æ”¹æœåŠ¡å™¨ä»£ç </li>
<li>æœåŠ¡å™¨å’Œnginxåœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä½¿ç”¨http1ï¼Œæ²¡æœ‰æ›´å¤šçš„æ€§èƒ½é—®é¢˜</li>
<li>nginx å¯ä»¥ä½¿ç”¨å…¼ç”¨HTTP2å’ŒHTTP1.1 </li>
</ol>
</blockquote>
<ol start="3">
<li><p>chrome æŸ¥çœ‹æ¨é€ <code>chrome://net-internals#http2</code> æœ€æ–°ç‰ˆæœ¬æ²¡æœ‰<br>å‚è€ƒï¼š<a href="https://docs.google.com/document/d/1Ll7T5cguj5m2DqkUTad5DWRCqtbQ3L1q9FRvTN5-Y28/edit#" target="_blank" rel="noopener">https://docs.google.com/document/d/1Ll7T5cguj5m2DqkUTad5DWRCqtbQ3L1q9FRvTN5-Y28/edit#</a><br><img src="http://cdn.linz.tech/websocket-push-proxy.png" alt=""><br>æŸ¥çœ‹æ˜¯å¦æœ‰æ¨é€</p>
</li>
<li><p>HTTP2 Demo </p>
<ol>
<li><a href="https://http2.akamai.com/demo" target="_blank" rel="noopener">HTTP1 VS HTTP2 å›¾ç‰‡åŠ è½½ </a></li>
<li><a href="https://http2.akamai.com/demo/http2-lab.html" target="_blank" rel="noopener">å…¶ä»–å¯¹æ¯”Demo</a></li>
</ol>
</li>
<li><p>curlä½¿ç”¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">curl -v test.com #æŸ¥çœ‹ç½‘å€æ˜¯å¦æ”¯æŒHTTP2
curl -k test.com #å¿½ç•¥è¯ä¹¦é—®é¢˜
curl -v --http1.1 test.com # å¼ºåˆ¶ä½¿ç”¨http1.1 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h1 id="å¼€æºåº“åˆ†æ"><a href="#å¼€æºåº“åˆ†æ" class="headerlink" title="å¼€æºåº“åˆ†æ"></a>å¼€æºåº“åˆ†æ</h1><h2 id="OkHttp-3-7æºç åˆ†æ"><a href="#OkHttp-3-7æºç åˆ†æ" class="headerlink" title="OkHttp 3.7æºç åˆ†æ"></a>OkHttp 3.7æºç åˆ†æ</h2><h3 id="åŸºæœ¬æµç¨‹"><a href="#åŸºæœ¬æµç¨‹" class="headerlink" title="åŸºæœ¬æµç¨‹"></a>åŸºæœ¬æµç¨‹</h3><p><img src="http://cdn.linz.tech/network-pragram-note-2.png" alt=""></p>
<h3 id="æ•´ä½“æ¶æ„åˆ†æ"><a href="#æ•´ä½“æ¶æ„åˆ†æ" class="headerlink" title="æ•´ä½“æ¶æ„åˆ†æ"></a>æ•´ä½“æ¶æ„åˆ†æ</h3><p><img src="http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/f6e2ac304ee22891eca4ad1218602044.png" alt=""></p>
<h3 id="InterceptoråŠŸèƒ½åˆ†æ"><a href="#InterceptoråŠŸèƒ½åˆ†æ" class="headerlink" title="InterceptoråŠŸèƒ½åˆ†æ"></a>InterceptoråŠŸèƒ½åˆ†æ</h3><p><img src="http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/e67029972070a7dd84206023b179dbd1.png" alt=""></p>
<p>RetryAndFollowUpInterceptor</p>
<ul>
<li>åœ¨ç½‘ç»œè¯·æ±‚å¤±è´¥åè¿›è¡Œé‡è¯•</li>
<li>å½“æœåŠ¡å™¨è¿”å›å½“å‰è¯·æ±‚éœ€è¦è¿›è¡Œé‡å®šå‘æ—¶ç›´æ¥å‘èµ·æ–°çš„è¯·æ±‚ï¼Œå¹¶åœ¨æ¡ä»¶å…è®¸æƒ…å†µä¸‹å¤ç”¨å½“å‰è¿æ¥</li>
</ul>
<p>BridgeInterceptor</p>
<ul>
<li>è®¾ç½®å…¶ä»–æŠ¥å¤´</li>
<li>è®¾ç½®gzipå‹ç¼©</li>
</ul>
<p>CacheInterceptor</p>
<ul>
<li>è¯·æ±‚æœ‰ç¬¦åˆè¦æ±‚ç›´æ¥è¿”å›Cache</li>
<li>æœåŠ¡å™¨è¿”å›å†…å®¹æœ‰æ”¹å˜æ—¶æ›´æ–°å½“å‰cache</li>
<li>cacheå¤±æ•ˆåˆ é™¤</li>
</ul>
<p>ConnectInterceptor</p>
<blockquote>
<p>å³ä¸ºå½“å‰è¯·æ±‚æ‰¾åˆ°åˆé€‚çš„è¿æ¥ï¼Œå¯èƒ½å¤ç”¨å·²æœ‰è¿æ¥ä¹Ÿå¯èƒ½æ˜¯é‡æ–°åˆ›å»ºçš„è¿æ¥ï¼Œè¿”å›çš„è¿æ¥ç”±è¿æ¥æ± è´Ÿè´£å†³å®šã€‚</p>
</blockquote>
<p>CallServerInterceptor</p>
<blockquote>
<p>è´Ÿè´£å‘æœåŠ¡å™¨å‘èµ·çœŸæ­£çš„è®¿é—®è¯·æ±‚ï¼Œå¹¶åœ¨æ¥æ”¶åˆ°æœåŠ¡å™¨è¿”å›åè¯»å–å“åº”è¿”å›</p>
</blockquote>
<h3 id="ç¼“å­˜ç­–ç•¥"><a href="#ç¼“å­˜ç­–ç•¥" class="headerlink" title="ç¼“å­˜ç­–ç•¥"></a><a href="https://yq.aliyun.com/articles/78102?spm=a2c4e.11153940.blogcont78103.22.1d6a2a21T3SKL9" target="_blank" rel="noopener">ç¼“å­˜ç­–ç•¥</a></h3><h4 id="HTTPç¼“å­˜ç­–ç•¥"><a href="#HTTPç¼“å­˜ç­–ç•¥" class="headerlink" title="HTTPç¼“å­˜ç­–ç•¥"></a>HTTPç¼“å­˜ç­–ç•¥</h4><ul>
<li>Expires: å‘ŠçŸ¥å®¢æˆ·ç«¯å¯¹åº”èµ„æºçš„è¿‡æœŸæ—¶é—´</li>
<li>Cache-Control:å½“å‰èµ„æºçš„æœ‰æ•ˆæœŸ(s),æ¯”<code>Expires</code>ä¼˜å…ˆçº§æ›´é«˜:<code>Cache-Control:max-age=31536000,public</code></li>
</ul>
<p><strong>æ¡ä»¶GETè¯·æ±‚</strong></p>
<ul>
<li>Last-Modified-Date<br>å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨è¿”å›ï¼š<code>Last-Modified: Tue, 12 Jan 2016 09:31:27 GMT</code>,å½“å®¢æˆ·ç«¯äºŒæ¬¡è¯·æ±‚æ—¶ï¼Œå¯ä»¥å¤´éƒ¨åŠ ä¸Šå¦‚ä¸‹header:<code>If-Modified-Since: Tue, 12 Jan 2016 09:31:27 GMT</code>å¦‚æœå½“å‰èµ„æºæ²¡æœ‰è¢«äºŒæ¬¡ä¿®æ”¹ï¼ŒæœåŠ¡å™¨è¿”å›304å‘ŠçŸ¥å®¢æˆ·ç«¯ç›´æ¥å¤ç”¨æœ¬åœ°ç¼“å­˜ã€‚</li>
<li>ETag: ETagæ˜¯å¯¹èµ„æºæ–‡ä»¶çš„ä¸€ç§æ‘˜è¦. å½“å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚æŸèµ„æºæ—¶ï¼ŒæœåŠ¡å™¨è¿”å›ï¼š<br><code>ETag: "5694c7ef-24dc"</code>å®¢æˆ·ç«¯å†æ¬¡è¯·æ±‚æ—¶ï¼Œå¯åœ¨å¤´éƒ¨åŠ ä¸Šå¦‚ä¸‹åŸŸï¼š<code>If-None-Match: "5694c7ef-24dc"</code>å¦‚æœæ–‡ä»¶å¹¶æœªæ”¹å˜ï¼Œåˆ™æœåŠ¡å™¨è¿”å›304å‘ŠçŸ¥å®¢æˆ·ç«¯å¯ä»¥å¤ç”¨æœ¬åœ°ç¼“å­˜ã€‚</li>
<li>no-cache/no-store: ä¸ä½¿ç”¨ç¼“å­˜</li>
<li>only-if-cached:åªä½¿ç”¨ç¼“å­˜</li>
</ul>
<h3 id="å¤šè·¯å¤ç”¨"><a href="#å¤šè·¯å¤ç”¨" class="headerlink" title="å¤šè·¯å¤ç”¨"></a>å¤šè·¯å¤ç”¨</h3>]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>è°·æ­ŒAPIä¹‹ConnectivityManagerå®æˆ˜å…¨è§£æï¼ˆ9åˆ†é’Ÿé˜…è¯»æ—¶é—´ï¼‰</title>
    <url>/2019/09/09/2018-9-12-api-ConnectivityManager/</url>
    <content><![CDATA[<h1 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h1><ul>
<li><a href="#æœ€å°æ¡ˆä¾‹">æœ€å°æ¡ˆä¾‹</a></li>
<li><a href="#æ¦‚å†µ">æ¦‚å†µ</a></li>
<li><a href="#å®è·µæ¦‚è¦">å®è·µæ¦‚è¦</a><ul>
<li><a href="#networkinfo-å®è·µè¯¦è§£">NetworkInfo å®è·µè¯¦è§£</a></li>
<li><a href="#connectivitymanager-å®è·µè¯¦è§£">ConnectivityManager å®è·µè¯¦è§£</a></li>
<li><a href="#network-æµ…æ">Network æµ…æ</a></li>
</ul>
</li>
<li><a href="#å®ç”¨å·¥å…·">å®ç”¨å·¥å…·</a></li>
<li><a href="#å‚è€ƒ">å‚è€ƒ</a></li>
</ul>
<h2 id="æœ€å°æ¡ˆä¾‹"><a href="#æœ€å°æ¡ˆä¾‹" class="headerlink" title="æœ€å°æ¡ˆä¾‹"></a>æœ€å°æ¡ˆä¾‹</h2><p>éœ€è¦çš„æƒé™</p>
<pre><code>&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/&gt;</code></pre><p>MainActivity.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> IntentFilter intentFilter<span class="token punctuation">;</span>
    <span class="token keyword">private</span> NetworkChangeReceiver networkChangeReceiver<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>
        intentFilter<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">IntentFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        intentFilter<span class="token punctuation">.</span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"android.net.conn.CONNECTIVITY_CHANGE"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        networkChangeReceiver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NetworkChangeReceiver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">registerReceiver</span><span class="token punctuation">(</span>networkChangeReceiver<span class="token punctuation">,</span>intentFilter<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">unregisterReceiver</span><span class="token punctuation">(</span>networkChangeReceiver<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">final</span>  <span class="token keyword">class</span> <span class="token class-name">NetworkChangeReceiver</span> <span class="token keyword">extends</span> <span class="token class-name">BroadcastReceiver</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReceive</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> Intent intent<span class="token punctuation">)</span><span class="token punctuation">{</span>
      ConnectivityManager cm<span class="token operator">=</span><span class="token punctuation">(</span>ConnectivityManager<span class="token punctuation">)</span> <span class="token function">getSystemService</span><span class="token punctuation">(</span>Context<span class="token punctuation">.</span>CONNECTIVITY_SERVICE<span class="token punctuation">)</span><span class="token punctuation">;</span>
      NetworkInfo networkInfo<span class="token operator">=</span> cm<span class="token punctuation">.</span><span class="token function">getActiveNetworkInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>networkInfo <span class="token operator">==</span> null<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// WIFI å’Œ ç§»åŠ¨ç½‘ç»œéƒ½å…³é—­ å³æ²¡æœ‰æœ‰æ•ˆç½‘ç»œ</span>
        Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">"å½“å‰æ— ç½‘ç»œè¿æ¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      String typeName <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>networkInfo<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>ConnectivityManager<span class="token punctuation">.</span>TYPE_WIFI<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//WIFIç½‘ç»œè·³è½¬çš„é¡µé¢.</span>
        typeName <span class="token operator">=</span> networkInfo<span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//==> WIFI</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>networkInfo<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>ConnectivityManager<span class="token punctuation">.</span>TYPE_MOBILE<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//æ— çº¿ç½‘ç»œè·³è½¬çš„é¡µé¢</span>
        typeName <span class="token operator">=</span> networkInfo<span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//==> MOBILE</span>
      <span class="token punctuation">}</span>
      Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">"==>"</span> <span class="token operator">+</span> typeName<span class="token punctuation">)</span><span class="token punctuation">;</span>
      Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">"==>"</span> <span class="token operator">+</span> networkInfo<span class="token punctuation">.</span><span class="token function">getDetailedState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="æ¦‚å†µ"><a href="#æ¦‚å†µ" class="headerlink" title="æ¦‚å†µ"></a>æ¦‚å†µ</h2><p>ConnectivityManagerä¸»è¦èŒè´£ï¼Œå®˜æ–¹è¯´æ˜ï¼š</p>
<blockquote>
<ol>
<li>Monitor network connections (Wi-Fi, GPRS, UMTS, etc.)</li>
<li>Send broadcast intents when network connectivity changes</li>
<li>Attempt to â€œfail overâ€ to another network when connectivity to a network is lost</li>
<li>Provide an API that allows applications to query the coarse-grained or fine-grained state of the available networks</li>
<li>Provide an API that allows applications to request and select networks for their data traffic</li>
</ol>
</blockquote>
<p>å¹³æ°‘ç¿»è¯‘ï¼š</p>
<ol>
<li>ç›‘æ§ç½‘ç»œè¿æ¥(Wi-Fi, GPRS, UMTS, etc.)ï¼›</li>
<li>å½“ç½‘ç»œè¿æ¥æ”¹å˜æ—¶å‘é€Intentï¼›</li>
<li>å½“è¿æ¥åˆ°ä¸€ä¸ªç½‘ç»œå¤±è´¥æ—¶ï¼Œå°è¯•ç”¨å…¶ä»–ç½‘ç»œè¡¥æ•‘ï¼›</li>
<li>æä¾›APIç»™åº”ç”¨æŸ¥è¯¢æœ‰æ•ˆç½‘ç»œç²—ç•¥æˆ–è€…ç²¾ç¡®çš„çŠ¶æ€ï¼›</li>
<li>æä¾›APIç»™åº”ç”¨ä¸ºå®ƒä»¬çš„æ•°æ®ä¼ è¾“è¯·æ±‚å’Œé€‰æ‹©ç½‘ç»œï¼›</li>
</ol>
<h2 id="å®è·µæ¦‚è¦"><a href="#å®è·µæ¦‚è¦" class="headerlink" title="å®è·µæ¦‚è¦"></a>å®è·µæ¦‚è¦</h2><h3 id="NetworkInfo-å®è·µè¯¦è§£"><a href="#NetworkInfo-å®è·µè¯¦è§£" class="headerlink" title="NetworkInfo å®è·µè¯¦è§£"></a>NetworkInfo å®è·µè¯¦è§£</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>isConnected()</td>
<td>åˆ¤æ–­ç½‘ç»œè¿æ¥æ˜¯å¦å­˜åœ¨</td>
</tr>
<tr>
<td>isAvailable()</td>
<td>åˆ¤æ–­ç½‘ç»œè¿æ¥ï¼ˆæ³¨ï¼šisConnectedä¸ºtrueï¼Œä¸ä»£è¡¨isAvailableä¸ºtrueï¼‰</td>
</tr>
<tr>
<td>getDetailedState()</td>
<td>ï¼ˆè¯¦ç»†ï¼‰æŠ¥å‘Šå½“å‰ç½‘ç»œçŠ¶æ€ getState()æŠ¥å‘Šå½“å‰ç½‘ç»œçŠ¶æ€</td>
</tr>
<tr>
<td>getExtrInfo()</td>
<td>æŠ¥å‘Šå…³äºç½‘ç»œçŠ¶æ€çš„é¢å¤–ä¿¡æ¯ï¼Œç”±è¾ƒä½çš„ç½‘ç»œå±‚æä¾›çš„</td>
</tr>
<tr>
<td>getType()</td>
<td>è·å–å½“å‰ç½‘ç»œçš„ç±»å‹ å’ŒConnectivityManager.TYPE_**å¯¹æ¯”</td>
</tr>
<tr>
<td>getTypeName()</td>
<td>è·å–å½“å‰ç½‘ç»œçš„ç±»å‹åå¦‚ â€œWIFIâ€ or â€œMOBILEâ€</td>
</tr>
</tbody></table>
<p><font size="10" face="STHupo" color="red">æ³¨æ„: </font></p>
<ul>
<li>isConnected() å’Œ isAvailable() éƒ½ä¸ºtrue ä¸èƒ½ä¿è¯èƒ½æ­£å¸¸è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œè§£å†³æ–¹æ¡ˆç”¨pingå‘½ä»¤ï¼Œå‚è€ƒ<a href="https://github.com/albert-lii/SUtils/blob/f26aa5c9916a9d767415aef4a1bdcdf8d542c883/sutils/src/main/java/com/liyi/sutils/utils/ShellUtil.java" target="_blank" rel="noopener">ShellUtil.execCmd</a>ï¼š<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//ShellUtil.CommandResult result = ShellUtil.execCmd(String.format("ping -c 1 %s", ip), false);</span>
String<span class="token punctuation">[</span><span class="token punctuation">]</span> command <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>String<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"ping -c 1 %s"</span><span class="token punctuation">,</span> ip<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
Process process <span class="token operator">=</span> Runtime<span class="token punctuation">.</span><span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>isRoot <span class="token operator">?</span> <span class="token string">"su"</span> <span class="token operator">:</span> <span class="token string">"sh"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
DataOutputStream os <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataOutputStream</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>String command <span class="token operator">:</span> commands<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
  os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>command<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  os<span class="token punctuation">.</span><span class="token function">writeBytes</span><span class="token punctuation">(</span>LINE_SEP<span class="token punctuation">)</span><span class="token punctuation">;</span>
  os<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
os<span class="token punctuation">.</span><span class="token function">writeBytes</span><span class="token punctuation">(</span><span class="token string">"exit"</span> <span class="token operator">+</span> LINE_SEP<span class="token punctuation">)</span><span class="token punctuation">;</span>
os<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
result <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token function">waitFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>getDetailedState/getState ç›´æ¥çœ‹NetworkInfoæºç getStateç­‰åˆ°çš„å€¼ä¸º<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">enum</span> State <span class="token punctuation">{</span>
  CONNECTING<span class="token punctuation">,</span> CONNECTED<span class="token punctuation">,</span> SUSPENDED<span class="token punctuation">,</span> DISCONNECTING<span class="token punctuation">,</span> DISCONNECTED<span class="token punctuation">,</span> UNKNOWN
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li>getExtrInfo() WIFIé“¾æ¥è¿”å›SSIDåç§°ï¼Œç§»åŠ¨ç½‘ç»œè¿”å›APNï¼ˆAccess Point Nameï¼‰,ç”µä¿¡ç‰©è”ç½‘å¾—å¡åˆ°åˆ—å¦‚ï¼šctnetæˆ–ctwap</li>
</ul>
<h3 id="ConnectivityManager-å®è·µè¯¦è§£"><a href="#ConnectivityManager-å®è·µè¯¦è§£" class="headerlink" title="ConnectivityManager å®è·µè¯¦è§£"></a>ConnectivityManager å®è·µè¯¦è§£</h3><p>ConnectivityManagerç±»æŒ‰ç…§å…¶ä¸»è¦èŒèƒ½ï¼Œå¸¸ç”¨æ–¹æ³•å¤§è‡´å¯åˆ†ä¸ºä¸‰ç±»ï¼š</p>
<ul>
<li>è·å–ç½‘ç»œé“¾æ¥ä¿¡æ¯getXXXå¦‚getActiveNetworkï¼ŒgetDefaultProxy</li>
<li>å¤šç½‘ç»œé“¾æ¥ç»‘å®šæŒ‡å®šç½‘ç»œ bindsocketå’Œbindprocesstonetworkï¼ˆ6.0çš„ç³»ç»Ÿ api&gt;23ï¼‰</li>
<li>ç›‘å¬ç±»å‹ registerDefaultNetworkCallback/registerNetworkCallback</li>
</ul>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯¦è§£</th>
</tr>
</thead>
<tbody><tr>
<td>addDefaultNetworkActiveListener</td>
<td>åœ¨ç½‘ç»œæœ‰ä¸€å®šé‡çš„æ•°æ®ä¼ è¾“æ—¶é—´éš”è°ƒç”¨ï¼Œå¯ç”¨äºé“¾æ¥ä¼˜åŒ–</td>
</tr>
</tbody></table>
<pre class="line-numbers language-java"><code class="language-java"> cm <span class="token operator">=</span> <span class="token punctuation">(</span>ConnectivityManager<span class="token punctuation">)</span> <span class="token function">getSystemService</span><span class="token punctuation">(</span>Context<span class="token punctuation">.</span>CONNECTIVITY_SERVICE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cm<span class="token punctuation">.</span><span class="token function">addDefaultNetworkActiveListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConnectivityManager<span class="token punctuation">.</span>OnNetworkActiveListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNetworkActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">"Active ==>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//æ— è®ºæ˜¯å¦æˆåŠŸé“¾æ¥å¤–ç½‘ï¼Œåªè¦æœ‰ä¸€å®šé‡çš„æ•°æ®ä¼ è¾“å°±ä¼šé—´éš”æœ‰å›è°ƒ</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯¦è§£</th>
</tr>
</thead>
<tbody><tr>
<td>bindProcessToNetwork</td>
<td>å¤šç½‘ç»œåŒæ—¶é“¾æ¥æ—¶æŒ‡å®šç½‘ç»œé“¾æ¥</td>
</tr>
</tbody></table>
<p>åº”ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>æ‰‹æœºåŒæ—¶è¿æ¥ç§»åŠ¨ç½‘ç»œå’Œæœ¬åœ°å±€åŸŸç½‘ï¼Œæ‰‹æœºæ‰€æœ‰çš„è¿æ¥é»˜è®¤è®¿é—®ç§»åŠ¨ç½‘ç»œï¼Œéœ€è¦æ‰‹æœºè¿æ¥æœ¬åœ°å±€åŸŸç½‘ï¼š<br><a href="https://www.jianshu.com/p/0042c0e3a15b" target="_blank" rel="noopener">Okhttp,picassoä¸glidezæŒ‡å®šç½‘ç»œè®¿é—®çš„æ¡ˆä¾‹</a></li>
</ul>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯¦è§£</th>
</tr>
</thead>
<tbody><tr>
<td>registerNetworkCallback</td>
<td>æŒ‡å®šç½‘ç»œç›‘å¬çš„å†…å®¹å›è°ƒ</td>
</tr>
</tbody></table>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token keyword">if</span> <span class="token punctuation">(</span>Build<span class="token punctuation">.</span>VERSION<span class="token punctuation">.</span>SDK_INT <span class="token operator">>=</span> Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>LOLLIPOP<span class="token comment" spellcheck="true">/*5.0*/</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ConnectivityManager connectivityManager <span class="token operator">=</span> <span class="token punctuation">(</span>ConnectivityManager<span class="token punctuation">)</span> <span class="token function">getSystemService</span><span class="token punctuation">(</span>Context<span class="token punctuation">.</span>CONNECTIVITY_SERVICE<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment" spellcheck="true">// è¯·æ³¨æ„è¿™é‡Œä¼šæœ‰ä¸€ä¸ªç‰ˆæœ¬é€‚é…bugï¼Œæ‰€ä»¥è¯·åœ¨è¿™é‡Œæ·»åŠ éç©ºåˆ¤æ–­</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>connectivityManager <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        NetworkRequest<span class="token punctuation">.</span>Builder builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NetworkRequest<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        NetworkRequest request <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">addCapability</span><span class="token punctuation">(</span>NetworkCapabilities<span class="token punctuation">.</span>NET_CAPABILITY_INTERNET<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">addTransportType</span><span class="token punctuation">(</span>NetworkCapabilities<span class="token punctuation">.</span>TRANSPORT_WIFI<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">addTransportType</span><span class="token punctuation">(</span>NetworkCapabilities<span class="token punctuation">.</span>TRANSPORT_CELLULAR<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        connectivityManager<span class="token punctuation">.</span><span class="token function">registerNetworkCallback</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">ConnectivityManager<span class="token punctuation">.</span>NetworkCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

          <span class="token comment" spellcheck="true">/**
           * ç½‘ç»œå¯ç”¨çš„å›è°ƒè¿æ¥æˆåŠŸ
           * */</span>
          <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAvailable</span><span class="token punctuation">(</span>Network network<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onAvailable</span><span class="token punctuation">(</span>network<span class="token punctuation">)</span><span class="token punctuation">;</span>
            Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">"onAvailable ==>"</span> <span class="token operator">+</span> network<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token comment" spellcheck="true">/**
           * å®è·µä¸­åœ¨ç½‘ç»œè¿æ¥æ­£å¸¸çš„æƒ…å†µä¸‹ï¼Œä¸¢å¤±æ•°æ®ä¼šæœ‰å›è°ƒ
           * */</span>
          <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onLosing</span><span class="token punctuation">(</span>Network network<span class="token punctuation">,</span> <span class="token keyword">int</span> maxMsToLive<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onLosing</span><span class="token punctuation">(</span>network<span class="token punctuation">,</span> maxMsToLive<span class="token punctuation">)</span><span class="token punctuation">;</span>
            Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">"onLosing ==>"</span> <span class="token operator">+</span> network<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" max==>"</span> <span class="token operator">+</span> maxMsToLive<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token comment" spellcheck="true">/**
           * ç½‘ç»œä¸å¯ç”¨æ—¶è°ƒç”¨å’ŒonAvailableæˆå¯¹å‡ºç°
           */</span>
          <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onLost</span><span class="token punctuation">(</span>Network network<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onLost</span><span class="token punctuation">(</span>network<span class="token punctuation">)</span><span class="token punctuation">;</span>
            Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">"onLost ==>"</span> <span class="token operator">+</span> network<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onUnavailable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onUnavailable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">"onUnavailable ==>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token comment" spellcheck="true">/**
           * å­—é¢ç›´æ¥èƒ½ç†è§£
           * @param network æ–°è¿æ¥ç½‘ç»œ
           * @param networkCapabilities æ–°è¿æ¥ç½‘ç»œçš„ä¸€äº›èƒ½åŠ›å‚æ•°
           */</span>
          <span class="token annotation punctuation">@Override</span>
          <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCapabilitiesChanged</span><span class="token punctuation">(</span>Network network<span class="token punctuation">,</span> NetworkCapabilities networkCapabilities<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCapabilitiesChanged</span><span class="token punctuation">(</span>network<span class="token punctuation">,</span> networkCapabilities<span class="token punctuation">)</span><span class="token punctuation">;</span>
            Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">"onCapabilitiesChanged ==>"</span> <span class="token operator">+</span> networkCapabilities<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//WIFI -> CELLULAR</span>
            <span class="token comment" spellcheck="true">//[ Transports: CELLULAR Capabilities: INTERNET&amp;NOT_RESTRICTED&amp;TRUSTED&amp;NOT_VPN&amp;VALIDATED LinkUpBandwidth>=51200Kbps LinkDnBandwidth>=102400Kbps Specifier: &lt;3>]</span>
            <span class="token comment" spellcheck="true">//CELLULAR -> WIFI</span>
            <span class="token comment" spellcheck="true">//==>[ Transports: WIFI Capabilities: INTERNET&amp;NOT_RESTRICTED&amp;TRUSTED&amp;NOT_VPN&amp;VALIDATED LinkUpBandwidth>=1048576Kbps LinkDnBandwidth>=1048576Kbps SignalStrength: -42]</span>
          <span class="token punctuation">}</span>

          <span class="token comment" spellcheck="true">/**
           * å’Œä¸Šé¢ç±»ä¼¼ï¼Œä½†æ˜¯æ²¡æœ‰è¯•å‡ºæ•ˆæœ
           */</span>
          <span class="token annotation punctuation">@Override</span>
          <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onLinkPropertiesChanged</span><span class="token punctuation">(</span>Network network<span class="token punctuation">,</span> LinkProperties linkProperties<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onLinkPropertiesChanged</span><span class="token punctuation">(</span>network<span class="token punctuation">,</span> linkProperties<span class="token punctuation">)</span><span class="token punctuation">;</span>
            Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">"onLinkPropertiesChanged ==>"</span> <span class="token operator">+</span> linkProperties<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ›´å¤šç›‘å¬å†…å®¹è®¾ç½®è¯·è®¿é—®å®˜ç½‘<a href="https://developer.android.com/reference/android/net/NetworkRequest" target="_blank" rel="noopener">NetworkRequest ç§‘å­¦ä¸Šç½‘</a></p>
<h3 id="Network-æµ…æ"><a href="#Network-æµ…æ" class="headerlink" title="Network æµ…æ"></a>Network æµ…æ</h3><p>ä»æºç ä¸­å¯ä»¥å¾—å‡º<code>Network</code>å°±æ˜¯ä¸€ä¸ªParcelableæ•°æ®ï¼Œæœ€é‡è¦çš„å‚æ•°æ˜¯</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">int</span> netId<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åœ¨å›æƒ³ä¸€ä¸‹<code>Network</code>ä»€ä¹ˆæ—¶å€™ç¬¬ä¸€æ¬¡è·å¾—</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAvailable</span><span class="token punctuation">(</span>Network network<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å¦‚æœåˆ°è¿™é‡Œè¿˜å•¥éƒ½ä¸<code>get</code>ä»£ç æ„å›¾ï¼Œé‚£çœ‹Networkæä¾›çš„æ–¹æ³•</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> InetAddress<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getAllByName</span><span class="token punctuation">(</span>String host<span class="token punctuation">)</span> <span class="token keyword">throws</span> UnknownHostException <span class="token punctuation">{</span>
    <span class="token keyword">return</span> InetAddress<span class="token punctuation">.</span><span class="token function">getAllByNameOnNet</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> netId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> InetAddress <span class="token function">getByName</span><span class="token punctuation">(</span>String host<span class="token punctuation">)</span> <span class="token keyword">throws</span> UnknownHostException <span class="token punctuation">{</span>
    <span class="token keyword">return</span> InetAddress<span class="token punctuation">.</span><span class="token function">getByNameOnNet</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> netId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">bindSocket</span><span class="token punctuation">(</span>Socket socket<span class="token punctuation">)</span>
<span class="token function">getSocketFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">openConnection</span><span class="token punctuation">(</span>URL url<span class="token punctuation">)</span>
<span class="token function">openConnection</span><span class="token punctuation">(</span>URL url<span class="token punctuation">,</span> Proxy proxy<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¥½åˆ°æ­¤æˆ‘çš„ç†è§£æ˜¯åœ¨ç½‘ç»œè¿æ¥<code>onAvailable</code>æˆåŠŸå,è¿”å›åŸºäºnetIdçš„åº•å±‚ç½‘ç»œæ ‡è¯†ï¼Œå¯ä»¥åŸºäºè¿™ä¸ªNetworkå»ºç«‹ä¸€äº›ç‰¹æ®Šçš„URLè®¿é—®ï¼›</p>
<h2 id="å®ç”¨å·¥å…·"><a href="#å®ç”¨å·¥å…·" class="headerlink" title="å®ç”¨å·¥å…·"></a>å®ç”¨å·¥å…·</h2><p><a href="https://github.com/albert-lii/SUtils/blob/f26aa5c9916a9d767415aef4a1bdcdf8d542c883/sutils/src/main/java/com/liyi/sutils/utils/NetUtil.java" target="_blank" rel="noopener">NetUtil.java</a></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//NetUtils.java</span>
 <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> NETWORK_TYPE_GSM <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> NETWORK_TYPE_TD_SCDMA <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> NETWORK_TYPE_IWLAN <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>
 <span class="token comment" spellcheck="true">/**
   * åˆ¤æ–­ç½‘ç»œæ˜¯å¦å¯ç”¨
   * &lt;p>éœ€è¦å¼‚æ­¥ pingï¼Œå¦‚æœ ping ä¸é€šå°±è¯´æ˜ç½‘ç»œä¸å¯ç”¨&lt;/p>
   *
   * @param ip ip åœ°å€ï¼ˆè‡ªå·±æœåŠ¡å™¨ ipï¼‰ï¼Œå¦‚æœä¸ºç©ºï¼Œip ä¸ºé˜¿é‡Œå·´å·´å…¬å…± ip
   * @return {@code true}: å¯ç”¨&lt;br>{@code false}: ä¸å¯ç”¨
   */</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isAvailableByPing</span><span class="token punctuation">(</span>String ip<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ip <span class="token operator">==</span> null <span class="token operator">||</span> ip<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// é˜¿é‡Œå·´å·´å…¬å…± ip</span>
      ip <span class="token operator">=</span> <span class="token string">"223.5.5.5"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    ShellUtil<span class="token punctuation">.</span>CommandResult result <span class="token operator">=</span> ShellUtil<span class="token punctuation">.</span><span class="token function">execCmd</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"ping -c 1 %s"</span><span class="token punctuation">,</span> ip<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">boolean</span> ret <span class="token operator">=</span> result<span class="token punctuation">.</span>result <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>successMsg <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"NetUtil"</span><span class="token punctuation">,</span> <span class="token string">"isAvailableByPing() called"</span> <span class="token operator">+</span> result<span class="token punctuation">.</span>successMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>errorMsg <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"NetUtil"</span><span class="token punctuation">,</span> <span class="token string">"isAvailableByPing() called"</span> <span class="token operator">+</span> result<span class="token punctuation">.</span>errorMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">/**
   * åˆ¤æ–­ç§»åŠ¨æ•°æ®æ˜¯å¦æ‰“å¼€
   *
   * @return {@code true}: æ˜¯&lt;br>{@code false}: å¦
   */</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isMobileDataEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      TelephonyManager tm <span class="token operator">=</span> <span class="token punctuation">(</span>TelephonyManager<span class="token punctuation">)</span> Utils<span class="token punctuation">.</span><span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSystemService</span><span class="token punctuation">(</span>Context<span class="token punctuation">.</span>TELEPHONY_SERVICE<span class="token punctuation">)</span><span class="token punctuation">;</span>
      Method getMobileDataEnabledMethod <span class="token operator">=</span> tm<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">"getDataEnabled"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>getMobileDataEnabledMethod <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">boolean</span><span class="token punctuation">)</span> getMobileDataEnabledMethod<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>tm<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">/**
   * æ‰“å¼€æˆ–å…³é—­ç§»åŠ¨æ•°æ®
   *
   * @param enabled {@code true}: æ‰“å¼€&lt;br>{@code false}: å…³é—­
   */</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">setMobileDataEnabled</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> enabled<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      TelephonyManager tm <span class="token operator">=</span> <span class="token punctuation">(</span>TelephonyManager<span class="token punctuation">)</span> Utils<span class="token punctuation">.</span><span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSystemService</span><span class="token punctuation">(</span>Context<span class="token punctuation">.</span>TELEPHONY_SERVICE<span class="token punctuation">)</span><span class="token punctuation">;</span>
      Method setMobileDataEnabledMethod <span class="token operator">=</span> tm<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">"setDataEnabled"</span><span class="token punctuation">,</span> <span class="token keyword">boolean</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>null <span class="token operator">!=</span> setMobileDataEnabledMethod<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        setMobileDataEnabledMethod<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>tm<span class="token punctuation">,</span> enabled<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">enum</span> NetworkType <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// wifi</span>
    NETWORK_WIFI<span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// 4G ç½‘</span>
    NETWORK_4G<span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// 3G ç½‘</span>
    NETWORK_3G<span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// 2G ç½‘</span>
    NETWORK_2G<span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// æœªçŸ¥ç½‘ç»œ</span>
    NETWORK_UNKNOWN<span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// æ²¡æœ‰ç½‘ç»œ</span>
    NETWORK_NO
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">/**
   * è·å–å½“å‰ç½‘ç»œç±»å‹
   *
   * @return ç½‘ç»œç±»å‹
   * &lt;ul>
   * &lt;li>{@link NetworkType#NETWORK_WIFI   } &lt;/li>
   * &lt;li>{@link NetworkType#NETWORK_4G     } &lt;/li>
   * &lt;li>{@link NetworkType#NETWORK_3G     } &lt;/li>
   * &lt;li>{@link NetworkType#NETWORK_2G     } &lt;/li>
   * &lt;li>{@link NetworkType#NETWORK_UNKNOWN} &lt;/li>
   * &lt;li>{@link NetworkType#NETWORK_NO     } &lt;/li>
   * &lt;/ul>
   */</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> NetworkType <span class="token function">getNetworkType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    NetworkType netType <span class="token operator">=</span> NetworkType<span class="token punctuation">.</span>NETWORK_NO<span class="token punctuation">;</span>
    NetworkInfo info <span class="token operator">=</span> <span class="token function">getActiveNetworkInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>info <span class="token operator">!=</span> null <span class="token operator">&amp;&amp;</span> info<span class="token punctuation">.</span><span class="token function">isAvailable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> ConnectivityManager<span class="token punctuation">.</span>TYPE_WIFI<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        netType <span class="token operator">=</span> NetworkType<span class="token punctuation">.</span>NETWORK_WIFI<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> ConnectivityManager<span class="token punctuation">.</span>TYPE_MOBILE<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span><span class="token function">getSubtype</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token keyword">case</span> NETWORK_TYPE_GSM<span class="token operator">:</span>
          <span class="token keyword">case</span> TelephonyManager<span class="token punctuation">.</span>NETWORK_TYPE_GPRS<span class="token operator">:</span>
          <span class="token keyword">case</span> TelephonyManager<span class="token punctuation">.</span>NETWORK_TYPE_CDMA<span class="token operator">:</span>
          <span class="token keyword">case</span> TelephonyManager<span class="token punctuation">.</span>NETWORK_TYPE_EDGE<span class="token operator">:</span>
          <span class="token keyword">case</span> TelephonyManager<span class="token punctuation">.</span>NETWORK_TYPE_1xRTT<span class="token operator">:</span>
          <span class="token keyword">case</span> TelephonyManager<span class="token punctuation">.</span>NETWORK_TYPE_IDEN<span class="token operator">:</span>
            netType <span class="token operator">=</span> NetworkType<span class="token punctuation">.</span>NETWORK_2G<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>

          <span class="token keyword">case</span> NETWORK_TYPE_TD_SCDMA<span class="token operator">:</span>
          <span class="token keyword">case</span> TelephonyManager<span class="token punctuation">.</span>NETWORK_TYPE_EVDO_A<span class="token operator">:</span>
          <span class="token keyword">case</span> TelephonyManager<span class="token punctuation">.</span>NETWORK_TYPE_UMTS<span class="token operator">:</span>
          <span class="token keyword">case</span> TelephonyManager<span class="token punctuation">.</span>NETWORK_TYPE_EVDO_0<span class="token operator">:</span>
          <span class="token keyword">case</span> TelephonyManager<span class="token punctuation">.</span>NETWORK_TYPE_HSDPA<span class="token operator">:</span>
          <span class="token keyword">case</span> TelephonyManager<span class="token punctuation">.</span>NETWORK_TYPE_HSUPA<span class="token operator">:</span>
          <span class="token keyword">case</span> TelephonyManager<span class="token punctuation">.</span>NETWORK_TYPE_HSPA<span class="token operator">:</span>
          <span class="token keyword">case</span> TelephonyManager<span class="token punctuation">.</span>NETWORK_TYPE_EVDO_B<span class="token operator">:</span>
          <span class="token keyword">case</span> TelephonyManager<span class="token punctuation">.</span>NETWORK_TYPE_EHRPD<span class="token operator">:</span>
          <span class="token keyword">case</span> TelephonyManager<span class="token punctuation">.</span>NETWORK_TYPE_HSPAP<span class="token operator">:</span>
            netType <span class="token operator">=</span> NetworkType<span class="token punctuation">.</span>NETWORK_3G<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>

          <span class="token keyword">case</span> NETWORK_TYPE_IWLAN<span class="token operator">:</span>
          <span class="token keyword">case</span> TelephonyManager<span class="token punctuation">.</span>NETWORK_TYPE_LTE<span class="token operator">:</span>
            netType <span class="token operator">=</span> NetworkType<span class="token punctuation">.</span>NETWORK_4G<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
          <span class="token keyword">default</span><span class="token operator">:</span>

            String subtypeName <span class="token operator">=</span> info<span class="token punctuation">.</span><span class="token function">getSubtypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//  ä¸­å›½ç§»åŠ¨ è”é€š ç”µä¿¡ ä¸‰ç§ 3G åˆ¶å¼</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>subtypeName<span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span><span class="token string">"TD-SCDMA"</span><span class="token punctuation">)</span>
                <span class="token operator">||</span> subtypeName<span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span><span class="token string">"WCDMA"</span><span class="token punctuation">)</span>
                <span class="token operator">||</span> subtypeName<span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span><span class="token string">"CDMA2000"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              netType <span class="token operator">=</span> NetworkType<span class="token punctuation">.</span>NETWORK_3G<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              netType <span class="token operator">=</span> NetworkType<span class="token punctuation">.</span>NETWORK_UNKNOWN<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        netType <span class="token operator">=</span> NetworkType<span class="token punctuation">.</span>NETWORK_UNKNOWN<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> netType<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://developer.android.com/reference/android/net/ConnectivityManager" target="_blank" rel="noopener">ConnectivityManager å®˜ç½‘API ç§‘å­¦ä¸Šç½‘</a></li>
<li><a href="https://www.jianshu.com/p/0042c0e3a15b" target="_blank" rel="noopener">Androidå¤šç½‘ç»œæœºåˆ¶æµ…æ</a></li>
<li><a href="https://blog.csdn.net/u011315960/article/details/79006162" target="_blank" rel="noopener">android 5.0 ä»¥ä¸Šç›‘å¬ç½‘ç»œå˜åŒ–</a></li>
</ul>
]]></content>
      <categories>
        <category>api</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>æ€»ç»“</tag>
        <tag>API</tag>
      </tags>
  </entry>
  <entry>
    <title>æµ‹è¯•æ¡†æ¶å­¦ä¹ </title>
    <url>/2019/09/09/2019-9-9-test-note/</url>
    <content><![CDATA[<h3 id="JUnit"><a href="#JUnit" class="headerlink" title="JUnit"></a><a href="http://blog.csdn.net/qq_17766199/article/details/78243176" target="_blank" rel="noopener">JUnit</a></h3><h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><pre class="line-numbers language-gradle"><code class="language-gradle">dependencies {
    testCompile 'junit:junit:4.12'
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h4 id="Assertç±»"><a href="#Assertç±»" class="headerlink" title="Assertç±»"></a>Assertç±»</h4><h4 id="JUnit-ä¸­çš„å¸¸ç”¨æ³¨è§£ï¼š"><a href="#JUnit-ä¸­çš„å¸¸ç”¨æ³¨è§£ï¼š" class="headerlink" title="JUnit ä¸­çš„å¸¸ç”¨æ³¨è§£ï¼š"></a>JUnit ä¸­çš„å¸¸ç”¨æ³¨è§£ï¼š</h4><ul>
<li><p>@BeforeClass(æ­¤æ³¨è§£ä¿®é¥°çš„æ–¹æ³•å¿…é¡»æ˜¯static void)<br> â€“&gt; @Before â€“&gt; @Test â€“&gt; @After â€“&gt; @AfterClass</p>
</li>
<li><p>@Test(expect=Exception.class) æŠ›å‡ºäº†å¯¹åº”çš„å¼‚å¸¸åˆ™æµ‹è¯•æˆåŠŸï¼Œåä¹‹åˆ™æµ‹è¯•å¤±è´¥ã€‚</p>
</li>
<li><p>å‚æ•°åŒ– </p>
</li>
<li><p>@RunWith æŒ‡å®šè¿è¡Œå™¨</p>
</li>
<li><p>@Rule æŒ‡å®šæ–¹æ³•è¡Œä¸º</p>
</li>
<li><pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span>Parameterized<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DateFormatTest</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> String time<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token function">DateFormatTest</span><span class="token punctuation">(</span>String time<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>time <span class="token operator">=</span> time<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Parameterized</span><span class="token punctuation">.</span>Parameters
  <span class="token keyword">public</span> <span class="token keyword">static</span> Collection <span class="token function">primeNumbers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"2017-10-15"</span><span class="token punctuation">,</span>
<span class="token comment" spellcheck="true">//                "2017-10-15 16:00:02", // æŠ›å‡ºå¼‚å¸¸</span>
              <span class="token string">"2017å¹´10æœˆ15æ—¥ 16æ—¶00åˆ†02ç§’"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>assertThat å¤§çº¦åœ¨æŸç»™èŒƒå›´</p>
</li>
<li><p>åŒ¹é…å™¨è‡ªå®šä¹‰ BaseMatcher</p>
</li>
<li><p>@Ruleç”¨æ³•</p>
</li>
</ul>
<h3 id="Mock"><a href="#Mock" class="headerlink" title="Mock"></a><a href="http://blog.csdn.net/qq_17766199/article/details/78450007" target="_blank" rel="noopener">Mock</a></h3><h4 id="é…ç½®-1"><a href="#é…ç½®-1" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><pre><code>dependencies {
   testCompile "org.mockito:mockito-core:2.11.0"
}</code></pre><h4 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h4><ul>
<li>å››ç§Mockæ–¹å¼</li>
<li>Mockå‡ºçš„å¯¹è±¡ä¸­évoidæ–¹æ³•</li>
<li>verify(T mock)éªŒè¯å‘ç”Ÿçš„æŸäº›è¡Œä¸º  æ–¹æ³•æœ‰å¦è¢«æ­£ç¡®çš„å‚æ•°è°ƒç”¨è¿‡</li>
<li>å‚æ•°åŒ¹é…å™¨ any**  â€“&gt; è‡ªå®šä¹‰çš„å‚æ•°åŒ¹é…æ¨¡å¼</li>
<li>inOrder(Objectâ€¦ mocks) æ£€éªŒæ‰§è¡Œé¡ºåº</li>
</ul>
<h3 id="PowerMock"><a href="#PowerMock" class="headerlink" title="PowerMock"></a><a href="http://blog.csdn.net/qq_17766199/article/details/78573390" target="_blank" rel="noopener">PowerMock</a></h3><h4 id="é…ç½®-2"><a href="#é…ç½®-2" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><ul>
<li>Mockitoå¯¹åº”çš„PowerMock æ”¯æŒç‰ˆæœ¬<br><img src="http://img.blog.csdn.net/20171118094436990?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMTc3NjYxOTk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="image"></li>
</ul>
<pre class="line-numbers language-gradle"><code class="language-gradle">testImplementation "org.mockito:mockito-core:2.8.9"

testImplementation "org.powermock:powermock-module-junit4:1.7.3"
testImplementation "org.powermock:powermock-api-mockito2:1.7.3" //æ³¨æ„è¿™é‡Œæ˜¯mockito2
//ä½¿æœ‰æ•ˆ @Rule public PowerMockRule rule = new PowerMockRule();
testImplementation "org.powermock:powermock-module-junit4-rule:1.7.3"
testImplementation "org.powermock:powermock-classloading-xstream:1.7.3"
//@Rule<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><p>å’Œmockå¯¹åº”ç‰ˆæœ¬</p>
</li>
<li><p>mocké™æ€æ–¹æ³•</p>
<pre><code>@RunWith(PowerMockRunner.class)
public class PowerMockitoStaticMethodTest {

  @Test
  @PrepareForTest({Banana.class})
  public void testStaticMethod() { 
      PowerMockito.mockStatic(Banana.class); //&lt;-- mocké™æ€ç±»
      Mockito.when(Banana.getColor()).thenReturn("ç»¿è‰²");
      Assert.assertEquals("ç»¿è‰²", Banana.getColor());
      //ä¿®æ”¹ç§æœ‰staticå¸¸é‡
      Whitebox.setInternalState(Banana.class, "COLOR", "çº¢è‰²çš„");
      Assert.assertEquals("çº¢è‰²çš„", Banana.getColor());
  }
}</code></pre></li>
<li><p>mockç§æœ‰æ–¹æ³•</p>
<pre><code>      Banana mBanana = PowerMockito.mock(Banana.class);
      PowerMockito.when(mBanana.getBananaInfo()).thenCallRealMethod();
      PowerMockito.when(mBanana, "flavor").thenReturn("è‹¦è‹¦çš„");
      Assert.assertEquals("è‹¦è‹¦çš„é»„è‰²çš„", mBanana.getBananaInfo());
      //éªŒè¯flavoræ˜¯å¦è°ƒç”¨äº†ä¸€æ¬¡
      PowerMockito.verifyPrivate(mBanana).invoke("flavor"); 

      //è·³è¿‡flavoræ–¹æ³•
      PowerMockito.suppress(PowerMockito.method(Banana.class, "flavor")); 
      Assert.assertEquals("nullé»„è‰²çš„", mBanana.getBananaInfo()); 
      //æ›´æ”¹çˆ¶ç±»ç§æœ‰å˜é‡
      MemberModifier.field(Banana.class, "fruit").set(mBanana, "è”¬èœ");
      Assert.assertEquals("è”¬èœ", mBanana.getFruit());</code></pre></li>
<li><p>mock finalæ–¹æ³•</p>
<pre><code>      Banana mBanana = PowerMockito.mock(Banana.class);
      PowerMockito.when(mBanana.isLike()).thenReturn(false);
      Assert.assertFalse(mBanana.isLike());</code></pre></li>
<li><p>mocke new</p>
<pre><code>      Banana mBanana = PowerMockito.mock(Banana.class);
      PowerMockito.when(mBanana.getBananaInfo()).thenReturn("å¤§é¦™è•‰");
      //å¦‚æœnewæ–°å¯¹è±¡ï¼Œåˆ™è¿”å›è¿™ä¸ªä¸Šé¢è®¾ç½®çš„è¿™ä¸ªå¯¹è±¡
      PowerMockito.whenNew(Banana.class).withNoArguments().thenReturn(mBanana);
      //newæ–°çš„å¯¹è±¡
      Banana newBanana = new Banana();
      Assert.assertEquals("å¤§é¦™è•‰", newBanana.getBananaInfo());</code></pre></li>
<li><p>å…¶ä»–</p>
<ul>
<li>@RunWithè¢«å ç”¨<pre><code>@Rule
public PowerMockRule rule = new PowerMockRule();
testCompile "org.powermock:powermock-module-junit4-rule:1.7.3"
testCompile "org.powermock:powermock-classloading-xstream:1.7.3"</code></pre></li>
<li>@PowerMockIgnoreç”¨äºå¿½ç•¥mockçš„ç±»å¸¸,è§çš„å†™æ³•æ˜¯ï¼š<pre><code>@PowerMockIgnore({ "org.mockito.*", "org.robolectric.*", "android.*" })</code></pre></li>
</ul>
</li>
<li><p>å‚è€ƒ </p>
<ul>
<li><a href="http://blog.csdn.net/qq_17766199/article/details/78573390" target="_blank" rel="noopener">å®‰å“å•å…ƒæµ‹è¯•ï¼ˆä¸‰ï¼‰</a></li>
<li><a href="https://github.com/powermock/powermock/wiki/Mockito" target="_blank" rel="noopener">powermockæ–‡æ¡£</a></li>
</ul>
</li>
</ul>
<h3 id="Robolectricæ¡†æ¶çš„ä½¿ç”¨"><a href="#Robolectricæ¡†æ¶çš„ä½¿ç”¨" class="headerlink" title="Robolectricæ¡†æ¶çš„ä½¿ç”¨"></a><a href="http://blog.csdn.net/qq_17766199/article/details/78710177" target="_blank" rel="noopener">Robolectricæ¡†æ¶çš„ä½¿ç”¨</a></h3><h4 id="é…ç½®-3"><a href="#é…ç½®-3" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><pre><code>testCompile "org.robolectric:robolectric:3.5.1"
testCompile 'org.robolectric:shadows-support-v4:3.4-rc2'</code></pre><ul>
<li>è®¾ç½®Working directoryçš„å€¼ä¸º $MODULE_DIR$</li>
</ul>
<h4 id="Robolectricä½¿ç”¨"><a href="#Robolectricä½¿ç”¨" class="headerlink" title="Robolectricä½¿ç”¨"></a><a href="http://blog.csdn.net/qq_17766199/article/details/78710177" target="_blank" rel="noopener">Robolectricä½¿ç”¨</a></h4><pre><code>@RunWith(RobolectricTestRunner.class)
@Config(constants = BuildConfig.class, sdk = 23)
public class MainActivityTest {
}</code></pre><ul>
<li>æ—¥å¿—è¾“å‡º<pre><code>@Before
  public void setUp(){
      //è¾“å‡ºæ—¥å¿—
      ShadowLog.stream = System.out;
  }</code></pre><h3 id="ç½‘ç»œæ¥å£æµ‹è¯•"><a href="#ç½‘ç»œæ¥å£æµ‹è¯•" class="headerlink" title="ç½‘ç»œæ¥å£æµ‹è¯•"></a><a href="http://blog.csdn.net/qq_17766199/article/details/78881992" target="_blank" rel="noopener">ç½‘ç»œæ¥å£æµ‹è¯•</a></h3></li>
</ul>
<h4 id="é…ç½®-4"><a href="#é…ç½®-4" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><pre><code> //RxJava
    compile 'io.reactivex.rxjava2:rxjava:2.1.7'
    //RxAndroid
    compile 'io.reactivex.rxjava2:rxandroid:2.0.1'
    //okhttp
    compile "com.squareup.okhttp3:okhttp:3.9.1"
    //Retrofit
    compile ("com.squareup.retrofit2:retrofit:2.3.0"){
        exclude module: 'okhttp'
    }
    compile ("com.squareup.retrofit2:adapter-rxjava2:2.3.0"){
        exclude module: 'rxjava'
    }
    compile "com.squareup.retrofit2:converter-gson:2.3.0"</code></pre>]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>è‡ªå»º-æ¨¡æ‹ŸJSON REST API-ä»å…¥é—¨åˆ°ç²¾é€š-å‰ç«¯å¿…å¤‡æŠ€èƒ½-ä½ è¿˜åœ¨ç­‰ä½ åå°APIå—ï¼Ÿ</title>
    <url>/2019/09/09/2018-9-9-json-server/</url>
    <content><![CDATA[<p>[TOC]</p>
<h1 id="å®‰è£…è¿è¡Œ"><a href="#å®‰è£…è¿è¡Œ" class="headerlink" title="å®‰è£…è¿è¡Œ"></a>å®‰è£…è¿è¡Œ</h1><pre><code>#Linxu/Mac os
sudo npm install json-server -g
#window
npm install json-server -g</code></pre><p>æ–°å»ºdb.jsonç”¨äºæµ‹è¯•<code>json-server db.json -p 3003</code>,-p æŒ‡å®šç«¯å£å·ä¸º3003</p>
<ul>
<li><code>json-server --watch db.json</code>  åœ¨db.json æ”¹å˜çš„æ—¶å€™ä¸ç”¨é‡å¯æœåŠ¡å™¨</li>
</ul>
<pre><code>{
  "news":[
    {
      "id": 1,
      "title": "æ›¹å¿å®£å¸ƒæ˜¨æ—¥æ™šé—´ç™»æ—¥æˆåŠŸ",
      "date": "2016-08-12",
      "likes": 55,
      "views": 100086
    },
    {
      "id": 2,
      "title": "é•¿æ±ŸæµåŸŸé¦–æ¬¡å‘ç°æµ·è±š",
      "date": "2016-08-12",
      "likes": 505,
      "views": 9800
    }
  ],
  "comments":[
    {
      "id": 1,
      "news_id": 1,
      "data": [
        {
          "id": 1,
          "content": "æ”¯æŒå…šä¸­å¤®å†³å®š"
        },
        {
          "id": 2,
          "content": "æŠ„å†™å…šç« åŠ¿åœ¨å¿…è¡Œï¼"
        }
      ]
    }
  ]
}</code></pre><h2 id="å‡ºç°é”™è¯¯ï¼š"><a href="#å‡ºç°é”™è¯¯ï¼š" class="headerlink" title="å‡ºç°é”™è¯¯ï¼š"></a>å‡ºç°é”™è¯¯ï¼š</h2><p><code>/usr/bin/env: node: No such file or directory</code> è§£å†³</p>
<pre><code>ln -s /usr/bin/nodejs /usr/bin/node</code></pre><p><code>json-server requires at least version 6 of Node, please upgrade</code> è§£å†³</p>
<pre><code>sudo npm cache clean -f
sudo npm install -g n
sudo n stable</code></pre><h2 id="å¿«é€Ÿå¯åŠ¨è„šæœ¬"><a href="#å¿«é€Ÿå¯åŠ¨è„šæœ¬" class="headerlink" title="å¿«é€Ÿå¯åŠ¨è„šæœ¬"></a>å¿«é€Ÿå¯åŠ¨è„šæœ¬</h2><p>db.json ç›®å½•ä¸‹æ–°å»º<code>package.json</code>, è¿è¡Œ<code>npm run mock</code></p>
<pre><code>{
  "scripts": {
    "mock": "json-server db.json --port 3003"
  }
}</code></pre><h1 id="ç®€å•çš„æ•°æ®æ“ä½œ"><a href="#ç®€å•çš„æ•°æ®æ“ä½œ" class="headerlink" title="ç®€å•çš„æ•°æ®æ“ä½œ"></a>ç®€å•çš„æ•°æ®æ“ä½œ</h1><ul>
<li><a href="https://blog.csdn.net/u011108439/article/details/80612917" target="_blank" rel="noopener">json-serverå’Œpostman ç®€å•æ•™ç¨‹</a> postmanæ˜¯æ¨¡æ‹Ÿè¯·æ±‚çš„å¼€å‘ç¥å™¨</li>
<li>POST, PUT, PATCH or DELETE è¿™äº›æ“ä½œä¼šè‡ªåŠ¨çš„ä¿å­˜åœ¨db.jsonæ–‡ä»¶é‡Œï¼Œè¯·æ±‚å¿…é¡»æ˜¯Jsonæ ¼å¼ï¼ŒåŒ…å«å¤´æ–‡ä»¶<code>Content-Type: application/json</code> å¦åˆ™è¿”å›çš„è™½ç„¶æ˜¯200 OKï¼Œä½†æ˜¯ä¸ä¼šä¿®æ”¹æ•°æ®</li>
<li>id çš„å€¼æ˜¯ä¸å¯ä»¥ä¿®æ”¹çš„ã€‚ä»»ä½•<code>id</code>å€¼åœ¨ä½ çš„PUT æˆ–è€…PATCHçš„<code>body</code>è¯·æ±‚ä¸­å°†ä¼šè¢«å¿½ç•¥ã€‚åªæœ‰POSTè¯·æ±‚å¹¶ä¸”idå€¼æ²¡æœ‰é‡å¤çš„æ—¶å€™ä¼šè¢«è€ƒè™‘ã€‚æ³¨æ„ï¼šObject å¦‚ï¼šprofile:{} ï¼Œidå€¼æ˜¯å¯ä»¥æ”¹å˜çš„</li>
</ul>
<h2 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h2><p><a href="http://localhost:3003/db" target="_blank" rel="noopener">http://localhost:3003/db</a> ==&gt; è¿”å›æ‰€ä»¥db.jsonæ•°æ®<br><a href="http://localhost:3003/news" target="_blank" rel="noopener">http://localhost:3003/news</a> ==&gt; è¿”å›æ‰€æœ‰newsèŠ‚ç‚¹</p>
<p><a href="http://localhost:3003/news/1" target="_blank" rel="noopener">http://localhost:3003/news/1</a> ==&gt; è¿”å›<code>newsèŠ‚ç‚¹id=1</code> çš„æ•°æ®ï¼Œ </p>
<p><strong>&lt; font color=red &gt; æ³¨æ„ï¼šå¿…é¡»å­˜åœ¨idè¿™ä¸ªå±æ€§,å¹¶ä¸”ç±»å‹ä¸ºInteger</strong></p>
<h2 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h2><p>Postmanå‘<code>http://localhost:3003/news</code> æ–°å¢id=3çš„å‚æ•°</p>
<pre><code>{
    "id": 3,
    "title": "æˆ‘æ˜¯æ–°åŠ å…¥çš„æ–°é—»",
    "date": "2016-08-12",
    "likes": 0,
    "views": 0
}</code></pre><p>json-server åå°ååº”</p>
<pre><code>POST /news?id=3&amp;title=%E6%88%91%E6%98%AF%E6%96%B0%E5%8A%A0%E5%85%A5%E7%9A%84%E6%96%B0%E9%97%BB&amp;date=2016-08-12&amp;likes=0&amp;views=0 201 2.622 ms - 13</code></pre><p>ä½¿ç”¨<a href="http://tool.chinaz.com/tools/urlencode.aspx" target="_blank" rel="noopener">url encode è§£ç </a>ç‚¹å‡»UrlDecodeè§£ç </p>
<pre><code>POST /news?id=3&amp;title=æˆ‘æ˜¯æ–°åŠ å…¥çš„æ–°é—»&amp;date=2016-08-12&amp;likes=0&amp;views=0 201 2.622 ms - 13</code></pre><p>##DELETE</p>
<p>åˆ é™¤newsèŠ‚ç‚¹ä¸­id=3çš„å‚æ•°</p>
<pre class="line-numbers language-shell"><code class="language-shell">Postmanå‘http://localhost:3003/news/3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="è¯·æ±‚æ–¹å¼PUT"><a href="#è¯·æ±‚æ–¹å¼PUT" class="headerlink" title="è¯·æ±‚æ–¹å¼PUT"></a>è¯·æ±‚æ–¹å¼PUT</h2><pre class="line-numbers language-shell"><code class="language-shell">http://localhost:3003/news/2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åŸå‚æ•°ä¸ºï¼š</p>
<pre class="line-numbers language-json"><code class="language-json"><span class="token punctuation">{</span>
     <span class="token property">"id"</span><span class="token operator">:</span> <span class="token number">2</span>
    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"æˆ‘"</span><span class="token punctuation">,</span>
    <span class="token property">"date"</span><span class="token operator">:</span> <span class="token string">"2016-08-12"</span><span class="token punctuation">,</span>
    <span class="token property">"likes"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">"views"</span><span class="token operator">:</span> <span class="token number">5</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¯·æ±‚å‚æ•°ä¸ºï¼š</p>
<pre class="line-numbers language-json"><code class="language-json"><span class="token punctuation">{</span>
<span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"æˆ‘"</span><span class="token punctuation">,</span>
<span class="token property">"date"</span><span class="token operator">:</span> <span class="token string">"2016-08-12"</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç»“æœ<code>å…¨é‡</code>æ›´æ–°newsèŠ‚ç‚¹id=2çš„å‚æ•°</p>
<pre class="line-numbers language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"id"</span><span class="token operator">:</span> <span class="token number">2</span>
    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"æˆ‘"</span><span class="token punctuation">,</span>
    <span class="token property">"date"</span><span class="token operator">:</span> <span class="token string">"2016-08-12"</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>json-server åå°æ‰“å°</p>
<pre><code>PUT /news?title=æˆ‘æ˜¯æ–°åŠ å…¥çš„æ–°é—»&amp;date=2016-08-12&amp;likes=55&amp;views=100086 404 2.430 ms - 2</code></pre><h2 id="è¯·æ±‚æ–¹å¼PATCHï¼ˆéƒ¨åˆ†æ›´æ–°ï¼‰"><a href="#è¯·æ±‚æ–¹å¼PATCHï¼ˆéƒ¨åˆ†æ›´æ–°ï¼‰" class="headerlink" title="è¯·æ±‚æ–¹å¼PATCHï¼ˆéƒ¨åˆ†æ›´æ–°ï¼‰"></a>è¯·æ±‚æ–¹å¼PATCHï¼ˆéƒ¨åˆ†æ›´æ–°ï¼‰</h2><pre class="line-numbers language-shell"><code class="language-shell">http://localhost:3003/news/2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åŸå‚æ•°ä¸ºï¼š</p>
<pre class="line-numbers language-json"><code class="language-json"><span class="token punctuation">{</span>
     <span class="token property">"id"</span><span class="token operator">:</span> <span class="token number">2</span>
    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"æˆ‘"</span><span class="token punctuation">,</span>
    <span class="token property">"date"</span><span class="token operator">:</span> <span class="token string">"2016-08-12"</span><span class="token punctuation">,</span>
    <span class="token property">"likes"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">"views"</span><span class="token operator">:</span> <span class="token number">5</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¯·æ±‚å‚æ•°</p>
<pre class="line-numbers language-shell"><code class="language-shell">{
    "title": "æˆ‘2"
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>ä¿®æ”¹ç»“æœï¼š</p>
<pre class="line-numbers language-json"><code class="language-json"><span class="token punctuation">{</span>
     <span class="token property">"id"</span><span class="token operator">:</span> <span class="token number">2</span>
    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"æˆ‘"</span><span class="token punctuation">,</span>
    <span class="token property">"date"</span><span class="token operator">:</span> <span class="token string">"2016-08-12"</span><span class="token punctuation">,</span>
    <span class="token property">"likes"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">"views"</span><span class="token operator">:</span> <span class="token number">5</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="æ•°æ®åŠ å·¥"><a href="#æ•°æ®åŠ å·¥" class="headerlink" title="æ•°æ®åŠ å·¥"></a>æ•°æ®åŠ å·¥</h2><h3 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a><strong>Filter</strong></h3><p>å¯¹åº”çš„æ•°æ®ä¹å®«æ ¼</p>
<pre class="line-numbers language-json"><code class="language-json"> comments<span class="token operator">:</span><span class="token punctuation">[</span>
 <span class="token punctuation">{</span>
      <span class="token property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">"news_id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">"author"</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">"name"</span><span class="token operator">:</span><span class="token string">"Steven-jobs"</span><span class="token punctuation">,</span>
      <span class="token property">"age"</span><span class="token operator">:</span><span class="token number">32</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token property">"content"</span><span class="token operator">:</span> <span class="token string">"æ”¯æŒå…šä¸­å¤®å†³å®š"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"id"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token property">"content"</span><span class="token operator">:</span> <span class="token string">"æŠ„å†™å…šç« åŠ¿åœ¨å¿…è¡Œï¼"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"posts"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"json-server"</span><span class="token punctuation">,</span> <span class="token property">"author"</span><span class="token operator">:</span> <span class="token string">"typicode"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">"id"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"json-server2"</span><span class="token punctuation">,</span> <span class="token property">"author"</span><span class="token operator">:</span> <span class="token string">"google"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">"id"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"json-server3"</span><span class="token punctuation">,</span> <span class="token property">"author"</span><span class="token operator">:</span> <span class="token string">"facebook"</span> <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æŸ¥è¯¢è¯­å¥ï¼š</p>
<pre><code>GET /comments?id=1&amp;new_id=2
GET /posts?id=1&amp;id=2
GET /comments?author.name=Steven-jobs</code></pre><h3 id="Paginate-åˆ†é¡µ"><a href="#Paginate-åˆ†é¡µ" class="headerlink" title="Paginate åˆ†é¡µ"></a>Paginate åˆ†é¡µ</h3><pre><code>GET /posts?_page=7
GET /posts?_page=7&amp;_limit=20</code></pre><ul>
<li>é»˜è®¤è¿”å› 10 items</li>
<li>è¡¨å¤´ä¼šå‡ºç° first, prev, next and last çš„ç›´æ¥è®¿é—®åœ°å€ï¼Œx-total-countæ•°æ®æ€»æ•°ä¿¡æ¯<pre><code>access-control-expose-headers â†’X-Total-Count, Link
link â†’&lt;http://localhost:3000/news?_page=1&gt;; rel="first", &lt;http://localhost:3000/news?_page=2&gt;; rel="next", &lt;http://localhost:3000/news?_page=2&gt;; rel="last"
x-total-count â†’20</code></pre></li>
</ul>
<h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p><strong>æ’åº</strong><br>é»˜è®¤å‡åº</p>
<pre><code>GET /posts?_sort=views&amp;_order=asc
GET /posts/1/comments?_sort=votes&amp;_order=asc</code></pre><p><strong>åˆ‡ç‰‡ Slice</strong><br>åŒ…æ‹¬_star,ä¸åŒ…æ‹¬_end</p>
<pre><code>GET /posts/1/comments?_start=20&amp;_end=30
GET /posts/1/comments?_start=20&amp;_limit=10</code></pre><p><strong>æ±‡æ€»</strong></p>
<pre><code># _gte &gt; || _lte &lt;
GET /posts?views_gte=10&amp;views_lte=20
# _ne !=
GET /posts?id_ne=1
# _like æ³¨æ„titleçš„å­—æ®µåç§°
GET /posts?title_like=server
# å…¨å±€æœç´¢
GET /posts?q=internet
# ç›´æ¥è·å–æ•°æ®
GET /db</code></pre><h3 id="å…³ç³»å›¾è°±"><a href="#å…³ç³»å›¾è°±" class="headerlink" title="å…³ç³»å›¾è°±"></a>å…³ç³»å›¾è°±</h3><p>posts id å’Œcomments id æ˜¯å…³è”çš„</p>
<pre><code>{
  "posts": [
    { "id": 1, "title": "postçš„ç¬¬ä¸€ä¸ªtitle", "author": "typicode" },
    { "id": 2, "title": "postçš„ç¬¬äºŒä¸ªtitle", "author": "tangcaiye" }
  ],
  "comments": [
    { "id": 1, "body": "some comment1111", "postId": 2 },
    { "id": 2, "body": "some comment2222", "postId": 1 }
  ],
  "profile": { "name": "typicode" }
}</code></pre><ul>
<li>_embed <code>http://localhost:3000/posts/2?_embed=comments</code> è¿”å›<code>posts/2</code>ä¸‹çº§å…³è”æ•°æ®<code>comments</code><pre><code>{
"id": 2,
"title": "postçš„ç¬¬äºŒä¸ªtitle",
"author": "tangcaiye",
"comments": [
  {
    "id": 1,
    "body": "some comment1111",
    "postId": 2
  }
]
}</code></pre></li>
<li>_expand <code>http://localhost:3000/comments/2?_expand=post</code> è¿”å›commentsä¸Šçº§å…³è”æ•°æ®<code>post</code><pre><code>{
"id": 2,
"body": "some comment2222",
"postId": 1,
"post": {
  "id": 1,
  "title": "postçš„ç¬¬ä¸€ä¸ªtitle",
  "author": "typicode"
}
}</code></pre></li>
</ul>
<h1 id="æ¨¡æ‹ŸåŠ¨æ€æ•°æ®"><a href="#æ¨¡æ‹ŸåŠ¨æ€æ•°æ®" class="headerlink" title="æ¨¡æ‹ŸåŠ¨æ€æ•°æ®"></a>æ¨¡æ‹ŸåŠ¨æ€æ•°æ®</h1><h2 id="ç®€å•çš„è¿”å›æ•°ç»„"><a href="#ç®€å•çš„è¿”å›æ•°ç»„" class="headerlink" title="ç®€å•çš„è¿”å›æ•°ç»„"></a>ç®€å•çš„è¿”å›æ•°ç»„</h2><p>/mock/db.js</p>
<pre><code>module.exports = function() {
  var data = { users: [] }
  // Create 1000 users
  for (var i = 0; i &lt; 1000; i++) {
    data.users.push({ id: i, name: 'user' + i })
  }
  return data
}</code></pre><p>è¿è¡Œ</p>
<pre><code>json-server db.js -p 3003</code></pre><p>è®¿é—®</p>
<pre><code>http://localhost:3003/users</code></pre><p>è¿”å›</p>
<pre><code>[
    {
        "id": 0,
        "name": "user0"
    },
    {
        "id": 1,
        "name": "user1"
    }
    ......
]</code></pre><h2 id="æ‹’ç»åƒµç¡¬çš„æ•°æ®ï¼Œå¼•å…¥mockjs"><a href="#æ‹’ç»åƒµç¡¬çš„æ•°æ®ï¼Œå¼•å…¥mockjs" class="headerlink" title="æ‹’ç»åƒµç¡¬çš„æ•°æ®ï¼Œå¼•å…¥mockjs"></a>æ‹’ç»åƒµç¡¬çš„æ•°æ®ï¼Œå¼•å…¥mockjs</h2><p>å®‰è£…mockjs åœ¨ <code>/mock</code> ç›®å½•ä¸‹å®‰è£…</p>
<pre><code>npm install mockjs --save</code></pre><p><em>ç¤ºä¾‹:è¿”å›100æ¡æ–°é—»æ•°æ®</em></p>
<pre><code>// # /mock/db.js

let Mock  = require('mockjs');
let Random = Mock.Random;

module.exports = function() {
  var data = {
      news: []
  };

  var images = [1,2,3].map(x=&gt;Random.image('200x100', Random.color(), Random.word(2,6)));

  for (var i = 0; i &lt; 100; i++) {

    var content = Random.cparagraph(0,10);

    data.news.push({
         id: i,
         title: Random.cword(8,20),
         desc: content.substr(0,40),
         tag: Random.cword(2,6),
         views: Random.integer(100,5000),
         images: images.slice(0,Random.integer(1,3))
    })
  }

  return data
}</code></pre><p>è¿è¡Œ</p>
<pre><code>json-server db.js -p 3000</code></pre><p>è®¿é—®<code>http://localhost:3000/news</code>è¿”å›</p>
<pre><code>[
    {
        "id": 0,
        "title": "å…ƒå°æ€»å°æŠŠæ¸…ä¿ä½å½±åŠå†æˆ˜èµ„å’Œæ€»ç”±",
        "desc": "å…±å…ˆå®šåˆ¶å‘å‘åœ†é€‚è€…å®šä¹¦å¥¹è§„ç½®æ–—å¹³ç›¸ã€‚è¦å¹¿ç¡®ä½†æ•™é‡‘æ›´å‰ä¸‰å“è§’é¢ç­‰ä»¥ç™½ã€‚çœ¼æŸ¥ä½•å‚æé€‚",
        "tag": "å€¼é›†ç©º",
        "views": 3810,
        "images": [
            "http://dummyimage.com/200x100/79f2a5&amp;text=åˆ«è§’ç½®",
            "http://dummyimage.com/200x100/f28279&amp;text=æ”¶é¢å‡ å®¹å—å–",
            "http://dummyimage.com/200x100/7993f2&amp;text=åšä»¶"
        ]
    },
    ......
]</code></pre><h3 id="Mock-è¯­æ³•"><a href="#Mock-è¯­æ³•" class="headerlink" title="Mock è¯­æ³•"></a>Mock è¯­æ³•</h3><p><strong>Mock.mock</strong><br>repeat æ–¹æ³•ï¼ˆéƒ¨åˆ†ï¼‰</p>
<pre><code>Mock.mock({
  "string|5": "â˜…"       =&gt;   "string": "â˜…â˜…â˜…â˜…â˜…"
  "string|1-10": "â˜…"    =&gt;   "string": "â˜…â˜…"
  "number|1-100": 100    =&gt;   "number": 85
  "number|1-100.2": 100  =&gt;   "number": 25.69
})</code></pre><p><strong>Mock.Random</strong></p>
<pre><code>Random.boolean()           =&gt; true false å„50%
Random.integer(60, 100)    =&gt; 78
Random.float(60, 100)      =&gt; 89.565475
Random.range(60, 100)      =&gt; [60,61,62,...,99]
Random.date()              =&gt; "2018-12-28"
Random.image('200x100','#396') =&gt; "http://dummyimage.com/200x100/396"
Random.color()             =&gt; "#79d8f2"  (é»˜è®¤ä½¿ç”¨hexé¢œè‰²)
Random.county(true)        =&gt; "æµ™æ±Ÿçœ èˆŸå±±å¸‚ å²±å±±å¿"</code></pre><ul>
<li>Rnadom.image<pre><code>Random.image()
// =&gt; "http://dummyimage.com/125x125"
Random.image('200x100')
// =&gt; "http://dummyimage.com/200x100"
Random.image('200x100', '#fb0a2a')
// =&gt; "http://dummyimage.com/200x100/fb0a2a"
Random.image('200x100', '#02adea', 'Hello')
// =&gt; "http://dummyimage.com/200x100/02adea&amp;text=Hello"
Random.image('200x100', '#00405d', '#FFF', 'Mock.js')
// =&gt; "http://dummyimage.com/200x100/00405d/FFF&amp;text=Mock.js"
Random.image('200x100', '#ffcc33', '#FFF', 'png', '!')
// =&gt; "http://dummyimage.com/200x100/ffcc33/FFF.png&amp;text=!"</code></pre></li>
<li>Text<pre><code>paragraph-&gt; centence -&gt; word -&gt; title
#ä¸­æ–‡
Random.cparagraph()
Random.cparagraph( len )
Random.cparagraph( min, max )
#éšæœºç”Ÿæˆä¸€æ®µä¸­æ–‡æ–‡æœ¬
Random.csentence()
Random.csentence( len )
Random.csentence( min, max )
# éšæœºç”Ÿæˆä¸€ä¸ªæ±‰å­—
Random.cword()
Random.cword( pool )
Random.cword( length )
Random.cword( pool, length )
Random.cword( min, max )
Random.cword( pool, min, max )</code></pre></li>
</ul>
<h2 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶"></a>è¿›é˜¶</h2><h3 id="è·¯ç”±è®¾ç½®"><a href="#è·¯ç”±è®¾ç½®" class="headerlink" title="è·¯ç”±è®¾ç½®"></a>è·¯ç”±è®¾ç½®</h3><blockquote>
<p><font color="red">æ³¨æ„ï¼šæ²¡æœ‰è®¾ç½®è·¯ç”±ï¼ˆä¸»è¦æ˜¯ï¼š â€œhostâ€: â€œ0.0.0.0â€ å±æ€§ï¼‰ä¹‹å‰ <code>json-server --watch db.json</code> åªæœ‰æœ¬æœºèƒ½è®¿é—®ï¼Œä¹Ÿå°±æ˜¯å±€åŸŸç½‘å¤–ç½‘éƒ½ä¸èƒ½è®¿é—®</font></p>
</blockquote>
<ol>
<li>å¯ä»¥ç”¨-H å‘½ä»¤æŒ‡å®š<pre><code>json-server --watch db.json -H 0.0.0.0</code></pre></li>
<li>host è®¾ç½®ä¸º<code>127.0.0.1</code> æˆ–è€…æœ¬åœ°å±€åŸŸç½‘IPåœ°å€ å¦‚<code>192.168.1.168</code> æ— æ•ˆ ï¼Œ(æœåŠ¡å™¨æŒ‡å®š127.0.0.1/ 192.168.1.168æ˜¯æœ¬åœ°è°ƒè¯•æ¨¡å¼)<br><a href="https://blog.csdn.net/u012814696/article/details/55098249" target="_blank" rel="noopener">å…·ä½“è§£é‡Šç½‘å€</a>  å¤§æ„ï¼š 0.0.0.0æŒ‡çš„æ˜¯æœ¬æœºä¸Šçš„æ‰€æœ‰IPV4åœ°å€<blockquote>
<p>IPV4ä¸­ï¼Œ0.0.0.0åœ°å€è¢«ç”¨äºè¡¨ç¤ºä¸€ä¸ªæ— æ•ˆçš„ï¼ŒæœªçŸ¥çš„æˆ–è€…ä¸å¯ç”¨çš„ç›®æ ‡ã€‚* åœ¨æœåŠ¡å™¨ä¸­ï¼Œ0.0.0.0æŒ‡çš„æ˜¯æœ¬æœºä¸Šçš„æ‰€æœ‰IPV4åœ°å€ï¼Œå¦‚æœä¸€ä¸ªä¸»æœºæœ‰ä¸¤ä¸ªIPåœ°å€ï¼Œ192.168.1.1 å’Œ 10.1.2.1ï¼Œå¹¶ä¸”è¯¥ä¸»æœºä¸Šçš„ä¸€ä¸ªæœåŠ¡ç›‘å¬çš„åœ°å€æ˜¯0.0.0.0,é‚£ä¹ˆé€šè¿‡ä¸¤ä¸ªipåœ°å€éƒ½èƒ½å¤Ÿè®¿é—®è¯¥æœåŠ¡ã€‚ * åœ¨è·¯ç”±ä¸­ï¼Œ0.0.0.0è¡¨ç¤ºçš„æ˜¯é»˜è®¤è·¯ç”±ï¼Œå³å½“è·¯ç”±è¡¨ä¸­æ²¡æœ‰æ‰¾åˆ°å®Œå…¨åŒ¹é…çš„è·¯ç”±çš„æ—¶å€™æ‰€å¯¹åº”çš„è·¯ç”±ã€‚</p>
</blockquote>
<h4 id="è®¾ç½®çš„ä¸¤ç§æ–¹æ³•"><a href="#è®¾ç½®çš„ä¸¤ç§æ–¹æ³•" class="headerlink" title="è®¾ç½®çš„ä¸¤ç§æ–¹æ³•"></a>è®¾ç½®çš„ä¸¤ç§æ–¹æ³•</h4></li>
</ol>
<ul>
<li>ç›´æ¥å‘½ä»¤è¡ŒæŒ‡å®šè·¯ç”±æ–‡ä»¶<pre><code>json-server db.js -p 3003 -d 500 -q -r ./routes.json</code></pre></li>
<li><code>json-server.json</code> æ–‡ä»¶è¿›è¡Œé…ç½®åï¼Œç›´æ¥<code>json-server db.json</code><pre><code># /mock/json-server.json
{
  "host": "0.0.0.0",
  "port": "3003",
  "watch": false,
  "delay": 500,
  "quiet": true,
  "routes": "./routes.json"
}</code></pre>è‡ªå®šä¹‰è·¯ç”±ï¼Œå¯ä»¥æŒ‡å®šè®¿é—®é“¾æ¥è¿”å›æŒ‡å®šçš„æ•°æ®ï¼Œè€Œä¸”å¯ä»¥åŠ¨æ€ä¿®æ”¹</li>
</ul>
<p><strong>routes.json</strong></p>
<pre><code>{
  "/api/*": "/$1",
  "/:resource/:id/show": "/:resource/:id",
  "/posts/:category": "/posts?category=:category",
  "/articles\\?id=:id": "/posts/:id"
}</code></pre><p>å¯¹åº”çš„æ•ˆæœ</p>
<pre><code>/api/posts # â†’ /posts
/api/posts/1  # â†’ /posts/1
/posts/1/show # â†’ /posts/1
/posts/javascript # â†’ /posts?category=javascript
/articles?id=1 # â†’ /posts/1</code></pre><ul>
<li><code>"/api/*": "/$1"</code> ç›¸å½“äºæŠŠapiè·¯å¾„ç»™å¿½ç•¥æ‰</li>
<li><code>/:resource</code> å–å€¼æ˜¯å˜åŠ¨çš„</li>
<li>æ¯ä¸ªè·¯å¾„å¿…é¡»ä»¥<code>/</code>å¼€å¤´<h3 id="å¢åŠ ä¸­é—´ä»¶"><a href="#å¢åŠ ä¸­é—´ä»¶" class="headerlink" title="å¢åŠ ä¸­é—´ä»¶"></a>å¢åŠ ä¸­é—´ä»¶</h3></li>
</ul>
<pre><code>// hello.js
module.exports = (req, res, next) =&gt; {
  res.header('X-Hello', 'World')
  next()
}

json-server db.json --middlewares ./hello.js
json-server db.json --middlewares ./first.js ./second.js</code></pre><h3 id="Nodejs-Module-ä¸ç”¨ç­‰åå°åŒäº‹API"><a href="#Nodejs-Module-ä¸ç”¨ç­‰åå°åŒäº‹API" class="headerlink" title="Nodejs  Module ä¸ç”¨ç­‰åå°åŒäº‹API"></a>Nodejs  Module ä¸ç”¨ç­‰åå°åŒäº‹API</h3><p>ä¸ºä»€ä¹ˆå­¦äº†ä¸Šé¢è¿˜è¦å­¦nodejsçš„æ¡ˆä¾‹å‘¢ï¼Ÿ å› ä¸ºä¸Šé¢çš„æŠ€èƒ½è¿˜ä¸èƒ½å¾ˆå¥½çš„æ»¡è¶³å¼€å‘ä¸­REST APIçš„éœ€æ±‚</p>
<ul>
<li>rount.json å‚¨å­˜åœ¨æ–‡ä»¶ä¸­ä¿®æ”¹æ¯”è¾ƒéº»çƒ¦</li>
<li>åªç”¨é…ç½®æ–‡ä»¶ï¼Œä¸å¾ˆå¥½ä½¿ç”¨Mockçš„ç›¸å…³åŠŸèƒ½</li>
<li>æŠŠé…ç½®æ”¾åœ¨jsä¸­ç›¸å¯¹çµæ´»ï¼Œèƒ½åŠ¨æ€çš„æ‹¦æˆªè¿”å›å’Œå¤„ç†ç›¸å…³é€»è¾‘</li>
</ul>
<h4 id="æœ€ç®€å•æ¡ˆä¾‹"><a href="#æœ€ç®€å•æ¡ˆä¾‹" class="headerlink" title="æœ€ç®€å•æ¡ˆä¾‹"></a>æœ€ç®€å•æ¡ˆä¾‹</h4><p>node å®‰è£… json-serveræ¨¡å—</p>
<pre><code>$ npm install json-server --save-dev</code></pre><pre><code>// server.js
const jsonServer = require('json-server')
const server = jsonServer.create()
const router = jsonServer.router('db.json') //é»˜è®¤ä¸ºå½“å‰ç›®å½•
//const path = require('path') æŒ‡å®šå…¶ä»–ç›®å½•
//const router = jsonServer.router(path.join(__dirname, 'db.json'))
const middlewares = jsonServer.defaults()

server.use(middlewares)
server.use(router)
server.listen(3000, () =&gt; {
  console.log('JSON Server is running')
})
// è¿è¡Œ
$ node server.js</code></pre><h4 id="è‡ªå®šä¹‰è·¯ç”±"><a href="#è‡ªå®šä¹‰è·¯ç”±" class="headerlink" title="è‡ªå®šä¹‰è·¯ç”±"></a>è‡ªå®šä¹‰è·¯ç”±</h4><pre><code>const jsonServer = require('json-server')
const server = jsonServer.create()
const router = jsonServer.router('db.json')
const middlewares = jsonServer.defaults()

// Set default middlewares (logger, static, cors and no-cache)
server.use(middlewares)

// Add custom routes before JSON Server router
server.get('/echo', (req, res) =&gt; {
  res.jsonp(req.query)
})

// To handle POST, PUT and PATCH you need to use a body-parser
// You can use the one used by JSON Server
server.use(jsonServer.bodyParser)
server.use((req, res, next) =&gt; {
  if (req.method === 'POST') {
    req.body.createdAt = Date.now()
  }
  // Continue to JSON Server router
  next()
})

// Use default router
server.use(router)
server.listen(3000, () =&gt; {
  console.log('JSON Server is running')
})</code></pre><p>å¯¹ä¸Šé¢çš„å‡ ç‚¹è¿›è¡Œè¯´æ˜<br>res.jsonp res ==&gt; respose</p>
<pre><code>res.status(500).jsonp({
      error: "error message here"
      "id": 21,
      "title": "é•¿æ±Ÿ",
      "date": "2016-09-12",
      "likes": 509,
      "views": 9900
  })</code></pre><p>è¯·æ±‚çš„è¿”å›Jsonæ ¼å¼</p>
<pre><code>{
  "error": "error message here"
  "id": 21,
  "title": "é•¿æ±Ÿ",
  "date": "2016-09-12",
  "likes": 509,
  "views": 9900
}</code></pre><p>req.body.createdAt = Date.now() å¾€è¿”å›çš„jonsä¸­æ’å…¥createAtå­—æ®µï¼Œå¦‚æœ¬åº”è¿”å›</p>
<pre><code>{
      "id": 21,
      "title": "é•¿æ±Ÿ",
      "date": "2016-09-12",
      "likes": 509,
      "views": 9900
 }</code></pre><p>åŠ å…¥req.body.createdAt = Date.now()åè¿”å›</p>
<pre><code>{
    "id": 21,
    "title": "é•¿æ±Ÿ",
    "date": "2016-09-12",
    "likes": 509,
    "views": 9900,
    "createdAt": 1536476508883,
}</code></pre><h4 id="js-å¢åŠ router-json-é…ç½®"><a href="#js-å¢åŠ router-json-é…ç½®" class="headerlink" title="js å¢åŠ router.json é…ç½®"></a>js å¢åŠ router.json é…ç½®</h4><pre><code>// Add this before server.use(router)
server.use(jsonServer.rewriter({
  '/api/*': '/$1',
  '/blog/:resource/:id/show': '/:resource/:id'
}))</code></pre><h4 id="è®¿é—®æ§åˆ¶"><a href="#è®¿é—®æ§åˆ¶" class="headerlink" title="è®¿é—®æ§åˆ¶"></a>è®¿é—®æ§åˆ¶</h4><pre><code>const jsonServer = require('json-server')
const server = jsonServer.create()
const router = jsonServer.router('db.json')
const middlewares = jsonServer.defaults()

server.use(middlewares)
server.use((req, res, next) =&gt; {
 if (isAuthorized(req)) { // add your authorization logic here
   next() // continue to JSON Server router
 } else {
   res.sendStatus(401)
 }
})
server.use(router)
server.listen(3000, () =&gt; {
  console.log('JSON Server is running')
})</code></pre><h4 id="è‡ªå®šä¹‰è¾“å‡º"><a href="#è‡ªå®šä¹‰è¾“å‡º" class="headerlink" title="è‡ªå®šä¹‰è¾“å‡º"></a>è‡ªå®šä¹‰è¾“å‡º</h4><pre><code>// In this example, returned resources will be wrapped in a body property
router.render = (req, res) =&gt; {
  res.jsonp({
    body: res.locals.data
  })
  //res.jsonp =&gt; åŒ…è£¹æ•°æ®æˆjsonæ ¼å¼
  //res.send  =&gt; ç›´æ¥å‘é€å­—ç¬¦ä¸²
}</code></pre><p>è®¿é—®æœ¬åº”è¿”å›</p>
<pre><code>{
      "id": 21,
      "title": "é•¿æ±Ÿ",
      "date": "2016-09-12"
 }</code></pre><p>å¢åŠ  body: res.locals.dataåè¿”å›</p>
<pre><code>{
    body: {
        id: 1,
        title: "æ›¹å¿å®£å¸ƒæ˜¨æ—¥æ™šé—´ç™»æ—¥æˆåŠŸ",
        date: "2016-08-12",
        likes: 55,
        views: 100086
    }
}</code></pre><h3 id="ç»ˆæDemo"><a href="#ç»ˆæDemo" class="headerlink" title="ç»ˆæDemo"></a>ç»ˆæDemo</h3><p>è®¿é—®<code>http://localhost:3000/echo</code> è¿”å›æ¨¡æ‹Ÿæ•°æ®</p>
<pre><code>const jsonServer = require('json-server')
const server = jsonServer.create()
const router = jsonServer.router('db.json')
const middlewares = jsonServer.defaults()
let Mock  = require('mockjs');

server.use(middlewares)

var template = {
    'titles': 'Syntax Demo',

    'string1|1-10': 'â˜…',
    'string2|3': 'value',

    'number1|+1': 100,
    'number2|1-100': 100,
    'number3|1-100.1-10': 1,
    'number4|123.1-10': 1,
    'number5|123.3': 1,
    'number6|123.10': 1.123,

    'boolean1|1': true,
    'boolean2|1-2': true,

    'object1|2-4': {
        '110000': 'åŒ—äº¬å¸‚',
        '120000': 'å¤©æ´¥å¸‚',
        '130000': 'æ²³åŒ—çœ',
        '140000': 'å±±è¥¿çœ'
    },
    'object2|2': {
        '310000': 'ä¸Šæµ·å¸‚',
        '320000': 'æ±Ÿè‹çœ',
        '330000': 'æµ™æ±Ÿçœ',
        '340000': 'å®‰å¾½çœ'
    },

    'array1|1': ['AMD', 'CMD', 'KMD', 'UMD'],
    'array2|1-10': ['Mock.js'],
    'array3|3': ['Mock.js'],

    'function': function() {
        return this.titles
    }
}

server.get('/echo', (req, res) =&gt; {
    var data = Mock.mock(template)
    var json = JSON.stringify(data, null, 4)
    console.log('-----------------\n' + json)
    res.send(json)
})

// To handle POST, PUT and PATCH you need to use a body-parser
// You can use the one used by JSON Server
server.use(jsonServer.bodyParser)
server.use((req, res, next) =&gt; {
  console.log('--------------'+req.method)
  if (req.method === 'POST') {
    req.body.createdAt = Date.now()
    req.body.test = 1
  }
  // Continue to JSON Server router
  next()
})

// è¿”å›é”™è¯¯ç ï¼Œå’ŒæŒ‡å®šjsonæ ¼å¼çš„æ•°æ®
//router.render = (req, res) =&gt; {
//   res.status(500).jsonp({
//        error: "error message here"
//        "id": 21,
//      "title": "é•¿æ±Ÿ",
//      "date": "2016-09-12",
//      "likes": 509,
//      "views": 9900
//  })
//}

// Add this before server.use(router)
server.use(jsonServer.rewriter({
  '/api/*': '/$1',
  '/blog/:resource/:id/show': '/:resource/:id'
}))

router.render = (req, res) =&gt; {
  res.jsonp({
    body: res.locals.data
  })
}

server.use(router)

server.listen(3000, () =&gt; {
  console.log('JSON Server is running')
})</code></pre><h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h1><h2 id="json-server-å‘½ä»¤å‚æ•°"><a href="#json-server-å‘½ä»¤å‚æ•°" class="headerlink" title="json-server å‘½ä»¤å‚æ•°"></a>json-server å‘½ä»¤å‚æ•°</h2><pre><code> json-server
index.js [options] &lt;source&gt;

é€‰é¡¹ï¼š
  --config, -c               Path to config file    [é»˜è®¤å€¼: "json-server.json"]
  --port, -p                 Set port                             [é»˜è®¤å€¼: 3000]
  --host, -H                 Set host                      [é»˜è®¤å€¼: "localhost"]
  --watch, -w                Watch file(s)                                [å¸ƒå°”]
  --routes, -r               Path to routes file
  --middlewares, -m          Paths to middleware files                    [æ•°ç»„]
  --static, -s               Set static files directory
  --read-only, --ro          Allow only GET requests                      [å¸ƒå°”]
  --no-cors, --nc            Disable Cross-Origin Resource Sharing        [å¸ƒå°”]
  --no-gzip, --ng            Disable GZIP Content-Encoding                [å¸ƒå°”]
  --snapshots, -S            Set snapshots directory               [é»˜è®¤å€¼: "."]
  --delay, -d                Add delay to responses (ms)
  --id, -i                   Set database id property (e.g. _id)  [é»˜è®¤å€¼: "id"]
  --foreignKeySuffix, --fks  Set foreign key suffix (e.g. _id as in post_id)
                                                                  [é»˜è®¤å€¼: "Id"]
  --quiet, -q                Suppress log messages from output            [å¸ƒå°”]
  --help, -h                 æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯                                 [å¸ƒå°”]
  --version, -v              æ˜¾ç¤ºç‰ˆæœ¬å·                                   [å¸ƒå°”]

ç¤ºä¾‹ï¼š
  index.js db.json
  index.js file.js
  index.js http://example.com/db.json

https://github.com/typicode/json-server

Missing &lt;source&gt; argument</code></pre><h2 id="URL-åŠ å¯†è§£å¯†å·¥å…·"><a href="#URL-åŠ å¯†è§£å¯†å·¥å…·" class="headerlink" title="URL åŠ å¯†è§£å¯†å·¥å…·"></a><a href="http://tool.chinaz.com/tools/urlencode.aspx" target="_blank" rel="noopener">URL åŠ å¯†è§£å¯†å·¥å…·</a></h2><h2 id="Json-server-Githubç½‘å€"><a href="#Json-server-Githubç½‘å€" class="headerlink" title="Json-server Githubç½‘å€"></a><a href="https://github.com/typicode/json-server" target="_blank" rel="noopener">Json-server Githubç½‘å€</a></h2><blockquote>
<p>ä¸Šé¢æœ‰æ›´è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜</p>
</blockquote>
<h2 id="Mockjs-WiKi"><a href="#Mockjs-WiKi" class="headerlink" title="Mockjs WiKi"></a><a href="https://github.com/nuysoft/Mock/wiki" target="_blank" rel="noopener">Mockjs WiKi</a></h2><h2 id="JSONViewï¼šjsonç¾åŒ–-Chrome-æ’ä»¶"><a href="#JSONViewï¼šjsonç¾åŒ–-Chrome-æ’ä»¶" class="headerlink" title="JSONViewï¼šjsonç¾åŒ– Chrome æ’ä»¶ "></a><a href="http://chromecj.com/web-development/2017-11/850.html" target="_blank" rel="noopener">JSONViewï¼šjsonç¾åŒ– Chrome æ’ä»¶ </a></h2><p>ä½¿ç”¨Chrome çš„åŒå­¦æ¨èä½¿ç”¨</p>
<p><img src="http://ohlb58e07.bkt.clouddn.com/2018-09-09_17-19-03_json_view.gif" alt=""></p>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul>
<li><a href="https://segmentfault.com/a/1190000005793257" target="_blank" rel="noopener">ç”¨JSON-serveræ¨¡æ‹ŸREST API(ä¸€) å®‰è£…è¿è¡Œ</a></li>
<li><a href="https://segmentfault.com/a/1190000005793320" target="_blank" rel="noopener">ç”¨JSON-serveræ¨¡æ‹ŸREST API(äºŒ) åŠ¨æ€æ•°æ®</a></li>
<li><a href="https://segmentfault.com/a/1190000005793520" target="_blank" rel="noopener">ç”¨JSON-serveræ¨¡æ‹ŸREST API(ä¸‰) è¿›é˜¶ä½¿ç”¨</a></li>
<li><a href="https://segmentfault.com/a/1190000010449453?_ea=2302005" target="_blank" rel="noopener">json-serverçš„å…³ç³»å›¾è°±è¯¦è§£ï¼ˆRelationshipsï¼‰</a></li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
        <tag>ç½‘é¡µ</tag>
      </tags>
  </entry>
  <entry>
    <title>RxJava å¤ä¹ ç¬”è®°</title>
    <url>/2019/09/04/2019-9-4-RxJava-review-note/</url>
    <content><![CDATA[<h2 id="æ“ä½œç¬¦"><a href="#æ“ä½œç¬¦" class="headerlink" title="æ“ä½œç¬¦"></a>æ“ä½œç¬¦</h2><h3 id="Create"><a href="#Create" class="headerlink" title="Create"></a><a href="http://mushuichuan.com/2015/12/11/rxjava-operator-1/" target="_blank" rel="noopener">Create</a></h3><pre class="line-numbers language-TXT"><code class="language-TXT">create
range(10,5) -> 10,11,12,13,14(5ä¸ªæ•°)
deferï¼ˆè®¢é˜…é‡æ–°åˆ›å»ºï¼‰/just
from
intervalï¼ˆ1ï¼ŒTimeUnit.SECONDESï¼‰
Observable.just(1).repeat(5);#é‡å¤å‘é€5æ•°
Observable.timer(1, TimeUnit.SECONDS) # 1såå‘é€<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Transforming-Observables"><a href="#Transforming-Observables" class="headerlink" title="Transforming Observables"></a><a href="http://mushuichuan.com/2015/12/11/rxjava-operator-2/" target="_blank" rel="noopener">Transforming Observables</a></h3><p>buffer â€“&gt; Window è¿”å›çš„æ˜¯Observe</p>
<pre class="line-numbers language-txt"><code class="language-txt">buffer(3) #ç¼“å­˜3ä¸ªç»Ÿä¸€å‘å‡º
buffer(2,3)#æ¥æ”¶1,2,3,4,5,6->å‘é€1,2    4,5(ç¼“å­˜2ä¸ªï¼Œskipç¬¬ä¸‰ä¸ª)
buffer(3,TimeUnit.SECONDS) #ç¼“å­˜3s,ç»Ÿä¸€å‘å‡º<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>FlatMap â€“&gt; flatMapIterable é¡ºåºè¾“å‡º</p>
<pre class="line-numbers language-java"><code class="language-java">Observable<span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>integer <span class="token operator">-</span><span class="token operator">></span> Observable<span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span> integer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
# <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>GroupBy</p>
<pre><code>Observable
.just(1, 2, 3, 4, 5, 6, 7, 8, 9)
.groupBy(integer -&gt; integer % 2, integer -&gt; "groupByKeyValue:" + integer);
# keyValue åˆ†åˆ«è¾“å‡ºï¼š2,4,6,8
Observable
.just(1, 2, 3, 4, 5, 6, 7, 8, 9)
.groupBy(integer -&gt; integer % 2)
.subscribe(groupedObservable -&gt; 
    groupedObservable
            .count()
            .subscribe(integer -&gt;
                XLog.e("key" + groupedObservable.getKey() + " contains:" + integer + " numbers")));
#è¾“å‡º
key 0 contains:4 numbers 
key 1 contains:5 numbers</code></pre><p>Mapã€Cast</p>
<ul>
<li><a href="https://blog.csdn.net/axuanqq/article/details/50738464" target="_blank" rel="noopener">switch()å’ŒflatMap()</a> switch ä¼šä¸¢å¼ƒæ—§æ•°æ®</li>
</ul>
<p>Scan ä¸Šä¸€æ¬¡çš„ç»“æœç»™ä¸‹ä¸€æ¬¡ä½¿ç”¨ï¼Œç±»ä¼¼äºé€’å½’ </p>
<h3 id="Filtering"><a href="#Filtering" class="headerlink" title="Filtering"></a><a href="http://mushuichuan.com/2015/12/11/rxjava-operator-3/" target="_blank" rel="noopener">Filtering</a></h3><ul>
<li>debounce (500,Unit) ä¸¤ä¸ª500 å†…æœ‰å¤šç»™å‘å°„å–æœ€åä¸€ä¸ª<br>throttleWithTimeOut é™æµ,debounceå¯ä»¥æ ¹æ®å‡½æ•°é™æµï¼ˆè¢«é™æµçš„æ•°æ®ä¼šè¢«ä¸¢å¼ƒï¼‰</li>
<li>Distinctå’ŒDistinctUtilChanged</li>
<li>ElementAtã€Filter</li>
<li>Firstã€Last</li>
<li>Skip(2) è·³è¿‡å‰2ä¸ªã€Take(2) å–å‰2ä¸ª</li>
<li>throttleFirst(1000, TimeUnit.MILLISECONDS)  1ç§’ä¸­æœ€å…ˆåˆ°è¾¾çš„æ•°æ®</li>
<li>sample(1000, TimeUnit.MILLISECONDS)  1ç§’ä¸­æœ€ååˆ°è¾¾çš„æ•°æ®<h3 id="Combining"><a href="#Combining" class="headerlink" title="Combining"></a><a href="http://mushuichuan.com/2015/12/11/rxjava-operator-4/" target="_blank" rel="noopener">Combining</a></h3></li>
<li>CombineLatest 2~9ä¸ªObservableæ¯ä¸ªéƒ½å‘å°„ä¸€ä¸ªç„¶åç»„è£… ã€ç›´åˆ°æœ€åä¸€ä¸ªå‘å‡ºæ‰ç»„è£…ã€‘<pre><code>Observable.combineLatest(createObserver(1), createObserver(2), (num1, num2) -&gt; {
      log("left:" + num1 + " right:" + num2);
      return num1 + num2;
  }</code></pre></li>
<li>Join/groupJoin Observableï¼ˆæ—¶é—´çª—å†…æœ‰æ•ˆï¼‰<pre><code>// åˆ†åˆ«åŒ¹é…
private Observable&lt;String&gt; createObserver2() {
  return Observable.create(new ObservableOnSubscribe&lt;String&gt;() {
    @Override public void subscribe(ObservableEmitter&lt;String&gt; emitter) throws Exception {
      for (int i = 1; i &lt; 5; i++) {
        emitter.onNext("Right-" + i);
        try {
          Thread.sleep(1000);
        } catch (InterruptedException e) {
          e.printStackTrace();
        }
      }
    }
  });
}
Observable.just("Left-","L2").join(createObserver2(),
      integer -&gt; Observable.timer(3000, TimeUnit.MILLISECONDS),//æºObservable
      integer -&gt; Observable.timer(1000, TimeUnit.MILLISECONDS),//åŠ å…¥Ob
      (i, j) -&gt; i + j
  ).subscribe(new Consumer&lt;String&gt;() {
    @Override public void accept(String s) throws Exception {
      Log.e("TAG","join:" + s + "\n");
    }
  });</code></pre></li>
<li>Merege å¤šä¸ªå‘å°„æ•´åˆï¼Œæœ‰äº¤é”™ï¼ˆæ²¡äº¤é”™cconcatï¼‰/ mergeDelayError åˆå¹¶å®Œæˆæ‰å‘é€é”™è¯¯</li>
<li>StartWithã€Switchï¼ˆå¤šä¸ºä¸€ä¸ªObservableï¼Œåé¢è¦†ç›–å‰é¢ï¼‰ <pre class="line-numbers language-java"><code class="language-java">Observable<span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startWith</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//è¾“å‡ºï¼š-1,0,1,2,3 å¯ä»¥æ’å…¥list Observable</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li>Zipï¼ŒzipWith æŒ‰é¡ºåºï¼Œæ¯ä¸ªæ•°æ®åªèƒ½ç»„åˆä¸€æ¬¡ï¼Œå‘å°„æ¬¡æ•°ç”±æœ€å°‘çš„å†³å®š<pre><code>//åªå‘å°„äº†2æ¬¡
createObserver(2).zipWith(createObserver(3), (s, s2) -&gt; s + "-" + s2);
//åªå‘å°„2æ¬¡
Observable
  .zip(createObserver(2), createObserver(3), createObserver(4), (s, s2, s3) -&gt; s + "-" + s2 + "-" + s3);</code></pre><h3 id="Error-Handling"><a href="#Error-Handling" class="headerlink" title="Error Handling"></a><a href="http://mushuichuan.com/2015/12/11/rxjava-operator-5/" target="_blank" rel="noopener">Error Handling</a></h3><h4 id="ä¸€ã€Catch"><a href="#ä¸€ã€Catch" class="headerlink" title="ä¸€ã€Catch"></a>ä¸€ã€Catch</h4></li>
<li>OnErrorReturn è¿”å›é¢„å…ˆå€¼</li>
<li>OnErrorResume è¿”å›å¦ä¸€ä¸ªObservable</li>
<li>OnExceptionResumeNext å¦‚æœæ˜¯Exceptionï¼ˆåŒResumeï¼‰ï¼Œå¦ä¸“é€’ç»™Subscriber<h4 id="Retry-ï¼ŒRetryWhen"><a href="#Retry-ï¼ŒRetryWhen" class="headerlink" title="Retry ï¼ŒRetryWhen"></a>Retry ï¼ŒRetryWhen</h4>å°è¯•äº†å‡ æ¬¡è¿˜æ˜¯äº§ç”Ÿé”™è¯¯åï¼Œretryä¼šå°†é”™è¯¯åˆ†å‘ç»™è§‚å¯Ÿè€…ï¼Œè€ŒretryWhenä¼šæ­£å¸¸ç»“æŸï¼Œå¹¶ä¸ä¼šè®²é”™è¯¯åˆ†å‘å‡ºå»<pre class="line-numbers language-gradle"><code class="language-gradle">createObserver().retry(2)
createObserver().retryWhen(observable -> observable.zipWith(Observable.just(1, 2, 3),
          (throwable, integer) -> throwable.getMessage() + integer)
          .flatMap(throwable -> {
              log(throwable);
              return Observable.timer(1, TimeUnit.SECONDS);
          }))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Utility"><a href="#Utility" class="headerlink" title="Utility"></a><a href="http://mushuichuan.com/2015/12/11/rxjava-operator-6/" target="_blank" rel="noopener">Utility</a></h3></li>
<li>toList : æŠŠæ•°æ®è½¬æ¢æˆ List é›†åˆ<pre><code>Observable
        .just(1, 2, 3, 4)
        .toList()
        .subscribe(new Consumer&lt;List&lt;Integer&gt;&gt;() {
             @Override
             public void accept(List&lt;Integer&gt; integers) throws Exception {
               Log.e("zhao", "accept: " + integers);
         }
   });</code></pre></li>
<li>Delay / DelaySubscription</li>
<li>Doxxx<blockquote>
<p>Observableçš„ç”Ÿå‘½å‘¨æœŸçš„å„ä¸ªé˜¶æ®µåŠ ä¸Šä¸€ç³»åˆ—çš„å›è°ƒç›‘å¬ï¼Œå½“Observableæ‰§è¡Œåˆ°è¿™ä¸ªé˜¶æ®µçš„æ—¶å€™ï¼Œè¿™äº›å›è°ƒå°±ä¼šè¢«è§¦å‘</p>
</blockquote>
</li>
<li>Meterialize å°†OnNext/OnError/OnCompleteéƒ½è½¬åŒ–ä¸ºä¸€ä¸ªNotification</li>
<li>TimeInterval æ‹¦æˆªå‘å°„/å–ä¸¤æ¬¡é—´éš”æ—¶é—´ &lt;==&gt; TimeStamp ä¸ºæ¯æ¬¡å‘å°„æ‰“æ—¶é—´æˆ³  <blockquote>
<p> stringTimed.value() è·å¾—onNext()çš„å€¼</p>
</blockquote>
</li>
<li>Timeout æ²¡æ¬¡é‡ç½®ï¼Œè¶…æ—¶æŠ›å‡ºè¶…æ—¶å¼‚å¸¸</li>
<li>using é™æ—¶é”€æ¯èµ„æº<h3 id="Conditional-and-Boolean"><a href="#Conditional-and-Boolean" class="headerlink" title="Conditional and Boolean"></a><a href="http://mushuichuan.com/2015/12/14/rxjava-operator-7/" target="_blank" rel="noopener">Conditional and Boolean</a></h3></li>
<li>All(å…¨true å¦ false  )/Amb (è‡³å¤š9ä¸ªObservableï¼Œå…ˆå‘å…ˆç”¨å…¶ä»–ä¸¢å¼ƒ)</li>
<li>Containsã€IsEmpty</li>
<li>DefaultIfEmpty(10)  <pre><code>public void call(Subscriber&lt;? super Integer&gt; subscriber) {
          //æ²¡æœ‰è°ƒç”¨onNext()ï¼Œè¿”å› DefaultIfEmptyï¼š10
          subscriber.onCompleted();
}</code></pre></li>
<li>SequenceEqual Obdå¯¹æ¯” æ•°æ®ï¼Œåºåˆ—ï¼Œç»“æŸçŠ¶æ€ç›¸åŒ</li>
<li>TakeUntilã€TakeWhileã€TakeUntilã€TakeWhile<pre><code>Observable
.interval(1, TimeUnit.SECONDS)
.skipUntil(Observable.timer(3, TimeUnit.SECONDS)) //å¯ä»¥åŠ æ—¶é—´</code></pre><h3 id="Aggregate"><a href="#Aggregate" class="headerlink" title="Aggregate"></a><a href="http://mushuichuan.com/2015/12/14/rxjava-operator-8/" target="_blank" rel="noopener">Aggregate</a></h3></li>
<li>Concat vs merge vs startWith </li>
<li>Count Observable æ²¡æœ‰å‘é€å®Œä¸è§¦å‘</li>
<li>Reduceï¼ˆç±»ä¼¼Scanï¼Œå•åªè¾“å‡ºæœ€åç»“æœï¼‰ã€Collect(å®¹å™¨ï¼Œ)<pre><code>Observable.from(list)
.collect(() -&gt; new ArrayList&lt;&gt;(), (integers, integer) -&gt; integers.add(integer));
}</code></pre><h3 id="èƒŒå‹"><a href="#èƒŒå‹" class="headerlink" title="èƒŒå‹"></a>èƒŒå‹</h3><blockquote>
<p>é”™è¯¯ï¼šMissingBackpressureException, ç›´æ¥ç”¨Observableé»˜è®¤å¤„ç†ä¸äº†çš„å­˜åœ¨å†…å­˜ä¸­ï¼Œå®¹æ˜“å¯¼è‡´å†…å­˜æº¢å‡º</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java">Flowable<span class="token punctuation">.</span><span class="token function">interval</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//onBackpressureDrop ä¸€å®šè¦æ”¾åœ¨ interval åé¢å¦åˆ™ä¸ä¼šç”Ÿæ•ˆ</span>
      <span class="token punctuation">.</span><span class="token function">onBackpressureDrop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
      <span class="token punctuation">.</span><span class="token function">subscribeOn</span><span class="token punctuation">(</span>Schedulers<span class="token punctuation">.</span><span class="token function">io</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">observeOn</span><span class="token punctuation">(</span>Schedulers<span class="token punctuation">.</span><span class="token function">newThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Consumer</span><span class="token operator">&lt;</span>Long<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
             <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span>Long aLong<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>
                 Thread<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                 Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">"zhao"</span><span class="token punctuation">,</span> <span class="token string">"onNext: "</span> <span class="token operator">+</span> aLong<span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token punctuation">}</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>onBackpressureDrop</li>
<li>onBackpressureLatest</li>
<li>onBackpressureBuffer( 1000 ) //è®¾ç½®ç¼“å†²é˜Ÿåˆ—å¤§å°ä¸º 1000</li>
</ul>
<h2 id="å¸¸ç”¨ç±»è¯¦è§£"><a href="#å¸¸ç”¨ç±»è¯¦è§£" class="headerlink" title="å¸¸ç”¨ç±»è¯¦è§£"></a>å¸¸ç”¨ç±»è¯¦è§£</h2><h3 id="CompositeDisposable"><a href="#CompositeDisposable" class="headerlink" title="CompositeDisposable"></a>CompositeDisposable</h3><p>CompositeDisposable Disposable çš„ç®¡ç†ç±»ï¼Œç±»ä¼¼äºlist</p>
<pre class="line-numbers language-java"><code class="language-java">CompositeDisposable<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>mDisposable <span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// å¾—åˆ°</span>
CompositeDisposable<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//é€€å‡ºæ—¶</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="Subject"><a href="#Subject" class="headerlink" title="Subject"></a>Subject</h3><ul>
<li>PublishSubject é€šçŸ¥æ¯ä¸ªè§‚å¯Ÿè€…<pre class="line-numbers language-java"><code class="language-java">PublishSubject<span class="token operator">&lt;</span>String<span class="token operator">></span> publishSubject <span class="token operator">=</span> PublishSubject<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
publishSubject <span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//è§¦å‘</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li>BehaviorSubject æœ€åä¸€æ¬¡onNext()ç¼“å­˜ç»™ä¸‹ä¸€ä¸ªè§‚å¯Ÿè€…<pre><code>BehaviorSubject&lt;Integer&gt; behaviorSubject = BehaviorSubject.create();</code></pre></li>
<li>AsyncSubject  onComplete()å‰å…¶ä»–æ“ä½œéƒ½ä¼šè¢«ç¼“å­˜</li>
</ul>
<h3 id="subscribe"><a href="#subscribe" class="headerlink" title="subscribe"></a>subscribe</h3><h4 id="Single"><a href="#Single" class="headerlink" title="Single"></a>Single</h4><blockquote>
<p>onSubscribe (onSuccess | onError)?</p>
</blockquote>
<p>  ä¸€ä¸ªåªåŒ…å«ä¸€ä¸ªitemæˆ–errorçš„æµ</p>
<h4 id="Completable"><a href="#Completable" class="headerlink" title="Completable"></a>Completable</h4><blockquote>
<p>onSubscribe (onComplete | onError)?</p>
</blockquote>
<p>åªåŒ…å«completionæˆ–errorä¿¡å·çš„æµ</p>
<h4 id="io-reactivex-Maybe"><a href="#io-reactivex-Maybe" class="headerlink" title="io.reactivex.Maybe"></a>io.reactivex.Maybe</h4><p>åªåŒ…å«ä¸€ä¸ªmaybe valueæˆ–è€…errorçš„æµ</p>
<blockquote>
<p>onSubscribe (onSuccess | onError | onComplete)?</p>
</blockquote>
<ul>
<li><a href="https://www.jianshu.com/p/9b1304435564" target="_blank" rel="noopener">Flowable request</a></li>
</ul>
<p>0..Nä¸ªæµï¼Œæ”¯æŒReactive-Streamså’ŒèƒŒå‹(backpressure)</p>
<pre><code>Flowable&lt;Integer&gt; upstream = Flowable.create(new FlowableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(FlowableEmitter&lt;Integer&gt; emitter) throws Exception {}
        }, BackpressureStrategy.ERROR); //å¢åŠ äº†ä¸€ä¸ªå‚æ•°

      Subscriber&lt;Integer&gt; downstream = new Subscriber&lt;Integer&gt;() {
            @Override
            public void onSubscribe(Subscription s) {
                Log.d(TAG, "onSubscribe");
                s.request(Long.MAX_VALUE);  //æ³¨æ„è¿™å¥ä»£ç 
            }  
            .......
        };
upstream.subscribe(downstream);</code></pre><h3 id="subscribers"><a href="#subscribers" class="headerlink" title="subscribers"></a>subscribers</h3><p> DefaultObserver </p>
<ul>
<li><p>æ”¯æŒå¼‚æ­¥å–æ¶ˆcancel //onNextä¸­å–æ¶ˆè®¢é˜…</p>
</li>
<li><p>onStart()</p>
</li>
<li><p>thread-safe<br>DisposableObserver</p>
</li>
<li><p>implementing Disposable</p>
</li>
<li><p>thread-safe<br>ResourceObserver</p>
</li>
<li><p>æ”¯æŒå¤šä¸ªDisposableç›‘æ§</p>
<h3 id="çº¿ç¨‹çš„ç±»å‹"><a href="#çº¿ç¨‹çš„ç±»å‹" class="headerlink" title="çº¿ç¨‹çš„ç±»å‹"></a>çº¿ç¨‹çš„ç±»å‹</h3><p>Schedulers.</p>
</li>
<li><p>ä¸€çœ¼çœ‹å‡ºï¼šcomputation()/from(Executor executor)/io(â€¯)</p>
</li>
<li><p>trampoline(â€¯)æ’é˜Ÿç±»å‹/single()å…¬ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼Œå¸¦ç ”ç©¶</p>
</li>
</ul>
<p>AndroidSchedulers<br>AndroidSchedulers.from(Looper looper)</p>
<h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>æ¡ˆä¾‹ä¸€ï¼š</p>
<pre class="line-numbers language-java"><code class="language-java">Maybe<span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>v <span class="token operator">-</span><span class="token operator">></span> v <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>v <span class="token operator">-</span><span class="token operator">></span> v <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">defaultIfEmpty</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">assertResult</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul>
<li><a href="https://www.jianshu.com/p/464fa025229e" target="_blank" rel="noopener">ç»™åˆå­¦è€…çš„RxJava2.0æ•™ç¨‹(ä¸€)</a></li>
<li><a href="https://www.jianshu.com/p/c935d0860186" target="_blank" rel="noopener">RxJava2 å®æˆ˜çŸ¥è¯†æ¢³ç†</a></li>
<li><a href="https://blog.csdn.net/shangmingchao/article/details/72247730" target="_blank" rel="noopener">RxJava2è¯¦è§£ï¼ˆä¸€ï¼‰â€“åŸºç¡€</a></li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>äº¿çº§ç”µå•†ç¼“å­˜é¡¹ç›®å­¦ä¹ </title>
    <url>/2019/08/12/2019-8-12-ecommerce-cache-learning/</url>
    <content><![CDATA[<h1 id="ç¬¬ä¸€ç« -ç¯å¢ƒæ­å»º"><a href="#ç¬¬ä¸€ç« -ç¯å¢ƒæ­å»º" class="headerlink" title="ç¬¬ä¸€ç«  ç¯å¢ƒæ­å»º"></a>ç¬¬ä¸€ç«  ç¯å¢ƒæ­å»º</h1><h2 id="1-1-CentOS"><a href="#1-1-CentOS" class="headerlink" title="1.1 CentOS"></a>1.1 CentOS</h2><h3 id="1-1-1-ç½‘ç»œè®¾ç½®"><a href="#1-1-1-ç½‘ç»œè®¾ç½®" class="headerlink" title="1.1.1 ç½‘ç»œè®¾ç½®"></a>1.1.1 ç½‘ç»œè®¾ç½®</h3><p>ç¬¬ä¸€æ­¥ï¼š IPè®¾ç½®</p>
<ol>
<li>é…ç½®è™šæ‹Ÿæœºç½‘ç»œç¯å¢ƒä¸ºæ¡¥æ¥</li>
<li>ä¿®æ”¹Iè™šæ‹Ÿæœºç½‘ç»œè®¾ç½®</li>
</ol>
<p><code>vi /etc/sysconfig/network-scripts/ifcfg-eth0</code> ä¿®æ”¹ä¸º</p>
<pre class="line-numbers language-shell"><code class="language-shell">DEVICE=eth0
TYPE=Ethernet
ONBOOT=yes
BOOTPROTO=dhcp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>é‡å¯ç½‘ç»œåˆ†é…IP</p>
<pre><code>service network restart</code></pre><p>å›ºå®šIPåœ°å€</p>
<pre class="line-numbers language-shell"><code class="language-shell">BOOTPROTO=static
IPADDR=192.168.1.9
GATWAY=192.168.1.1
NETMASK= 255.255.255.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>åˆ°æ­¤ï¼Œç³»ç»Ÿå¯ä»¥è¿æ¥å±€åŸŸå’Œäº’è”ç½‘</p>
<p>ç¬¬äºŒæ­¥ï¼š hostsè®¾ç½®</p>
<p>ä¿®æ”¹<code>hosts</code>  vi /etc/hosts</p>
<pre class="line-numbers language-shell"><code class="language-shell">192.168.1.9  ec-01
192.168.1.12 ec-02
192.168.1.11 ec-03
192.168.1.13 ec-04<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šå…³é—­é˜²ç«å¢™</p>
<blockquote>
<p>å¼€å¯é˜²ç«å¢™å¯¼è‡´ï¼Œå¤§æ•°æ®å¼€å‘ä¸­æœºå™¨æœ¬åœ°æ— æ³•äº’è”</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">service iptables stop 
service ip6tables stop 
chkconfig iptables off 
chkconfig ip6tables off <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>vi /etc/selinux/config å…³é—­selinux</p>
<pre><code>SELINUX=disable</code></pre><p>ç¬¬å››æ­¥ï¼šå…³é—­windowé˜²ç«å¢™å…³é—­</p>
<h3 id="1-1-3-CentOS-7-è®¾ç½®å¼€å¯å¯åŠ¨"><a href="#1-1-3-CentOS-7-è®¾ç½®å¼€å¯å¯åŠ¨" class="headerlink" title="1.1.3 CentOS 7 è®¾ç½®å¼€å¯å¯åŠ¨"></a>1.1.3 CentOS 7 è®¾ç½®å¼€å¯å¯åŠ¨</h3><p>ç¬¬ä¸€æ­¥ï¼šè„šæœ¬å‡†å¤‡</p>
<pre class="line-numbers language-shell"><code class="language-shell">mv /opt/script/inotify.sh /etc/rc.d/init.d
chmod +x /etc/rc.d/init.d/inotify.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šè„šæœ¬å¯åŠ¨é…ç½®ï¼Œè„šæœ¬é¡¶éƒ¨å¢åŠ å¦‚ä¸‹é…ç½®</p>
<pre class="line-numbers language-shell"><code class="language-shell">#!/bin/bash
#chkconfig: 345 88 14<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ è„šæœ¬åˆ°å¼€æœºè‡ªåŠ¨å¯åŠ¨é¡¹ç›®ä¸­</p>
<pre class="line-numbers language-shell"><code class="language-shell">cd /etc/rc.d/init.d
chkconfig --add inotify.sh
chkconfig inotify.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="1-1-4-CentOS-7-è®¾ç½®å¼€æœºè‡ªåŠ¨è”ç½‘"><a href="#1-1-4-CentOS-7-è®¾ç½®å¼€æœºè‡ªåŠ¨è”ç½‘" class="headerlink" title="1.1.4 CentOS 7 è®¾ç½®å¼€æœºè‡ªåŠ¨è”ç½‘"></a>1.1.4 CentOS 7 è®¾ç½®å¼€æœºè‡ªåŠ¨è”ç½‘</h3><p>ç¬¬ä¸€æ­¥ï¼šæ‰¾åˆ°è‡ªå·±çš„ç½‘å¡é…ç½®</p>
<pre class="line-numbers language-shell"><code class="language-shell">cd /etc/sysconfig/network-scripts/
ll <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ä¸€èˆ¬ä¸ºï¼Œ<code>ifcfg-eno16777736</code></p>
<p>ç¬¬äºŒæ­¥ï¼šè®¾ç½®`ONBOOT=yes</p>
<h3 id="1-1-2-é…ç½®yum"><a href="#1-1-2-é…ç½®yum" class="headerlink" title="1.1.2 é…ç½®yum"></a>1.1.2 é…ç½®yum</h3><pre class="line-numbers language-shell"><code class="language-shell">yum clean all
yum makechache
yum install wget<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="1-2-è½¯ä»¶å®‰è£…"><a href="#1-2-è½¯ä»¶å®‰è£…" class="headerlink" title="1.2 è½¯ä»¶å®‰è£…"></a>1.2 è½¯ä»¶å®‰è£…</h2><h3 id="1-2-1-JDK"><a href="#1-2-1-JDK" class="headerlink" title="1.2.1 JDK"></a>1.2.1 JDK</h3><p>tarå®‰è£…</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ tar -zxvf jdk-8u5-linux-x64.tar.gz

export JAVA_HOME=/usr/local/java/jdk1.8.0_45
export CLASSPATH=.:$CLASSPATH:$JAVA_HOME/lib:$JAVA_HOME/jre/lib
export PATH=:$JAVA_HOME/bin:$JAVA_HOME/jre/bin:$PATH
source /etc/profile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>rpm æ–¹å¼å®‰è£…</p>
<pre class="line-numbers language-shell"><code class="language-shell"> rpm -ivh jdk-7u65-linux-i586.rpm
 vi ~/.bashrc 
 export JAVA_HOME=/usr/java/latest
 export PATH=$PATH:$JAVA_HOME/bin
 source ~/.bashrc <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="1-2-2-Perl"><a href="#1-2-2-Perl" class="headerlink" title="1.2.2 Perl"></a>1.2.2 Perl</h3><p><a href="http://www.cpan.org/src/" target="_blank" rel="noopener">http://www.cpan.org/src/</a></p>
<pre class="line-numbers language-shell"><code class="language-shell">   yum install -y gcc
   wget https://www.cpan.org/src/5.0/perl-5.30.0.tar.gz
     tar -xzf perl-5.30.0.tar.gz
     cd perl-5.30.0
     ./Configure -des -Dprefix=/usr/local/perl
     make && make test && make install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="1-2-3-redis"><a href="#1-2-3-redis" class="headerlink" title="1.2.3 redis"></a>1.2.3 redis</h3><p>å®‰è£…</p>
<pre class="line-numbers language-shell"><code class="language-shell">wget http://downloads.sourceforge.net/tcl/tcl8.6.9-src.tar.gz \
&& tar -xzvf tcl8.6.9-src.tar.gz \
&& cd  ./tcl8.6.9/unix/ \
&& ./configure  \
&& make && make install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><a href="https://redis.io/download" target="_blank" rel="noopener">https://redis.io/download</a></p>
<pre class="line-numbers language-shell"><code class="language-shell">wget http://download.redis.io/releases/redis-5.0.5.tar.gz && \
&& tar xzf redis-5.0.5.tar.gz \
&& cd redis-5.0.5             \
&& make && make test && make install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>æµ‹è¯•</p>
<pre><code>$ src/redis-server
$ src/redis-cli
redis&gt; set foo bar
OK
redis&gt; get foo
"bar"</code></pre><h4 id="1-ç”Ÿäº§ç¯å¢ƒå¯åŠ¨æ–¹æ¡ˆ"><a href="#1-ç”Ÿäº§ç¯å¢ƒå¯åŠ¨æ–¹æ¡ˆ" class="headerlink" title="(1) ç”Ÿäº§ç¯å¢ƒå¯åŠ¨æ–¹æ¡ˆ"></a>(1) ç”Ÿäº§ç¯å¢ƒå¯åŠ¨æ–¹æ¡ˆ</h4><p>ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹redis.conf</p>
<pre class="line-numbers language-shell"><code class="language-shell">vi redis.conf
daemonize    yes                            #è®©redisä»¥daemonè¿›ç¨‹è¿è¡Œ
pidfile        /var/run/redis_6379.pid       #è®¾ç½®redisçš„pidæ–‡ä»¶ä½ç½®
port        6379                        #è®¾ç½®redisçš„ç›‘å¬ç«¯å£å·
dir         /var/redis/6379                 #è®¾ç½®æŒä¹…åŒ–æ–‡ä»¶çš„å­˜å‚¨ä½ç½®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šå¯åŠ¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">cp src/redis-server /usr/local/bin/ \
&& cp src/redis-cli /usr/local/bin/ \
&& cp utils/redis_init_script /etc/init.d/redis_6379 \
&& mkdir /etc/redis/ -p && mkdir /var/redis/6379 -p \
&& cp redis.conf /etc/redis/6379.conf \
&& cd /etc/init.d && chmod 777 redis_6379 && ./redis_6379 start<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯•redisæ˜¯å¦æ­£å¸¸å¯åŠ¨ vi /etc/init.d/redis_6379</p>
<pre class="line-numbers language-shell"><code class="language-shell">ps -ef | grep redis<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç¬¬å››æ­¥ï¼šè®©redisè·Ÿéšç³»ç»Ÿå¯åŠ¨è‡ªåŠ¨å¯åŠ¨</p>
<p><code>vi /etc/init.d/redis_6379</code>, æœ€ä¸Šé¢ï¼ŒåŠ å…¥ä¸¤è¡Œæ³¨é‡Šï¼Œä¿å­˜é€€å‡º</p>
<pre class="line-numbers language-shell"><code class="language-shell">
# chkconfig:   2345 90 10
# description:  Redis is a persistent key-value database<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>chkconf å‚æ•°æ¦‚è¿°</p>
<p>â€‹    å‚æ•°ä¸€<code>2345</code> -&gt; è¿™ä¸ªæœåŠ¡ä»¥ä»€ä¹ˆæ ·çš„è¿è¡Œçº§åˆ«å¼€å§‹</p>
<p>â€‹    ç¬¬äºŒä¸ªå‚æ•°<code>90</code> -&gt; å¯åŠ¨çš„ä¼˜å…ˆç­‰çº§</p>
<p>â€‹    ç¬¬ä¸‰ä¸ªå‚æ•°<code>10</code> -&gt; åœæ­¢ä¼˜å…ˆçº§</p>
</blockquote>
<p>é…ç½®ç”Ÿæ•ˆ</p>
<pre class="line-numbers language-shell"><code class="language-shell">chkconfig redis_6379 on
#æŸ¥çœ‹æ˜¯å¦ç”Ÿæ•ˆ
chkconfig -list <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h4 id="2-ä¸»ä»æ¶æ„æ­å»º"><a href="#2-ä¸»ä»æ¶æ„æ­å»º" class="headerlink" title="(2) ä¸»ä»æ¶æ„æ­å»º"></a>(2) ä¸»ä»æ¶æ„æ­å»º</h4><p>ç¬¬ä¸€æ­¥ï¼šslaveåŸºæœ¬é…ç½®å¥½é…ç½®ï¼Œ æ­¥éª¤åŒä¸Š <code>ï¼ˆ1ï¼‰ç”Ÿäº§ç¯å¢ƒå¯åŠ¨æ–¹æ¡ˆ</code></p>
<p>ç¬¬äºŒæ­¥ï¼šé…ç½®slaveè¿æ¥ä¸»æœºIPï¼Œæœç´¢<code>masterip</code> çœ‹æ˜¯å¦‚ä¸‹é‚£ç§ï¼Œé…ç½®master IPå’Œç«¯å£</p>
<pre class="line-numbers language-shell"><code class="language-shell">replicaof <masterip> <masterport>
slaveof <masterip> <masterport><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>redis.5.0.5 æ¡ˆä¾‹</p>
<pre class="line-numbers language-shell"><code class="language-shell">replicaof 192.168.1.1 6379<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šå¼ºåˆ¶è¯»å†™åˆ†ç¦» <code>replica-read-only yes</code> é»˜è®¤å¼€å¯</p>
<p>ç¬¬å››æ­¥ï¼šé›†ç¾¤å®‰å…¨è®¤è¯</p>
<p>master é…ç½®è®¿é—®å¯†ç </p>
<pre><code>requirepass foobared</code></pre><p>slave é…ç½®masterçš„è¿æ¥å£ä»¤</p>
<pre class="line-numbers language-shell"><code class="language-shell">masterauth <master-password><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç¬¬äº”æ­¥ï¼šç½‘ç»œè®¾ç½®</p>
<p>1ã€ master å¼€å¯ç½‘ç»œç›‘å¬</p>
<pre><code>bind 127.0.0.1 192.168.1.x</code></pre><p>æ³¨æ„ï¼šåªå¼€å¯<code>127.0.0.1</code>ï¼Œ slaveæ— æ³•è¿æ¥master</p>
<p>2.ã€å¼€å¯ç«¯å£è®¿é—®æƒé™</p>
<ul>
<li><p>CentOS 7,ä½¿ç”¨firewall</p>
<pre class="line-numbers language-shell"><code class="language-shell">#æ·»åŠ ç«¯å£æƒé™
firewall-cmd --add-port=6379/tcp
#åˆ é™¤ç«¯å£ï¼š
firewall-cmd --remove-port=6379/tcp
#æŸ¥çœ‹ç«¯å£
firewall-cmd --query-port=6379/tcp
#æ°¸ä¹…å¼€æ”¾ç«¯å£
firewall-cmd --permanent --add-port=6379/tcp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>CentOS 7 ä»¥ä¸‹</p>
<pre class="line-numbers language-shell"><code class="language-shell">iptables -A INPUT -p tcp --dport  6379 -j ACCEPT<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ul>
<p>Noticeï¼šmaster and slave must open the 6379 port permission </p>
<h4 id="3-å“¨å…µé›†ç¾¤é…ç½®"><a href="#3-å“¨å…µé›†ç¾¤é…ç½®" class="headerlink" title="(3) å“¨å…µé›†ç¾¤é…ç½®"></a>(3) å“¨å…µé›†ç¾¤é…ç½®</h4><p>å“¨å…µè¯¦ç»†æ–‡æ¡£ï¼š <a href="http://doc.redisfans.com/topic/sentinel.html" target="_blank" rel="noopener">http://doc.redisfans.com/topic/sentinel.html</a></p>
<p>ç¬¬ä¸€æ­¥ï¼šæ–°å»ºæ–‡ä»¶</p>
<pre class="line-numbers language-shell"><code class="language-shell">mkdir /etc/sentinal \
&& mkdir -p /var/sentinal/5000 \
&& mkdir -p /var/log/sentinal/ \
#&& touch /var/log/sentinal/5000 \
&& vi /etc/sentinal/5000.conf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šå“¨å…µé…ç½®æ¨¡æ¿æ–‡ä»¶ä¿®æ”¹ï¼Œç®€åŒ–ç‰ˆï¼Œè¯¦ç»†é…ç½®æŸ¥çœ‹é™„å½•ä¸€<code>sentinal.conf</code></p>
<pre class="line-numbers language-shell"><code class="language-shell"># port <sentinel-port>
port 5000
## bind 127.0.0.1
bind 192.168.1.13
#dir <working-directory>
dir /var/sentinal/5000
# sentinel monitor <master-name> <ip> <redis-port> <quorum>
sentinel monitor mymaster 192.168.1.13 6379 2
#è¶…è¿‡å¤šå°‘æ¯«ç§’è·Ÿä¸€ä¸ªrediså®ä¾‹æ–­äº†è¿æ¥ï¼Œå“¨å…µå°±å¯èƒ½è®¤ä¸ºè¿™ä¸ªrediså®ä¾‹æŒ‚äº†
#sentinel down-after-milliseconds <master-name> <milliseconds> 
sentinel down-after-milliseconds mymaster 60000
#æ‰§è¡Œæ•…éšœè½¬ç§»çš„timeoutè¶…æ—¶æ—¶é•¿
##sentinel failover-timeout <master-name> <milliseconds>
sentinel failover-timeout mymaster 180000
#æ–°çš„masteråˆ‡æ¢ä¹‹å æœ€å¤šå¯ä»¥æœ‰å¤šå°‘ä¸ªä»æœåŠ¡å™¨åŒæ—¶å¯¹æ–°çš„ä¸»æœåŠ¡å™¨è¿›è¡ŒåŒæ­¥ï¼Œ è¿™ä¸ªæ•°å­—è¶Šå°ï¼Œ å®Œæˆæ•…éšœè½¬ç§»æ‰€éœ€çš„æ—¶é—´å°±è¶Šé•¿ã€‚
sentinel parallel-syncs mymaster 1
# sentinel auth-pass <master-name> <password>
sentinel auth-pass mymaster redis-pass
#åå°è¿è¡Œ
daemonize yes 
logfile /var/log/sentinal/5000.log<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Notice:  æ‰€æœ‰çš„sentinaléƒ½æ˜¯ç›¸åŒçš„é…ç½®åªéœ€æ”¹å¦‚ä¸‹ä¸¤ç‚¹ï¼š</p>
<ul>
<li>bind <local_ip> æœ¬æœºçš„IPåœ°å€</local_ip></li>
<li>sentinel monitor mymaster <master_ip> </master_ip></li>
</ul>
<p>ç¬¬ä¸‰æ­¥ï¼šå¯åŠ¨æ‰€æœ‰å“¨å…µ</p>
<p>1ã€ redis-serveræ–¹å¼ï¼Œæ¨è</p>
<pre class="line-numbers language-shell"><code class="language-shell">redis-server /etc/sentinal/5000.conf --sentinel<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>2ã€redis-sentinel æ–¹å¼</p>
<pre class="line-numbers language-shell"><code class="language-shell">redis-sentinel /etc/sentinal/5000.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç¬¬å››æ­¥ï¼šæ£€æŸ¥å“¨å…µçŠ¶æ€</p>
<p>1ã€è¿æ¥å“¨å…µ</p>
<pre class="line-numbers language-shell"><code class="language-shell">redis-cli -h 192.168.1.12 -p 5000<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>2ã€è¿æ¥æˆåŠŸåï¼ŒåŸºæœ¬çŠ¶æ€æŸ¥è¯¢</p>
<pre class="line-numbers language-shell"><code class="language-shell">#åˆ—å‡ºæ‰€æœ‰è¢«ç›‘è§†çš„ä¸»æœåŠ¡å™¨ï¼Œä»¥åŠè¿™äº›ä¸»æœåŠ¡å™¨çš„å½“å‰çŠ¶æ€ã€‚
192.168.1.12:5000> sentinel master mymaster
#åˆ—å‡ºç»™å®šä¸»æœåŠ¡å™¨çš„æ‰€æœ‰ä»æœåŠ¡å™¨ï¼Œä»¥åŠè¿™äº›ä»æœåŠ¡å™¨çš„å½“å‰çŠ¶æ€ã€‚
192.168.1.12:5000> SENTINEL slaves mymaster
192.168.1.12:5000> SENTINEL sentinels mymaster
192.168.1.12:5000> SENTINEL get-master-addr-by-name mymaster<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="4-æµ‹è¯•"><a href="#4-æµ‹è¯•" class="headerlink" title="(4) æµ‹è¯•"></a>(4) æµ‹è¯•</h4><p>1ã€ æµ‹è¯•ç«¯å£æ˜¯å¦å¼€æ”¾</p>
<pre class="line-numbers language-shell"><code class="language-shell">yum install -y nc 
nc -v host port <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>2ã€æŸ¥çœ‹ä¸»ä»æ¶æ„çŠ¶æ€</p>
<pre class="line-numbers language-shell"><code class="language-shell">127.0.0.1:6379> info replication 

# Replication
role:slave
master_host:192.168.1.12
master_port:6379
master_link_status:up # ä¸»ä»è¿æ¥æˆåŠŸ downä¸ºå¤±è´¥
master_last_io_seconds_ago:2
master_sync_in_progress:0
slave_repl_offset:1736
slave_priority:100
slave_read_only:1
connected_slaves:0
master_replid:f9acbb0bc2a6d662b6a5c4c3edcdec831b14a351
master_replid2:0000000000000000000000000000000000000000
master_repl_offset:1736
second_repl_offset:-1
repl_backlog_active:1
repl_backlog_size:1048576
repl_backlog_first_byte_offset:1
repl_backlog_histlen:1736<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>3ã€æµ‹è¯•QPS</p>
<p>åœ¨redisæºç ç›®å½•<code>src/redis-benchmark</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">./redis-benchmark -h 192.168.1.12
-c <clients>       Number of parallel connections (default 50)
-n <requests>      Total number of requests (default 100000)
-d <size>          Data size of SET/GET value in bytes (default 2)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>1æ ¸1Gï¼Œè™šæ‹Ÿæœºï¼Œè‡ªå·±ç”¨redis5.0.5æ­å»ºçš„3500.00 qpså°‘äº†ä¸ªæ•°é‡çº§</p>
<pre class="line-numbers language-plain"><code class="language-plain">====== PING_INLINE ======
  100000 requests completed in 1.28 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

99.78% <= 1 milliseconds
99.93% <= 2 milliseconds
99.97% <= 3 milliseconds
100.00% <= 3 milliseconds
78308.54 requests per second

====== PING_BULK ======
  100000 requests completed in 1.30 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

99.87% <= 1 milliseconds
100.00% <= 1 milliseconds
76804.91 requests per second

====== SET ======
  100000 requests completed in 2.50 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

5.95% <= 1 milliseconds
99.63% <= 2 milliseconds
99.93% <= 3 milliseconds
99.99% <= 4 milliseconds
100.00% <= 4 milliseconds
40032.03 requests per second

====== GET ======
  100000 requests completed in 1.30 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

99.73% <= 1 milliseconds
100.00% <= 2 milliseconds
100.00% <= 2 milliseconds
76628.35 requests per second

====== INCR ======
  100000 requests completed in 1.90 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

80.92% <= 1 milliseconds
99.81% <= 2 milliseconds
99.95% <= 3 milliseconds
99.96% <= 4 milliseconds
99.97% <= 5 milliseconds
100.00% <= 6 milliseconds
52548.61 requests per second

====== LPUSH ======
  100000 requests completed in 2.58 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

3.76% <= 1 milliseconds
99.61% <= 2 milliseconds
99.93% <= 3 milliseconds
100.00% <= 3 milliseconds
38684.72 requests per second

====== RPUSH ======
  100000 requests completed in 2.47 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

6.87% <= 1 milliseconds
99.69% <= 2 milliseconds
99.87% <= 3 milliseconds
99.99% <= 4 milliseconds
100.00% <= 4 milliseconds
40469.45 requests per second

====== LPOP ======
  100000 requests completed in 2.26 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

28.39% <= 1 milliseconds
99.83% <= 2 milliseconds
100.00% <= 2 milliseconds
44306.60 requests per second

====== RPOP ======
  100000 requests completed in 2.18 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

36.08% <= 1 milliseconds
99.75% <= 2 milliseconds
100.00% <= 2 milliseconds
45871.56 requests per second

====== SADD ======
  100000 requests completed in 1.23 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

99.94% <= 1 milliseconds
100.00% <= 2 milliseconds
100.00% <= 2 milliseconds
81168.83 requests per second

====== SPOP ======
  100000 requests completed in 1.28 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

99.80% <= 1 milliseconds
99.96% <= 2 milliseconds
99.96% <= 3 milliseconds
99.97% <= 5 milliseconds
100.00% <= 5 milliseconds
78369.91 requests per second

====== LPUSH (needed to benchmark LRANGE) ======
  100000 requests completed in 2.47 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

15.29% <= 1 milliseconds
99.64% <= 2 milliseconds
99.94% <= 3 milliseconds
100.00% <= 3 milliseconds
40420.37 requests per second

====== LRANGE_100 (first 100 elements) ======
  100000 requests completed in 3.69 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

30.86% <= 1 milliseconds
96.99% <= 2 milliseconds
99.94% <= 3 milliseconds
99.99% <= 4 milliseconds
100.00% <= 4 milliseconds
27085.59 requests per second

====== LRANGE_300 (first 300 elements) ======
  100000 requests completed in 10.22 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

0.03% <= 1 milliseconds
5.90% <= 2 milliseconds
90.68% <= 3 milliseconds
95.46% <= 4 milliseconds
97.67% <= 5 milliseconds
99.12% <= 6 milliseconds
99.98% <= 7 milliseconds
100.00% <= 7 milliseconds
9784.74 requests per second

====== LRANGE_500 (first 450 elements) ======
  100000 requests completed in 14.71 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

0.00% <= 1 milliseconds
0.07% <= 2 milliseconds
1.59% <= 3 milliseconds
89.26% <= 4 milliseconds
97.90% <= 5 milliseconds
99.24% <= 6 milliseconds
99.73% <= 7 milliseconds
99.89% <= 8 milliseconds
99.96% <= 9 milliseconds
99.99% <= 10 milliseconds
100.00% <= 10 milliseconds
6799.48 requests per second

====== LRANGE_600 (first 600 elements) ======
  100000 requests completed in 18.56 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

0.00% <= 2 milliseconds
0.23% <= 3 milliseconds
1.75% <= 4 milliseconds
91.17% <= 5 milliseconds
98.16% <= 6 milliseconds
99.04% <= 7 milliseconds
99.83% <= 8 milliseconds
99.95% <= 9 milliseconds
99.98% <= 10 milliseconds
100.00% <= 10 milliseconds
5387.35 requests per second

====== MSET (10 keys) ======
  100000 requests completed in 4.02 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

0.01% <= 1 milliseconds
53.22% <= 2 milliseconds
99.12% <= 3 milliseconds
99.55% <= 4 milliseconds
99.70% <= 5 milliseconds
99.90% <= 6 milliseconds
99.95% <= 7 milliseconds
100.00% <= 8 milliseconds
24869.44 requests per second<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="1-2-4-ruby"><a href="#1-2-4-ruby" class="headerlink" title="1.2.4 ruby"></a>1.2.4 ruby</h3><p>ç¬¬ä¸€æ­¥ï¼šç¼–è¯‘</p>
<p><a href="http://www.ruby-lang.org/en/downloads/" target="_blank" rel="noopener">ruby å®˜ç½‘ä¸‹è½½åœ°å€</a></p>
<pre class="line-numbers language-shell"><code class="language-shell">version=2.3.1
tar -zxvf ruby-${version}.tar.gz 
cd ruby-${version}
./configure -prefix=/usr/local/ruby 
make && make install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šé…ç½®è·¯å¾„</p>
<p>vi ~/.bash_profile</p>
<pre class="line-numbers language-shell"><code class="language-shell">PATH=$PATH:$HOME/bin:/usr/local/ruby/bin
export PATH<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼š<code>gem install redis</code></p>
<h2 id="1-3-è¿æ¥é…ç½®"><a href="#1-3-è¿æ¥é…ç½®" class="headerlink" title="1.3 è¿æ¥é…ç½®"></a>1.3 è¿æ¥é…ç½®</h2><p>ç¬¬ä¸€æ­¥ï¼šé…ç½®æœºå™¨sshå…å¯†é’¥ç™»å½•</p>
<pre class="line-numbers language-shell"><code class="language-shell"> ssh-keygen -t rsa \
 cd /root/.ssh/
 cp id_rsa.pub authorized_keys <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>æµ‹è¯•ï¼šsshè¿æ¥æœ¬æœºæˆåŠŸ</p>
<p>ç¬¬äºŒæ­¥ï¼š æœºå™¨ä¹‹é—´äº’ç›¸sshå…å¯†é’¥ç™»å½•</p>
<pre class="line-numbers language-shell"><code class="language-shell">ssh-copy-id -i <per_host_name><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ¡ˆä¾‹ï¼š</p>
<p>ec-01 æ‹·è´åˆ°ec-02ï¼Œå½“å‰åœ¨ec01ä¸‹æ“ä½œ</p>
<pre class="line-numbers language-shell"><code class="language-shell">ssh-copy-id -i ec-02
ssh-copy-id -i ec-03
ssh-copy-id -i ec-04<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>ec-01 è‡³ec-04 é‡å¤ä¸Šé¢åŠ¨ä½œ, <code>ssh ec-x</code> æµ‹è¯•ç›¸äº’è¿æ¥æ˜¯å¦å…å¯†é’¥</p>
<h3 id="1-3-2-CentOS-å¼€å¯ç«¯å£"><a href="#1-3-2-CentOS-å¼€å¯ç«¯å£" class="headerlink" title="1.3.2 CentOS å¼€å¯ç«¯å£"></a>1.3.2 CentOS å¼€å¯ç«¯å£</h3><p>1ã€ master å¼€å¯ç½‘ç»œç›‘å¬</p>
<pre><code>bind 127.0.0.1 192.168.1.x</code></pre><p>æ³¨æ„ï¼šåªå¼€å¯<code>127.0.0.1</code>ï¼Œ slaveæ— æ³•è¿æ¥master</p>
<p>2.ã€å¼€å¯ç«¯å£è®¿é—®æƒé™</p>
<ul>
<li><p>CentOS 7,ä½¿ç”¨firewall</p>
<pre class="line-numbers language-shell"><code class="language-shell">#æ·»åŠ ç«¯å£æƒé™
firewall-cmd --add-port=6379/tcp
#åˆ é™¤ç«¯å£ï¼š
firewall-cmd --remove-port=6379/tcp
#æŸ¥çœ‹ç«¯å£
firewall-cmd --query-port=6379/tcp
#æ°¸ä¹…å¼€æ”¾ç«¯å£
firewall-cmd --permanent --add-port=6379/tcp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>CentOS 7 ä»¥ä¸‹</p>
<pre class="line-numbers language-shell"><code class="language-shell">iptables -A INPUT -p tcp --dport  6379 -j ACCEPT<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ul>
<p>Noticeï¼šmaster and slave must open the 6379 port permission </p>
<h3 id="1-3-3-æµ‹è¯•ç«¯å£æ˜¯å¦å¼€æ”¾"><a href="#1-3-3-æµ‹è¯•ç«¯å£æ˜¯å¦å¼€æ”¾" class="headerlink" title="1.3.3 æµ‹è¯•ç«¯å£æ˜¯å¦å¼€æ”¾"></a>1.3.3 æµ‹è¯•ç«¯å£æ˜¯å¦å¼€æ”¾</h3><pre class="line-numbers language-shell"><code class="language-shell">yum install -y nc 
nc -v host port <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="1-3-4-CentOS-7-å…³é—­é˜²ç«å¢™"><a href="#1-3-4-CentOS-7-å…³é—­é˜²ç«å¢™" class="headerlink" title="1.3.4 CentOS 7 å…³é—­é˜²ç«å¢™"></a>1.3.4 CentOS 7 å…³é—­é˜²ç«å¢™</h3><pre class="line-numbers language-shell"><code class="language-shell">systemctl stop firewalld.service  å…³é—­é˜²ç«å¢™
systemctl disable firewalld          æ°¸ä¹…å…³é—­é˜²ç«å¢™<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="1-5-docker-å®‰è£…redis"><a href="#1-5-docker-å®‰è£…redis" class="headerlink" title="1.5 docker å®‰è£…redis"></a>1.5 docker å®‰è£…redis</h2><p>ç¬¬ä¸€æ­¥ï¼šç›´æ¥å®‰è£…redisé•œåƒ</p>
<p>redis.conf</p>
<pre class="line-numbers language-shell"><code class="language-shell">#å…è®¸å¤–ç½‘è®¿é—®
bind 0.0.0.0
daemonize NO
protected-mode no
requirepass T1%z$1u3Q#zi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å‚è€ƒ</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker run -p 10001:6379 --name redis -v /data/redis/redis.conf:/etc/redis/redis.conf -v /data/redis/data:/data -d redis redis-server /etc/redis/redis.conf --appendonly yes<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å‘½ä»¤è¯´æ˜</p>
<pre class="line-numbers language-shell"><code class="language-shell">-p 10001:6379 : å°†å®¹å™¨çš„6379ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„10001ç«¯å£
--name redis : å®¹å™¨åå­—
-v /data/redis/redis.conf:/etc/redis/redis.conf : å°†ä¸»æœºä¸­é…ç½®æ–‡ä»¶æŒ‚è½½åˆ°å®¹å™¨ä¸­
-v /data/redis/data:/data : å°†ä¸»æœºä¸­dataæŒ‚è½½åˆ°å®¹å™¨çš„/data
redis-server --appendonly yes : åœ¨å®¹å™¨æ‰§è¡Œredis-serverå¯åŠ¨å‘½ä»¤ï¼Œå¹¶æ‰“å¼€redisæŒä¹…åŒ–é…ç½®
redis-server /etc/redis/redis.conf : å®¹å™¨ä¸­ä»¥é…ç½®æ–‡ä»¶æ–¹å¼å¯åŠ¨redis<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-shell"><code class="language-shell">docker run -p 9999:6379 --name redis -v /root/document/service/redis/redis.conf:/etc/redis/redis.conf -v /root/document/service/redis/data:/data -d redis redis-server /etc/redis/redis.conf --appendonly yes<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šè®¾ç½®å¯†ç , ç™»å½•å®‰è£…çš„é•œåƒterminal</p>
<pre class="line-numbers language-shell"><code class="language-shell">>redis-cli -h 127.0.0.1 -p 6379<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®å¯†ç </p>
<pre class="line-numbers language-shell"><code class="language-shell">config set requirepass  â€œT1%z$1u3Q#ziâ€<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="ç¬¬äºŒç« -è½¯ä»¶ä½¿ç”¨"><a href="#ç¬¬äºŒç« -è½¯ä»¶ä½¿ç”¨" class="headerlink" title="ç¬¬äºŒç«  è½¯ä»¶ä½¿ç”¨"></a>ç¬¬äºŒç«  è½¯ä»¶ä½¿ç”¨</h1><h2 id="2-1-Redis"><a href="#2-1-Redis" class="headerlink" title="2.1  Redis"></a>2.1  Redis</h2><h3 id="2-1-1-åŸºæœ¬åº”ç”¨"><a href="#2-1-1-åŸºæœ¬åº”ç”¨" class="headerlink" title="2.1.1 åŸºæœ¬åº”ç”¨"></a>2.1.1 åŸºæœ¬åº”ç”¨</h3><p>å››ä¸ªæ–¹å‘åº”ç”¨</p>
<ul>
<li>rediså„ç§æ•°æ®ç»“æ„å’Œå‘½ä»¤çš„ä½¿ç”¨ï¼ŒåŒ…æ‹¬java apiçš„ä½¿ç”¨</li>
<li>redisä¸€äº›ç‰¹æ®Šçš„è§£å†³æ–¹æ¡ˆçš„ä½¿ç”¨ï¼Œpub/subæ¶ˆæ¯ç³»ç»Ÿï¼Œåˆ†å¸ƒå¼é”ï¼Œè¾“å…¥çš„è‡ªåŠ¨å®Œæˆï¼Œç­‰ç­‰</li>
<li>redisæ—¥å¸¸çš„ç®¡ç†ç›¸å…³çš„å‘½ä»¤</li>
<li>redisä¼ä¸šçº§çš„é›†ç¾¤éƒ¨ç½²å’Œæ¶æ„</li>
</ul>
<p>è¿›é˜¶</p>
<p>æ·±å…¥é›†ç¾¤æ¶æ„çš„åº•å±‚åŸç†ï¼Œå“¨å…µçš„åº•å±‚åŸç†ï¼Œç”¨ä¸€çº¿çš„ç»éªŒï¼Œå‘Šè¯‰ä½ ï¼Œredisçš„å¤§è§„æ¨¡çš„æ¶æ„å¸ˆå¦‚ä½•å»æ”¯æ’‘æµ·é‡æ•°<br>æ®ã€é«˜å¹¶å‘ã€é«˜å¯ç”¨çš„</p>
<p>å¸¸ç”¨å‘½ä»¤</p>
<pre class="line-numbers language-shell"><code class="language-shell">#å¯†ç è®¤è¯
127.0.0.1:6379> auth "yourpassword"  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>â€˜</p>
<p>å¸¸ç”¨åœ°å€</p>
<pre><code>#æŒä¹…åŒ–RDBå­˜å‚¨åœ°å€
/var/redis/6379/dump.rdb
# redis å¯åŠ¨æ—¶éœ€è¦åˆ é™¤çš„æ–‡ä»¶
/var/run/redis_6379.pid
#redisæ—¥å¿—ï¼Œå¯ä»¥æŸ¥çœ‹rediså¯åŠ¨çŠ¶æ€
/var/log/redis/</code></pre><h3 id="2-1-2-RedisæŒä¹…åŒ–"><a href="#2-1-2-RedisæŒä¹…åŒ–" class="headerlink" title="2.1.2 RedisæŒä¹…åŒ–"></a>2.1.2 RedisæŒä¹…åŒ–</h3><blockquote>
<h4 id="1-redisæŒä¹…åŒ–æœºå¯¹äºç”Ÿäº§ç¯å¢ƒä¸­çš„ç¾éš¾æ¢å¤çš„æ„ä¹‰"><a href="#1-redisæŒä¹…åŒ–æœºå¯¹äºç”Ÿäº§ç¯å¢ƒä¸­çš„ç¾éš¾æ¢å¤çš„æ„ä¹‰" class="headerlink" title="1. redisæŒä¹…åŒ–æœºå¯¹äºç”Ÿäº§ç¯å¢ƒä¸­çš„ç¾éš¾æ¢å¤çš„æ„ä¹‰"></a>1. redisæŒä¹…åŒ–æœºå¯¹äºç”Ÿäº§ç¯å¢ƒä¸­çš„ç¾éš¾æ¢å¤çš„æ„ä¹‰</h4></blockquote>
<blockquote>
<p>é€šè¿‡æŒä¹…åŒ–å°†æ•°æ®æä¸€ä»½å„¿åœ¨ç£ç›˜ä¸Šå»ï¼Œç„¶åå®šæœŸæ¯”å¦‚è¯´åŒæ­¥å’Œå¤‡ä»½åˆ°ä¸€äº›äº‘å­˜å‚¨æœåŠ¡ä¸Šå»ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä¿è¯æ•°æ®ä¸ä¸¢å¤±å…¨éƒ¨ï¼Œè¿˜æ˜¯å¯ä»¥æ¢å¤ä¸€éƒ¨åˆ†æ•°æ®å›æ¥çš„</p>
</blockquote>
<h4 id="1-RDB"><a href="#1-RDB" class="headerlink" title="1. RDB"></a>1. RDB</h4><p>é»˜è®¤å¼€å¯</p>
<p>å¿«ç…§è®¾ç½®</p>
<p><code>vi /etc/redis/6379.conf</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">save 60 1000 #æ¯éš”60sï¼Œå¦‚æœæœ‰è¶…è¿‡1000ä¸ªkeyå‘ç”Ÿäº†å˜æ›´ï¼Œé‚£ä¹ˆå°±ç”Ÿæˆä¸€ä¸ªæ–°çš„dump.rdbæ–‡ä»¶
dir ./ #rdbä¿å­˜ä½ç½®
dbfilename dump.rdb #ä¿å­˜æ–‡ä»¶åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h4 id="2-AOF"><a href="#2-AOF" class="headerlink" title="2. AOF"></a>2. AOF</h4><p>çŸ¥è¯†ç‚¹ä¸€ï¼šå¼€å¯é…ç½®AOF</p>
<p>AOFæŒä¹…åŒ–çš„é…ç½®é»˜è®¤æ˜¯å…³é—­çš„,å¼€å¯åä¼šä¼˜å…ˆä½¿ç”¨AOFè¿›è¡Œæ•°æ®æ¢å¤</p>
<pre class="line-numbers language-shell"><code class="language-shell">appendonly yes<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><code>appendfsync</code>ä¸‰ç§é€‰é¡¹ </p>
<p>always</p>
<pre><code>-  æ¯æ¬¡å†™å…¥ä¸€æ¡æ•°æ®ï¼Œç«‹å³å°†è¿™ä¸ªæ•°æ®å¯¹åº”çš„å†™æ—¥å¿—fsyncåˆ°ç£ç›˜ä¸Šå»
-  æ€§èƒ½éå¸¸éå¸¸å·®ï¼Œååé‡å¾ˆä½; ç¡®ä¿è¯´redisé‡Œçš„æ•°æ®ä¸€æ¡éƒ½ä¸ä¸¢ï¼Œé‚£å°±åªèƒ½è¿™æ ·äº†</code></pre><p>everysec</p>
<pre><code>- æ¯ç§’å°†os cacheä¸­çš„æ•°æ®fsyncåˆ°ç£ç›˜
- æ€§èƒ½å¾ˆé«˜ï¼ŒQPSè¿˜æ˜¯å¯ä»¥ä¸Šä¸‡çš„</code></pre><p>no</p>
<p>â€‹    - ä»…ä»…redisè´Ÿè´£å°†æ•°æ®å†™å…¥os cacheå°±æ’’æ‰‹ä¸ç®¡äº†ï¼Œç„¶ååé¢osè‡ªå·±ä¼šæ—¶ä¸æ—¶æœ‰è‡ªå·±çš„ç­–ç•¥å°†æ•°æ®åˆ·å…¥ç£ç›˜ï¼Œä¸å¯æ§äº†</p>
<p>çŸ¥è¯†ç‚¹äºŒï¼š AOF rewrite</p>
<blockquote>
<p>rewrite åŸå› ï¼šå¾ˆå¤šæ•°æ®å¯èƒ½ä¼šè‡ªåŠ¨è¿‡æœŸï¼Œå¯èƒ½ä¼šè¢«ç”¨æˆ·åˆ é™¤ï¼Œå¯èƒ½ä¼šè¢«redisç”¨ç¼“å­˜æ¸…é™¤çš„ç®—æ³•æ¸…ç†æ‰ã€‚redisä¸­çš„æ•°æ®ä¼šä¸æ–­æ·˜æ±°æ‰æ—§çš„ï¼Œå°±ä¸€éƒ¨åˆ†å¸¸ç”¨çš„æ•°æ®ä¼šè¢«è‡ªåŠ¨ä¿ç•™åœ¨rediså†…å­˜ä¸­ï¼Œæ‰€ä»¥å¾ˆå¤šä¹‹å‰çš„å·²ç»è¢«æ¸…ç†æ‰çš„æ•°æ®ï¼Œå¯¹åº”çš„å†™æ—¥å¿—è¿˜åœç•™åœ¨AOFä¸­ï¼ŒAOFæ—¥å¿—æ–‡ä»¶å°±ä¸€ä¸ªï¼Œä¼šä¸æ–­çš„è†¨èƒ€ï¼Œåˆ°å¾ˆå¤§å¾ˆå¤§</p>
</blockquote>
<ol>
<li>é…ç½®rewriteç­–ç•¥</li>
</ol>
<pre class="line-numbers language-shell"><code class="language-shell">auto-aof-rewrite-percentage 100
auto-aof-rewrite-min-size 64mb<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>æ³¨è§£ï¼š</p>
<p>ç„¶åå°±ä¼šæ¥ç€128mbç»§ç»­å†™AOFçš„æ—¥å¿—ï¼Œå¦‚æœå‘ç°å¢é•¿çš„æ¯”ä¾‹ï¼Œè¶…è¿‡äº†ä¹‹å‰çš„100%ï¼Œ256mbï¼Œå°±å¯èƒ½ä¼šå»è§¦å‘ä¸€æ¬¡rewriteï¼Œä½†æ˜¯æ­¤æ—¶è¿˜è¦å»è·Ÿmin-sizeï¼Œ64mbå»æ¯”è¾ƒï¼Œ256mb &gt; 64mbï¼Œæ‰ä¼šå»è§¦å‘rewrite</p>
<ol start="2">
<li><p>AOFç ´æŸæ–‡ä»¶çš„ä¿®å¤</p>
<p>å½“aofæ–‡ä»¶æ ¼å¼é”™è¯¯æ— æ³•åŠ è½½æ—¶ï¼Œä½¿ç”¨ <code>redis-check-aof --fix</code> å‘½ä»¤æ¥ä¿®å¤ç ´æŸçš„AOFæ–‡ä»¶</p>
</li>
</ol>
<h4 id="3-RDB-å’Œ-AOFåŒæ—¶ä½¿ç”¨æ—¶"><a href="#3-RDB-å’Œ-AOFåŒæ—¶ä½¿ç”¨æ—¶" class="headerlink" title="3. RDB å’Œ AOFåŒæ—¶ä½¿ç”¨æ—¶"></a>3. RDB å’Œ AOFåŒæ—¶ä½¿ç”¨æ—¶</h4><ul>
<li>rdb å’Œ aof æ–‡ä»¶åŒæ—¶å­˜åœ¨æŒä¹…åŒ–æ•°æ®ï¼ŒæŠŠaofåˆ é™¤ï¼Œrediscé‡å¯æ—¶ä¹Ÿä¸ä¼šä½¿ç”¨rdbæ•°æ®</li>
</ul>
<h3 id="2-1-3-ä¼ä¸šçº§çš„æ•°æ®æ–¹æ¡ˆé…ç½®åŠå®¹ç¾æ–¹æ¡ˆ"><a href="#2-1-3-ä¼ä¸šçº§çš„æ•°æ®æ–¹æ¡ˆé…ç½®åŠå®¹ç¾æ–¹æ¡ˆ" class="headerlink" title="2.1.3 ä¼ä¸šçº§çš„æ•°æ®æ–¹æ¡ˆé…ç½®åŠå®¹ç¾æ–¹æ¡ˆ"></a>2.1.3 ä¼ä¸šçº§çš„æ•°æ®æ–¹æ¡ˆé…ç½®åŠå®¹ç¾æ–¹æ¡ˆ</h3><h4 id="1-é…ç½®ç­–ç•¥"><a href="#1-é…ç½®ç­–ç•¥" class="headerlink" title="1. é…ç½®ç­–ç•¥"></a>1. é…ç½®ç­–ç•¥</h4><ul>
<li><p>AOFä¸€å®šè¦æ‰“å¼€ï¼Œfsyncï¼Œeverysec</p>
</li>
<li><p>RDBçš„ç”Ÿæˆç­–ç•¥ï¼Œç”¨é»˜è®¤çš„ä¹Ÿå·®ä¸å¤šï¼Œå¯ä»¥æ ¹æ®ä¸šåŠ¡é‡æ¥å¤„ç†</p>
</li>
<li><p>rewriteé…ç½®</p>
<pre class="line-numbers language-shell"><code class="language-shell">auto-aof-rewrite-percentage 100: å°±æ˜¯å½“å‰AOFå¤§å°è†¨èƒ€åˆ°è¶…è¿‡ä¸Šæ¬¡100%ï¼Œä¸Šæ¬¡çš„ä¸¤å€
auto-aof-rewrite-min-size 64mb: æ ¹æ®ä½ çš„æ•°æ®é‡æ¥å®šï¼Œ16mbï¼Œ32mb<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
<h4 id="2-æ•°æ®å¤‡ä»½æ–¹æ¡ˆ"><a href="#2-æ•°æ®å¤‡ä»½æ–¹æ¡ˆ" class="headerlink" title="2. æ•°æ®å¤‡ä»½æ–¹æ¡ˆ"></a>2. æ•°æ®å¤‡ä»½æ–¹æ¡ˆ</h4><p>ä½¿ç”¨RDBè¿›è¡Œå†·å¤‡ä»½</p>
<p>ï¼ˆ1ï¼‰å†™crontabå®šæ—¶è°ƒåº¦è„šæœ¬å»åšæ•°æ®å¤‡ä»½<br>ï¼ˆ2ï¼‰æ¯å°æ—¶éƒ½copyä¸€ä»½rdbçš„å¤‡ä»½ï¼Œåˆ°ä¸€ä¸ªç›®å½•ä¸­å»ï¼Œä»…ä»…ä¿ç•™æœ€è¿‘48å°æ—¶çš„å¤‡ä»½<br>ï¼ˆ3ï¼‰æ¯å¤©éƒ½ä¿ç•™ä¸€ä»½å½“æ—¥çš„rdbçš„å¤‡ä»½ï¼Œåˆ°ä¸€ä¸ªç›®å½•ä¸­å»ï¼Œä»…ä»…ä¿ç•™æœ€è¿‘1ä¸ªæœˆçš„å¤‡ä»½<br>ï¼ˆ4ï¼‰æ¯æ¬¡copyå¤‡ä»½çš„æ—¶å€™ï¼Œéƒ½æŠŠå¤ªæ—§çš„å¤‡ä»½ç»™åˆ äº†<br>ï¼ˆ5ï¼‰æ¯å¤©æ™šä¸Šå°†å½“å‰æœåŠ¡å™¨ä¸Šæ‰€æœ‰çš„æ•°æ®å¤‡ä»½ï¼Œå‘é€ä¸€ä»½åˆ°è¿œç¨‹çš„äº‘æœåŠ¡ä¸Šå»</p>
<p>ç¬¬ä¸€æ­¥ï¼šæ¯1å°æ—¶å¤‡ä»½</p>
<p>  <code>redis_rdb_copy_hourly.sh</code> </p>
<pre class="line-numbers language-shell"><code class="language-shell">#!/bin/sh 

cur_date=`date +%Y%m%d`
rm -rf /usr/local/redis/snapshotting/$cur_date
mkdir /usr/local/redis/snapshotting/$cur_date
cp /var/redis/6379/dump.rdb /usr/local/redis/snapshotting/$cur_date
#åˆ é™¤ä¸€ä¸ªæœˆä¹‹å‰çš„å¤‡ä»½
del_date=`date -d -1month +%Y%m%d`
rm -rf /usr/local/redis/snapshotting/$del_date<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å®šæ—¶ä¸€å°æ—¶å¯åŠ¨ crontab -e  </p>
<pre class="line-numbers language-shell"><code class="language-shell">0 0 * * * sh /usr/local/redis/copy/redis_rdb_copy_daily.sh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šæ¯å¤©copyä¸€æ¬¡å¤‡ä»½</p>
<p>redis_rdb_copy_daily.sh</p>
<pre class="line-numbers language-shell"><code class="language-shell">#!/bin/sh 

cur_date=`date +%Y%m%d`
rm -rf /usr/local/redis/snapshotting/$cur_date
mkdir /usr/local/redis/snapshotting/$cur_date
cp /var/redis/6379/dump.rdb /usr/local/redis/snapshotting/$cur_date

del_date=`date -d -1month +%Y%m%d`
rm -rf /usr/local/redis/snapshotting/$del_date<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>crontab -e</p>
<pre class="line-numbers language-shell"><code class="language-shell">0 0 * * * sh /usr/local/redis/copy/redis_rdb_copy_daily.sh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šæ¯å¤©ä¸€æ¬¡å°†æ‰€æœ‰æ•°æ®ä¸Šä¼ ä¸€æ¬¡åˆ°è¿œç¨‹çš„äº‘æœåŠ¡å™¨ä¸Šå»</p>
<p>ç¬¬å››æ­¥ï¼šåŸºäºdump.rdbçš„æ•°æ®è¿›è¡Œæ•°æ®æ¢å¤</p>
<ul>
<li>redis.conf å…³é—­ <code>appendonly no</code> </li>
<li>æ‹·è´rdbå¤‡ä»½ï¼Œé‡å¯redisï¼Œç¡®è®¤æ•°æ®æ¢å¤</li>
<li>å‘½ä»¤è¡Œçƒ­ä¿®æ”¹redisé…ç½® <code>127.0.0.1:6379&gt; config set appendonly yes</code>, aofåŒæ­¥rdb</li>
<li>redis.conf å¼€å¯ <code>appendonly yes</code> ï¼Œé‡å¯redis </li>
</ul>
<p>ç¬¬äº”æ­¥ï¼šåº”ç”¨</p>
<ol>
<li>å¦‚æœå½“å‰æœºå™¨ä¸Šçš„æ‰€æœ‰RDBæ–‡ä»¶å…¨éƒ¨æŸåï¼Œé‚£ä¹ˆä»è¿œç¨‹çš„äº‘æœåŠ¡ä¸Šæ‹‰å–æœ€æ–°çš„RDBå¿«ç…§å›æ¥æ¢å¤æ•°æ®</li>
<li>å¦‚æœæ˜¯å‘ç°æœ‰é‡å¤§çš„æ•°æ®é”™è¯¯ï¼Œæ¯”å¦‚æŸä¸ªå°æ—¶ä¸Šçº¿çš„ç¨‹åºä¸€ä¸‹å­å°†æ•°æ®å…¨éƒ¨æ±¡æŸ“äº†ï¼Œæ•°æ®å…¨é”™äº†ï¼Œé‚£ä¹ˆå¯ä»¥é€‰æ‹©æŸä¸ªæ›´æ—©çš„æ—¶é—´ç‚¹ï¼Œå¯¹æ•°æ®è¿›è¡Œæ¢å¤</li>
</ol>
<h3 id="2-1-4-redisè¯»å†™åˆ†ç¦»æ¥æ‰¿è½½è¯»è¯·æ±‚QPSè¶…è¿‡10ä¸‡"><a href="#2-1-4-redisè¯»å†™åˆ†ç¦»æ¥æ‰¿è½½è¯»è¯·æ±‚QPSè¶…è¿‡10ä¸‡" class="headerlink" title="2.1.4 redisè¯»å†™åˆ†ç¦»æ¥æ‰¿è½½è¯»è¯·æ±‚QPSè¶…è¿‡10ä¸‡+"></a>2.1.4 redisè¯»å†™åˆ†ç¦»æ¥æ‰¿è½½è¯»è¯·æ±‚QPSè¶…è¿‡10ä¸‡+</h3><blockquote>
<p>redisé«˜å¹¶å‘è·Ÿæ•´ä¸ªç³»ç»Ÿçš„é«˜å¹¶å‘ä¹‹é—´çš„å…³ç³»</p>
<p>redis æ˜¯æ”¯æ’‘é«˜å¹¶å‘çš„æ¶æ„é‡Œé¢ï¼Œéå¸¸é‡è¦çš„ä¸€ä¸ªç¯èŠ‚</p>
<ol>
<li>é¦–å…ˆï¼Œä½ çš„åº•å±‚çš„ç¼“å­˜ä¸­é—´ä»¶ï¼Œç¼“å­˜ç³»ç»Ÿï¼Œå¿…é¡»èƒ½å¤Ÿæ”¯æ’‘çš„èµ·æˆ‘ä»¬è¯´çš„é‚£ç§é«˜å¹¶å‘ï¼Œ</li>
<li>å…¶æ¬¡ï¼Œå†ç»è¿‡è‰¯å¥½çš„æ•´ä½“çš„ç¼“å­˜æ¶æ„çš„è®¾è®¡ï¼ˆå¤šçº§ç¼“å­˜æ¶æ„ã€çƒ­ç‚¹ç¼“å­˜ï¼‰ï¼Œæ”¯æ’‘çœŸæ­£çš„ä¸Šåä¸‡ï¼Œç”šè‡³ä¸Šç™¾ä¸‡çš„é«˜å¹¶å‘</li>
</ol>
</blockquote>
<p>æ¶æ„æ€è·¯</p>
<p>ä¸»ä»æ¶æ„ -&gt; è¯»å†™åˆ†ç¦» -&gt; æ”¯æ’‘10ä¸‡+è¯»QPSçš„æ¶æ„</p>
<h4 id="1-redisä¸»ä»æ¶æ„"><a href="#1-redisä¸»ä»æ¶æ„" class="headerlink" title="(1) redisä¸»ä»æ¶æ„"></a>(1) redisä¸»ä»æ¶æ„</h4><ul>
<li>å¦‚æœé‡‡ç”¨äº†ä¸»ä»æ¶æ„ï¼Œé‚£ä¹ˆå»ºè®®å¿…é¡»å¼€å¯master nodeçš„æŒä¹…åŒ–ï¼å¦‚æœä½ å…³æ‰masterçš„æŒä¹…åŒ–ï¼Œå¯èƒ½åœ¨masterå®•æœºé‡å¯çš„æ—¶å€™æ•°æ®æ˜¯ç©ºçš„ï¼Œç„¶åå¯èƒ½ä¸€ç»è¿‡å¤åˆ¶ï¼Œsalve nodeæ•°æ®ä¹Ÿä¸¢äº†</li>
<li>ä½¿é‡‡ç”¨äº†åç»­è®²è§£çš„é«˜å¯ç”¨æœºåˆ¶ï¼Œslave nodeå¯ä»¥è‡ªåŠ¨æ¥ç®¡master nodeï¼Œä½†æ˜¯ä¹Ÿå¯èƒ½sentinalè¿˜æ²¡æœ‰æ£€æµ‹åˆ°master failureï¼Œmaster nodeå°±è‡ªåŠ¨é‡å¯äº†ï¼Œè¿˜æ˜¯å¯èƒ½å¯¼è‡´ä¸Šé¢çš„æ‰€æœ‰slave nodeæ•°æ®æ¸…ç©ºæ•…éšœ</li>
</ul>
<p>å…¨é‡å¤åˆ¶</p>
<ol>
<li>masteræ‰§è¡Œbgsaveï¼Œåœ¨æœ¬åœ°ç”Ÿæˆä¸€ä»½rdbå¿«ç…§æ–‡ä»¶</li>
<li>master node ä¸“é€’rdbå¿«ç…§åˆ°slave,è¶…æ—¶æ—¶é—´<code>repl-timeout</code>é»˜è®¤ä¸º60ç§’</li>
<li>client-output-buffer-limit slave 256MB 64MB 60ï¼Œå¦‚æœåœ¨å¤åˆ¶æœŸé—´ï¼Œå†…å­˜ç¼“å†²åŒºæŒç»­æ¶ˆè€—è¶…è¿‡64MBï¼Œæˆ–è€…ä¸€æ¬¡æ€§è¶…è¿‡256MBï¼Œé‚£ä¹ˆåœæ­¢å¤åˆ¶ï¼Œå¤åˆ¶å¤±è´¥</li>
<li>å¦‚æœslave nodeå¼€å¯äº†AOFï¼Œé‚£ä¹ˆä¼šç«‹å³æ‰§è¡ŒBGREWRITEAOFï¼Œé‡å†™AOF</li>
</ol>
<blockquote>
<p> æ³¨æ„ï¼šå¦‚æœå¤åˆ¶çš„æ•°æ®é‡åœ¨4G~6Gä¹‹é—´ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½å…¨é‡å¤åˆ¶æ—¶é—´æ¶ˆè€—åˆ°1åˆ†åŠåˆ°2åˆ†é’Ÿ</p>
</blockquote>
<p>å¢é‡å¤åˆ¶</p>
<p>ï¼ˆ1ï¼‰å¦‚æœå…¨é‡å¤åˆ¶è¿‡ç¨‹ä¸­ï¼Œmaster-slaveç½‘ç»œè¿æ¥æ–­æ‰ï¼Œé‚£ä¹ˆsalveé‡æ–°è¿æ¥masteræ—¶ï¼Œä¼šè§¦å‘å¢é‡å¤åˆ¶<br>ï¼ˆ2ï¼‰masterç›´æ¥ä»è‡ªå·±çš„backlogä¸­è·å–éƒ¨åˆ†ä¸¢å¤±çš„æ•°æ®ï¼Œå‘é€ç»™slave nodeï¼Œé»˜è®¤backlogå°±æ˜¯1MB<br>ï¼ˆ3ï¼‰msaterå°±æ˜¯æ ¹æ®slaveå‘é€çš„psyncä¸­çš„offsetæ¥ä»backlogä¸­è·å–æ•°æ®çš„</p>
<p>slave è½¬åŒ–æˆmasterçš„æœºåˆ¶</p>
<p>å¦‚æœä¸€ä¸ªslaveè·Ÿmasteræ–­å¼€è¿æ¥å·²ç»è¶…è¿‡äº†down-after-millisecondsçš„10å€ï¼Œå¤–åŠ masterå®•æœºçš„æ—¶é•¿ï¼Œé‚£ä¹ˆslaveå°±è¢«è®¤ä¸ºä¸é€‚åˆé€‰ä¸¾ä¸ºmaster</p>
<p>(down-after-milliseconds * 10) + milliseconds_since_master_is_in_SDOWN_state</p>
<p>æ¥ä¸‹æ¥ä¼šå¯¹slaveè¿›è¡Œæ’åº</p>
<p>ï¼ˆ1ï¼‰æŒ‰ç…§slaveä¼˜å…ˆçº§è¿›è¡Œæ’åºï¼Œslave priorityè¶Šä½ï¼Œä¼˜å…ˆçº§å°±è¶Šé«˜<br>ï¼ˆ2ï¼‰å¦‚æœslave priorityç›¸åŒï¼Œé‚£ä¹ˆçœ‹replica offsetï¼Œå“ªä¸ªslaveå¤åˆ¶äº†è¶Šå¤šçš„æ•°æ®ï¼Œoffsetè¶Šé åï¼Œä¼˜å…ˆçº§å°±è¶Šé«˜<br>ï¼ˆ3ï¼‰å¦‚æœä¸Šé¢ä¸¤ä¸ªæ¡ä»¶éƒ½ç›¸åŒï¼Œé‚£ä¹ˆé€‰æ‹©ä¸€ä¸ªrun idæ¯”è¾ƒå°çš„é‚£ä¸ªslave</p>
<h4 id="2-QPSå‹æµ‹ä»¥åŠæ°´å¹³æ‰©å®¹æ”¯æ’‘æ›´é«˜QPS"><a href="#2-QPSå‹æµ‹ä»¥åŠæ°´å¹³æ‰©å®¹æ”¯æ’‘æ›´é«˜QPS" class="headerlink" title="(2) QPSå‹æµ‹ä»¥åŠæ°´å¹³æ‰©å®¹æ”¯æ’‘æ›´é«˜QPS"></a>(2) QPSå‹æµ‹ä»¥åŠæ°´å¹³æ‰©å®¹æ”¯æ’‘æ›´é«˜QPS</h4><p><a href="https://redis.io/topics/benchmarks" target="_blank" rel="noopener">https://redis.io/topics/benchmarks</a></p>
<p>åœ¨redisæºç ç›®å½•<code>src/redis-benchmark</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">./redis-benchmark -h 192.168.1.12
-c <clients>       Number of parallel connections (default 50)
-n <requests>      Total number of requests (default 100000)
-d <size>          Data size of SET/GET value in bytes (default 2)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>1æ ¸1Gï¼Œè™šæ‹Ÿæœºï¼Œè‡ªå·±ç”¨redis5.0.5æ­å»ºçš„3500.00 qpså°‘äº†ä¸ªæ•°é‡çº§</p>
<pre class="line-numbers language-plain"><code class="language-plain">====== PING_INLINE ======
  100000 requests completed in 1.28 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

99.78% <= 1 milliseconds
99.93% <= 2 milliseconds
99.97% <= 3 milliseconds
100.00% <= 3 milliseconds
78308.54 requests per second

====== PING_BULK ======
  100000 requests completed in 1.30 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

99.87% <= 1 milliseconds
100.00% <= 1 milliseconds
76804.91 requests per second

====== SET ======
  100000 requests completed in 2.50 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

5.95% <= 1 milliseconds
99.63% <= 2 milliseconds
99.93% <= 3 milliseconds
99.99% <= 4 milliseconds
100.00% <= 4 milliseconds
40032.03 requests per second

====== GET ======
  100000 requests completed in 1.30 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

99.73% <= 1 milliseconds
100.00% <= 2 milliseconds
100.00% <= 2 milliseconds
76628.35 requests per second

====== INCR ======
  100000 requests completed in 1.90 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

80.92% <= 1 milliseconds
99.81% <= 2 milliseconds
99.95% <= 3 milliseconds
99.96% <= 4 milliseconds
99.97% <= 5 milliseconds
100.00% <= 6 milliseconds
52548.61 requests per second

====== LPUSH ======
  100000 requests completed in 2.58 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

3.76% <= 1 milliseconds
99.61% <= 2 milliseconds
99.93% <= 3 milliseconds
100.00% <= 3 milliseconds
38684.72 requests per second

====== RPUSH ======
  100000 requests completed in 2.47 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

6.87% <= 1 milliseconds
99.69% <= 2 milliseconds
99.87% <= 3 milliseconds
99.99% <= 4 milliseconds
100.00% <= 4 milliseconds
40469.45 requests per second

====== LPOP ======
  100000 requests completed in 2.26 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

28.39% <= 1 milliseconds
99.83% <= 2 milliseconds
100.00% <= 2 milliseconds
44306.60 requests per second

====== RPOP ======
  100000 requests completed in 2.18 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

36.08% <= 1 milliseconds
99.75% <= 2 milliseconds
100.00% <= 2 milliseconds
45871.56 requests per second

====== SADD ======
  100000 requests completed in 1.23 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

99.94% <= 1 milliseconds
100.00% <= 2 milliseconds
100.00% <= 2 milliseconds
81168.83 requests per second

====== SPOP ======
  100000 requests completed in 1.28 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

99.80% <= 1 milliseconds
99.96% <= 2 milliseconds
99.96% <= 3 milliseconds
99.97% <= 5 milliseconds
100.00% <= 5 milliseconds
78369.91 requests per second

====== LPUSH (needed to benchmark LRANGE) ======
  100000 requests completed in 2.47 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

15.29% <= 1 milliseconds
99.64% <= 2 milliseconds
99.94% <= 3 milliseconds
100.00% <= 3 milliseconds
40420.37 requests per second

====== LRANGE_100 (first 100 elements) ======
  100000 requests completed in 3.69 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

30.86% <= 1 milliseconds
96.99% <= 2 milliseconds
99.94% <= 3 milliseconds
99.99% <= 4 milliseconds
100.00% <= 4 milliseconds
27085.59 requests per second

====== LRANGE_300 (first 300 elements) ======
  100000 requests completed in 10.22 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

0.03% <= 1 milliseconds
5.90% <= 2 milliseconds
90.68% <= 3 milliseconds
95.46% <= 4 milliseconds
97.67% <= 5 milliseconds
99.12% <= 6 milliseconds
99.98% <= 7 milliseconds
100.00% <= 7 milliseconds
9784.74 requests per second

====== LRANGE_500 (first 450 elements) ======
  100000 requests completed in 14.71 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

0.00% <= 1 milliseconds
0.07% <= 2 milliseconds
1.59% <= 3 milliseconds
89.26% <= 4 milliseconds
97.90% <= 5 milliseconds
99.24% <= 6 milliseconds
99.73% <= 7 milliseconds
99.89% <= 8 milliseconds
99.96% <= 9 milliseconds
99.99% <= 10 milliseconds
100.00% <= 10 milliseconds
6799.48 requests per second

====== LRANGE_600 (first 600 elements) ======
  100000 requests completed in 18.56 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

0.00% <= 2 milliseconds
0.23% <= 3 milliseconds
1.75% <= 4 milliseconds
91.17% <= 5 milliseconds
98.16% <= 6 milliseconds
99.04% <= 7 milliseconds
99.83% <= 8 milliseconds
99.95% <= 9 milliseconds
99.98% <= 10 milliseconds
100.00% <= 10 milliseconds
5387.35 requests per second

====== MSET (10 keys) ======
  100000 requests completed in 4.02 seconds
  50 parallel clients
  3 bytes payload
  keep alive: 1

0.01% <= 1 milliseconds
53.22% <= 2 milliseconds
99.12% <= 3 milliseconds
99.55% <= 4 milliseconds
99.70% <= 5 milliseconds
99.90% <= 6 milliseconds
99.95% <= 7 milliseconds
100.00% <= 8 milliseconds
24869.44 requests per second<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æˆ‘ä»¬è¿™ä¸ªè¯»å†™åˆ†ç¦»è¿™ä¸€å—çš„ç¬¬ä¸€è®²</p>
<p>å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ¥è¯´ï¼Œçœ‹ä½ çš„æœåŠ¡å™¨çš„æœºå™¨æ€§èƒ½å’Œé…ç½®ï¼Œæœºå™¨è¶Šç‰›é€¼ï¼Œé…ç½®è¶Šé«˜</p>
<p>å•æœºä¸Šåå‡ ä¸‡ï¼Œå•æœºä¸ŠäºŒåä¸‡</p>
<p>å¾ˆå¤šå…¬å¸é‡Œï¼Œç»™ä¸€äº›ä½é…ç½®çš„æœåŠ¡å™¨ï¼Œæ“ä½œå¤æ‚åº¦</p>
<p>å¤§å…¬å¸é‡Œï¼Œéƒ½æ˜¯å…¬å¸ä¼šæä¾›ç»Ÿä¸€çš„äº‘å¹³å°ï¼Œæ¯”å¦‚äº¬ä¸œã€è…¾è®¯ã€BATã€å…¶ä»–çš„ä¸€äº›ã€å°ç±³ã€ç¾å›¢</p>
<p>è™šæ‹Ÿæœºï¼Œä½é…</p>
<p>æ­å»ºä¸€äº›é›†ç¾¤ï¼Œä¸“é—¨ä¸ºæŸä¸ªé¡¹ç›®ï¼Œæ­å»ºçš„ä¸“ç”¨é›†ç¾¤ï¼Œ4æ ¸4Gå†…å­˜ï¼Œæ¯”è¾ƒå¤æ‚çš„æ“ä½œï¼Œæ•°æ®æ¯”è¾ƒå¤§</p>
<p>å‡ ä¸‡ï¼Œå•æœºåšåˆ°ï¼Œå·®ä¸å¤šäº†</p>
<p>redisæä¾›çš„é«˜å¹¶å‘ï¼Œè‡³å°‘åˆ°ä¸Šä¸‡ï¼Œæ²¡é—®é¢˜</p>
<p>å‡ ä¸‡~åå‡ ä¸‡/äºŒåä¸‡ä¸ç­‰</p>
<p>QPSï¼Œè‡ªå·±ä¸åŒå…¬å¸ï¼Œä¸åŒæœåŠ¡å™¨ï¼Œè‡ªå·±å»æµ‹è¯•ï¼Œè·Ÿç”Ÿäº§ç¯å¢ƒè¿˜æœ‰åŒºåˆ«</p>
<p>ç”Ÿäº§ç¯å¢ƒï¼Œå¤§é‡çš„ç½‘ç»œè¯·æ±‚çš„è°ƒç”¨ï¼Œç½‘ç»œæœ¬èº«å°±æœ‰å¼€é”€ï¼Œä½ çš„redisçš„ååé‡å°±ä¸ä¸€å®šé‚£ä¹ˆé«˜äº†</p>
<p>QPSçš„ä¸¤ä¸ªæ€æ‰‹ï¼šä¸€ä¸ªæ˜¯å¤æ‚æ“ä½œï¼Œlrangeï¼ŒæŒºå¤šçš„; valueå¾ˆå¤§ï¼Œ2 byteï¼Œæˆ‘ä¹‹å‰ç”¨redisåšå¤§è§„æ¨¡çš„ç¼“å­˜</p>
<p>åšå•†å“è¯¦æƒ…é¡µçš„cacheï¼Œå¯èƒ½æ˜¯éœ€è¦æŠŠå¤§ä¸²æ•°æ®ï¼Œæ‹¼æ¥åœ¨ä¸€èµ·ï¼Œä½œä¸ºä¸€ä¸ªjsonä¸²ï¼Œå¤§å°å¯èƒ½éƒ½å‡ kï¼Œå‡ ä¸ªbyte</p>
<p>2ã€æ°´å¹³æ‰©å®¹redisè¯»èŠ‚ç‚¹ï¼Œæå‡åº¦ååé‡</p>
<p>å°±æŒ‰ç…§ä¸Šä¸€èŠ‚è¯¾è®²è§£çš„ï¼Œå†åœ¨å…¶ä»–æœåŠ¡å™¨ä¸Šæ­å»ºredisä»èŠ‚ç‚¹ï¼Œå•ä¸ªä»èŠ‚ç‚¹è¯»è¯·QPSåœ¨5ä¸‡å·¦å³ï¼Œä¸¤ä¸ªredisä»èŠ‚ç‚¹ï¼Œæ‰€æœ‰çš„è¯»è¯·æ±‚æ‰“åˆ°ä¸¤å°æœºå™¨ä¸Šå»ï¼Œæ‰¿è½½æ•´ä¸ªé›†ç¾¤è¯»QPSåœ¨10ä¸‡+</p>
<h3 id="2-1-5-sentinel-å“¨å…µ"><a href="#2-1-5-sentinel-å“¨å…µ" class="headerlink" title="2.1.5  sentinel å“¨å…µ"></a>2.1.5  sentinel å“¨å…µ</h3><blockquote>
<p>çŸ¥è¯†ç‚¹1ï¼š æ¯ä¸€ä¸ªå“¨å…µéƒ½å¯ä»¥å»ç›‘æ§å¤šä¸ªmaser-slavesçš„ä¸»ä»æ¶æ„</p>
</blockquote>
<p>1ã€å“¨å…µæ˜¯redisé›†ç¾¤æ¶æ„ä¸­éå¸¸é‡è¦çš„ä¸€ä¸ªç»„ä»¶ï¼Œä¸»è¦åŠŸèƒ½å¦‚ä¸‹</p>
<p>ï¼ˆ1ï¼‰é›†ç¾¤ç›‘æ§ï¼Œè´Ÿè´£ç›‘æ§redis masterå’Œslaveè¿›ç¨‹æ˜¯å¦æ­£å¸¸å·¥ä½œ<br>ï¼ˆ2ï¼‰æ¶ˆæ¯é€šçŸ¥ï¼Œå¦‚æœæŸä¸ªrediså®ä¾‹æœ‰æ•…éšœï¼Œé‚£ä¹ˆå“¨å…µè´Ÿè´£å‘é€æ¶ˆæ¯ä½œä¸ºæŠ¥è­¦é€šçŸ¥ç»™ç®¡ç†å‘˜<br>ï¼ˆ3ï¼‰æ•…éšœè½¬ç§»ï¼Œå¦‚æœmaster nodeæŒ‚æ‰äº†ï¼Œä¼šè‡ªåŠ¨è½¬ç§»åˆ°slave nodeä¸Š<br>ï¼ˆ4ï¼‰é…ç½®ä¸­å¿ƒï¼Œå¦‚æœæ•…éšœè½¬ç§»å‘ç”Ÿäº†ï¼Œé€šçŸ¥clientå®¢æˆ·ç«¯æ–°çš„masteråœ°å€</p>
<p>2ã€å“¨å…µçš„æ ¸å¿ƒçŸ¥è¯†</p>
<p>ï¼ˆ1ï¼‰å“¨å…µè‡³å°‘éœ€è¦3ä¸ªå®ä¾‹ï¼Œæ¥ä¿è¯è‡ªå·±çš„å¥å£®æ€§<br>ï¼ˆ2ï¼‰å“¨å…µ + redisä¸»ä»çš„éƒ¨ç½²æ¶æ„ï¼Œæ˜¯ä¸ä¼šä¿è¯æ•°æ®é›¶ä¸¢å¤±çš„ï¼Œåªèƒ½ä¿è¯redisé›†ç¾¤çš„é«˜å¯ç”¨æ€§<br>ï¼ˆ3ï¼‰å¯¹äºå“¨å…µ + redisä¸»ä»è¿™ç§å¤æ‚çš„éƒ¨ç½²æ¶æ„ï¼Œå°½é‡åœ¨æµ‹è¯•ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒï¼Œéƒ½è¿›è¡Œå……è¶³çš„æµ‹è¯•å’Œæ¼”ç»ƒ</p>
<p>3ã€åˆ†å¸ƒå¼é€‰ä¸¾çš„é—®é¢˜</p>
<p>ï¼ˆ1ï¼‰masterå®•æœºåˆ¤å®šï¼Œä¸æ˜¯ç”±ä¸€ä¸ªå“¨å…µåˆ¤æ–­ï¼Œè€Œæ˜¯ç”±æœ‰å¤šæ•°ï¼ˆ2ä¸ªå“¨å…µçš„majority=2ï¼Œ3çš„majority=2ï¼Œ5çš„majority=3ï¼Œ4çš„majority=2ï¼‰å“¨å…µåˆ¤æ–­</p>
<p>ç»å…¸3èŠ‚ç‚¹å“¨å…µé›†ç¾¤</p>
<pre class="line-numbers language-shell"><code class="language-shell">       +----+
       | M1 |
       | S1 |
       +----+
          |
+----+    |    +----+
| R2 |----+----| R3 |
| S2 |         | S3 |
+----+         +----+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>4ã€æ¯ä¸€ä¸ªå“¨å…µéƒ½å¯ä»¥å»ç›‘æ§å¤šä¸ªmaser-slavesçš„ä¸»ä»æ¶æ„ï¼ŒåŒç†ä¸€å¥—å¥—å“¨å…µé›†ç¾¤ï¼Œç›‘æ§ä¸åŒçš„å¤šä¸ªredisä¸»ä»é›†ç¾¤ï¼Œé…ç½®å¦‚ä¸‹:</p>
<pre class="line-numbers language-shell"><code class="language-shell">sentinel monitor mymaster 127.0.0.1 6379 2
#è¶…è¿‡å¤šå°‘æ¯«ç§’è·Ÿä¸€ä¸ªrediså®ä¾‹æ–­äº†è¿æ¥ï¼Œå“¨å…µå°±å¯èƒ½è®¤ä¸ºè¿™ä¸ªrediså®ä¾‹æŒ‚äº†    
sentinel down-after-milliseconds mymaster 60000
#æ‰§è¡Œæ•…éšœè½¬ç§»çš„timeoutè¶…æ—¶æ—¶é•¿
sentinel failover-timeout mymaster 180000
#æ–°çš„masteråˆ‡æ¢ä¹‹å æœ€å¤šå¯ä»¥æœ‰å¤šå°‘ä¸ªä»æœåŠ¡å™¨åŒæ—¶å¯¹æ–°çš„ä¸»æœåŠ¡å™¨è¿›è¡ŒåŒæ­¥ï¼Œ è¿™ä¸ªæ•°å­—è¶Šå°ï¼Œ å®Œæˆæ•…éšœè½¬ç§»æ‰€éœ€çš„æ—¶é—´å°±è¶Šé•¿ã€‚
sentinel parallel-syncs mymaster 1

sentinel monitor resque 192.168.1.3 6380 4
sentinel down-after-milliseconds resque 10000
sentinel failover-timeout resque 180000
sentinel parallel-syncs resque 5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="1-å“¨å…µä¸»å¤‡åˆ‡æ¢çš„æ•°æ®ä¸¢å¤±é—®é¢˜ï¼šå¼‚æ­¥å¤åˆ¶ã€é›†ç¾¤è„‘è£‚"><a href="#1-å“¨å…µä¸»å¤‡åˆ‡æ¢çš„æ•°æ®ä¸¢å¤±é—®é¢˜ï¼šå¼‚æ­¥å¤åˆ¶ã€é›†ç¾¤è„‘è£‚" class="headerlink" title="(1) å“¨å…µä¸»å¤‡åˆ‡æ¢çš„æ•°æ®ä¸¢å¤±é—®é¢˜ï¼šå¼‚æ­¥å¤åˆ¶ã€é›†ç¾¤è„‘è£‚"></a>(1) å“¨å…µä¸»å¤‡åˆ‡æ¢çš„æ•°æ®ä¸¢å¤±é—®é¢˜ï¼šå¼‚æ­¥å¤åˆ¶ã€é›†ç¾¤è„‘è£‚</h4><p>ç¬¬ä¸€ã€ä¸»å¤‡åˆ‡æ¢çš„è¿‡ç¨‹ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±</p>
<ul>
<li><p>å¼‚æ­¥å¤åˆ¶ä¸­æ–­<br>å› ä¸ºmaster -&gt; slaveçš„å¤åˆ¶æ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥å¯èƒ½æœ‰éƒ¨åˆ†æ•°æ®è¿˜æ²¡å¤åˆ¶åˆ°slaveï¼Œmasterå°±å®•æœºäº†ï¼Œæ­¤æ—¶è¿™äº›éƒ¨åˆ†æ•°æ®å°±ä¸¢å¤±äº†</p>
</li>
<li><p>è„‘è£‚å¯¼è‡´</p>
<blockquote>
<p>è„‘è£‚ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæŸä¸ªmasteræ‰€åœ¨æœºå™¨çªç„¶è„±ç¦»äº†æ­£å¸¸çš„ç½‘ç»œï¼Œè·Ÿå…¶ä»–slaveæœºå™¨ä¸èƒ½è¿æ¥ï¼Œä½†æ˜¯å®é™…ä¸Šmasterè¿˜è¿è¡Œç€</p>
<p>æ­¤æ—¶å“¨å…µå¯èƒ½å°±ä¼šè®¤ä¸ºmasterå®•æœºäº†ï¼Œç„¶åå¼€å¯é€‰ä¸¾ï¼Œå°†å…¶ä»–slaveåˆ‡æ¢æˆäº†master</p>
<p>è¿™ä¸ªæ—¶å€™ï¼Œé›†ç¾¤é‡Œå°±ä¼šæœ‰ä¸¤ä¸ªmasterï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„è„‘è£‚</p>
<p>æ­¤æ—¶è™½ç„¶æŸä¸ªslaveè¢«åˆ‡æ¢æˆäº†masterï¼Œä½†æ˜¯å¯èƒ½clientè¿˜æ²¡æ¥å¾—åŠåˆ‡æ¢åˆ°æ–°çš„masterï¼Œè¿˜ç»§ç»­å†™å‘æ—§masterçš„æ•°æ®å¯èƒ½ä¹Ÿä¸¢å¤±äº†</p>
</blockquote>
</li>
</ul>
<p>ç¬¬äºŒã€è§£å†³æ–¹æ¡ˆ</p>
<pre class="line-numbers language-shell"><code class="language-shell">min-slaves-to-write 1
min-slaves-max-lag 10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>é…ç½®è§£æï¼šè¦æ±‚è‡³å°‘æœ‰1ä¸ªslaveï¼Œæ•°æ®å¤åˆ¶å’ŒåŒæ­¥çš„å»¶è¿Ÿä¸èƒ½è¶…è¿‡10ç§’ï¼Œä¸€æ—¦æ‰€æœ‰çš„slaveï¼Œæ•°æ®å¤åˆ¶å’ŒåŒæ­¥çš„å»¶è¿Ÿéƒ½è¶…è¿‡äº†10ç§’é’Ÿï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œmasterå°±ä¸ä¼šå†æ¥æ”¶ä»»ä½•è¯·æ±‚äº†</p>
<p>1ã€ å‡å°‘å¼‚æ­¥å¤åˆ¶çš„æ•°æ®ä¸¢å¤±</p>
<p>slaveå¤åˆ¶è¶…è¿‡<code>min-slaves-max-lag</code>é…ç½®æ—¶é—´ï¼Œmasterå°±ä¼šæ‹’ç»å†™è¯·æ±‚ï¼Œæ ·å¯ä»¥æŠŠmasterå®•æœºæ—¶ç”±äºéƒ¨åˆ†æ•°æ®æœªåŒæ­¥åˆ°slaveå¯¼è‡´çš„æ•°æ®ä¸¢å¤±é™ä½çš„å¯æ§èŒƒå›´å†…</p>
<p>2ã€å‡å°‘è„‘è£‚çš„æ•°æ®ä¸¢å¤±</p>
<p>å¦‚æœè·Ÿä»»ä½•ä¸€ä¸ªslaveä¸¢äº†è¿æ¥ï¼Œåœ¨10ç§’åå‘ç°æ²¡æœ‰slaveç»™è‡ªå·±ackï¼Œé‚£ä¹ˆå°±æ‹’ç»æ–°çš„å†™è¯·æ±‚å› æ­¤åœ¨è„‘è£‚åœºæ™¯ä¸‹ï¼Œæœ€å¤šå°±ä¸¢å¤±10ç§’çš„æ•°æ®</p>
<h4 id="2-å“¨å…µçš„å¸¸ç”¨æ“ä½œ"><a href="#2-å“¨å…µçš„å¸¸ç”¨æ“ä½œ" class="headerlink" title="(2) å“¨å…µçš„å¸¸ç”¨æ“ä½œ"></a>(2) å“¨å…µçš„å¸¸ç”¨æ“ä½œ</h4><p><a href="http://doc.redisfans.com/topic/sentinel.html" target="_blank" rel="noopener">http://doc.redisfans.com/topic/sentinel.html</a></p>
<pre class="line-numbers language-shell"><code class="language-shell">#åˆ—å‡ºæ‰€æœ‰è¢«ç›‘è§†çš„ä¸»æœåŠ¡å™¨ï¼Œä»¥åŠè¿™äº›ä¸»æœåŠ¡å™¨çš„å½“å‰çŠ¶æ€ã€‚
192.168.1.12:5000> sentinel master mymaster
#åˆ—å‡ºç»™å®šä¸»æœåŠ¡å™¨çš„æ‰€æœ‰ä»æœåŠ¡å™¨ï¼Œä»¥åŠè¿™äº›ä»æœåŠ¡å™¨çš„å½“å‰çŠ¶æ€ã€‚
192.168.1.12:5000> SENTINEL slaves mymaster
192.168.1.12:5000> SENTINEL sentinels mymaster
192.168.1.12:5000> SENTINEL get-master-addr-by-name mymaster<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>1ã€å“¨å…µèŠ‚ç‚¹çš„å¢åŠ å’Œåˆ é™¤</p>
<p>å¢åŠ sentinalï¼Œä¼šè‡ªåŠ¨å‘ç°</p>
<p>åˆ é™¤sentinalçš„æ­¥éª¤</p>
<p>ï¼ˆ1ï¼‰åœæ­¢sentinalè¿›ç¨‹<br>ï¼ˆ2ï¼‰SENTINEL RESET *ï¼Œåœ¨æ‰€æœ‰sentinalä¸Šæ‰§è¡Œï¼Œæ¸…ç†æ‰€æœ‰çš„masterçŠ¶æ€<br>ï¼ˆ3ï¼‰SENTINEL MASTER masternameï¼Œåœ¨æ‰€æœ‰sentinalä¸Šæ‰§è¡Œï¼ŒæŸ¥çœ‹æ‰€æœ‰sentinalå¯¹æ•°é‡æ˜¯å¦è¾¾æˆäº†ä¸€è‡´</p>
<h4 id="3-å®¹ç¾æ¼”ç»ƒ"><a href="#3-å®¹ç¾æ¼”ç»ƒ" class="headerlink" title="(3) å®¹ç¾æ¼”ç»ƒ"></a>(3) å®¹ç¾æ¼”ç»ƒ</h4><p>ç¬¬ä¸€æ­¥ï¼šå‚è€ƒç¬¬ä¸€ç« å“¨å…µé›†ç¾¤é…ç½®ï¼Œè®¾ç½®æˆéåå°å¯åŠ¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">daemonize no<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šæŠŠmasterèŠ‚ç‚¹kill -9æ‰ï¼Œpidæ–‡ä»¶ä¹Ÿåˆ é™¤æ‰</p>
<p>ç¬¬ä¸‰æ­¥ï¼šè§‚å¯Ÿsentinelæ—¥å¿—</p>
<p>æ˜¯å¦å‡ºç°+sdownå­—æ ·ï¼Œè¯†åˆ«å‡ºäº†masterçš„å®•æœºé—®é¢˜; ç„¶åå‡ºç°+odownå­—æ ·ï¼Œå°±æ˜¯æŒ‡å®šçš„quorumå“¨å…µæ•°é‡ï¼Œéƒ½è®¤ä¸ºmasterå®•æœºäº†</p>
<p>1ã€è¿‡ç¨‹åˆ†æ</p>
<p>ï¼ˆ1ï¼‰ä¸‰ä¸ªå“¨å…µè¿›ç¨‹éƒ½è®¤ä¸ºmasteræ˜¯sdownäº†<br>ï¼ˆ2ï¼‰è¶…è¿‡quorumæŒ‡å®šçš„å“¨å…µè¿›ç¨‹éƒ½è®¤ä¸ºsdownä¹‹åï¼Œå°±å˜ä¸ºodown<br>ï¼ˆ3ï¼‰å“¨å…µ1æ˜¯è¢«é€‰ä¸¾ä¸ºè¦æ‰§è¡Œåç»­çš„ä¸»å¤‡åˆ‡æ¢çš„é‚£ä¸ªå“¨å…µ<br>ï¼ˆ4ï¼‰å“¨å…µ1å»æ–°çš„masterï¼ˆslaveï¼‰è·å–äº†ä¸€ä¸ªæ–°çš„config version<br>ï¼ˆ5ï¼‰å°è¯•æ‰§è¡Œfailover<br>ï¼ˆ6ï¼‰æŠ•ç¥¨é€‰ä¸¾å‡ºä¸€ä¸ªslaveåŒºåˆ‡æ¢æˆmasterï¼Œæ¯éš”å“¨å…µéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡æŠ•ç¥¨<br>ï¼ˆ7ï¼‰è®©salveï¼Œslaveof nooneï¼Œä¸è®©å®ƒå»åšä»»ä½•èŠ‚ç‚¹çš„slaveäº†; æŠŠslaveææ‹”æˆmaster; æ—§çš„masterè®¤ä¸ºä¸å†æ˜¯masteräº†<br>ï¼ˆ8ï¼‰å“¨å…µå°±è‡ªåŠ¨è®¤ä¸ºä¹‹å‰çš„187:6379å˜æˆäº†slaveäº†ï¼Œ19:6379å˜æˆäº†masteräº†<br>ï¼ˆ9ï¼‰å“¨å…µå»æ¢æŸ¥äº†ä¸€ä¸‹187:6379è¿™ä¸ªsalveçš„çŠ¶æ€ï¼Œè®¤ä¸ºå®ƒsdownäº†</p>
<p>2ã€å°è¯•è¿æ¥æ–°masteræµ‹è¯•</p>
<p>SENTINEL get-master-addr-by-name mymaster</p>
<p>3ã€æ¢å¤æ•…éšœmasteræŸ¥çœ‹æ˜¯å¦åˆ‡æ¢æˆslaveèŠ‚ç‚¹</p>
<h3 id="2-1-6-redis-cluster"><a href="#2-1-6-redis-cluster" class="headerlink" title="2.1.6 redis cluster"></a>2.1.6 redis cluster</h3><blockquote>
<p>çŸ¥è¯†ç‚¹ï¼š</p>
<ol>
<li>rediså•æœºï¼Œè¯»ååæ˜¯5w/sï¼Œå†™åå2w/s</li>
<li>æ‰©å±•redisæ›´å¤šmasterï¼Œé‚£ä¹ˆå¦‚æœæœ‰5å°masterï¼Œä¸å°±è¯»ååå¯ä»¥è¾¾åˆ°æ€»é‡25w/s QPSï¼Œå†™å¯ä»¥è¾¾åˆ°10w/s QPS</li>
<li>rediså•æœºï¼Œå†…å­˜ä¸è¦è¿‡å¤§ï¼Œ6Gï¼Œ8Gï¼Œforkç±»æ“ä½œçš„æ—¶å€™å¾ˆè€—æ—¶</li>
</ol>
</blockquote>
<h4 id="1-cluster-vs-replication"><a href="#1-cluster-vs-replication" class="headerlink" title="(1) cluster vs replication"></a>(1) cluster vs replication</h4><p>å¦‚æœä½ çš„æ•°æ®é‡å¾ˆå°‘ï¼Œä¸»è¦æ˜¯æ‰¿è½½é«˜å¹¶å‘é«˜æ€§èƒ½çš„åœºæ™¯ï¼Œæ¯”å¦‚ä½ çš„ç¼“å­˜ä¸€èˆ¬å°±å‡ ä¸ªGï¼Œå•æœºè¶³å¤Ÿäº†</p>
<p>replicationï¼Œä¸€ä¸ªmaterï¼Œå¤šä¸ªslaveï¼Œè¦å‡ ä¸ªslaveè·Ÿä½ çš„è¦æ±‚çš„è¯»ååé‡æœ‰å…³ç³»ï¼Œç„¶åè‡ªå·±æ­å»ºä¸€ä¸ªsentinalé›†ç¾¤ï¼Œå»ä¿è¯redisä¸»ä»æ¶æ„çš„é«˜å¯ç”¨æ€§ï¼Œå°±å¯ä»¥äº†</p>
<p>redis clusterï¼Œä¸»è¦æ˜¯é’ˆå¯¹æµ·é‡æ•°æ®+é«˜å¹¶å‘+é«˜å¯ç”¨çš„åœºæ™¯ï¼Œæµ·é‡æ•°æ®ï¼Œå¦‚æœä½ çš„æ•°æ®é‡å¾ˆå¤§ï¼Œé‚£ä¹ˆå»ºè®®å°±ç”¨redis cluster</p>
<h4 id="2-æ•°æ®åˆ†å¸ƒå¼ç®—æ³•"><a href="#2-æ•°æ®åˆ†å¸ƒå¼ç®—æ³•" class="headerlink" title="(2) æ•°æ®åˆ†å¸ƒå¼ç®—æ³•"></a>(2) æ•°æ®åˆ†å¸ƒå¼ç®—æ³•</h4><p>1ã€æœ€è€åœŸçš„hashç®—æ³•å’Œå¼Šç«¯ï¼ˆå¤§é‡ç¼“å­˜é‡å»ºï¼‰</p>
<p>2ã€ ä¸€è‡´æ€§hashç®—æ³•ï¼ˆè‡ªåŠ¨ç¼“å­˜è¿ç§»ï¼‰+è™šæ‹ŸèŠ‚ç‚¹ï¼ˆè‡ªåŠ¨è´Ÿè½½å‡è¡¡ï¼‰</p>
<p>3ã€redis clusterçš„hash slotç®—æ³•</p>
<p>redis clusteræœ‰å›ºå®šçš„16384ä¸ªhash slotï¼Œå¯¹æ¯ä¸ªkeyè®¡ç®—CRC16å€¼ï¼Œç„¶åå¯¹16384å–æ¨¡ï¼Œå¯ä»¥è·å–keyå¯¹åº”çš„hash slot</p>
<p>redis clusterä¸­æ¯ä¸ªmasteréƒ½ä¼šæŒæœ‰éƒ¨åˆ†slotï¼Œæ¯”å¦‚æœ‰3ä¸ªmasterï¼Œé‚£ä¹ˆå¯èƒ½æ¯ä¸ªmasteræŒæœ‰5000å¤šä¸ªhash slot</p>
<p>hash slotè®©nodeçš„å¢åŠ å’Œç§»é™¤å¾ˆç®€å•ï¼Œå¢åŠ ä¸€ä¸ªmasterï¼Œå°±å°†å…¶ä»–masterçš„hash slotç§»åŠ¨éƒ¨åˆ†è¿‡å»ï¼Œå‡å°‘ä¸€ä¸ªmasterï¼Œå°±å°†å®ƒçš„hash slotç§»åŠ¨åˆ°å…¶ä»–masterä¸Šå»</p>
<p>ç§»åŠ¨hash slotçš„æˆæœ¬æ˜¯éå¸¸ä½çš„    </p>
<h4 id="3-redis-cluster-æ­å»º"><a href="#3-redis-cluster-æ­å»º" class="headerlink" title="(3) redis cluster æ­å»º"></a>(3) redis cluster æ­å»º</h4><p><a href="https://www.cnblogs.com/zhaocaim/p/10112989.html" target="_blank" rel="noopener">Redisé›†ç¾¤Redis-clusteræ­å»ºåŠæ•…éšœã€æ€§èƒ½æµ‹è¯•</a></p>
<p>1ã€ é‡è¦é…ç½®</p>
<pre class="line-numbers language-shell"><code class="language-shell">cluster-enabled <yes/no><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>cluster-config-file <filename><br>è¿™æ˜¯æŒ‡å®šä¸€ä¸ªæ–‡ä»¶ï¼Œä¾›clusteræ¨¡å¼ä¸‹çš„rediså®ä¾‹å°†é›†ç¾¤çŠ¶æ€ä¿å­˜åœ¨é‚£é‡Œï¼ŒåŒ…æ‹¬é›†ç¾¤ä¸­å…¶ä»–æœºå™¨çš„ä¿¡æ¯ï¼Œæ¯”å¦‚èŠ‚ç‚¹çš„ä¸Šçº¿å’Œä¸‹é™ï¼Œæ•…éšœè½¬ç§»ï¼Œä¸æ˜¯æˆ‘ä»¬å»ç»´æŠ¤çš„ï¼Œç»™å®ƒæŒ‡å®šä¸€ä¸ªæ–‡ä»¶ï¼Œè®©redisè‡ªå·±å»ç»´æŠ¤çš„</filename></li>
<li>cluster-node-timeout <milliseconds></milliseconds></li>
<li>æ­£å¼ç¯å¢ƒä¸‹ï¼Œå»ºè®®éƒ½æ˜¯è¯´åœ¨6å°æœºå™¨ä¸Šå»æ­å»ºï¼Œè‡³å°‘3å°æœºå™¨</li>
</ul>
<p>2ã€3å°æœºå™¨æ­å»º6ä¸ªrediså®ä¾‹é›†ç¾¤</p>
<p>ç¬¬ä¸€æ­¥ï¼šå¼€æ”¾æŒ‡å®šç«¯å£</p>
<p>1ã€ CentOS6</p>
<pre class="line-numbers language-shell"><code class="language-shell">#!/usr/bin/env bash
for port in 7000 7001 17000 17001; do
  iptables -A INPUT -p tcp --dport ${port} -j ACCEPT
  iptables -A OUTPUT -p tcp --sport ${port} -j ACCEPT
done
service iptables save
iptables -L -n<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>2ã€CentOS 7</p>
<pre class="line-numbers language-shell"><code class="language-shell">firewall-cmd --add-port=6379/tcp
firewall-cmd --permanent --add-port=6379/tcp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ç¬¬äºŒæ­¥ï¼šå‡†å¤‡åŒä¸€çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚ä¸‹6379.conf</p>
<pre class="line-numbers language-shell"><code class="language-shell">port 7001
cluster-enabled yes
cluster-config-file /etc/redis-cluster/node-7001.conf
cluster-node-timeout 15000

daemonize    yes                            
pidfile        /var/run/redis_7001.pid                         
dir         /var/redis/7001        
logfile /var/log/redis/7001.log
bind 192.168.31.187        
appendonly yes<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ã€æ³¨æ„é‡ç‚¹ã€‘</p>
<ul>
<li>bind  ä¸èƒ½æ˜¯ <code>127.0.0.1 192.168.1.11</code> å¦åˆ™æ— æ³•åˆ›å»ºè¿æ¥ï¼Œå‡ºç°<code>Waiting for the cluster to join</code>çš„é—®é¢˜</li>
<li>åŒä¸€å°ç”µè„‘ï¼Œæ¯ä¸€ä»½confï¼Œ portå¿…ä¸åŒ</li>
</ul>
<p>ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®éƒ¨ç½²redisä¸ªæ•°å¹¶å¯åŠ¨</p>
<p>redis-cluster-deploy.sh</p>
<pre class="line-numbers language-shell"><code class="language-shell">#!/usr/bin/env bash

mkdir -p /etc/redis-cluster

mkdir -p /var/log/redis

port=7000
while (( ${port} <= 7001 ))
do
  mkdir -p /var/redis/"$port"
  cp ./6379.conf ./"$port".conf
  sed -i ``s/__port__/"$port"/g`` `grep __port__ -rl ./$port.conf`
  mv ./"$port".conf /etc/redis -f

  cp ./redis_6379 ./redis_"$port" -f

  sed -i ``s/__port__/"$port"/g`` `grep __port__ -rl ./redis_"$port"`
  mv ./redis_"$port" /etc/init.d/ -f
  rm /var/run/redis_"$port".pid -f
  source /etc/init.d/redis_"$port" start
  echo "port = $port"
  let "port++"
done
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç¬¬å››æ­¥ï¼šé‡å»ºé›†ç¾¤è‡ªåŠ¨åˆ†é…master/slave</p>
<p>ä¸€ä¸»ä¸€ä»</p>
<pre class="line-numbers language-shell"><code class="language-shell">redis-cli  --cluster create 192.168.1.12:7001 192.168.1.12:7000 192.168.1.13:7001 192.168.1.13:7000 192.168.1.11:7001 192.168.1.11:7000 --cluster-replicas 1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><em>ä¸€ä¸»ä¸¤ä»</em></p>
<pre class="line-numbers language-shell"><code class="language-shell">./redis-cli  --cluster  create 172.20.0.17:7001 172.20.0.18:7001 172.20.0.19:7001 172.20.0.17:7002 172.20.0.18:7002 172.20.0.19:7002 172.20.0.17:7003 172.20.0.18:7003 172.20.0.19:7003 --cluster-replicas 2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è·å–usageä¿¡æ¯</p>
<pre class="line-numbers language-shell"><code class="language-shell">redis-cli  --cluster help<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>Redis5.0</strong> ä¸€ä¸‹ä½¿ç”¨å¦‚ä¸‹(éœ€è¦æ­å»ºrubyç¯å¢ƒï¼Œæ–¹æ³•å‚è€ƒ1.2.4 )</p>
<pre class="line-numbers language-shell"><code class="language-shell">redis-trib.rb create --replicas 1 192.168.31.187:7001 192.168.31.187:7002 192.168.31.19:7003 192.168.31.19:7004 192.168.31.227:7005 192.168.31.227:7006<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="4-cluster-çš„åŸºæœ¬ä½¿ç”¨"><a href="#4-cluster-çš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="(4) cluster çš„åŸºæœ¬ä½¿ç”¨"></a>(4) cluster çš„åŸºæœ¬ä½¿ç”¨</h4><pre class="line-numbers language-shell"><code class="language-shell">  create         host1:port1 ... hostN:portN
                 --cluster-replicas <arg>
  check          host:port
                 --cluster-search-multiple-owners
  info           host:port
  fix            host:port
                 --cluster-search-multiple-owners
  reshard        host:port
                 --cluster-from <arg>
                 --cluster-to <arg>
                 --cluster-slots <arg>
                 --cluster-yes
                 --cluster-timeout <arg>
                 --cluster-pipeline <arg>
                 --cluster-replace
  rebalance      host:port
                 --cluster-weight <node1=w1...nodeN=wN>
                 --cluster-use-empty-masters
                 --cluster-timeout <arg>
                 --cluster-simulate
                 --cluster-pipeline <arg>
                 --cluster-threshold <arg>
                 --cluster-replace
  add-node       new_host:new_port existing_host:existing_port
                 --cluster-slave
                 --cluster-master-id <arg>
  del-node       host:port node_id
  call           host:port command arg arg .. arg
  set-timeout    host:port milliseconds
  import         host:port
                 --cluster-from <arg>
                 --cluster-copy
                 --cluster-replace<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
<li><p>redis-cli -cå¯åŠ¨ï¼Œå°±ä¼šè‡ªåŠ¨è¿›è¡Œå„ç§åº•å±‚çš„é‡å®šå‘çš„æ“ä½œ </p>
<pre class="line-numbers language-shell"><code class="language-shell">redis-cli -h 192.168.1.13 -p 7001 -c<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯</p>
<pre class="line-numbers language-shell"><code class="language-shell">redis-cli  -h 172.20.0.17 -p 7001 cluster nodes<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>å¢åŠ ä¸€ä¸ªèŠ‚ç‚¹</p>
<pre class="line-numbers language-shell"><code class="language-shell">redis-cli --cluster add-node    new_host:new_port existing_host:existing_port

redis-cli --cluster add-node 192.168.1.9:7000 192.168.1.13:7000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>æ£€æŸ¥èŠ‚ç‚¹çŠ¶æ€</p>
<pre class="line-numbers language-shell"><code class="language-shell">redis-cli --cluster check 192.168.1.9:7000<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>åˆ†é…slot</p>
<pre class="line-numbers language-shell"><code class="language-shell">redis-cli --cluster reshard 127.0.0.1:6379 --cluster-from 2846540d8284538096f111a8ce7cf01c50199237,e0a9c3e60eeb951a154d003b9b28bbdc0be67d5b,692dec0ccd6bdf68ef5d97f145ecfa6d6bca6132 --cluster-to 46f0b68b3f605b3369d3843a89a2b4a164ed21e8 --cluster-slots 1024<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li><p><strong>â€“cluster-fromï¼šè¡¨ç¤ºslotç›®å‰æ‰€åœ¨çš„èŠ‚ç‚¹çš„node IDï¼Œå¤šä¸ªIDç”¨é€—å·åˆ†éš”</strong></p>
</li>
<li><p><strong>â€“cluster-toï¼šè¡¨ç¤ºéœ€è¦æ–°åˆ†é…èŠ‚ç‚¹çš„node IDï¼ˆè²Œä¼¼æ¯æ¬¡åªèƒ½åˆ†é…ä¸€ä¸ªï¼‰</strong></p>
</li>
<li><p><strong>â€“cluster-slotsï¼šåˆ†é…çš„slotæ•°é‡</strong></p>
</li>
</ul>
</li>
<li><p>æ·»åŠ slaveèŠ‚ç‚¹</p>
<pre class="line-numbers language-shell"><code class="language-shell">redis-cli --cluster add-node 127.0.0.1:6386 127.0.0.1:6385 --cluster-slave --cluster-master-id 46f0b68b3f605b3369d3843a89a2b4a164ed21e8<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>æ”¶ç¼©é›†ç¾¤<br>ä¸‹çº¿èŠ‚ç‚¹127.0.0.1:6385ï¼ˆmasterï¼‰/127.0.0.1:6386ï¼ˆslaveï¼‰</p>
<p>ï¼ˆ1ï¼‰é¦–å…ˆåˆ é™¤masterå¯¹åº”çš„slave</p>
<p>redis-cli â€“cluster del-node 127.0.0.1:6386 530cf27337c1141ed12268f55ba06c15ca8494fc</p>
<p>del-nodeåé¢è·Ÿç€slaveèŠ‚ç‚¹çš„ ip:port å’Œnode ID</p>
<p>ï¼ˆ2ï¼‰æ¸…ç©ºmasterçš„slot</p>
<p>redis-cli â€“cluster reshard 127.0.0.1:6385 â€“cluster-from 46f0b68b3f605b3369d3843a89a2b4a164ed21e8 â€“cluster-to 2846540d8284538096f111a8ce7cf01c50199237 â€“cluster-slots 1024 â€“cluster-yes</p>
<p>reshardå­å‘½ä»¤å‰é¢å·²ç»ä»‹ç»è¿‡äº†ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œç”±äºæˆ‘ä»¬çš„é›†ç¾¤ä¸€å…±æœ‰å››ä¸ªä¸»èŠ‚ç‚¹ï¼Œè€Œæ¯æ¬¡reshardåªèƒ½å†™ä¸€ä¸ªç›®çš„èŠ‚ç‚¹ï¼Œå› æ­¤ä»¥ä¸Šå‘½ä»¤éœ€è¦æ‰§è¡Œä¸‰æ¬¡ï¼ˆâ€“cluster-toå¯¹åº”ä¸åŒçš„ç›®çš„èŠ‚ç‚¹ï¼‰ã€‚</p>
<p>â€“cluster-yesï¼šä¸å›æ˜¾éœ€è¦è¿ç§»çš„slotï¼Œç›´æ¥è¿ç§»ã€‚</p>
<p>ï¼ˆ3ï¼‰ä¸‹çº¿ï¼ˆåˆ é™¤ï¼‰èŠ‚ç‚¹</p>
<p>redis-cli â€“cluster del-node 127.0.0.1:6385 46f0b68b3f605b3369d3843a89a2b4a164ed21e8</p>
</li>
</ol>
<h4 id="5-redis-å®æˆ˜è®°å½•"><a href="#5-redis-å®æˆ˜è®°å½•" class="headerlink" title="(5) redis å®æˆ˜è®°å½•"></a>(5) redis å®æˆ˜è®°å½•</h4><ol>
<li><p>æä¾›å†—ä½™çš„slaveï¼ˆæœ‰çš„masterå°±æœ‰2ä¸ªslaveäº†æˆ–å¤šä¸ªslaveï¼‰ï¼Œé˜²æ­¢ä¸¤ä¸ªèŠ‚ç‚¹masterå’Œslaveç›¸ç»§å®•æœºï¼Œæé«˜ç³»ç»Ÿå®‰å…¨æ€§ï¼›</p>
</li>
<li><p>ã€é‡ç‚¹ã€‘å®è·µéƒ¨ç½²è¿‡ç¨‹ä¸­è¦å¯¼å…¥æ•°æ®åæ¨¡æ‹Ÿæ­£å¼ç¯å¢ƒè¿›è¡Œå®æˆ˜æµ‹è¯•</p>
<ol>
<li><p>æ‰¹é‡å¯¼å…¥åªæœ‰æ•°æ® <code>cat data.txt | redis-cli --pipe</code></p>
<pre class="line-numbers language-shell"><code class="language-shell">data.txt
SET Key0 Value0
SET Key1 Value1
SET Key2 Value2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
</li>
</ol>
<ol start="2">
<li><p>åšå„ç§å‹åŠ›æµ‹è¯•ï¼Œæ€§èƒ½ï¼Œredis-benchmarkï¼Œå¹¶å‘ï¼ŒQPSï¼Œé«˜å¯ç”¨çš„æ¼”ç»ƒï¼Œæ¯å°æœºå™¨æœ€å¤§èƒ½å­˜å‚¨å¤šå°‘æ•°æ®é‡ï¼Œæ¨ªå‘æ‰©å®¹æ”¯æ’‘æ›´å¤šæ•°æ®</p>
</li>
<li><p>åŸºäºæµ‹è¯•ç¯å¢ƒè¿˜æœ‰æµ‹è¯•æ•°æ®ï¼Œåšå„ç§æ¼”ç»ƒï¼Œå»æ‘¸ç´¢ä¸€äº›æœ€é€‚åˆè‡ªå·±çš„ä¸€äº›ç»†èŠ‚çš„ä¸œè¥¿</p>
</li>
</ol>
<h4 id="6-redis-å¸¸è§é—®é¢˜åŠä¼˜åŒ–æ€è·¯"><a href="#6-redis-å¸¸è§é—®é¢˜åŠä¼˜åŒ–æ€è·¯" class="headerlink" title="(6) redis å¸¸è§é—®é¢˜åŠä¼˜åŒ–æ€è·¯"></a>(6) redis å¸¸è§é—®é¢˜åŠä¼˜åŒ–æ€è·¯</h4><p>1ã€forkè€—æ—¶å¯¼è‡´é«˜å¹¶å‘è¯·æ±‚å»¶æ—¶</p>
<blockquote>
<p>ä¸€èˆ¬æ¥å•æœºAOF rewriteè¯´ï¼Œå¦‚æœçˆ¶è¿›ç¨‹å†…å­˜æœ‰1ä¸ªGçš„æ•°æ®ï¼Œé‚£ä¹ˆforkå¯èƒ½ä¼šè€—è´¹åœ¨20mså·¦å³ï¼Œå¦‚æœæ˜¯10G~30Gï¼Œé‚£ä¹ˆå°±ä¼šè€—è´¹20 * 10ï¼Œç”šè‡³20 * 30ï¼Œä¹Ÿå°±æ˜¯å‡ ç™¾æ¯«ç§’çš„æ—¶é—´</p>
</blockquote>
<p>info statsä¸­çš„latest_fork_usecï¼Œå¯ä»¥çœ‹åˆ°æœ€è¿‘ä¸€æ¬¡formçš„æ—¶é•¿</p>
<p>rediså•æœºQPSä¸€èˆ¬åœ¨å‡ ä¸‡ï¼Œforkå¯èƒ½ä¸€ä¸‹å­å°±ä¼šæ‹–æ…¢å‡ ä¸‡æ¡æ“ä½œçš„è¯·æ±‚æ—¶é•¿ï¼Œä»å‡ æ¯«ç§’å˜æˆ1ç§’</p>
<p>é—®é¢˜ï¼š</p>
<p>â€‹    rediså•æœºQPSä¸€èˆ¬åœ¨å‡ ä¸‡ï¼Œforkå¯èƒ½ä¸€ä¸‹å­å°±ä¼šæ‹–æ…¢å‡ ä¸‡æ¡æ“ä½œçš„è¯·æ±‚æ—¶é•¿ï¼Œä»å‡ æ¯«ç§’å˜æˆ1ç§’</p>
<p>ä¼˜åŒ–æ€è·¯</p>
<p>forkè€—æ—¶è·Ÿredisä¸»è¿›ç¨‹çš„å†…å­˜æœ‰å…³ç³»ï¼Œä¸€èˆ¬æ§åˆ¶redisçš„å†…å­˜åœ¨10GBä»¥å†…ï¼Œslave -&gt; masterï¼Œå…¨é‡å¤åˆ¶</p>
<p>2ã€AOFçš„é˜»å¡é—®é¢˜</p>
<p>é—®é¢˜</p>
<blockquote>
<p>rediså°†æ•°æ®å†™å…¥AOFç¼“å†²åŒºï¼Œå•ç‹¬å¼€ä¸€ä¸ªç°åœºåšfsyncæ“ä½œï¼Œæ¯ç§’ä¸€æ¬¡</p>
<p>ä½†æ˜¯redisä¸»çº¿ç¨‹ä¼šæ£€æŸ¥ä¸¤æ¬¡fsyncçš„æ—¶é—´ï¼Œå¦‚æœè·ç¦»ä¸Šæ¬¡fsyncæ—¶é—´è¶…è¿‡äº†2ç§’ï¼Œé‚£ä¹ˆå†™è¯·æ±‚å°±ä¼šé˜»å¡</p>
<p>everysecï¼Œæœ€å¤šä¸¢å¤±2ç§’çš„æ•°æ®</p>
<p>ä¸€æ—¦fsyncè¶…è¿‡2ç§’çš„å»¶æ—¶ï¼Œæ•´ä¸ªrediså°±è¢«æ‹–æ…¢</p>
</blockquote>
<p>ä¼˜åŒ–æ€è·¯</p>
<p>ä¼˜åŒ–ç¡¬ç›˜å†™å…¥é€Ÿåº¦ï¼Œå»ºè®®é‡‡ç”¨SSDï¼Œä¸è¦ç”¨æ™®é€šçš„æœºæ¢°ç¡¬ç›˜ï¼ŒSSDï¼Œå¤§å¹…åº¦æå‡ç£ç›˜è¯»å†™çš„é€Ÿåº¦</p>
<p>3ã€ä¸»ä»å¤åˆ¶å»¶è¿Ÿé—®é¢˜</p>
<p>ä¸»ä»å¤åˆ¶å¯èƒ½ä¼šè¶…æ—¶ä¸¥é‡ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦è‰¯å¥½çš„ç›‘æ§å’ŒæŠ¥è­¦æœºåˆ¶</p>
<p>åœ¨info replicationä¸­ï¼Œå¯ä»¥çœ‹åˆ°masterå’Œslaveå¤åˆ¶çš„offsetï¼Œåšä¸€ä¸ªå·®å€¼å°±å¯ä»¥çœ‹åˆ°å¯¹åº”çš„å»¶è¿Ÿé‡</p>
<p>å¦‚æœå»¶è¿Ÿè¿‡å¤šï¼Œé‚£ä¹ˆå°±è¿›è¡ŒæŠ¥è­¦</p>
<h1 id="é™„å½•-ä¸€"><a href="#é™„å½•-ä¸€" class="headerlink" title="é™„å½• ä¸€"></a>é™„å½• ä¸€</h1><h2 id="å·¥å…·ä¸‹è½½"><a href="#å·¥å…·ä¸‹è½½" class="headerlink" title="å·¥å…·ä¸‹è½½"></a>å·¥å…·ä¸‹è½½</h2><ul>
<li><strong><a href="https://github.com/qishibo/AnotherRedisDesktopManager" target="_blank" rel="noopener"> AnotherRedisDesktopManager</a></strong> redis å¯å¯è§†åŒ–å·¥å…·</li>
</ul>
<ul>
<li><a href="https://redis.io/topics/benchmarks" target="_blank" rel="noopener">redis benchmarks æµ‹è¯•è¯¦æƒ… </a></li>
<li><a href="http://doc.redisfans.com/topic/sentinel.html" target="_blank" rel="noopener">sentinel</a></li>
</ul>
<h1 id="é™„å½•-äºŒ"><a href="#é™„å½•-äºŒ" class="headerlink" title="é™„å½• äºŒ"></a>é™„å½• äºŒ</h1><h2 id="å‚è€ƒåšæ–‡"><a href="#å‚è€ƒåšæ–‡" class="headerlink" title="å‚è€ƒåšæ–‡"></a>å‚è€ƒåšæ–‡</h2><ul>
<li><p><a href="https://www.cnblogs.com/technologykai/p/8658689.html" target="_blank" rel="noopener">REDISåˆ†å¸ƒå¼é”â€”å®Œç¾å®ç°</a></p>
</li>
<li><p><a href="https://www.centos.bz/2018/05/è®¾ç½®redisæœ€å¤§å ç”¨å†…å­˜/" target="_blank" rel="noopener">è®¾ç½®Redisæœ€å¤§å ç”¨å†…å­˜</a></p>
</li>
<li><p><a href="https://my.oschina.net/dslcode/blog/1936656" target="_blank" rel="noopener">docker redis é›†ç¾¤ï¼ˆclusterï¼‰æ­å»º</a></p>
</li>
<li><p><a href="https://www.cnblogs.com/zhaocaim/p/10112989.html" target="_blank" rel="noopener">Redisé›†ç¾¤Redis-clusteræ­å»ºåŠæ•…éšœã€æ€§èƒ½æµ‹è¯•</a></p>
</li>
</ul>
<h2 id="é—®é¢˜è§£å†³"><a href="#é—®é¢˜è§£å†³" class="headerlink" title="é—®é¢˜è§£å†³"></a>é—®é¢˜è§£å†³</h2><h3 id="redis"><a href="#redis" class="headerlink" title="redis"></a>redis</h3><p>1ã€é—®é¢˜ï¼šWARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.</p>
<p>ç¯å¢ƒï¼šredis 5.0.5 Centos 6.5</p>
<p>æš‚æ—¶è§£å†³ <code>echo 511 &gt; /proc/sys/net/core/somaxconn</code></p>
<p>å›ºå®šé…ç½®æˆåŠŸ</p>
<pre class="line-numbers language-shell"><code class="language-shell">vi /etc/sysctl.conf
#æ·»åŠ 
net.core.somaxconn= 1024
sysctl -p<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
        <tag>Java</tag>
        <tag>åå°</tag>
      </tags>
  </entry>
  <entry>
    <title>AndroidStudioç”¨Cmakeæ–¹å¼ç¼–è¯‘NDKä»£ç </title>
    <url>/2019/08/01/2018-8-1-cmake-note/</url>
    <content><![CDATA[<h3 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><p><strong>1.cmakeæ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>CMakeæ˜¯ä¸€ä¸ªè·¨å¹³å°çš„å®‰è£…ï¼ˆ<a href="http://baike.baidu.com/view/69568.htm" target="_blank" rel="noopener">ç¼–è¯‘</a>ï¼‰å·¥å…·ï¼Œå¯ä»¥ç”¨ç®€å•çš„è¯­å¥æ¥æè¿°æ‰€æœ‰å¹³å°çš„å®‰è£…(ç¼–è¯‘è¿‡ç¨‹)ã€‚ä»–èƒ½å¤Ÿè¾“å‡ºå„ç§å„æ ·çš„makefileæˆ–è€…projectæ–‡ä»¶ï¼Œèƒ½æµ‹è¯•<a href="http://baike.baidu.com/view/487018.htm" target="_blank" rel="noopener">ç¼–è¯‘å™¨</a>æ‰€æ”¯æŒçš„C++ç‰¹æ€§,ç±»ä¼¼UNIXä¸‹çš„automakeã€‚</p>
<p>è°·æ­Œä»AndroidStudio2.2ä»¥ä¸Šå°±æ·»åŠ äº†Cmakeæ–¹å¼æ¥ç¼–è¯‘NDKä»£ç ï¼Œå¹¶ä»NDKä¾‹å­çœ‹å‡ºï¼Œé»˜è®¤ç¼–è¯‘çš„æ–¹å¼å°±æ˜¯cmakeæ–¹å¼ã€‚</p>
<h3 id="åˆ›å»ºAndroid-studio-ndkå·¥ç¨‹"><a href="#åˆ›å»ºAndroid-studio-ndkå·¥ç¨‹" class="headerlink" title="åˆ›å»ºAndroid studio ndkå·¥ç¨‹"></a>åˆ›å»ºAndroid studio ndkå·¥ç¨‹</h3><h4 id="å‚»ç“œå¼æ“ä½œ"><a href="#å‚»ç“œå¼æ“ä½œ" class="headerlink" title="å‚»ç“œå¼æ“ä½œ"></a>å‚»ç“œå¼æ“ä½œ</h4><ol>
<li>æ–°å»ºä¸€ä¸ªå·¥ç¨‹ç‚¹å‡»å¦‚ä¸‹ï¼šç„¶åæŠŠC/Cppä»£ç å¤åˆ¶åˆ°<code>src/main/cpp</code>ä¸‹ï¼Œé…ç½® CMakeLists.txt<br><img src="http://ohlb58e07.bkt.clouddn.com/2018-08-04-AS-New-NDK-Project" alt=""></li>
</ol>
<h4 id="æ‰‹åŠ¨é…ç½®"><a href="#æ‰‹åŠ¨é…ç½®" class="headerlink" title="æ‰‹åŠ¨é…ç½®"></a>æ‰‹åŠ¨é…ç½®</h4><ol>
<li>åœ¨<code>src/main</code>ä¸‹æ–°å»º<code>jni</code>æˆ–è€…<code>cpp</code>ç›®å½•ï¼Œ</li>
<li>æ–°å»ºCMakeLists.txt,æ¨èç›®å½•<code>/src/main/jni/CMakeLists.txt</code>, å¦‚ä¸‹ä¸ºé»˜è®¤ç”Ÿæˆçš„æ ¼å¼ï¼š</li>
</ol>
<pre class="line-numbers language-shell"><code class="language-shell"># For more information about using CMake with Android Studio, read the
# documentation: https://d.android.com/studio/projects/add-native-code.html
# Sets the minimum version of CMake required to build the native library.
cmake_minimum_required(VERSION 3.4.1)

# Creates and names a library, sets it as either STATIC
# or SHARED, and provides the relative paths to its source code.
# You can define multiple libraries, and CMake builds them for you.
# Gradle automatically packages shared libraries with your APK.

add_library( # Sets the name of the library.
             native-lib

             # Sets the library as a shared library.
             SHARED

             # Provides a relative path to your source file(s).
             src/main/cpp/native-lib.cpp )

# Searches for a specified prebuilt library and stores the path as a
# variable. Because CMake includes system libraries in the search path by
# default, you only need to specify the name of the public NDK library
# you want to add. CMake verifies that the library exists before
# completing its build.
find_library( # Sets the name of the path variable.
              log-lib

              # Specifies the name of the NDK library that
              # you want CMake to locate.
              log )

# Specifies libraries CMake should link to your target library. You
# can link multiple libraries, such as libraries you define in this
# build script, prebuilt third-party libraries, or system libraries.

target_link_libraries( # Specifies the target library.
                       native-lib

                       # Links the target library to the log library
                       # included in the NDK.
                       ${log-lib} )<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="3">
<li><p>å¹¶åœ¨build.gradleä¸‹å…³è”CMakeLists.txt</p>
<pre><code>externalNativeBuild {
 cmake {
   //é»˜è®¤å’Œbuild.gradleåŒä¸€ç›®å½•ï¼š path "CMakeLists.txt"
   path "/src/main/jni/CMakeLists.txt"
 }
}</code></pre></li>
<li><p>é…ç½®gradleè„šæœ¬</p>
<pre class="line-numbers language-gradle"><code class="language-gradle">android {
compileSdkVersion 28
defaultConfig {
 ...
 externalNativeBuild {
   cmake {

      // Passes optional arguments to CMake.
       arguments "-DCMAKE_VERBOSE_MAKEFILE=TRUE"

       // Sets optional flags for the C compiler.
       cFlags "-D_EXAMPLE_C_FLAG1", "-D_EXAMPLE_C_FLAG2"

       // Sets a flag to enable format macro constants for the C++ compiler.
       // -frtti: Runtime Type Information Support
       // -fexceptions : Exception Support
       //-std=c++14 : C++ Library Support
       cppFlags "-D__STDC_FORMAT_MACROS"
     //æ›´å¤š arguments https://developer.android.com/ndk/guides/cmake           
   }
 }
 ndk {
   //    'x86', 'x86_64', 'armeabi', 'armeabi-v7a',
   //æŒ‡å®šç”Ÿæˆçš„CPUæ¶æ„ Specifies the ABI configurations of your native
   abiFilters 'armeabi-v7a' 
 }
}

externalNativeBuild {
 cmake {
   //é»˜è®¤å’Œbuild.gradleåŒä¸€ç›®å½•ï¼š path "CMakeLists.txt"
   path "/src/main/jni/CMakeLists.txt"
 }
}
buildTypes {
...
}
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h3 id="é…ç½®-CMake-æ„å»ºè„šæœ¬"><a href="#é…ç½®-CMake-æ„å»ºè„šæœ¬" class="headerlink" title="é…ç½® CMake æ„å»ºè„šæœ¬"></a>é…ç½® CMake æ„å»ºè„šæœ¬</h3><p>å¦‚æœæ‚¨çš„åŸç”Ÿæºæ–‡ä»¶è¿˜æ²¡æœ‰ CMake æ„å»ºè„šæœ¬ï¼Œåˆ™æ‚¨éœ€è¦è‡ªè¡Œåˆ›å»ºä¸€ä¸ªå¹¶åŒ…å«é€‚å½“çš„ CMake å‘½ä»¤ã€‚CMake æ„å»ºè„šæœ¬æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ–‡ä»¶ï¼Œæ‚¨å¿…é¡»å°†å…¶å‘½åä¸º <code>CMakeLists.txt</code>ã€‚æœ¬éƒ¨åˆ†ä»‹ç»äº†æ‚¨åº”åŒ…å«åˆ°æ„å»ºè„šæœ¬ä¸­çš„ä¸€äº›åŸºæœ¬å‘½ä»¤ï¼Œç”¨äºåœ¨åˆ›å»ºåŸç”Ÿåº“æ—¶æŒ‡ç¤º CMake åº”ä½¿ç”¨å“ªäº›æºæ–‡ä»¶ã€‚</p>
<p><strong>æ³¨</strong>ï¼šå¦‚æœæ‚¨çš„é¡¹ç›®ä½¿ç”¨ ndk-buildï¼Œåˆ™ä¸éœ€è¦åˆ›å»º CMake æ„å»ºè„šæœ¬ã€‚æä¾›ä¸€ä¸ªæŒ‡å‘æ‚¨çš„ <a href="https://developer.android.google.cn/ndk/guides/android_mk.html" target="_blank" rel="noopener"><code>Android.mk</code></a> æ–‡ä»¶çš„è·¯å¾„ï¼Œ<a href="https://developer.android.google.cn/studio/projects/add-native-code.html#link-gradle" target="_blank" rel="noopener">å°† Gradle å…³è”åˆ°æ‚¨çš„åŸç”Ÿåº“</a>ã€‚</p>
<p>è¦åˆ›å»ºä¸€ä¸ªå¯ä»¥ç”¨ä½œ CMake æ„å»ºè„šæœ¬çš„çº¯æ–‡æœ¬æ–‡ä»¶ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p>
<ol>
<li><p>ä» IDE çš„å·¦ä¾§æ‰“å¼€ <strong>Project</strong> çª—æ ¼å¹¶ä»ä¸‹æ‹‰èœå•ä¸­é€‰æ‹© <strong>Project</strong> è§†å›¾ã€‚</p>
</li>
<li><p>å³é”®ç‚¹å‡»<strong>æ‚¨çš„æ¨¡å—</strong>çš„æ ¹ç›®å½•å¹¶é€‰æ‹© <strong>New &gt; File</strong>ã€‚</p>
<p><strong>æ³¨</strong>ï¼šæ‚¨å¯ä»¥åœ¨æ‰€éœ€çš„ä»»æ„ä½ç½®åˆ›å»ºæ„å»ºè„šæœ¬ã€‚ä¸è¿‡ï¼Œåœ¨é…ç½®æ„å»ºè„šæœ¬æ—¶ï¼ŒåŸç”Ÿæºæ–‡ä»¶å’Œåº“çš„è·¯å¾„å°†ä¸æ„å»ºè„šæœ¬çš„ä½ç½®ç›¸å…³ã€‚</p>
</li>
<li><p>è¾“å…¥â€œCMakeLists.txtâ€ä½œä¸ºæ–‡ä»¶åå¹¶ç‚¹å‡» <strong>OK</strong>ã€‚</p>
</li>
</ol>
<h4 id="add-library"><a href="#add-library" class="headerlink" title="add_library"></a>add_library</h4><p>ç°åœ¨ï¼Œæ‚¨å¯ä»¥æ·»åŠ  CMake å‘½ä»¤ï¼Œå¯¹æ‚¨çš„æ„å»ºè„šæœ¬è¿›è¡Œé…ç½®ã€‚è¦æŒ‡ç¤º CMake ä»åŸç”Ÿæºä»£ç åˆ›å»ºä¸€ä¸ªåŸç”Ÿåº“ï¼Œè¯·å°† <a href="https://cmake.org/cmake/help/latest/command/cmake_minimum_required.html" target="_blank" rel="noopener"><code>cmake_minimum_required()</code></a> å’Œ <a href="https://cmake.org/cmake/help/latest/command/add_library.html" target="_blank" rel="noopener"><code>add_library()</code></a> å‘½ä»¤æ·»åŠ åˆ°æ‚¨çš„æ„å»ºè„šæœ¬ä¸­ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell"># Sets the minimum version of CMake required to build your native library.
# This ensures that a certain set of CMake features is available to
# your build.

cmake_minimum_required(VERSION 3.4.1)

# Specifies a library name, specifies whether the library is STATIC or
# SHARED, and provides relative paths to the source code. You can
# define multiple libraries by adding multiple add.library() commands,
# and CMake builds them for you. When you build your app, Gradle
# automatically packages shared libraries with your APK.

add_library( # Specifies the name of the library.
             native-lib

             # Sets the library as a shared library.
             SHARED

             # Provides a relative path to your source file(s).
             src/main/cpp/native-lib.cpp )<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä½¿ç”¨ <code>add_library()</code> å‘æ‚¨çš„ CMake æ„å»ºè„šæœ¬æ·»åŠ æºæ–‡ä»¶æˆ–åº“æ—¶ï¼ŒAndroid Studio è¿˜ä¼šåœ¨æ‚¨åŒæ­¥é¡¹ç›®ååœ¨ <strong>Project</strong> è§†å›¾ä¸‹æ˜¾ç¤ºå…³è”çš„æ ‡å¤´æ–‡ä»¶ã€‚ä¸è¿‡ï¼Œä¸ºäº†ç¡®ä¿ CMake å¯ä»¥åœ¨ç¼–è¯‘æ—¶å®šä½æ‚¨çš„æ ‡å¤´æ–‡ä»¶ï¼Œæ‚¨éœ€è¦å°† <a href="https://cmake.org/cmake/help/latest/command/include_directories.html" target="_blank" rel="noopener"><code>include_directories()</code></a> å‘½ä»¤æ·»åŠ åˆ° CMake æ„å»ºè„šæœ¬ä¸­å¹¶æŒ‡å®šæ ‡å¤´çš„è·¯å¾„ï¼š</p>
<pre><code>add_library(...)

\# Specifies a path to native header files.
include_directories(src/main/cpp/include/)</code></pre><p>CMake ä½¿ç”¨ä»¥ä¸‹è§„èŒƒæ¥ä¸ºåº“æ–‡ä»¶å‘½åï¼š</p>
<blockquote>
<p><code>libåº“åç§°.so</code></p>
</blockquote>
<p>ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨åœ¨æ„å»ºè„šæœ¬ä¸­æŒ‡å®šâ€œnative-libâ€ä½œä¸ºå…±äº«åº“çš„åç§°ï¼ŒCMake å°†åˆ›å»ºä¸€ä¸ªåç§°ä¸º <code>libnative-lib.so</code> çš„æ–‡ä»¶ã€‚ä¸è¿‡ï¼Œåœ¨ Java ä»£ç ä¸­åŠ è½½æ­¤åº“æ—¶ï¼Œè¯·ä½¿ç”¨æ‚¨åœ¨ CMake æ„å»ºè„šæœ¬ä¸­æŒ‡å®šçš„åç§°ï¼š</p>
<p>static { System.loadLibrary(â€œnative-libâ€); }</p>
<blockquote>
<p><strong>æ³¨</strong>ï¼šå¦‚æœæ‚¨åœ¨ CMake æ„å»ºè„šæœ¬ä¸­<font color="#FF0000">é‡å‘½åæˆ–ç§»é™¤æŸä¸ªåº“</font>ï¼Œæ‚¨éœ€è¦å…ˆæ¸…ç†é¡¹ç›®ï¼ŒGradle éšåæ‰ä¼šåº”ç”¨æ›´æ”¹æˆ–è€…ä» APK ä¸­ç§»é™¤æ—§ç‰ˆæœ¬çš„åº“ã€‚è¦æ¸…ç†é¡¹ç›®ï¼Œè¯·ä»èœå•æ ä¸­é€‰æ‹© <strong>Build &gt; Clean Project</strong>ã€‚</p>
</blockquote>
<p>Android Studio ä¼šè‡ªåŠ¨å°†æºæ–‡ä»¶å’Œæ ‡å¤´æ·»åŠ åˆ° <strong>Project</strong> çª—æ ¼çš„ <strong>cpp</strong> ç»„ä¸­ã€‚ä½¿ç”¨å¤šä¸ª <code>add_library()</code> å‘½ä»¤ï¼Œæ‚¨å¯ä»¥ä¸º CMake å®šä¹‰è¦ä»å…¶ä»–æºæ–‡ä»¶æ„å»ºçš„æ›´å¤šåº“ã€‚</p>
<h4 id="æ·»åŠ -NDK-API"><a href="#æ·»åŠ -NDK-API" class="headerlink" title="æ·»åŠ  NDK API"></a>æ·»åŠ  NDK API</h4><p>Android NDK æä¾›äº†ä¸€å¥—å®ç”¨çš„åŸç”Ÿ API å’Œåº“ã€‚é€šè¿‡å°† <a href="https://developer.android.google.cn/ndk/guides/stable_apis.html" target="_blank" rel="noopener">NDK åº“</a>åŒ…å«åˆ°é¡¹ç›®çš„ <code>CMakeLists.txt</code> è„šæœ¬æ–‡ä»¶ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¿™äº› API ä¸­çš„ä»»æ„ä¸€ç§ã€‚</p>
<p>é¢„æ„å»ºçš„ NDK åº“å·²ç»å­˜åœ¨äº Android å¹³å°ä¸Šï¼Œå› æ­¤ï¼Œæ‚¨æ— éœ€å†æ„å»ºæˆ–å°†å…¶å°è£…åˆ° APK ä¸­ã€‚ç”±äº NDK åº“å·²ç»æ˜¯ CMake æœç´¢è·¯å¾„çš„ä¸€éƒ¨åˆ†ï¼Œæ‚¨ç”šè‡³ä¸éœ€è¦åœ¨æ‚¨çš„æœ¬åœ° NDK å®‰è£…ä¸­æŒ‡å®šåº“çš„ä½ç½® - åªéœ€è¦å‘ CMake æä¾›æ‚¨å¸Œæœ›ä½¿ç”¨çš„åº“çš„åç§°ï¼Œå¹¶å°†å…¶å…³è”åˆ°æ‚¨è‡ªå·±çš„åŸç”Ÿåº“ã€‚</p>
<p>å°† <a href="https://cmake.org/cmake/help/latest/command/find_library.html" target="_blank" rel="noopener"><code>find_library()</code></a> å‘½ä»¤æ·»åŠ åˆ°æ‚¨çš„ CMake æ„å»ºè„šæœ¬ä¸­ä»¥å®šä½ NDK åº“ï¼Œå¹¶å°†å…¶è·¯å¾„å­˜å‚¨ä¸ºä¸€ä¸ªå˜é‡ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ­¤å˜é‡åœ¨æ„å»ºè„šæœ¬çš„å…¶ä»–éƒ¨åˆ†å¼•ç”¨ NDK åº“ã€‚ä»¥ä¸‹ç¤ºä¾‹å¯ä»¥å®šä½ <a href="https://developer.android.google.cn/ndk/guides/stable_apis.html#a3" target="_blank" rel="noopener">Android ç‰¹å®šçš„æ—¥å¿—æ”¯æŒåº“</a>å¹¶å°†å…¶è·¯å¾„å­˜å‚¨åœ¨ <code>log-lib</code> ä¸­ï¼š</p>
<pre><code>
find_library( # Defines the name of the path variable that stores the
              # location of the NDK library.
              log-lib

              # Specifies the name of the NDK library that
              # CMake needs to locate.
              log )
</code></pre><p>ä¸ºäº†ç¡®ä¿æ‚¨çš„åŸç”Ÿåº“å¯ä»¥åœ¨ <code>log</code> åº“ä¸­è°ƒç”¨å‡½æ•°ï¼Œæ‚¨éœ€è¦ä½¿ç”¨ CMake æ„å»ºè„šæœ¬ä¸­çš„ <a href="https://cmake.org/cmake/help/latest/command/target_link_libraries.html" target="_blank" rel="noopener"><code>target_link_libraries()</code></a> å‘½ä»¤å…³è”åº“ï¼š</p>
<pre><code>
find_library(...)

\# Links your native library against one or more other native libraries.
target_link_libraries( # Specifies the target library.
                       native-lib

                       # Links the log library to the target library.
                       ${log-lib} )
</code></pre><p>NDK è¿˜ä»¥æºä»£ç çš„å½¢å¼åŒ…å«ä¸€äº›åº“ï¼Œæ‚¨åœ¨æ„å»ºå’Œå…³è”åˆ°æ‚¨çš„åŸç”Ÿåº“æ—¶éœ€è¦ä½¿ç”¨è¿™äº›ä»£ç ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ CMake æ„å»ºè„šæœ¬ä¸­çš„ <code>add_library()</code> å‘½ä»¤ï¼Œå°†æºä»£ç ç¼–è¯‘åˆ°åŸç”Ÿåº“ä¸­ã€‚è¦æä¾›æœ¬åœ° NDK åº“çš„è·¯å¾„ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <code>ANDROID_NDK</code> è·¯å¾„å˜é‡ï¼ŒAndroid Studio ä¼šè‡ªåŠ¨ä¸ºæ‚¨å®šä¹‰æ­¤å˜é‡ã€‚</p>
<p>ä»¥ä¸‹å‘½ä»¤å¯ä»¥æŒ‡ç¤º CMake æ„å»º <code>android_native_app_glue.c</code>ï¼Œåè€…ä¼šå°† <a href="https://developer.android.google.cn/reference/android/app/NativeActivity.html" target="_blank" rel="noopener"><code>NativeActivity</code></a> ç”Ÿå‘½å‘¨æœŸäº‹ä»¶å’Œè§¦æ‘¸è¾“å…¥ç½®äºé™æ€åº“ä¸­å¹¶å°†é™æ€åº“å…³è”åˆ° <code>native-lib</code>ï¼š</p>
<pre><code>
add_library( app-glue
             STATIC
             ${ANDROID\_NDK}/sources/android/native\_app\_glue/android\_native\_app\_glue.c )

\# You need to link static libraries against your shared native library.
target_link_libraries( native-lib app-glue ${log-lib} )
</code></pre><h4 id="æ·»åŠ å…¶ä»–é¢„æ„å»ºåº“"><a href="#æ·»åŠ å…¶ä»–é¢„æ„å»ºåº“" class="headerlink" title="æ·»åŠ å…¶ä»–é¢„æ„å»ºåº“"></a>æ·»åŠ å…¶ä»–é¢„æ„å»ºåº“</h4><h5 id="å¯¼å…¥soåº“"><a href="#å¯¼å…¥soåº“" class="headerlink" title="å¯¼å…¥soåº“"></a>å¯¼å…¥soåº“</h5><p>æ·»åŠ é¢„æ„å»ºåº“ä¸ä¸º CMake æŒ‡å®šè¦æ„å»ºçš„å¦ä¸€ä¸ªåŸç”Ÿåº“ç±»ä¼¼ã€‚ä¸è¿‡ï¼Œç”±äºåº“å·²ç»é¢„å…ˆæ„å»ºï¼Œæ‚¨éœ€è¦ä½¿ç”¨ <a href="https://cmake.org/cmake/help/latest/prop_tgt/IMPORTED.html#prop_tgt:IMPORTED" target="_blank" rel="noopener"><code>IMPORTED</code></a> æ ‡å¿—å‘ŠçŸ¥ CMake æ‚¨åªå¸Œæœ›å°†åº“å¯¼å…¥åˆ°é¡¹ç›®ä¸­ï¼š</p>
<pre><code>add_library( imported-lib
             SHARED
             IMPORTED )</code></pre><p>ç„¶åï¼Œæ‚¨éœ€è¦ä½¿ç”¨ <a href="https://cmake.org/cmake/help/latest/command/set_target_properties.html" target="_blank" rel="noopener">set_target_properties()</a> å‘½ä»¤æŒ‡å®šåº“çš„è·¯å¾„ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<p>æŸäº›åº“ä¸ºç‰¹å®šçš„ CPU æ¶æ„ï¼ˆæˆ–<a href="https://developer.android.google.cn/ndk/guides/abis.html" target="_blank" rel="noopener">åº”ç”¨äºŒè¿›åˆ¶æ¥å£ (ABI)</a>ï¼‰æä¾›äº†å•ç‹¬çš„è½¯ä»¶åŒ…ï¼Œå¹¶å°†å…¶ç»„ç»‡åˆ°å•ç‹¬çš„ç›®å½•ä¸­ã€‚æ­¤æ–¹æ³•æ—¢æœ‰åŠ©äºåº“å……åˆ†åˆ©ç”¨ç‰¹å®šçš„ CPU æ¶æ„ï¼Œåˆèƒ½è®©æ‚¨ä»…ä½¿ç”¨æ‰€éœ€çš„åº“ç‰ˆæœ¬ã€‚è¦å‘ CMake æ„å»ºè„šæœ¬ä¸­æ·»åŠ åº“çš„å¤šä¸ª ABI ç‰ˆæœ¬ï¼Œè€Œä¸å¿…ä¸ºåº“çš„æ¯ä¸ªç‰ˆæœ¬ç¼–å†™å¤šä¸ªå‘½ä»¤ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <code>ANDROID_ABI</code> è·¯å¾„å˜é‡ã€‚æ­¤å˜é‡ä½¿ç”¨ <a href="https://developer.android.google.cn/ndk/guides/abis.html#sa" target="_blank" rel="noopener">NDK æ”¯æŒçš„ä¸€ç»„é»˜è®¤ ABI</a>ï¼Œæˆ–è€…<a href="https://developer.android.google.cn/studio/projects/add-native-code.html#specify-abi" target="_blank" rel="noopener">æ‚¨æ‰‹åŠ¨é…ç½® Gradle</a> è€Œè®©å…¶ä½¿ç”¨çš„ä¸€ç»„ç»è¿‡ç­›é€‰çš„ ABIã€‚ä¾‹å¦‚ï¼š</p>
<pre><code>
add_library(...)
set_target_properties( # Specifies the target library.
                       imported-lib

                       # Specifies the parameter you want to define.
                       PROPERTIES IMPORTED_LOCATION

                       # Provides the path to the library you want to import.
                       imported-lib/src/${ANDROID_ABI}/libimported-lib.so )
</code></pre><p>ä¸ºäº†ç¡®ä¿ CMake å¯ä»¥åœ¨ç¼–è¯‘æ—¶å®šä½æ‚¨çš„æ ‡å¤´æ–‡ä»¶ï¼Œæ‚¨éœ€è¦ä½¿ç”¨ <code>include_directories()</code> å‘½ä»¤ï¼Œå¹¶åŒ…å«æ ‡å¤´æ–‡ä»¶çš„è·¯å¾„ï¼š</p>
<pre><code>include_directories( imported-lib/include/ )</code></pre><blockquote>
<p><strong>æ³¨</strong>ï¼šå¦‚æœæ‚¨å¸Œæœ›å°è£…ä¸€ä¸ªå¹¶ä¸æ˜¯æ„å»ºæ—¶ä¾èµ–é¡¹çš„é¢„æ„å»ºåº“ï¼ˆä¾‹å¦‚åœ¨æ·»åŠ å±äº <code>imported-lib</code> ä¾èµ–é¡¹çš„é¢„æ„å»ºåº“æ—¶ï¼‰ï¼Œåˆ™ä¸éœ€è¦æ‰§è¡Œä»¥ä¸‹è¯´æ˜æ¥å…³è”åº“ã€‚</p>
</blockquote>
<p>è¦å°†é¢„æ„å»ºåº“å…³è”åˆ°æ‚¨è‡ªå·±çš„åŸç”Ÿåº“ï¼Œè¯·å°†å…¶æ·»åŠ åˆ° CMake æ„å»ºè„šæœ¬çš„ <code>target_link_libraries()</code> å‘½ä»¤ä¸­ï¼š</p>
<p><code>target_link_libraries( native-lib imported-lib app-glue ${log-lib} )</code></p>
<p>åœ¨æ‚¨æ„å»ºåº”ç”¨æ—¶ï¼ŒGradle ä¼šè‡ªåŠ¨å°†å¯¼å…¥çš„åº“å°è£…åˆ° APK ä¸­ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ <a href="https://developer.android.google.cn/studio/build/apk-analyzer.html" target="_blank" rel="noopener">APK åˆ†æå™¨</a>éªŒè¯ Gradle å°†å“ªäº›åº“å°è£…åˆ°æ‚¨çš„ APK ä¸­ã€‚å¦‚éœ€äº†è§£æœ‰å…³ CMake å‘½ä»¤çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a href="https://cmake.org/cmake/help/latest/manual/cmake-commands.7.html" target="_blank" rel="noopener">CMake æ–‡æ¡£</a>ã€‚</p>
<h5 id="å¯¼å…¥-aé™æ€åº“"><a href="#å¯¼å…¥-aé™æ€åº“" class="headerlink" title="å¯¼å…¥.aé™æ€åº“"></a><a href="https://blog.csdn.net/yoyo_newbie/article/details/74427938" target="_blank" rel="noopener"><strong>å¯¼å…¥.aé™æ€åº“</strong></a></h5><p>android studio cmake é…ç½®.aè¿æ¥åº“</p>
<h3 id="å®æˆ˜å°æ¡ˆä¾‹"><a href="#å®æˆ˜å°æ¡ˆä¾‹" class="headerlink" title="å®æˆ˜å°æ¡ˆä¾‹"></a>å®æˆ˜å°æ¡ˆä¾‹</h3><h4 id="æŒ‡å®š-C-æ ‡å‡†"><a href="#æŒ‡å®š-C-æ ‡å‡†" class="headerlink" title="æŒ‡å®š C++æ ‡å‡†"></a>æŒ‡å®š C++æ ‡å‡†</h4><pre><code>externalNativeBuild {
  cmake {
    cppFlags "-frtti -fexceptions -std=c++14"
    arguments '-DANDROID_STL=c++_shared'
  }
}</code></pre><h4 id="ç¼–è¯‘ä¸€ä¸ªç›®å½•ä¸­æ‰€æœ‰æºæ–‡ä»¶"><a href="#ç¼–è¯‘ä¸€ä¸ªç›®å½•ä¸­æ‰€æœ‰æºæ–‡ä»¶" class="headerlink" title="ç¼–è¯‘ä¸€ä¸ªç›®å½•ä¸­æ‰€æœ‰æºæ–‡ä»¶"></a>ç¼–è¯‘ä¸€ä¸ªç›®å½•ä¸­æ‰€æœ‰æºæ–‡ä»¶</h4><pre><code># aux_source_directory æ–¹æ³•å°†è·¯å¾„åˆ—è¡¨å…¨éƒ¨æ”¾åˆ°ä¸€ä¸ªå˜é‡ä¸­
aux_source_directory(${CMAKE_HOME_DIRECTORY}/src/api SRC_LIST)
aux_source_directory(${CMAKE_HOME_DIRECTORY}/src/core CORE_SRC_LIST)
# æ‹¼æ¥åˆ°è·¯å¾„åˆ—è¡¨
list(APPEND SRC_LIST ${CORE_SRC_LIST})
add_library(native-lib SHARED ${SRC_LIST})</code></pre><h4 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h4><ul>
<li>message æ–¹æ³•æ‰“å°<pre><code>cmake_minimum_required(VERSION 3.4.1)
message(STATUS "execute CMakeLists")
# æ—¥å¿—è¾“å‡º==&gt; .externalNativeBuild/cmake/debug/{abi}/cmake_build_output.txt</code></pre><h4 id="CMakeLists-txt-æ”¹åŠ¨ä»€ä¹ˆæ—¶å€™æ‰§è¡Œ"><a href="#CMakeLists-txt-æ”¹åŠ¨ä»€ä¹ˆæ—¶å€™æ‰§è¡Œ" class="headerlink" title="CMakeLists.txt æ”¹åŠ¨ä»€ä¹ˆæ—¶å€™æ‰§è¡Œ"></a>CMakeLists.txt æ”¹åŠ¨ä»€ä¹ˆæ—¶å€™æ‰§è¡Œ</h4><code>sync</code> å…¶ä»–çš„æ—¶å€™åªæ˜¯å‡ºæ¥ç¼“å­˜<blockquote>
<p>æµ‹è¯•äº†ä¸‹ï¼Œå¥½åƒåœ¨ sync çš„æ—¶å€™ä¼šæ‰§è¡Œã€‚æ‰§è¡Œä¸€æ¬¡åä¼šç”Ÿæˆ makefile çš„æ–‡ä»¶ç¼“å­˜ä¹‹ç±»çš„ä¸œè¥¿æ”¾åœ¨ externalNativeBuild ä¸­ã€‚æ‰€ä»¥å¦‚æœ CMakeLists.txt ä¸­æ²¡æœ‰ä¿®æ”¹çš„è¯å†æ¬¡åŒæ­¥å¥½åƒæ˜¯ä¸ä¼šé‡æ–°æ‰§è¡Œçš„ã€‚ï¼ˆæˆ–è€…åˆ é™¤ .externalNativeBuild ç›®å½•ï¼‰<br>çœŸæ­£ç¼–è¯‘çš„æ—¶å€™å¥½åƒåªæ˜¯è¯»å–.externalNativeBuild ç›®å½•ä¸­å·²ç»è§£æå¥½çš„ makefile å»ç¼–è¯‘ã€‚ä¸ä¼šå†å»æ‰§è¡Œ CMakeLists.txt</p>
</blockquote>
</li>
</ul>
<h3 id="æ•™ç¨‹"><a href="#æ•™ç¨‹" class="headerlink" title="æ•™ç¨‹"></a>æ•™ç¨‹</h3><ul>
<li>å®˜æ–¹7stepå…¥é—¨æ•™ç¨‹ï¼š <a href="https://cmake.org/cmake-tutorial/" target="_blank" rel="noopener">cmake-tutorial</a> ã€è‹±æ–‡ã€‘<br> ç¿»è¯‘ï¼š <a href="https://www.zybuluo.com/khan-lau/note/254724" target="_blank" rel="noopener">CMAKEå®˜ç½‘æ•™ç¨‹</a> å¹¶æœ‰ç›¸å…³æ–¹æ³•çš„è¯¦è§£</li>
</ul>
<p><strong>è¿›é˜¶</strong><br>Book: Mastering CMake </p>
<h3 id="èµ„æ–™æ–‡çŒ®"><a href="#èµ„æ–™æ–‡çŒ®" class="headerlink" title="èµ„æ–™æ–‡çŒ®"></a>èµ„æ–™æ–‡çŒ®</h3><ul>
<li><p><a href="https://www.cnblogs.com/coderfenghc/archive/2012/06/16/CMake_ch_01.html" target="_blank" rel="noopener">CMake æ‰‹å†Œè¯¦è§£ï¼ˆä¸€ï¼‰</a></p>
</li>
<li><p><a href="https://developer.android.com/ndk/guidesLibraries/" target="_blank" rel="noopener">android ndk guides</a></p>
<ul>
<li>Introduction</li>
<li>Building </li>
<li>Architectures and CPUs</li>
<li>Debugging and Profiling</li>
<li>Libraries å®‰å“å„ç‰ˆæœ¬æä¾›å¯è°ƒç”¨ndkåº“</li>
<li>High-Performance Audio</li>
<li>ä¸€äº›æµè¡Œçš„åº•å±‚çš„ç¬¬ä¸‰æ–¹åº“Simpleperf/ OpenSL ES/Vulkan/Machine Learning</li>
</ul>
</li>
<li><p><a href="https://github.com/googlesamples/android-ndk" target="_blank" rel="noopener">googlesamples/android-ndk</a></p>
</li>
<li><p><a href="https://cmake.org/documentation/" target="_blank" rel="noopener"> CMake å®˜æ–¹æ–‡æ¡£ </a></p>
</li>
<li><p><a href="http://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/jniTOC.html" target="_blank" rel="noopener">JNI æ¡†æ¶å®˜æ–¹æ–‡æ¡£</a></p>
</li>
</ul>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul>
<li><a href="https://blog.csdn.net/czg13548930186/article/details/78331692" target="_blank" rel="noopener">gccç¨‹åºçš„ç¼–è¯‘è¿‡ç¨‹å’Œé“¾æ¥åŸç†</a></li>
<li><a href="https://www.cnblogs.com/fnlingnzb-learner/p/7593488.html" target="_blank" rel="noopener">AndroidStudioç”¨Cmakeæ–¹å¼ç¼–è¯‘NDKä»£ç </a></li>
<li><a href="https://blog.csdn.net/myatlantis/article/details/52874227" target="_blank" rel="noopener">Androidå¢é‡æ›´æ–°ä¸CMakeæ„å»ºå·¥å…·</a></li>
<li><a href="https://blog.csdn.net/haoel/article/details/2886" target="_blank" rel="noopener">è·Ÿæˆ‘ä¸€èµ·å†™ Makefile</a> </li>
<li><a href="https://www.jianshu.com/p/6332418b12b1" target="_blank" rel="noopener">Android NDKå¼€å‘æ‰«ç›²åŠæœ€æ–°CMakeçš„ç¼–è¯‘ä½¿ç”¨</a></li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>SVGç¬”è®°</title>
    <url>/2019/07/29/2019-7-29-SVG-note/</url>
    <content><![CDATA[<h1 id="SVG-åŸºç¡€çŸ¥è¯†"><a href="#SVG-åŸºç¡€çŸ¥è¯†" class="headerlink" title="SVG åŸºç¡€çŸ¥è¯†"></a>SVG åŸºç¡€çŸ¥è¯†</h1><h2 id="SVGåŸºæœ¬å›¾å½¢å’Œå±æ€§"><a href="#SVGåŸºæœ¬å›¾å½¢å’Œå±æ€§" class="headerlink" title="SVGåŸºæœ¬å›¾å½¢å’Œå±æ€§"></a>SVGåŸºæœ¬å›¾å½¢å’Œå±æ€§</h2><h3 id="å›¾å½¢"><a href="#å›¾å½¢" class="headerlink" title="å›¾å½¢"></a>å›¾å½¢</h3><ul>
<li>çŸ©å½¢ <rect></rect></li>
<li>åœ†å½¢ <circle></circle></li>
<li>æ¤­åœ† <ellipse></ellipse></li>
<li>çº¿ <line></line></li>
<li>æŠ˜çº¿ <polyline></polyline></li>
<li>å¤šè¾¹å½¢ <polygon></polygon></li>
</ul>
<p>rect.svg</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" standalone="no"?></span>
<span class="token doctype">&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span>
<span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">rx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">ry</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>250<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>250<span class="token punctuation">"</span></span> 
<span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fill:blue;stroke:pink;stroke-width:5;
fill-opacity:0.1;stroke-opacity:0.9<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>polyline.svg</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" standalone="no"?></span>
<span class="token doctype">&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span>
<span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polyline</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0,0 0,20 20,20 20,40 40,40 40,60<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name">
<span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">fill</span><span class="token punctuation">:</span>white<span class="token punctuation">;</span><span class="token property">stroke</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span><span class="token property">stroke-width</span><span class="token punctuation">:</span><span class="token number">2</span></span><span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>polygon.svg</p>
<p>&lt;11770820@qq.com</p>
<p> &lt;<a href="mailto:tech_support@chinapay.com" target="_blank" rel="noopener">tech_support@chinapay.com</a>&gt;, â€œ<a href="mailto:huang.haisong@chinapay.com" target="_blank" rel="noopener">huang.haisong@chinapay.com</a>â€œ &lt;<a href="mailto:huang.haisong@chinapay.com" target="_blank" rel="noopener">huang.haisong@chinapay.com</a>&gt;</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" standalone="no"?></span>
<span class="token doctype">&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span>
<span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polygon</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>220,100 300,210 170,250<span class="token punctuation">"</span></span>
<span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fill:#cccccc;
stroke:#000000;stroke-width:1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="åŸºæœ¬å±æ€§"><a href="#åŸºæœ¬å±æ€§" class="headerlink" title="åŸºæœ¬å±æ€§"></a>åŸºæœ¬å±æ€§</h3><ul>
<li>fill</li>
<li>stroke</li>
<li>stroke-width</li>
<li>transform</li>
</ul>
<h2 id="åŸºæœ¬æ“ä½œ"><a href="#åŸºæœ¬æ“ä½œ" class="headerlink" title="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ</h2><h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><ul>
<li>åˆ›å»ºå›¾å½¢ <code>createElementNs(ns,tagName)</code></li>
</ul>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token string">'ABCDEFGHIJKLMNOPQRSTUVWXYZ'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> NS <span class="token operator">=</span> <span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tspan <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span>NS<span class="token punctuation">,</span><span class="token string">'tspan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ul>
<li>æ·»åŠ å›¾å½¢ <code>element.appendChild(childElement) </code></li>
<li>è®¾ç½®/è·å–å±æ€§  <code>element.setAttribute(name, value ) / elememt.getAttribute(name)</code></li>
<li>è®¾ç½®  xlink:href  å±æ€§  textPath.setAttributeNS(â€œ<a href="http://www.w3.org/1999/xlink&quot;,'xlink:href',path" target="_blank" rel="noopener">http://www.w3.org/1999/xlink",'xlink:href',path</a>)</li>
</ul>
<h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sample.svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                 >
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>embed</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sample.svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>embed</span><span class="token punctuation">></span></span>       > å¤–éƒ¨å¼•ç”¨å¼
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sample.svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span>     >
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>object</span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sample.svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>object</span><span class="token punctuation">></span></span>    >
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">data-src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img/buble.svg<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å®¹å™¨"><a href="#å®¹å™¨" class="headerlink" title="å®¹å™¨"></a>å®¹å™¨</h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/a" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/SVG/Element/a</a></p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">></span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">></span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span><span class="token punctuation">></span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>marker</span><span class="token punctuation">></span></span>, 

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mask</span><span class="token punctuation">></span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>missing-glyph</span><span class="token punctuation">></span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>, 

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span><span class="token punctuation">></span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>switch</span><span class="token punctuation">></span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>symbol</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Descriptive-elements"><a href="#Descriptive-elements" class="headerlink" title="Descriptive elements"></a><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element#Descriptive_elements" target="_blank" rel="noopener">Descriptive elements</a></h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/desc" target="_blank" rel="noopener"><code>&lt;desc&gt;</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/metadata" target="_blank" rel="noopener"><code>medadata</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/title" target="_blank" rel="noopener"><code>title</code></a></p>
<p>çœ‹medataæ¡ˆä¾‹å°±å¯ä»¥ï¼Œ </p>
<h2 id="SVG-æ»¤é•œ"><a href="#SVG-æ»¤é•œ" class="headerlink" title="SVG æ»¤é•œ"></a>SVG æ»¤é•œ</h2><p>Gaussian_blur.svg</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" standalone="no"?></span>
<span class="token doctype">&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span>
<span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Gaussian_Blur<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>feGaussianBlur</span> <span class="token attr-name">in</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>SourceGraphic<span class="token punctuation">"</span></span> <span class="token attr-name">stdDeviation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defs</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ellipse</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>150<span class="token punctuation">"</span></span> <span class="token attr-name">rx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>70<span class="token punctuation">"</span></span> <span class="token attr-name">ry</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>40<span class="token punctuation">"</span></span>
<span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fill:#ff0000;stroke:#000000;
stroke-width:2;filter:url(#Gaussian_Blur)<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ³¨è§£ï¼š</p>
<ul>
<li>filter å®šä¹‰æ»¤é•œ</li>
<li><code>filter:url</code>å¼•ç”¨æ»¤é•œ</li>
<li>stdDeviation æ¨¡ç³Šç¨‹åº¦</li>
<li>in=â€SourceGraphicâ€ å®šä¹‰æ•´ä¸ªåˆ›å»ºæ•ˆæœ</li>
</ul>
<h3 id="æ»¤é•œæ•ˆæœæœ‰"><a href="#æ»¤é•œæ•ˆæœæœ‰" class="headerlink" title="æ»¤é•œæ•ˆæœæœ‰"></a>æ»¤é•œæ•ˆæœæœ‰</h3><ul>
<li>feBlend</li>
<li>feColorMatrix</li>
<li>feComponentTransfer</li>
<li>feComposite</li>
<li>feConvolveMatrix</li>
<li>feDiffuseLighting</li>
<li>feDisplacementMap</li>
<li>feFlood</li>
<li>feGaussianBlur</li>
<li>feImage</li>
<li>feMerge</li>
<li>feMorphology</li>
<li>feOffset</li>
<li>feSpecularLighting</li>
<li>feTile</li>
<li>feTurbulence</li>
<li>feDistantLight</li>
<li>fePointLight</li>
<li>feSpotLight</li>
</ul>
<blockquote>
<p>SVG æ»¤é•œæ•ˆæœå¯ä»¥å åŠ ä½¿ç”¨</p>
</blockquote>
<p>multi-filter.svg</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- Learn about this code on MDN: https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feGaussianBlur --></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>120<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>120<span class="token punctuation">"</span></span>
 <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span>
 <span class="token attr-name"><span class="token namespace">xmlns:</span>xlink</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/1999/xlink<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dropShadow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>feGaussianBlur</span> <span class="token attr-name">in</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>SourceAlpha<span class="token punctuation">"</span></span> <span class="token attr-name">stdDeviation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>feOffset</span> <span class="token attr-name">dx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">dy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>4<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>feMerge</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>feMergeNode</span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>feMergeNode</span> <span class="token attr-name">in</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>SourceGraphic<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>feMerge</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>60<span class="token punctuation">"</span></span>  <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>60<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>green<span class="token punctuation">"</span></span>
          <span class="token attr-name">filter</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url(#dropShadow)<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="SVGä¸­çš„åæ ‡ç³»ç»Ÿ"><a href="#SVGä¸­çš„åæ ‡ç³»ç»Ÿ" class="headerlink" title="SVGä¸­çš„åæ ‡ç³»ç»Ÿ"></a>SVGä¸­çš„åæ ‡ç³»ç»Ÿ</h1><h2 id="2-1-ä¸–ç•Œï¼Œè§†é‡å’Œè§†çª—çš„æ¦‚å¿µ"><a href="#2-1-ä¸–ç•Œï¼Œè§†é‡å’Œè§†çª—çš„æ¦‚å¿µ" class="headerlink" title="2.1 ä¸–ç•Œï¼Œè§†é‡å’Œè§†çª—çš„æ¦‚å¿µ"></a>2.1 ä¸–ç•Œï¼Œè§†é‡å’Œè§†çª—çš„æ¦‚å¿µ</h2><ul>
<li>ä¸–ç•Œæ˜¯â½†æ— ç©·â¼¤å¤§çš„ï¼ŒSVGç”»å¸ƒå¯ä»¥æ˜¯æ— ç©·å¤§çš„</li>
<li>è§†é‡æ˜¯è§‚å¯Ÿä¸–ç•Œçš„â¼€ä¸€ä¸ªçŸ©å½¢åŒºåŸŸï¼Œå¯ä»¥æœ‰viewboxå®šä¹‰è§†é‡åŒºåŸŸ</li>
<li>è§†çª—æ˜¯æµè§ˆå™¨å¼€è¾Ÿçš„ä¸€ä¸ªåŒºåŸŸï¼Œ  width, height - æ§åˆ¶è§†çª—</li>
<li>preserveAspectRatio æ§åˆ¶è§†é‡å’Œè§†çª—ä¹‹é—´å…³ç³»</li>
</ul>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span>  <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span>
     <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0 0 400 300<span class="token punctuation">"</span></span> <span class="token attr-name">preserveAspectRatio</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>xMidYMid meet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>åŠ¨æ€æ•ˆæœè¯·å‚ç…§ï¼š<code>viewbox.html</code></p>
<h2 id="2-2-å›¾å½¢åˆ†ç»„"><a href="#2-2-å›¾å½¢åˆ†ç»„" class="headerlink" title="2.2 å›¾å½¢åˆ†ç»„"></a>2.2 å›¾å½¢åˆ†ç»„</h2><ol>
<li><g>æ ‡ç­¾æ¥åˆ›å»ºåˆ†ç»„</g></li>
<li>å­å…ƒç´ å¯ä»¥ç»§æ‰¿ç»„å±æ€§</li>
<li>transform  å±æ€§å®šä¹‰åæ ‡å˜æ¢</li>
<li>å¯ä»¥åµŒå¥—ä½¿ç”¨</li>
</ol>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span>  <span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>green<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">transform(0,50)</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rect</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>140<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>120<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rect</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ³¨è§£ï¼š</p>
<ol>
<li>gè®¾ç½®çš„strokeï¼Œfillå±æ€§ï¼Œ ä¸¤ä¸ªrectéƒ½èƒ½ç»§æ‰¿</li>
<li>transformèƒ½æ•´ä½“æ”¹å˜<g> å†…åæ ‡</g></li>
</ol>
<h2 id="2-3-åæ ‡ç³»ç»Ÿæ¦‚è¿°"><a href="#2-3-åæ ‡ç³»ç»Ÿæ¦‚è¿°" class="headerlink" title="2.3 åæ ‡ç³»ç»Ÿæ¦‚è¿°"></a>2.3 åæ ‡ç³»ç»Ÿæ¦‚è¿°</h2><p><img src="http://cdn.linz.tech/svg-location.png" alt=""></p>
<blockquote>
<p> å¦‚ä¸Šå›¾ï¼šsvgä½¿ç”¨çš„æ˜¯ç¬›å¡å°”åæ ‡ç³»ç»Ÿ</p>
</blockquote>
<h2 id="2-4-å››ä¸ªåæ ‡ç³»"><a href="#2-4-å››ä¸ªåæ ‡ç³»" class="headerlink" title="2.4 å››ä¸ªåæ ‡ç³»"></a>2.4 å››ä¸ªåæ ‡ç³»</h2><ol>
<li>ç”¨æˆ·åæ ‡ç³»ï¼ˆUser  Coordinateï¼‰: -&gt; ä¸–ç•Œçš„åæ ‡ç³»</li>
<li>è‡ªèº«åæ ‡ç³»ï¼ˆCurrent  Coordinateï¼‰ -&gt; æ¯ä¸ªå›¾å½¢å…ƒç´ æˆ–åˆ†ç»„ç‹¬ç«‹ä¸ç”Ÿä¿±æ¥ </li>
<li>å‰é©±åæ ‡ç³»ï¼ˆPrevious  Coordinateï¼‰ -&gt; çˆ¶å®¹å™¨çš„åæ ‡ç³»  </li>
<li>å‚è€ƒåæ ‡ç³»ï¼ˆReference  Coordinateï¼‰ -&gt; ä½¿ç”¨å…¶å®ƒåæ ‡ç³»æ¥è€ƒç©¶è‡ªèº«çš„æƒ…å†µæ—¶ä½¿ç”¨</li>
</ol>
<h2 id="2-5-åæ ‡å˜æ¢"><a href="#2-5-åæ ‡å˜æ¢" class="headerlink" title="2.5 åæ ‡å˜æ¢"></a>2.5 åæ ‡å˜æ¢</h2><p>æŸ¥çœ‹<code>ransform.html</code></p>
<ul>
<li>åµŒå¥—<g> , å­<g>ä¼šç»§æ‰¿çˆ¶gåæ ‡å±æ€§</g></g></li>
</ul>
<h1 id="é¢œè‰²æ¸å˜å’Œç¬”åˆ·"><a href="#é¢œè‰²æ¸å˜å’Œç¬”åˆ·" class="headerlink" title="é¢œè‰²æ¸å˜å’Œç¬”åˆ·"></a>é¢œè‰²æ¸å˜å’Œç¬”åˆ·</h1><h2 id="é¢œè‰²"><a href="#é¢œè‰²" class="headerlink" title="é¢œè‰²"></a>é¢œè‰²</h2><h3 id="HSL"><a href="#HSL" class="headerlink" title="HSL"></a>HSL</h3><p><img src="http://cdn.linz.tech/blog-svg-hsl.png" alt=""></p>
<h2 id="æ¸å˜"><a href="#æ¸å˜" class="headerlink" title="æ¸å˜"></a>æ¸å˜</h2><h3 id="çº¿æ€§æ¸å˜"><a href="#çº¿æ€§æ¸å˜" class="headerlink" title="çº¿æ€§æ¸å˜"></a>çº¿æ€§æ¸å˜</h3><p>linearGradient.svg</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" standalone="no"?></span>
<span class="token doctype">&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span>
<span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>linearGradient</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>orange_red<span class="token punctuation">"</span></span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0%<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0%<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0%<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stop</span> <span class="token attr-name">offset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0%<span class="token punctuation">"</span></span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stop-color:rgb(255,255,0);
stop-opacity:1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stop</span> <span class="token attr-name">offset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stop-color:rgb(255,0,0);
stop-opacity:1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>linearGradient</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defs</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ellipse</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>190<span class="token punctuation">"</span></span> <span class="token attr-name">rx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>85<span class="token punctuation">"</span></span> <span class="token attr-name">ry</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>55<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name">
<span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">fill</span><span class="token punctuation">:</span><span class="token url">url(#orange_red)</span></span><span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>gradientUnits=â€userSpaceOnUseï¼ˆç”¨çš„æ˜¯ä¸–ç•Œåæ ‡ç³»ä¸æ˜¯å›¾å½¢å½“å‰çš„åæ ‡ç³»ï¼‰/objectBoundingBox(é»˜è®¤å€¼)â€</li>
<li><code>x1="0%" y1="0%</code>å›¾å½¢æœ€ä¸Šæ®µï¼Œ <code>x2="100%" y2="0%</code>å›¾å½¢æœ€ä¸‹æ®µ</li>
</ul>
<h3 id="æ”¾å°„æ€§æ¸å˜"><a href="#æ”¾å°„æ€§æ¸å˜" class="headerlink" title="æ”¾å°„æ€§æ¸å˜"></a>æ”¾å°„æ€§æ¸å˜</h3><p>radialGradient.svg</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" standalone="no"?></span>
<span class="token doctype">&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span>
<span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>radialGradient</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>grey_blue<span class="token punctuation">"</span></span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50%<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50%<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50%<span class="token punctuation">"</span></span>
<span class="token attr-name">fx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50%<span class="token punctuation">"</span></span> <span class="token attr-name">fy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50%<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stop</span> <span class="token attr-name">offset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0%<span class="token punctuation">"</span></span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stop-color:rgb(200,200,200);
stop-opacity:0<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stop</span> <span class="token attr-name">offset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stop-color:rgb(0,0,255);
stop-opacity:1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>radialGradient</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defs</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ellipse</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>230<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token attr-name">rx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>110<span class="token punctuation">"</span></span> <span class="token attr-name">ry</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name">
<span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">fill</span><span class="token punctuation">:</span><span class="token url">url(#grey_blue)</span></span><span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ³¨è§£ï¼š</p>
<ul>
<li>cxã€cy å’Œ r å±æ€§å®šä¹‰å¤–åœˆ</li>
<li>fx å’Œ fy å®šä¹‰å†…åœˆï¼Œé¢œè‰²æ¸å˜ä¸­å¿ƒç‚¹ï¼Œèƒ½äº§ç”Ÿèšå…‰ç¯çš„æ•ˆæœ</li>
</ul>
<h2 id="ç¬”åˆ·-pattern"><a href="#ç¬”åˆ·-pattern" class="headerlink" title="ç¬”åˆ· pattern"></a>ç¬”åˆ· pattern</h2><p>pattern.svg</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>p1<span class="token punctuation">"</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">patternUnits</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userSpaceOnUse<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>circle</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polygon</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>30 10 60 50 0 50<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>green<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polygon</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>p2<span class="token punctuation">"</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>circle</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polygon</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>30 10 60 50 0 50<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>green<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polygon</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defs</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>800<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url(#p1)<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>blue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rect</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>800<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url(#p2)<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>blue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rect</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>objectBoundingBox : (é»˜è®¤)ä¸ºå®¹å™¨ç™¾åˆ†æ¯”   </li>
<li>userSpaceOnUse : width å’Œ height ä»¥ä¸–ç•Œåæ ‡ç³»ä¸ºå‡†ï¼Œä¸ºå®½åº¦ã€é«˜åº¦</li>
<li>patternUnits/patternUnitsContent</li>
</ul>
<h1 id="Path-é«˜çº§"><a href="#Path-é«˜çº§" class="headerlink" title="Path é«˜çº§"></a>Path é«˜çº§</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><ul>
<li><p>è§„èŒƒï¼š<a href="http://www.w3.org/TR/SVG11/paths.html" target="_blank" rel="noopener">http://www.w3.org/TR/SVG11/paths.html</a>  </p>
</li>
<li><p>path.svg é»‘è‰²å±±è§’å‹</p>
<pre class="line-numbers language-xml"><code class="language-xml">  <span class="token prolog">&lt;?xml version="1.0" standalone="no"?></span>
  <span class="token doctype">&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
  "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span>
  <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M250 150 L150 350 L350 350 Z<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h3 id="Path-å‘½ä»¤æ±‡æ€»"><a href="#Path-å‘½ä»¤æ±‡æ€»" class="headerlink" title="Path-å‘½ä»¤æ±‡æ€»"></a>Path-å‘½ä»¤æ±‡æ€»</h3><ul>
<li>M = moveto</li>
<li>L = lineto</li>
<li>H = horizontal lineto</li>
<li>V = vertical lineto</li>
<li>C (x1,y1,x2,y2,x,y)+ = curveto ä»å½“å‰ä½ç½®ç»˜åˆ¶ä¸‰æ¬¡â»‰è´å¡å°”æ›²çº¿åˆ°æŒ‡å®šä½ç½®</li>
<li>S = smooth curveto ä»å½“å‰ä½ç½®å…‰æ»‘ç»˜åˆ¶ä¸‰æ¬¡â»‰è´å¡å°”æ›²çº¿åˆ°æŒ‡å®šä½ç½®</li>
<li>Q = quadratic Belzier curve ç»˜åˆ¶â¼†äºŒæ¬¡â»‰è´å¡å°”æ›²çº¿</li>
<li>T = smooth quadratic Belzier curveto å…‰æ»‘ç»˜åˆ¶â¼†äºŒæ¬¡â»‰è´å¡å°”æ›²çº¿</li>
<li>A (rx,ry,xr,laf,sf,x,y)  = elliptical Arc </li>
<li>Z = closepath</li>
</ul>
<p>A (rx,ry,xr,laf,sf,x,y)  -  ç»˜åˆ¶å¼§çº¿  </p>
<ul>
<li>xr  -  ï¼ˆxAxis-rotationï¼‰ å¼§çº¿æ‰€åœ¨æ¤­åœ†çš„é•¿è½´è§’åº¦ </li>
<li>laf  -  ï¼ˆlarge-arc-flagï¼‰ æ˜¯å¦é€‰æ‹©å¤§å¼§é•¿</li>
<li>sf  -  ï¼ˆsweep-flagï¼‰ æ˜¯å¦é€‰æ‹©é€†çš„é‚£ä¸€æ®µ<code>æ—¶é’ˆæ–¹å‘</code>å¼§</li>
</ul>
<p><img src="http://cdn.linz.tech/blog-svg-arc2019-08-01_10-22-36.png" alt=""></p>
<h3 id="åŸºæœ¬è§„å¾‹"><a href="#åŸºæœ¬è§„å¾‹" class="headerlink" title="åŸºæœ¬è§„å¾‹"></a>åŸºæœ¬è§„å¾‹</h3><ul>
<li>å¤§å†™ä¸ºç»å¯¹ä½ç½®å‘½ä»¤ï¼Œå°å†™ä¸ºç›¸å¯¹ä½ç½®å‘½ä»¤</li>
</ul>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://www.w3.org/TR/SVG11/paths.html#PathData" target="_blank" rel="noopener">SVG 1.1 Paths è¯¦æƒ… </a></li>
</ul>
<h1 id="SVG-æ–‡æœ¬"><a href="#SVG-æ–‡æœ¬" class="headerlink" title="SVG æ–‡æœ¬"></a>SVG æ–‡æœ¬</h1><h2 id="svg"><a href="#svg" class="headerlink" title=".svg"></a><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text" target="_blank" rel="noopener"><text>.svg</text></a></h2><pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0 0 240 80<span class="token punctuation">"</span></span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">
    <span class="token selector"><span class="token class">.small</span> </span><span class="token punctuation">{</span> <span class="token property">font</span><span class="token punctuation">:</span> italic <span class="token number">13</span>px sans-serif<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token selector"><span class="token class">.heavy</span> </span><span class="token punctuation">{</span> <span class="token property">font</span><span class="token punctuation">:</span> bold <span class="token number">30</span>px sans-serif<span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/* Note that the color of the text is set with the    *
     * fill property, the color property is for HTML only */</span>
    <span class="token selector"><span class="token class">.Rrrrr</span> </span><span class="token punctuation">{</span> <span class="token property">font</span><span class="token punctuation">:</span> italic <span class="token number">40</span>px serif<span class="token punctuation">;</span> <span class="token property">fill</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>35<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>small<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>My<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>40<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>35<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>heavy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>cat<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>55<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>55<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>small<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>is<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>65<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>55<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Rrrrr<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Grumpy!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="textPath-svg"><a href="#textPath-svg" class="headerlink" title="textPath.svg"></a><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/textPath" target="_blank" rel="noopener">textPath.svg</a></h2><pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0 0 100 100<span class="token punctuation">"</span></span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- to hide the path, it is usually wrapped in a &lt;defs> element --></span>
  <span class="token comment" spellcheck="true">&lt;!-- &lt;defs> --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>MyPath<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span>
        <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M10,90 Q90,90 90,45 Q90,10 50,10 Q10,10 10,40 Q10,70 45,70 Q70,70 75,50<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token comment" spellcheck="true">&lt;!-- &lt;/defs> --></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textPath</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#MyPath<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      Quick brown fox jumps over the lazy dog.
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textPath</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>x/dx/startOffset éƒ½èƒ½ä½¿æ–‡å­—åœ¨pathæç»˜çš„è·¯å¾„å‘å‰ç§»åŠ¨</li>
<li>text-anchor=â€middleâ€,  ä¸€æ®µæ–‡å­—åˆå§‹åŒ–é”šç‚¹åœ¨ä¸€æ®µæ–‡å­—ä¸­é—´</li>
</ul>
<p><a href="https://jsbin.com/socuqun/edit?html,console,output" target="_blank" rel="noopener">dy dx åº”ç”¨æ¡ˆä¾‹</a></p>
<p>JSè„šæœ¬æ§åˆ¶</p>
<ul>
<li>setAttributeNS()è®¾ç½®xlink:href å±æ€§<br><code>textPath.setAttributeNS("http://www.w3.org/1999/xlink",'xlink:href',path)</code></li>
</ul>
<p>å®æˆ˜æ¡ˆä¾‹æŸ¥çœ‹ path.html æˆ–è€…æ˜¯  é™„å½•-ç»å…¸æ¡ˆä¾‹-æ­£ç„å­—ä½“</p>
<h2 id="tspan-svg"><a href="#tspan-svg" class="headerlink" title=" tspan.svg"></a><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/tspan" target="_blank" rel="noopener"> tspan.svg</a></h2><pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>grid<span class="token punctuation">"</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">patternUnits</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userSpaceOnUse<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#f0f0f0<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M0,0H20V20<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defs</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1200<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1000<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url(#grid)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rect</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sintext<span class="token punctuation">"</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span> <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Arial'</span><span class="token punctuation">;</span> </span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tspan</span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span> <span class="token attr-name">dy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-20 20<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>AB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tspan</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tspan</span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>green<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">dy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-40 40<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>CDE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tspan</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--ç®€å•å åŠ çš„æ•ˆæœ--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tspan</span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>blue<span class="token punctuation">"</span></span> <span class="token attr-name">dy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20 20 20 20 20 20<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>FGHIJKLM<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tspan</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M100,0V200M0,100H200<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å‚ç›´å±…ä¸­é—®é¢˜"><a href="#å‚ç›´å±…ä¸­é—®é¢˜" class="headerlink" title="å‚ç›´å±…ä¸­é—®é¢˜"></a>å‚ç›´å±…ä¸­é—®é¢˜</h3><p><img src="http://cdn.linz.tech/blog-svg-text_20190801120224.png" alt=""></p>
<p><a href="http://jsbin.com/lekob/5/edit" target="_blank" rel="noopener">å­—ä½“ä½ç½®å„ç§æ¡ˆä¾‹å±•ç¤º</a></p>
<p>ä»£ç å¦‚ä¸‹</p>
<p>Example.html</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>JS Bin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ta<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>start<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>start<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>end<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>end<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>middle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>center<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>select<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>green<span class="token punctuation">"</span></span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M 0 100.5 500 100.5 M 140 0 v 200<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>140<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span> <span class="token attr-name">font-size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ…•è¯¾ç½‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rect<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>blue<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rect</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Example.js</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">var</span> values <span class="token operator">=</span> <span class="token string">"auto | use-script | no-change | reset-size | ideographic | alphabetic | hanging | mathematical | central | middle | text-after-edge | text-before-edge | text-top | text-bottom"</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' | '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

values<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> opt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'option'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  opt<span class="token punctuation">.</span>value <span class="token operator">=</span> opt<span class="token punctuation">.</span>textContent <span class="token operator">=</span> value<span class="token punctuation">;</span>
  select<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

select<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  text<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'dominant-baseline'</span><span class="token punctuation">,</span> select<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> box <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  rect<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> box<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  rect<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">,</span> box<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
  rect<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> box<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span>
  rect<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> box<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ta<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  text<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'text-anchor'</span><span class="token punctuation">,</span> ta<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ¡ˆä¾‹2ï¼šè‡ªå®šä¹‰topï¼Œcenterï¼Œbottomå¯¹é½æ–¹å¼</p>
<p><a href="https://jsbin.com/vezegib/edit?html,js,console" target="_blank" rel="noopener">https://jsbin.com/vezegib/edit?html,js,console</a></p>
<h1 id="å›¾å½¢å¼•ç”¨ã€è£åˆ‡å’Œè’™ç‰ˆ"><a href="#å›¾å½¢å¼•ç”¨ã€è£åˆ‡å’Œè’™ç‰ˆ" class="headerlink" title="å›¾å½¢å¼•ç”¨ã€è£åˆ‡å’Œè’™ç‰ˆ"></a>å›¾å½¢å¼•ç”¨ã€è£åˆ‡å’Œè’™ç‰ˆ</h1><pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span><span class="token punctuation">></span></span> 
   xlink:href = "#id" 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>clipPath</span><span class="token punctuation">></span></span> 
  clip-path = "url(#clip-id)" 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mask</span><span class="token punctuation">></span></span>
  mask="url(#mask-id)"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="starsky"><a href="#starsky" class="headerlink" title="starsky"></a>starsky</h2><pre class="line-numbers language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>æ˜Ÿç©º<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">
  <span class="token selector">html, body </span><span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#001122</span><span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span>
     <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-400 -300 800 600<span class="token punctuation">"</span></span>
     <span class="token attr-name">preserveAspectRatio</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>xMidYMid slice<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polygon</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>star<span class="token punctuation">"</span></span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0 -10 2 -2 10 0 2 2 0 10 -2 2 -10 0 -2 -2<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>white<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polygon</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defs</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>real<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>start-group<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>moon-group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mask</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>moon-mask<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>70<span class="token punctuation">"</span></span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-250<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-120<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>white<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>circle</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>70<span class="token punctuation">"</span></span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-220<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-200<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>black<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>circle</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mask</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>70<span class="token punctuation">"</span></span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-250<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-120<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>white<span class="token punctuation">"</span></span> <span class="token attr-name">mask</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url(#moon-mask)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>circle</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>light-tower <span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(250,0)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>linearGradient</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tower<span class="token punctuation">"</span></span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stop</span> <span class="token attr-name">offset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">stop-color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#999<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stop</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stop</span> <span class="token attr-name">offset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">stop-color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#333<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stop</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>linearGradient</span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>radialGradient</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>light<span class="token punctuation">"</span></span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0.5<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0.5<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0.5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stop</span> <span class="token attr-name">offset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">stop-color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rgba(255,255,255,.8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stop</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stop</span> <span class="token attr-name">offset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">stop-color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rgba(255,255,255,0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stop</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>radialGradient</span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>clipPath</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>light-clip<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polygon</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0 0 -400 -15 -400 15<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>animateTransform</span>
              <span class="token attr-name">attributeName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>transform<span class="token punctuation">"</span></span>
              <span class="token attr-name">attributeType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>XML<span class="token punctuation">"</span></span>
              <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rotate<span class="token punctuation">"</span></span>
              <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span>
              <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>360<span class="token punctuation">"</span></span>
              <span class="token attr-name">dur</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10s<span class="token punctuation">"</span></span>
              <span class="token attr-name">repeatCount</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>indefinite<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polygon</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>clipPath</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defs</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polygon</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0 0 5 50 -5 50<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url(#tower)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polygon</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ellipse</span> <span class="token attr-name">rx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">ry</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url(#light)<span class="token punctuation">"</span></span> <span class="token attr-name">clip-path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url(#light-clip)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ellipse</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>reflect<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(0,50)<span class="token punctuation">"</span></span> <span class="token attr-name">mask</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url(#fading)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>linearGradient</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fade<span class="token punctuation">"</span></span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stop</span> <span class="token attr-name">offset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">stop-color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rgba(255,255,255,.3)<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stop</span> <span class="token attr-name">offset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0.5<span class="token punctuation">"</span></span> <span class="token attr-name">stop-color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rgba(255,255,255,0)<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>linearGradient</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mask</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fading<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-400<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>800<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url(#fade)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rect</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mask</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defs</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--use æ˜¯ä¸èƒ½ä½¿ç”¨maskçš„--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#real<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>scale(1,-1) translate(0,-50)<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>use</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-400<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>white<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
  <span class="token keyword">var</span> NS <span class="token operator">=</span> <span class="token string">'http://www.w3.org/2000/svg'</span>
  <span class="token keyword">var</span> XLINK_NS <span class="token operator">=</span> <span class="token string">'http://www.w3.org/1999/xlink'</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> page <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'svg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">use</span><span class="token punctuation">(</span>origin<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> _use <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span>NS<span class="token punctuation">,</span> <span class="token string">'use'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    _use<span class="token punctuation">.</span><span class="token function">setAttributeNS</span><span class="token punctuation">(</span>XLINK_NS<span class="token punctuation">,</span> <span class="token string">'xlink:href'</span><span class="token punctuation">,</span> <span class="token string">'#'</span> <span class="token operator">+</span> origin<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> _use<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">random</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> min <span class="token operator">+</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min<span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">renderStar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">renderStar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> starRef <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'star'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> starGroup <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'start-group'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> starCount <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> star<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>starCount<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      star <span class="token operator">=</span> <span class="token function">use</span><span class="token punctuation">(</span>starRef<span class="token punctuation">)</span><span class="token punctuation">;</span>
      star<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'opacity'</span><span class="token punctuation">,</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      star<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'transform'</span><span class="token punctuation">,</span> <span class="token string">'translate('</span> <span class="token operator">+</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">','</span> <span class="token operator">+</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">')'</span> <span class="token operator">+</span>
        <span class="token string">'scale('</span> <span class="token operator">+</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">')'</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      starGroup<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>star<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="SVGåŠ¨ç”»"><a href="#SVGåŠ¨ç”»" class="headerlink" title="SVGåŠ¨ç”»"></a>SVGåŠ¨ç”»</h1><h2 id="å‚è€ƒèµ„æ–™-1"><a href="#å‚è€ƒèµ„æ–™-1" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><p><a href="https://www.w3.org/TR/SVG/animate.html" target="_blank" rel="noopener">Animating SVG Documents</a></p>
</li>
<li><p><a href="https://www.zhangxinxu.com/wordpress/2014/08/so-powerful-svg-smil-animation/" target="_blank" rel="noopener">è¶…çº§å¼ºå¤§çš„SVG SMIL animationåŠ¨ç”»è¯¦è§£</a></p>
</li>
</ul>
<h2 id="åŠ¨ç”»æ ‡ç­¾æ¦‚è¿°"><a href="#åŠ¨ç”»æ ‡ç­¾æ¦‚è¿°" class="headerlink" title="åŠ¨ç”»æ ‡ç­¾æ¦‚è¿°"></a>åŠ¨ç”»æ ‡ç­¾æ¦‚è¿°</h2><p>animate.svg</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>120<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>120<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0 0 120 120<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span>
     <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>animate</span> <span class="token attr-name">attributeType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>XML<span class="token punctuation">"</span></span> <span class="token attr-name">attributeName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>x<span class="token punctuation">"</span></span> <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-100<span class="token punctuation">"</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>120<span class="token punctuation">"</span></span>
        <span class="token attr-name">dur</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10s<span class="token punctuation">"</span></span> <span class="token attr-name">repeatCount</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>indefinite<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rect</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/animateMotion" target="_blank" rel="noopener"><strong><animatemotion></animatemotion></strong></a></p>
<p>motion.xml</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>120<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>120<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0 0 120 120<span class="token punctuation">"</span></span>
    <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>xlink</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/1999/xlink<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- Draw the outline of the motion path in grey, along
       with 2 small circles at key points --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M10,110 A120,120 -45 0,1 110 10 A120,120 -45 0,1 10,110<span class="token punctuation">"</span></span>
      <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>lightgrey<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> 
      <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>theMotionPath<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>110<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>lightgrey<span class="token punctuation">"</span></span>  <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>110<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>lightgrey<span class="token punctuation">"</span></span>  <span class="token punctuation">/></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- Red circle which will be moved along the motion path. --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

    <span class="token comment" spellcheck="true">&lt;!-- Define the motion path animation --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>animateMotion</span> <span class="token attr-name">dur</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>6s<span class="token punctuation">"</span></span> <span class="token attr-name">repeatCount</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>indefinite<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mpath</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#theMotionPath<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>animateMotion</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>circle</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><code>&lt;mpath xlink:href="#theMotionPath"/&gt;</code> å¼•ç”¨ä¸Šé¢çš„è·¯å¾„å®šä¹‰</li>
</ul>
<p>path å¯ä»¥åœ¨animationå†…éƒ¨</p>
<p>sample2.html</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">
  <span class="token selector">html,body, svg</span><span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>SVG åŠ¨ç”»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-400 -400 800 800<span class="token punctuation">"</span></span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xlink</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/1999/xlink<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-25<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-25<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rgba(0,255,255,0.6)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>animateMotion</span>
        <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M 0 0L 100 100A 200 200 0 1 0 0 -100<span class="token punctuation">"</span></span>
        <span class="token attr-name">dur</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>3s<span class="token punctuation">"</span></span>
        <span class="token attr-name">repeatCount</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>indefinite<span class="token punctuation">"</span></span>
        <span class="token attr-name">rotate</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>auto<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token comment" spellcheck="true">&lt;!--&lt;mpath xlink:href="#motion-path"/>--></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>animateMotion</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rect</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>motion-path<span class="token punctuation">"</span></span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M 0 0L 100 100A 200 200 0 1 0 0 -100<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gray<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/animateTransform" target="_blank" rel="noopener">animateTransform</a></p>
<p>transform.svg</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>120<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>120<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0 0 120 120<span class="token punctuation">"</span></span>
     <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polygon</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>60,30 90,90 30,90<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>animateTransform</span> <span class="token attr-name">attributeName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>transform<span class="token punctuation">"</span></span>
                          <span class="token attr-name">attributeType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>XML<span class="token punctuation">"</span></span>
                          <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rotate<span class="token punctuation">"</span></span>
                          <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0 60 70<span class="token punctuation">"</span></span>
                          <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>360 60 70<span class="token punctuation">"</span></span>
                          <span class="token attr-name">dur</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10s<span class="token punctuation">"</span></span>
                          <span class="token attr-name">repeatCount</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>indefinite<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polygon</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å‚æ•°è®¾ç½®"><a href="#å‚æ•°è®¾ç½®" class="headerlink" title="å‚æ•°è®¾ç½®"></a>å‚æ•°è®¾ç½®</h2><ul>
<li><a href="https://www.w3.org/TR/SVG/attindex.html" target="_blank" rel="noopener">Attribute Index å‚æ•°åˆ—è¡¨</a></li>
</ul>
<h2 id="å®æˆ˜æ¡ˆä¾‹"><a href="#å®æˆ˜æ¡ˆä¾‹" class="headerlink" title="å®æˆ˜æ¡ˆä¾‹"></a>å®æˆ˜æ¡ˆä¾‹</h2><h3 id="åŠ¨ç”»é¡ºåº"><a href="#åŠ¨ç”»é¡ºåº" class="headerlink" title="åŠ¨ç”»é¡ºåº"></a>åŠ¨ç”»é¡ºåº</h3><pre class="line-numbers language-svg"><code class="language-svg"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-400 -400 800 800<span class="token punctuation">"</span></span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span>
     <span class="token attr-name"><span class="token namespace">xmlns:</span>xlink</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/1999/xlink<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-25<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-25<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>80<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>80<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rgba(0,255,255,0.6)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>animate</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>first<span class="token punctuation">"</span></span>
             <span class="token attr-name">attributeName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>x<span class="token punctuation">"</span></span>
             <span class="token attr-name">attributeType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>XML<span class="token punctuation">"</span></span>
             <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span>
             <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>500<span class="token punctuation">"</span></span>
             <span class="token attr-name">dur</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1s<span class="token punctuation">"</span></span>
             <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>freeze<span class="token punctuation">"</span></span>
             <span class="token attr-name">begin</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0;second.end<span class="token punctuation">"</span></span>
    <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>animate</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>second<span class="token punctuation">"</span></span>
             <span class="token attr-name">attributeName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>x<span class="token punctuation">"</span></span>
             <span class="token attr-name">attributeType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>XML<span class="token punctuation">"</span></span>
             <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>500<span class="token punctuation">"</span></span>
             <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span>
             <span class="token attr-name">dur</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1s<span class="token punctuation">"</span></span>
             <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>freeze<span class="token punctuation">"</span></span>
             <span class="token attr-name">begin</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>first.end<span class="token punctuation">"</span></span>
    <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>animate</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>third<span class="token punctuation">"</span></span>
             <span class="token attr-name">attributeName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fill<span class="token punctuation">"</span></span>
             <span class="token attr-name">attributeType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>XML<span class="token punctuation">"</span></span>
             <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span>
             <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>yellow<span class="token punctuation">"</span></span>
             <span class="token attr-name">dur</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>6s<span class="token punctuation">"</span></span>
             <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>freeze<span class="token punctuation">"</span></span>
    <span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="SVG-å·¥å…·"><a href="#SVG-å·¥å…·" class="headerlink" title="SVG å·¥å…·"></a>SVG å·¥å…·</h1><h2 id="svgo"><a href="#svgo" class="headerlink" title="svgo"></a><a href="https://github.com/svg/svgo" target="_blank" rel="noopener">svgo</a></h2><blockquote>
<p>SVG ä¼˜åŒ–å·¥å…·ï¼Œåˆ å‡å¤šä½™çš„å†…å®¹ï¼Œå‡å°‘SVGå¤§å°</p>
</blockquote>
<p>ç½‘é¡µå·¥å…·<a href="https://jakearchibald.github.io/svgomg/" target="_blank" rel="noopener">svgomg</a></p>
<h2 id="SVGåŠ¨ç”»ç¼–è¾‘å·¥å…·"><a href="#SVGåŠ¨ç”»ç¼–è¾‘å·¥å…·" class="headerlink" title="SVGåŠ¨ç”»ç¼–è¾‘å·¥å…·"></a><a href="https://shapeshifter.design/" target="_blank" rel="noopener">SVGåŠ¨ç”»ç¼–è¾‘å·¥å…·</a></h2><p><img src="http://cdn.linz.tech/svg_editor.png" alt=""></p>
<h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h1><h2 id="å®‰å“ç›¸å…³æ–‡ç« "><a href="#å®‰å“ç›¸å…³æ–‡ç« " class="headerlink" title="å®‰å“ç›¸å…³æ–‡ç« "></a>å®‰å“ç›¸å…³æ–‡ç« </h2><ul>
<li><a href="http://www.androiddesignpatterns.com/2016/11/introduction-to-icon-animation-techniques.html" target="_blank" rel="noopener">An Introduction to Icon Animation Techniques</a> éå¸¸è¯¦å°½çš„ä»‹ç»å¹¶é™„æœ‰ä»£ç ä¾‹å­è®²è§£ ã€é‡ç‚¹ã€‘</li>
<li><a href="https://medium.com/google-developers/animation-jump-through-861f4f5b3de4#.92v66z9ip" target="_blank" rel="noopener">Animation: Jump-through</a>ã€å¾…ç ”ç©¶ã€‘ã€é‡ç‚¹ã€‘</li>
</ul>
<h2 id="å®˜æ–¹æ–‡æ¡£"><a href="#å®˜æ–¹æ–‡æ¡£" class="headerlink" title="å®˜æ–¹æ–‡æ¡£"></a><a href="https://developer.mozilla.org/en-US/docs/Web/SVG" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></h2><h2 id="å­¦ä¹ èµ„æ–™"><a href="#å­¦ä¹ èµ„æ–™" class="headerlink" title="å­¦ä¹ èµ„æ–™"></a>å­¦ä¹ èµ„æ–™</h2><ul>
<li><a href="https://www.imooc.com/video/4656" target="_blank" rel="noopener">èµ°è¿›SVG</a></li>
</ul>
<h2 id="ç»å…¸æ¡ˆä¾‹"><a href="#ç»å…¸æ¡ˆä¾‹" class="headerlink" title="ç»å…¸æ¡ˆä¾‹"></a>ç»å…¸æ¡ˆä¾‹</h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/metadata" target="_blank" rel="noopener">metadata.svg</a></p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- Learn about this code on MDN: https://developer.mozilla.org/en-US/docs/Web/SVG/Element/metadata --></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0 0 400 300<span class="token punctuation">"</span></span>
  <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xlink</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/1999/xlink<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>metadata</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">rdf:</span>RDF</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>rdf</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/1999/02/22-rdf-syntax-ns#<span class="token punctuation">"</span></span>
             <span class="token attr-name"><span class="token namespace">xmlns:</span>connect</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/1999/08/29-svg-connections-in-RDF#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">rdf:</span>Description</span> <span class="token attr-name">about</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#CableA<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">connect:</span>ends</span> <span class="token attr-name"><span class="token namespace">rdf:</span>resource</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#socket1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">connect:</span>ends</span> <span class="token attr-name"><span class="token namespace">rdf:</span>resource</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#ComputerA<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">rdf:</span>Description</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">rdf:</span>Description</span> <span class="token attr-name">about</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#CableB<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">connect:</span>ends</span> <span class="token attr-name"><span class="token namespace">rdf:</span>resource</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#socket2<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">connect:</span>ends</span> <span class="token attr-name"><span class="token namespace">rdf:</span>resource</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#ComputerB<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">rdf:</span>Description</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">rdf:</span>Description</span> <span class="token attr-name">about</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#CableN<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">connect:</span>ends</span> <span class="token attr-name"><span class="token namespace">rdf:</span>resource</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#socket5<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">connect:</span>ends</span><span class="token punctuation">></span></span>Everything<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">connect:</span>ends</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">rdf:</span>Description</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">rdf:</span>Description</span> <span class="token attr-name">about</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#Hub<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">connect:</span>ends</span> <span class="token attr-name"><span class="token namespace">rdf:</span>resource</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#socket1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">connect:</span>ends</span> <span class="token attr-name"><span class="token namespace">rdf:</span>resource</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#socket2<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">connect:</span>ends</span> <span class="token attr-name"><span class="token namespace">rdf:</span>resource</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#socket3<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">connect:</span>ends</span> <span class="token attr-name"><span class="token namespace">rdf:</span>resource</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#socket4<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">connect:</span>ends</span> <span class="token attr-name"><span class="token namespace">rdf:</span>resource</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#socket5<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">rdf:</span>Description</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">rdf:</span>RDF</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>metadata</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Network<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>desc</span><span class="token punctuation">></span></span>An example of a computer network based on a hub.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>desc</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">
    <span class="token selector">svg </span><span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">/* Default styles to be inherited */</span>
      <span class="token property">fill</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
      <span class="token property">stroke</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">text </span><span class="token punctuation">{</span> <span class="token property">fill</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span> <span class="token property">stroke</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token selector">path </span><span class="token punctuation">{</span> <span class="token property">fill</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- Define symbols used in the SVG --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">></span></span>

    <span class="token comment" spellcheck="true">&lt;!-- hubPlug symbol. Used by hub symbol --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>symbol</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hubPlug<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>desc</span><span class="token punctuation">></span></span>A 10BaseT/100baseTX socket<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>desc</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M0,10 h5 v-9 h12 v9 h5 v16 h-22 z<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>symbol</span><span class="token punctuation">></span></span>

    <span class="token comment" spellcheck="true">&lt;!-- hub symbol --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>symbol</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hub<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>desc</span><span class="token punctuation">></span></span>A typical 10BaseT/100BaseTX network hub<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>desc</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>15<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Hub<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(0 20)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>253<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>84<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>229<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>44<span class="token punctuation">"</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>227<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>71<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>7<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token comment" spellcheck="true">&lt;!-- five groups each using the defined socket --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sock1et<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(25 20)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Socket 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#hubPlug<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>socket2<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(70 20)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Socket 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#hubPlug<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>socket3<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(115 20)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Socket 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#hubPlug<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>socket4<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(160 20)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Socket 4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#hubPlug<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>socket5<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(205 20)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Socket 5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#hubPlug<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>symbol</span><span class="token punctuation">></span></span>

    <span class="token comment" spellcheck="true">&lt;!-- computer symbol --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>symbol</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>computer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>desc</span><span class="token punctuation">></span></span>A common desktop PC<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>desc</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>monitorStand<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(40 121)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Monitor stand<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>desc</span><span class="token punctuation">></span></span>One of those cool swivelling monitor stands that sit under the monitor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>desc</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m0,0 S 10 10 40 12<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m80,0 S 70 10 40 12<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m0,20 L 10 10 S 40 12 70 10 L 80 20z<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>monitor<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Monitor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>desc</span><span class="token punctuation">></span></span>A very fancy monitor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>desc</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>160<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>120<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>lightgrey<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>138<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>95<span class="token punctuation">"</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>11<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>processor<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(0 142)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>The computer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>desc</span><span class="token punctuation">></span></span>A desktop computer - broad flat box style<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>desc</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>160<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>60<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>discDrive<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(70 8)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>disc drive<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>desc</span><span class="token punctuation">></span></span>A built-in disc drive<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>desc</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>58<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>8<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>8<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>12<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>15<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>135<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>40<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>symbol</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defs</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>15<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Network<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- Use the hub symbol. --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Hub<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(80 45)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Hub<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#hub<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>scale(0.75)<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- Use the computer symbol. --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ComputerA<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(20 170)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Computer A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#computer<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>scale(0.5)<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- Use the same computer symbol. --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ComputerB<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(300 170)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Computer B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#computer<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>scale(0.5)<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- Draw Cable A. --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>CableA<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(107 88)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Cable A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>desc</span><span class="token punctuation">></span></span>10BaseT twisted pair cable<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>desc</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M0,0c100,140 50,140 -8,160<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- Draw Cable B. --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>CableB<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(142 88)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Cable B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>desc</span><span class="token punctuation">></span></span>10BaseT twisted pair cable<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>desc</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M0,0c100,180 110,160 159,160<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- Draw Cable N. --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>CableN<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(242 88)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Cable N<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>desc</span><span class="token punctuation">></span></span>10BaseT twisted pair cable<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>desc</span><span class="token punctuation">></span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M0,0c0,-70 20,-50 60,-50<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æ­£ç„å­—ä½“"><a href="#æ­£ç„å­—ä½“" class="headerlink" title="æ­£ç„å­—ä½“"></a>æ­£ç„å­—ä½“</h3><pre class="line-numbers language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>æ­£ç„å­—ä½“<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>grid<span class="token punctuation">"</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">patternUnits</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userSpaceOnUse<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#f0f0f0<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M0,0H20V20<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defs</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>4200<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2000<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url(#grid)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rect</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sintext<span class="token punctuation">"</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>160<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">14</span>px<span class="token punctuation">;</span> <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Arial'</span><span class="token punctuation">;</span> </span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ABCDEFGHIJKLMNOPQRSTUVWXYZ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M100,0V200M0,100H200<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(0,60)<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sintext2<span class="token punctuation">"</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>360<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">14</span>px<span class="token punctuation">;</span> <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Arial'</span><span class="token punctuation">;</span> </span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">
  <span class="token selector">body </span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span>vm<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span>vm<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">svg </span><span class="token punctuation">{</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> visible<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
  <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> i <span class="token operator">=</span> n<span class="token punctuation">;</span>
  <span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> w <span class="token operator">=</span> <span class="token number">0.02</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>



  <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token string">'ABCDEFGHIJKLMNOPQRSTUVWXYZ'</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> NS <span class="token operator">=</span> <span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">;</span>

  <span class="token keyword">while</span> <span class="token punctuation">(</span>i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tspan <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span>NS<span class="token punctuation">,</span><span class="token string">'tspan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tspan<span class="token punctuation">.</span>textContent <span class="token operator">=</span> text<span class="token punctuation">[</span>n <span class="token operator">-</span>i <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    sintext2<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>tspan<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> h <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">360</span> <span class="token operator">/</span> <span class="token number">26</span> <span class="token operator">*</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    tspan<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'fill'</span><span class="token punctuation">,</span><span class="token string">'hsl('</span> <span class="token operator">+</span> h <span class="token operator">+</span> <span class="token string">',100%,80%'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">arrange</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> ly <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> cy<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      cy <span class="token operator">=</span> <span class="token operator">-</span>s <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>w <span class="token operator">*</span> i <span class="token operator">*</span> <span class="token number">20</span> <span class="token operator">+</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
      y<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>cy <span class="token operator">-</span> ly<span class="token punctuation">)</span><span class="token punctuation">;</span>
      ly <span class="token operator">=</span> cy<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sintext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'dx'</span><span class="token punctuation">,</span> x<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    sintext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'dy'</span><span class="token punctuation">,</span> y<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    sintext2<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'dx'</span><span class="token punctuation">,</span> x<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    sintext2<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'dy'</span><span class="token punctuation">,</span> y<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">frame</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    t <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">0.02</span><span class="token punctuation">;</span>
    <span class="token function">arrange</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>frame<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">frame</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
        <tag>UI</tag>
      </tags>
  </entry>
  <entry>
    <title>Vueç¬”è®°</title>
    <url>/2019/07/22/2019-7-22-vue/</url>
    <content><![CDATA[<h1 id="Javascript"><a href="#Javascript" class="headerlink" title="Javascript"></a>Javascript</h1><ul>
<li><a href="https://wangdoc.com/javascript/index.html" target="_blank" rel="noopener">JavaScript æ•™ç¨‹</a></li>
<li><a href="https://www.css88.com/archives/9922?utm_source=androidweekly.io&amp;utm_medium=website" target="_blank" rel="noopener">JavaScript å®Œå…¨æ‰‹å†Œï¼ˆ2018ç‰ˆï¼‰</a> ã€é‡ç‚¹ã€‘</li>
<li><a href="https://github.com/leonardomso/33-js-concepts" target="_blank" rel="noopener">33-js-concepts</a></li>
</ul>
<h1 id="è¯­è¨€å­¦ä¹ "><a href="#è¯­è¨€å­¦ä¹ " class="headerlink" title="è¯­è¨€å­¦ä¹ "></a>è¯­è¨€å­¦ä¹ </h1><ul>
<li><a href="https://segmentfault.com/a/1190000007032448#articleHeader0" target="_blank" rel="noopener">åˆæ¢Promise</a></li>
</ul>
<h1 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h1><h2 id="å­¦ä¹ èµ„æ–™"><a href="#å­¦ä¹ èµ„æ–™" class="headerlink" title="å­¦ä¹ èµ„æ–™"></a>å­¦ä¹ èµ„æ–™</h2><h3 id="åšæ–‡"><a href="#åšæ–‡" class="headerlink" title="åšæ–‡"></a>åšæ–‡</h3><ul>
<li><p><a href="https://juejin.im/post/59097cd7a22b9d0065fb61d2" target="_blank" rel="noopener">æ‰‹æ‘¸æ‰‹ï¼Œå¸¦ä½ ç”¨vueæ’¸åå° ç³»åˆ—ä¸€ï¼ˆåŸºç¡€ç¯‡ï¼‰</a></p>
</li>
<li><p><a href="https://www.cnblogs.com/wuyuchao/p/9186790.html" target="_blank" rel="noopener">vue .syncä¿®é¥°ç¬¦çš„ä½¿ç”¨</a></p>
</li>
<li><p><a href="https://segmentfault.com/a/1190000011716027#articleHeader5" target="_blank" rel="noopener">vuexå…¥é—¨ï¼Œè¯¦ç»†çš„è®²è§£</a></p>
</li>
<li><p><a href="https://www.php.cn/js-tutorial-394694.html" target="_blank" rel="noopener">vuexé‡ŒmapState,mapGettersä½¿ç”¨è¯¦è§£</a> </p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> mapState<span class="token punctuation">,</span> mapGetters<span class="token punctuation">,</span> mapActions<span class="token punctuation">,</span> mapMutations <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
     <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        viewsCount<span class="token punctuation">:</span> <span class="token string">'views'</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        todosALise<span class="token punctuation">:</span> <span class="token string">'getToDo'</span> <span class="token comment" spellcheck="true">// getToDo ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œå¯¹åº”çš„æ˜¯getteré‡Œé¢çš„ä¸€ä¸ªæ–¹æ³•åå­— ç„¶åå°†è¿™ä¸ªæ–¹æ³•åå­—é‡æ–°å–ä¸€ä¸ªåˆ«å todosALise</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>

 methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
     <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
     totalAlise<span class="token punctuation">:</span> <span class="token string">'clickTotal'</span> <span class="token comment" spellcheck="true">// clickTotal æ˜¯mutation é‡Œçš„æ–¹æ³•ï¼ŒtotalAliseæ˜¯é‡æ–°å®šä¹‰çš„ä¸€ä¸ªåˆ«åæ–¹æ³•ï¼Œæœ¬ç»„ä»¶ç›´æ¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
ã€€ã€€ <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
     blogAdd<span class="token punctuation">:</span> <span class="token string">'blogAdd'</span> <span class="token comment" spellcheck="true">// ç¬¬ä¸€ä¸ªblogAddæ˜¯å®šä¹‰çš„ä¸€ä¸ªå‡½æ•°åˆ«åç§°ï¼ŒæŒ‚è½½åœ¨åˆ°this(vue)å®ä¾‹ä¸Šï¼Œåé¢ä¸€ä¸ªblogAdd æ‰æ˜¯actionsé‡Œé¢å‡½æ•°æ–¹æ³•åç§°</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span> 
 <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h3 id="å®˜æ–¹æ•™ç¨‹"><a href="#å®˜æ–¹æ•™ç¨‹" class="headerlink" title="å®˜æ–¹æ•™ç¨‹"></a>å®˜æ–¹æ•™ç¨‹</h3><ol>
<li><a href="https://cn.vuejs.org/v2/guide/installation.html" target="_blank" rel="noopener">vue å®˜æ–¹æ•™ç¨‹</a></li>
<li><a href="https://cn.vuejs.org/v2/guide/instance.html" target="_blank" rel="noopener">vue å…¥é—¨æ•™ç¨‹</a></li>
<li><a href="https://vuejs.org/v2/style-guide/index.html" target="_blank" rel="noopener">style-guide</a></li>
<li><a href="https://github.com/vuejs-templates/webpack" target="_blank" rel="noopener"><strong>webpack</strong></a></li>
<li><a href="https://github.com/neutrinojs/webpack-chain" target="_blank" rel="noopener"><strong>webpack-chain</strong></a></li>
</ol>
<h2 id="Vue-å¼€æºåº“"><a href="#Vue-å¼€æºåº“" class="headerlink" title="Vue å¼€æºåº“"></a>Vue å¼€æºåº“</h2><ul>
<li><a href="https://github.com/vuejs/vue/tree/dev/examples" target="_blank" rel="noopener">examples</a></li>
<li><a href="https://github.com/bailicangdu/vue2-elm" target="_blank" rel="noopener">åŸºäº vue2 + vuex æ„å»ºä¸€ä¸ªå…·æœ‰ 45 ä¸ªé¡µé¢çš„å¤§å‹å•é¡µé¢åº”ç”¨</a></li>
<li><a href="å°æ‹‰æ¡†å¤šé€‰">vue-multiselect</a></li>
<li><a href="https://github.com/rstacruz/nprogress" target="_blank" rel="noopener">nprogress</a></li>
</ul>
<h3 id="å®˜æ–¹å¼€æºåº“"><a href="#å®˜æ–¹å¼€æºåº“" class="headerlink" title="å®˜æ–¹å¼€æºåº“"></a>å®˜æ–¹å¼€æºåº“</h3><ul>
<li><a href="https://github.com/vuejs/vue-router" target="_blank" rel="noopener">vue-router</a></li>
</ul>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><h3 id="æŒ‡ä»¤"><a href="#æŒ‡ä»¤" class="headerlink" title="æŒ‡ä»¤"></a>æŒ‡ä»¤</h3><p>injectæ³¨å…¥</p>
<pre class="line-numbers language-shell"><code class="language-shell">// çˆ¶çº§ç»„ä»¶æä¾› 'foo'
var Provider = {
  provide: {
    foo: 'bar'
  },
  // ...
}

// å­ç»„ä»¶æ³¨å…¥ 'foo'
var Child = {
  inject: ['foo'],
  created () {
    console.log(this.foo) // => "bar"
  }
  // ...
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h2><ul>
<li><a href="https://juejin.im/post/5ca18157e51d45301b5c957c" target="_blank" rel="noopener">VUE 9ä¸ªæ€§èƒ½ä¼˜åŒ–ç§˜å¯†ï¼Ÿï¼ˆvue-9-perf-secretsï¼‰</a></li>
</ul>
<h1 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h1><ul>
<li><p>ç±»ä¼¼RxJavaçš„å·¥å…·åº“ <a href="https://lodash.com/docs/4.17.11" target="_blank" rel="noopener">https://lodash.com/docs/4.17.11</a></p>
</li>
<li><p><a href="https://sortablejs.github.io/Sortable/" target="_blank" rel="noopener">Sortable æ‹–æ‹½æ’åºåº“</a></p>
</li>
<li><p><a href="https://www.cnblogs.com/lulin1/p/6907432.html" target="_blank" rel="noopener">iconfont é˜¿é‡Œå·´å·´çŸ¢é‡å›¾åº“ä½¿ç”¨</a></p>
</li>
</ul>
<h2 id="åŠ¨ç”»å·¥å…·"><a href="#åŠ¨ç”»å·¥å…·" class="headerlink" title="åŠ¨ç”»å·¥å…·"></a>åŠ¨ç”»å·¥å…·</h2><ul>
<li><a href="https://daneden.github.io/animate.css/" target="_blank" rel="noopener">animate.css</a></li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>webpackç¬”è®°</title>
    <url>/2019/07/22/2019-7-22-webpack/</url>
    <content><![CDATA[<h1 id="webpackåŸºç¡€"><a href="#webpackåŸºç¡€" class="headerlink" title="webpackåŸºç¡€"></a>webpackåŸºç¡€</h1><h2 id="webpackç®€ä»‹"><a href="#webpackç®€ä»‹" class="headerlink" title="webpackç®€ä»‹"></a>webpackç®€ä»‹</h2><ol>
<li>ä»£ç è½¬æ¢</li>
<li>æ–‡ä»¶ä¼˜åŒ–</li>
<li>ä»£ç åˆ†å‰²</li>
<li>æ¨¡å—åˆå¹¶</li>
<li>debugæ¨¡å¼è‡ªåŠ¨åˆ·æ–°</li>
<li>ä»£ç éªŒè¯</li>
<li>è‡ªåŠ¨å‘å¸ƒ</li>
</ol>
<h2 id="webpack-åŸºç¡€"><a href="#webpack-åŸºç¡€" class="headerlink" title="webpack åŸºç¡€"></a>webpack åŸºç¡€</h2><p>å®‰è£…åˆ°æœ¬åœ°</p>
<pre class="line-numbers language-shell"><code class="language-shell">yarn init -y 
#-D è¡¨ç¤ºå¼€å‘ä¾èµ–
yarn add webpack webpack-cli -D
npx webpack<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
        <tag>ç½‘é¡µ</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®åº“å­¦ä¹ ç¬”è®°</title>
    <url>/2019/04/14/2019-4-17-database/</url>
    <content><![CDATA[<h1 id="å®æˆ˜å¤‡ä»½"><a href="#å®æˆ˜å¤‡ä»½" class="headerlink" title="å®æˆ˜å¤‡ä»½"></a>å®æˆ˜å¤‡ä»½</h1><h2 id="é¡¹ç›®"><a href="#é¡¹ç›®" class="headerlink" title="é¡¹ç›®"></a>é¡¹ç›®</h2><h3 id="è…•å¸¦ä¿¡æ¯ä¸Šä¼ "><a href="#è…•å¸¦ä¿¡æ¯ä¸Šä¼ " class="headerlink" title="è…•å¸¦ä¿¡æ¯ä¸Šä¼ "></a>è…•å¸¦ä¿¡æ¯ä¸Šä¼ </h3><pre class="line-numbers language-shell"><code class="language-shell">-- åˆ›å»ºè§†å›¾
create view v_watch_recoder_msg as
select r.id ,r.err as code, m.msg as msg, r.imei, an.name, r.time as upload_time from t_watch_recoder r,t_code_msg m, T_RUNAN_IMEI an where m.code = r.ERR and m.type='status' and r.imei = an.imei ORDER BY r.time DESC

create view v_alert_record_msg as
select t.id, t.type,msg.msg, t.imei,t.time from t_alert_record t, t_code_msg msg where msg.type='alert' and msg.code = t.type order by t.time desc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>ç½‘ç»œç¼–ç¨‹å­¦ä¹ ç¬”è®°</title>
    <url>/2019/04/13/2019-3-21-network-coding-note/</url>
    <content><![CDATA[<p>[TOC]</p>
<h2 id="åŸºæœ¬çŸ¥è¯†"><a href="#åŸºæœ¬çŸ¥è¯†" class="headerlink" title="åŸºæœ¬çŸ¥è¯†"></a>åŸºæœ¬çŸ¥è¯†</h2><h3 id="åŸºæœ¬æœ¯è¯­"><a href="#åŸºæœ¬æœ¯è¯­" class="headerlink" title="åŸºæœ¬æœ¯è¯­"></a>åŸºæœ¬æœ¯è¯­</h3><h4 id="Socket"><a href="#Socket" class="headerlink" title="Socket"></a><strong>Socket</strong></h4><p>æ“ä½œç³»ç»Ÿä¸ºè½¯ä»¶æä¾›è¾“å…¥/å‡ºçš„ç«¯å£ï¼Œé“¾æ¥è¿‡ç¨‹Serviceç«¯ç›‘å¬æŸä¸ªç«¯å£ï¼Œå®¢æˆ·ç«¯è®¿é—®æœåŠ¡å™¨ç«¯å£ï¼›</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">int</span> <span class="token function">socket</span><span class="token punctuation">(</span><span class="token keyword">int</span> domain<span class="token punctuation">,</span> <span class="token keyword">int</span> type<span class="token punctuation">,</span> <span class="token keyword">int</span> protocol<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>domainï¼šåè®®åŸŸï¼Œåˆç§°åè®®æ—ï¼ˆfamilyï¼‰ã€‚å¸¸ç”¨æœ‰AF_INETã€AF_INET6ã€AF_LOCALï¼ˆæˆ–ç§°AF_UNIXï¼ŒUnixåŸŸSocketï¼‰ã€AF_ROUTEç­‰,å†³å®šäº†socketçš„åœ°å€ç±»å‹,åœ¨é€šä¿¡ä¸­å¿…é¡»é‡‡ç”¨å¯¹åº”çš„åœ°å€ï¼Œå¦‚AF_INETå†³å®šäº†è¦ç”¨ipv4åœ°å€ï¼ˆ32ä½çš„ï¼‰ä¸ç«¯å£å·ï¼ˆ16ä½çš„ï¼‰çš„ç»„åˆã€AF_UNIXå†³å®šäº†è¦ç”¨ä¸€ä¸ªç»å¯¹è·¯å¾„åä½œä¸ºåœ°å€ã€‚</li>
<li>type ï¼šæŒ‡å®šSocketç±»å‹ï¼Œæœ‰SOCK_STREAMã€SOCK_DGRAMã€SOCK_RAWã€SOCK_PACKETã€SOCK_SEQPACKETç­‰ã€‚<ul>
<li>SOCK_STREAM é¢å‘è¿æ¥, é’ˆå¯¹äºé¢å‘è¿æ¥çš„TCPæœåŠ¡åº”ç”¨ </li>
<li>SOCK_DGRAM ä¸€ç§æ— è¿æ¥, å¯¹åº”äºæ— è¿æ¥çš„UDPæœåŠ¡åº”ç”¨</li>
</ul>
</li>
<li>protocol: æŒ‡å®šåè®®,æœ‰IPPROTO_TCPã€IPPROTO_UDPã€IPPROTO_STCPã€IPPROTO_TIPCç­‰ </li>
</ul>
<p>å‚è€ƒï¼š</p>
<ol>
<li><a href="https://baike.baidu.com/item/socket/281150" target="_blank" rel="noopener">socketç™¾ç§‘</a></li>
</ol>
<h4 id="TCP-IP"><a href="#TCP-IP" class="headerlink" title="TCP/IP"></a>TCP/IP</h4><p> Transmission Control Protocol (TCP) and the Internet Protocol (IP)</p>
<blockquote>
<p>provides end-to-end data communication specifying how data should be packetized, addressed, transmitted, routed, and received.</p>
</blockquote>
<p> From lowest to highest</p>
<ul>
<li>link layer: containing communication methods for data that remains whichin a single network segment;</li>
<li>internet layer: providing internetworking between independent network;</li>
<li>transport layer: providing end-to-end comminucation services for applications;</li>
<li>applicaton layer: providing services to users and system functions; such as SMTP, FTP, SSH, HTTP</li>
</ul>
<p>å‚è€ƒï¼š</p>
<ol>
<li><a href="https://en.wikipedia.org/wiki/Internet_protocol_suite" target="_blank" rel="noopener">Internet protocol suite</a></li>
</ol>
<h4 id="Httpåè®®ä¸­Cookie"><a href="#Httpåè®®ä¸­Cookie" class="headerlink" title="Httpåè®®ä¸­Cookie"></a>Httpåè®®ä¸­Cookie</h4><p>Cookieæ€»æ˜¯ä¿å­˜åœ¨å®¢æˆ·ç«¯ä¸­ï¼ŒæŒ‰åœ¨å®¢æˆ·ç«¯ä¸­çš„å­˜å‚¨ä½ç½®ï¼Œå¯åˆ†ä¸ºå†…å­˜Cookieå’Œç¡¬ç›˜Cookie,å†…å­˜Cookieç”±æµè§ˆå™¨ç»´æŠ¤; HTTPè¯·æ±‚ä¸­çš„cookieæ˜æ–‡ï¼ŒHTTPSåŠ å¯†ï¼Œå¤§å°é™åˆ¶åœ¨4kB</p>
<p><strong>è¯­æ³•</strong></p>
<pre class="line-numbers language-xml"><code class="language-xml">Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span> 
Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; Expires=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>date</span><span class="token punctuation">></span></span>
Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; Max-Age=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>non-zero-digit</span><span class="token punctuation">></span></span>
Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; Domain=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>domain-value</span><span class="token punctuation">></span></span>
Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; Path=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path-value</span><span class="token punctuation">></span></span>
Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; Secure
Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; HttpOnly

Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; SameSite=Strict
Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; SameSite=Lax

// Multiple directives are also possible, for example:
Set-Cookie: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-name</span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cookie-value</span><span class="token punctuation">></span></span>; Domain=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>domain-value</span><span class="token punctuation">></span></span>; Secure; HttpOnly<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>æ¡ˆä¾‹</strong><br>Server-&gt;Client</p>
<pre><code>Set-Cookie: lu=Rg3vHJZnehYLjVg7qi3bZjzg; Expires=Tue, 15 Jan 2013 21:47:38 GMT; Path=/; Domain=.169it.com; HttpOnly

Set-Cookie: made_write_conn=1295214458; Path=/; Domain=.169it.com

Set-Cookie: reg_fb_gate=deleted; Expires=Thu, 01 Jan 1970 00:00:01 GMT; Path=/; Domain=.169it.com; HttpOnly</code></pre><p>Client-&gt;Server </p>
<pre><code>GET /spec.html HTTP/1.1  

Host: www.example.org  

Cookie: name=value; name2=value2  

Accept: */*  </code></pre><h4 id="å±æ€§è¯¦è§£"><a href="#å±æ€§è¯¦è§£" class="headerlink" title="å±æ€§è¯¦è§£"></a>å±æ€§è¯¦è§£</h4><ul>
<li>cookie-nameï¼š å˜é‡åç”¨äºè·å–cookie-valueï¼›</li>
<li>Expiresï¼šcookieè¿‡æœŸæ—¶é—´ï¼Œå¯ä»¥è®¾ç½®æ—¶é—´å°äºå½“å‰ä½¿cookieæ— æ•ˆï¼›</li>
<li>Pathï¼šcookieçš„æœ‰æ•ˆèŒƒå›´ï¼Œå¦‚Path=â€/â€æ•´ä¸ªåŸŸåå†…æœ‰æ•ˆï¼›</li>
<li>domainï¼š cookieæœ‰æ•ˆçš„åŸŸåï¼›</li>
</ul>
<p>å‚è€ƒï¼š </p>
<ol>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie" target="_blank" rel="noopener">Set-Cookie</a></li>
<li><a href="https://www.cnblogs.com/yanganok/p/5322411.html" target="_blank" rel="noopener">Httpåè®®ä¸­Cookieä»‹ç»</a></li>
</ol>
<h3 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h3><h2 id="å¼€æºåº“åˆ†æ"><a href="#å¼€æºåº“åˆ†æ" class="headerlink" title="å¼€æºåº“åˆ†æ"></a>å¼€æºåº“åˆ†æ</h2><h3 id="OkHttp-3-7æºç åˆ†æ"><a href="#OkHttp-3-7æºç åˆ†æ" class="headerlink" title="OkHttp 3.7æºç åˆ†æ"></a>OkHttp 3.7æºç åˆ†æ</h3><h4 id="æ•´ä½“æ¶æ„å¸ˆåˆ†æ"><a href="#æ•´ä½“æ¶æ„å¸ˆåˆ†æ" class="headerlink" title="æ•´ä½“æ¶æ„å¸ˆåˆ†æ"></a>æ•´ä½“æ¶æ„å¸ˆåˆ†æ</h4><p><img src="http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/f6e2ac304ee22891eca4ad1218602044.png" alt=""></p>
<h4 id="InterceptoråŠŸèƒ½åˆ†æ"><a href="#InterceptoråŠŸèƒ½åˆ†æ" class="headerlink" title="InterceptoråŠŸèƒ½åˆ†æ"></a>InterceptoråŠŸèƒ½åˆ†æ</h4><p><img src="http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/e67029972070a7dd84206023b179dbd1.png" alt=""></p>
<p>RetryAndFollowUpInterceptor</p>
<ul>
<li>åœ¨ç½‘ç»œè¯·æ±‚å¤±è´¥åè¿›è¡Œé‡è¯•</li>
<li>å½“æœåŠ¡å™¨è¿”å›å½“å‰è¯·æ±‚éœ€è¦è¿›è¡Œé‡å®šå‘æ—¶ç›´æ¥å‘èµ·æ–°çš„è¯·æ±‚ï¼Œå¹¶åœ¨æ¡ä»¶å…è®¸æƒ…å†µä¸‹å¤ç”¨å½“å‰è¿æ¥</li>
</ul>
<p>BridgeInterceptor</p>
<ul>
<li>è®¾ç½®å…¶ä»–æŠ¥å¤´</li>
<li>è®¾ç½®gzipå‹ç¼©</li>
</ul>
<p>CacheInterceptor</p>
<ul>
<li>è¯·æ±‚æœ‰ç¬¦åˆè¦æ±‚ç›´æ¥è¿”å›Cache</li>
<li>æœåŠ¡å™¨è¿”å›å†…å®¹æœ‰æ”¹å˜æ—¶æ›´æ–°å½“å‰cache</li>
<li>cacheå¤±æ•ˆåˆ é™¤</li>
</ul>
<p>ConnectInterceptor</p>
<blockquote>
<p>å³ä¸ºå½“å‰è¯·æ±‚æ‰¾åˆ°åˆé€‚çš„è¿æ¥ï¼Œå¯èƒ½å¤ç”¨å·²æœ‰è¿æ¥ä¹Ÿå¯èƒ½æ˜¯é‡æ–°åˆ›å»ºçš„è¿æ¥ï¼Œè¿”å›çš„è¿æ¥ç”±è¿æ¥æ± è´Ÿè´£å†³å®šã€‚</p>
</blockquote>
<p>CallServerInterceptor</p>
<blockquote>
<p>è´Ÿè´£å‘æœåŠ¡å™¨å‘èµ·çœŸæ­£çš„è®¿é—®è¯·æ±‚ï¼Œå¹¶åœ¨æ¥æ”¶åˆ°æœåŠ¡å™¨è¿”å›åè¯»å–å“åº”è¿”å›</p>
</blockquote>
<h4 id="ç¼“å­˜ç­–ç•¥"><a href="#ç¼“å­˜ç­–ç•¥" class="headerlink" title="ç¼“å­˜ç­–ç•¥"></a><a href="https://yq.aliyun.com/articles/78102?spm=a2c4e.11153940.blogcont78103.22.1d6a2a21T3SKL9" target="_blank" rel="noopener">ç¼“å­˜ç­–ç•¥</a></h4><h5 id="HTTPç¼“å­˜ç­–ç•¥"><a href="#HTTPç¼“å­˜ç­–ç•¥" class="headerlink" title="HTTPç¼“å­˜ç­–ç•¥"></a>HTTPç¼“å­˜ç­–ç•¥</h5><ul>
<li>Expires: å‘ŠçŸ¥å®¢æˆ·ç«¯å¯¹åº”èµ„æºçš„è¿‡æœŸæ—¶é—´</li>
<li>Cache-Control:å½“å‰èµ„æºçš„æœ‰æ•ˆæœŸ(s),æ¯”<code>Expires</code>ä¼˜å…ˆçº§æ›´é«˜:<code>Cache-Control:max-age=31536000,public</code></li>
</ul>
<p><strong>æ¡ä»¶GETè¯·æ±‚</strong></p>
<ul>
<li>Last-Modified-Date<br>å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨è¿”å›ï¼š<code>Last-Modified: Tue, 12 Jan 2016 09:31:27 GMT</code>,å½“å®¢æˆ·ç«¯äºŒæ¬¡è¯·æ±‚æ—¶ï¼Œå¯ä»¥å¤´éƒ¨åŠ ä¸Šå¦‚ä¸‹header:<code>If-Modified-Since: Tue, 12 Jan 2016 09:31:27 GMT</code>å¦‚æœå½“å‰èµ„æºæ²¡æœ‰è¢«äºŒæ¬¡ä¿®æ”¹ï¼ŒæœåŠ¡å™¨è¿”å›304å‘ŠçŸ¥å®¢æˆ·ç«¯ç›´æ¥å¤ç”¨æœ¬åœ°ç¼“å­˜ã€‚</li>
<li>ETag: ETagæ˜¯å¯¹èµ„æºæ–‡ä»¶çš„ä¸€ç§æ‘˜è¦. å½“å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚æŸèµ„æºæ—¶ï¼ŒæœåŠ¡å™¨è¿”å›ï¼š<br><code>ETag: "5694c7ef-24dc"</code>å®¢æˆ·ç«¯å†æ¬¡è¯·æ±‚æ—¶ï¼Œå¯åœ¨å¤´éƒ¨åŠ ä¸Šå¦‚ä¸‹åŸŸï¼š<code>If-None-Match: "5694c7ef-24dc"</code>å¦‚æœæ–‡ä»¶å¹¶æœªæ”¹å˜ï¼Œåˆ™æœåŠ¡å™¨è¿”å›304å‘ŠçŸ¥å®¢æˆ·ç«¯å¯ä»¥å¤ç”¨æœ¬åœ°ç¼“å­˜ã€‚</li>
<li>no-cache/no-store: ä¸ä½¿ç”¨ç¼“å­˜</li>
<li>only-if-cached:åªä½¿ç”¨ç¼“å­˜<h4 id="å¤šè·¯å¤ç”¨"><a href="#å¤šè·¯å¤ç”¨" class="headerlink" title="å¤šè·¯å¤ç”¨"></a>å¤šè·¯å¤ç”¨</h4></li>
</ul>
<h2 id="å®æˆ˜æ¡ˆä¾‹"><a href="#å®æˆ˜æ¡ˆä¾‹" class="headerlink" title="å®æˆ˜æ¡ˆä¾‹"></a>å®æˆ˜æ¡ˆä¾‹</h2><h3 id="Fiddler-æŠ“åŒ…"><a href="#Fiddler-æŠ“åŒ…" class="headerlink" title="Fiddler æŠ“åŒ…"></a>Fiddler æŠ“åŒ…</h3><p> <a href="https://www.cnblogs.com/mfryf/p/5028010.html" target="_blank" rel="noopener">fiddler Androidä¸‹httpsæŠ“åŒ…å…¨æ”»ç•¥</a></p>
<h4 id="Androidæ‰‹æœºæŠ“åŒ…"><a href="#Androidæ‰‹æœºæŠ“åŒ…" class="headerlink" title="Androidæ‰‹æœºæŠ“åŒ…"></a>Androidæ‰‹æœºæŠ“åŒ…</h4><p><strong>Fiddlerè®¾ç½®</strong></p>
<p><img src="http://img.blog.csdn.net/20150228183938842?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanVzdEZXRA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="æŠ€æœ¯åˆ†äº«"></p>
<p><img src="http://img.blog.csdn.net/20150228183920982?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanVzdEZXRA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="æŠ€æœ¯åˆ†äº«"></p>
<p><strong>æ‰‹æœºä»£ç†è®¾ç½®</strong></p>
<!--![img](file:///C:/Users/skast/AppData/Local/Temp/SNAGHTML99ad8d.PNG)-->

<p><strong>è¯ä¹¦å®‰è£…</strong> <code>ç”¨é»˜è®¤çš„æµè§ˆå™¨</code></p>
<p><img src="http://img.blog.csdn.net/20150228183957687?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanVzdEZXRA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="æŠ€æœ¯åˆ†äº«"></p>
<p><img src="http://cdn.linz.tech/fiddler-network-coding.jpg" alt="æŠ€æœ¯åˆ†äº«"></p>
<h4 id="ç”µè„‘æŠ“åŒ…"><a href="#ç”µè„‘æŠ“åŒ…" class="headerlink" title="ç”µè„‘æŠ“åŒ…"></a>ç”µè„‘æŠ“åŒ…</h4><ul>
<li>ç³»ç»Ÿä»£ç†è®¾ç½®<br><img src="https://images2015.cnblogs.com/blog/626593/201601/626593-20160118234154922-335265309.png" alt="image"></li>
</ul>
<h4 id="Fiddler-ä½¿ç”¨"><a href="#Fiddler-ä½¿ç”¨" class="headerlink" title="Fiddler ä½¿ç”¨"></a>Fiddler ä½¿ç”¨</h4><ol>
<li><p>è¿‡æ»¤Androidç«¯æ•°æ®</p>
<ol>
<li><p>ç‚¹å‡»â€Rules-&gt;CustomizeRulesâ€;</p>
</li>
<li><p>åœ¨è¿™ä¸ªå‡½æ•°OnBeforeResponseåé¢æ·»åŠ </p>
<blockquote>
<p>if (oSession.oRequest[â€œUser-Agentâ€].indexOf(â€œAndroidâ€)&gt; -1 &amp;&amp; oSession.HTTPMethodIs(â€œCONNECTâ€)) {oSession.oResponse.headers[â€œConnectionâ€] = â€œKeep-Aliveâ€; }</p>
</blockquote>
<p>å¦‚å›¾ï¼š</p>
</li>
</ol>
</li>
</ol>
<p><img src="http://cdn.linz.tech/tech-share-network-coding.png" alt="æŠ€æœ¯åˆ†äº«"></p>
<p>å‚è€ƒï¼š <a href="https://www.cnblogs.com/yyhh/p/5140852.html" target="_blank" rel="noopener">Fiddler æŠ“åŒ…å·¥å…·æ€»ç»“</a></p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>ç½‘é¡µWEBç¬”è®°æ±‡æ€»</title>
    <url>/2019/04/13/2019-3-7-web-note/</url>
    <content><![CDATA[<p>[TOC]</p>
<h1 id="å¸¸ç”¨"><a href="#å¸¸ç”¨" class="headerlink" title="å¸¸ç”¨"></a>å¸¸ç”¨</h1><h2 id="åœ¨çº¿ç¼–è¾‘ï¼ˆIDEï¼‰"><a href="#åœ¨çº¿ç¼–è¾‘ï¼ˆIDEï¼‰" class="headerlink" title="åœ¨çº¿ç¼–è¾‘ï¼ˆIDEï¼‰"></a>åœ¨çº¿ç¼–è¾‘ï¼ˆIDEï¼‰</h2><ul>
<li><a href="http://jsfiddle.net/" target="_blank" rel="noopener">http://jsfiddle.net/</a></li>
<li><a href="http://plnkr.co/edit/?p=preview" target="_blank" rel="noopener">http://plnkr.co/edit/?p=preview</a></li>
</ul>
<h2 id="åœ¨çº¿èµ„æ–™"><a href="#åœ¨çº¿èµ„æ–™" class="headerlink" title="åœ¨çº¿èµ„æ–™"></a>åœ¨çº¿èµ„æ–™</h2><ul>
<li><a href="http://tool.oschina.net/commons" target="_blank" rel="noopener">å¸¸ç”¨å¯¹ç…§è¡¨</a></li>
<li><a href="https://developer.mozilla.org/en-US/" target="_blank" rel="noopener">mozilla æä¾›çš„ CSSï¼ŒHTMLï¼ŒJavascript api</a> ã€é‡ç‚¹åº”ç”¨ã€‘</li>
</ul>
<h2 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h2><ul>
<li><p><a href="https://github.com/google/tamperchrome" target="_blank" rel="noopener">tamperchrome</a> </p>
<blockquote>
<p>è°·æ­Œæ¨å‡ºä¸€ä¸ªç½‘ç«™å¼€å‘åˆ©å™¨ï¼Œå¯ä»¥æ‹¦æˆªå¹¶ä¿®æ”¹HTTPè¯·æ±‚ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç½‘é¡µè·ŸæœåŠ¡å™¨çš„é€šä¿¡ï¼Œä½ å¯ä»¥è½»æ¾ç›‘æ§ï¼Œéšæ‰‹æ”¹æ‰ï¼ŒHTTPS è¯·æ±‚ä¹Ÿå¯ä»¥å–”ï¼</p>
</blockquote>
</li>
<li><p><a href="https://blog.csdn.net/gyy823/article/details/51655151" target="_blank" rel="noopener">æ•°æ®å¯è§†åŒ–åˆ†æå·¥å…·å¤§é›†åˆæ±‡æ€»</a></p>
</li>
</ul>
<h1 id="è®¾è®¡"><a href="#è®¾è®¡" class="headerlink" title="è®¾è®¡"></a>è®¾è®¡</h1><h1 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h1><ul>
<li><p><a href="http://blog.csdn.net/gyming/article/details/36060843" target="_blank" rel="noopener">Tomcatåœ¨Linuxä¸Šçš„å®‰è£…ä¸é…ç½®</a> </p>
</li>
<li><p><a href="http://my.oschina.net/u/1170781/blog/192731" target="_blank" rel="noopener">IntelliJ IDEA (idea)å¼•å…¥eclipse webé¡¹ç›®</a></p>
</li>
</ul>
<h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><h2 id="Element"><a href="#Element" class="headerlink" title="Element"></a>Element</h2><p><strong><label></label></strong>  å’Œinputæ ‡ç­¾é…åˆ</p>
<ul>
<li>ç‚¹å‡»labelæ ‡ç­¾ï¼Œinputæ ‡ç­¾å¯ä»¥è·å–ç„¦ç‚¹</li>
<li>å…·æœ‰ä»£ç å…³è”æ€§ï¼Œå¦‚åœ¨æ— éšœç¢æ¨¡å¼ä¸‹ä¼šè¯»å–labelä½œä¸ºinputçš„æè¿°</li>
</ul>
<h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><h2 id="å…³é”®å­—è®°å½•"><a href="#å…³é”®å­—è®°å½•" class="headerlink" title="å…³é”®å­—è®°å½•"></a>å…³é”®å­—è®°å½•</h2><ol>
<li><p>overflow è‡ªå·±å¤ªå¤§çš„æ—¶å€™è¯¥æ€ä¹ˆæ˜¾ç¤º</p>
</li>
<li><p>::after</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token selector"><span class="token class">.ribbon</span><span class="token pseudo-element">::after</span> </span><span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">"This is a fancy orange box."</span><span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#FFBA10</span><span class="token punctuation">;</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
  <span class="token property">border-style</span><span class="token punctuation">:</span> dotted<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>box-shadow</p>
<pre class="line-numbers language-css"><code class="language-css">    <span class="token comment" spellcheck="true">/* offset-x | offset-y | blur-radius | color */</span>
    <span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token number">10</span>px <span class="token number">5</span>px <span class="token number">5</span>px black<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>position</p>
<pre class="line-numbers language-css"><code class="language-css"> <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span> // å‚ç…§æµè§ˆå™¨ä¼šè·³å‡ºçˆ¶æ§ä»¶çš„å†…å®¹èŒƒå›´
 <span class="token property">position</span><span class="token punctuation">:</span>fixed<span class="token punctuation">;</span> // å±å¹•æ»‘åŠ¨æ—¶å›ºå®š<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>list-style</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* type | image | position */</span>
<span class="token property">list-style</span><span class="token punctuation">:</span> lower-roman <span class="token url">url('../img/shape.png')</span> outside<span class="token punctuation">;</span>
list-style-type/list-style-image/list-style-position<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>background</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* A single image, centered and scaled */</span>
<span class="token property">background</span><span class="token punctuation">:</span> no-repeat center/<span class="token number">80%</span> <span class="token url">url("../img/image.png")</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>z-indexï¼š0 é‡å ä¼˜å…ˆçº§æ•°ç»„è¶Šé«˜è¶Šåœ¨ä¸Šé¢</p>
</li>
<li><p>margin</p>
<pre class="line-numbers language-css"><code class="language-css"> <span class="token comment" spellcheck="true">/* vertical | horizontal */</span>
<span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">5%</span> auto<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/* top | right | bottom | left */</span>
<span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">2</span>px <span class="token number">1</span>em <span class="token number">0</span> auto<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>border</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* width | style | color */</span>
<span class="token property">border</span><span class="token punctuation">:</span> medium dashed green<span class="token punctuation">;</span>
<span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid black <span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<p><strong>åŠ¨ç”»</strong></p>
<ul>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions" target="_blank" rel="noopener">transition</a></p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* property name | duration | timing function | delay */</span>
<span class="token property">transition</span><span class="token punctuation">:</span> margin-right <span class="token number">4</span>s ease-in-out <span class="token number">1</span>s<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/* Global values */</span>
<span class="token property">transition</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>
<span class="token property">transition</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span>
<span class="token property">transition</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h1 id="æ•™ç¨‹"><a href="#æ•™ç¨‹" class="headerlink" title="æ•™ç¨‹"></a>æ•™ç¨‹</h1><ul>
<li><a href="https://www.freecodecamp.org/" target="_blank" rel="noopener">https://www.freecodecamp.org/</a> </li>
<li><a href="http://www.zhihu.com/question/19713563" target="_blank" rel="noopener">ä½•å¾ªåºæ¸è¿›æœ‰æ•ˆå­¦ä¹  JavaScript</a></li>
<li><a href="http://www.jianshu.com/p/e3965d3636e7" target="_blank" rel="noopener">è°ˆè°ˆWebViewçš„ä½¿ç”¨ã€ä»é›¶å¼€å§‹æ­å»ºandroidæ¡†æ¶ç³»åˆ—ï¼ˆ5ï¼‰ã€‘</a></li>
<li><a href="https://github.com/ruanyf/jstraining" target="_blank" rel="noopener">å…¨æ ˆå·¥ç¨‹å¸ˆåŸ¹è®­ææ–™</a><blockquote>
<p>å…¨æ ˆå·¥ç¨‹å¸ˆåŸ¹è®­ææ–™ï¼Œå¸®åŠ©å­¦ä¹ è€…æŒæ¡å…¨æ ˆå¼€å‘çš„åŸºæœ¬çŸ¥è¯†ï¼Œæ‰¿æ‹…ç®€å• Web åº”ç”¨çš„å‰åç«¯å¼€å‘ã€‚<br>ä¸€å…±å››è®²ï¼Œé€‚åˆä¸¤å¤©çš„è®­ç»ƒè¥ï¼Œè¯·å…ˆé˜…è¯»ã€ŠåŸ¹è®­å‡†å¤‡ã€‹</p>
</blockquote>
</li>
</ul>
<h2 id="åšå®¢"><a href="#åšå®¢" class="headerlink" title="åšå®¢"></a>åšå®¢</h2><ul>
<li><p><a href="http://bugly.qq.com/bbs/forum.php?mod=viewthread&amp;tid=267#rd" target="_blank" rel="noopener">H5 ç¼“å­˜æœºåˆ¶æµ…æ ç§»åŠ¨ç«¯ Web åŠ è½½æ€§èƒ½ä¼˜åŒ–</a> </p>
</li>
<li><p><a href="http://www.jianshu.com/p/3160a0297345" target="_blank" rel="noopener">Weex Android SDKæºç åˆ†æ</a></p>
</li>
<li><p><a href="http://www.zhangxinxu.com/wordpress/2011/03/displayinline-blocktext-alignjustify%E4%B8%8B%E5%88%97%E8%A1%A8%E7%9A%84%E4%B8%A4%E7%AB%AF%E5%AF%B9%E9%BD%90%E5%B8%83%E5%B1%80/" target="_blank" rel="noopener">å¼ é‘«æ—­è€å¸ˆçš„åšå®¢</a></p>
</li>
</ul>
<h1 id="å¼€æºåº“æ”¶é›†"><a href="#å¼€æºåº“æ”¶é›†" class="headerlink" title="å¼€æºåº“æ”¶é›†"></a>å¼€æºåº“æ”¶é›†</h1><h2 id="ç›¸å…³å¼€æºåº“"><a href="#ç›¸å…³å¼€æºåº“" class="headerlink" title="ç›¸å…³å¼€æºåº“"></a>ç›¸å…³å¼€æºåº“</h2><ul>
<li><a href="http://github.com/h5bp/html5-boilerplate" target="_blank" rel="noopener">html5-boilerplate</a></li>
<li><strong><a href="https://github.com/ImangazalievM/Scripto" target="_blank" rel="noopener">Scripto</a></strong> Js å’Œ Javaäº’è°ƒç”¨çš„åº“</li>
</ul>
<h2 id="UI-å¼€æºåº“"><a href="#UI-å¼€æºåº“" class="headerlink" title="UI å¼€æºåº“"></a>UI å¼€æºåº“</h2><ul>
<li><a href="https://github.com/ripjar/material-datetime-picker" target="_blank" rel="noopener">material-datetime-picker æ—¶é—´é€‰æ‹©/æ—¥æœŸé€‰æ‹©</a></li>
<li><a href="http://unicorn-ui.com/buttons/" target="_blank" rel="noopener">buttons</a>å„å¼å„æ ·çš„Button</li>
<li><a href="https://github.com/antvis/g2" target="_blank" rel="noopener">å¯è§†åŒ–è¯­æ³•åº“ G2</a></li>
</ul>
<h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1><h2 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h2><ul>
<li><a href="http://gitbook.cn/books/58e48c22c59d53926e611996/index.html" target="_blank" rel="noopener">æˆ‘çš„å®æ“ç»éªŒåˆ†äº«ï¼šå¦‚ä½•é€šè¿‡Adsenseèµš3ä¸‡ç¾é‡‘</a>  SEO æ¨å¹¿</li>
</ul>
<h2 id="æ¯”è¾ƒå–œæ¬¢çš„ç½‘ç«™é£æ ¼"><a href="#æ¯”è¾ƒå–œæ¬¢çš„ç½‘ç«™é£æ ¼" class="headerlink" title="æ¯”è¾ƒå–œæ¬¢çš„ç½‘ç«™é£æ ¼"></a>æ¯”è¾ƒå–œæ¬¢çš„ç½‘ç«™é£æ ¼</h2><p><a href="https://javalin.io/" target="_blank" rel="noopener">https://javalin.io/</a> </p>
<p><a href="https://www.prisma.io/docs/" target="_blank" rel="noopener">https://www.prisma.io/docs/</a></p>
<h1 id="é™„å½•ä¸€"><a href="#é™„å½•ä¸€" class="headerlink" title="é™„å½•ä¸€"></a>é™„å½•ä¸€</h1><h2 id="å¸¸ç”¨ç½‘ç«™"><a href="#å¸¸ç”¨ç½‘ç«™" class="headerlink" title="å¸¸ç”¨ç½‘ç«™"></a>å¸¸ç”¨ç½‘ç«™</h2><ul>
<li><a href="https://www.w3schools.com/graphics/svg_reference.asp" target="_blank" rel="noopener">SVG æ¡ˆä¾‹åŠå±æ€§æŸ¥è¯¢</a></li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>ç½‘é¡µ</tag>
      </tags>
  </entry>
  <entry>
    <title>MarkDown è¯­æ³•è¡¥å…¨</title>
    <url>/2019/04/13/2019-3-3-MarkDown-grammar-plugs/</url>
    <content><![CDATA[<p>[TOC]</p>
<h3 id="TOC"><a href="#TOC" class="headerlink" title="[TOC]"></a><code>[TOC]</code></h3><blockquote>
<p> [TOC]     ç”Ÿæˆç›®å½•</p>
</blockquote>
<h3 id="æ ·å¼ï¼ˆå­—ä½“æ®µè½ï¼‰"><a href="#æ ·å¼ï¼ˆå­—ä½“æ®µè½ï¼‰" class="headerlink" title="æ ·å¼ï¼ˆå­—ä½“æ®µè½ï¼‰"></a>æ ·å¼ï¼ˆå­—ä½“æ®µè½ï¼‰</h3><h4 id="é¡µé¢å†…è·³è½¬"><a href="#é¡µé¢å†…è·³è½¬" class="headerlink" title="é¡µé¢å†…è·³è½¬"></a>é¡µé¢å†…è·³è½¬</h4><pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">-</span> <span class="token punctuation">[</span>Usage<span class="token punctuation">]</span><span class="token punctuation">(</span>#usage<span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token punctuation">[</span>Examples<span class="token punctuation">]</span><span class="token punctuation">(</span>#examples<span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token punctuation">[</span>Download<span class="token punctuation">]</span><span class="token punctuation">(</span>#download<span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token punctuation">[</span>Tests<span class="token punctuation">]</span><span class="token punctuation">(</span>#tests<span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token punctuation">[</span>Code style<span class="token punctuation">]</span><span class="token punctuation">(</span>#code<span class="token operator">-</span>style<span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token punctuation">[</span>Static code analysis<span class="token punctuation">]</span><span class="token punctuation">(</span>#<span class="token keyword">static</span><span class="token operator">-</span>code<span class="token operator">-</span>analysis<span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token punctuation">[</span>JavaDoc<span class="token punctuation">]</span><span class="token punctuation">(</span>#javadoc<span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token punctuation">[</span>Changelog<span class="token punctuation">]</span><span class="token punctuation">(</span>#changelog<span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token punctuation">[</span>Releasing<span class="token punctuation">]</span><span class="token punctuation">(</span>#releasing<span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token punctuation">[</span>References<span class="token punctuation">]</span><span class="token punctuation">(</span>#references<span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token punctuation">[</span>License<span class="token punctuation">]</span><span class="token punctuation">(</span>#license<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="å­—ä½“æ ·å¼"><a href="#å­—ä½“æ ·å¼" class="headerlink" title="å­—ä½“æ ·å¼"></a>å­—ä½“æ ·å¼</h4><pre><code>&lt;font face="é»‘ä½“"&gt;æˆ‘æ˜¯é»‘ä½“å­—&lt;/font&gt;
&lt;font face="å¾®è½¯é›…é»‘"&gt;æˆ‘æ˜¯å¾®è½¯é›…é»‘&lt;/font&gt;
&lt;font face="STCAIYUN"&gt;æˆ‘æ˜¯åæ–‡å½©äº‘&lt;/font&gt;
&lt;font color=#0099ff size=12 face="é»‘ä½“"&gt;é»‘ä½“&lt;/font&gt;
&lt;font color=#00ffff size=3&gt;null&lt;/font&gt;
&lt;font color=gray size=5&gt;gray&lt;/font&gt;</code></pre><p><font face="é»‘ä½“">æˆ‘æ˜¯é»‘ä½“å­—</font><br><font face="å¾®è½¯é›…é»‘">æˆ‘æ˜¯å¾®è½¯é›…é»‘</font><br><font face="STCAIYUN">æˆ‘æ˜¯åæ–‡å½©äº‘</font><br><font color="#0099ff" size="12" face="é»‘ä½“">é»‘ä½“</font><br><font color="red" size="3">null</font><br><font color="gray" size="5">gray</font></p>
<h5 id="å­—ä½“"><a href="#å­—ä½“" class="headerlink" title="å­—ä½“"></a>å­—ä½“</h5><table>
<thead>
<tr>
<th>å­—ä½“</th>
<th>ä¸­æ–‡å­—ä½“çš„è‹±æ–‡å</th>
</tr>
</thead>
<tbody><tr>
<td><font face="FZShuTi">ç½‘é¡µå­—ä½“æ ·å¼æ–¹æ­£èˆ’ä½“</font></td>
<td>FZShuTi</td>
</tr>
<tr>
<td><font face="FZYaoti">ç½‘é¡µå­—ä½“æ ·å¼æ–¹æ­£å§šä½“</font></td>
<td>FZYaoti</td>
</tr>
<tr>
<td><font face="STCaiyun">ç½‘é¡µå­—ä½“æ ·å¼åæ–‡å½©äº‘</font></td>
<td>STCaiyun</td>
</tr>
<tr>
<td><font face="STHupo">ç½‘é¡µå­—ä½“æ ·å¼åæ–‡ç¥ç€</font></td>
<td>STHupo</td>
</tr>
<tr>
<td><font face="STLiti">ç½‘é¡µå­—ä½“æ ·å¼åæ–‡éš¶ä¹¦</font></td>
<td>STLiti</td>
</tr>
<tr>
<td><font face="STXingkai">ç½‘é¡µå­—ä½“æ ·å¼åæ–‡è¡Œæ¥·</font></td>
<td>STXingkai</td>
</tr>
<tr>
<td><font face="STXinwei">ç½‘é¡µå­—ä½“æ ·å¼åæ–‡æ–°é­</font></td>
<td>STXinwei</td>
</tr>
<tr>
<td><font face="STHeiti">ç½‘é¡µå­—ä½“æ ·å¼åæ–‡é»‘ä½“</font></td>
<td>STHeiti</td>
</tr>
<tr>
<td><font face="STKaiti">ç½‘é¡µå­—ä½“æ ·å¼åæ–‡æ¥·ä½“</font></td>
<td>STKaiti</td>
</tr>
<tr>
<td><font face="STSong">ç½‘é¡µå­—ä½“æ ·å¼åæ–‡å®‹ä½“</font></td>
<td>STSong</td>
</tr>
<tr>
<td><font face="STFangsong">ç½‘é¡µå­—ä½“æ ·å¼åæ–‡ä»¿å®‹</font></td>
<td>STFangsong</td>
</tr>
<tr>
<td><font face="SimHei">ç½‘é¡µå­—ä½“æ ·å¼é»‘ä½“</font></td>
<td>SimHei</td>
</tr>
<tr>
<td><font face="SimSun">ç½‘é¡µå­—ä½“æ ·å¼å®‹ä½“</font></td>
<td>SimSun</td>
</tr>
<tr>
<td><font face="NSimSun">ç½‘é¡µå­—ä½“æ ·å¼æ–°å®‹ä½“</font></td>
<td>NSimSun</td>
</tr>
<tr>
<td><font face="FangSong">ç½‘é¡µå­—ä½“æ ·å¼ä»¿å®‹</font></td>
<td>FangSong</td>
</tr>
<tr>
<td><font face="KaiTi">ç½‘é¡µå­—ä½“æ ·å¼æ¥·ä½“</font></td>
<td>KaiTi</td>
</tr>
<tr>
<td><font face="FangSong_GB2312">ç½‘é¡µå­—ä½“æ ·å¼ä»¿å®‹_GB2312</font></td>
<td>FangSong_GB2312</td>
</tr>
<tr>
<td><font face="KaiTi_GB2312">ç½‘é¡µå­—ä½“æ ·å¼æ¥·ä½“_GB2312</font></td>
<td>KaiTi_GB2312</td>
</tr>
<tr>
<td><font face="Microsoft" jhenghei="">ç½‘é¡µå­—ä½“æ ·å¼å¾®è½¯æ­£é»‘ä½“</font></td>
<td>Microsoft JhengHei</td>
</tr>
<tr>
<td><font face="Microsoft" yahei="">ç½‘é¡µå­—ä½“æ ·å¼å¾®è½¯é›…é»‘ä½“</font></td>
<td>Microsoft YaHei</td>
</tr>
<tr>
<td><font face="LiSu">ç½‘é¡µå­—ä½“æ ·å¼éš¶ä¹¦</font></td>
<td>LiSu</td>
</tr>
<tr>
<td><font face="YouYuan">ç½‘é¡µå­—ä½“æ ·å¼å¹¼åœ†</font></td>
<td>YouYuan</td>
</tr>
<tr>
<td><font face="STXihei">ç½‘é¡µå­—ä½“æ ·å¼åæ–‡ç»†é»‘</font></td>
<td>STXihei</td>
</tr>
<tr>
<td><font face="STKaiti">ç½‘é¡µå­—ä½“æ ·å¼åæ–‡æ¥·ä½“</font></td>
<td>STKaiti</td>
</tr>
<tr>
<td><font face="STSong">ç½‘é¡µå­—ä½“æ ·å¼åæ–‡å®‹ä½“</font></td>
<td>STSong</td>
</tr>
<tr>
<td><font face="STZhongsong">ç½‘é¡µå­—ä½“æ ·å¼åæ–‡ä¸­å®‹</font></td>
<td>STZhongsong</td>
</tr>
<tr>
<td><font face="STFangsong">ç½‘é¡µå­—ä½“æ ·å¼åæ–‡ä»¿å®‹</font></td>
<td>STFangsong</td>
</tr>
</tbody></table>
<h3 id="å¯Œåª’ä½“"><a href="#å¯Œåª’ä½“" class="headerlink" title="å¯Œåª’ä½“"></a>å¯Œåª’ä½“</h3><h4 id="å›¾ç‰‡åµŒå…¥é“¾æ¥"><a href="#å›¾ç‰‡åµŒå…¥é“¾æ¥" class="headerlink" title="å›¾ç‰‡åµŒå…¥é“¾æ¥"></a>å›¾ç‰‡åµŒå…¥é“¾æ¥</h4><p><a href="https://travis-ci.org/pwittchen/RxBiometric" target="_blank" rel="noopener"><img src="https://img.shields.io/travis/pwittchen/RxBiometric.svg?branch=master&amp;style=flat-square" alt="Build Status"></a> </p>
<pre><code>[![Build Status](https://img.shields.io/travis/pwittchen/RxBiometric.svg?branch=master&amp;style=flat-square)](https://travis-ci.org/pwittchen/RxBiometric) </code></pre><h4 id="è°ƒèŠ‚å›¾ç‰‡æ ·å¼"><a href="#è°ƒèŠ‚å›¾ç‰‡æ ·å¼" class="headerlink" title="è°ƒèŠ‚å›¾ç‰‡æ ·å¼"></a>è°ƒèŠ‚å›¾ç‰‡æ ·å¼</h4><p align="center"><img src="https://img.shields.io/travis/pwittchen/RxBiometric.svg?branch=master&amp;style=flat-square" alt="logo" height="250px"></p>
#### åµŒå…¥HTML


<table><tbody>
    <tr>
        <th>æ–¹æ³•è¯´æ˜</th><th>é¢œè‰²åç§°</th><th>é¢œè‰²</th>
    </tr>
    <tr>
        <td><font color="Hotpink">æ­¤å¤„å®ç°æ–¹æ³•åˆ©ç”¨ CSDN-markdown å†…åµŒ html è¯­è¨€çš„ä¼˜åŠ¿</font></td><td><font color="Hotpink">Hotpink</font></td><td bgcolor="Hotpink">rgb(240, 248, 255)</td>
    </tr>
    <tr>
        <td><font color="Pink">å€ŸåŠ© table, tr, td ç­‰è¡¨æ ¼æ ‡ç­¾çš„ bgcolor å±æ€§å®ç°èƒŒæ™¯è‰²è®¾ç½®</font></td><td><font color="pink">AntiqueWhite</font></td><td bgcolor="Pink">rgb(255, 192, 203)</td>
    </tr>
</tbody></table>





<pre><code>graph LR
A--&gt;B</code></pre><pre><code>sequenceDiagram
A-&gt;&gt;B: How are you?
B-&gt;&gt;A: Great!</code></pre><pre><code>gantt
dateFormat YYYY-MM-DD
section S1
T1: 2014-01-01, 9d
section S2
T2: 2014-01-11, 9d
section S3
T3: 2014-01-02, 9d</code></pre><h3 id="è„šæ³¨-æ³¨è§£"><a href="#è„šæ³¨-æ³¨è§£" class="headerlink" title="è„šæ³¨(æ³¨è§£)"></a>è„šæ³¨(æ³¨è§£)</h3><p><strong>æ ·å¼1</strong> è¯„ä»·ï¼šç›¸å¯¹äºè¶…é“¾æ¥æ–¹å¼ï¼Œæä¾›äº†å¯¹è¶…é“¾æ¥çš„è§£è¯´ä½œç”¨</p>
<p>I get 10 times more traffic from <a href="http://google.com/" title="Google" target="_blank" rel="noopener">Google</a> than from <a href="http://search.yahoo.com/" title="Yahoo Search" target="_blank" rel="noopener">Yahoo</a> or <a href="http://search.msn.com/" title="MSN Search" target="_blank" rel="noopener">MSN</a>.  </p>
<p><strong>æ ·å¼2</strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªé“¾æ¥åˆ°è°·æ­Œçš„[^è„šæ³¨çš„è¯¦ç»†è¯´æ˜]ã€‚</p>
<p>[^è„šæ³¨çš„è¯¦ç»†è¯´æ˜]: <a href="http://www.google.com" target="_blank" rel="noopener">http://www.google.com</a>   å¢åŠ ä¸€äº›è¯„è®º</p>
<p>è¯„è®ºï¼š </p>
<pre><code> 1. å¯ä»¥æ–°å»ºéšè—ä¸€äº›æç¤ºè¯´æ˜
 2. å¯ä»¥æŠŠé“¾æ¥åœ°å€å¢åŠ è¯´æ˜ï¼Œé¼ æ ‡æ‚¬åœæ˜¯å¯ä»¥è‡ªå·±ç‚¹å‡»</code></pre><h3 id="æ®µè½ç¼©è¿›ï¼ˆç©ºæ ¼ï¼‰"><a href="#æ®µè½ç¼©è¿›ï¼ˆç©ºæ ¼ï¼‰" class="headerlink" title="æ®µè½ç¼©è¿›ï¼ˆç©ºæ ¼ï¼‰"></a><strong>æ®µè½ç¼©è¿›ï¼ˆç©ºæ ¼ï¼‰</strong></h3><pre><code>åŠæ–¹å¤§çš„ç©ºç™½&amp;ensp;æˆ–&amp;#8194;çœ‹ï¼Œé£ç¢Ÿ
å…¨æ–¹å¤§çš„ç©ºç™½&amp;emsp;æˆ–&amp;#8195;çœ‹ï¼Œé£ç¢Ÿ
ä¸æ–­è¡Œçš„ç©ºç™½æ ¼&amp;nbsp;æˆ–&amp;#160;çœ‹ï¼Œé£ç¢Ÿ
&amp;emsp;&amp;emsp;æ®µè½ä»æ­¤å¼€å§‹ã€‚</code></pre><p>åŠæ–¹å¤§çš„ç©ºç™½â€‚æˆ–â€‚çœ‹ï¼Œé£ç¢Ÿ<br>å…¨æ–¹å¤§çš„ç©ºç™½â€ƒæˆ–â€ƒçœ‹ï¼Œé£ç¢Ÿ<br>ä¸æ–­è¡Œçš„ç©ºç™½æ ¼&nbsp;æˆ–&nbsp;çœ‹ï¼Œé£ç¢Ÿ<br>â€ƒâ€ƒæ®µè½ä»æ­¤å¼€å§‹ã€‚</p>
<h3 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h3><pre><code>| Tables        | Are           | Cool  |
| ------------- |:-------------:| -----:|
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |</code></pre><table>
<thead>
<tr>
<th>Tables</th>
<th align="center">Are</th>
<th align="right">Cool</th>
</tr>
</thead>
<tbody><tr>
<td>col 3 is</td>
<td align="center">right-aligned</td>
<td align="right">$1600</td>
</tr>
<tr>
<td>col 2 is</td>
<td align="center">centered</td>
<td align="right">$12</td>
</tr>
<tr>
<td>zebra stripes</td>
<td align="center">are neat</td>
<td align="right">$1</td>
</tr>
</tbody></table>
<p>æˆ–è€…</p>
<pre><code>é¡¹ç›®     | ä»·æ ¼
-------- | ---
Computer | $1600
Phone    | $12
Pipe     | $1</code></pre><table>
<thead>
<tr>
<th>é¡¹ç›®</th>
<th>ä»·æ ¼</th>
</tr>
</thead>
<tbody><tr>
<td>Computer</td>
<td>$1600</td>
</tr>
<tr>
<td>Phone</td>
<td>$12</td>
</tr>
<tr>
<td>Pipe</td>
<td>$1</td>
</tr>
</tbody></table>
<h3 id="åˆ†å‰²çº¿"><a href="#åˆ†å‰²çº¿" class="headerlink" title="åˆ†å‰²çº¿"></a>åˆ†å‰²çº¿</h3><hr>
<hr>
<hr>
<p>ä¸‰ä¸ª-*_</p>
<pre><code>---
***
___</code></pre><h3 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h3><blockquote>
<p>å¼•ç”¨</p>
<blockquote>
<p>å¼•ç”¨ä¸­çš„å¼•ç”¨</p>
</blockquote>
</blockquote>
<pre><code>&gt;å¼•ç”¨
 &gt;&gt;å¼•ç”¨ä¸­çš„å¼•ç”¨</code></pre><h3 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h3><pre><code>å¤§æ ‡é¢˜
===
å°æ ‡é¢˜
---</code></pre><h3 id="æœ‰åºåˆ—è¡¨"><a href="#æœ‰åºåˆ—è¡¨" class="headerlink" title="æœ‰åºåˆ—è¡¨"></a>æœ‰åºåˆ—è¡¨</h3><ol>
<li>æœ‰åºåˆ—è¡¨</li>
<li>æœ‰åºåˆ—è¡¨</li>
<li>æœ‰åºåˆ—è¡¨</li>
<li>æœ‰åºåˆ—è¡¨<br>```</li>
<li>æœ‰åºåˆ—è¡¨</li>
<li>æœ‰åºåˆ—è¡¨</li>
<li>æœ‰åºåˆ—è¡¨</li>
<li>æœ‰åºåˆ—è¡¨ ã€ä¸è¿ç»­ã€‘<br>```<h3 id="checkBox"><a href="#checkBox" class="headerlink" title="checkBox"></a>checkBox</h3></li>
</ol>
<ul>
<li><input checked="" disabled="" type="checkbox"> åœ°æ–¹å¤§</li>
<li><input disabled="" type="checkbox"> åœ°æ–¹å¤§</li>
</ul>
<h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><ol>
<li><a href="https://www.webfx.com/tools/emoji-cheat-sheet/" target="_blank" rel="noopener">Emojiè¡¨æƒ… æµè§ˆ</a></li>
</ol>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>ç»éªŒ</tag>
      </tags>
  </entry>
  <entry>
    <title>git åŸºç¡€æ¯”è¾ƒ</title>
    <url>/2019/04/13/2019-4-13-git-basic-note/</url>
    <content><![CDATA[<p>[TOC]</p>
<h4 id="Open-source"><a href="#Open-source" class="headerlink" title="Open source"></a>Open source</h4><ul>
<li><a href="https://github.com/nvie/gitflow" target="_blank" rel="noopener">git-flow</a></li>
<li><a href="https://github.com/tj/git-extras" target="_blank" rel="noopener">git-extras</a></li>
</ul>
<h1 id="Gitå¸¸ç”¨"><a href="#Gitå¸¸ç”¨" class="headerlink" title="Gitå¸¸ç”¨"></a>Gitå¸¸ç”¨</h1><h2 id="Git-è¡¨æƒ…"><a href="#Git-è¡¨æƒ…" class="headerlink" title="Git è¡¨æƒ…"></a>Git è¡¨æƒ…</h2><ul>
<li><a href="https://blog.csdn.net/Michael_HM/article/details/82753163" target="_blank" rel="noopener">git commit æ—¶ emojiè¡¨æƒ…ä½¿ç”¨æŒ‡å—</a></li>
<li><a href="https://github.com/carloscuesta/gitmoji" target="_blank" rel="noopener">gitmoji</a> github ç‰ˆæœ¬ä»“åº“</li>
<li><a href="https://gitmoji.carloscuesta.me/" target="_blank" rel="noopener">è¡¨æƒ…æäº¤æ—¶ä½¿ç”¨è§„èŒƒ</a></li>
<li><a href="https://www.webfx.com/tools/emoji-cheat-sheet/" target="_blank" rel="noopener">äº¤å…¨çš„è¡¨æƒ…åˆ—è¡¨</a></li>
</ul>
<table>
<thead>
<tr>
<th align="left">emoji</th>
<th align="left">emoji ä»£ç </th>
<th align="left">commit è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ¨</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f3a8.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (è°ƒè‰²æ¿)</td>
<td align="left"><code>:art:</code></td>
<td align="left">æ”¹è¿›ä»£ç ç»“æ„/ä»£ç æ ¼å¼</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>âš¡</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/26a1.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (é—ªç”µ)<span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f40e.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (èµ›é©¬)</td>
<td align="left"><code>:zap:â€œ:racehorse:</code></td>
<td align="left">æå‡æ€§èƒ½</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (ç«ç„°)</td>
<td align="left"><code>:fire:</code></td>
<td align="left">ç§»é™¤ä»£ç æˆ–æ–‡ä»¶</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ›</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (bug)</td>
<td align="left"><code>:bug:</code></td>
<td align="left">ä¿®å¤ bug</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸš‘</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f691.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (æ€¥æ•‘è½¦)</td>
<td align="left"><code>:ambulance:</code></td>
<td align="left">é‡è¦è¡¥ä¸</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>âœ¨</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2728.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (ç«èŠ±)</td>
<td align="left"><code>:sparkles:</code></td>
<td align="left">å¼•å…¥æ–°åŠŸèƒ½</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4dd.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (å¤‡å¿˜å½•)</td>
<td align="left"><code>:memo:</code></td>
<td align="left">æ’°å†™æ–‡æ¡£</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸš€</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (ç«ç®­)</td>
<td align="left"><code>:rocket:</code></td>
<td align="left">éƒ¨ç½²åŠŸèƒ½</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ’„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f484.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (å£çº¢)</td>
<td align="left"><code>:lipstick:</code></td>
<td align="left">æ›´æ–° UI å’Œæ ·å¼æ–‡ä»¶</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ‰</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (åº†ç¥)</td>
<td align="left"><code>:tada:</code></td>
<td align="left">åˆæ¬¡æäº¤</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>âœ…</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (ç™½è‰²å¤é€‰æ¡†)</td>
<td align="left"><code>:white_check_mark:</code></td>
<td align="left">å¢åŠ æµ‹è¯•</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”’</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f512.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (é”)</td>
<td align="left"><code>:lock:</code></td>
<td align="left">ä¿®å¤å®‰å…¨é—®é¢˜</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f34e.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (è‹¹æœ)</td>
<td align="left"><code>:apple:</code></td>
<td align="left">ä¿®å¤ macOS ä¸‹çš„é—®é¢˜</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ§</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f427.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (ä¼é¹…)</td>
<td align="left"><code>:penguin:</code></td>
<td align="left">ä¿®å¤ Linux ä¸‹çš„é—®é¢˜</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f3c1.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (æ——å¸œ)</td>
<td align="left"><code>:checked_flag:</code></td>
<td align="left">ä¿®å¤ Windows ä¸‹çš„é—®é¢˜</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”–</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f516.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (ä¹¦ç­¾)</td>
<td align="left"><code>:bookmark:</code></td>
<td align="left">å‘è¡Œ/ç‰ˆæœ¬æ ‡ç­¾</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸš¨</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f6a8.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (è­¦è½¦ç¯)</td>
<td align="left"><code>:rotating_light:</code></td>
<td align="left">ç§»é™¤ linter è­¦å‘Š</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸš§</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f6a7.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (æ–½å·¥)</td>
<td align="left"><code>:construction:</code></td>
<td align="left">å·¥ä½œè¿›è¡Œä¸­</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ’š</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f49a.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (ç»¿å¿ƒ)</td>
<td align="left"><code>:green_heart:</code></td>
<td align="left">ä¿®å¤ CI æ„å»ºé—®é¢˜</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â¬‡</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b07.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (ä¸‹é™ç®­å¤´)</td>
<td align="left"><code>:arrow_down:</code></td>
<td align="left">é™çº§ä¾èµ–</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â¬†</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b06.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (ä¸Šå‡ç®­å¤´)</td>
<td align="left"><code>:arrow_up:</code></td>
<td align="left">å‡çº§ä¾èµ–</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ‘·</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f477.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (å·¥äºº)</td>
<td align="left"><code>:construction_worker:</code></td>
<td align="left">æ·»åŠ  CI æ„å»ºç³»ç»Ÿ</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ“ˆ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4c8.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (ä¸Šå‡è¶‹åŠ¿å›¾)</td>
<td align="left"><code>:chart_with_upwards_trend:</code></td>
<td align="left">æ·»åŠ åˆ†ææˆ–è·Ÿè¸ªä»£ç </td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”¨</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f528.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (é”¤å­)</td>
<td align="left"><code>:hammer:</code></td>
<td align="left">é‡å¤§é‡æ„</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â–</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2796.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (å‡å·)</td>
<td align="left"><code>:heavy_minus_sign:</code></td>
<td align="left">å‡å°‘ä¸€ä¸ªä¾èµ–</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ³</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f433.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (é²¸é±¼)</td>
<td align="left"><code>:whale:</code></td>
<td align="left">Docker ç›¸å…³å·¥ä½œ</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>â•</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2795.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (åŠ å·)</td>
<td align="left"><code>:heavy_plug_sign:</code></td>
<td align="left">å¢åŠ ä¸€ä¸ªä¾èµ–</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸ”§</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f527.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (æ‰³æ‰‹)</td>
<td align="left"><code>:wrench:</code></td>
<td align="left">ä¿®æ”¹é…ç½®æ–‡ä»¶</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>ğŸŒ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f310.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (åœ°çƒ)</td>
<td align="left"><code>:globe_with_meridians:</code></td>
<td align="left">å›½é™…åŒ–ä¸æœ¬åœ°åŒ–</td>
</tr>
<tr>
<td align="left"><span class="github-emoji" style="display:inline;vertical-align:middle"><span>âœ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/270f.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> (é“…ç¬”)</td>
<td align="left"><code>:pencil2:</code></td>
<td align="left">ä¿®å¤ typo</td>
</tr>
</tbody></table>
<h1 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h1><h2 id="Gité…ç½®"><a href="#Gité…ç½®" class="headerlink" title="Gité…ç½®"></a>Gité…ç½®</h2><ul>
<li>list all  git config  git config -l   </li>
<li>/etc/gitconfig  &lt; ~/.gitconfig  &lt;  .git/config é€çº§è¦†ç›–</li>
<li>$ git config â€“global core.editor vim</li>
<li>$ git config â€“global merge.tool vimdiff</li>
<li>ç”¨æˆ·å<br>git config â€“global user.name â€œedward.linâ€<br>git config â€“global user.email â€œ<a href="mailto:edward.lin@anarry.com" target="_blank" rel="noopener">edward.lin@anarry.com</a>â€œ</li>
<li>æ˜¾ç¤ºä¸ºå½©è‰²ï¼ˆé»˜è®¤ï¼‰<br>git config â€“global color.ui true</li>
</ul>
<h3 id="ç”Ÿæˆç§˜é’¥"><a href="#ç”Ÿæˆç§˜é’¥" class="headerlink" title="ç”Ÿæˆç§˜é’¥"></a>ç”Ÿæˆç§˜é’¥</h3><p><code>ssh-keygen -t rsa -C â€œ1129103472@qq.comâ€</code><br>æŒ‰3ä¸ªå›è½¦ï¼Œå¯†ç ä¸ºç©ºã€‚(ä¸è¦è¾“å¯†ç )<br>ç„¶ååˆ°.sshä¸‹é¢å°†id_rsa.pubé‡Œçš„å†…å®¹å¤åˆ¶å‡ºæ¥ç²˜è´´åˆ°githubä¸ªäººä¸­å¿ƒçš„è´¦æˆ·è®¾ç½®çš„ssh keyé‡Œé¢<br>æµ‹è¯•ï¼šssh -T <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a></p>
<p>linxu : .ssh/id_rsa.pub ==&gt; github<br>window: C:\Users\Administrator.ssh\id_rsa.pub ==&gt; github</p>
<h3 id="å¿½ç•¥é…ç½®"><a href="#å¿½ç•¥é…ç½®" class="headerlink" title="å¿½ç•¥é…ç½®"></a>å¿½ç•¥é…ç½®</h3><p><code>.gitignore</code></p>
<pre><code>#æŠŠ.o æ–‡ä»¶ä¸.aæ–‡ä»¶è¿‡æ»¤æ‰ä¸æ·»åŠ 
*.[oa]
#ignoreä¼˜å…ˆçº§é—®é¢˜,!test.oä¼šç»§ç»­æäº¤è¿™ä¸ªæ–‡ä»¶
*.o
!test.o
#åŒ¹é…0ä¸ªæˆ–è€…å¤šä¸ªç›®å½•,å½“å‰ç›®å½•ä¸å­ç›®å½•
**/res
#åŒ¹é…æ–‡ä»¶å¤¹
foo/</code></pre><h3 id="å¸¸ç”¨é…ç½®"><a href="#å¸¸ç”¨é…ç½®" class="headerlink" title="å¸¸ç”¨é…ç½®"></a>å¸¸ç”¨é…ç½®</h3><ol>
<li><p><strong>å‘½ä»¤åˆ«å</strong></p>
<pre class="line-numbers language-shell"><code class="language-shell">git config --global alias.co checkout
git config --global alias.ci commit
git config --global alias.st status    
git config --global alias.br branch
å¸¦å‚æ•°
git config --global alias.last 'log -1 HEAD'
git log -1 HEAD ==> git last<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-eeab7ed5307766f0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="File Status Lifecycle"><br><strong>å¯¹æ¯”æ–‡ä»¶çš„ä¸åŒ</strong></p>
<ul>
<li>git diff  - -cached  #æŸ¥çœ‹å·²ç¼“å­˜ä¸å·²æäº¤çš„æ”¹åŠ¨</li>
<li>git diff HEAD #æŸ¥çœ‹å·²æäº¤çš„ä¸æœªç¼“å­˜çš„æ‰€æœ‰æ”¹åŠ¨</li>
<li>git diff - - stat æ˜¾ç¤ºæ‘˜è¦è€Œéæ•´ä¸ª diff </li>
</ul>
<p><strong>ç§»é™¤æ–‡ä»¶</strong></p>
<ul>
<li>git reset HEAD â€“ file  //git reset HEAD ä»¥å–æ¶ˆä¹‹å‰ git add æ·»åŠ </li>
<li>git rm file   //ä¼šå°†æ–‡ä»¶ä»ç¼“å­˜åŒºå’Œä½ çš„ç¡¬ç›˜ä¸­ï¼ˆå·¥ä½œç›®å½•ï¼‰åˆ é™¤</li>
<li>git rm â€“cached  //åœ¨å·¥ä½œç›®å½•ä¸­ç•™ç€è¯¥æ–‡ä»¶ï¼Œand delete the status of under version control </li>
</ul>
<pre class="line-numbers language-shell"><code class="language-shell">$ git rm log/\*.log     #åæ–œæ  \ï¼Œå› ä¸º Git æœ‰å®ƒè‡ªå·±çš„æ–‡ä»¶æ¨¡å¼æ‰©å±•åŒ¹é…æ–¹å¼
$ git rm \\*~<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ï¼ˆè¯‘æ³¨ï¼šå®é™…ä¸Šä¸åŠ åæ–œæ ä¹Ÿå¯ä»¥è¿è¡Œï¼Œåªä¸è¿‡æŒ‰ç…§ shell æ‰©å±•çš„è¯ï¼Œä»…ä»…åˆ é™¤æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶è€Œä¸ä¼šé€’å½’åŒ¹é…)</p>
<p><em>ç§»åŠ¨æ–‡ä»¶</em><br>Git ä¸­å¯¹æ–‡ä»¶æ”¹å  <code>$ git mv file_from file_to</code></p>
<h2 id="æ—¥å¿—"><a href="#æ—¥å¿—" class="headerlink" title="æ—¥å¿—"></a>æ—¥å¿—</h2><p>æŸ¥çœ‹æ—¥å¿—çš„å†…å®¹å·®å¼‚ï¼Œå¹¶æŒ‡å®šæ¬¡æ•°ï¼š <code>$ git log -p -2 commit ca82a6dff817ec66f44342007202690a93763949</code><br><code>--stat</code> åªæ˜¾ç¤ºç»Ÿè®¡çš„ä¿®æ”¹è¡Œæ•° å¦‚ï¼š | 31 ++++++++++++++â€”â€”â€”â€”â€”â€“<br><code>$ git log --pretty=format:"%h - %an, %ar : %s"</code> å¦å¤–è¿˜æœ‰ oneline, shortï¼Œfull å’Œfuller å¯ä»¥ç”¨</p>
<ul>
<li><p>ç»“åˆ â€“graph<br><code>$ git log --pretty=format:"%h %s" --graph</code></p>
</li>
<li><p>Filter<br><code>$ git log --since=2.weeks</code><br><code>git log --pretty="%h - %s" --author=gitster --since="2008-10-01" \ --before="2008-11-01" --no-merges</code> </p>
<p>  é€‰é¡¹ è¯´æ˜ -(n)    ä»…æ˜¾ç¤ºæœ€è¿‘çš„ n æ¡æäº¤ â€“since, â€“after ä»…æ˜¾ç¤ºæŒ‡å®šæ—¶é—´ä¹‹åçš„æäº¤ã€‚ â€“until, â€“before ä»…æ˜¾ç¤ºæŒ‡å®šæ—¶é—´ä¹‹</p>
</li>
</ul>
<h3 id="Log-å‘½ä»¤çš„ä½¿ç”¨"><a href="#Log-å‘½ä»¤çš„ä½¿ç”¨" class="headerlink" title="Log å‘½ä»¤çš„ä½¿ç”¨"></a>Log å‘½ä»¤çš„ä½¿ç”¨</h3><pre class="line-numbers language-shell"><code class="language-shell">git log    q //exit from the log status   like man 
git log  --oneline
git log  --graph
git log --oneline  new_branch
git log --oneline erlang ^master //look the sumbit no include master
git loggit log <file>      # æŸ¥çœ‹è¯¥æ–‡ä»¶æ¯æ¬¡æäº¤è®°å½•
git log -p <file>   # æ˜¾ç¤ºç‰ˆæœ¬å†å²ï¼Œä»¥åŠç‰ˆæœ¬é—´çš„å†…å®¹å·®å¼‚
git log -p -2       # æŸ¥çœ‹æœ€è¿‘ä¸¤æ¬¡è¯¦ç»†ä¿®æ”¹å†…å®¹çš„diff
git log --stat      # æŸ¥çœ‹æäº¤ç»Ÿè®¡ä¿¡æ¯
git log --since="6 hours"  # æ˜¾ç¤ºæœ€è¿‘6å°æ—¶æäº¤
git log --before="2 days"  # æ˜¾ç¤º2å¤©å‰æäº¤
git log -1 HEAD~3          # æ˜¾ç¤ºæ¯”HEADæ—©3ä¸ªæäº¤çš„é‚£ä¸ªæäº¤
git log -1 HEAD^^^git reflog                 # æŸ¥çœ‹æ“ä½œ
git log branchA ^branchB 
git log â€“author åªå¯»æ‰¾æŸä¸ªç‰¹å®šä½œè€…çš„æäº¤ 
$ git log --author=Linus --oneline -5 
git log â€“since â€“before æ ¹æ®æ—¥æœŸè¿‡æ»¤æäº¤è®°å½• 
git log --oneline --before={3.weeks.ago} --after={2010-04-18} --no-merges   #  --no-merges éšè—åˆå¹¶æäº¤ 
git log â€“grep æ ¹æ®æäº¤æ³¨é‡Šè¿‡æ»¤æäº¤è®°å½• $ git log --grep=search_key_work   --no-merges 
git log -S ä¾æ®æ‰€å¼•å…¥çš„å·®å€¼è¿‡æ»¤ å¦‚æœä½ è¦æ‰¾æŸä¸ªå‡½æ•°æ˜¯ä½•æ—¶å¼•å…¥çš„ï¼ŒæŸäº›å˜é‡æ˜¯åœ¨å“ªé‡Œå¼€å§‹è¢«ä½¿ç”¨çš„ï¼Ÿ ä½ å¯ä»¥å‘Šè¯‰ Git åœ¨æ¯ä¸ªæäº¤ä¹‹é—´çš„å·®å€¼ä¸­æŸ¥æ‰¾ç‰¹å®šå­—ç¬¦ä¸² 
git log -p åŸºäºå¿«ç…§ï¼Œäº§ç”Ÿå„ä¸ªå¿«ç…§çš„å·®å€¼ï¼ˆè¡¥ä¸ï¼‰VS git log â€“stat æ˜¾ç¤ºæ¯ä¸ªæäº¤å¼•å…¥çš„æ”¹åŠ¨çš„å·®å€¼"ç»Ÿè®¡" <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="æ’¤æ¶ˆæ“ä½œ"><a href="#æ’¤æ¶ˆæ“ä½œ" class="headerlink" title="æ’¤æ¶ˆæ“ä½œ"></a>æ’¤æ¶ˆæ“ä½œ</h2><p><strong>ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤</strong><br><code>$ git commit --amend</code> #ç”¨å½“å‰çš„æš‚å­˜åŒºåŸŸå¿«ç…§æäº¤</p>
<ul>
<li>æ²¡æœ‰ä½œä»»ä½•æ”¹åŠ¨ ==&gt; é‡å†™commitæ—¥å¿—</li>
<li>æœ‰æ”¹åŠ¨ï¼Œæäº¤æ”¹åŠ¨ And é‡å†™æ—¥å¿—</li>
</ul>
<p><strong>å–æ¶ˆå·²ç»æš‚å­˜çš„æ–‡ä»¶</strong><br><code>use "git reset HEAD &lt;file&gt;..." to unstage</code></p>
<p><strong>å–æ¶ˆå¯¹æ–‡ä»¶çš„ä¿®æ”¹</strong></p>
<pre><code>A) trace
1.git reset xxxxxx path/to/file
2. use "git checkout -- &lt;file&gt;..." to discard changes in working directory
B) untrace   --&gt;&gt; git rm paht/to/file
</code></pre><h2 id="è¿œç¨‹ä»“åº“"><a href="#è¿œç¨‹ä»“åº“" class="headerlink" title="è¿œç¨‹ä»“åº“"></a>è¿œç¨‹ä»“åº“</h2><p>åŸºç¡€</p>
<ul>
<li>git remote # list alias of remote   </li>
<li>git remote add [alias] [url] #add a new remote repository </li>
<li>git remote rm # delete a remote alias <code>git remote rm origin</code></li>
<li>git remote rename [old-alias] [new-alias]</li>
<li>set-url<br>git remote set-url origin git://github.com/github/git-reference.git<br>git remote set-url â€“push origin git://github.com/pjhyett/hw.git</li>
<li>git push -u<br><a href="http://stackoverflow.com/questions/18031946/what-does-set-upstream-do" target="_blank" rel="noopener">http://stackoverflow.com/questions/18031946/what-does-set-upstream-do</a></li>
</ul>
<p>æ¨é€æ•°æ®åˆ°è¿œç¨‹ä»“åº“</p>
<ul>
<li>git push [alias] [branch] </li>
<li>git push  &lt;=&gt;  git push origin master </li>
<li>git push origin new_branch  # push local new_branch to reomte repository </li>
</ul>
<p>æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¿¡æ¯<br><code>git remote show [remote-name]</code></p>
<h2 id="æ ‡ç­¾"><a href="#æ ‡ç­¾" class="headerlink" title="æ ‡ç­¾"></a>æ ‡ç­¾</h2><h3 id="åˆ—æ˜¾å·²æœ‰çš„æ ‡ç­¾-git-tag"><a href="#åˆ—æ˜¾å·²æœ‰çš„æ ‡ç­¾-git-tag" class="headerlink" title="åˆ—æ˜¾å·²æœ‰çš„æ ‡ç­¾ git tag"></a>åˆ—æ˜¾å·²æœ‰çš„æ ‡ç­¾ <code>git tag</code></h3><blockquote>
<p>æˆ‘ä»¬å¯ä»¥ç”¨ç‰¹å®šçš„æœç´¢æ¨¡å¼åˆ—å‡ºç¬¦åˆæ¡ä»¶çš„æ ‡ç­¾ <code>$ git tag -l 'v1.4.2.*'</code> result: v1.4.2.1 v1.4.2.2 v1.4.2.3 v1.4.2.4</p>
</blockquote>
<h3 id="æ–°å»ºæ ‡ç­¾"><a href="#æ–°å»ºæ ‡ç­¾" class="headerlink" title="æ–°å»ºæ ‡ç­¾"></a>æ–°å»ºæ ‡ç­¾</h3><p>Git ä½¿ç”¨çš„æ ‡ç­¾æœ‰ä¸¤ç§ç±»å‹ï¼šè½»é‡çº§çš„ï¼ˆlightweightï¼‰å’Œå«é™„æ³¨çš„ï¼ˆannotatedï¼‰ã€‚</p>
<ul>
<li>è½»é‡çº§æ ‡ç­¾: å°±åƒæ˜¯ä¸ªä¸ä¼šå˜åŒ–çš„åˆ†æ”¯ï¼Œå®é™…ä¸Šå®ƒå°±æ˜¯ä¸ªæŒ‡å‘ç‰¹ å®šæäº¤å¯¹è±¡çš„å¼•ç”¨</li>
<li>å«é™„æ³¨æ ‡ç­¾ï¼Œå®é™…ä¸Šæ˜¯å­˜å‚¨åœ¨ä»“åº“ä¸­çš„ä¸€ä¸ªç‹¬ç«‹å¯¹è±¡ï¼Œå®ƒæœ‰è‡ªèº«çš„æ ¡éªŒå’Œä¿¡æ¯ï¼ŒåŒ…å«ç€æ ‡ç­¾çš„åå­—ï¼Œç”µå­é‚®ä»¶åœ°å€å’Œæ—¥æœŸï¼Œä»¥åŠæ ‡ç­¾è¯´æ˜ï¼Œæ ‡ ç­¾æœ¬èº«ä¹Ÿå…è®¸ä½¿ç”¨ GNU Privacy Guard (GPG) æ¥ç­¾ç½²æˆ–éªŒè¯</li>
</ul>
<h3 id="å«é™„æ³¨çš„æ ‡ç­¾"><a href="#å«é™„æ³¨çš„æ ‡ç­¾" class="headerlink" title="å«é™„æ³¨çš„æ ‡ç­¾"></a>å«é™„æ³¨çš„æ ‡ç­¾</h3><p><code>$ git tag -a v1.4 -m 'delete so libs'</code></p>
<ul>
<li><code>-a</code> annotated æŒ‡å®šæ ‡ç­¾åå­—</li>
<li><code>-m</code> msg</li>
<li>å¯ä»¥ä½¿ç”¨ <code>git show &lt;tag name&gt;</code> æ˜¾ç¤ºtagä¿¡æ¯</li>
</ul>
<p>å¸¸ç”¨å‘½ä»¤</p>
<pre><code>$ git tag -a v0.1.1 8e918de2ca5bc06d436df990d658369c462f5c69 #è¡¥æ‰“æ ‡ç­¾
remote 
$ git push origin v0.1.2 # å°†v0.1.2æ ‡ç­¾æäº¤åˆ°gitæœåŠ¡å™¨
$ git push origin â€“tags # å°†æœ¬åœ°æ‰€æœ‰æ ‡ç­¾ä¸€æ¬¡æ€§æäº¤åˆ°gitæœåŠ¡å™¨</code></pre><h2 id="Git-Branch"><a href="#Git-Branch" class="headerlink" title="Git Branch"></a>Git Branch</h2><p>å¸¸ç”¨å‘½ä»¤</p>
<pre class="line-numbers language-shell"><code class="language-shell">git checkout -b (branch name) åˆ›å»ºæ–°åˆ†æ”¯ï¼Œå¹¶ç«‹å³åˆ‡æ¢åˆ°å®ƒ
git branch -d (branch name) #éœ€åˆå¹¶æ‰èƒ½åˆ é™¤åˆ†æ”¯ git branch -D (branch name) åˆ é™¤åˆ†æ”¯
git branch <branch> <Hash> åŸºäºå½“å‰åˆ†æ”¯çš„æŸä¸€æ¬¡commitæ¥åˆ›å»ºåˆ†æ”¯
git checkout -B <branch> force to overwrite same name branch
git checkout --orphan <branch> ## new a log_clear branch and switch to it git checkout --track -b track_master origin/master
$ git cherry-pick xxx  #å¯ä»¥åŒæ­¥ä¸€ä¸ªcommitåˆ°æœ¬åˆ†æ”¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p> <strong>ä½•è°“åˆ†æ”¯</strong></p>
<ol>
<li>Gitä¼šå…ˆè®¡ç®—æ¯ä¸€ä¸ªå­ç›®å½•ï¼ˆæœ¬ä¾‹ä¸­å°±æ˜¯é¡¹ç›®æ ¹ç›®å½•ï¼‰çš„æ ¡éªŒå’Œ</li>
<li>åœ¨Gitä»“åº“å°†è¿™äº›ç›®å½•ä¿å­˜ä¸ºæ ‘ï¼ˆtreeï¼‰å¯¹è±¡</li>
</ol>
<h2 id="åˆ†äº«ä¸æ›´æ–°é¡¹ç›®"><a href="#åˆ†äº«ä¸æ›´æ–°é¡¹ç›®" class="headerlink" title="åˆ†äº«ä¸æ›´æ–°é¡¹ç›®"></a>åˆ†äº«ä¸æ›´æ–°é¡¹ç›®</h2><pre class="line-numbers language-shell"><code class="language-shell">git archive -o ../updated.zip HEAD $(git diff --name-only HEAD^)  #xxxä»£è¡¨SHA-1 Hashå€¼ã€‚Gitæ‰“åŒ…æºç  
#Fetch And Pull  
git fetch origin # å–å¾—è¿œç¨‹æ›´æ–°ï¼ˆåˆ°origin/master  "origin/master" å’Œæ™®é€šçš„branchä¸€æ ·ï¼Œé™¤äº†gitä¸å…è®¸åˆ‡æ¢åˆ°å®ƒï¼‰ï¼Œ ä½†è¿˜æ²¡æœ‰åˆå¹¶ git merge origin/master  master  # æŠŠæ›´æ–°çš„å†…å®¹ï¼ˆorigin/masterï¼‰åˆå¹¶åˆ°æœ¬åœ°åˆ†æ”¯ï¼ˆmasterï¼‰
git merge origin/master master --squash // no branch log history 
git log origin/master ^master # after fetch  before merge  look the  origin/master  diff log from local master
git pull origin master # ç›¸å½“äºfetchå’Œmergeçš„åˆå¹¶ï¼Œä½†åˆ†æ­¥æ“ä½œæ›´ä¿é™© <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="æ£€æŸ¥ä¸æ¯”è¾ƒ"><a href="#æ£€æŸ¥ä¸æ¯”è¾ƒ" class="headerlink" title="æ£€æŸ¥ä¸æ¯”è¾ƒ"></a>æ£€æŸ¥ä¸æ¯”è¾ƒ</h4><p>git diff v0.9  #diff current status and tag status<br>å¯ä»¥æ‰§è¡Œç±»ä¼¼ git diff branchA branchB çš„å‘½ä»¤ã€‚ ä¸è¿‡å®ƒçš„é—®é¢˜åœ¨äºå®ƒä¼šå®Œå®Œå…¨å…¨æŒ‰ä½ è¯´çš„ä½œ â€”â€” å®ƒä¼šç›´æ¥ç»™ä½ ä¸ªè¡¥ä¸æ–‡ä»¶ï¼Œè¯¥è¡¥ä¸èƒ½å¤Ÿå°†ç”²åˆ†æ”¯çš„æœ€æ–°å¿«ç…§å˜æˆä¹™åˆ†æ”¯çš„æœ€æ–°å¿«ç…§çš„æ ·å­ã€‚ è¿™æ„å‘³ç€å¦‚æœä¸¤ä¸ªåˆ†æ”¯å·²ç»äº§ç”Ÿåˆ†æ­§ â€”â€” å¥”å¾€ä¸¤ä¸ªä¸åŒæ–¹å‘äº† â€”â€” å®ƒä¼šç§»é™¤ç”²åˆ†æ”¯ä¸­å¼•å…¥çš„æ‰€æœ‰å·¥ä½œï¼Œç„¶åç´¯åŠ ä¹™åˆ†æ”¯ä¸­çš„æ‰€æœ‰å·¥ä½œã€‚ è¿™å¤§æ¦‚ä¸æ˜¯ä½ è¦çš„å§ â€”â€” ä½ æƒ³è¦ä¸åœ¨ç”²åˆ†æ”¯ä¸­çš„ä¹™åˆ†æ”¯çš„æ”¹åŠ¨ã€‚æ‰€ä»¥ä½ çœŸçš„éœ€è¦çš„æ˜¯ä¸¤ä¸ªåˆ†æ”¯å‰å¼€å»æ—¶ï¼Œå’Œæœ€æ–°çš„ä¹™åˆ†æ”¯çš„å·®åˆ«ã€‚ æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬çš„å†å²è®°å½•çœ‹èµ·æ¥åƒè¿™æ ·ï¼š<br>$ git log â€“graph â€“oneline â€“decorate â€“all<br>git diff branchAâ€¦branchB æ¥æŸ¥çœ‹ branchB ä¸ branchA çš„ç›¸å¯¹å·®å€¼ã€‚</p>
<h4 id="Gitä¹‹æœ¬åœ°å¿½ç•¥"><a href="#Gitä¹‹æœ¬åœ°å¿½ç•¥" class="headerlink" title="Gitä¹‹æœ¬åœ°å¿½ç•¥"></a>Gitä¹‹æœ¬åœ°å¿½ç•¥</h4><p>æœªè·Ÿè¸ªæ–‡ä»¶</p>
<pre class="line-numbers language-java"><code class="language-java">git config <span class="token operator">--</span>global core<span class="token punctuation">.</span>excludesfile  æ–‡ä»¶çš„ç»å¯¹è·¯å¾„æˆ– <span class="token punctuation">.</span>git<span class="token operator">/</span>info<span class="token operator">/</span>exclude
å·²è·Ÿè¸ªäº†çš„æ–‡ä»¶
$ git update<span class="token operator">-</span>index <span class="token operator">--</span>assume<span class="token operator">-</span>unchanged <span class="token operator">/</span>path<span class="token operator">/</span>to<span class="token operator">/</span>file       #å¿½ç•¥è·Ÿè¸ª
$ git update<span class="token operator">-</span>index <span class="token operator">--</span>no<span class="token operator">-</span>assume<span class="token operator">-</span>unchanged <span class="token operator">/</span>path<span class="token operator">/</span>to<span class="token operator">/</span>file   #æ¢å¤è·Ÿè¸ª<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="è¿˜åŸ"><a href="#è¿˜åŸ" class="headerlink" title="è¿˜åŸ"></a>è¿˜åŸ</h4><pre><code>git reset HEAD a_file  #undo last time 
git add a_file git reset - - hard HEAD #reset repo to HEAD 
git reset - - hard  3d409b9a302ce55d12dffdf3d99f0bed7dc2d7ff #reset to this commit time 
git checkout 3d409b9a302ce55d12dffdf3d99f0bed7dc2d7ff  # checkout a temp branch to look around </code></pre><h4 id="æŠ€å·§å’Œçªé—¨"><a href="#æŠ€å·§å’Œçªé—¨" class="headerlink" title="æŠ€å·§å’Œçªé—¨"></a>æŠ€å·§å’Œçªé—¨</h4><p><strong>è‡ªåŠ¨å®Œæˆ</strong><br>å¦‚æœä½ ç”¨çš„æ˜¯ Bash shellï¼Œå¯ä»¥è¯•è¯•çœ‹ Git æä¾›çš„è‡ªåŠ¨å®Œæˆè„šæœ¬ã€‚ä¸‹è½½ Git çš„æºä»£ç ï¼Œè¿›å…¥ <code>contrib/completion</code> ç›®å½•ï¼Œä¼šçœ‹åˆ°ä¸€ä¸ªgit-completion.bash æ–‡ä»¶ã€‚å°†æ­¤æ–‡ä»¶å¤åˆ¶åˆ°ä½ è‡ªå·±çš„ç”¨æˆ·ä¸»ç›®å½•ä¸­ï¼ˆè¯‘æ³¨ï¼šæŒ‰ç…§ä¸‹é¢çš„ç¤ºä¾‹ï¼Œè¿˜åº”æ”¹ååŠ ä¸Šç‚¹ï¼š<code>cp git-completion.bash ~/.git-completion.bash</code>ï¼Œå¹¶æŠŠä¸‹é¢ä¸€è¡Œå†…å®¹æ·»åŠ åˆ°ä½ çš„.bashrc æ–‡ä»¶ä¸­ï¼š</p>
<blockquote>
<p>source ~/.git-completion.bash</p>
</blockquote>
<p>ä¹Ÿå¯ä»¥ä¸ºç³»ç»Ÿä¸Šæ‰€æœ‰ç”¨æˆ·éƒ½è®¾ç½®é»˜è®¤ä½¿ç”¨æ­¤è„šæœ¬ã€‚Mac ä¸Šå°†æ­¤è„šæœ¬å¤åˆ¶åˆ° <code>/opt/local/etc/bash_completion.d</code>ç›®å½•ä¸­ï¼ŒLinux ä¸Šåˆ™å¤åˆ¶åˆ°/etc/bash_completion.d/ ç›®å½•ä¸­ã€‚è¿™ä¸¤å¤„ç›®å½•ä¸­çš„è„šæœ¬ï¼Œéƒ½ä¼šåœ¨ Bash å¯åŠ¨æ—¶è‡ªåŠ¨åŠ è½½ã€‚</p>
<p>å¦‚æœåœ¨ Windows ä¸Šå®‰è£…äº† msysGitï¼Œé»˜è®¤ä½¿ç”¨çš„ Git Bash å°±å·²ç»é…å¥½äº†è¿™ä¸ªè‡ªåŠ¨å®Œæˆè„šæœ¬ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p>
<p><strong>Git å‘½ä»¤åˆ«å</strong></p>
<h1 id="Gitåˆ†æ”¯ç®¡ç†ç­–ç•¥"><a href="#Gitåˆ†æ”¯ç®¡ç†ç­–ç•¥" class="headerlink" title="Gitåˆ†æ”¯ç®¡ç†ç­–ç•¥"></a>Gitåˆ†æ”¯ç®¡ç†ç­–ç•¥</h1><ul>
<li>Master </li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-c6f141e8343b590e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Master.png"></p>
<ul>
<li>Develop<br><img src="http://upload-images.jianshu.io/upload_images/1321512-3a5d7629205a8ff2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Develop"></li>
</ul>
<h2 id="Tmeporary"><a href="#Tmeporary" class="headerlink" title="Tmeporary"></a>Tmeporary</h2><pre><code>ã€€ã€€* åŠŸèƒ½ï¼ˆfeatureï¼‰åˆ†æ”¯
ã€€ã€€* é¢„å‘å¸ƒï¼ˆreleaseï¼‰åˆ†æ”¯
ã€€ã€€* ä¿®è¡¥bugï¼ˆfixbugï¼‰åˆ†æ”¯</code></pre><p>Create a Feature branch: <code>git checkout -b feature-x develop</code> </p>
<ul>
<li>é¢„å‘å¸ƒåˆ†æ”¯<br>Create a release branch: <code>git checkout -b release-1.2 develop</code><blockquote>
<p>é¢„å‘å¸ƒåˆ†æ”¯ï¼Œå®ƒæ˜¯æŒ‡å‘å¸ƒæ­£å¼ç‰ˆæœ¬ä¹‹å‰ï¼ˆå³åˆå¹¶åˆ°Masteråˆ†æ”¯ä¹‹å‰ï¼‰ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦æœ‰ä¸€ä¸ªé¢„å‘å¸ƒçš„ç‰ˆæœ¬è¿›è¡Œæµ‹è¯•ã€‚<br>é¢„å‘å¸ƒåˆ†æ”¯æ˜¯ä»Developåˆ†æ”¯ä¸Šé¢åˆ†å‡ºæ¥çš„ï¼Œé¢„å‘å¸ƒç»“æŸä»¥åï¼Œå¿…é¡»åˆå¹¶è¿›Developå’ŒMasteråˆ†æ”¯ã€‚å®ƒçš„å‘½åï¼Œå¯ä»¥é‡‡ç”¨release-*çš„å½¢å¼ã€‚</p>
</blockquote>
</li>
</ul>
<p>ç¡®è®¤æ²¡æœ‰é—®é¢˜åï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">git checkout master
git merge --no-ff release-1.2
# å¯¹åˆå¹¶ç”Ÿæˆçš„æ–°èŠ‚ç‚¹ï¼Œåšä¸€ä¸ªæ ‡ç­¾    
git tag -a 1.2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>å†åˆå¹¶åˆ°developåˆ†æ”¯å¹¶åˆ é™¤ï¼š</p>
<pre><code>git checkout develop
git merge --no-ff release-1.2
git branch -d release-1.2</code></pre><ul>
<li>ä¿®è¡¥bugåˆ†æ”¯<br><img src="http://upload-images.jianshu.io/upload_images/1321512-87d9eef790f21405.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="FixBug"></li>
</ul>
<pre class="line-numbers language-git"><code class="language-git"><span class="token comment" spellcheck="true">#Create a fixbug branch:</span>
git checkout -b fixbug-0.1 master
<span class="token comment" spellcheck="true">#fixbug over </span>
git checkout master
git merge --no-ff fixbug-0.1
git tag -a 0.1.1
<span class="token comment" spellcheck="true">#merge to develop</span>
git checkout develop
git merge --no-ff fixbug-0.1
<span class="token comment" spellcheck="true">#delete branch </span>
git branch -d fixbug-0.1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><a href="https://segmentfault.com/a/1190000002443283" target="_blank" rel="noopener">git æ–‡ä»¶æ‰“åŒ…å‘½ä»¤</a></li>
</ul>
<h2 id="SourceTree"><a href="#SourceTree" class="headerlink" title="SourceTree"></a>SourceTree</h2><ul>
<li><a href="https://www.jianshu.com/p/d46da933c180" target="_blank" rel="noopener">GitFlow+Gitlabå·¥ä½œæµåŠGitè§„èŒƒ</a></li>
</ul>
<h1 id="Git-æäº¤è§„èŒƒ"><a href="#Git-æäº¤è§„èŒƒ" class="headerlink" title="Git æäº¤è§„èŒƒ"></a>Git æäº¤è§„èŒƒ</h1><ul>
<li>featï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰</li>
<li>fixï¼šä¿®è¡¥bug</li>
<li>docsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰</li>
<li>styleï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰</li>
<li>refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰</li>
<li>testï¼šå¢åŠ æµ‹è¯•</li>
<li>choreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨</li>
</ul>
<p><code>type</code>ï¼ˆå¿…éœ€ï¼‰ã€<code>scope</code>ï¼ˆå¯é€‰ï¼‰å’Œ<code>subject</code>ï¼ˆå¿…éœ€ï¼‰</p>
<pre class="line-numbers language-xml"><code class="language-xml">`<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>(<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>): <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>subject</span><span class="token punctuation">></span></span>`<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="Gitå­æ¨¡å—"><a href="#Gitå­æ¨¡å—" class="headerlink" title="Gitå­æ¨¡å—"></a>Gitå­æ¨¡å—</h1><p>å¸¸ç”¨å‘½ä»¤</p>
<pre class="line-numbers language-shell"><code class="language-shell">#æ·»åŠ å­æ¨¡å—
git submodule add https://github.com/maonx/vimwiki-assets.git assets/submodule

#æŸ¥çœ‹å­æ¨¡å—
git submodule

#æ›´æ–°å­æ¨¡å—
git submodule update

#å­æ¨¡å—æ›´æ–°
cd assets/submodule
git pull<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h1><h2 id="åšå®¢æ•™ç¨‹"><a href="#åšå®¢æ•™ç¨‹" class="headerlink" title="åšå®¢æ•™ç¨‹"></a>åšå®¢æ•™ç¨‹</h2><ul>
<li><a href="https://www.cnblogs.com/ludashi/p/8052739.html" target="_blank" rel="noopener">GitçŸ¥è¯†æ€»è§ˆ(ä¸€) ä» git clone å’Œ git status è°ˆèµ·</a></li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
        <tag>ç»éªŒ</tag>
      </tags>
  </entry>
  <entry>
    <title>Javapoet API ç®€ä»‹ä½¿ç”¨æ€è·¯-Javaä»£ç ç”Ÿæˆ</title>
    <url>/2018/09/23/2018-9-23-javapoet-note/</url>
    <content><![CDATA[<h1 id="åŸºç¡€æ€»ç»“"><a href="#åŸºç¡€æ€»ç»“" class="headerlink" title="åŸºç¡€æ€»ç»“"></a>åŸºç¡€æ€»ç»“</h1><h2 id="JavaPoetç®€ä»‹"><a href="#JavaPoetç®€ä»‹" class="headerlink" title="JavaPoetç®€ä»‹"></a>JavaPoetç®€ä»‹</h2><p>JavaPoet æ˜¯ä¸€ä¸ªç”Ÿæˆ.Javaæºæ–‡ä»¶çš„Java APIã€‚æºæ–‡ä»¶ç”Ÿæˆåœ¨<code>annotation processing</code> æˆ–è€…å’Œä¸€äº›å…ƒæ•°æ®ï¼Œä¾‹å¦‚æ–‡ä»¶ï¼Œæ•°æ®åº“è®¾è®¡ï¼Œåè®®æ ¼å¼ç­‰ï¼Œè¿›è¡Œäº¤äº’æ—¶ä¼šå¾ˆæœ‰ç”¨ã€‚é€šè¿‡ä»£ç ç”Ÿæˆï¼Œä½ èƒ½å¤Ÿå‡å°‘å†—ä½™çš„ä»£ç æ¨¡æ¿ï¼ŒåŒæ—¶ä¿è¯å”¯ä¸€æ­£ç¡®çš„æºæ–‡ä»¶ä¸ºå…ƒæ•°æ®ã€‚</p>
<h1 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h1><ul>
<li><a href="#åŸºç¡€æ€»ç»“">åŸºç¡€æ€»ç»“</a><ul>
<li><a href="#javapoetç®€ä»‹">JavaPoetç®€ä»‹</a></li>
<li><a href="#ä½¿ç”¨æ€»ç»“">ä½¿ç”¨æ€»ç»“</a></li>
<li><a href="#æœ€å°æ¡ˆä¾‹">æœ€å°æ¡ˆä¾‹</a></li>
<li><a href="#ç±»è¯´æ˜">ç±»è¯´æ˜</a><ul>
<li><a href="#å…¬å…±">å…¬å…±</a></li>
<li><a href="#æ–¹æ³•ç›¸å…³">æ–¹æ³•ç›¸å…³</a></li>
<li><a href="#å…¶ä»–">å…¶ä»–</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="https://github.com/square/javapoet" target="_blank" rel="noopener">JavaPoet å®˜ç½‘</a></li>
</ul>
<h1 id="åŸºç¡€æ€»ç»“-1"><a href="#åŸºç¡€æ€»ç»“-1" class="headerlink" title="åŸºç¡€æ€»ç»“"></a>åŸºç¡€æ€»ç»“</h1><h2 id="JavaPoetç®€ä»‹-1"><a href="#JavaPoetç®€ä»‹-1" class="headerlink" title="JavaPoetç®€ä»‹"></a>JavaPoetç®€ä»‹</h2><p>JavaPoet æ˜¯ä¸€ä¸ªç”Ÿæˆ.Javaæºæ–‡ä»¶çš„Java APIã€‚æºæ–‡ä»¶ç”Ÿæˆåœ¨<code>annotation processing</code> æˆ–è€…å’Œä¸€äº›å…ƒæ•°æ®ï¼Œä¾‹å¦‚æ–‡ä»¶ï¼Œæ•°æ®åº“è®¾è®¡ï¼Œåè®®æ ¼å¼ç­‰ï¼Œè¿›è¡Œäº¤äº’æ—¶ä¼šå¾ˆæœ‰ç”¨ã€‚é€šè¿‡ä»£ç ç”Ÿæˆï¼Œä½ èƒ½å¤Ÿå‡å°‘å†—ä½™çš„ä»£ç æ¨¡æ¿ï¼ŒåŒæ—¶ä¿è¯å”¯ä¸€æ­£ç¡®çš„æºæ–‡ä»¶ä¸ºå…ƒæ•°æ®ã€‚</p>
<p><strong>åŸæ–‡</strong><br><code>JavaPoet</code> is a Java API for generating <code>.java</code> source files.</p>
<blockquote>
<p>Source file generation can be useful when doing things such as annotation processing or interacting with metadata files (e.g., database schemas, protocol formats). By generating code, you eliminate the need to write boilerplate while also keeping a single source of truth for the metadata.</p>
</blockquote>
<h2 id="ä½¿ç”¨æ€»ç»“"><a href="#ä½¿ç”¨æ€»ç»“" class="headerlink" title="ä½¿ç”¨æ€»ç»“"></a>ä½¿ç”¨æ€»ç»“</h2><blockquote>
<p> åŸºæœ¬ä½¿ç”¨é€»è¾‘ï¼ŒæŒ‰ç…§æ­£å¸¸çš„æ–°å»º.javaï¼ŒæŒ‰ç…§é€»è¾‘ç¼–å†™å¯¹åº”çš„ä»£ç ï¼Œç¼–å†™çš„ä»£ç æ›¿æ¢ä¸ºJavapoetçš„è¯­æ³•å°±å¯ä»¥äº†ï¼Œ<font color="red">Javapoet çš„è¯­æ³•è¿‡ä¸€éä¸ç”¨è®°å¿†,ç”šè‡³çœ‹ä¸€ä¸‹æœ€å°æ¡ˆä¾‹ï¼Œç›´æ¥å¼€è½¦éƒ½æœ¨æœ‰é—®é¢˜</font>ï¼Œ<a href="https://github.com/square/javapoet" target="_blank" rel="noopener">ä½¿ç”¨çš„æ—¶å€™ä¸è®°å¾—è®¿é—®GitHubä¸»é¡µå¯¹åº”æœç´¢</a></p>
</blockquote>
<p>å¼•ç”¨é…ç½®</p>
<pre><code>compile 'com.squareup:javapoet:1.11.1'
&lt;dependency&gt;
  &lt;groupId&gt;com.squareup&lt;/groupId&gt;
  &lt;artifactId&gt;javapoet&lt;/artifactId&gt;
  &lt;version&gt;1.11.1&lt;/version&gt;
&lt;/dependency&gt;</code></pre><h2 id="æœ€å°æ¡ˆä¾‹"><a href="#æœ€å°æ¡ˆä¾‹" class="headerlink" title="æœ€å°æ¡ˆä¾‹"></a>æœ€å°æ¡ˆä¾‹</h2><p>HelloWorld.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>helloworld<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello, JavaPoet!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>JavaPoet.java</p>
<pre class="line-numbers language-java"><code class="language-java">MethodSpec main <span class="token operator">=</span> MethodSpec<span class="token punctuation">.</span><span class="token function">methodBuilder</span><span class="token punctuation">(</span><span class="token string">"main"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">addModifiers</span><span class="token punctuation">(</span>Modifier<span class="token punctuation">.</span>PUBLIC<span class="token punctuation">,</span> Modifier<span class="token punctuation">.</span>STATIC<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">returns</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">addParameter</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string">"args"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">addStatement</span><span class="token punctuation">(</span><span class="token string">"$T.out.println($S)"</span><span class="token punctuation">,</span> System<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string">"Hello, JavaPoet!"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

TypeSpec helloWorld <span class="token operator">=</span> TypeSpec<span class="token punctuation">.</span><span class="token function">classBuilder</span><span class="token punctuation">(</span><span class="token string">"HelloWorld"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">addModifiers</span><span class="token punctuation">(</span>Modifier<span class="token punctuation">.</span>PUBLIC<span class="token punctuation">,</span> Modifier<span class="token punctuation">.</span>FINAL<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">addMethod</span><span class="token punctuation">(</span>main<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

JavaFile javaFile <span class="token operator">=</span> JavaFile<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token string">"com.example.helloworld"</span><span class="token punctuation">,</span> helloWorld<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

javaFile<span class="token punctuation">.</span><span class="token function">writeTo</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ç±»è¯´æ˜"><a href="#ç±»è¯´æ˜" class="headerlink" title="ç±»è¯´æ˜"></a>ç±»è¯´æ˜</h2><ul>
<li>ç±»ç”Ÿæˆï¼šTypeSpec.classBuilder(â€œHelloWorldâ€)</li>
<li>æ¥å£ï¼šTypeSpec.interfaceBuilder(â€œHelloWorldâ€)</li>
<li>æ–¹æ³•ç”Ÿæˆï¼šMethodSpec.methodBuilder(â€œmainâ€)</li>
<li>å¢åŠ è®¿é—®æƒé™ï¼š addModifiers(Modifier.PUBLIC, Modifier.STATIC)</li>
<li>å±æ€§ï¼šFieldSpec /TypeSpec.addField</li>
<li>å‚æ•°ï¼šParameterSpec/MethodSpec.addParameter(ParameterSpec)</li>
<li>æ–‡æ¡£ï¼šMethodSpec.addJavadoc</li>
</ul>
<h3 id="å…¬å…±"><a href="#å…¬å…±" class="headerlink" title="å…¬å…±"></a>å…¬å…±</h3><ul>
<li><p>String.format() å­—ç¬¦ä¸²æ ¼å¼åŒ–</p>
<ul>
<li><p>$L for Literals <code>.addStatement("result = result $L i", op)</code></p>
</li>
<li><p>$S for Strings <code>.addStatement("return $S", name)</code></p>
</li>
<li><p>$T for Types  <code>.addStatement("return new $T()", Date.class)</code> ä¼šè‡ªåŠ¨<code>import java.util.Date;</code>åŒ…å</p>
<ul>
<li>æ‰‹åŠ¨æŒ‡å®šåŒ…åï¼š<code>ClassName hoverboard = ClassName.get("com.mattel", "Hoverboard");</code></li>
</ul>
</li>
<li><p>Code block ä»£ç å—</p>
<ul>
<li><code>CodeBlock.builder().add("I ate $2L $1L", "tacos", 3)</code></li>
<li>map<pre class="line-numbers language-java"><code class="language-java">Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedHashMap</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"food"</span><span class="token punctuation">,</span> <span class="token string">"tacos"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"count"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
CodeBlock<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addNamed</span><span class="token punctuation">(</span><span class="token string">"I ate $count:L $food:L"</span><span class="token punctuation">,</span> map<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Import static é™æ€å¯¼å…¥</p>
<pre class="line-numbers language-java"><code class="language-java">JavaFile<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token string">"com.example.helloworld"</span><span class="token punctuation">,</span> hello<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addStaticImport</span><span class="token punctuation">(</span>hoverboard<span class="token punctuation">,</span> <span class="token string">"createNimbus"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h3 id="æ–¹æ³•ç›¸å…³"><a href="#æ–¹æ³•ç›¸å…³" class="headerlink" title="æ–¹æ³•ç›¸å…³"></a>æ–¹æ³•ç›¸å…³</h3><ul>
<li><p>å¢åŠ ä»£ç å—</p>
<ul>
<li><p>addCode</p>
<pre class="line-numbers language-java"><code class="language-java">MethodSpec main <span class="token operator">=</span> MethodSpec<span class="token punctuation">.</span><span class="token function">methodBuilder</span><span class="token punctuation">(</span><span class="token string">"main"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addCode</span><span class="token punctuation">(</span><span class="token string">""</span>
      <span class="token operator">+</span> <span class="token string">"int total = 0;\n"</span>
      <span class="token operator">+</span> <span class="token string">"for (int i = 0; i &lt; 10; i++) {\n"</span>
      <span class="token operator">+</span> <span class="token string">"  total += i;\n"</span>
      <span class="token operator">+</span> <span class="token string">"}\n"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  total <span class="token operator">+=</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>beginControlFlow( { )<code>ddStatement</code>endControlFlow ä¸ç”¨å†™<code>{\n;}</code>ç­‰</p>
<pre class="line-numbers language-java"><code class="language-java">MethodSpec main <span class="token operator">=</span> MethodSpec<span class="token punctuation">.</span><span class="token function">methodBuilder</span><span class="token punctuation">(</span><span class="token string">"main"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addStatement</span><span class="token punctuation">(</span><span class="token string">"int total = 0"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">beginControlFlow</span><span class="token punctuation">(</span><span class="token string">"for (int i = 0; i &lt; 10; i++)"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addStatement</span><span class="token punctuation">(</span><span class="token string">"total += i"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">endControlFlow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
<li><p>å‡½æ•°å†…éƒ¨è°ƒç”¨</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> String <span class="token function">byteToHex</span><span class="token punctuation">(</span><span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">char</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
result<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">hexDigit</span><span class="token punctuation">(</span>b <span class="token operator">&amp;</span> <span class="token number">0xf</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">char</span> <span class="token function">hexDigit</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> i <span class="token operator">+</span> <span class="token string">'0'</span> <span class="token operator">:</span> i <span class="token operator">-</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//-------------------------------------</span>
MethodSpec hexDigit <span class="token operator">=</span> MethodSpec<span class="token punctuation">.</span><span class="token function">methodBuilder</span><span class="token punctuation">(</span><span class="token string">"hexDigit"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addParameter</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string">"i"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">returns</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addStatement</span><span class="token punctuation">(</span><span class="token string">"return (char) (i &lt; 10 ? i + '0' : i - 10 + 'a')"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MethodSpec byteToHex <span class="token operator">=</span> MethodSpec<span class="token punctuation">.</span><span class="token function">methodBuilder</span><span class="token punctuation">(</span><span class="token string">"byteToHex"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addParameter</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">returns</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addStatement</span><span class="token punctuation">(</span><span class="token string">"char[] result = new char[2]"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addStatement</span><span class="token punctuation">(</span><span class="token string">"result[1] = $N(b &amp; 0xf)"</span><span class="token punctuation">,</span> hexDigit<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addStatement</span><span class="token punctuation">(</span><span class="token string">"return new String(result)"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>åŒ¿åå†…éƒ¨ç±»ï¼šAnonymous Inner Classes</p>
</li>
<li><p>æŠ½è±¡æ–¹æ³•ï¼šModifier.ABSTRACT</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token punctuation">{</span>
<span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">flux</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//-------------------------</span>
MethodSpec flux <span class="token operator">=</span> MethodSpec<span class="token punctuation">.</span><span class="token function">methodBuilder</span><span class="token punctuation">(</span><span class="token string">"flux"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addModifiers</span><span class="token punctuation">(</span>Modifier<span class="token punctuation">.</span>ABSTRACT<span class="token punctuation">,</span> Modifier<span class="token punctuation">.</span>PROTECTED<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
TypeSpec helloWorld <span class="token operator">=</span> TypeSpec<span class="token punctuation">.</span><span class="token function">classBuilder</span><span class="token punctuation">(</span><span class="token string">"HelloWorld"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addModifiers</span><span class="token punctuation">(</span>Modifier<span class="token punctuation">.</span>PUBLIC<span class="token punctuation">,</span> Modifier<span class="token punctuation">.</span>ABSTRACT<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addMethod</span><span class="token punctuation">(</span>flux<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>æ„é€ æ–¹æ³•</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token function">HelloWorld</span><span class="token punctuation">(</span>String greeting<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>greeting <span class="token operator">=</span> greeting<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//------------------------------</span>
MethodSpec flux <span class="token operator">=</span> MethodSpec<span class="token punctuation">.</span><span class="token function">constructorBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addModifiers</span><span class="token punctuation">(</span>Modifier<span class="token punctuation">.</span>PUBLIC<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addParameter</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string">"greeting"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addStatement</span><span class="token punctuation">(</span><span class="token string">"this.$N = $N"</span><span class="token punctuation">,</span> <span class="token string">"greeting"</span><span class="token punctuation">,</span> <span class="token string">"greeting"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>MethodSpec.addAnnotation(Override.class)</p>
</li>
</ul>
<h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><ul>
<li>å‚æ•°: <code>Parameters</code><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">void</span> <span class="token function">welcomeOverlords</span><span class="token punctuation">(</span><span class="token keyword">final</span> String android<span class="token punctuation">,</span> <span class="token keyword">final</span> String robot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//-------------------------------</span>
ParameterSpec android <span class="token operator">=</span> ParameterSpec<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string">"android"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addModifiers</span><span class="token punctuation">(</span>Modifier<span class="token punctuation">.</span>FINAL<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MethodSpec welcomeOverlords <span class="token operator">=</span> MethodSpec<span class="token punctuation">.</span><span class="token function">methodBuilder</span><span class="token punctuation">(</span><span class="token string">"welcomeOverlords"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addParameter</span><span class="token punctuation">(</span>android<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addParameter</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string">"robot"</span><span class="token punctuation">,</span> Modifier<span class="token punctuation">.</span>FINAL<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>å±æ€§ï¼šFieldSpec<pre class="line-numbers language-java"><code class="language-java">FieldSpec android <span class="token operator">=</span> FieldSpec<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string">"android"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addModifiers</span><span class="token punctuation">(</span>Modifier<span class="token punctuation">.</span>PRIVATE<span class="token punctuation">,</span> Modifier<span class="token punctuation">.</span>FINAL<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">initializer</span><span class="token punctuation">(</span><span class="token string">"$S + $L"</span><span class="token punctuation">,</span> <span class="token string">"Lollipop v."</span><span class="token punctuation">,</span> <span class="token number">5.0d</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>Javadoc</li>
</ul>
<h1 id="JavaPoet-å®˜ç½‘"><a href="#JavaPoet-å®˜ç½‘" class="headerlink" title="JavaPoet å®˜ç½‘"></a><a href="https://github.com/square/javapoet" target="_blank" rel="noopener">JavaPoet å®˜ç½‘</a></h1>]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>SQliteæ•°æ®åº“æŸ¥ç¼ºè¡¥æ¼</title>
    <url>/2018/09/17/2018-9-17-note-sqlite/</url>
    <content><![CDATA[<h1 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h1><ul>
<li><a href="#SQLiteåŸºç¡€">SQLiteåŸºç¡€</a><ul>
<li><a href="#è¡¨æ“ä½œ">è¡¨æ“ä½œ</a></li>
<li><a href="#å¢">å¢</a><ul>
<li><a href="#ä½¿ç”¨ä¸€ä¸ªè¡¨æ¥å¡«å……å¦ä¸€ä¸ªè¡¨">ä½¿ç”¨ä¸€ä¸ªè¡¨æ¥å¡«å……å¦ä¸€ä¸ªè¡¨</a></li>
</ul>
</li>
<li><a href="#æŸ¥">æŸ¥</a></li>
</ul>
</li>
<li><a href="#é«˜çº§æ•™ç¨‹">é«˜çº§æ•™ç¨‹</a><ul>
<li><a href="#ç´¢å¼•">ç´¢å¼•</a><ul>
<li><a href="#ç´¢å¼•é¿å…ä½¿ç”¨">ç´¢å¼•é¿å…ä½¿ç”¨</a></li>
<li><a href="#åº”ç”¨Indexed-By">åº”ç”¨Indexed-By</a></li>
<li><a href="#å¸¸ç”¨å‘½ä»¤ï¼š">å¸¸ç”¨å‘½ä»¤ï¼š</a></li>
</ul>
</li>
<li><a href="#PRAGMA">PRAGMA</a></li>
<li><a href="#sqliteçº¦æŸ">SQLiteçº¦æŸ</a></li>
<li><a href="#join">Join</a><ul>
<li><a href="#å†…è¿æ¥---inner-join">å†…è¿æ¥ - INNER JOIN</a></li>
<li><a href="#å¤–è¿æ¥---outer-join">å¤–è¿æ¥ - OUTER JOIN</a></li>
<li><a href="#äº¤å‰è¿æ¥---cross-joinäº†è§£">äº¤å‰è¿æ¥ - CROSS JOIN(äº†è§£)</a></li>
</ul>
</li>
<li><a href="#unions-å­å¥">Unions å­å¥</a></li>
<li><a href="#è§¦å‘å™¨ï¼ˆtriggerï¼‰">è§¦å‘å™¨ï¼ˆTriggerï¼‰</a><ul>
<li><a href="#åˆ›å»º">åˆ›å»º</a></li>
<li><a href="#æ‰¾">æ‰¾</a></li>
<li><a href="#åˆ é™¤">åˆ é™¤</a></li>
<li><a href="#ç»¼åˆ">ç»¼åˆ</a></li>
</ul>
</li>
<li><a href="#Alterä¿®æ”¹">Alterä¿®æ”¹</a></li>
<li><a href="#è§†å›¾ï¼ˆviewï¼‰">è§†å›¾ï¼ˆViewï¼‰</a><ul>
<li><a href="#è¯­æ³•">è¯­æ³•</a></li>
</ul>
</li>
<li><a href="#Transaction">Transaction</a></li>
<li><a href="#sqlite-å­æŸ¥è¯¢">SQLite å­æŸ¥è¯¢</a><ul>
<li><a href="#æŸ¥è¯¢">æŸ¥è¯¢</a></li>
<li><a href="#æ’å…¥">æ’å…¥</a></li>
<li><a href="#æ›´æ–°">æ›´æ–°</a></li>
<li><a href="#åˆ é™¤-1">åˆ é™¤</a></li>
</ul>
</li>
<li><a href="#explain">Explain</a><ul>
<li><a href="#è¯­æ³•-1">è¯­æ³•</a></li>
</ul>
</li>
<li><a href="#æ—¥æœŸ--æ—¶é—´">æ—¥æœŸ &amp; æ—¶é—´</a></li>
</ul>
</li>
</ul>
<h1 id="SQLite-åŸºç¡€"><a href="#SQLite-åŸºç¡€" class="headerlink" title="SQLite åŸºç¡€"></a>SQLite åŸºç¡€</h1><p><a href="http://www.runoob.com/sqlite/sqlite-tutorial.html" target="_blank" rel="noopener">SQLite åŸºç¡€ æ•™ç¨‹ç½‘å€</a></p>
<h2 id="è¡¨æ“ä½œ"><a href="#è¡¨æ“ä½œ" class="headerlink" title="è¡¨æ“ä½œ"></a>è¡¨æ“ä½œ</h2><p>Create</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> COMPANY<span class="token punctuation">(</span>
   ID <span class="token keyword">INTEGER</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span>   AUTOINCREMENT<span class="token punctuation">,</span>
   NAME           <span class="token keyword">TEXT</span>      <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
   AGE            <span class="token keyword">INT</span>       <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
   ADDRESS        CHAR<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   SALARY         <span class="token keyword">REAL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å¢"><a href="#å¢" class="headerlink" title="å¢"></a>å¢</h2><pre><code>INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY)
VALUES (1, 'Paul', 32, 'California', 20000.00 );</code></pre><h3 id="ä½¿ç”¨ä¸€ä¸ªè¡¨æ¥å¡«å……å¦ä¸€ä¸ªè¡¨"><a href="#ä½¿ç”¨ä¸€ä¸ªè¡¨æ¥å¡«å……å¦ä¸€ä¸ªè¡¨" class="headerlink" title="ä½¿ç”¨ä¸€ä¸ªè¡¨æ¥å¡«å……å¦ä¸€ä¸ªè¡¨"></a>ä½¿ç”¨ä¸€ä¸ªè¡¨æ¥å¡«å……å¦ä¸€ä¸ªè¡¨</h3><p>è¯­æ³•ï¼š</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> first_table_name <span class="token punctuation">[</span><span class="token punctuation">(</span>column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> columnN<span class="token punctuation">)</span><span class="token punctuation">]</span>
   <span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>columnN
   <span class="token keyword">FROM</span> second_table_name
   <span class="token punctuation">[</span><span class="token keyword">WHERE</span> condition<span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="æŸ¥"><a href="#æŸ¥" class="headerlink" title="æŸ¥"></a>æŸ¥</h2><p>SQLite Where å­å¥</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> COMPANY
        <span class="token keyword">WHERE</span> AGE <span class="token operator">></span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> AGE <span class="token keyword">FROM</span> COMPANY <span class="token keyword">WHERE</span> SALARY <span class="token operator">></span> <span class="token number">65000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Like</p>
<ul>
<li>ç™¾åˆ†å· ï¼ˆ%ï¼‰åŒ¹é…å¤šä¸ª</li>
<li>ä¸‹åˆ’çº¿ ï¼ˆ_ï¼‰ åŒ¹é…ä¸€ä¸ª</li>
</ul>
<p>Glob å’ŒlikeåŒæ ·ç”¨æ³•ï¼Œä¸åŒå¤§å°å†™æ•æ„Ÿ</p>
<ul>
<li>æ˜Ÿå· ï¼ˆ*ï¼‰å¤šä¸ª</li>
<li>é—®å· ï¼ˆ?ï¼‰å•ä¸ª</li>
</ul>
<p>OFFSET</p>
<pre class="line-numbers language-sql"><code class="language-sql"> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> COMPANY <span class="token keyword">LIMIT</span> <span class="token number">3</span> <span class="token keyword">OFFSET</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true"># ç¬¬ä¸‰ä½å¼€å§‹æå– 3 ä¸ªè®°å½•ï¼š</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>Having</strong><br>è¿‡æ»¤åˆ†ç»„æ¡ä»¶ä½ç½®åœ¨</p>
<pre><code>group by having  order by</code></pre><p><strong>distinct</strong></p>
<pre><code>select distinct name from company;</code></pre><h1 id="é«˜çº§æ•™ç¨‹"><a href="#é«˜çº§æ•™ç¨‹" class="headerlink" title="é«˜çº§æ•™ç¨‹"></a>é«˜çº§æ•™ç¨‹</h1><h2 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h2><h3 id="ç´¢å¼•é¿å…ä½¿ç”¨"><a href="#ç´¢å¼•é¿å…ä½¿ç”¨" class="headerlink" title="ç´¢å¼•é¿å…ä½¿ç”¨"></a>ç´¢å¼•é¿å…ä½¿ç”¨</h3><ul>
<li>è¡¨å°</li>
<li>é¢‘ç¹å†™å…¥</li>
<li>åˆ—æœ‰å¤§é‡NULL</li>
<li>ä¸åº”ä½¿ç”¨åœ¨é¢‘ç¹æ“ä½œçš„åˆ—ä¸Š</li>
</ul>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> index_name <span class="token keyword">ON</span> table_name<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> index_name
<span class="token keyword">ON</span> table_name <span class="token punctuation">(</span>column_name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"># å•åˆ—</span>
<span class="token keyword">CREATE</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">INDEX</span> index_name
<span class="token keyword">on</span> table_name <span class="token punctuation">(</span>column_name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"># å”¯ä¸€</span>
<span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> index_name
<span class="token keyword">on</span> table_name <span class="token punctuation">(</span>column1<span class="token punctuation">,</span> column2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">#ç»„åˆ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="åº”ç”¨Indexed-By"><a href="#åº”ç”¨Indexed-By" class="headerlink" title="åº”ç”¨Indexed By"></a>åº”ç”¨Indexed By</h3><pre class="line-numbers language-è¯­æ³•"><code class="language-è¯­æ³•">SELECT|DELETE|UPDATE column1, column2...
INDEXED BY (index_name)
table_name
WHERE (CONDITION);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å¸¸ç”¨å‘½ä»¤ï¼š"><a href="#å¸¸ç”¨å‘½ä»¤ï¼š" class="headerlink" title="å¸¸ç”¨å‘½ä»¤ï¼š"></a>å¸¸ç”¨å‘½ä»¤ï¼š</h3><p>æŸ¥å‡ºæ•°æ®åº“æ‰€æœ‰ç´¢å¼•</p>
<pre><code>SELECT * FROM sqlite_master WHERE type = 'index';</code></pre><h2 id="PRAGMA"><a href="#PRAGMA" class="headerlink" title="PRAGMA"></a>PRAGMA</h2><p><a href="http://www.runoob.com/sqlite/sqlite-pragma.html" target="_blank" rel="noopener">PRAGMA ç½‘å€</a></p>
<p>ä½œç”¨è¯»å†™Sqliteå†…éƒ¨ç¯å¢ƒå˜é‡å’ŒçŠ¶æ€ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-txt"><code class="language-txt">PRAGMA pragma_name; #è¯»å–
PRAGMA pragma_name = value; #è®¾ç½®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>å¸¸ç”¨å¯è®¾ç½®çš„é€‰é¡¹</p>
<ul>
<li>auto_vacuum  æ•°æ®ä»æ•°æ®åº“ç§»é™¤è€Œç¼©å°</li>
<li>encoding  æ§åˆ¶å­—ç¬¦ä¸²/å­˜å‚¨æ•°æ®ç¼–ç </li>
<li>index_info ( table_name ); ç´¢å¼•ä¿¡æ¯<br>â€¦.</li>
</ul>
<h2 id="SQLite-çº¦æŸ"><a href="#SQLite-çº¦æŸ" class="headerlink" title="SQLite çº¦æŸ"></a>SQLite çº¦æŸ</h2><ul>
<li>NOT NULL çº¦æŸ</li>
<li>DEFAULT çº¦æŸ</li>
<li>UNIQUE çº¦æŸ</li>
<li>PRIMARY Key</li>
<li>CHECK çº¦æŸ<pre><code>CREATE TABLE COMPANY(
 ID INT PRIMARY KEY     NOT NULL,
 NAME           TEXT    NOT NULL,
 AGE            INT     NOT NULL UNIQUE,
 ADDRESS        CHAR(50),
 SALARY         REAL    DEFAULT 50000.00
 bonus          INT     CHECK(bonus &gt; 0)
);</code></pre></li>
</ul>
<h2 id="Join"><a href="#Join" class="headerlink" title="Join"></a>Join</h2><p> <a href="http://www.runoob.com/sqlite/sqlite-joins.html" target="_blank" rel="noopener">http://www.runoob.com/sqlite/sqlite-joins.html</a></p>
<h3 id="å†…è¿æ¥-INNER-JOIN"><a href="#å†…è¿æ¥-INNER-JOIN" class="headerlink" title="å†…è¿æ¥ - INNER JOIN"></a>å†…è¿æ¥ - INNER JOIN</h3><pre class="line-numbers language-sql"><code class="language-sql"> <span class="token keyword">SELECT</span> EMP_ID<span class="token punctuation">,</span> NAME<span class="token punctuation">,</span> DEPT <span class="token keyword">FROM</span> COMPANY <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> DEPARTMENT
        <span class="token keyword">ON</span> COMPANY<span class="token punctuation">.</span>ID <span class="token operator">=</span> DEPARTMENT<span class="token punctuation">.</span>EMP_ID<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">-- è‡ªåŠ¨æ£€æµ‹ä¸¤ä¸ªè¡¨ä¸­çš„æ¯ä¸€åˆ—çš„å€¼ä¹‹é—´ç›¸ç­‰å€¼</span>
<span class="token keyword">SELECT</span> EMP_ID<span class="token punctuation">,</span> NAME<span class="token punctuation">,</span> DEPT <span class="token keyword">FROM</span> COMPANY <span class="token keyword">NATURAL</span> <span class="token keyword">JOIN</span> DEPARTMENT<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç»“æœï¼š</p>
<pre><code>EMP_ID      NAME        DEPT
/----------  ----------  ----------
1           Paul        IT Billing
2           Allen       Engineerin
7           James       Finance</code></pre><h3 id="å¤–è¿æ¥-OUTER-JOIN"><a href="#å¤–è¿æ¥-OUTER-JOIN" class="headerlink" title="å¤–è¿æ¥ - OUTER JOIN"></a>å¤–è¿æ¥ - OUTER JOIN</h3><blockquote>
<p>SQLite åªæ”¯æŒ å·¦å¤–è¿æ¥ï¼ˆLEFT OUTER JOINï¼‰</p>
</blockquote>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> EMP_ID<span class="token punctuation">,</span> NAME<span class="token punctuation">,</span> DEPT <span class="token keyword">FROM</span> COMPANY <span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> DEPARTMENT
        <span class="token keyword">ON</span> COMPANY<span class="token punctuation">.</span>ID <span class="token operator">=</span> DEPARTMENT<span class="token punctuation">.</span>EMP_ID<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ç»“æœï¼š</p>
<pre><code>EMP_ID      NAME        DEPT
----------  ----------  ----------
1           Paul        IT Billing
2           Allen       Engineerin
            Teddy
            Mark
            David
            Kim
7           James       Finance</code></pre><h3 id="äº¤å‰è¿æ¥-CROSS-JOIN-äº†è§£"><a href="#äº¤å‰è¿æ¥-CROSS-JOIN-äº†è§£" class="headerlink" title="äº¤å‰è¿æ¥ - CROSS JOIN(äº†è§£)"></a>äº¤å‰è¿æ¥ - CROSS JOIN(äº†è§£)</h3><p>ç›¸å½“äºæŠŠç¬¬ä¸€ä¸ªè¡¨é€‰ä¸­çš„åˆ—æ’å…¥ç¬¬äºŒä¸ªä¸­</p>
<pre><code>SELECT EMP_ID, NAME, DEPT FROM COMPANY CROSS JOIN DEPARTMENT;</code></pre><h2 id="Unions-å­å¥"><a href="#Unions-å­å¥" class="headerlink" title="Unions å­å¥"></a>Unions å­å¥</h2><p><a href="http://www.runoob.com/sqlite/sqlite-unions-clause.html" target="_blank" rel="noopener">Unions å­å¥ ç½‘å€</a></p>
<blockquote>
<p>åˆå¹¶<font color="red">ä¸¤ä¸ªæˆ–å¤šä¸ª SELECT</font> è¯­å¥çš„ç»“æœï¼Œ<font color="red">ä¸è¿”å›ä»»ä½•é‡å¤çš„è¡Œ</font></p>
</blockquote>
<ul>
<li>é¡»select åˆ—æ•°ç›¸åŒï¼ˆæ•°ç›®ï¼Œç±»å‹ç›¸åŒï¼‰</li>
</ul>
<p>æ¡ˆä¾‹ï¼š</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> EMP_ID<span class="token punctuation">,</span> NAME<span class="token punctuation">,</span> DEPT <span class="token keyword">FROM</span> COMPANY <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> DEPARTMENT
        <span class="token keyword">ON</span> COMPANY<span class="token punctuation">.</span>ID <span class="token operator">=</span> DEPARTMENT<span class="token punctuation">.</span>EMP_ID
   <span class="token keyword">UNION</span>
     <span class="token keyword">SELECT</span> EMP_ID<span class="token punctuation">,</span> NAME<span class="token punctuation">,</span> DEPT <span class="token keyword">FROM</span> COMPANY <span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> DEPARTMENT
        <span class="token keyword">ON</span> COMPANY<span class="token punctuation">.</span>ID <span class="token operator">=</span> DEPARTMENT<span class="token punctuation">.</span>EMP_ID<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>UNION ALL æ˜¾ç¤ºé‡å¤</p>
</blockquote>
<h2 id="è§¦å‘å™¨ï¼ˆTriggerï¼‰"><a href="#è§¦å‘å™¨ï¼ˆTriggerï¼‰" class="headerlink" title="è§¦å‘å™¨ï¼ˆTriggerï¼‰"></a>è§¦å‘å™¨ï¼ˆTriggerï¼‰</h2><p><a href="http://www.runoob.com/sqlite/sqlite-trigger.html" target="_blank" rel="noopener">è§¦å‘å™¨ï¼ˆTriggerï¼‰</a></p>
<p>ç›‘å¬tableä¸Šçš„INSERTã€DELETE å’Œ UPDATEåšå‡ºå¯¹åº”çš„æ“ä½œï¼Œç±»ä¼¼äºè§‚å¯Ÿè€…æ¨¡å¼</p>
<ul>
<li>å½“è§¦å‘å™¨ç›¸å…³è”çš„è¡¨åˆ é™¤æ—¶ï¼Œè‡ªåŠ¨åˆ é™¤è§¦å‘å™¨ï¼ˆTriggerï¼‰</li>
<li>è¦ä¿®æ”¹çš„è¡¨å¿…é¡»å­˜åœ¨äºåŒä¸€æ•°æ®åº“ä¸­</li>
<li>when å¯ä»¥è¿æ¥sqlå­å¥</li>
</ul>
<h3 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h3><p>è¯­æ³•ï¼š</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">CREATE</span>  <span class="token keyword">TRIGGER</span> trigger_name <span class="token punctuation">[</span>BEFORE<span class="token operator">|</span><span class="token keyword">AFTER</span><span class="token punctuation">]</span> <span class="token keyword">UPDATE</span> <span class="token keyword">OF</span> column_name
<span class="token keyword">ON</span> table_name
<span class="token keyword">BEGIN</span>
 <span class="token comment" spellcheck="true">-- Trigger logic goes here....</span>
<span class="token keyword">END</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ¡ˆä¾‹ï¼š</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TRIGGER</span> audit_log <span class="token keyword">AFTER</span> <span class="token keyword">INSERT</span>
<span class="token keyword">ON</span> COMPANY
<span class="token keyword">BEGIN</span>
   <span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> AUDIT<span class="token punctuation">(</span>EMP_ID<span class="token punctuation">,</span> ENTRY_DATE<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>new<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token keyword">datetime</span><span class="token punctuation">(</span><span class="token string">'now'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>æ³¨æ„ï¼š<font color="red">datetime,newçš„ä½¿ç”¨</font>,newä»£è¡¨COMPANY</p>
</blockquote>
<h3 id="æ‰¾"><a href="#æ‰¾" class="headerlink" title="æ‰¾"></a>æ‰¾</h3><pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> name <span class="token keyword">FROM</span> sqlite_master <span class="token keyword">WHERE</span> <span class="token keyword">type</span> <span class="token operator">=</span> <span class="token string">'trigger'</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> name <span class="token keyword">FROM</span> sqlite_master <span class="token keyword">WHERE</span> <span class="token keyword">type</span> <span class="token operator">=</span> <span class="token string">'trigger'</span> <span class="token operator">AND</span> tbl_name <span class="token operator">=</span> <span class="token string">'COMPANY'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h3><pre><code>DROP TRIGGER trigger_name;</code></pre><h3 id="ç»¼åˆ"><a href="#ç»¼åˆ" class="headerlink" title="ç»¼åˆ"></a>ç»¼åˆ</h3><p>æ¡ˆä¾‹1ï¼š</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TRIGGER</span> trigger_name
<span class="token keyword">AFTER</span> <span class="token keyword">UPDATE</span> <span class="token keyword">OF</span> id <span class="token keyword">ON</span> table_1
<span class="token keyword">FOR EACH ROW</span>
<span class="token keyword">WHEN</span> new<span class="token punctuation">.</span>id<span class="token operator">></span><span class="token number">30</span>
<span class="token keyword">BEGIN</span>
<span class="token keyword">UPDATE</span> table_2 <span class="token keyword">SET</span> id<span class="token operator">=</span>new<span class="token punctuation">.</span>id <span class="token keyword">WHERE</span> table_2<span class="token punctuation">.</span>id<span class="token operator">=</span>old<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>when æˆ– begin~ end å¯ä»¥ç”¨new,old è®¿é—®table_1çŠ¶æ€æ”¹å˜çš„å‰åå˜åŒ–</li>
<li>FOR EACH ROW ï¼š åˆ äº† 10 è¡Œå°±è§¦å‘ 10 æ¬¡ å¯¹åº”for each state åªåˆ é™¤ä¸€æ¬¡sqlite åªæ”¯æŒeach row;</li>
</ul>
<p><strong>æ¡ˆä¾‹2ï¼š</strong> å½“è¡¨çš„å†…å®¹è¶…è¿‡4æ¡æ—¶ï¼Œåˆ é™¤æŒ‡å®šå†…å®¹çš„æ•°æ®</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">TRIGGER</span> autit_trigger2
    <span class="token keyword">AFTER</span>  <span class="token keyword">INSERT</span> <span class="token keyword">on</span> AUDIT
    <span class="token keyword">WHEN</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> AUDIT<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">4</span>
<span class="token keyword">BEGIN</span>
    <span class="token keyword">DELETE</span> <span class="token keyword">from</span> AUDIT <span class="token keyword">WHERE</span> emp_id <span class="token operator">></span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><font color="red">æ³¨æ„ï¼šWhenå’Œbegin~end çš„æ“ä½œé¡»ç‹¬ç«‹è·‘è¿‡ä¸€é</font></p>
<h2 id="Alterä¿®æ”¹"><a href="#Alterä¿®æ”¹" class="headerlink" title="Alterä¿®æ”¹"></a>Alterä¿®æ”¹</h2><pre class="line-numbers language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">-- é‡å‘½åtable</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> database_name<span class="token punctuation">.</span>table_name <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> new_table_name<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">-- å¢åŠ å­—æ®µ</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> database_name<span class="token punctuation">.</span>table_name <span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> column_def<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">-- æ¡ˆä¾‹</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> AUDIT <span class="token keyword">add</span> <span class="token keyword">COLUMN</span> ID <span class="token keyword">INT</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="è§†å›¾ï¼ˆViewï¼‰"><a href="#è§†å›¾ï¼ˆViewï¼‰" class="headerlink" title="è§†å›¾ï¼ˆViewï¼‰"></a>è§†å›¾ï¼ˆViewï¼‰</h2><p>è§†å›¾ï¼ˆViewï¼‰æ˜¯ä¸€ç§è™šè¡¨ï¼Œç”±1æˆ–å¤šä¸ªè¡¨ç»„åˆè€Œæˆï¼Œæ•…Viewè¡¨ç”±ä¸‰å¤§ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ç”±äºæ˜¯ä»»æ„ç»„åˆå¯ä»¥æ›´å¤šå˜çš„å±•ç¤ºæ•°æ®ï¼Œæ›´ç›´è§‚ï¼›</li>
<li>æœ‰ç»„åˆå¿…æœ‰èˆå¼ƒï¼Œæ•…å¯ä»¥éšè—éƒ¨åˆ†å­—æ®µ</li>
<li>ç›´æ¥ç”Ÿæˆè™šæ‹Ÿè¡¨ï¼Œæ¯”ç›´æ¥æ“ä½œå¤šä¸ªè¡¨ä¼šæ›´æ–¹ä¾¿</li>
</ul>
<h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><pre><code>-- åˆ›å»ºView
CREATE [TEMP | TEMPORARY] VIEW view_name AS
SELECT column1, column2.....
FROM table_name
WHERE [condition];
-- åˆ é™¤View
DROP VIEW COMPANY_VIEW</code></pre><p>æ¡ˆä¾‹ï¼š</p>
<pre><code>CREATE VIEW COMPANY_VIEW AS
SELECT ID, NAME, AGE
FROM  COMPANY;</code></pre><p>æ¡ˆä¾‹2ï¼š</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> COMPANY_VIEW <span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> C<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> C<span class="token punctuation">.</span>NAME<span class="token punctuation">,</span> C<span class="token punctuation">.</span>AGE<span class="token punctuation">,</span> A<span class="token punctuation">.</span>EMP_ID
<span class="token keyword">FROM</span>  COMPANY C<span class="token punctuation">,</span> AUDIT A <span class="token keyword">WHERE</span> C<span class="token punctuation">.</span>ID <span class="token operator">=</span> A<span class="token punctuation">.</span>EMP_ID<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<!-- ## sqlite_sequence  -->

<h2 id="Transaction"><a href="#Transaction" class="headerlink" title="Transaction"></a>Transaction</h2><blockquote>
<p>äº‹åŠ¡æ§åˆ¶å‘½ä»¤åªä¸DMLå‘½ä»¤<code>INSERTã€UPDATE å’Œ DELETE</code> ä¸€èµ·ä½¿ç”¨,ä»–ä»¬ä¸èƒ½åœ¨åˆ›å»ºè¡¨æˆ–åˆ é™¤è¡¨æ—¶ä½¿ç”¨</p>
</blockquote>
<pre><code>db.beginTransaction(); // å¼€å¯äº‹åŠ¡
try {
    db.execSQLï¼ˆ"insert into person (name, age) values(?,?)", new Object[]{"å¼ ä¸‰", 4});

    db.execSQL("update person set name=? where personid=?", new Object[]{"æå››", 1});

    db.setTransactionSuccessful(); // æ ‡è®°äº‹åŠ¡å®Œæˆ
} finally {
    db.endTransaction(); // ç»“æŸäº‹åŠ¡
    db.close();
}</code></pre><h2 id="SQLite-å­æŸ¥è¯¢"><a href="#SQLite-å­æŸ¥è¯¢" class="headerlink" title="SQLite å­æŸ¥è¯¢"></a>SQLite å­æŸ¥è¯¢</h2><p><font color="red">æ¸©é¦¨æç¤ºï¼š Where XX in (OOO)</font></p>
<h3 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h3><pre><code>SELECT * FROM COMPANY
     WHERE ID IN (SELECT ID  FROM COMPANY WHERE SALARY &gt; 45000) ;</code></pre><h3 id="æ’å…¥"><a href="#æ’å…¥" class="headerlink" title="æ’å…¥"></a>æ’å…¥</h3><pre><code>INSERT INTO COMPANY_BKP
     SELECT * FROM COMPANY WHERE ID IN (SELECT ID FROM COMPANY) ;</code></pre><h3 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h3><pre><code>UPDATE COMPANY SET SALARY = SALARY * 0.50
     WHERE AGE IN (SELECT AGE FROM COMPANY_BKP WHERE AGE &gt;= 27 );</code></pre><h3 id="åˆ é™¤-1"><a href="#åˆ é™¤-1" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h3><pre><code>DELETE FROM COMPANY
     WHERE AGE IN (SELECT AGE FROM COMPANY_BKP  WHERE AGE &gt; 27 );</code></pre><h2 id="Explain"><a href="#Explain" class="headerlink" title="Explain"></a>Explain</h2><ul>
<li>è¾“å‡ºåªç”¨äºäº¤äº’å¼åˆ†æå’Œæ’é™¤æ•…éšœã€‚</li>
<li>è¾“å‡ºæ ¼å¼çš„ç»†èŠ‚éšSQLite ç‰ˆæœ¬å˜åŒ–</li>
</ul>
<h3 id="è¯­æ³•-1"><a href="#è¯­æ³•-1" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">EXPLAIN</span> <span class="token punctuation">[</span>SQLite Query<span class="token punctuation">]</span>
<span class="token keyword">EXPLAIN</span>  QUERY <span class="token keyword">PLAN</span> <span class="token punctuation">[</span>SQLite Query<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>æ¡ˆä¾‹ï¼š</p>
<pre><code>EXPLAIN SELECT *  FROM COMPANY  WHERE Salary &amp;gt= 20000;
EXPLAIN QUERY PLAN SELECT * FROM COMPANY WHERE Salary &amp;gt= 20000;
-- ç»“æœï¼š
order       from        detail
----------  ----------  -------------
0           0           TABLE COMPANY</code></pre><h2 id="æ—¥æœŸ-amp-æ—¶é—´"><a href="#æ—¥æœŸ-amp-æ—¶é—´" class="headerlink" title="æ—¥æœŸ &amp; æ—¶é—´"></a>æ—¥æœŸ &amp; æ—¶é—´</h2><p><a href="http://www.runoob.com/sqlite/sqlite-date-time.html" target="_blank" rel="noopener">æ—¥æœŸ &amp; æ—¶é—´ æ•™ç¨‹ç½‘å€ï¼š</a></p>
<p><strong>date</strong></p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">-- å½“å‰æ—¶é—´ 2018-09-17</span>
<span class="token keyword">SELECT</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token string">'now'</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">-- å½“å‰æœˆä»½åŠ 1 --> 2018-10-01</span>
<span class="token keyword">SELECT</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token string">'now'</span><span class="token punctuation">,</span><span class="token string">'start of month'</span><span class="token punctuation">,</span><span class="token string">'+1 month'</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">-- å½“æœˆæœ€åä¸€å¤©</span>
<span class="token keyword">SELECT</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token string">'now'</span><span class="token punctuation">,</span><span class="token string">'start of month'</span><span class="token punctuation">,</span><span class="token string">'+1 month'</span><span class="token punctuation">,</span><span class="token string">'-1 day'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">-- è®¡ç®—å½“å¹´ 10 æœˆçš„ç¬¬ä¸€ä¸ªæ˜ŸæœŸäºŒçš„æ—¥æœŸ</span>
<span class="token keyword">SELECT</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token string">'now'</span><span class="token punctuation">,</span><span class="token string">'start of year'</span><span class="token punctuation">,</span><span class="token string">'+9 months'</span><span class="token punctuation">,</span><span class="token string">'weekday 2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>datetime</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">-- UNIX æ—¶é—´æˆ³ --> 2004-08-19 18:51:06</span>
<span class="token keyword">select</span> <span class="token keyword">datetime</span><span class="token punctuation">(</span><span class="token number">1092941466</span><span class="token punctuation">,</span> <span class="token string">'unixepoch'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>strftime</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> strftime<span class="token punctuation">(</span><span class="token string">'%s'</span><span class="token punctuation">,</span><span class="token string">'now'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">-- now - `1988-01-02 02:34:56` è¿‡äº†å¤šå°‘ç§’</span>
<span class="token keyword">SELECT</span> strftime<span class="token punctuation">(</span><span class="token string">'%s'</span><span class="token punctuation">,</span><span class="token string">'now'</span><span class="token punctuation">)</span> <span class="token operator">-</span> strftime<span class="token punctuation">(</span><span class="token string">'%s'</span><span class="token punctuation">,</span><span class="token string">'1988-01-02 02:34:56'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºæœ¬UIç©ºæ§ä»¶çš„ç”¨æ–¹æ³•å’Œå±æ€§</title>
    <url>/2018/09/17/2018-7-3-ui-open-source/</url>
    <content><![CDATA[<h2 id="æç¤ºç±»å‹"><a href="#æç¤ºç±»å‹" class="headerlink" title="æç¤ºç±»å‹"></a>æç¤ºç±»å‹</h2><h3 id="Tosat"><a href="#Tosat" class="headerlink" title="Tosat"></a>Tosat</h3><ul>
<li><a href="https://github.com/imjeevandeshmukh/GlideToast" target="_blank" rel="noopener">GlideToast </a><br><img src="https://raw.githubusercontent.com/imjeevandeshmukh/GlideToast/master/gifs/success.gif" alt=""> </li>
</ul>
<h2 id="å·¥å…·ç±»å‹"><a href="#å·¥å…·ç±»å‹" class="headerlink" title="å·¥å…·ç±»å‹"></a>å·¥å…·ç±»å‹</h2><ul>
<li><a href="https://github.com/wdullaer/MaterialDateTimePicker" target="_blank" rel="noopener">MaterialDateTimePicker è´¨æ„Ÿè®¾è®¡æ—¥æœŸæ—¶é—´é€‰æ‹©å™¨</a></li>
</ul>
<h2 id="è¾“å…¥"><a href="#è¾“å…¥" class="headerlink" title="è¾“å…¥"></a>è¾“å…¥</h2><ul>
<li><a href="https://github.com/itsxtt/pattern-lock" target="_blank" rel="noopener">Pattern Lock View</a> ä¹å®«æ ¼è§£é”</li>
<li><img src="https://raw.githubusercontent.com/CleverPumpkin/CrunchyCalendar/master/images/calendar.jpg" alt=""></li>
</ul>
<h2 id="èœå•"><a href="#èœå•" class="headerlink" title="èœå•"></a>èœå•</h2><ul>
<li><img src="https://raw.githubusercontent.com/peng8350/JPSpringMenu/master/art/main.gif" alt="JPSpringMenu"></li>
</ul>
<h2 id="æ“ä½œæ§ä»¶"><a href="#æ“ä½œæ§ä»¶" class="headerlink" title="æ“ä½œæ§ä»¶"></a>æ“ä½œæ§ä»¶</h2><h3 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h3><ul>
<li><a href="https://github.com/dmytrodanylyk/android-morphing-button" target="_blank" rel="noopener">android-morphing-button</a><br><img src="https://raw.githubusercontent.com/dmytrodanylyk/android-morphing-button/master/screenshots/intro2.gif" alt=""><br><img src="https://raw.githubusercontent.com/dmytrodanylyk/android-morphing-button/master/screenshots/intro1.gif" alt=""></li>
</ul>
]]></content>
      <categories>
        <category>UI</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>UI</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¡¬ä»¶ç›¸å…³å¼€æºåº“</title>
    <url>/2018/08/28/2018-8-28-hard-open-source/</url>
    <content><![CDATA[<ul>
<li><strong><a href="https://github.com/nisrulz/sensey" target="_blank" rel="noopener">sensey</a></strong> å¾ˆç®€æ´çš„ä»£ç å®ç°å¯¹ä¼ æ„Ÿå™¨çš„ç›‘å¬</li>
<li><strong><a href="https://github.com/pwittchen/RxBiometric" target="_blank" rel="noopener">RxBiometric</a></strong> ç”¨RxJava å®ç°å¯¹æŒ‡çº¹æ‰«æçš„æ§åˆ¶<blockquote>
<p>RxJava and RxKotlin bindings for Biometric Prompt (Fingerprint Scanner) on Android</p>
</blockquote>
</li>
<li><strong><a href="https://github.com/pqpo/SmartCamera" target="_blank" rel="noopener">SmartCamera</a></strong><br><img src="https://raw.githubusercontent.com/pqpo/SmartCamera/master/art/smartcamera_demo.gif" alt=""></li>
</ul>
<ul>
<li><a href="https://github.com/uccmawei/FingerprintIdentify" target="_blank" rel="noopener">AndroidæŒ‡çº¹è¯†åˆ«APIå…¼å®¹åº“</a></li>
</ul>
]]></content>
      <categories>
        <category>open source</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>æ”¶é›†</tag>
      </tags>
  </entry>
  <entry>
    <title>Android ç½‘é¡µå·¥å…·</title>
    <url>/2018/08/28/2018-5-5-android-web-tools/</url>
    <content><![CDATA[<h2 id="åœ¨çº¿çœ‹ä»£ç "><a href="#åœ¨çº¿çœ‹ä»£ç " class="headerlink" title="åœ¨çº¿çœ‹ä»£ç "></a>åœ¨çº¿çœ‹ä»£ç </h2><h3 id="åœ¨çº¿çœ‹Androidæºç "><a href="#åœ¨çº¿çœ‹Androidæºç " class="headerlink" title="åœ¨çº¿çœ‹Androidæºç "></a>åœ¨çº¿çœ‹Androidæºç </h3><ul>
<li><a href="https://www.androidos.net.cn/sourcecode" target="_blank" rel="noopener">https://www.androidos.net.cn/sourcecode</a><br><img src="http://5b0988e595225.cdn.sohucs.com/images/20180718/0a28ef3942794e2b853f643a47f42cdf.gif" alt=""></li>
<li><a href="https://app.codota.com/code/query/" target="_blank" rel="noopener">codota æŸ¥è¯¢ä»£ç æ¡ˆä¾‹</a></li>
<li><a href="http://grepcode.com/" target="_blank" rel="noopener">æŸ¥çœ‹ä¸åŒç‰ˆæœ¬Androidï¼ŒJDKæºç </a><br><img src="http://ohlb58e07.bkt.clouddn.com/grep_com_sample.jpg" alt=""><!--- [Android Framwork æºç æŸ¥çœ‹](http://androidxref.com/) http://androidxref.com/-->
<!--![](http://ohlb58e07.bkt.clouddn.com/android_framework_2018-5-5.jpg)-->


</li>
</ul>
<h2 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h2><ul>
<li><a href="http://search.maven.org/" target="_blank" rel="noopener">maven ä»“åº“ä¸­æœç´¢ä¾èµ–</a><br><img src="http://ohlb58e07.bkt.clouddn.com/maven_sample_2018-5-5.jpg" alt=""></li>
<li><a href="http://www.methodscount.com/" target="_blank" rel="noopener">ç»Ÿè®¡ä¾èµ–å¤§å°ï¼Œæ–¹æ³•æ•°é‡çš„å˜åŒ–</a></li>
<li><a href="https://github.com/anggrayudi/android-hidden-api" target="_blank" rel="noopener">å¼•ç”¨Androidéšè—çš„Api</a> æŸ¥çœ‹Androidæºç <pre class="line-numbers language-shell"><code class="language-shell">#Api 23 ä¸¾ä¾‹
<SDK location>/platforms/android-23/android.jar --> backup android.jar ==> android-.jar ä¸‹è½½å¯¹åº”android.jar<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="å¼€æºé¡¹ç›®æŸ¥æ‰¾"><a href="#å¼€æºé¡¹ç›®æŸ¥æ‰¾" class="headerlink" title="å¼€æºé¡¹ç›®æŸ¥æ‰¾"></a>å¼€æºé¡¹ç›®æŸ¥æ‰¾</h2></li>
<li><a href="https://github.com/search?utf8=%E2%9C%93&amp;q=" target="_blank" rel="noopener">GitHub æœç´¢</a></li>
</ul>
<h2 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h2><ul>
<li><a href="http://www.bejson.com/" target="_blank" rel="noopener">jsonè½¬åŒ–</a></li>
<li><a href="https://www.tutorialspoint.com/codingground.htm" target="_blank" rel="noopener">Free Online IDE and Terminal</a> æ”¯æŒå‡ ä¹æ‰€æœ‰ä¸»æµç¼–ç¨‹è¯­è¨€çš„åœ¨çº¿IDE</li>
<li><a href="https://github.com/faressoft/terminalizer" target="_blank" rel="noopener">terminalizer å½•åˆ¶ç»ˆç«¯å‘½ä»¤è¡Œå¹¶è½¬åŒ–æˆgif</a>  <img src="https://raw.githubusercontent.com/faressoft/terminalizer/master/img/demo.gif" alt=""></li>
<li><a href="https://about.sourcegraph.com/" target="_blank" rel="noopener">sourcegraph åŸºäºç½‘é¡µç«¯å’ŒGitçš„æ™ºèƒ½æºç æŸ¥çœ‹å·¥å…·ï¼Œå¯ä»¥æœ¬åœ°å®‰è£…</a><br><img src="http://ohlb58e07.bkt.clouddn.com/sourcegraph_1_2018-5-5.jpg" alt=""></li>
<li>åœ¨çº¿å¾ˆå¥½çš„æ­£åˆ™è¡¨è¾¾å¼å­¦ä¹ ç½‘ç«™  <a href="https://regexr.com/" target="_blank" rel="noopener">https://regexr.com/</a>  </li>
</ul>
]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>tool</tag>
      </tags>
  </entry>
  <entry>
    <title>Android Preference è®¾ç½®çœ‹å›¾è¯´è¯ä¹‹åŸºç¡€ç¯‡ï¼ˆ5åˆ†é’ŸæŒæ¡ï¼‰</title>
    <url>/2018/08/28/2018-8-28-fundamental-android-preference/</url>
    <content><![CDATA[<p>[TOC]</p>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>è‡ªå·±ç‹¬ç«‹å¼€å‘è¿‡äº†æ¯”è¾ƒå¤šçš„appï¼Œå‘ç°å…³äºè®¾ç½®çš„UIå’Œç›¸å…³çš„å¤„ç†è‡ªå·±å†™ä¸æ—¦å¢åŠ ç±»å¼€å‘å·¥ä½œé‡ï¼Œè€Œä¸”å¸¸å¸¸ä¼šä½¿æ•´ä¸ªä»£ç å±‚æ¬¡å’Œé€»è¾‘ä¼šå˜çš„ç›¸å½“æ··ä¹±ï¼Œè®©äººå¤´ç—›ï¼Œåœ¨ä¸è€ƒè™‘è‡ªå·±èŠ±æ—¶é—´å¼„ä¸€ä¸ªè®¾ç½®ç®¡ç†ç±»ç®¡ç†å¥½è®¾ç½®ä»£ç ï¼ŒåŠè‡ªå·±å¤„ç†å„ç§UIæ§ä»¶çš„å‰æä¸‹ï¼Œä½¿ç”¨å®˜æ–¹æä¾›çš„Preferenceæ˜¯æœ€ä¼˜ä¹Ÿæ˜¯æœ€é«˜æ•ˆçš„é€‰æ‹©ï¼›</p>
<h1 id="Android-Preference-æä¾›çš„æ§ä»¶"><a href="#Android-Preference-æä¾›çš„æ§ä»¶" class="headerlink" title="Android Preference æä¾›çš„æ§ä»¶"></a>Android Preference æä¾›çš„æ§ä»¶</h1><p>è¿™é‡Œåªåˆ—ä¸¾å¸¸ç”¨çš„support.v7,å…¶ä»–çš„ä¹Ÿå¤§åŒå°å¼‚<br>å¼•å…¥æ–¹å¼,gradle ä¸‹é…ç½®</p>
<pre><code>implementation 'com.android.support:preference-v7:27.1.1'</code></pre><p><img src="http://ohlb58e07.bkt.clouddn.com/Android_Preferen-widgets.png" alt=""></p>
<blockquote>
<p><a href="https://developer.android.com/reference/android/support/v7/preference/package-summary" target="_blank" rel="noopener">å®˜æ–¹æ€»ç»“-ç§‘å­¦ä¸Šç½‘</a>, ä½¿ç”¨çš„æ—¶å€™æŸ¥è¯¢å¯¹åº”å±æ€§è®¾ç½®</p>
</blockquote>
<p> â†³ <a href="https://developer.android.com/reference/android/support/v7/preference/Preference#" target="_blank" rel="noopener">android.support.v7.preference.Preference </a><br> â†³ Known Direct Subclasses<br><a href="https://developer.android.com/reference/android/support/v7/preference/DialogPreference.html" target="_blank" rel="noopener">DialogPreference</a>,<a href="https://developer.android.com/reference/android/support/v7/preference/PreferenceGroup.html" target="_blank" rel="noopener">PreferenceGroup</a>,<a href="https://developer.android.com/reference/android/support/v7/preference/SeekBarPreference.html" target="_blank" rel="noopener">SeekBarPreference</a>,<a href="https://developer.android.com/reference/android/support/v7/preference/TwoStatePreference.html" target="_blank" rel="noopener">TwoStatePreference</a><br>Known Indirect Subclasses<br><a href="https://developer.android.com/reference/android/support/v7/preference/CheckBoxPreference.html" target="_blank" rel="noopener">CheckBoxPreference</a>,<a href="https://developer.android.com/reference/android/support/v7/preference/DropDownPreference.html" target="_blank" rel="noopener">DropDownPreference</a>,<a href="https://developer.android.com/reference/android/support/v7/preference/EditTextPreference.html" target="_blank" rel="noopener">EditTextPreference</a>,<a href="https://developer.android.com/reference/android/support/v7/preference/ListPreference.html" target="_blank" rel="noopener">ListPreference</a>,  <a href="https://developer.android.com/reference/android/support/v14/preference/MultiSelectListPreference.html" target="_blank" rel="noopener">MultiSelectListPreference</a>,<a href="https://developer.android.com/reference/android/support/v7/preference/PreferenceCategory.html" target="_blank" rel="noopener">PreferenceCategory</a>,<a href="https://developer.android.com/reference/android/support/v7/preference/PreferenceScreen.html" target="_blank" rel="noopener">PreferenceScreen</a>,  <a href="https://developer.android.com/reference/android/support/v14/preference/SwitchPreference.html" target="_blank" rel="noopener">SwitchPreference</a>,  <a href="https://developer.android.com/reference/android/support/v7/preference/SwitchPreferenceCompat.html" target="_blank" rel="noopener">SwitchPreferenceCompat</a></p>
<p><strong>Xmlæ¡ˆä¾‹(For example:)ï¼š</strong></p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PreferenceScreen</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CheckBoxPreference</span>
        <span class="token attr-name"><span class="token namespace">android:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pref_sync<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@string/pref_sync<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>summary</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@string/pref_sync_summ<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>defaultValue</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ListPreference</span>
        <span class="token attr-name"><span class="token namespace">android:</span>dependency</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pref_sync<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pref_syncConnectionType<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@string/pref_syncConnectionType<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>dialogTitle</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@string/pref_syncConnectionType<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>entries</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@array/pref_syncConnectionTypes_entries<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>entryValues</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@array/pref_syncConnectionTypes_values<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>defaultValue</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@string/pref_syncConnectionTypes_default<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PreferenceScreen</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>Java æ¡ˆä¾‹ï¼š</strong></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SettingsActivity</span> <span class="token keyword">extends</span> <span class="token class-name">PreferenceActivity</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">addPreferencesFromResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>xml<span class="token punctuation">.</span>preferences<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SettingsActivity</span> <span class="token keyword">extends</span> <span class="token class-name">Activity</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// Display the fragment as the main content.</span>
        <span class="token function">getFragmentManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">beginTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>content<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">SettingsFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ä¸åŒç‰ˆæœ¬å¤§è‡´åŒºåˆ«"><a href="#ä¸åŒç‰ˆæœ¬å¤§è‡´åŒºåˆ«" class="headerlink" title="ä¸åŒç‰ˆæœ¬å¤§è‡´åŒºåˆ«"></a>ä¸åŒç‰ˆæœ¬å¤§è‡´åŒºåˆ«</h2><ul>
<li>v14 Preference Support Library  <code>com.android.support:preference-v14:27.1.1</code><br>å¢åŠ äº† <a href="https://developer.android.com/reference/android/support/v14/preference/PreferenceFragment.OnPreferenceStartFragmentCallback.html" target="_blank" rel="noopener">PreferenceFragment.OnPreferenceStartFragmentCallback</a> å’Œ<a href="https://developer.android.com/reference/android/support/v14/preference/PreferenceFragment.OnPreferenceStartScreenCallback.html" target="_blank" rel="noopener">PreferenceFragment.OnPreferenceStartScreenCallback</a>, æ›´æ–°äº†ä¸€äº›ç±», å¦‚ï¼š`<a href="https://developer.android.com/reference/android/support/v14/preference/MultiSelectListPreference.html" target="_blank" rel="noopener">MultiSelectListPreference</a> and <a href="https://developer.android.com/reference/android/support/v14/preference/PreferenceFragment.html" target="_blank" rel="noopener">PreferenceFragment</a></li>
<li><a href="https://developer.android.com/reference/android/support/v17/preference/package-summary" target="_blank" rel="noopener">v17 Preference</a> ä¸»è¦æ˜¯å¢åŠ äº†å¯¹TVçš„æ”¯æŒï¼›</li>
</ul>
<h1 id="å…·ä½“æµç¨‹"><a href="#å…·ä½“æµç¨‹" class="headerlink" title="å…·ä½“æµç¨‹"></a>å…·ä½“æµç¨‹</h1><p><img src="http://ohlb58e07.bkt.clouddn.com/android_prefence_flowwak.png" alt=""></p>
<blockquote>
<p>æ³¨æ„ï¼š findPreference/onPreferenceTreeClick ç­‰æ–¹æ³•åœ¨android.preference.PreferenceActivity Api16 (4.1) ä¸­è¢«å¼ƒç”¨ï¼Œåœ¨PreferenceFragmentCompatä¸­èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œ<font color="red" face="STHupo">æ•…å®˜æ–¹æ¨èä½¿ç”¨PreferenceFragmentCompatï¼›</font></p>
</blockquote>
<h2 id="æ–°å»ºxml"><a href="#æ–°å»ºxml" class="headerlink" title="æ–°å»ºxml"></a>æ–°å»ºxml</h2><h3 id="ä½¿ç”¨ç»„ï¼ˆGroupï¼‰"><a href="#ä½¿ç”¨ç»„ï¼ˆGroupï¼‰" class="headerlink" title="ä½¿ç”¨ç»„ï¼ˆGroupï¼‰"></a>ä½¿ç”¨ç»„ï¼ˆGroupï¼‰</h3><p>æ¡ˆä¾‹ï¼š</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PreferenceScreen</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PreferenceCategory</span>
        <span class="token attr-name"><span class="token namespace">android:</span>title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@string/pref_sms_storage_title<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pref_key_storage_settings<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        &lt;CheckBoxPreference
            android:key="pref_key_auto_delete"
            android:summary="@string/pref_summary_auto_delete"
            android:title="@string/pref_title_auto_delete"
            android:defaultValue="false"... />
        &lt;Preference
            android:key="pref_key_sms_delete_limit"
            android:dependency="pref_key_auto_delete"
            android:summary="@string/pref_summary_delete_limit"
            android:title="@string/pref_title_sms_delete"... />
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Preference</span>
            <span class="token attr-name"><span class="token namespace">android:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pref_key_mms_delete_limit<span class="token punctuation">"</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>dependency</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pref_key_auto_delete<span class="token punctuation">"</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>summary</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@string/pref_summary_delete_limit<span class="token punctuation">"</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@string/pref_title_mms_delete<span class="token punctuation">"</span></span> <span class="token attr-name">...</span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PreferenceCategory</span><span class="token punctuation">></span></span>
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PreferenceScreen</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://ohlb58e07.bkt.clouddn.com/2018-08-25_android_preferens_group.png" alt="æ•ˆæœå¦‚å›¾"></p>
<h3 id="ä½¿ç”¨å­å±å¹•ï¼ˆsubscreensï¼‰"><a href="#ä½¿ç”¨å­å±å¹•ï¼ˆsubscreensï¼‰" class="headerlink" title="ä½¿ç”¨å­å±å¹•ï¼ˆsubscreensï¼‰"></a>ä½¿ç”¨å­å±å¹•ï¼ˆsubscreensï¼‰</h3><p>æ¡ˆä¾‹ä»£ç ï¼š</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PreferenceScreen</span>  <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!-- opens a subscreen of settings --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PreferenceScreen</span>
        <span class="token attr-name"><span class="token namespace">android:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button_voicemail_category_key<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@string/voicemail<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>persistent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ListPreference</span>
            <span class="token attr-name"><span class="token namespace">android:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button_voicemail_provider_key<span class="token punctuation">"</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@string/voicemail_provider<span class="token punctuation">"</span></span> <span class="token attr-name">...</span> <span class="token punctuation">/></span></span>
        <span class="token comment" spellcheck="true">&lt;!-- opens another nested subscreen --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PreferenceScreen</span>
            <span class="token attr-name"><span class="token namespace">android:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button_voicemail_setting_key<span class="token punctuation">"</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@string/voicemail_settings<span class="token punctuation">"</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>persistent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            ...
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PreferenceScreen</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RingtonePreference</span>
            <span class="token attr-name"><span class="token namespace">android:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button_voicemail_ringtone_key<span class="token punctuation">"</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@string/voicemail_ringtone_title<span class="token punctuation">"</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>ringtoneType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>notification<span class="token punctuation">"</span></span> <span class="token attr-name">...</span> <span class="token punctuation">/></span></span>
        ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PreferenceScreen</span><span class="token punctuation">></span></span>
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PreferenceScreen</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://ohlb58e07.bkt.clouddn.com/2018-08-25_android_preferen_suscreen.png" alt="æ•ˆæœå¦‚å›¾"></p>
<h3 id="ä½¿ç”¨intents"><a href="#ä½¿ç”¨intents" class="headerlink" title="ä½¿ç”¨intents"></a>ä½¿ç”¨intents</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token operator">&lt;</span>Preference android<span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">"@string/prefs_web_page"</span> <span class="token operator">></span>
    <span class="token operator">&lt;</span>intent android<span class="token operator">:</span>action<span class="token operator">=</span><span class="token string">"android.intent.action.VIEW"</span>
            android<span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">"http://www.example.com"</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Preference<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>å±æ€§æœ‰ï¼š</p>
<ul>
<li>android:action</li>
<li>android:data</li>
<li>android:mimeType</li>
<li>android:targetClass</li>
<li>android:targetPackage</li>
</ul>
<p><font color="red" face="STHupo">è¯·æ³¨æ„ï¼š</font>ä¸Šé¢çš„è®¾ç½®å·²ç»å¤Ÿæ—¥å¸¸ä½¿ç”¨</p>
<h2 id="å¤„ç†"><a href="#å¤„ç†" class="headerlink" title="å¤„ç†"></a>å¤„ç†</h2><p><strong>è¯»</strong></p>
<pre class="line-numbers language-java"><code class="language-java">SharedPreferences sharedPref <span class="token operator">=</span> PreferenceManager<span class="token punctuation">.</span><span class="token function">getDefaultSharedPreferences</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
String syncConnPref <span class="token operator">=</span> sharedPref<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span>SettingsActivity<span class="token punctuation">.</span>KEY_PREF_SYNC_CONN<span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>ç›‘å¬</strong></p>
<ul>
<li>findPreferenceé‡Œé¢çš„å‚æ•°å°±æ˜¯æˆ‘ä»¬ä½¿ç”¨android:keyæ‰€å®šä¹‰</li>
<li>onPreferenceTreeClick Prefs treeç‚¹å‡»æ—¶è°ƒç”¨</li>
</ul>
<p>æ³¨å†Œæ–¹å¼ï¼š</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getPreferenceScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSharedPreferences</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">registerOnSharedPreferenceChangeListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getPreferenceScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSharedPreferences</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">unregisterOnSharedPreferenceChangeListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è®¾ç½®ç›‘å¬æ–¹å¼ï¼š</p>
<pre class="line-numbers language-java"><code class="language-java">SharedPreferences<span class="token punctuation">.</span>OnSharedPreferenceChangeListener listener <span class="token operator">=</span>
    <span class="token keyword">new</span> <span class="token class-name">SharedPreferences<span class="token punctuation">.</span>OnSharedPreferenceChangeListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSharedPreferenceChanged</span><span class="token punctuation">(</span>SharedPreferences prefs<span class="token punctuation">,</span> String key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// listener implementation</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
prefs<span class="token punctuation">.</span><span class="token function">registerOnSharedPreferenceChangeListener</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ä½¿ç”¨å°æ¡ˆä¾‹"><a href="#ä½¿ç”¨å°æ¡ˆä¾‹" class="headerlink" title="ä½¿ç”¨å°æ¡ˆä¾‹"></a>ä½¿ç”¨å°æ¡ˆä¾‹</h2><h3 id="è¿˜åŸåˆå§‹è®¾ç½®"><a href="#è¿˜åŸåˆå§‹è®¾ç½®" class="headerlink" title="è¿˜åŸåˆå§‹è®¾ç½®"></a>è¿˜åŸåˆå§‹è®¾ç½®</h3><pre class="line-numbers language-java"><code class="language-java">PreferenceManager<span class="token punctuation">.</span><span class="token function">setDefaultValues</span><span class="token punctuation">(</span>Context<span class="token punctuation">,</span> R<span class="token punctuation">.</span>xml<span class="token punctuation">.</span>advanced_preferences<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>false ï¼š é¦–æ¬¡è°ƒç”¨ç”Ÿæ•ˆï¼›ï¼ˆtrue æ¯æ¬¡è°ƒç”¨éƒ½ç”Ÿæ•ˆï¼‰</li>
</ul>
<!--
### æŸ¥çœ‹åº”ç”¨æµé‡æ¶ˆè€—ï¼ˆapi> 4.0)
-->


<h1 id="é¢åŒ…åŸææ–™"><a href="#é¢åŒ…åŸææ–™" class="headerlink" title="é¢åŒ…åŸææ–™"></a>é¢åŒ…åŸææ–™</h1><ul>
<li><a href="https://developer.android.com/guide/topics/ui/settings" target="_blank" rel="noopener">Develop Guide Settings</a> ã€ä¸»è¦.ç§‘å­¦ä¸Šç½‘ã€‘</li>
<li><a href="https://www.tinyx.cc/android/android-experience/android-preference.html" target="_blank" rel="noopener">Android Preference è®¾ç½®å…¨æ”»ç•¥</a> å…¶å®çœ‹è¿™ä¸ªä¹Ÿå¯ä»¥</li>
</ul>
<h2 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h2><p>  Caused by: java.lang.IllegalStateException: Must specify preferenceTheme in theme<br>        at android.support.v7.preference.PreferenceFragmentCompat.onCreate(PreferenceFragmentCompat.java:211)</p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¼˜åŒ–Android App</title>
    <url>/2018/08/07/2018-4-14-android-optimization/</url>
    <content><![CDATA[<h3 id="å­¦ä¹ èµ„æº"><a href="#å­¦ä¹ èµ„æº" class="headerlink" title="å­¦ä¹ èµ„æº"></a>å­¦ä¹ èµ„æº</h3><h4 id="åšæ–‡"><a href="#åšæ–‡" class="headerlink" title="åšæ–‡"></a>åšæ–‡</h4><ul>
<li><a href="https://developer.android.com/topic/performance/background-optimization.html" target="_blank" rel="noopener">Background Optimizations</a></li>
<li><a href="http://www.infoq.com/cn/news/2015/11/Facebook-Android#rd" target="_blank" rel="noopener">Facebookæ˜¯å¦‚ä½•æ”¶é›†å…¶Androidåº”ç”¨æ€§èƒ½æ•°æ®çš„</a></li>
<li><a href="http://www.androidperformance.com/archives/" target="_blank" rel="noopener">å®‰å“æ€§èƒ½ä¼˜åŒ–æ”¶é›†ç½‘ç«™</a></li>
</ul>
<p><em>æ€»ç»“æ€§</em></p>
<ul>
<li><a href="http://blog.tingyun.com/web/article/detail/155" target="_blank" rel="noopener">Androidå®¢æˆ·ç«¯æ€§èƒ½ä¼˜åŒ–ï¼ˆé­…æ—èµ„æ·±å·¥ç¨‹å¸ˆæ¯«æ— ä¿ç•™å¥‰çŒ®ï¼‰</a></li>
<li><a href="http://kohlerm.blogspot.com/" target="_blank" rel="noopener">Java Performance blog</a></li>
</ul>
<h3 id="æ€§èƒ½åˆ†æçš„ç½‘ç«™"><a href="#æ€§èƒ½åˆ†æçš„ç½‘ç«™" class="headerlink" title="æ€§èƒ½åˆ†æçš„ç½‘ç«™"></a>æ€§èƒ½åˆ†æçš„ç½‘ç«™</h3><hr>
<ul>
<li><a href="https://nimbledroid.com/" target="_blank" rel="noopener">NimbleDroid</a> ä¸€ä¸ª Android åº”ç”¨æ€§èƒ½åˆ†ææœåŠ¡ç½‘ç«™</li>
<li><a href="https://developers.google.com/speed/pagespeed/insights/" target="_blank" rel="noopener">PageSpeed Insights</a>  èƒ½å¤Ÿæµ‹è¯•ç½‘é¡µåœ¨ç§»åŠ¨è®¾å¤‡å’Œæ¡Œé¢è®¾å¤‡ä¸Šçš„æ€§èƒ½å·¥å…·</li>
<li>APM(Application performance magic) : åº”ç”¨ç¨‹åºæ€§èƒ½ç®¡ç†<blockquote>
<p>2011å¹´æ—¶å›½å¤–çš„APMè¡Œä¸š NewRelic å’Œ APPDynamics å›½å†…ï¼šå¬äº‘ï¼Œ OneAPMï¼Œ åšç¿(bonree) äº‘æ™ºæ…§ï¼Œé˜¿é‡Œç™¾å·ç åŠ›</p>
</blockquote>
</li>
</ul>
<h3 id="é’ˆå¯¹æ€§ä¼˜åŒ–"><a href="#é’ˆå¯¹æ€§ä¼˜åŒ–" class="headerlink" title="é’ˆå¯¹æ€§ä¼˜åŒ–"></a>é’ˆå¯¹æ€§ä¼˜åŒ–</h3><h4 id="å›¾ç‰‡å‹ç¼©Apkä½“ç§¯ç¼©å°"><a href="#å›¾ç‰‡å‹ç¼©Apkä½“ç§¯ç¼©å°" class="headerlink" title="å›¾ç‰‡å‹ç¼©Apkä½“ç§¯ç¼©å°"></a>å›¾ç‰‡å‹ç¼©Apkä½“ç§¯ç¼©å°</h4><ul>
<li><strong><a href="https://github.com/Curzibn/Luban" target="_blank" rel="noopener">Luban</a></strong> å¯èƒ½æ˜¯æœ€æ¥è¿‘å¾®ä¿¡æœ‹å‹åœˆçš„å›¾ç‰‡å‹ç¼©ç®—æ³•</li>
<li><a href="https://developer.android.com/studio/build/shrink-code.html" target="_blank" rel="noopener">Shrink Your Code and Resources</a> ã€å®˜æ–¹æ•™ç¨‹ï¼Œæœªçœ‹ã€‘</li>
<li><a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0909/3433.html" target="_blank" rel="noopener">Androidå¾®ä¿¡ä¸Šçš„SVG</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzI1NjEwMTM4OA==&amp;mid=2651232233&amp;idx=1&amp;sn=03d9858ac451f2768b804d2604a8e12e" target="_blank" rel="noopener">PNGå›¾ç‰‡å‹ç¼©å¯¹æ¯”åˆ†æ</a></li>
<li><a href="https://blog.csdn.net/wetest_tencent/article/details/53819526" target="_blank" rel="noopener">é€šè¿‡ä¸‰æ¬¡ä¼˜åŒ–ï¼Œæˆ‘å°†gifåŠ è½½ä¼˜åŒ–äº†16.9%</a></li>
<li><a href="http://jeroenmols.com/blog/2016/05/06/methodcount/" target="_blank" rel="noopener">EFFICIENTLY REDUCING YOUR METHOD COUNT</a></li>
<li><a href="http://www.jayfeng.com/2015/12/29/APK%E7%98%A6%E8%BA%AB%E5%AE%9E%E8%B7%B5/" target="_blank" rel="noopener">APKç˜¦èº«å®è·µ</a></li>
<li><a href="http://blog.nimbledroid.com/2016/04/20/pushing-limits-of-app-startup-time-zh.html" target="_blank" rel="noopener">çªç ´Appå¯åŠ¨æ—¶é—´çš„æé™</a></li>
<li><a href="https://github.com/shenjiajun53/TinyPic" target="_blank" rel="noopener">an Intelij Plugin for image compress using TinyPNG API </a> Android å›¾ç‰‡å‹ç¼©å·¥å…·</li>
</ul>
<h4 id="ç½‘ç»œä¼˜åŒ–"><a href="#ç½‘ç»œä¼˜åŒ–" class="headerlink" title="ç½‘ç»œä¼˜åŒ–"></a>ç½‘ç»œä¼˜åŒ–</h4><ul>
<li><a href="https://hackernoon.com/so-you-want-to-develop-for-the-next-billion-9eb072c26bc8#.jxaa6u3om" target="_blank" rel="noopener">Offline App Archit ecture: how to build for the next billion</a></li>
<li><a href="https://www.youtube.com/playlist?list=PLWz5rJ2EKKc-VJS9WQlj9xM_ygPopZ-Qd" target="_blank" rel="noopener">DevBytes: Efficient Data Transfers â€” YouTube Google Engineer Serials tutorial</a></li>
<li><a href="https://developer.android.com/training/efficient-downloads/efficient-network-access.html#RadioStateMachine" target="_blank" rel="noopener">ORG Optimizing Downloads for Efficient Network Access</a></li>
<li><a href="http://tech.meituan.com/SharkSDK.html" target="_blank" rel="noopener">ç¾å›¢ç‚¹è¯„ç§»åŠ¨ç½‘ç»œä¼˜åŒ–å®è·µ</a></li>
</ul>
<h4 id="å†…å­˜ä¼˜åŒ–"><a href="#å†…å­˜ä¼˜åŒ–" class="headerlink" title="å†…å­˜ä¼˜åŒ–"></a>å†…å­˜ä¼˜åŒ–</h4><ul>
<li><a href="http://android.jobbole.com/82248/" target="_blank" rel="noopener">Androidå†…å­˜ä¼˜åŒ–æ‚è°ˆ </a></li>
<li><a href="http://mp.weixin.qq.com/s/2MsEAR9pQfMr1Sfs7cPdWQ" target="_blank" rel="noopener">Android å†…å­˜ä¼˜åŒ–æ€»ç»“&amp;å®è·µ</a></li>
</ul>
<h4 id="é€Ÿåº¦ä¼˜åŒ–"><a href="#é€Ÿåº¦ä¼˜åŒ–" class="headerlink" title="é€Ÿåº¦ä¼˜åŒ–"></a>é€Ÿåº¦ä¼˜åŒ–</h4><ul>
<li><a href="http://iceanson.github.io/Android%E5%90%AF%E5%8A%A8%E9%80%9F%E5%BA%A6-%E6%80%BB%E4%BC%9A%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%8D%E7%97%9B%E4%B8%8D%E7%97%92%E7%9A%84%E5%9D%8E" target="_blank" rel="noopener">Androidå¯åŠ¨é€Ÿåº¦ä¼˜åŒ–</a> everbook has backup, <strong>Application.registerActivityLifecycleCallbacksçš„è¿ç”¨</strong></li>
<li><a href="http://android.jobbole.com/81944/" target="_blank" rel="noopener">ç»™ App æé€Ÿï¼šAndroid æ€§èƒ½ä¼˜åŒ–æ€»ç»“</a></li>
</ul>
<h3 id="ä¼˜åŒ–å®è·µ"><a href="#ä¼˜åŒ–å®è·µ" class="headerlink" title="ä¼˜åŒ–å®è·µ"></a>ä¼˜åŒ–å®è·µ</h3><hr>
<h4 id="å†…å­˜æ³„æ¼"><a href="#å†…å­˜æ³„æ¼" class="headerlink" title="å†…å­˜æ³„æ¼"></a>å†…å­˜æ³„æ¼</h4><ul>
<li><strong>Memory Analyzerï¼ˆMATï¼‰</strong> Tool<ul>
<li>Leak Suspectsï¼šå†…å­˜æ³„éœ²æŠ¥å‘Š</li>
<li>Top Componentsï¼šåƒè´§æŠ¥å‘Š</li>
<li>Histogramï¼šæ¯ä¸ªClasså ç”¨å†…å­˜</li>
<li>Dominator Treeï¼šåˆ—å‡ºå“ªäº›å¯¹è±¡å ç”¨å†…å­˜æœ€å¤šä»¥åŠè°holdä½è¿™äº›å¯¹è±¡</li>
<li>OQL  (Ctrl + F5 run)  <code>select * from instanceof android.app.Activity</code></li>
</ul>
</li>
</ul>
<p>** Mat tutorial: **<br>1ï¼‰ <strong><a href="http://www.blogjava.net/rosen/archive/2010/05/21/321575.html" target="_blank" rel="noopener">ä½¿ç”¨Memory Analyzer tool(MAT)åˆ†æå†…å­˜æ³„æ¼</a></strong><br>2ï¼‰ <strong>Video youtube <a href="http://www.youtube.com/watch?v=_CruQY55HOk" target="_blank" rel="noopener">Google I/O 2011: Memory management for Android Apps</a></strong><br>3ï¼‰<a href="http://www.lightskystreet.com/2015/09/01/mat_usage/" target="_blank" rel="noopener"> MAT - Memory Analyzer Tool ä½¿ç”¨è¿›é˜¶</a><br>4ï¼‰  <strong><a href="http://androidperformance.com/2015/04/11/AndroidMemory-Open-Bitmap-Object-In-MAT/" target="_blank" rel="noopener">ä»MATæ•°æ®ä¸­è¿˜åŸBitmapåŸå›¾</a></strong><br><strong>Docuemnt</strong></p>
<p>1) <strong>eclipse.org document <a href="http://wiki.eclipse.org/index.php/MemoryAnalyzer" target="_blank" rel="noopener">MemoryAnalyzer</a></strong><br>2) <strong>developer.android <a href="http://developer.android.com/tools/debugging/debugging-memory.html#HeapDump" target="_blank" rel="noopener">investigating your RAM usage</a></strong><br><strong>Blog</strong></p>
<ul>
<li>adb ä½¿ç”¨<ul>
<li>æ£€æŸ¥åº”ç”¨é€€å‡ºå<code>Activities/Views</code> æ˜¯å¦ä¸ºé›¶;<br>adb shell dumpsys meminfo [åº”ç”¨åŒ…å]</li>
<li>å¤šæ¬¡è¿›å…¥é€€å‡ºåçš„å ç”¨å†…å­˜<code>TOTAL</code>ä¸åº”å˜åŒ–å¤ªå¤§ï¼›</li>
</ul>
</li>
<li>onTrimMemoryå›è°ƒ<ul>
<li>å“åº”æ­¤å›è°ƒé‡Šæ”¾éå¿…é¡»å†…å­˜ï¼›</li>
<li>éªŒè¯<br>adb shell dumpsys gfxinfo ã€åº”ç”¨åŒ…åã€‘-cmd trim 5<br>adb shell dumpsys meminfo ã€åº”ç”¨åŒ…åã€‘æŸ¥çœ‹å†…å­˜å¤§å°</li>
</ul>
</li>
</ul>
<h4 id="UIå¡é¡¿å’Œç¨³å®šæ€§"><a href="#UIå¡é¡¿å’Œç¨³å®šæ€§" class="headerlink" title="UIå¡é¡¿å’Œç¨³å®šæ€§"></a>UIå¡é¡¿å’Œç¨³å®šæ€§</h4><ol>
<li>å·¥ä½œçº¿ç¨‹ä¼˜å…ˆçº§è®¾ç½®ä¸ºProcess.THREAD_PRIORITY_BACKGROUND</li>
</ol>
<p><strong>å¡é¡¿å¸¸è§åŸå› </strong><br>1ï¼‰äººä¸ºåœ¨UIçº¿ç¨‹ä¸­åšè½»å¾®è€—æ—¶æ“ä½œï¼Œå¯¼è‡´UIçº¿ç¨‹å¡é¡¿ï¼›<br>2ï¼‰ å¸ƒå±€Layoutè¿‡äºå¤æ‚ï¼Œæ— æ³•åœ¨16mså†…å®Œæˆæ¸²æŸ“ï¼›<br>3ï¼‰åŒä¸€æ—¶é—´åŠ¨ç”»æ‰§è¡Œçš„æ¬¡æ•°è¿‡å¤šï¼Œå¯¼è‡´CPUæˆ–GPUè´Ÿè½½è¿‡é‡ï¼›<br>4ï¼‰ Viewè¿‡åº¦ç»˜åˆ¶ï¼Œå¯¼è‡´æŸäº›åƒç´ åœ¨åŒä¸€å¸§æ—¶é—´å†…è¢«ç»˜åˆ¶å¤šæ¬¡ï¼Œä»è€Œä½¿CPUæˆ–GPUè´Ÿè½½è¿‡é‡ï¼›<br>5ï¼‰ Viewé¢‘ç¹çš„è§¦å‘measureã€layoutï¼Œå¯¼è‡´measureã€layoutç´¯è®¡è€—æ—¶è¿‡å¤šåŠæ•´ä¸ªViewé¢‘ç¹çš„é‡æ–°æ¸²æŸ“ï¼›<br>6ï¼‰å†…å­˜é¢‘ç¹è§¦å‘GCè¿‡å¤šï¼ˆåŒä¸€å¸§ä¸­é¢‘ç¹åˆ›å»ºå†…å­˜ï¼‰ï¼Œå¯¼è‡´æš‚æ—¶é˜»å¡æ¸²æŸ“æ“ä½œï¼›<br>7ï¼‰ å†—ä½™èµ„æºåŠé€»è¾‘ç­‰å¯¼è‡´åŠ è½½å’Œæ‰§è¡Œç¼“æ…¢ï¼›<br>8ï¼‰å·¥ä½œçº¿ç¨‹ä¼˜å…ˆçº§æœªè®¾ç½®ä¸º<br>Process.THREAD_PRIORITY_BACKGROUND<br>å¯¼è‡´åå°çº¿ç¨‹æŠ¢å UIçº¿ç¨‹cpuæ—¶é—´ç‰‡ï¼Œé˜»å¡æ¸²æŸ“æ“ä½œï¼›<br>9ï¼‰ ANRï¼›<br><strong>å¡é¡¿åˆ†æè§£å†³çš„ä¸€èˆ¬æ­¥éª¤</strong></p>
<ul>
<li>è§£å†³è¿‡åº¦ç»˜åˆ¶é—®é¢˜<br>1) è°ƒè¯•GPUè¿‡åº¦ç»˜åˆ¶ä¸­æ‰“å¼€è°ƒè¯•ï¼Œçœ‹å¯¹åº”ç•Œé¢æ˜¯å¦æœ‰è¿‡åº¦ç»˜åˆ¶ï¼Œå¦‚æœæœ‰å…ˆè§£å†³æ‰ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/1321512-864b92693c2dc9bb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>2) å®šä½è¿‡æ¸¡ç»˜åˆ¶åŒºåŸŸ<br>3) åˆ©ç”¨Androidæä¾›çš„å·¥å…·è¿›è¡Œä½ç½®ç¡®è®¤ä»¥åŠä¿®æ”¹(HierarchyView , Tracer for OpenGL ES)<br>4) å®šä½åˆ°å…·ä½“çš„è§†å›¾(xmlæ–‡ä»¶æˆ–è€…View)<br>5) é€šè¿‡ä»£ç å’Œxmlæ–‡ä»¶åˆ†æè¿‡æ¸¡ç»˜åˆ¶çš„åŸå› <br>6) ç»“åˆå…·ä½“æƒ…å†µè¿›è¡Œä¼˜åŒ–<br>7) ä½¿ç”¨Lintå·¥å…·è¿›ä¸€æ­¥ä¼˜åŒ–</li>
<li>æ£€æŸ¥æ˜¯å¦æœ‰ä¸»çº¿ç¨‹åšäº†è€—æ—¶æ“ä½œï¼š<br>1) Application å¼€å¯ StrictMode;<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>DEVELOPER_MODE<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    StrictMode<span class="token punctuation">.</span><span class="token function">setThreadPolicy</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StrictMode<span class="token punctuation">.</span>ThreadPolicy<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token punctuation">.</span><span class="token function">detectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">penaltyLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   StrictMode<span class="token punctuation">.</span><span class="token function">setVmPolicy</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StrictMode<span class="token punctuation">.</span>VmPolicy<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token function">detectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">penaltyLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
   <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>å¦‚æœä¸»çº¿ç¨‹æ— è€—æ—¶æ“ä½œï¼Œè¿˜å­˜åœ¨å¡é¡¿ï¼Œæœ‰å¾ˆå¤§å¯èƒ½æ˜¯å¿…é¡»åœ¨UIçº¿ç¨‹æ“ä½œçš„ä¸€äº›é€»è¾‘æœ‰é—®é¢˜ï¼Œæ¯”å¦‚æ§ä»¶measureã€layoutè€—æ—¶è¿‡å¤šç­‰ï¼Œæ­¤æ—¶å¯é€šè¿‡Traceviewä»¥åŠsystraceæ¥è¿›è¡Œåˆ†æã€‚</li>
<li>Traceviewï¼šTraceviewä¸»è¦ç”¨åšçƒ­ç‚¹åˆ†æï¼Œæ‰¾å‡ºæœ€éœ€è¦ä¼˜åŒ–çš„ç‚¹ã€‚<br><img src="http://upload-images.jianshu.io/upload_images/1321512-026a3d898789674e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å›¾ä¸­å±•ç¤ºäº†TraceæœŸé—´å„æ–¹æ³•è°ƒç”¨å…³ç³»ï¼Œè°ƒç”¨æ¬¡æ•°ä»¥åŠè€—æ—¶æ¯”ä¾‹"></li>
<li>systraceï¼šæŠ“å–traceï¼š</li>
<li>ä½¿ç”¨hugoæ‰“å°æ–¹æ³•è°ƒç”¨çš„æ—¶é•¿åŠå‚æ•°</li>
</ul>
<h4 id="Method-Tracing-ä¼˜åŒ–å¯åŠ¨æ—¶é—´"><a href="#Method-Tracing-ä¼˜åŒ–å¯åŠ¨æ—¶é—´" class="headerlink" title="Method Tracing ä¼˜åŒ–å¯åŠ¨æ—¶é—´"></a>Method Tracing ä¼˜åŒ–å¯åŠ¨æ—¶é—´</h4><p>å®˜ç½‘ï¼š<a href="https://developer.android.com/studio/profile/generate-trace-logs" target="_blank" rel="noopener">Generate trace logs by instrumenting your app</a><br>Java ä»£ç <code>android.os.Debug.startMethodTracing() å’Œ stopMethodTracing()</code> </p>
<pre><code># å¯åŠ¨HomePageActivityå¹¶æ¯1sè·Ÿè¸ªæ–¹æ³•è°ƒç”¨
adb shell am start -n com.runan.countprisoner/.view.activity.HomePageActivity --start-profiler /data/local/tmp/startup.trace --sampling 1000
 ç»ˆæ­¢è·Ÿè¸ª
adb shell am profile stop
# æ‹‰å– .trace æ–‡ä»¶åˆ°æœ¬æœºå½“å‰ç›®å½•
adb pull /data/local/tmp/startup.trace .</code></pre><p><font color="#D92524">Android Studio -&gt; File -&gt; open  ç›´æ¥æ‰“å¼€*.trace</font></p>
<h4 id="Glide-Gif-æ€§èƒ½ä¼˜åŒ–"><a href="#Glide-Gif-æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="Glide Gif æ€§èƒ½ä¼˜åŒ–"></a>Glide Gif æ€§èƒ½ä¼˜åŒ–</h4><ul>
<li><a href="https://blog.csdn.net/haunghui6579/article/details/49968087" target="_blank" rel="noopener">ç¼–è¯‘ä½¿ç”¨Androidæºç ä¸­çš„GIFå›¾ç‰‡å·¥å…·åŒ…â€“framesequence</a></li>
</ul>
<h3 id="å®˜æ–¹å·¥å…·"><a href="#å®˜æ–¹å·¥å…·" class="headerlink" title="å®˜æ–¹å·¥å…·"></a>å®˜æ–¹å·¥å…·</h3><hr>
<p><a href="https://developer.android.com/tools/help/android-monitor.html" target="_blank" rel="noopener">Android Monitor</a></p>
<ul>
<li><a href="https://developer.android.com/studio/profile/am-allocation.html" target="_blank" rel="noopener">Allocation Tracker </a><br><img src="http://upload-images.jianshu.io/upload_images/1321512-992fa860f964ffd3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br><img src="http://upload-images.jianshu.io/upload_images/1321512-6caeed1cf8c9e2d0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
</ul>
<p><strong>Device Monitor</strong><br><img src="http://upload-images.jianshu.io/upload_images/1321512-1bd95fbdccf2f836.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><strong>Viewing Overall Memory Allocations</strong> å‚è€ƒ <a href="https://developer.android.com/studio/profile/investigate-ram.html" target="_blank" rel="noopener">Investigating Your RAM Usage</a></p>
<ul>
<li>adb shell dumpsys meminfo &lt;package_name|pid&gt; [-d] ã€éš¾ç‚¹ã€‘ å¯¹meminfo çš„è§£è¯»</li>
<li>Dalvik/ART Log Messages ã€éš¾ç‚¹ã€‘è§£è¯»</li>
</ul>
<p><a href="https://developer.android.com/training/testing/performance.html" target="_blank" rel="noopener"><strong>Testing Display Performance</strong></a>  ååˆ†è¯¦ç»†çš„å…³äºæ˜¾ç¤ºä¼˜åŒ–çš„ä»‹ç»ã€‚</p>
<h3 id="ç¬¬ä¸‰æ–¹å·¥å…·"><a href="#ç¬¬ä¸‰æ–¹å·¥å…·" class="headerlink" title="ç¬¬ä¸‰æ–¹å·¥å…·"></a>ç¬¬ä¸‰æ–¹å·¥å…·</h3><hr>
<ul>
<li>ç”±è…¾è®¯å‡ºå“çš„<a href="http://gt.qq.com/index.html" target="_blank" rel="noopener">GTï¼ˆéšèº«è°ƒï¼‰</a>ï¼Œç›´æ¥è¿è¡Œåœ¨æ‰‹æœºä¸Šçš„â€œé›†æˆè°ƒæµ‹ç¯å¢ƒâ€(IDTE, Integrated Debug Environment)ï¼Œæ”¯æŒiOSå’ŒAndroidä¸¤ä¸ªæ‰‹æœºå¹³å°,ä¸»è¦åŠŸèƒ½å¯å¯¹APPè¿›è¡Œå¿«é€Ÿçš„æ€§èƒ½æµ‹è¯•(CPUã€å†…å­˜ã€æµé‡ã€ç”µé‡ã€å¸§ç‡/æµç•…åº¦ç­‰ç­‰)ã€å¼€å‘æ—¥å¿—çš„æŸ¥çœ‹ã€Crashæ—¥å¿—æŸ¥çœ‹ã€ç½‘ç»œæ•°æ®åŒ…çš„æŠ“å–ã€APPå†…éƒ¨å‚æ•°çš„è°ƒè¯•ã€çœŸæœºä»£ç è€—æ—¶ç»Ÿè®¡ç­‰ã€‚è¿˜æé«˜åŸºç¡€APIè¿›è¡Œå¼€å‘ã€‚</li>
<li><strong><a href="https://github.com/square/leakcanary" target="_blank" rel="noopener">LeakCanary</a></strong><br><img src="http://upload-images.jianshu.io/upload_images/1321512-8337dba05e25e9d1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="LeakCanary"></li>
<li><a href="http://www.yourkit.com/" target="_blank" rel="noopener">yourkit</a>   Java Profiler, and square/leakcanary recommend to use memory leak analyzer like mat </li>
<li><a href="https://google.github.io/flatbuffers/" target="_blank" rel="noopener">FlatBuffers</a>ï¼šæ€§èƒ½æœ€é«˜çš„åºåˆ—åŒ–åº“ï¼Œç”± Google æ¸¸æˆå¼€å‘å°ç»„ä¸“ä¸ºæ€§èƒ½è€Œè®¾è®¡</li>
<li><a href="http://developer.android.com/intl/zh-cn/reference/android/os/Parcelable.html" target="_blank" rel="noopener">Parcelable</a> APIï¼šAndroid è¿›ç¨‹é—´ä¼ é€’æ•°æ®ï¼Œæ€§èƒ½è¿œä¼˜äº Java é»˜è®¤åºåˆ—åŒ–æœºåˆ¶</li>
<li><a href="https://github.com/lqcandqq13/BlockCanaryEx" target="_blank" rel="noopener">BlockCanaryEx</a><br><img src="https://github.com/lqcandqq13/BlockCanaryEx/raw/master/sample.png" alt=""></li>
<li><a href="http://www.devtf.cn/?p=1097" target="_blank" rel="noopener">åŠ é€Ÿä½ çš„Androidåº”ç”¨</a></li>
<li><a href="https://github.com/oasisfeng/condom" target="_blank" rel="noopener">ä¿é™©å¥—é¡¹ç›®</a><blockquote>
<p><strong>Note</strong> : ã€ä¿é™©å¥—ã€æ˜¯ä¸€ä¸ªè¶…è½»è¶…è–„çš„Androidå·¥å…·åº“ï¼Œå°†å®ƒå¥—åœ¨Androidåº”ç”¨å·¥ç¨‹é‡Œè£¸éœ²çš„Contextä¸Šï¼Œå†ä¼ å…¥ç¬¬ä¸‰æ–¹SDKï¼ˆé€šå¸¸æ˜¯å…¶åˆå§‹åŒ–æ–¹æ³•ï¼‰ï¼Œå³å¯é˜²æ­¢ä¸‰æ–¹SDKæŸå®³ç”¨æˆ·ä½“éªŒ</p>
</blockquote>
<h3 id="å¸¸ç”¨å°Tips"><a href="#å¸¸ç”¨å°Tips" class="headerlink" title="å¸¸ç”¨å°Tips"></a>å¸¸ç”¨å°Tips</h3></li>
<li><a href="https://developer.android.com/reference/android/util/SparseArray.html" target="_blank" rel="noopener">SparseArray</a> â€”â€”Mapçš„é«˜æ•ˆä¼˜åŒ–ç‰ˆæœ¬ã€‚æ¨èäº†è§£å§å¦¹ç±»SparseBooleanArrayã€SparseIntArrayå’ŒSparseLongArrayã€‚</li>
<li>æŸ¥çœ‹Activityå¯åŠ¨æ—¶é—´<br><code>adb shell am start -W com.niuwa/.activity.HomePageActivity</code></li>
</ul>
<h3 id="å‚è€ƒï¼š"><a href="#å‚è€ƒï¼š" class="headerlink" title="å‚è€ƒï¼š"></a>å‚è€ƒï¼š</h3><ol>
<li><a href="http://blog.tingyun.com/web/article/detail/155" target="_blank" rel="noopener">http://blog.tingyun.com/web/article/detail/155</a></li>
<li><a href="https://mp.weixin.qq.com/s/APhUH7MBDUZ6tQv0xDgaWQ?utm_source=androidweekly.io&amp;utm_medium=website" target="_blank" rel="noopener">Android P ç”µé‡ç®¡ç†</a></li>
<li><a href="https://developer.android.google.cn/topic/performance/vitals/" target="_blank" rel="noopener">Android vitals</a></li>
</ol>
]]></content>
      <categories>
        <category>coder</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>è¿œç¨‹æ§åˆ¶ç¬”è®°æ•´ç†</title>
    <url>/2018/08/07/2018-8-7-remote-control/</url>
    <content><![CDATA[<h3 id="è§†é¢‘æµæ’­æ”¾ç›¸å…³"><a href="#è§†é¢‘æµæ’­æ”¾ç›¸å…³" class="headerlink" title="è§†é¢‘æµæ’­æ”¾ç›¸å…³"></a>è§†é¢‘æµæ’­æ”¾ç›¸å…³</h3><h4 id="ç›¸å…³å¼€æºåº“"><a href="#ç›¸å…³å¼€æºåº“" class="headerlink" title="ç›¸å…³å¼€æºåº“"></a>ç›¸å…³å¼€æºåº“</h4><ul>
<li><strong><a href="https://github.com/FFmpeg/FFmpeg" target="_blank" rel="noopener">FFmpeg</a></strong></li>
<li><a href="https://github.com/fyhertz/libstreaming" target="_blank" rel="noopener">Libstreaming</a> A solution for streaming H.264, H.263, AMR, AAC using RTP on Android</li>
<li><strong><a href="https://github.com/omerjerk/RemoteDroid" target="_blank" rel="noopener">RemoteDroid</a></strong> èƒ½è¿è¡Œä½†æ˜¯é“¾æ¥å¤±è´¥</li>
<li><strong><a href="https://github.com/Teaonly/android-eye" target="_blank" rel="noopener">android-eye</a></strong></li>
<li><strong><a href="https://github.com/jaroslavas/Gstreamer-Android-example" target="_blank" rel="noopener">Gstreamer-Android-example</a></strong></li>
<li><strong><a href="https://github.com/EasyDarwin/EasyDarwin" target="_blank" rel="noopener">EasyDarwin</a></strong>  é«˜æ€§èƒ½å¼€æºæµåª’ä½“æœåŠ¡å™¨ï¼Œæ”¯æŒRTSPã€HLSã€HTTPç›´æ’­  â€”â€”â€”â€”â€“ <a href="http://www.easydarwin.org/" target="_blank" rel="noopener">å®˜ç½‘</a></li>
<li><strong><a href="https://github.com/fyhertz/spydroid-ipcamera" target="_blank" rel="noopener">spydroid-ipcamera</a></strong> A powerful and funny android app. that streams the camera and microphone of your phone to your browser or to VLC</li>
<li><strong><a href="https://github.com/fyhertz/libstreaming" target="_blank" rel="noopener">libstreaming</a></strong></li>
<li><strong><a href="https://github.com/fyhertz/libstreaming-examples" target="_blank" rel="noopener">libstreaming-examples</a></strong></li>
</ul>
<p><em>Google</em>å¼€æºæ’­æ”¾å™¨</p>
<ul>
<li><a href="http://google.github.io/ExoPlayer/" target="_blank" rel="noopener">ExoPlayer</a></li>
</ul>
<h4 id="æ•™ç¨‹"><a href="#æ•™ç¨‹" class="headerlink" title="æ•™ç¨‹"></a>æ•™ç¨‹</h4><ul>
<li><a href="http://blog.csdn.net/leixiaohua1020/article/details/47056365" target="_blank" rel="noopener">æœ€ç®€å•çš„åŸºäºFFmpegçš„ç§»åŠ¨ç«¯ä¾‹å­ï¼šAndroid è§†é¢‘è½¬ç å™¨</a></li>
<li><a href="http://blog.csdn.net/jwzhangjie/article/details/9046427" target="_blank" rel="noopener">Androidæœ¬åœ°è§†é¢‘æ’­æ”¾å™¨å¼€å‘â€“ffmpegè§£ç è§†é¢‘æ–‡ä»¶ä¸­çš„éŸ³é¢‘(1)</a></li>
<li><a href="http://blog.csdn.net/jimzhai/article/details/7853005" target="_blank" rel="noopener">java è°ƒç”¨ ffmpeg è¿›è¡Œè§†é¢‘è½¬æ¢ä»¥åŠæˆªå›¾</a></li>
<li><a href="http://www.oschina.net/code/snippet_105637_22309" target="_blank" rel="noopener">FFmpeg æŠ½å–è§†é¢‘ä¸­çš„ä¸€æ®µ(è§†é¢‘è½¬æ¢)</a> </li>
<li><a href="http://blog.csdn.net/leixiaohua1020/article/details/15811977" target="_blank" rel="noopener">[æ€»ç»“]FFMPEGè§†éŸ³é¢‘ç¼–è§£ç é›¶åŸºç¡€å­¦ä¹ æ–¹æ³•</a>  é‡ç‚¹</li>
<li><a href="http://docs.gstreamer.com/display/GstSDK/Tutorials" target="_blank" rel="noopener">GStreamer SDK Tutorials</a></li>
<li><a href="http://blog.csdn.net/xiejiashu/article/details/34860575" target="_blank" rel="noopener">æ‰‹æœºAndroidéŸ³è§†é¢‘é‡‡é›†ä¸ç›´æ’­æ¨é€ï¼Œå®ç°å•å…µã€ç§»åŠ¨ç›‘æ§ç±»åº”ç”¨</a></li>
</ul>
<h4 id="å®è·µç¬”è®°ç§¯ç´¯"><a href="#å®è·µç¬”è®°ç§¯ç´¯" class="headerlink" title="å®è·µç¬”è®°ç§¯ç´¯"></a>å®è·µç¬”è®°ç§¯ç´¯</h4><p><a href="https://www.wowza.com/forums/content.php?217-How-to-install-and-configure-Wowza-Streaming-Engine#startService" target="_blank" rel="noopener"> Wowza Streaming Engine</a></p>
<pre class="line-numbers language-shell"><code class="language-shell">sudo service WowzaStreamingEngine start
sudo service WowzaStreamingEngineManager start
è®¿é—® http://[wowza-ip-address]:8088/enginemanager
http://localhost:8088/enginemanager/#home/_defaultVHost_<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>è§†é¢‘å‘å¸ƒè´¦å·å’Œå¯†ç ï¼š<br>/usr/local/WowzaStreamingEngine/conf/publish.password</p>
<h3 id="ç½‘ç»œç›¸å…³å­¦ä¹ "><a href="#ç½‘ç»œç›¸å…³å­¦ä¹ " class="headerlink" title="ç½‘ç»œç›¸å…³å­¦ä¹ "></a>ç½‘ç»œç›¸å…³å­¦ä¹ </h3><hr>
<h4 id="Socket-io"><a href="#Socket-io" class="headerlink" title="Socket.io"></a><a href="http://socket.io/" target="_blank" rel="noopener">Socket.io</a></h4><p><em>èµ„æºåˆ—ä¸¾</em></p>
<ul>
<li><a href="http://socket.io/get-started/chat/" target="_blank" rel="noopener">Get Started: Chat application</a> ï¼ˆåŸºäºNode.js htmlï¼‰ç‚’é¸¡ç®€å•çš„ä¾‹å­ï¼Œæ— éœ€ç¼–ç¨‹ç»éªŒ <a href="https://github.com/rauchg/chat-example" target="_blank" rel="noopener">github</a></li>
<li><strong><a href="https://github.com/socketio/socket.io" target="_blank" rel="noopener">github.com/socket.io</a></strong></li>
<li><strong><a href="https://github.com/nkzawa/socket.io-android-chat" target="_blank" rel="noopener">socket.io-android-chat</a></strong></li>
<li><strong><a href="https://github.com/socketio/engine.io-client-java" target="_blank" rel="noopener">engine.io-client-java</a></strong> Engine.IO Client Library for Java  <a href="http://socketio.github.io/engine.io-client-java/apidocs/" target="_blank" rel="noopener">JavaApidocs</a> </li>
<li><strong><a href="https://github.com/socketio/socket.io-redis" target="_blank" rel="noopener">socket.io-redis</a></strong></li>
<li><strong><a href="https://github.com/jitsi/libjitsi" target="_blank" rel="noopener">libjitsi</a></strong>  Advanced Java media library for secure real-time audio/video communication.</li>
</ul>
<h4 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h4><ul>
<li><a href="http://www.h3c.com.cn/MiniSite/Technology_Circle/Net_Reptile/" target="_blank" rel="noopener">ç½‘ç»œå¤§çˆ¬è™«</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2014/02/ssl_tls.html" target="_blank" rel="noopener">SSL/TLSåè®®è¿è¡Œæœºåˆ¶çš„æ¦‚è¿°</a></li>
<li><a href="http://blog.csdn.net/yuzhiyuxia/article/details/7833265" target="_blank" rel="noopener">SOCKETé€šä¿¡ä¸­TCPã€UDPæ•°æ®åŒ…å¤§å°çš„ç¡®å®š</a></li>
<li><a href="http://www.cnblogs.com/maowang1991/archive/2013/04/15/3022955.html" target="_blank" rel="noopener">å…³äºç½‘ç»œç¼–ç¨‹ä¸­MTUã€TCPã€UDPä¼˜åŒ–é…ç½®çš„ä¸€äº›æ€»ç»“</a></li>
</ul>
<p><em>Blog</em></p>
<ul>
<li><a href="http://socket.io/blog/introducing-socket-io-1-0/" target="_blank" rel="noopener">Introducing Socket.IO 1.0</a></li>
<li><a href="http://socket.io/blog/socket-io-p2p/" target="_blank" rel="noopener">socket-io-p2p</a></li>
<li><a href="http://www.hankcs.com/program/network/test-udp-holes-penetrating-nat.html" target="_blank" rel="noopener">è¯•éªŒUDPæ‰“æ´ç©¿é€NAT</a></li>
</ul>
<h4 id="Interactive-Connectivity-Establishment-ICE"><a href="#Interactive-Connectivity-Establishment-ICE" class="headerlink" title="Interactive Connectivity Establishment (ICE)"></a>Interactive Connectivity Establishment (ICE)</h4><ul>
<li><a href="https://code.google.com/archive/p/ice4j/" target="_blank" rel="noopener">ice4j</a>  code .google ice4j èµ„æºäº¤è€</li>
<li><a href="https://github.com/jitsi/ice4j" target="_blank" rel="noopener">https://github.com/jitsi/ice4j</a> æ¯”è¾ƒæ–°çš„èµ„æº</li>
<li><a href="http://bluejimp.com/jitsi/ice4j/javadoc/" target="_blank" rel="noopener">ice4j Javadoc</a></li>
<li><a href="https://tools.ietf.org/pdf/rfc5245.pdf" target="_blank" rel="noopener">rfc5245.pdf</a></li>
<li><strong><a href="https://github.com/RestComm/jain-sip" target="_blank" rel="noopener">jain-sip</a></strong>    jain-sdp è·å–Sdpæºç </li>
<li><strong><a href="https://github.com/RestComm/restcomm-android-sdk" target="_blank" rel="noopener">restcomm-android-sdk</a></strong>   Tutorial <a href="https://telestax.com/jain-sip-stack-for-android/" target="_blank" rel="noopener">https://telestax.com/jain-sip-stack-for-android/</a></li>
</ul>
<p><strong>libnice</strong></p>
<ul>
<li><strong><a href="https://github.com/since2014/libnice-4-android" target="_blank" rel="noopener">libnice-4-android</a></strong></li>
<li><a href="https://nice.freedesktop.org/libnice/index.html" target="_blank" rel="noopener"><strong>Api documentation</strong></a></li>
</ul>
<p>Englis PDF Material</p>
<ul>
<li><a href="https://tools.ietf.org/pdf/rfc4566.pdf" target="_blank" rel="noopener">rfc4566 SDP: Session Description Protocol </a></li>
<li><a href="https://tools.ietf.org/pdf/rfc5928.pdf" target="_blank" rel="noopener"> rfc5928 Traversal Using Relays around NAT (TURN) Resolution Mechanism</a></li>
<li><a href="chrome-extension://ecnphlgnajanjnkcmbpancdjoidceilk/https://tools.ietf.org/pdf/rfc5766.pdf" target="_blank" rel="noopener">rfc5766.pdf Traversal Using Relays around NAT (TURN):Relay Extensions to Session Traversal Utilities for NAT (STUN)</a> </li>
<li><a href="https://tools.ietf.org/pdf/rfc5245.pdf" target="_blank" rel="noopener">rfc5245 Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols</a></li>
</ul>
<h4 id="UDPæ‰“æ´"><a href="#UDPæ‰“æ´" class="headerlink" title="UDPæ‰“æ´"></a>UDPæ‰“æ´</h4><ul>
<li><a href="http://network.51cto.com/art/201505/477962.htm" target="_blank" rel="noopener">QQé€šä¿¡åŸç†åŠQQæ˜¯æ€ä¹ˆç©¿é€å†…ç½‘è¿›è¡Œé€šä¿¡çš„</a></li>
<li><a href="http://down.51cto.com/zt/2073" target="_blank" rel="noopener">P2PæŠ€æœ¯æ­ç§˜-P2Pç½‘ç»œæŠ€æœ¯åŸç†ä¸å…¸å‹ç³»ç»Ÿå¼€å‘ æ•™ç¨‹ä¸‹è½½</a> </li>
<li><a href="https://webrtc.org/reference/getting-started/" target="_blank" rel="noopener">webrtc</a></li>
</ul>
<p><strong>turnserver</strong><br><a href="https://code.google.com/archive/p/rfc5766-turn-server/downloads" target="_blank" rel="noopener">downloads</a><br>Important directory:<br>/usr/local/share/examples/turnserver<br><a href="http://66.228.45.110/" target="_blank" rel="noopener">http://66.228.45.110/</a> å…è´¹ç”³è¯· è´¦å·çš„ç½‘ç«™<br><a href="http://www.webrtcbbs.com/forum.php?mod=viewthread&amp;tid=139&amp;extra=page%3D1" target="_blank" rel="noopener">æ¯”è¾ƒè¯¦ç»†çš„turnserver.confé…ç½®è¯´æ˜</a></p>
<h4 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h4><p><strong>Learning resource</strong></p>
<ul>
<li><a href="http://nodeschool.io/#workshoppers" target="_blank" rel="noopener">http://nodeschool.io/#workshoppers</a></li>
</ul>
<p><strong>openSource</strong></p>
<ul>
<li><strong><a href="https://github.com/madhums/node-express-mongoose-demo" target="_blank" rel="noopener">node-express-mongoose-demo</a></strong></li>
</ul>
<p><strong>Module</strong></p>
<ul>
<li><a href="http://samhuri.net/projects/strftime" target="_blank" rel="noopener">http://samhuri.net/projects/strftime</a></li>
</ul>
<p><strong>Tutorial</strong></p>
<ul>
<li><a href="https://www.airpair.com/javascript/node-js-tutorial" target="_blank" rel="noopener">Node.js Tutorial â€“ Step-by-Step Guide For Getting Started</a></li>
</ul>
<p><strong>Tool</strong></p>
<pre><code>npm install -g node-inspector
# basically `node-debug` instead of `node`
$ node-debug example.js</code></pre><p><a href="https://developers.google.com/web/tools/setup/" target="_blank" rel="noopener">https://developers.google.com/web/tools/setup/</a></p>
<h3 id="æ•°æ®ä¼ è¾“"><a href="#æ•°æ®ä¼ è¾“" class="headerlink" title="æ•°æ®ä¼ è¾“"></a>æ•°æ®ä¼ è¾“</h3><p><strong>æ•°æ®è½¬ç </strong></p>
<ul>
<li>[Convert bitmap array to YUV (YCbCr NV21)](<a href="http://stackoverflow.com/questions/5960247/convert-bitmap--" target="_blank" rel="noopener">http://stackoverflow.com/questions/5960247/convert-bitmap--</a> array-to-yuv-ycbcr-nv21)</li>
<li><a href="http://stackoverflow.com/questions/5368704/appending-a-byte-to-the-end-of-another-byte" target="_blank" rel="noopener">Appending a byte[] to the end of another byte[]</a></li>
<li><a href="http://blog.csdn.net/guojin08/article/details/27555473" target="_blank" rel="noopener">Android ç”¨MediaCodecå®ç°è§†é¢‘ç¡¬è§£ç </a></li>
<li><a href="http://developer.android.com/intl/zh-cn/reference/android/media/MediaCodec.html#createEncoderByType(java.lang.String)" target="_blank" rel="noopener">MediaCodec Api</a></li>
</ul>
<p><strong>æ•°æ®æ ¡éªŒ</strong></p>
<ul>
<li><a href="http://www.tuicool.com/articles/QzEfiy" target="_blank" rel="noopener">ä¼ è¾“æ•°æ®æ ¡éªŒç®—æ³•ç ”ç©¶</a></li>
</ul>
<h3 id="WebRTC"><a href="#WebRTC" class="headerlink" title="WebRTC"></a>WebRTC</h3><ul>
<li><a href="https://tech.appear.in/2015/05/25/Introduction-to-WebRTC-on-Android/" target="_blank" rel="noopener">Introduction to WebRTC on Android</a></li>
<li><a href="http://www.cnblogs.com/lingyunhu/tag/webrtc%20android%20ios/default.html?page=4" target="_blank" rel="noopener">Android IOS WebRTC éŸ³è§†é¢‘å¼€å‘æ€»ç»“åˆ—è¡¨</a></li>
<li><a href="https://webrtc.org/" target="_blank" rel="noopener">https://webrtc.org/</a></li>
<li><a href="http://www.html5rocks.com/en/tutorials/webrtc/basics/#toc-tools" target="_blank" rel="noopener">Getting Started with WebRTC</a></li>
<li><a href="https://webrtc.github.io/samples/" target="_blank" rel="noopener">WebRTC samples</a> æœ‰å„ç§Sampleä»£ç Html/jsæ¼”ç¤ºï¼Œå¹¶æœ‰å¯¹åº”Githubæº ç åœ°å€ï¼Œ æ•´ä¸ªå·¥ç¨‹çš„<a href="https://github.com/webrtc/samples" target="_blank" rel="noopener">samples</a></li>
<li><a href="https://webrtc.org/native-code/native-apis/" target="_blank" rel="noopener">Native APIs Diagram</a></li>
<li><strong><a href="https://github.com/pchab/AndroidRTC" target="_blank" rel="noopener">AndroidRTC</a></strong></li>
</ul>
<p><strong>ç›¸å…³åšæ–‡</strong><br> <a href="http://blog.csdn.net/nonmarking/article/details/47375849" target="_blank" rel="noopener">WebRTC VideoEngineç»¼åˆåº”ç”¨ç¤ºä¾‹ï¼ˆä¸€ï¼‰â€”â€”è§†é¢‘é€šè¯çš„åŸºæœ¬æµç¨‹</a></p>
<h3 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h3><hr>
<p><em>æ§åˆ¶ç›¸å…³</em></p>
<ul>
<li><a href="http://www.race604.com/android-inject-input-event/" target="_blank" rel="noopener">Androidæ¨¡æ‹Ÿäº§ç”Ÿäº‹ä»¶</a> æ¦‚æ‹¬åˆ†æäº†æ¨¡æ‹Ÿäº‹ä»¶çš„ä¸‰ç§æ–¹å¼ï¼Œè€Œä¸”æ–‡ç« æ ¼å¼å¾ˆå–œæ¬¢</li>
<li><a href="http://source.android.com/devices/input/index.html" target="_blank" rel="noopener">Input Technical Information</a> Android Source å…³äºandroid devices input çš„è¯´æ˜ï¼Œååº•å±‚ ï¼›</li>
<li><a href="http://blog.csdn.net/mad1989/article/details/38109689" target="_blank" rel="noopener">getevent/sendeventåŠ input å‘½ä»¤çš„è¯¦è§£</a></li>
</ul>
<p><em>æˆªå±ç›¸å…³</em></p>
<ul>
<li><a href="http://blog.csdn.net/woshinia/article/details/11520403" target="_blank" rel="noopener">Androidä¸­ä½¿ç”¨ä»£ç æˆªå›¾çš„å„ç§æ–¹æ³•æ€»ç»“</a></li>
</ul>
<p><em>è§†é¢‘ç›¸å…³</em></p>
<ul>
<li><a href="http://blog.chinaunix.net/uid-26611383-id-3976154.html" target="_blank" rel="noopener">FFmpegæ·±å…¥åˆ†æä¹‹é›¶-åŸºç¡€</a></li>
<li><a href="http://blog.csdn.net/gobitan/article/details/22750719" target="_blank" rel="noopener">FFmpegçš„Androidå¹³å°ç§»æ¤â€”ç¼–è¯‘ç¯‡</a></li>
<li><a href="http://blog.csdn.net/mer1234567/article/details/7679862" target="_blank" rel="noopener">Androidä¸­å®æ—¶è§†é¢‘ä¼ è¾“(æ‘„åƒå¤´å®æ—¶è§†é¢‘ä¼ è¾“)è§£å†³æ–¹æ¡ˆ&lt;äºŒ&gt;</a></li>
<li><a href="http://blog.csdn.net/xiaoliouc/article/details/8443195" target="_blank" rel="noopener">androidè§†é¢‘å½•åˆ¶ã€å¦ä¸€éƒ¨æ‰‹æœºå®æ—¶è§‚çœ‹æ–¹æ¡ˆ</a> é‡ç‚¹</li>
<li><a href="http://www.cnblogs.com/likwo/p/3513155.html" target="_blank" rel="noopener">androidè§†é¢‘å¤„ç†ç›¸å…³èµ„æ–™</a> é‡ç‚¹</li>
</ul>
<p><em>èµ„æ–™</em><br><a href="http://www.ffmpeg.org/ffmpeg.html" target="_blank" rel="noopener">http://www.ffmpeg.org/ffmpeg.html</a><br><a href="http://rg4.net/ezstreamsvr" target="_blank" rel="noopener">EzStreamSvr</a> ä¸€ä¸ªæµåª’ä½“ä¼ è¾“æœåŠ¡å™¨ç«¯<br><a href="http://gstreamer.freedesktop.org/" target="_blank" rel="noopener">GStreamer</a>  open source multimedia framework</p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¼–ç¨‹ä¸­å¥½ç”¨å·¥å…·</title>
    <url>/2018/08/03/2018-8-3-coder-software/</url>
    <content><![CDATA[<h3 id="è®°å½•"><a href="#è®°å½•" class="headerlink" title="è®°å½•"></a>è®°å½•</h3><ul>
<li><a href="https://github.com/faressoft/terminalizer" target="_blank" rel="noopener">terminalizer å½•åˆ¶ç»ˆç«¯å‘½ä»¤è¡Œå¹¶è½¬åŒ–æˆgif</a>  <img src="https://raw.githubusercontent.com/faressoft/terminalizer/master/img/demo.gif" alt=""></li>
</ul>
<h3 id="ç”»å›¾å·¥å…·"><a href="#ç”»å›¾å·¥å…·" class="headerlink" title="ç”»å›¾å·¥å…·"></a>ç”»å›¾å·¥å…·</h3><ul>
<li><a href="https://whimsical.co/flowcharts/.io" target="_blank" rel="noopener">whimsical UIåšå¾—ä¸€æµçš„æµç¨‹å›¾è½¯ä»¶</a> ã€äº”æ˜Ÿæ¨èã€‘</li>
</ul>
<h3 id="ä½ç½®å·¥å…·"><a href="#ä½ç½®å·¥å…·" class="headerlink" title="ä½ç½®å·¥å…·"></a>ä½ç½®å·¥å…·</h3><ul>
<li><a href="http://api.map.baidu.com/lbsapi/getpoint/index.html" target="_blank" rel="noopener">ç™¾åº¦åœ°å€è½¬ç»çº¬åº¦</a></li>
</ul>
]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>tool</tag>
      </tags>
  </entry>
  <entry>
    <title>å¥‡è‘©è¯´å¨±ä¹ç¬”è®°</title>
    <url>/2018/04/20/2018-4-20-entertainment-fancy-talk/</url>
    <content><![CDATA[<h2 id="å¥‡è‘©è¯´ç¬¬4å­£"><a href="#å¥‡è‘©è¯´ç¬¬4å­£" class="headerlink" title="å¥‡è‘©è¯´ç¬¬4å­£"></a>å¥‡è‘©è¯´ç¬¬4å­£</h2><h3 id="åˆ†æ‰‹è¦ä¸è¦å½“é¢è¯´-20170414"><a href="#åˆ†æ‰‹è¦ä¸è¦å½“é¢è¯´-20170414" class="headerlink" title="åˆ†æ‰‹è¦ä¸è¦å½“é¢è¯´ 20170414"></a>åˆ†æ‰‹è¦ä¸è¦å½“é¢è¯´ 20170414</h3><h4 id="åˆ˜ç™½"><a href="#åˆ˜ç™½" class="headerlink" title="åˆ˜ç™½"></a>åˆ˜ç™½</h4><h4 id="èŒƒç”œç”œ"><a href="#èŒƒç”œç”œ" class="headerlink" title="èŒƒç”œç”œ"></a>èŒƒç”œç”œ</h4><ul>
<li>ä»–æå‡ºä¸å…¬å¹³ï¼Œæœ€çˆ±çš„äººå¦å®šä¼¤å¾—æœ€æ·±ï¼›</li>
</ul>
<h4 id="æ°¸å¼€"><a href="#æ°¸å¼€" class="headerlink" title="æ°¸å¼€"></a>æ°¸å¼€</h4><ul>
<li>åˆ†æ‰‹çš„ç†ç”±éƒ½æ˜¯ä¸å¯¹</li>
<li>æŠŠçˆ±çœ‹å¤ªé‡<blockquote>
<p>æŠŠçˆ±æƒ…å½“æˆå©šå§»ä¸€æ ·æ²‰é‡ï¼Œè½»æ¾çš„å¼€å§‹è½»æ¾çš„ç»“æŸï¼ŒæŠŠæ„Ÿæƒ…çœ‹å¾—å¤ªé‡è€Œä¸ä¼šäº«å—æ„Ÿæƒ…<br>â€”â€“ åé©³å—ä¼—æ˜¯æŠŠåˆ†æ‰‹çœ‹ç‰¹å¾ˆé‡çš„äººç¾¤ï¼ˆè¿™æ ·è¿™ä¸ªè¾©é¢˜æ‰æœ‰æ„ä¹‰ï¼‰</p>
</blockquote>
</li>
</ul>
<h4 id="èµµå¤§æƒ…"><a href="#èµµå¤§æƒ…" class="headerlink" title="èµµå¤§æƒ…"></a>èµµå¤§æƒ…</h4><ul>
<li>çƒ­æ‹ç—›ç¦»<blockquote>
<p>çˆ±æƒ…è§‚ï¼Œçƒ­çƒˆçœŸè¯šè€Œä¸”æ·±åˆ»â€“æ‹çˆ±çš„ä»£ä»·â€“æ›´åŠ çè´µ<br>åˆ†æ‰‹çš„ç—›ç›¸å¯¹äºè§é¢çš„å¿ƒåŠ¨ï¼Œå¾®ä¿¡çš„åˆ†æ‰‹ä¸é…æˆ‘çš„çˆ±æƒ…</p>
</blockquote>
</li>
</ul>
<h4 id="é‚±æ™¨"><a href="#é‚±æ™¨" class="headerlink" title="é‚±æ™¨"></a>é‚±æ™¨</h4><ul>
<li>åˆ†æ‰‹å¥½å¥½è¯´è¯ï¼›ä¸è¦å¢åŠ åˆ†æ‰‹æˆæœ¬<br>æåˆ†æ‰‹çºªå¿µæ—¥çƒ§çº¸ï¼Œå¯¹æ–¹è¦åˆ†æ‰‹å¢åŠ æˆæœ¬è¿™æ ·ä½ å°±ä¸æ•¢åˆ†æ‰‹äº†<br>åˆ†æ‰‹å‘ç”Ÿçš„æƒ…æ™¯ çœŸå®çš„åˆ†æ‰‹çš„æƒ…å†µï¼Œåˆ‡æ–­ä¿¡å·ï¼Œä½ ä»¬æƒ³è±¡çš„æ˜¯ç››å¤§é—­å¹•å¼çš„çƒŸèŠ±è¡¨æ¼”ï¼Œ<code>åˆ†æ‰‹æ˜¯æ‰€æœ‰çš„çƒŸèŠ±æ•£å»ä¹‹è¿‡åï¼Œæ— å°½çš„ç©ºæ´å’Œå†·æ¼ </code><br>æˆ‘ä»¬è¦åˆ†æ‰‹å°±æ˜¯æˆ‘ä»¬æ²¡æœ‰åŠæ³•ä»çˆ±æƒ…è¿™æ‰€å­¦æ ¡æ¯•ä¸šäº†ï¼Œç°åœ¨ä½ è¦æ±‚æˆ‘ä»¬è¦è¿›è¡Œä¸€åœºé€€å­¦è€ƒè¯•ï¼Œç”šè‡³æ˜¯é€€å­¦é¢è¯•ï¼Œä¸ºä»€ä¹ˆï¼Œ<code>ä½†å‡¡æˆ‘ä»¬æœ‰ä¸€ä¸ä¸€æ¯«çš„å‹‡æ°”æˆ‘ä»¬èƒ½ä¸èƒ½ç”¨æ¥åœ¨ä¸€èµ·ï¼Œè€Œä¸æ˜¯ç”¨æ¥åˆ†å¼€ä¸Š</code></li>
</ul>
<h4 id="é©¬å¾®å¾®"><a href="#é©¬å¾®å¾®" class="headerlink" title="é©¬å¾®å¾®"></a>é©¬å¾®å¾®</h4><ul>
<li>é€ƒè¿‡ç”Ÿç¦»ï¼Œé€ƒä¸è¿‡æ­»ç¦»ï¼Œéœ€ç›´é¢ç”Ÿæ´»<br>æ¸£å­—è¢«ä½ ä¸€å†™å˜ç‹‚è‰äº†ï¼Œä¹¦æ³•è‰ºæœ¯å®¶å‘€ï¼Œå¿½æ‚ äººå¿½æ‚ å¾—è¿™ä¹ˆæ·±æƒ…æ¬¾æ¬¾ï¼Œè®©æˆ‘è§‰å¾—æ²¡æœ‰è¢«ä½ ç”©ä¸€æ¬¡æ˜¯æˆ‘äººç”Ÿçš„å¤§ä¸å¹¸å‘€<br>æˆå¹´äººçš„å†³å®š äººç”Ÿå¿…ä¿®çš„ä¸€å ‚è¯¾ï¼Œå«åšå½“é¢åˆ†æ‰‹ï¼Œæ•™ä¼šäº†æˆ‘ä»¬ä»€ä¹ˆï¼Œæ•™ä¼šæˆ‘ä»¬å­¦ä¼šé¢å¯¹ï¼Œå¦ç„¶é¢å¯¹ï¼Œé¢å¯¹æˆ‘ä»¬çš„å¤±è´¥ï¼Œé¢å¯¹æˆ‘ä»¬çš„ä¸å ª<br>é€ƒé¿ æ¯æ¬¡é€ƒèµ°ç•™ä¸‹çš„çƒ‚æ‘Šå­ï¼Œæœ€åéƒ½ä¼šæˆä¸ºä½ äººç”Ÿä¸­æ— æ³•æ”¶æ‹¾çš„çƒ‚å°¾æ¥¼å—ï¼Ÿ æˆå¹´äººçš„å†³å®šï¼Œæƒ³è±¡è¶…äººæƒ³è±¡ç‰¹å·¥æ˜¯ä¸€ç§é€ƒé¿<br>é€ƒä¸è¿‡ ä½†æ˜¯äººç”Ÿæ€»æœ‰é€ƒä¸è¿‡çš„æ—¶å€™ï¼Œä½“ä½“é¢é¢çš„åˆ†æ‰‹ä»æ­¤åœ¨æ²¡æœ‰ç›¸è§,è¿™æ˜¯æˆå¹´äººçš„åˆ†æ‰‹ï¼Œ<code>é¢å¯¹è‡ªå·±ï¼Œé¢å¯¹å¯¹æ–¹ã€‚é€ƒå¾—è¿‡ç”Ÿç¦»ï¼Œé€ƒå¾—è¿‡æ­»åˆ«å—</code> é¢å¯¹ä¸å®Œç¾çš„ç»“å±€ï¼Œå¹¶ä½“é¢çš„æ”¶æ‹¾è‡ªå·±çš„çƒ‚æ‘Šå­ï¼Œäººç”Ÿå¿…é¡»å¤„å¤„ é”¥å¿ƒï¼Œæ‰æœ‰çœŸå¿ƒ<br>æˆç†Ÿè€Œå…¨é¢çš„å†³å®š æ„Ÿæ€§å’Œç†æƒ³ç¥¨ä¸¤ç¥¨</li>
</ul>
<h4 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><ul>
<li>çˆ±æ²¡æœ‰å…¬ä¸å…¬å¹³ï¼Œåªæœ‰æ„¿ä¸æ„¿æ„ï¼Œæ— æ³•å›åˆ°ä»å‰</li>
<li>å•èº«ç‹—ï¼Œç›´ç”·è„±å•ï¼Œéš¾äºè„±è´«</li>
<li>ä¸¤ç¥¨ï¼Œæ­£å¸¸äººåªæœ‰æ„Ÿè°¢ç¥¨ï¼Œè¿˜ä»–å¦ˆçœ‹è„¸ï¼Œæ’•é€¼åæˆ‘å½“æ—¶æ€ä¹ˆå°±è’™ä½äº†å‘¢ï¼Œä¸å½“é¢èƒ½æ›´å¥½çš„æ’•</li>
</ul>
<h4 id="å¯¼å¸ˆæ€»ç»“"><a href="#å¯¼å¸ˆæ€»ç»“" class="headerlink" title="å¯¼å¸ˆæ€»ç»“"></a>å¯¼å¸ˆæ€»ç»“</h4><ul>
<li>ä¸å†é©¾é©­æ„Ÿæƒ…ï¼Œè€Œæ˜¯æ‡‚å¾—æ„Ÿæ¿€ï¼›ä»€ä¹ˆæ˜¯é©¾é©­æ„Ÿæƒ…ï¼Œä½ åœ¨è®¾è®¡ä¸€ç§æ¨¡å¼ï¼Œæ¯”å¦‚è¯´æ„Ÿæ¿€åº”è¯¥æ¼‚æ¼‚äº®äº®ï¼Œæ„Ÿæ¿€åº”è¯¥æ˜¯è½»æ¾çš„ã€‚æ„Ÿæ¿€è¿™ä¸ªäº‹æƒ…æ˜¯ä¸¤ä¸ªäººçš„äº‹æƒ…ï¼Œæ˜¯ä¸¤ä¸ªäººæœ€ååŒ–åçš„æœ€ç»ˆç»“æœï¼Œä½ åªèƒ½æ‡‚å¾—<code>æˆ‘æƒ³æˆ‘ä»¬ä¸éœ€è¦å†ç»§ç»­èµ°ä¸‹å»äº†ï¼Œè‡³å°‘æˆ‘è§‰å¾—æœ‰å›°éš¾ï¼Œä½ æ˜¯å¸Œæœ›å½“é¢èŠä¸€èŠï¼Œä½ è¿˜æ˜¯å¸Œæœ›è¿™æ ·å°±å¥½äº†ï¼Œé‚£æˆ‘éšæ—¶åœ¨è¿™é‡Œ</code></li>
<li>è¾©é¢˜å‰ææ˜¯ä¸€ä¸ªäººæƒ³è§ï¼Œä¸€ä¸ªäººä¸è§ï¼Œä¸å¦‚ä¸è§</li>
</ul>
<h4 id="ç»“è¾©-ã€é‡ç‚¹ã€‘"><a href="#ç»“è¾©-ã€é‡ç‚¹ã€‘" class="headerlink" title="ç»“è¾©  ã€é‡ç‚¹ã€‘"></a>ç»“è¾©  ã€é‡ç‚¹ã€‘</h4><ul>
<li>è¯¥åšä¸åˆ°ï¼Œäº¤ä»£<blockquote>
<p>ä¸¤ä¸ªåº•çº¿</p>
</blockquote>
</li>
</ul>
<p>1.æˆ‘ä»¬åœ¨ä¸€èµ·ç»ä¸äº’ç›¸ç»‘æ¶ï¼Œä¸€å®šè¦å°Šé‡å¯¹æ–¹çš„æ„å¿—<br>    2. æˆ‘ä»¬ä¸åœ¨ä¸€èµ·æˆ‘ä»¬ç»ä¸äº’ç›¸ä¼¤å®³ï¼Œæˆ‘ä»¬è¦æ–‡æ˜ã€‚<br>      å¹¼ç¨šçš„å®šä¹‰ï¼Œç›®æ ‡æ—¢å®šçš„æƒ…å†µä¸‹é‡‡å–çš„ç­–ç•¥æ˜¯é”™çš„ã€‚â€“ ä½ æƒ³åˆ†å°±åˆ†è§ä¸ªé¢å°±åˆ†å¹¼ç¨šâ€” æˆ‘çš„ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Œ æˆäººçš„ä¸–ç•Œæ²¡æœ‰æ€åº¦çš„è¯¥ä¸è¯¥ï¼Œæˆ‘çš„ä»·å€¼è§‚ç¨³å®šæƒ…å†µä¸‹ï¼Œæˆ‘è®¾å®šçš„ç›®æ ‡æ€æ ·æ‹†è§£æˆæ–¹æ³•å’Œè¡ŒåŠ¨â€” æˆ‘çš„ç›®æ ‡æ˜¯åˆ†æ‰‹è€Œä¸”å¯¹å¯¹æ–¹çš„ä¼¤å®³é™å¾—æœ€ä½â€” å…·ä½“æ¯”æŠ½è±¡æ›´ä¼¤å®³<code>è¶ŠæŠ½è±¡è¶Šå°Šé‡è¶Šä¸ä¼¤å®³</code>â€“ é•¿å¤§</p>
<h3 id="é‡åˆ°å±é™©ä¼´ä¾£æ‰‹åˆ€ï¼ˆå¿«é€Ÿé€ƒè·‘ï¼‰é€ƒè·‘-è¯¥ä¸è¯¥åŸè°…ä»–-20170421"><a href="#é‡åˆ°å±é™©ä¼´ä¾£æ‰‹åˆ€ï¼ˆå¿«é€Ÿé€ƒè·‘ï¼‰é€ƒè·‘-è¯¥ä¸è¯¥åŸè°…ä»–-20170421" class="headerlink" title="é‡åˆ°å±é™©ä¼´ä¾£æ‰‹åˆ€ï¼ˆå¿«é€Ÿé€ƒè·‘ï¼‰é€ƒè·‘ è¯¥ä¸è¯¥åŸè°…ä»– 20170421"></a>é‡åˆ°å±é™©ä¼´ä¾£æ‰‹åˆ€ï¼ˆå¿«é€Ÿé€ƒè·‘ï¼‰é€ƒè·‘ è¯¥ä¸è¯¥åŸè°…ä»– 20170421</h3><ul>
<li>èµµåˆå»·æ’’ç‹—ç²®ä¸‰ç”Ÿä¸‰ä¸–åªçˆ±é«˜åœ†åœ†</li>
</ul>
<h4 id="é©¬è´±è¶Š"><a href="#é©¬è´±è¶Š" class="headerlink" title="é©¬è´±è¶Š"></a>é©¬è´±è¶Š</h4><p>çˆ±æƒ…å¯ä»¥æˆ˜èƒœä¸€åˆ‡ï¼Œåªè¦ä½ çˆ±ä»–ï¼Œå°±åŸè°…ä»–ï¼Œå¦åˆ™ï¼Œåªåšå•èº«ç‹—ï¼Œåªåšè‡ªå·±</p>
<h4 id="é¦–å°”"><a href="#é¦–å°”" class="headerlink" title="é¦–å°”"></a>é¦–å°”</h4><ul>
<li>æœ¬èƒ½å’Œæœ¬èƒ½ä¹‹é—´å·®å‡ºå’Œè°çš„ç«èŠ±</li>
<li>ç±»æ¯”åµæ¶ç»´æŒå†…å¿ƒå’Œè°çš„æ¬¡åºï¼Œé—®è·¯å¤§å”ï¼ŒåŠèº«æ°´æ± </li>
<li>çƒ‚äº‹å’Œæƒ©ç½šçš„å¹³è¡¡</li>
<li>ä¸åŸè°…æ˜¯å¯¹è‡ªå·±çš„ä¸€ç§æ•‘èµï¼ŒåŸè°…ä¼´éšç€ä½ å¯¹äººæ€§å¼±ç‚¹çš„æ¥çº³å’Œå¦¥åï¼Œè¿™æ ·ä½ ä¼šåªç›¸ä¿¡äººæ€§ï¼Œä¸ç›¸ä¿¡äºº<br>####</li>
<li>ç¾éš¾æ¥äº†è°éƒ½å¾—è·‘ï¼›</li>
<li>ç”·çš„ç«™ç€ï¼Œå¥³çš„è·‘</li>
<li>ä¸­å›½æ„ŸåŠ¨æ˜¯æ•™è‚²ï¼ˆç¾éš¾é¢å‰äººäººéƒ½å¹³ç­‰ï¼‰ï¼Œæˆ‘ä»¬ä»¥ä¸ºäººç±»ä»¿ä½›åº”è¯¥æ˜¯è¿™æ ·çš„ï¼Œå¦‚æœtaæ²¡åšåˆ°è¿™æ ·å­ï¼Œtaå°±æ˜¯ä¸å¯¹çš„ï¼Œå…¶å®ä»–åšåˆ°è¿™æ ·å­ï¼Œä½ æ›´åº”è¯¥æ„Ÿè°¢çš„ã€‚å› ä¸ºï¼Œæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„çˆ±æƒ…æ˜¯è·å¾—å¼çš„çˆ±æƒ…ï¼Œä¸æ˜¯ç´¢å–å¼çš„çˆ±æƒ…ï¼Œä»–ç»™ä½ äº†ä½ å¾ˆé«˜å…´ï¼Œä»–æ²¡ç»™ä½ è¿™ä¹Ÿå¾ˆæ­£å¸¸ã€‚æ„ŸåŠ¨æ—¶åˆ»â€“&gt; è¿™ä¸ªæ˜¯åŠ åˆ†é¡¹ï¼Œä¸æ˜¯åº•çº¿ï¼Œtaåšåˆ°äº†ä½ è¦æ„Ÿè°¢ä»–</li>
<li>ä¸åŸè°…ï¼Œæ”¾ä¸ä¸‹ã€‚ç¾éš¾æ¥äº†ï¼Œæ²¡æœ‰å¤ªå¤§çš„ä»·å€¼å»æ€€å¿µå»é“­è®°ï¼Œä½ æ—¢æ˜¯æ…·ä»–ä¹‹æ…¨ï¼Œä¹Ÿæ˜¯æ…·è‡ªå·±ä¹‹æ…¨ã€‚<h4 id="æµ™å¤§ç¾å¥³å­¦éœ¸"><a href="#æµ™å¤§ç¾å¥³å­¦éœ¸" class="headerlink" title="æµ™å¤§ç¾å¥³å­¦éœ¸"></a>æµ™å¤§ç¾å¥³å­¦éœ¸</h4></li>
<li>åŒé‡æ ‡å‡†ï¼Œçˆ±æƒ…è§‚ä¸­æ¸…å•ä¸å¯åŸè°…çš„äº‹æƒ…ä¸Šï¼Œä¸‹é¢è¯¥ä¸è¯¥åŸè°…ã€‚å¼ çˆ±ç²å’Œèƒ¡å…°æˆçš„äº‹æƒ…ï¼Œæ²¡æœ‰å®ˆä½åº•çº¿ã€‚çˆ±æƒ…åŒæ–¹æ˜¯å¢å€¼çš„è¿‡ç¨‹ã€‚</li>
<li>çˆ±æƒ…èƒ½æˆ˜èƒœä¸€äº›æœ¬èƒ½çš„æ¬²æœ›ä¸è¯‰æ±‚ï¼›</li>
<li>å› ä¸ºæˆ‘è¿˜æ˜¯å¯¹çˆ±æƒ…æœ‰ä¸€ç‚¹ç‚¹åº•çº¿ï¼Œä¸€ç‚¹ç‚¹è¦æ±‚çš„äººï¼Œæˆ‘ä¸å¸Œæœ›æˆ‘åˆ«æˆä¸€ä¸ªçˆ±æƒ…åªå¯¹æˆ‘æœ‰è¦æ±‚çš„äººï¼Œæˆ‘ä¸å¸Œæœ›æˆ‘å˜æˆçˆ±æƒ…çš„åŠªåŠ›ã€‚</li>
</ul>
<h4 id="æ°¸å¼€-1"><a href="#æ°¸å¼€-1" class="headerlink" title="æ°¸å¼€"></a>æ°¸å¼€</h4><ul>
<li>è§æ­»ä¸æ•‘å’Œç¾éš¾ä¸åŒ</li>
<li>å¯é€ƒä¸å¯é€ƒï¼Œä¸ºä»€ä¹ˆè¿™ä¸ªæƒ…æ™¯æˆ‘ä»¬å¸Œæœ›å¯¹æ–¹èƒ½æ´»ä¸‹æ¥ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬å¿ƒä¸­ä¸åŸè°…çš„æƒ…ç»ªï¼Œæˆ‘ä»¬ä¸åŸè°…çš„æ˜¯é‚£ä¸€ä¸ªæ²¡æœ‰åŠæ³•å…¨å¿ƒå…¨æ„ä¸ºå¯¹æ–¹æ‹…å¿ƒçš„è‡ªå·±</li>
<li>è‡ªå·±çš„æ•…äº‹ï¼Œå¦‚æœæ¨æˆ‘èƒ½è®©ä½ æ„Ÿè§‰èˆ’æœä¸€ç‚¹ç‚¹çš„è¯é‚£ä½ å°±æ¨æˆ‘å§ï¼Œæ²¡å…³ç³»çš„ã€‚æ¨ä»–æ²¡æœ‰è®©æˆ‘å¾—åˆ°æ•‘èµï¼Œç”šè‡³ç›–è¿‡äº†æˆ‘å¹¸ç¦çš„ç¬é—´</li>
<li>è¿™å¯¹åŒæ–¹éƒ½æ˜¯ç¾éš¾</li>
</ul>
<h4 id="æ®µå­åŒ»ç”Ÿ"><a href="#æ®µå­åŒ»ç”Ÿ" class="headerlink" title="æ®µå­åŒ»ç”Ÿ"></a>æ®µå­åŒ»ç”Ÿ</h4><ul>
<li>æœ‰åˆ¤æ–­çš„ï¼Œå¿ƒé‡Œåˆ›ä¼¤</li>
<li>åŸè°…å’Œä¸åŸè°…éƒ½è½»ææ·¡å†™äº†ï¼Œæ‰€æœ‰è¯´ä¸åŸè°…å°±æ˜¯ä¸è¦è½»æ˜“çš„åŸè°…ï¼›</li>
</ul>
<h4 id="å‘¼å”¤çˆ±"><a href="#å‘¼å”¤çˆ±" class="headerlink" title="å‘¼å”¤çˆ±"></a>å‘¼å”¤çˆ±</h4><ul>
<li>äº”ç§’æ€§æ ¼ï¼Œå†³å®šä¸€ç”Ÿå¤ªé²è½<h4 id="å¯¼å¸ˆç»“è¾©"><a href="#å¯¼å¸ˆç»“è¾©" class="headerlink" title="å¯¼å¸ˆç»“è¾©"></a>å¯¼å¸ˆç»“è¾©</h4></li>
<li></li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
  </entry>
  <entry>
    <title>Android ä»£ç è§„èŒƒåŒ–ç¬”è®°</title>
    <url>/2018/04/14/2018-4-14-android-standards/</url>
    <content><![CDATA[<h2 id="ä»£ç è§„èŒƒåŒ–"><a href="#ä»£ç è§„èŒƒåŒ–" class="headerlink" title="ä»£ç è§„èŒƒåŒ–"></a>ä»£ç è§„èŒƒåŒ–</h2><h3 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h3><h4 id="Square-Android-Code-Style"><a href="#Square-Android-Code-Style" class="headerlink" title="Square Android Code Style"></a><a href="https://github.com/square/java-code-styles" target="_blank" rel="noopener">Square Android Code Style</a></h4><ul>
<li>ä¸‹è½½-&gt; install.xx -&gt; restart-&gt;Code Style -&gt; Java</li>
<li>ä»£ç æ ¼å¼å¿«æ·é”®ï¼š Mac <code>Cmd + Option + L</code> Win <code>Ctrl + Alt + L</code></li>
</ul>
<h4 id="AS-Plugin-checkstyle-idea"><a href="#AS-Plugin-checkstyle-idea" class="headerlink" title="AS Plugin checkstyle-idea"></a>AS Plugin <strong><a href="https://github.com/jshiell/checkstyle-idea" target="_blank" rel="noopener">checkstyle-idea</a></strong></h4><ul>
<li><p>å®‰è£…plugin-&gt; reatart-&gt; Setting Other Setting -&gt; å¯ä»¥å¯¼å…¥è‡ªå®šä¹‰æ£€æŸ¥<br><img src="https://upload-images.jianshu.io/upload_images/2383902-6599097cb4d43fc4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" alt=""></p>
</li>
<li><p>è¿è¡Œ<br><img src="https://upload-images.jianshu.io/upload_images/2383902-c64b09149764ad27.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" alt=""></p>
</li>
<li><p>æäº¤ä»£ç æ—¶è‡ªåŠ¨æ ¼å¼åŒ–<br><img src="https://upload-images.jianshu.io/upload_images/2383902-d72b180899bfef7c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" alt=""></p>
</li>
</ul>
<h2 id="è¿ç»´"><a href="#è¿ç»´" class="headerlink" title="è¿ç»´"></a>è¿ç»´</h2><ul>
<li><a href="https://www.jianshu.com/p/6dba7d6f79ff" target="_blank" rel="noopener">åŸºäºTravis CIæ­å»ºAndroidæŒç»­é›†æˆä»¥åŠè‡ªåŠ¨æ‰“åŒ…å‘å¸ƒæµç¨‹</a></li>
</ul>
]]></content>
      <categories>
        <category>coder</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>è§„èŒƒ</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯†é’¥å’Œè¯ä¹¦ç®¡ç†å·¥å…·KeytoolåŠjarsignerçš„ä½¿ç”¨</title>
    <url>/2017/04/19/2017-04-19-keytool_signerJar/</url>
    <content><![CDATA[<h4 id="Keytoolç®€ä»‹"><a href="#Keytoolç®€ä»‹" class="headerlink" title="Keytoolç®€ä»‹"></a>Keytoolç®€ä»‹</h4><p>keytool æ˜¯JDK 1.4 åé›†æˆçš„å¯†é’¥å’Œè¯ä¹¦ç®¡ç†å·¥å…·  <a href="https://docs.oracle.com/javase/6/docs/technotes/tools/solaris/keytool.html" target="_blank" rel="noopener">å®˜ç½‘æ–‡æ¡£Â·è‹±æ–‡</a></p>
<p>Windowï¼š<code>&lt;JAVA_HOME&gt;\bin\keytool.exe</code><br>Mac: <code>&lt;JAVA_HOME&gt;/Contents/Home/bin</code></p>
<h4 id="ç”Ÿæˆkeystore"><a href="#ç”Ÿæˆkeystore" class="headerlink" title="ç”Ÿæˆkeystore"></a>ç”Ÿæˆkeystore</h4><pre class="line-numbers language-shell"><code class="language-shell">keytool -genkey -alias myAlias -keyalg RSA -validity 40000 -keystore demo.keystore
#è¯´æ˜ï¼š
#    -genkey äº§ç”Ÿå¯†é’¥
#    -alias myAlias åˆ«å myAlias
#    -keyalg RSA ä½¿ç”¨RSAç®—æ³•å¯¹ç­¾ååŠ å¯†
#    -validity 40000 æœ‰æ•ˆæœŸé™4000å¤©
#    -keystore demo.keystore<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="æŸ¥çœ‹-keystoreç­¾åä¿¡æ¯"><a href="#æŸ¥çœ‹-keystoreç­¾åä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹ keystoreç­¾åä¿¡æ¯"></a>æŸ¥çœ‹ keystoreç­¾åä¿¡æ¯</h4><pre class="line-numbers language-shell"><code class="language-shell">keytool -list -keystore demo.keystore 
è¾“å‡ºç»“æœï¼š
--------------
å¯†é’¥åº“ç±»å‹: JKS
å¯†é’¥åº“æä¾›æ–¹: SUN
æ‚¨çš„å¯†é’¥åº“åŒ…å« 1 ä¸ªæ¡ç›®
myAlias, 2017-4-19, PrivateKeyEntry, 
è¯ä¹¦æŒ‡çº¹ (SHA1): C1:4E:A3:BC:4D:C3:35:6C:F6:8A:9D:0E:EA:F3:79:4B:D9:1D:B4:C1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="å¯¹apkè¿›è¡Œç­¾å"><a href="#å¯¹apkè¿›è¡Œç­¾å" class="headerlink" title="å¯¹apkè¿›è¡Œç­¾å"></a>å¯¹apkè¿›è¡Œç­¾å</h4><pre class="line-numbers language-shell"><code class="language-shell">jarsigner -verbose -keystore [demo.keystore] -signedjar demo_signed.apk demo.apk [alias]
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="Shellè„šæœ¬è·å–æŒ‡çº¹-ã€æˆæœã€‘"><a href="#Shellè„šæœ¬è·å–æŒ‡çº¹-ã€æˆæœã€‘" class="headerlink" title="Shellè„šæœ¬è·å–æŒ‡çº¹ ã€æˆæœã€‘"></a>Shellè„šæœ¬è·å–æŒ‡çº¹ ã€æˆæœã€‘</h4><p>Apkç­¾åè¯ä¹¦MD5æŒ‡çº¹<br>echo.sh </p>
<pre class="line-numbers language-shell"><code class="language-shell">#/bin/sh
cert_XSA=`jar tf $1 | grep SA` #è·å–ç­¾åæ–‡ä»¶åœ¨Apkä¸­è·¯å¾„, $1ä¸ºè¾“å…¥çš„apk
#echo  $cert_XSA
jar xf $1 $cert_XSA #æå–ç­¾åæ–‡ä»¶
echo --------------------------------------------------------------------------
echo è¯ä¹¦MD5æŒ‡çº¹:`keytool -printcert -file $cert_XSA | grep MD5`
echo --------------------------------------------------------------------------
rm -rf  `dirname $cert_XSA` #åˆ é™¤æå–çš„æ–‡ä»¶å¤¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>Usageï¼š <code>source echo.sh demo.apk</code> </p>
</blockquote>
<h4 id="è¯ä¹¦æ–‡ä»¶æ“ä½œ"><a href="#è¯ä¹¦æ–‡ä»¶æ“ä½œ" class="headerlink" title="è¯ä¹¦æ–‡ä»¶æ“ä½œ"></a>è¯ä¹¦æ–‡ä»¶æ“ä½œ</h4><ul>
<li><p>å¯¼å‡ºåˆ°è¯ä¹¦æ–‡ä»¶<br>keytool -export -alias myAlias -file test.crt -keystore test.keystore </p>
<blockquote>
<p>å°†åä¸ºtest.keystoreçš„è¯ä¹¦åº“ä¸­åˆ«åä¸ºtest1çš„è¯ä¹¦æ¡ç›®å¯¼å‡ºåˆ°è¯ä¹¦æ–‡ä»¶test.crt</p>
</blockquote>
</li>
<li><p>å¯¼å…¥è¯ä¹¦çš„ä¿¡æ¯<br>keytool -import -keystore test_cacerts -file test.crt </p>
<blockquote>
<p>å°†è¯ä¹¦æ–‡ä»¶test.crtå¯¼å…¥åˆ°åä¸ºtest_cacertsçš„è¯ä¹¦åº“ä¸­</p>
<ul>
<li>æŸ¥çœ‹è¯ä¹¦ä¿¡æ¯  </li>
</ul>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">keytool -printcert -file "test.crt"
è¾“å‡ºç»“æœï¼š<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
<hr>
<p>æ‰€æœ‰è€…: CN=test, OU=android, O=android, L=shenzhen, ST=guangdong, C=china<br>å‘å¸ƒè€…: CN=test, OU=android, O=android, L=shenzhen, ST=guangdong, C=china<br>åºåˆ—å·: 6f75ebb1<br>æœ‰æ•ˆæœŸå¼€å§‹æ—¥æœŸ: Wed Apr 19 12:17:14 CST 2017, æˆªæ­¢æ—¥æœŸ: Fri Oct 25 12:17:14 CST 2126<br>è¯ä¹¦æŒ‡çº¹:<br>     MD5: E0:93:87:28:43:D9:85:12:B2:41:36:D6:E2:BC:7C:83<br>     SHA1: C1:4E:A3:BC:4D:C3:35:6C:F6:8A:9D:0E:EA:F3:79:4B:D9:1D:B4:C1<br>     SHA256: 51:E8:9D:ED:64:62:4C:80:D4:42:69:41:9C:0C:E4:3B:89:FE:34:E6:A4:42:47:83:FB:CF:99:BD:DA:39:DA:90<br>     ç­¾åç®—æ³•åç§°: SHA256withRSA<br>     ç‰ˆæœ¬: 3</p>
<p>æ‰©å±•: </p>
<p>#1: ObjectId: 2.5.29.14 Criticality=false<br>SubjectKeyIdentifier [<br>KeyIdentifier [<br>0000: 2E 49 AD 2B 2D 4E D3 0D   02 FC 5B 5F EF 00 77 0F  .I.+-Nâ€¦.[_..w.<br>0010: 5D 91 1D 1C                                        ]â€¦<br>]<br>]<br>```</p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ç»éªŒ</tag>
      </tags>
  </entry>
  <entry>
    <title>Android é«˜æ•ˆå›¾ç‰‡åŠ è½½</title>
    <url>/2017/04/17/2017-04-17-Optimization-Bitmap/</url>
    <content><![CDATA[<p>å›¾ç‰‡åŠ è½½ä¸€ç›´æ˜¯ç¨‹åºç¨³å®šæ€§çš„é‡è¦å› ç´ ï¼Œä½†æ˜¯éšç€Glideï¼ŒPicassoï¼ŒUniversal-ImageLoaderç­‰å›¾ç‰‡åŠ è½½åº“çš„é€æ¸æˆç†Ÿï¼Œåè€Œä¼šä½¿æˆ‘ä»¬å¯¹å›¾ç‰‡åŠ è½½æ‰ä»¥è½»å¿ƒï¼Œç–å¿½å¯¹å›¾ç‰‡åŠ è½½çš„æ“ä½œï¼Œå¯¼è‡´å†…å­˜å ç”¨è¿‡é«˜ï¼Œé¢‘ç¹å‡ºç°OOM(OutOfMemory)å¼‚å¸¸ï¼Œä¸¥é‡å½±å“ç”¨æˆ·ä½“éªŒã€‚ </p>
<h3 id="Bitmapç§˜ç±"><a href="#Bitmapç§˜ç±" class="headerlink" title="Bitmapç§˜ç±"></a>Bitmapç§˜ç±</h3><h4 id="inJustDecodeBoundså–å…³é”®ä¿¡æ¯ï¼Œä¸åŠ è½½åˆ°å†…å­˜"><a href="#inJustDecodeBoundså–å…³é”®ä¿¡æ¯ï¼Œä¸åŠ è½½åˆ°å†…å­˜" class="headerlink" title="inJustDecodeBoundså–å…³é”®ä¿¡æ¯ï¼Œä¸åŠ è½½åˆ°å†…å­˜"></a>inJustDecodeBoundså–å…³é”®ä¿¡æ¯ï¼Œä¸åŠ è½½åˆ°å†…å­˜</h4><p>åŠ è½½å›¾ç‰‡ä¹‹å‰å°±è·å–åˆ°å›¾ç‰‡çš„é•¿å®½å€¼å’ŒMIMEç±»å‹ï¼Œä¸åŠ è½½è¿›å†…å­˜ï¼Œä»è€Œæ ¹æ®æƒ…å†µå¯¹å›¾ç‰‡è¿›è¡Œå‹ç¼©</p>
<pre class="line-numbers language-java"><code class="language-java">BitmapFactory<span class="token punctuation">.</span>Options options <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitmapFactory<span class="token punctuation">.</span>Options</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
options<span class="token punctuation">.</span>inJustDecodeBounds <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
BitmapFactory<span class="token punctuation">.</span><span class="token function">decodeResource</span><span class="token punctuation">(</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>myimage<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> imageHeight <span class="token operator">=</span> options<span class="token punctuation">.</span>outHeight<span class="token punctuation">;</span>
<span class="token keyword">int</span> imageWidth <span class="token operator">=</span> options<span class="token punctuation">.</span>outWidth<span class="token punctuation">;</span>
String imageType <span class="token operator">=</span> options<span class="token punctuation">.</span>outMimeType<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p><strong>Noteï¼š</strong> æœ€ç†æ€§çš„åŠ è½½æƒ…å†µæ˜¯ï¼Œä¸ç©¿å°é‹ä¹Ÿä¸ç©¿å¤§é‹ </p>
</blockquote>
<h4 id="inSampleSizeç­‰æ¯”ä¾‹å‹ç¼©"><a href="#inSampleSizeç­‰æ¯”ä¾‹å‹ç¼©" class="headerlink" title="inSampleSizeç­‰æ¯”ä¾‹å‹ç¼©"></a>inSampleSizeç­‰æ¯”ä¾‹å‹ç¼©</h4><p>å¾ˆå¤šæƒ…å†µä¸‹æˆ‘ä»¬æ˜¯åœ¨å¤§è„šç©¿å°é‹çš„æƒ…å†µï¼Œä¾‹å¦‚ï¼šç”¨ç›¸æœºæ‹ç…§è¿”å›çš„åŸå›¾1024x768åƒç´ ï¼Œç›´æ¥ç”¨æ¥æ˜¾ç¤ºå¤´åƒImageViewåªæœ‰128x96åƒç´ ï¼Œè®¾ç½®inSampleSize=4ï¼Œä»åŸç”»ä¸­æ¯4åƒç´ æå–1ç»™åƒç´ åˆ°ç›®æ ‡å›¾ç‰‡ï¼Œè¿™æ ·å°±å‡å°‘å†…å­˜ä½¿ç”¨ï¼›<br><strong>è®¡ç®—å‡ºåˆé€‚çš„inSampleSizeå€¼</strong></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">calculateInSampleSize</span><span class="token punctuation">(</span>BitmapFactory<span class="token punctuation">.</span>Options options<span class="token punctuation">,</span>
                <span class="token keyword">int</span> reqWidth<span class="token punctuation">,</span> <span class="token keyword">int</span> reqHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// æºå›¾ç‰‡çš„é«˜åº¦å’Œå®½åº¦</span>
    <span class="token keyword">final</span> <span class="token keyword">int</span> height <span class="token operator">=</span> options<span class="token punctuation">.</span>outHeight<span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token keyword">int</span> width <span class="token operator">=</span> options<span class="token punctuation">.</span>outWidth<span class="token punctuation">;</span>
    <span class="token keyword">int</span> inSampleSize <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>height <span class="token operator">></span> reqHeight <span class="token operator">||</span> width <span class="token operator">></span> reqWidth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// è®¡ç®—å‡ºå®é™…å®½é«˜å’Œç›®æ ‡å®½é«˜çš„æ¯”ç‡</span>
        <span class="token keyword">final</span> <span class="token keyword">int</span> heightRatio <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span> height <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span> reqHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">final</span> <span class="token keyword">int</span> widthRatio <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span> width <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span> reqWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// é€‰æ‹©å®½å’Œé«˜ä¸­æœ€å°çš„æ¯”ç‡ä½œä¸ºinSampleSizeçš„å€¼ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æœ€ç»ˆå›¾ç‰‡çš„å®½å’Œé«˜</span>
        <span class="token comment" spellcheck="true">// ä¸€å®šéƒ½ä¼šå¤§äºç­‰äºç›®æ ‡çš„å®½å’Œé«˜ã€‚</span>
        inSampleSize <span class="token operator">=</span> heightRatio <span class="token operator">&lt;</span> widthRatio <span class="token operator">?</span> heightRatio <span class="token operator">:</span> widthRatio<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> inSampleSize<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="åˆå¹¶ä½¿ç”¨"><a href="#åˆå¹¶ä½¿ç”¨" class="headerlink" title="åˆå¹¶ä½¿ç”¨"></a>åˆå¹¶ä½¿ç”¨</h4><p>å…ˆå¼€å¯inJustDecodeBoundsåªè¯»å–è·å–é«˜å®½å…³é”®ä¿¡æ¯ï¼Œè·å¾—åˆé€‚çš„inSimpleSizeçš„å€¼ï¼Œåˆç†åŠ è½½å›¾ç‰‡ï¼›</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> Bitmap <span class="token function">decodeSampledBitmapFromResource</span><span class="token punctuation">(</span>Resources res<span class="token punctuation">,</span> <span class="token keyword">int</span> resId<span class="token punctuation">,</span>
        <span class="token keyword">int</span> reqWidth<span class="token punctuation">,</span> <span class="token keyword">int</span> reqHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// ç¬¬ä¸€æ¬¡è§£æå°†inJustDecodeBoundsè®¾ç½®ä¸ºtrueï¼Œæ¥è·å–å›¾ç‰‡å¤§å°</span>
    <span class="token keyword">final</span> BitmapFactory<span class="token punctuation">.</span>Options options <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitmapFactory<span class="token punctuation">.</span>Options</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    options<span class="token punctuation">.</span>inJustDecodeBounds <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    BitmapFactory<span class="token punctuation">.</span><span class="token function">decodeResource</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> resId<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// è°ƒç”¨ä¸Šé¢å®šä¹‰çš„æ–¹æ³•è®¡ç®—inSampleSizeå€¼</span>
    options<span class="token punctuation">.</span>inSampleSize <span class="token operator">=</span> <span class="token function">calculateInSampleSize</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> reqWidth<span class="token punctuation">,</span> reqHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// ä½¿ç”¨è·å–åˆ°çš„inSampleSizeå€¼å†æ¬¡è§£æå›¾ç‰‡</span>
    options<span class="token punctuation">.</span>inJustDecodeBounds <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> BitmapFactory<span class="token punctuation">.</span><span class="token function">decodeResource</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> resId<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="InputStream-ä¸­ä½¿ç”¨"><a href="#InputStream-ä¸­ä½¿ç”¨" class="headerlink" title="InputStream ä¸­ä½¿ç”¨"></a>InputStream ä¸­ä½¿ç”¨</h4><pre class="line-numbers language-java"><code class="language-java"> <span class="token keyword">public</span> <span class="token keyword">static</span> Bitmap <span class="token function">getFitSampleBitmap</span><span class="token punctuation">(</span>InputStream inputStream<span class="token punctuation">,</span> <span class="token keyword">int</span> width<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>
        BitmapFactory<span class="token punctuation">.</span>Options options <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitmapFactory<span class="token punctuation">.</span>Options</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        options<span class="token punctuation">.</span>inJustDecodeBounds <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token function">readStream</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//BitmapFactory.decodeStream(inputStream, null, options);</span>
        BitmapFactory<span class="token punctuation">.</span><span class="token function">decodeByteArray</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> bytes<span class="token punctuation">.</span>length<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
        options<span class="token punctuation">.</span>inSampleSize <span class="token operator">=</span> <span class="token function">getFitInSampleSize</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
        options<span class="token punctuation">.</span>inJustDecodeBounds <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//        return BitmapFactory.decodeStream(inputStream, null, options);</span>
        <span class="token keyword">return</span> BitmapFactory<span class="token punctuation">.</span><span class="token function">decodeByteArray</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> bytes<span class="token punctuation">.</span>length<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/*
     * ä»inputStreamä¸­è·å–å­—èŠ‚æµ æ•°ç»„å¤§å°
    * */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">readStream</span><span class="token punctuation">(</span>InputStream inStream<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>
        ByteArrayOutputStream outStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> inStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            outStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        outStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        inStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> outStream<span class="token punctuation">.</span><span class="token function">toByteArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ä½¿ç”¨å†…å­˜ç¼“å­˜æŠ€æœ¯LruCache"><a href="#ä½¿ç”¨å†…å­˜ç¼“å­˜æŠ€æœ¯LruCache" class="headerlink" title="ä½¿ç”¨å†…å­˜ç¼“å­˜æŠ€æœ¯LruCache"></a>ä½¿ç”¨å†…å­˜ç¼“å­˜æŠ€æœ¯LruCache</h3><p>LruCache åœ¨android-support-v4çš„åŒ…ä¸­æä¾›, å®ƒçš„ä¸»è¦ç®—æ³•åŸç†æ˜¯æŠŠæœ€è¿‘ä½¿ç”¨çš„å¯¹è±¡ç”¨å¼ºå¼•ç”¨å­˜å‚¨åœ¨ LinkedHashMap ä¸­ï¼Œå¹¶ä¸”æŠŠæœ€è¿‘æœ€å°‘ä½¿ç”¨çš„å¯¹è±¡åœ¨ç¼“å­˜å€¼è¾¾åˆ°é¢„è®¾å®šå€¼ä¹‹å‰ä»å†…å­˜ä¸­ç§»é™¤ã€‚</p>
<p>LruCache.java </p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">private</span> LruCache<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Bitmap<span class="token operator">></span> mMemoryCache<span class="token punctuation">;</span>

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// è·å–åˆ°å¯ç”¨å†…å­˜çš„æœ€å¤§å€¼ï¼Œä½¿ç”¨å†…å­˜è¶…å‡ºè¿™ä¸ªå€¼ä¼šå¼•èµ·OutOfMemoryå¼‚å¸¸ã€‚</span>
    <span class="token comment" spellcheck="true">// LruCacheé€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥ç¼“å­˜å€¼ï¼Œä»¥KBä¸ºå•ä½ã€‚</span>
    <span class="token keyword">int</span> maxMemory <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>Runtime<span class="token punctuation">.</span><span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">maxMemory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// ä½¿ç”¨æœ€å¤§å¯ç”¨å†…å­˜å€¼çš„1/8ä½œä¸ºç¼“å­˜çš„å¤§å°ã€‚</span>
    <span class="token keyword">int</span> cacheSize <span class="token operator">=</span> maxMemory <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">;</span>
    mMemoryCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LruCache</span><span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Bitmap<span class="token operator">></span><span class="token punctuation">(</span>cacheSize<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">protected</span> <span class="token keyword">int</span> <span class="token function">sizeOf</span><span class="token punctuation">(</span>String key<span class="token punctuation">,</span> Bitmap bitmap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// é‡å†™æ­¤æ–¹æ³•æ¥è¡¡é‡æ¯å¼ å›¾ç‰‡çš„å¤§å°ï¼Œé»˜è®¤è¿”å›å›¾ç‰‡æ•°é‡ã€‚</span>
                <span class="token keyword">return</span> bitmap<span class="token punctuation">.</span><span class="token function">getByteCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1024</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addBitmapToMemoryCache</span><span class="token punctuation">(</span>String key<span class="token punctuation">,</span> Bitmap bitmap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">getBitmapFromMemCache</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mMemoryCache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> bitmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> Bitmap <span class="token function">getBitmapFromMemCache</span><span class="token punctuation">(</span>String key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> mMemoryCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¦‚ä¸Šï¼Œæœ€æ ¸å¿ƒçš„é—®é¢˜æ˜¯å¦‚ä½•åˆç†çš„åˆ†é…LruCacheçš„å¤§å°ï¼Œå…³é”®å› ç´ ï¼š<br><strong>è®¾å¤‡</strong></p>
<ul>
<li>åº”ç”¨å¯åˆ†é…å†…å­˜ï¼›</li>
<li>è®¾å¤‡å±å¹•å’Œåˆ†è¾¨ç‡</li>
</ul>
<p><strong>å›¾ç‰‡</strong></p>
<ul>
<li>å°ºå¯¸å’Œå¤§å°åŠå¯¹åº”çš„æ¶ˆè€—å†…å­˜ï¼›</li>
<li>è®¿é—®çš„é¢‘ç‡ï¼›</li>
<li>åŠ¨æ€ä¿æŒçš„å›¾ç‰‡æ•°é‡åŠå†…å­˜æ€»é‡ï¼›</li>
</ul>
<h3 id="Glide-å›¾ç‰‡ä¼˜åŒ–"><a href="#Glide-å›¾ç‰‡ä¼˜åŒ–" class="headerlink" title="Glide å›¾ç‰‡ä¼˜åŒ–"></a>Glide å›¾ç‰‡ä¼˜åŒ–</h3><h4 id="æ ¹æ®ImageViewçš„å¤§å°ï¼ŒæŒ‡å®šè¯·æ±‚å›¾ç‰‡å¤§å°"><a href="#æ ¹æ®ImageViewçš„å¤§å°ï¼ŒæŒ‡å®šè¯·æ±‚å›¾ç‰‡å¤§å°" class="headerlink" title="æ ¹æ®ImageViewçš„å¤§å°ï¼ŒæŒ‡å®šè¯·æ±‚å›¾ç‰‡å¤§å°"></a><a href="https://mrfu.me/2016/02/28/Glide_Module_Example_Optimizing/" target="_blank" rel="noopener">æ ¹æ®ImageViewçš„å¤§å°ï¼ŒæŒ‡å®šè¯·æ±‚å›¾ç‰‡å¤§å°</a></h4><h4 id="ç”¨-resize-x-y-è°ƒæ•´å›¾ç‰‡å¤§å°"><a href="#ç”¨-resize-x-y-è°ƒæ•´å›¾ç‰‡å¤§å°" class="headerlink" title="ç”¨ resize(x,y) è°ƒæ•´å›¾ç‰‡å¤§å°"></a><a href="https://mrfu.me/2016/02/27/Glide_Image_Resizing_&amp;_Scaling/" target="_blank" rel="noopener">ç”¨ resize(x,y) è°ƒæ•´å›¾ç‰‡å¤§å°</a></h4><p>ç”¨<strong>CenterCrop</strong>, <strong>FitCenter</strong>è°ƒæ•´æ˜¾ç¤ºæ•ˆæœ</p>
<pre class="line-numbers language-java"><code class="language-java">Glide
    <span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>UsageExampleListViewAdapter<span class="token punctuation">.</span>eatFoodyImages<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">override</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// resizes the image to these dimensions (in pixel)</span>
    <span class="token comment" spellcheck="true">//.fitCenter() </span>
    <span class="token punctuation">.</span><span class="token function">centerCrop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// this cropping technique scales the image so that it fills the requested bounds and then crops the extra.</span>
    <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://img.blog.csdn.net/20160323111112742" alt=""></p>
<h3 id="å¸¸ç”¨æ–¹æ³•"><a href="#å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h3><ul>
<li>è·å¾—åº”ç”¨ç¨‹åºæœ€é«˜å¯ç”¨å†…å­˜<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">int</span> maxMemory <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>Runtime<span class="token punctuation">.</span><span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">maxMemory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"TAG"</span><span class="token punctuation">,</span> <span class="token string">"Max memory is "</span> <span class="token operator">+</span> maxMemory <span class="token operator">+</span> <span class="token string">"KB"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
<h3 id="å®˜æ–¹èµ„æº"><a href="#å®˜æ–¹èµ„æº" class="headerlink" title="å®˜æ–¹èµ„æº"></a>å®˜æ–¹èµ„æº</h3><ul>
<li><a href="https://developer.android.com/topic/performance/graphics/index.html" target="_blank" rel="noopener">Handling Bitmaps</a> ã€éœ€ç¿»å¢™ã€‘</li>
<li><a href="https://developer.android.com/downloads/samples/DisplayingBitmaps.zip" target="_blank" rel="noopener">DisplayingBitmaps.zip</a></li>
<li><a href="http://www.jianshu.com/p/eadb0ef271b0" target="_blank" rel="noopener">DisplayingBitmapséƒ¨åˆ†è®²è§£ï¼š Androidä¸­é«˜æ•ˆçš„æ˜¾ç¤ºå›¾ç‰‡ - Bitmapçš„å†…å­˜æ¨¡å‹</a></li>
</ul>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul>
<li>[1] <a href="http://stormzhang.com/android/2013/11/20/android-display-bitmaps-efficiently/" target="_blank" rel="noopener">ANDROIDé«˜æ•ˆåŠ è½½å›¾ç‰‡ï¼Œæœ‰æ•ˆé¿å…ç¨‹åºOOM</a></li>
<li>[2] <a href="https://mrfu.me/2016/02/27/Glide_Getting_Started/" target="_blank" rel="noopener">Glide ç³»åˆ—é¢„è§ˆ</a></li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>Android Data Binding è¯¦è§£åŠä½¿ç”¨æ¡ˆä¾‹</title>
    <url>/2017/04/02/2017-04-02-Data-Binding/</url>
    <content><![CDATA[<h2 id="æ„å»ºç¯å¢ƒ"><a href="#æ„å»ºç¯å¢ƒ" class="headerlink" title="æ„å»ºç¯å¢ƒ"></a>æ„å»ºç¯å¢ƒ</h2><h3 id="ä½¿ç”¨æ¡ä»¶"><a href="#ä½¿ç”¨æ¡ä»¶" class="headerlink" title="ä½¿ç”¨æ¡ä»¶"></a>ä½¿ç”¨æ¡ä»¶</h3><ul>
<li>æ”¯æŒ Android 2.1 (API level 7+).</li>
<li>Android Plugin for Gradle 1.5.0-alpha1 æˆ–æ›´é«˜<pre class="line-numbers language-gradle"><code class="language-gradle">buildscript {
...
dependencies {
  classpath 'com.android.tools.build:gradle:1.5.0-alpha1'
}
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å¼€å¯"><a href="#å¼€å¯" class="headerlink" title="å¼€å¯"></a>å¼€å¯</h3><pre class="line-numbers language-gradle"><code class="language-gradle">android {
  ....
  dataBinding {
      enabled = true
  }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="åŸºæœ¬ç”¨æ³•-ï¼ˆData-Binding-Layout-Filesï¼‰"><a href="#åŸºæœ¬ç”¨æ³•-ï¼ˆData-Binding-Layout-Filesï¼‰" class="headerlink" title="åŸºæœ¬ç”¨æ³• ï¼ˆData Binding Layout Filesï¼‰"></a>åŸºæœ¬ç”¨æ³• ï¼ˆData Binding Layout Filesï¼‰</h2><h3 id="ç»‘å®šå®ä½“æ•°æ®åˆ°æŒ‡å®šå¸ƒå±€ï¼ˆLayoutï¼‰"><a href="#ç»‘å®šå®ä½“æ•°æ®åˆ°æŒ‡å®šå¸ƒå±€ï¼ˆLayoutï¼‰" class="headerlink" title="ç»‘å®šå®ä½“æ•°æ®åˆ°æŒ‡å®šå¸ƒå±€ï¼ˆLayoutï¼‰"></a>ç»‘å®šå®ä½“æ•°æ®åˆ°æŒ‡å®šå¸ƒå±€ï¼ˆLayoutï¼‰</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
 <span class="token keyword">private</span> <span class="token keyword">final</span> String firstName<span class="token punctuation">;</span>
 <span class="token keyword">private</span> <span class="token keyword">final</span> String lastName<span class="token punctuation">;</span>
 <span class="token keyword">public</span> <span class="token function">User</span><span class="token punctuation">(</span>String firstName<span class="token punctuation">,</span> String lastName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> firstName<span class="token punctuation">;</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> lastName<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">public</span> String <span class="token function">getFirstName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">public</span> String <span class="token function">getLastName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<p>å¦‚æœæˆ‘éœ€è¦ç”¨Layoutå±•ç¤ºç”¨æˆ·ä¿¡æ¯ Userï¼Œé€šå¸¸æˆ‘ä»¬çš„åšæ³•å°±æ˜¯</p>
<ol>
<li>æ–°å»º<code>Layout.xml</code>ï¼›</li>
<li>æ‰¾åˆ°å¯¹åº”æ§ä»¶ï¼ŒfindIdByViewæˆ– <a href="http://jakewharton.github.io/butterknife/" target="_blank" rel="noopener">Butterknife</a> ï¼›</li>
<li>è®¾ç½®æ•°æ®ï¼›  </li>
</ol>
<p>æ„Ÿè§‰ç”¨Butterknifeå·²ç»å¾ˆé«˜å¤§ä¸Šï¼Œå¾ˆé«˜æ•ˆäº†ï¼Œçœ‹ä¸€ä¸‹Data Bindingçš„æ•ˆç‡ï¼š<br>main_activity.xml</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span><span class="token punctuation">></span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.example.User<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>data</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span>
       <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>vertical<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span> <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/mFirstName<span class="token punctuation">"</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{user.firstName}<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span> <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{user.lastName}<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>MainActivity.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
   MainActivityBinding binding <span class="token operator">=</span> DataBindingUtil<span class="token punctuation">.</span><span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>main_activity<span class="token punctuation">)</span><span class="token punctuation">;</span>
   User user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"Test"</span><span class="token punctuation">,</span> <span class="token string">"User"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   binding<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>é«˜æ•ˆæ²¡çœ‹å‡ºæ¥å‘€ï¼ä¸ºäº†è®©æ¥æ‰‹çš„ä¸‹ä¸€ä¸ªå…„å¼Ÿä¸éª‚å¨˜ï¼Œæˆ‘è¿˜æ˜¯é€‰æ‹©æ™®é€šå†™æ³•o(â•¯â–¡â•°)oï¼Œé‚£å¦‚æœæ˜¯è¿™ç§å¸ƒå±€å‘¢</p>
<p><img src="http://ohlb58e07.bkt.clouddn.com/data_binding_blog.png" alt=""><br>ä½ ç”¨å‡ ç™¾è¡Œçš„ä»£ç ï¼ŒDataBindingä¸€è¡Œæå®šï¼ŒBossæ­¤åˆ»åº”è¯¥è¹²åœ¨å•æ‰€å–œæè€Œæ³£ï¼Œæˆ‘XXæˆ‘æ—©è¯¥æ‰¾ä¸€ä¸ªè¿™æ ·çš„ç¨‹åºå‘˜ã€‚<br><img src="http://upload-images.jianshu.io/upload_images/1321512-9683c578ded1684f.gif?imageMogr2/auto-orient/strip" alt="data_binding_funny.gif"></p>
<h3 id="å°çŸ¥è¯†ç‚¹"><a href="#å°çŸ¥è¯†ç‚¹" class="headerlink" title="å°çŸ¥è¯†ç‚¹"></a>å°çŸ¥è¯†ç‚¹</h3><ul>
<li>Fragment ,ListView,RecyclerView ä¸­çš„ä½¿ç”¨<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// ListView RecyclerView</span>
ListItemBinding binding <span class="token operator">=</span> DataBindingUtil<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>layoutInflater<span class="token punctuation">,</span> R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>list_item<span class="token punctuation">,</span> viewGroup<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//Fragment</span>
MainFragmentBinding binding <span class="token operator">=</span>
          DataBindingUtil<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>inflater<span class="token punctuation">,</span> R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>main_fragment<span class="token punctuation">,</span> container<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>å¦‚æœæƒ³æ“ä½œå¯¹åº”çš„æ§ä»¶éœ€è¦è®¾ç½®idå·ï¼Œå¦‚main_activity.xml, è®¾ç½®<code>android:id="@+id/mFirstName"</code> ï¼Œå¯ä»¥ç›´æ¥ç”¨<code>binding.mFirstName</code> æ‰¾åˆ°æ§ä»¶ ï¼›</li>
</ul>
<p>ã€å¾…å¤„ç†ã€‘<br>æµ‹è¯•ä¸­å¾—åˆ°binding</p>
<pre class="line-numbers language-java"><code class="language-java">MainActivityBinding binding <span class="token operator">=</span> MainActivityBinding<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span><span class="token function">getLayoutInflater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ListItemBinding binding <span class="token operator">=</span> ListItemBinding<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>layoutInflater<span class="token punctuation">,</span> viewGroup<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="äº‹ä»¶ç»‘å®šï¼ˆEvent-Handlingï¼‰"><a href="#äº‹ä»¶ç»‘å®šï¼ˆEvent-Handlingï¼‰" class="headerlink" title="äº‹ä»¶ç»‘å®šï¼ˆEvent Handlingï¼‰"></a>äº‹ä»¶ç»‘å®šï¼ˆEvent Handlingï¼‰</h3><h4 id="æœ€ç®€å•çš„åº”ç”¨"><a href="#æœ€ç®€å•çš„åº”ç”¨" class="headerlink" title="æœ€ç®€å•çš„åº”ç”¨"></a>æœ€ç®€å•çš„åº”ç”¨</h4><p>main_activity.xml</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span><span class="token punctuation">></span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>handlers<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.example.MyHandlers<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.example.User<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>data</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span>
       <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>vertical<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span> <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{user.firstName}<span class="token punctuation">"</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{handlers::onClickFriend}<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>äº‹ä»¶å¤„ç†ç±»</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span><span class="token comment" spellcheck="true">/*ä¹Ÿå¯ä»¥æ˜¯æ¥å£*/</span> MyHandlers  <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClickFriend</span><span class="token punctuation">(</span>View view<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>æ§åˆ¶ä»£ç åŒä¸Šï¼Œè®¾ç½®å˜é‡å°±å¯ä»¥<code>binding.setHandlers(...)</code></p>
<h4 id="å¸¦å‚æ•°çš„äº‹ä»¶ç»‘å®šï¼ˆAndroid-Plugin-for-Gradle-2-0-æˆ–æ›´é«˜ï¼‰"><a href="#å¸¦å‚æ•°çš„äº‹ä»¶ç»‘å®šï¼ˆAndroid-Plugin-for-Gradle-2-0-æˆ–æ›´é«˜ï¼‰" class="headerlink" title="å¸¦å‚æ•°çš„äº‹ä»¶ç»‘å®šï¼ˆAndroid Plugin for Gradle 2.0 æˆ–æ›´é«˜ï¼‰"></a>å¸¦å‚æ•°çš„äº‹ä»¶ç»‘å®šï¼ˆAndroid Plugin for Gradle 2.0 æˆ–æ›´é«˜ï¼‰</h4><p>main_activity.xml</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span><span class="token punctuation">></span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>handlers<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.example.MyHandlers<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.example.User<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>data</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span>
       <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>vertical<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span> <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{user.firstName}<span class="token punctuation">"</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{() -<span class="token punctuation">></span> handlers.onSaveClick(user)}<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>äº‹ä»¶å¤„ç†ç±»</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyHandlers</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSaveClick</span><span class="token punctuation">(</span>User user<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>ä¼ å…¥Viewæ–¹å¼</p>
<pre><code> android:onClick="@{(theView) -&gt; handlers.onSaveClick(theView, user)}"</code></pre><p>æˆ–</p>
<pre class="line-numbers language-xml"><code class="language-xml">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CheckBox</span> <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>onCheckedChanged</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{(cb, isChecked) -<span class="token punctuation">></span> handlers.completeChanged(user, isChecked)}<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<blockquote>
<p>æ³¨æ„ï¼šé¿å…ä¸€äº›æ¯”è¾ƒå¤æ‚çš„listenersï¼Œè¿™æ ·ä¼šä½¿å¾—Layoutæ›´æ˜“è¯»æ›´å®¹æ˜“ç»´æŠ¤</p>
</blockquote>
<h2 id="Data-Layout-å°ç»†èŠ‚åŠç®€å•è¯­æ³•"><a href="#Data-Layout-å°ç»†èŠ‚åŠç®€å•è¯­æ³•" class="headerlink" title="Data Layout å°ç»†èŠ‚åŠç®€å•è¯­æ³•"></a>Data Layout å°ç»†èŠ‚åŠç®€å•è¯­æ³•</h2><h3 id="Imports"><a href="#Imports" class="headerlink" title="Imports"></a>Imports</h3><pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android.text.TextUtils<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token comment" spellcheck="true">&lt;!--é™æ€ç±»çš„ä½¿ç”¨--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android.view.View<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token comment" spellcheck="true">&lt;!--å¯¼å…¥--></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>note<span class="token punctuation">"</span></span>  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>String<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token comment" spellcheck="true">&lt;!--è‡ªåŠ¨å¯¼å…¥java.lang.*--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.example.real.estate.View<span class="token punctuation">"</span></span>
        <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Vista<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token comment" spellcheck="true">&lt;!--åˆ«åè§£å†³åŒåç±»--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>data</span><span class="token punctuation">></span></span>
&lt;TextView 
   android:text="@{TextUtils.isEmpty(user.lastName)? "default":user.lastName }"
   android:layout_width="wrap_content"
   android:layout_height="wrap_content"
   android:visibility="@{user.isAdult ? View.VISIBLE : View.GONE}"/> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!-ã€ä½¿ç”¨ã€‘--</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p><strong>Note</strong>: é»˜è®¤è‡ªåŠ¨å¯¼å…¥java.lang.*ï¼Œ<a href="http://www.cnblogs.com/leungjj/p/6475945.html" target="_blank" rel="noopener">å¸¸ç”¨çš„æœ‰Integerï¼ŒStringï¼ŒStringBufferï¼ŒMathç±»</a></p>
</blockquote>
<h3 id="Binding-Class-Names-å¦‚ä¸Šï¼šMainActivityBinding-ç±»"><a href="#Binding-Class-Names-å¦‚ä¸Šï¼šMainActivityBinding-ç±»" class="headerlink" title="Binding Class Names å¦‚ä¸Šï¼šMainActivityBinding ç±»"></a>Binding Class Names å¦‚ä¸Šï¼šMainActivityBinding ç±»</h3><ul>
<li>é»˜è®¤å‘½åè§„åˆ™ <code>åŒ…å+å¸ƒå±€åå»â€˜_â€™é¦–å­—æ¯å¤§å†™+Binding</code> å¦‚ï¼š main_activity.xml ==&gt; MainActivityBinding.class</li>
<li>è‡ªå®šä¹‰çš„ä¸‰ç§è§£é‡Š<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ContactItem<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>data</span><span class="token punctuation">></span></span> <span class="token comment" spellcheck="true">&lt;!--è‡ªå®šä¹‰åç§°--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>.ContactItem<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>data</span><span class="token punctuation">></span></span> <span class="token comment" spellcheck="true">&lt;!--ä½¿ç”¨moduleåŒ…å--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.example.ContactItem<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>data</span><span class="token punctuation">></span></span> <span class="token comment" spellcheck="true">&lt;!--æŒ‡å®šåŒ…å--></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="Includes"><a href="#Includes" class="headerlink" title="Includes"></a>Includes</h3>Data layout å¤ç”¨<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">xmlns:</span>bind</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res-auto<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span><span class="token punctuation">></span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.example.User<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>data</span><span class="token punctuation">></span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span>
     <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>vertical<span class="token punctuation">"</span></span>
     <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>
     <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@layout/name<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">bind:</span>user</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{user}<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@layout/contact<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">bind:</span>user</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{user}<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ç®€å•è¯­æ³•"><a href="#ç®€å•è¯­æ³•" class="headerlink" title="ç®€å•è¯­æ³•"></a>ç®€å•è¯­æ³•</h3><h4 id="Javaå…±åŒç‰¹å¾"><a href="#Javaå…±åŒç‰¹å¾" class="headerlink" title="Javaå…±åŒç‰¹å¾"></a>Javaå…±åŒç‰¹å¾</h4></li>
<li>Mathematical + - / * %</li>
<li>String concatenation +</li>
<li>Logical &amp;&amp; ||</li>
<li>Binary &amp; | ^</li>
<li>Unary + - ! ~</li>
<li>Shift &gt;&gt; &gt;&gt;&gt; &lt;&lt;</li>
<li>Comparison == &gt; &lt; &gt;= &lt;=</li>
<li>instanceof</li>
<li>Grouping ()</li>
<li>Literals - character, String, numeric, null</li>
<li>Cast</li>
<li>Method calls</li>
<li>Field access</li>
<li>Array access []</li>
<li>Ternary operator ?:</li>
</ul>
<p>Examples:</p>
<pre><code>android:text="@{String.valueOf(index + 1)}"
android:visibility="@{age &lt; 13 ? View.GONE : View.VISIBLE}"
android:transitionName='@{"image_" + id}' 

android:text="@{user.displayName ?? user.lastName}" ã€é‡ç‚¹ã€‘&lt;==&gt; ç­‰ä»·äº
android:text="@{user.displayName != null ? user.displayName : user.lastName}"
</code></pre><h4 id="Resourceså¼•ç”¨"><a href="#Resourceså¼•ç”¨" class="headerlink" title="Resourceså¼•ç”¨"></a>Resourceså¼•ç”¨</h4><table>
<thead>
<tr>
<th>Type</th>
<th>Normal Reference</th>
<th>Expression Reference</th>
</tr>
</thead>
<tbody><tr>
<td>String[]</td>
<td>@array</td>
<td>@stringArray</td>
</tr>
<tr>
<td>int[]</td>
<td>@array</td>
<td>@intArray</td>
</tr>
<tr>
<td>TypedArray</td>
<td>@array</td>
<td>@typedArray</td>
</tr>
<tr>
<td>Animator</td>
<td>@animator</td>
<td>@animator</td>
</tr>
<tr>
<td>StateListAnimator</td>
<td>@animator</td>
<td>@stateListAnimator</td>
</tr>
<tr>
<td>color int</td>
<td>@color</td>
<td>@color</td>
</tr>
<tr>
<td>ColorStateList</td>
<td>@color</td>
<td>@colorStateList</td>
</tr>
</tbody></table>
<p>Sample</p>
<pre class="line-numbers language-java"><code class="language-java">android<span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">"@{@string/nameFormat(firstName, lastName)}"</span>
android<span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">"@{@plurals/banana(bananaCount)}"</span>
android<span class="token operator">:</span>padding<span class="token operator">=</span><span class="token string">"@{large? @dimen/largePadding : @dimen/smallPadding}"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>String formatting</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>greeting<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Hello, %s<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
    <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{@string/greeting(user.firstName)}<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Math in expressions</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
    <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@dimen/padding<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{@dimen/padding}<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{@dimen/padding * 2}<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{@dimen/padding + @dimen/padding}<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{largeScreen ? @dimen/padding * 2 : @dimen/padding}<span class="token punctuation">"</span></span>
<span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="æ›´æ”¹æ•°æ®è‡ªåŠ¨æ›´æ–°UIç•Œé¢-ï¼ˆData-Objectsï¼‰"><a href="#æ›´æ”¹æ•°æ®è‡ªåŠ¨æ›´æ–°UIç•Œé¢-ï¼ˆData-Objectsï¼‰" class="headerlink" title="æ›´æ”¹æ•°æ®è‡ªåŠ¨æ›´æ–°UIç•Œé¢ ï¼ˆData Objectsï¼‰"></a>æ›´æ”¹æ•°æ®è‡ªåŠ¨æ›´æ–°UIç•Œé¢ ï¼ˆData Objectsï¼‰</h2><p>ç»è¿‡ä¸Šçš„å­¦ä¹ ï¼Œæœ‰æœ¨æœ‰å‘ç°ï¼Œ å¸ƒå±€Layoutä¸­çš„æ•°æ®variablesæ˜¯å›ºå®šçš„ï¼Œåªæœ‰åˆå§‹åŒ–çš„æ—¶å€™èµ‹å€¼ æ•°æ®å˜åŠ¨æ—¶ï¼ˆè®¾ç½®æ•°æ®ï¼Œå¾—åˆ°æ•°æ®ï¼‰ï¼Œè¿˜éœ€è¦æ‰¾æ§ä»¶ï¼Œè®¾ç½®å‚æ•°ï¼Œæ›´æ”¹UIçŠ¶æ€, åŸºæœ¬è¿˜æ˜¯è€å¥—è·¯ï¼Œå®˜æ–¹çš„è§£å†³æ–¹æ¡ˆæ˜¯Observableï¼Œä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ï¼Œå½“æ•°æ®å˜åŒ–æ—¶é€šçŸ¥layoutè‡ªåŠ¨å˜åŒ–ï¼Œ<br>å®˜æ–¹æä¾›çš„ç±»ï¼š</p>
<ul>
<li>Observable Objects ï¼›</li>
<li>ObservableFields ï¼› </li>
<li>Observable Collectionsï¼›</li>
</ul>
<h3 id="Observable-Objects"><a href="#Observable-Objects" class="headerlink" title="Observable Objects"></a>Observable Objects</h3><pre><code>public  static class User extends BaseObservable {
   private String firstName;
   private String lastName;
   @Bindable
   public String getFirstName() {
       return this.firstName;
   }
   @Bindable
   public String getLastName() {
       return this.lastName;
   }
   public void setFirstName(String firstName) {
       this.firstName = firstName;
       notifyPropertyChanged(BR.firstName);
   }
   public void setLastName(String lastName) {
       this.lastName = lastName;
       notifyPropertyChanged(BR.lastName);
   }
}</code></pre><p>ç»è¿‡æ”¹é€ åçš„User,åŒä¸Šçš„åˆå§‹åŒ–</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">private</span> User user <span class="token punctuation">;</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
   MainActivityBinding binding <span class="token operator">=</span> DataBindingUtil<span class="token punctuation">.</span><span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>main_activity<span class="token punctuation">)</span><span class="token punctuation">;</span>
   user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"Test"</span><span class="token punctuation">,</span> <span class="token string">"User"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   binding<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>



   <span class="token comment" spellcheck="true">//ç‚¹å‡»LastNameè§¦å‘</span>
   binding<span class="token punctuation">.</span><span class="token function">setHandlers</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyHandlers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
     <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClickFriend</span><span class="token punctuation">(</span>View view<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      user<span class="token punctuation">.</span><span class="token function">setFirstName</span><span class="token punctuation">(</span><span class="token string">"FirstName"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//å¸ƒå±€è‡ªåŠ¨æ›´æ–°ä¸º`FirstName`</span>
      <span class="token comment" spellcheck="true">//æ­¤åå¸¸ç”¨çš„æ“ä½œ</span>
      <span class="token comment" spellcheck="true">//å¸ƒå±€ä¸­Progress android:visibility="@{TextUtil.isEmpty(user.firstName) ? View.GONE : View.VISIBLE}"</span>
      <span class="token comment" spellcheck="true">// è‡ªåŠ¨æ§åˆ¶å¯¹åº”çš„Progressæ˜¯å¦æ˜¾ç¤ºï¼Œæˆ–è¿›è¡Œä¸€äº›ç®€å•çš„é€»è¾‘å¤„ç†</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ObservableFields"><a href="#ObservableFields" class="headerlink" title="ObservableFields"></a>ObservableFields</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token keyword">final</span> ObservableField<span class="token operator">&lt;</span>String<span class="token operator">></span> firstName <span class="token operator">=</span>
       <span class="token keyword">new</span> <span class="token class-name">ObservableField</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">public</span> <span class="token keyword">final</span> ObservableField<span class="token operator">&lt;</span>String<span class="token operator">></span> lastName <span class="token operator">=</span>
       <span class="token keyword">new</span> <span class="token class-name">ObservableField</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">public</span> <span class="token keyword">final</span> ObservableInt age <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObservableInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// å¯¹åº”çš„set/get</span>
user<span class="token punctuation">.</span>firstName<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"Google"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> age <span class="token operator">=</span> user<span class="token punctuation">.</span>age<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Observable-Collections"><a href="#Observable-Collections" class="headerlink" title="Observable Collections"></a>Observable Collections</h3><pre class="line-numbers language-java"><code class="language-java">ObservableArrayMap<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">></span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObservableArrayMap</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"firstName"</span><span class="token punctuation">,</span> <span class="token string">"Google"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"lastName"</span><span class="token punctuation">,</span> <span class="token string">"Inc."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="é«˜é˜¶ç”¨æ³•"><a href="#é«˜é˜¶ç”¨æ³•" class="headerlink" title="é«˜é˜¶ç”¨æ³•"></a>é«˜é˜¶ç”¨æ³•</h2><h3 id="åœ¨RecyclerViewä¸­çš„ä½¿ç”¨-ï¼ˆDynamic-Variablesï¼‰"><a href="#åœ¨RecyclerViewä¸­çš„ä½¿ç”¨-ï¼ˆDynamic-Variablesï¼‰" class="headerlink" title="åœ¨RecyclerViewä¸­çš„ä½¿ç”¨ ï¼ˆDynamic Variablesï¼‰"></a>åœ¨RecyclerViewä¸­çš„ä½¿ç”¨ ï¼ˆDynamic Variablesï¼‰</h3><p>BindingHolder.java </p>
<pre class="line-numbers language-java"><code class="language-java">  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">BindingHolder</span> <span class="token keyword">extends</span> <span class="token class-name">RecyclerView<span class="token punctuation">.</span>ViewHolder</span><span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//åŠ å…¥ ViewDataBinding setter/getter æ–¹æ³•</span>
    <span class="token keyword">private</span> ViewDataBinding binding <span class="token punctuation">;</span> 

    <span class="token keyword">public</span> ViewDataBinding <span class="token function">getBinding</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> binding<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBinding</span><span class="token punctuation">(</span>ViewDataBinding binding<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>binding <span class="token operator">=</span> binding<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">BindingHolder</span><span class="token punctuation">(</span>View itemView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">super</span><span class="token punctuation">(</span>itemView<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>MyAdapter.java</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">MyAdapter</span> <span class="token keyword">extends</span> <span class="token class-name">RecyclerView<span class="token punctuation">.</span>Adapter</span><span class="token operator">&lt;</span>BindingHolder<span class="token operator">></span><span class="token punctuation">{</span>
    <span class="token keyword">private</span>  List<span class="token operator">&lt;</span>User<span class="token operator">></span> users<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">MyAdapter</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>User<span class="token operator">></span> users<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>users <span class="token operator">=</span> users<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> BindingHolder <span class="token function">onCreateViewHolder</span><span class="token punctuation">(</span>ViewGroup viewGroup<span class="token punctuation">,</span> <span class="token keyword">int</span> viewType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">//æ ¸å¿ƒä»£ç </span>
      ViewDataBinding binding <span class="token operator">=</span> DataBindingUtil<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>
          LayoutInflater<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>viewGroup<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>list_item<span class="token punctuation">,</span>
          viewGroup<span class="token punctuation">,</span>
          <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      BindingHolder holder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BindingHolder</span><span class="token punctuation">(</span>binding<span class="token punctuation">.</span><span class="token function">getRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      holder<span class="token punctuation">.</span><span class="token function">setBinding</span><span class="token punctuation">(</span>binding<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> holder<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onBindViewHolder</span><span class="token punctuation">(</span>BindingHolder holder<span class="token punctuation">,</span> <span class="token keyword">int</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      User user <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
      holder<span class="token punctuation">.</span><span class="token function">getBinding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setVariable</span><span class="token punctuation">(</span>BR<span class="token punctuation">.</span>user<span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment" spellcheck="true">//ä¸ç­‰å¾…ä¸‹ä¸€å¸§ï¼ˆFrameï¼‰ï¼Œç›´æ¥æ›´æ–°ï¼Œè¿™ä¸ªæ–¹æ³•å¿…é¡»è¿è¡Œåœ¨UIçº¿ç¨‹</span>
      holder<span class="token punctuation">.</span><span class="token function">getBinding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">executePendingBindings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getItemCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> users<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>æ›´ç®€æ´çš„ç”¨æ³•</strong></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserAdapter</span> <span class="token keyword">extends</span> <span class="token class-name">RecyclerView<span class="token punctuation">.</span>Adapter</span><span class="token operator">&lt;</span>UserAdapter<span class="token punctuation">.</span>UserHolder<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> USER_COUNT <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@NonNull</span>
    <span class="token keyword">private</span> List<span class="token operator">&lt;</span>User<span class="token operator">></span> mUsers<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">UserAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mUsers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> USER_COUNT<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            User user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span>RandomNames<span class="token punctuation">.</span><span class="token function">nextFirstName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> RandomNames<span class="token punctuation">.</span><span class="token function">nextLastName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            mUsers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">UserHolder</span> <span class="token keyword">extends</span> <span class="token class-name">RecyclerView<span class="token punctuation">.</span>ViewHolder</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> UserItemBinding mBinding<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">UserHolder</span><span class="token punctuation">(</span>View itemView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">(</span>itemView<span class="token punctuation">)</span><span class="token punctuation">;</span>
            mBinding <span class="token operator">=</span> DataBindingUtil<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>itemView<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">bind</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> User user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mBinding<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> UserHolder <span class="token function">onCreateViewHolder</span><span class="token punctuation">(</span>ViewGroup viewGroup<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        View itemView <span class="token operator">=</span> LayoutInflater<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>viewGroup<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>user_item<span class="token punctuation">,</span> viewGroup<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserHolder</span><span class="token punctuation">(</span>itemView<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onBindViewHolder</span><span class="token punctuation">(</span>UserHolder holder<span class="token punctuation">,</span> <span class="token keyword">int</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        holder<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>mUsers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getItemCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mUsers<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ViewStubsä½¿ç”¨"><a href="#ViewStubsä½¿ç”¨" class="headerlink" title="ViewStubsä½¿ç”¨"></a>ViewStubsä½¿ç”¨</h3><p><a href="https://developer.android.com/reference/android/view/ViewStub.html" target="_blank" rel="noopener">ViewStub</a> æ˜¯ä¸å¯è§çš„,0å¤§å°å¸¸ç”¨äºæƒ°æ€§åŠ è½½ï¼Œè¯´ç™½äº†å°±æ˜¯å ç»™ä½ç½®ï¼Œåœ¨çˆ¶å®¹å™¨çš„inflateæ—¶å€™ä¸ç”¨å¤„ç†ï¼Œå½“åœ¨ViewStub setVisibility(int) or inflate()æ‰ä¼šåŠ è½½åˆ°å¸ƒå±€ä¸­ï¼Œåº”ç”¨åœºæ™¯ï¼šé”™è¯¯æç¤ºï¼Œå¸®åŠ©æç¤ºï¼Œç”¨æˆ·å¼•å¯¼ç­‰ï¼›<br>ç”¨æ³•ï¼š</p>
<pre class="line-numbers language-xml"><code class="language-xml">     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ViewStub</span> <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/stub<span class="token punctuation">"</span></span>
               <span class="token attr-name"><span class="token namespace">android:</span>inflatedId</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/subTree<span class="token punctuation">"</span></span>
               <span class="token attr-name"><span class="token namespace">android:</span>layout</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@layout/mySubTree<span class="token punctuation">"</span></span>
               <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>120dip<span class="token punctuation">"</span></span>
               <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>40dip<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">  ViewStub stub <span class="token operator">=</span> <span class="token punctuation">(</span>ViewStub<span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>stub<span class="token punctuation">)</span><span class="token punctuation">;</span>
     View inflated <span class="token operator">=</span> stub<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Data layout </p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span>
        <span class="token attr-name">...</span><span class="token punctuation">></span></span> 
        <span class="token comment" spellcheck="true">&lt;!--éœ€è¦å¢åŠ ID--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ViewStub</span>
            <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/view_stub<span class="token punctuation">"</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>layout</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@layout/view_stub<span class="token punctuation">"</span></span>
            <span class="token attr-name">...</span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç›‘å¬ViewStub inflate äº‹ä»¶</p>
<pre class="line-numbers language-java"><code class="language-java">binding<span class="token punctuation">.</span>viewStub<span class="token punctuation">.</span><span class="token function">setOnInflateListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ViewStub<span class="token punctuation">.</span>OnInflateListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onInflate</span><span class="token punctuation">(</span>ViewStub stub<span class="token punctuation">,</span> View inflated<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ViewStubBinding binding <span class="token operator">=</span> DataBindingUtil<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>inflated<span class="token punctuation">)</span><span class="token punctuation">;</span>
        User user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"fee"</span><span class="token punctuation">,</span> <span class="token string">"lang"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        binding<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="è‡ªå®šä¹‰Setter"><a href="#è‡ªå®šä¹‰Setter" class="headerlink" title="è‡ªå®šä¹‰Setter"></a>è‡ªå®šä¹‰Setter</h3><h4 id="å®ç”¨å°ä¾‹å­ï¼š"><a href="#å®ç”¨å°ä¾‹å­ï¼š" class="headerlink" title="å®ç”¨å°ä¾‹å­ï¼š"></a>å®ç”¨å°ä¾‹å­ï¼š</h4><p>è®¾ç½®urlï¼Œæ§ä»¶ç›´æ¥åŠ è½½urlåœ°å€çš„å›¾ç‰‡<br>attrs.xml</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>string<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>åœ¨ä»»æ„ä»£ç ä¸­åŠ å…¥å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@BindingAdapter</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">loadImage</span><span class="token punctuation">(</span><span class="token keyword">final</span> ImageView imageView<span class="token punctuation">,</span> <span class="token keyword">final</span> String url<span class="token punctuation">)</span><span class="token punctuation">{</span>
    Glide<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>imageView<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
                     <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>èƒ½å¾—åˆ°å˜åŒ–çš„urlåŠå¯¹åº”çš„ImageViewæ§ä»¶</p>
<blockquote>
<p>ç‰¹æ®Šè¯´æ˜: MasteringAndroidDataBindingä¸­æ˜¯ç”¨<code>declare-styleable</code>åŠ è‡ªå®šä¹‰æ§ä»¶çš„æ–¹æ³•æ¥å¤„ç†æ•°æ®å˜åŒ–ï¼Œä¸Šé¢çš„ä¾‹å­æœ€èƒ½è¾¾åˆ°å®è·µæ•ˆæœï¼Œåœ¨<strong>åŸç”Ÿæ§ä»¶ä¸­åŠ å…¥è‡ªå®šä¹‰æ˜¯å±æ€§</strong>,ç®€æ´æ˜“ç”¨ï¼›</p>
</blockquote>
<h3 id="BindingAdapterè¿›ä»·ç”¨æ³•"><a href="#BindingAdapterè¿›ä»·ç”¨æ³•" class="headerlink" title="BindingAdapterè¿›ä»·ç”¨æ³•"></a>BindingAdapterè¿›ä»·ç”¨æ³•</h3><h4 id="è§‚å¯Ÿå¤šä¸ªå±æ€§-å¦‚ï¼š-BindingAdapter-value-quot-url-quot-quot-drawable-quot-requireAll-false-requireAllæŒ‡-å¸ƒå±€æ§ä»¶ä¸­æ˜¯å¦éœ€è¦-quot-url-quot-quot-drawable-quot-å±æ€§éƒ½å­˜åœ¨ï¼Œé»˜è®¤ä¸ºtrueï¼›"><a href="#è§‚å¯Ÿå¤šä¸ªå±æ€§-å¦‚ï¼š-BindingAdapter-value-quot-url-quot-quot-drawable-quot-requireAll-false-requireAllæŒ‡-å¸ƒå±€æ§ä»¶ä¸­æ˜¯å¦éœ€è¦-quot-url-quot-quot-drawable-quot-å±æ€§éƒ½å­˜åœ¨ï¼Œé»˜è®¤ä¸ºtrueï¼›" class="headerlink" title="è§‚å¯Ÿå¤šä¸ªå±æ€§ å¦‚ï¼š @BindingAdapter(value = {&quot;url&quot;,&quot;drawable&quot;},requireAll = false) requireAllæŒ‡ å¸ƒå±€æ§ä»¶ä¸­æ˜¯å¦éœ€è¦&quot;url&quot;``&quot;drawable&quot; å±æ€§éƒ½å­˜åœ¨ï¼Œé»˜è®¤ä¸ºtrueï¼›"></a>è§‚å¯Ÿå¤šä¸ªå±æ€§ å¦‚ï¼š <code>@BindingAdapter(value = {"url","drawable"},requireAll = false)</code> requireAllæŒ‡ å¸ƒå±€æ§ä»¶ä¸­æ˜¯å¦éœ€è¦<code>"url"``"drawable"</code> å±æ€§éƒ½å­˜åœ¨ï¼Œé»˜è®¤ä¸ºtrueï¼›</h4><h4 id="ç›‘å¬åŸç”Ÿæ§ä»¶çš„å±æ€§å˜åŒ–ï¼Œåšå“åº”çš„å¤„ç†ï¼ˆé‡å†™ï¼‰ï¼Œå¦‚ï¼š"><a href="#ç›‘å¬åŸç”Ÿæ§ä»¶çš„å±æ€§å˜åŒ–ï¼Œåšå“åº”çš„å¤„ç†ï¼ˆé‡å†™ï¼‰ï¼Œå¦‚ï¼š" class="headerlink" title="ç›‘å¬åŸç”Ÿæ§ä»¶çš„å±æ€§å˜åŒ–ï¼Œåšå“åº”çš„å¤„ç†ï¼ˆé‡å†™ï¼‰ï¼Œå¦‚ï¼š"></a>ç›‘å¬åŸç”Ÿæ§ä»¶çš„å±æ€§å˜åŒ–ï¼Œåšå“åº”çš„å¤„ç†ï¼ˆé‡å†™ï¼‰ï¼Œå¦‚ï¼š</h4><pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@BindingAdapter</span><span class="token punctuation">(</span><span class="token string">"android:paddingLeft"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">setPaddingLeft</span><span class="token punctuation">(</span>View view<span class="token punctuation">,</span> <span class="token keyword">int</span> padding<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   view<span class="token punctuation">.</span><span class="token function">setPadding</span><span class="token punctuation">(</span>padding<span class="token punctuation">,</span>
                   view<span class="token punctuation">.</span><span class="token function">getPaddingTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                   view<span class="token punctuation">.</span><span class="token function">getPaddingRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                   view<span class="token punctuation">.</span><span class="token function">getPaddingBottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="è·å–å˜åŒ–çš„æ—§æ•°æ®å’Œæ–°æ•°æ®ï¼Œè‡ªä¹‰å®šå±æ€§ä¹Ÿèƒ½ä½¿ç”¨"><a href="#è·å–å˜åŒ–çš„æ—§æ•°æ®å’Œæ–°æ•°æ®ï¼Œè‡ªä¹‰å®šå±æ€§ä¹Ÿèƒ½ä½¿ç”¨" class="headerlink" title="è·å–å˜åŒ–çš„æ—§æ•°æ®å’Œæ–°æ•°æ®ï¼Œè‡ªä¹‰å®šå±æ€§ä¹Ÿèƒ½ä½¿ç”¨"></a>è·å–å˜åŒ–çš„æ—§æ•°æ®å’Œæ–°æ•°æ®ï¼Œ<strong>è‡ªä¹‰å®šå±æ€§ä¹Ÿèƒ½ä½¿ç”¨</strong></h4><pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@BindingAdapter</span><span class="token punctuation">(</span><span class="token string">"android:paddingLeft"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//æ³¨æ„ï¼šandroid:paddingLeft å¯ä»¥æ”¹ä¸ºè‡ªå®šä¹‰çš„Setterå±æ€§ï¼Œå¦‚ä¸Šâ€˜urlâ€™</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">setPaddingLeft</span><span class="token punctuation">(</span>View view<span class="token punctuation">,</span> <span class="token keyword">int</span> oldPadding<span class="token punctuation">,</span> <span class="token keyword">int</span> newPadding<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>oldPadding <span class="token operator">!=</span> newPadding<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       view<span class="token punctuation">.</span><span class="token function">setPadding</span><span class="token punctuation">(</span>newPadding<span class="token punctuation">,</span>
                       view<span class="token punctuation">.</span><span class="token function">getPaddingTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                       view<span class="token punctuation">.</span><span class="token function">getPaddingRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                       view<span class="token punctuation">.</span><span class="token function">getPaddingBottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p><strong>æ€»ç»“:</strong> Data Binding æ ¸å¿ƒæ€æƒ³æ˜¯æŠŠæ§ä»¶çš„å±æ€§ç”¨é™æ€å˜é‡ä»£è¡¨ï¼Œå¹¶ç›‘å¬å±æ€§çš„å˜åŒ–ï¼Œé€šè¿‡BindingAdapteræ¥å¤„ç†æ•°æ®å˜åŒ–ï¼›å¦‚æœä¸æ˜¯å¾ˆæœ‰æ„Ÿè§‰, æœ‰å…´è¶£è¿›ä¸€æ­¥ç ”ç©¶ï¼Œå»ºè®®çœ‹ä¸€ä¸‹<a href="https://github.com/Kelin-Hong/MVVMLight" target="_blank" rel="noopener">MVVMLight</a>æºç , ä¸€ä¸ªData Binding å’ŒRxJava ç»“åˆä½¿ç”¨çš„åº“</p>
</blockquote>
<h2 id="å•å…ƒæµ‹è¯•ã€å¾…å®è·µã€‘"><a href="#å•å…ƒæµ‹è¯•ã€å¾…å®è·µã€‘" class="headerlink" title="å•å…ƒæµ‹è¯•ã€å¾…å®è·µã€‘"></a>å•å…ƒæµ‹è¯•ã€å¾…å®è·µã€‘</h2><p><a href="http://blog.csdn.net/zhaizu/article/details/51491455" target="_blank" rel="noopener">å®‰å“ Data Binding ä½¿ç”¨æ–¹æ³•æ€»ç»“ï¼ˆå§å§ç¯‡ï¼‰</a></p>
<h2 id="å­¦ä¹ èµ„æ–™"><a href="#å­¦ä¹ èµ„æ–™" class="headerlink" title="å­¦ä¹ èµ„æ–™"></a>å­¦ä¹ èµ„æ–™</h2><h3 id="å®åœ¨çš„åšå®¢"><a href="#å®åœ¨çš„åšå®¢" class="headerlink" title="å®åœ¨çš„åšå®¢"></a>å®åœ¨çš„åšå®¢</h3><p><strong>å·¥ä½œåŸç†</strong></p>
<ul>
<li><a href="http://www.jianshu.com/p/eb29c691d370#" target="_blank" rel="noopener">Android Data Bindingä»æŠµè§¦åˆ°çˆ±ä¸é‡Šæ‰‹</a> æ¯”è¾ƒè¯¦ç»†ï¼Œç‰¹åˆ«æ˜¯æœ‰æºç åˆ†æ</li>
</ul>
<h3 id="å¼€æºåº“å­¦ä¹ èµ„æ–™"><a href="#å¼€æºåº“å­¦ä¹ èµ„æ–™" class="headerlink" title="å¼€æºåº“å­¦ä¹ èµ„æ–™"></a>å¼€æºåº“å­¦ä¹ èµ„æ–™</h3><ul>
<li><a href="https://github.com/Kelin-Hong/MVVMLight" target="_blank" rel="noopener">MVVMLight</a>æºç , ä¸€ä¸ªData Binding å’ŒRxJava ç»“åˆä½¿ç”¨çš„åº“</li>
<li><a href="https://github.com/googlesamples/android-architecture/tree/todo-databinding/" target="_blank" rel="noopener">TODO-DataBinding</a> å’ŒMVPç»“åˆä½¿ç”¨ï¼ŒGoogle å®˜æ–¹ä¾‹å­  </li>
</ul>
<h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><h3 id="Resource-å¼•ç”¨å¯¹ç…§è¡¨"><a href="#Resource-å¼•ç”¨å¯¹ç…§è¡¨" class="headerlink" title="Resource å¼•ç”¨å¯¹ç…§è¡¨"></a>Resource å¼•ç”¨å¯¹ç…§è¡¨</h3><table>
<thead>
<tr>
<th>Type</th>
<th>Normal Reference</th>
<th>Expression Reference</th>
</tr>
</thead>
<tbody><tr>
<td>String[]</td>
<td>@array</td>
<td>@stringArray</td>
</tr>
<tr>
<td>int[]</td>
<td>@array</td>
<td>@intArray</td>
</tr>
<tr>
<td>TypedArray</td>
<td>@array</td>
<td>@typedArray</td>
</tr>
<tr>
<td>Animator</td>
<td>@animator</td>
<td>@animator</td>
</tr>
<tr>
<td>StateListAnimator</td>
<td>@animator</td>
<td>@stateListAnimator</td>
</tr>
<tr>
<td>color int</td>
<td>@color</td>
<td>@color</td>
</tr>
<tr>
<td>ColorStateList</td>
<td>@color</td>
<td>@colorStateList</td>
</tr>
<tr>
<td>### å¸¸ç”¨è½¬ä¹‰è¡¨</td>
<td></td>
<td></td>
</tr>
<tr>
<td>```shell</td>
<td></td>
<td></td>
</tr>
<tr>
<td>æ˜¾ç¤ºç»“æœ    æè¿°          è½¬ä¹‰å­—ç¬¦          åè¿›åˆ¶</td>
<td></td>
<td></td>
</tr>
<tr>
<td>ç©ºæ ¼          &nbsp;           &nbsp;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;          å°äºå·         &lt;            &lt;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&gt;          å¤§äºå·         &gt;            &gt;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&amp;          ä¸å·          &amp;            &amp;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>â€œ          å¼•å·          "           "</td>
<td></td>
<td></td>
</tr>
<tr>
<td>â€˜          æ’‡å·          '           '</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Ã—          ä¹˜å·          Ã—          Ã—</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Ã·          é™¤å·          Ã·         Ã·</td>
<td></td>
<td></td>
</tr>
<tr>
<td>```</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="å¼•ç”¨ï¼š"><a href="#å¼•ç”¨ï¼š" class="headerlink" title="å¼•ç”¨ï¼š"></a>å¼•ç”¨ï¼š</h2><ol>
<li><a href="https://developer.android.com/topic/libraries/data-binding/index.html#generated_binding" target="_blank" rel="noopener">Data Binding Library</a></li>
<li><a href="https://github.com/LyndonChin/MasteringAndroidDataBinding" target="_blank" rel="noopener">MasteringAndroidDataBinding</a> </li>
<li><a href="https://realm.io/news/droidkaigi-kevin-pelgrims-data-real-world-data-binding/" target="_blank" rel="noopener">Data Binding in the Real World</a></li>
<li><a href="http://blog.csdn.net/zhaizu/article/details/51491455" target="_blank" rel="noopener">å®‰å“ Data Binding ä½¿ç”¨æ–¹æ³•æ€»ç»“ï¼ˆå§å§ç¯‡ï¼‰</a></li>
</ol>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ç»éªŒ</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºæœ¬UIç©ºæ§ä»¶çš„ç”¨æ–¹æ³•å’Œå±æ€§</title>
    <url>/2017/02/17/2017-02-17-basic-ui-study/</url>
    <content><![CDATA[<h3 id="æ§ä»¶ä½¿ç”¨"><a href="#æ§ä»¶ä½¿ç”¨" class="headerlink" title="æ§ä»¶ä½¿ç”¨"></a>æ§ä»¶ä½¿ç”¨</h3><h4 id="ViewFlipper"><a href="#ViewFlipper" class="headerlink" title="ViewFlipper"></a>ViewFlipper</h4><ul>
<li>setInAnimation/setOutAnimation</li>
<li>showNext/showPrevious</li>
<li>getDisplayedChild() ==&gt; index ==&gt; getChildAt</li>
<li>addView(view)/addView(view,position)</li>
</ul>
<h4 id="AbsListView"><a href="#AbsListView" class="headerlink" title="AbsListView"></a>AbsListView</h4><ul>
<li>setSelector(new ColorDrawable(Color.TRANSPARENT));</li>
</ul>
<h4 id="GridView"><a href="#GridView" class="headerlink" title="GridView"></a>GridView</h4><ul>
<li>setNumColumns;</li>
<li>setVerticalSpacing/setHorizontalSpacing</li>
</ul>
<p>AnimationSet = AnimationUtils.loadAnimation()</p>
<blockquote>
<p>Tip: åœ¨GridView çš„Adapter å†…çš„View è®¾ç½®setOnClickListener ä¼šå¯¼è‡´ è®¾ç½®çš„ GestureDetector.SimpleOnGestureListener.onFlingè¿”å›çš„MotionEvent == null;</p>
</blockquote>
<h4 id="EditText"><a href="#EditText" class="headerlink" title="EditText"></a>EditText</h4><ul>
<li>æ˜¾ç¤º/éšè—å¯†ç <pre><code>setInputType(hasShowPassword ? 129 : InputType.TYPE_TEXT_VARIATION_PASSWORD);</code></pre></li>
<li>å…‰æ ‡ä½ç½®(å®šä½åˆ°æœ€å)<pre><code>edittext.setSelection(int)</code></pre></li>
<li>è·å–ç„¦ç‚¹<pre class="line-numbers language-java"><code class="language-java">editText<span class="token punctuation">.</span><span class="token function">requestFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å–ç„¦ç‚¹</span>
å¦‚æœå¯¹edittextç»„ä»¶è®¾ç½®äº†editText<span class="token punctuation">.</span><span class="token function">setFocusable</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>éœ€è¦é‡æ–°è·å–ç„¦ç‚¹åˆ™å¿…é¡»æ‰§è¡Œï¼š
editText<span class="token punctuation">.</span><span class="token function">setFocusable</span><span class="token punctuation">(</span>ture<span class="token punctuation">)</span><span class="token punctuation">;</span>
editText<span class="token punctuation">.</span><span class="token function">setFocusableInTouchMode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
editText<span class="token punctuation">.</span><span class="token function">requestFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
æ³¨æ„ï¼šè¿™ç§æƒ…å†µä¸‹ï¼Œå½“é‡æ–°ç‚¹å‡»æ–‡æœ¬æ¡†ï¼Œæ˜¯æ— æ³•æ‰“å¼€è½¯é”®ç›˜ï¼Œå¿…é¡»ç‚¹å‡»ç¬¬äºŒæ¬¡æ‰èƒ½æ‰“å¼€ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h4 id="ViewPager"><a href="#ViewPager" class="headerlink" title="ViewPager"></a>ViewPager</h4><ul>
<li><p>setPageTransformer(); //è®¾ç½®é¡µé¢åˆ‡æ¢æ•ˆæœ <a href="https://github.com/jfeinstein10/JazzyViewPager" target="_blank" rel="noopener">JazzyViewPager</a> æä¾›11ç§åˆ‡æ¢æ•ˆæœ</p>
</li>
<li><p>ç»å¸¸ç›´æ’­çš„æ•ˆæœ</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DepthPageTransformer</span> <span class="token keyword">implements</span> <span class="token class-name">PageTransformer</span>  <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">float</span> MIN_SCALE <span class="token operator">=</span> <span class="token number">0.75f</span><span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">transformPage</span><span class="token punctuation">(</span>View view<span class="token punctuation">,</span> <span class="token keyword">float</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">int</span> pageWidth <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// [-Infinity,-1) ///çœ‹ä¸åˆ°çš„ä¸€é¡µ *</span>
          <span class="token comment" spellcheck="true">// This page is way off-screen to the left.</span>
          view<span class="token punctuation">.</span><span class="token function">setAlpha</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// [-1,0]</span>
          <span class="token comment" spellcheck="true">// Use the default slide transition when moving to the left page</span>
          view<span class="token punctuation">.</span><span class="token function">setAlpha</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          view<span class="token punctuation">.</span><span class="token function">setTranslationX</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          view<span class="token punctuation">.</span><span class="token function">setScaleX</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          view<span class="token punctuation">.</span><span class="token function">setScaleY</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// (0,1]</span>
          <span class="token comment" spellcheck="true">// Fade the page out.</span>
          view<span class="token punctuation">.</span><span class="token function">setAlpha</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> position<span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token comment" spellcheck="true">// Counteract the default slide transition</span>
          view<span class="token punctuation">.</span><span class="token function">setTranslationX</span><span class="token punctuation">(</span>pageWidth <span class="token operator">*</span> <span class="token operator">-</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token comment" spellcheck="true">// Scale the page down (between MIN_SCALE and 1)</span>
          <span class="token keyword">float</span> scaleFactor <span class="token operator">=</span> MIN_SCALE
                  <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> MIN_SCALE<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          view<span class="token punctuation">.</span><span class="token function">setScaleX</span><span class="token punctuation">(</span>scaleFactor<span class="token punctuation">)</span><span class="token punctuation">;</span>
          view<span class="token punctuation">.</span><span class="token function">setScaleY</span><span class="token punctuation">(</span>scaleFactor<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// (1,+Infinity]</span>
          <span class="token comment" spellcheck="true">// This page is way off-screen to the right.</span>
          view<span class="token punctuation">.</span><span class="token function">setAlpha</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h4 id="ListView"><a href="#ListView" class="headerlink" title="ListView"></a>ListView</h4><ul>
<li>Listå†…å®¹å¹³æ»‘çš„ç§»åŠ¨åˆ°æŒ‡å®šçš„ä½ç½® smoothScrollToPosition(position); </li>
</ul>
<h4 id="PopupWindow"><a href="#PopupWindow" class="headerlink" title="PopupWindow"></a><a href="https://developer.android.com/reference/android/widget/PopupWindow.html" target="_blank" rel="noopener">PopupWindow</a></h4><ul>
<li><p>ä¸€å®šè¦è®¾ç½®çš„ï¼šView contentViewï¼Œint width, int height;</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//æ„é€ æ–¹æ³•ï¼š</span>
<span class="token keyword">public</span> <span class="token function">PopupWindow</span> <span class="token punctuation">(</span>Context context<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">PopupWindow</span><span class="token punctuation">(</span>View contentView<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">PopupWindow</span><span class="token punctuation">(</span>View contentView<span class="token punctuation">,</span> <span class="token keyword">int</span> width<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token function">PopupWindow</span><span class="token punctuation">(</span>View contentView<span class="token punctuation">,</span> <span class="token keyword">int</span> width<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">,</span> <span class="token keyword">boolean</span> focusable<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//å¸¸ç”¨çš„åˆå§‹åŒ–</span>
View contentView <span class="token operator">=</span> LayoutInflater<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>MainActivity<span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>popuplayout<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
PopupWindow popWnd <span class="token operator">=</span> <span class="token function">PopupWindow</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
popWnd<span class="token punctuation">.</span><span class="token function">setContentView</span><span class="token punctuation">(</span>contentView<span class="token punctuation">)</span><span class="token punctuation">;</span>
popWnd<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span>ViewGroup<span class="token punctuation">.</span>LayoutParams<span class="token punctuation">.</span>WRAP_CONTENT<span class="token punctuation">)</span><span class="token punctuation">;</span>
popWnd<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span>ViewGroup<span class="token punctuation">.</span>LayoutParams<span class="token punctuation">.</span>WRAP_CONTENT<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>æ˜¾ç¤º</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//ç›¸å¯¹æŸä¸ªæ§ä»¶çš„ä½ç½®ï¼ˆæ­£å·¦ä¸‹æ–¹ï¼‰ï¼Œæ— åç§»</span>
<span class="token function">showAsDropDown</span><span class="token punctuation">(</span>View anchor<span class="token punctuation">)</span>ï¼š
<span class="token comment" spellcheck="true">//ç›¸å¯¹æŸä¸ªæ§ä»¶çš„ä½ç½®ï¼Œæœ‰åç§»;xoffè¡¨ç¤ºxè½´çš„åç§»ï¼Œæ­£å€¼è¡¨ç¤ºå‘å·¦ï¼Œè´Ÿå€¼è¡¨ç¤ºå‘å³ï¼›yoffè¡¨ç¤ºç›¸å¯¹yè½´çš„åç§»ï¼Œæ­£å€¼æ˜¯å‘ä¸‹ï¼Œè´Ÿå€¼æ˜¯å‘ä¸Šï¼›</span>
<span class="token function">showAsDropDown</span><span class="token punctuation">(</span>View anchor<span class="token punctuation">,</span> <span class="token keyword">int</span> xoff<span class="token punctuation">,</span> <span class="token keyword">int</span> yoff<span class="token punctuation">)</span>ï¼š
<span class="token comment" spellcheck="true">//ç›¸å¯¹äºçˆ¶æ§ä»¶çš„ä½ç½®ï¼ˆä¾‹å¦‚æ­£ä¸­å¤®Gravity.CENTERï¼Œä¸‹æ–¹Gravity.BOTTOMç­‰ï¼‰ï¼Œå¯ä»¥è®¾ç½®åç§»æˆ–æ— åç§»</span>
<span class="token function">showAtLocation</span><span class="token punctuation">(</span>View parent<span class="token punctuation">,</span> <span class="token keyword">int</span> gravity<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>ï¼š<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>æ·»åŠ åŠ¨ç”»<br><code>mPopWindow.setAnimationStyle(R.style.contextMenuAnim);</code><br>contextMenuAnim.xml</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>contextMenuAnim<span class="token punctuation">"</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@android:style/Animation.Activity<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style language-css">  
  &lt;item name=<span class="token string">"android:windowEnterAnimation"</span>>@anim/context_menu_enter&lt;/item>  
  &lt;item name=<span class="token string">"android:windowExitAnimation"</span>>@anim/context_menu_exit&lt;/item>  
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>context_menu_exit.xml</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>  

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>translate</span>  
      <span class="token attr-name"><span class="token namespace">android:</span>duration</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@android:integer/config_shortAnimTime<span class="token punctuation">"</span></span>  
      <span class="token attr-name"><span class="token namespace">android:</span>fromXDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span>  
      <span class="token attr-name"><span class="token namespace">android:</span>fromYDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span>  
      <span class="token attr-name"><span class="token namespace">android:</span>interpolator</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@android:anim/accelerate_decelerate_interpolator<span class="token punctuation">"</span></span>  
      <span class="token attr-name"><span class="token namespace">android:</span>toXDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span>  
      <span class="token attr-name"><span class="token namespace">android:</span>toYDelta</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%p<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">></span></span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>setFocusable EditText æ˜¯å¦ç‚¹å‡»åå¯ç¼–è¾‘</p>
</li>
<li><p>mPopWindow.setBackgroundDrawable(new BitmapDrawable()) çš„ä½œç”¨</p>
<blockquote>
<ol>
<li>setOutsideTouchableï¼ˆï¼‰æ‰ä¼šç”Ÿæ•ˆ</li>
</ol>
</blockquote>
</li>
</ul>
<ol start="2">
<li>PopupWindowæ‰ä¼šå¯¹æ‰‹æœºçš„è¿”å›æŒ‰é’®æœ‰å“åº”   </li>
</ol>
<ul>
<li>API &gt;= 23 <code>setEnterTransition(Transition) or setExitTransition(Transition)</code></li>
</ul>
<p>å‚è€ƒï¼š </p>
<ol>
<li><a href="http://blog.csdn.net/harvic880925/article/details/49272285" target="_blank" rel="noopener">PopupWindowæ‰ä¼šå¯¹æ‰‹æœºçš„è¿”å›æŒ‰é’®æœ‰å“åº”</a></li>
</ol>
<h3 id="å¸¸ç”¨çš„UIæ–¹æ³•"><a href="#å¸¸ç”¨çš„UIæ–¹æ³•" class="headerlink" title="å¸¸ç”¨çš„UIæ–¹æ³•"></a>å¸¸ç”¨çš„UIæ–¹æ³•</h3><p>è·å–xmlå±æ€§</p>
<p>dbè½¬px  pxè½¬db åƒç´ è½¬æ¢</p>
<pre class="line-numbers language-java"><code class="language-java">  <span class="token comment" spellcheck="true">// Calculate ActionBar height</span>
  TypedValue tv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TypedValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">getTheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resolveAttribute</span><span class="token punctuation">(</span>
                    android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>attr<span class="token punctuation">.</span>actionBarSize<span class="token punctuation">,</span> tv<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                mActionBarHeight <span class="token operator">=</span> TypedValue<span class="token punctuation">.</span><span class="token function">complexToDimensionPixelSize</span><span class="token punctuation">(</span>
                        tv<span class="token punctuation">.</span>data<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>DensityUtil</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>lwj<span class="token punctuation">.</span>lib<span class="token punctuation">.</span>utils<span class="token punctuation">;</span>

<span class="token keyword">import</span> android<span class="token punctuation">.</span>content<span class="token punctuation">.</span>Context<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DensityUtil</span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">/** 
     * æ ¹æ®æ‰‹æœºçš„åˆ†è¾¨ç‡ä» dp çš„å•ä½ è½¬æˆä¸º px(åƒç´ ) 
     */</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">dip2px</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> <span class="token keyword">float</span> dpValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token keyword">float</span> scale <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>density<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>dpValue <span class="token operator">*</span> scale <span class="token operator">+</span> <span class="token number">0.5f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  

    <span class="token comment" spellcheck="true">/** 
     * æ ¹æ®æ‰‹æœºçš„åˆ†è¾¨ç‡ä» px(åƒç´ ) çš„å•ä½ è½¬æˆä¸º dp 
     */</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">px2dip</span><span class="token punctuation">(</span>Context context<span class="token punctuation">,</span> <span class="token keyword">float</span> pxValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token keyword">float</span> scale <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>density<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>pxValue <span class="token operator">/</span> scale <span class="token operator">+</span> <span class="token number">0.5f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>UI</tag>
      </tags>
  </entry>
  <entry>
    <title>ConstraintLayoutå…¥é—¨ä½“éªŒ</title>
    <url>/2017/02/07/2017-02-07-ConstraintLayout-study/</url>
    <content><![CDATA[<h3 id="ConstraintLayout"><a href="#ConstraintLayout" class="headerlink" title="ConstraintLayout"></a>ConstraintLayout</h3><ul>
<li>æ ¸å¿ƒæ€æƒ³ï¼šå¹³é¢å†…ç¡®å®šä¸€ç‚¹</li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>UI</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaDocå­¦ä¹ ç¬”è®°</title>
    <url>/2017/02/05/2017-02-05-java-doc/</url>
    <content><![CDATA[<h3 id="å®˜æ–¹å­¦ä¹ æ–‡æ¡£"><a href="#å®˜æ–¹å­¦ä¹ æ–‡æ¡£" class="headerlink" title="å®˜æ–¹å­¦ä¹ æ–‡æ¡£"></a>å®˜æ–¹å­¦ä¹ æ–‡æ¡£</h3><ul>
<li><a href="http://www.oracle.com/technetwork/java/javase/documentation/index-137868.html" target="_blank" rel="noopener">How to Write Doc Comments for the Javadoc Tool</a></li>
</ul>
<h3 id="å¸¸ç”¨çš„HTMLæ ‡ç­¾"><a href="#å¸¸ç”¨çš„HTMLæ ‡ç­¾" class="headerlink" title="å¸¸ç”¨çš„HTMLæ ‡ç­¾"></a>å¸¸ç”¨çš„HTMLæ ‡ç­¾</h3><hr>
<table>
<thead>
<tr>
<th>æ ‡ç­¾</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td><code>&lt;strong&gt;&lt;/strong&gt;</code></td>
<td>å­—ä½“åŠ ç²—</td>
</tr>
<tr>
<td><code>&lt;p&gt;</code></td>
<td>æ¢è¡Œ</td>
</tr>
<tr>
<td><code>&lt;img src="" width="" height=""&gt;</code></td>
<td>å›¾ç‰‡å¼•ç”¨</td>
</tr>
<tr>
<td><code>&lt;a href=""&gt;&lt;/a&gt;</code></td>
<td>è¶…é“¾æ¥å†…å®¹</td>
</tr>
</tbody></table>
<h4 id="åŠ ç²—-strong"><a href="#åŠ ç²—-strong" class="headerlink" title="åŠ ç²— strong"></a>åŠ ç²— strong</h4><p><code>&lt;strong&gt;Strong&lt;/strong&gt;</code></p>
<h4 id="è¶…é“¾æ¥-href"><a href="#è¶…é“¾æ¥-href" class="headerlink" title="è¶…é“¾æ¥ href"></a>è¶…é“¾æ¥ href</h4><p><code>&lt;a href="http://go.microsoft.com/fwlink/?LinkID=205219"&gt;Rx Design Guidelines (PDF)&lt;/a&gt;</code></p>
<h4 id="æ¢è¡Œ"><a href="#æ¢è¡Œ" class="headerlink" title="æ¢è¡Œ"></a>æ¢è¡Œ</h4><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">/** &lt;p>
*
**/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h4 id="å›¾ç‰‡å¼•ç”¨"><a href="#å›¾ç‰‡å¼•ç”¨" class="headerlink" title="å›¾ç‰‡å¼•ç”¨"></a>å›¾ç‰‡å¼•ç”¨</h4><p><code>&lt;img width="640" height="200" src="https://raw.github.com/create.png" alt=""&gt;</code></p>
<h3 id="å¸¸ç”¨çš„æ ¼å¼"><a href="#å¸¸ç”¨çš„æ ¼å¼" class="headerlink" title="å¸¸ç”¨çš„æ ¼å¼"></a>å¸¸ç”¨çš„æ ¼å¼</h3><hr>
<h4 id="æ ‡é¢˜åŠ ç²—æ¢è¡Œ"><a href="#æ ‡é¢˜åŠ ç²—æ¢è¡Œ" class="headerlink" title="æ ‡é¢˜åŠ ç²—æ¢è¡Œ"></a>æ ‡é¢˜åŠ ç²—æ¢è¡Œ</h4><pre class="line-numbers language-java"><code class="language-java"> <span class="token comment" spellcheck="true">/**
 * &lt;dl>
 *  &lt;dt>&lt;b>Backpressure:&lt;/b>&lt;/dt>
 *  &lt;dd>The {@code OnSubscribe} instance provided is responsible to be backpressure-aware or
 *  document the fact that the consumer of the returned {@code Observable} has to apply one of
 *  the {@code onBackpressureXXX} operators.&lt;/dd>
 *  &lt;dt>&lt;b>Scheduler:&lt;/b>&lt;/dt>
 *  &lt;dd>{@code create} does not operate by default on a particular {@link Scheduler}.&lt;/dd>
 * &lt;/dl>
 **/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>ç»éªŒ</tag>
        <tag>Java</tag>
        <tag>API</tag>
      </tags>
  </entry>
  <entry>
    <title>RxJava å­¦ä¹ ç¬”è®°</title>
    <url>/2017/02/01/2017-02-01-rx-learning-note/</url>
    <content><![CDATA[<h3 id="ä¸ºä»€ä¹ˆè¦å­¦RxJava"><a href="#ä¸ºä»€ä¹ˆè¦å­¦RxJava" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å­¦RxJava"></a>ä¸ºä»€ä¹ˆè¦å­¦RxJava</h3><ol>
<li>æœ€å¤§çš„å¥½å¤„åœ¨äº,å¾ˆä¼˜é›…å¤„ç†å„ç§çº¿ç¨‹åˆ‡æ¢,èƒ½ä½¿æ•´ä¸ªä»£ç å—çš„é€»è¾‘è¿è´¯,æ˜“äºé˜…è¯»å’Œç»´æŠ¤;</li>
<li>æä¾›ä¸°å¯Œçš„æ“ä½œç¬¦, èƒ½ä½¿å¾ˆå¤šå¤æ‚çš„æ“ä½œç®€å•å‡ æ­¥æå®š;</li>
<li>è¿ç”¨å“åº”å¼ç¼–ç¨‹,ä½¿æ•´ä¸ªç¼–ç¨‹æ›´æµç•…ç®€æ´;</li>
</ol>
<h3 id="å¼€æºåº“"><a href="#å¼€æºåº“" class="headerlink" title="å¼€æºåº“"></a>å¼€æºåº“</h3><hr>
<p><strong><a href="https://github.com/ReactiveX/RxJava" target="_blank" rel="noopener">RxJava</a></strong>&nbsp;&nbsp;&nbsp;&nbsp; <strong><a href="https://github.com/ReactiveX/RxAndroid" target="_blank" rel="noopener">RxAndroid</a></strong></p>
<h4 id="Rx-Sample"><a href="#Rx-Sample" class="headerlink" title="Rx Sample"></a>Rx Sample</h4><ul>
<li><strong><a href="https://github.com/artem-zinnatullin/RxUi" target="_blank" rel="noopener">RxUi</a></strong>  Implementation of pure functional concept of talking to Android View layer in a Reactive way</li>
<li><strong><a href="https://github.com/VictorAlbertos/ReactiveCache" target="_blank" rel="noopener">ReactiveCache</a></strong></li>
<li><a href="http://github.com/kaushikgopal/RxJava-Android-Samples" target="_blank" rel="noopener">Android-RxJava-samples</a> </li>
<li><a href="http://github.com/vyshane/rex-weather" target="_blank" rel="noopener">Rex-weather</a> </li>
<li><a href="https://pspdfkit.com/blog/2016/android-animations-powered-by-rx-java/" target="_blank" rel="noopener">Android animations powered by RxJava</a></li>
</ul>
<h4 id="Rx-ç›¸å…³çš„å¼€æºå·¥å…·åº“"><a href="#Rx-ç›¸å…³çš„å¼€æºå·¥å…·åº“" class="headerlink" title="Rx ç›¸å…³çš„å¼€æºå·¥å…·åº“"></a>Rx ç›¸å…³çš„å¼€æºå·¥å…·åº“</h4><ul>
<li><strong><a href="https://github.com/0ximDigital/RxAnimations" target="_blank" rel="noopener">RxAnimations</a></strong></li>
<li><strong><a href="https://github.com/JakeWharton/RxBinding" target="_blank" rel="noopener">RxBinding</a></strong></li>
<li><strong><a href="https://github.com/f2prateek/rx-preferences" target="_blank" rel="noopener">rx-preferences</a></strong> Reactive SharedPreferences for Android</li>
<li><strong><a href="https://github.com/requery/requery" target="_blank" rel="noopener">requery</a></strong> æ”¯æŒRxJava  Kotlin / Android ORMåº“</li>
<li><strong><a href="https://github.com/trello/RxLifecycle" target="_blank" rel="noopener">RxLifecycle</a></strong> å¤„ç†ç”±Activity æˆ– Fragmentç”Ÿå‘½å‘¨æœŸï¼Œå¯¼è‡´æ²¡æœ‰å®Œæˆçš„è®¢é˜…ï¼ˆsubscriptionsï¼‰è§¦å‘çš„å†…å­˜æ³„éœ²</li>
<li><a href="https://github.com/android10/frodo" target="_blank" rel="noopener">Frodo</a> æ¨¡ä»¿Jake Whartonâ€™s <a href="https://github.com/JakeWharton/hugo" target="_blank" rel="noopener">Hugo</a>ï¼Œä½¿ç”¨Javaåˆ‡é¢ç¼–ç¨‹çš„Android æ—¥å¿—å·¥å…·åº“</li>
<li><a href="https://github.com/pavlospt/RxIAPv3" target="_blank" rel="noopener">RxIAPv3</a> ä¸€ä¸ªç”¨Rxå°è£…åçš„ Android Appå†…è´­æ”¯ä»˜åº“ï¼Œæä¾›å‡ ä¸ªè´­ä¹°ã€æ¶ˆè´¹å’Œå•†å“æ¸…å•åˆ—è¡¨çš„Rxæ–¹æ³•ã€‚</li>
<li><a href="https://github.com/pavlospt/RxFile" target="_blank" rel="noopener">RxFile</a></li>
<li><strong><a href="https://github.com/ragnraok/RxCamera" target="_blank" rel="noopener">RxCamera</a></strong>  RxJava style API for android camera</li>
<li><strong><a href="https://github.com/tbruyelle/RxPermissions" target="_blank" rel="noopener">RxPermissions</a></strong> Android runtime permissions powered by RxJava</li>
</ul>
<h3 id="Resource"><a href="#Resource" class="headerlink" title="Resource"></a>Resource</h3><ul>
<li>Homepage <a href="http://reactivex.io/" target="_blank" rel="noopener">http://reactivex.io/</a></li>
<li>RxJava æ“ä½œç¬¦åŠ¨ç”»æ•ˆæœæ¼”ç¤º <a href="http://rxmarbles.com/" target="_blank" rel="noopener">http://rxmarbles.com/</a></li>
<li><a href="https://medium.com/@fabioCollini/testing-asynchronous-rxjava-code-using-mockito-8ad831a16877#.c0tch3nxw" target="_blank" rel="noopener">Testing asynchronous RxJava code using Mockito</a></li>
<li><a href="https://medium.com/@scottmeschke/rxrecipes-wrap-your-way-to-rx-fd40eb5254b6#.hbtcjp4rm" target="_blank" rel="noopener">RxRecipes: Wrap your way to Rx </a>  ä¸»è¦è®² fromCallable() fromAction()  æ›¿æ¢Rxä¸­çš„æ¥å£ï¼›</li>
<li><a href="http://www.andevcon.com/news/rxify-the-anti-cache-then-network-or-network-then-cache-problem" target="_blank" rel="noopener"><code>Rxify</code> : The Anti Cache-then-Network OR Network-then-Cache Problem</a> ä½¿ç”¨RX concat onErrorResumeNext onErrorReturn å¤„ç†è®¿é—®ç½‘ç»œå¤±è´¥åè¿”å›æœ¬åœ°ç¼“å­˜çš„æœºåˆ¶ã€‚</li>
<li><a href="http://okzhjyy82.bkt.clouddn.com/RxJavaEssentials.pdf" target="_blank" rel="noopener">Book: RxJavaEssentials.pdf</a> ã€è‹±æ–‡ã€‘</li>
<li><a href="https://github.com/yuxingxin/RxJava-Essentials-CN" target="_blank" rel="noopener">RxJava Essentials ä¸­æ–‡ç¿»è¯‘ç‰ˆ</a></li>
</ul>
<h4 id="å®˜æ–¹æ–‡æ¡£"><a href="#å®˜æ–¹æ–‡æ¡£" class="headerlink" title="å®˜æ–¹æ–‡æ¡£"></a>å®˜æ–¹æ–‡æ¡£</h4><ul>
<li><a href="http://reactivex.io/documentation/operators.html" target="_blank" rel="noopener">Doc for operators (æ“ä½œç¬¦ç›¸å…³æ–‡æ¡£)</a></li>
<li><a href="http://reactivex.io/documentation/scheduler.html" target="_blank" rel="noopener">Schedulerå®˜æ–¹æ–‡æ¡£</a> ã€å¾…ç ”ç©¶ã€‘</li>
<li><a href="https://github.com/ReactiveX/RxJava/wiki" target="_blank" rel="noopener">RxJava Wiki æ–‡æ¡£</a></li>
<li><a href="https://github.com/ReactiveX/RxJava/wiki/Implementing-Your-Own-Operators" target="_blank" rel="noopener">Implementing Your Own Operators</a> ã€å®ç°è‡ªå·±çš„æ“ä½œç¬¦ã€‘ã€é‡ç‚¹ã€‘</li>
</ul>
<h4 id="ç¿»è¯‘æ–‡æ¡£"><a href="#ç¿»è¯‘æ–‡æ¡£" class="headerlink" title="ç¿»è¯‘æ–‡æ¡£"></a>ç¿»è¯‘æ–‡æ¡£</h4><ul>
<li><a href="https://www.gitbook.com/book/mcxiaoke/rxdocs/details" target="_blank" rel="noopener">ReactiveX/RxJavaæ–‡æ¡£ä¸­æ–‡ç‰ˆ</a></li>
</ul>
<h4 id="ä¸€äº›é«˜è´¨é‡å­¦ä¹ èµ„æº"><a href="#ä¸€äº›é«˜è´¨é‡å­¦ä¹ èµ„æº" class="headerlink" title="ä¸€äº›é«˜è´¨é‡å­¦ä¹ èµ„æº"></a>ä¸€äº›é«˜è´¨é‡å­¦ä¹ èµ„æº</h4><ul>
<li><a href="http://androidweekly.cn/android-dev-special-weekly-rxjava-rxandroid-issue-0/" target="_blank" rel="noopener">Androidå¼€å‘æŠ€æœ¯å‘¨æŠ¥ç‰¹åˆŠä¹‹RxJava&amp;RxAndroid Issue#0 </a> ã€é‡ç‚¹ã€‘</li>
<li><a href="http://www.androidweekly.cn/android-dev-special-weekly-rxjava-rxandroid-issue-1/" target="_blank" rel="noopener">Androidå¼€å‘æŠ€æœ¯å‘¨æŠ¥ç‰¹åˆŠä¹‹RxJava&amp;RxAndroid Issue#1</a>ã€é‡ç‚¹ã€‘</li>
<li><a href="http://gank.io/post/560e15be2dca930e00da1083" target="_blank" rel="noopener">ç»™ Android å¼€å‘è€…çš„ RxJava è¯¦è§£</a></li>
<li><a href="http://www.imooc.com/article/2028" target="_blank" rel="noopener">ä½¿ç”¨RxJavaæ„é€ Androidæ¸…æ™°æ¡†æ¶</a></li>
<li><strong><a href="https://github.com/lzyzsd/Awesome-RxJava" target="_blank" rel="noopener">Awesome-RxJava</a></strong> ä¸€äº›RxJavaçš„èµ„æ–™é›†åˆ ã€æœ€çˆ±ã€‘</li>
<li><a href="http://blog.danlew.net/2014/09/15/grokking-rxjava-part-1/" title="Grokking RxJava, Part 1: The Basics" target="_blank" rel="noopener">Grokking RxJava, Part 1: The Basics</a> ã€è‹±æ–‡ã€‘</li>
</ul>
<h3 id="æ“ä½œç¬¦"><a href="#æ“ä½œç¬¦" class="headerlink" title="æ“ä½œç¬¦"></a>æ“ä½œç¬¦</h3><hr>
<h4 id="æ“ä½œç¬¦ç›¸å…³æ–‡ç« "><a href="#æ“ä½œç¬¦ç›¸å…³æ–‡ç« " class="headerlink" title="æ“ä½œç¬¦ç›¸å…³æ–‡ç« "></a>æ“ä½œç¬¦ç›¸å…³æ–‡ç« </h4><ul>
<li><a href="http://mushuichuan.com/tags/RxJava/" target="_blank" rel="noopener">æœ¨æ°´å·çš„åšå®¢</a> ã€å¼ºåŠ›æ¨èã€‘</li>
</ul>
<h4 id="throttleFirst"><a href="#throttleFirst" class="headerlink" title="throttleFirst():"></a><code>throttleFirst():</code></h4><p><code>RxView.clickEvents(button) // RxBinding ä»£ç ï¼Œåé¢çš„æ–‡ç« æœ‰è§£é‡Š .throttleFirst(500, TimeUnit.MILLISECONDS)</code></p>
<h4 id="FlatMapæ— åºï¼ŒconcatMapæœ‰åºæ’åˆ—"><a href="#FlatMapæ— åºï¼ŒconcatMapæœ‰åºæ’åˆ—" class="headerlink" title="FlatMapæ— åºï¼ŒconcatMapæœ‰åºæ’åˆ—"></a>FlatMapæ— åºï¼ŒconcatMapæœ‰åºæ’åˆ—</h4><p>FlatMapåº”ç”¨åœºæ™¯ï¼š 1. æŠ½å–å¯¹è±¡çš„é›†åˆå¹¶é€ä¸ªè¾“å‡ºï¼› 2. åµŒå¥—å›è°ƒè§£å†³å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼›</p>
<pre class="line-numbers language-java"><code class="language-java">Student<span class="token punctuation">[</span><span class="token punctuation">]</span> students <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
Subscriber<span class="token operator">&lt;</span>Course<span class="token operator">></span> subscriber <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subscriber</span><span class="token operator">&lt;</span>Course<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNext</span><span class="token punctuation">(</span>Course course<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> course<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Observable<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>students<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Func1</span><span class="token operator">&lt;</span>Student<span class="token punctuation">,</span> Observable<span class="token operator">&lt;</span>Course<span class="token operator">>></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> Observable<span class="token operator">&lt;</span>Course<span class="token operator">></span> <span class="token function">call</span><span class="token punctuation">(</span>Student student<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Observable<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>student<span class="token punctuation">.</span><span class="token function">getCourses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="first-vs-takeFirst"><a href="#first-vs-takeFirst" class="headerlink" title="first() vs. takeFirst()"></a><strong>first() vs. takeFirst()</strong></h4><p>  The difference between the two calls is that first()<br>   will throw a NoSuchElementException<br>   if none of the sources emits valid data, whereas takeFirst()<br>   will simply complete without exception.</p>
<h4 id="groupBy"><a href="#groupBy" class="headerlink" title=".groupBy()"></a>.groupBy()</h4><p>ä¸€æ—¦äº§ç”Ÿçš„Observableè¢«è®¢é˜…ï¼Œåˆ†ç»„äº§ç”Ÿçš„GroupedObservableå°±å¼€å§‹ç¼“å­˜ï¼Œæ²¡æœ‰è¢«è®¢é˜…ï¼ˆå¤„ç†ï¼‰çš„GroupedObservableå¯èƒ½ä¼šå¼•èµ·å†…å­˜æ³„éœ²ï¼Œ<br>æ•…ï¼Œå¯¹ä¸æƒ³å¤„ç†çš„GroupedObservableï¼Œä½¿ç”¨take(0)é‡Šæ”¾ç¼“å­˜ï¼›</p>
<h4 id="combineLatest"><a href="#combineLatest" class="headerlink" title="combineLatest"></a>combineLatest</h4><p><img src="http://upload-images.jianshu.io/upload_images/611087-232eae2103188570.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h4 id="ç¬”è®°"><a href="#ç¬”è®°" class="headerlink" title="ç¬”è®°"></a>ç¬”è®°</h4><pre class="line-numbers language-java"><code class="language-java">æ“ä½œç¬¦åˆ†ç±»
åˆå¹¶å‹
combineLatest
join
merge
mergeDelayError
switchOnNextæ“ä½œç¬¦æ˜¯æŠŠä¸€ç»„Observableè½¬æ¢æˆä¸€ä¸ªObservable
zipæ“ä½œç¬¦æ˜¯æŠŠä¸¤ä¸ªobservableæäº¤çš„ç»“æœï¼Œä¸¥æ ¼æŒ‰ç…§é¡ºåºè¿›è¡Œåˆå¹¶
æˆªå–æ·»åŠ åˆ†ç±»å‹
startWith

buffer
debounce
window
groupBy
distinct

elementAt
filter
ofType
first
last
single
sample
skip
skipLast
take
é”™è¯¯å¤„ç†
onErrorReturn
onErrorResumeNext <span class="token keyword">return</span> Observerable
onExceptionResumeNext

æ”¹å˜æµç¨‹èµ°å‘
retry
retryWhen

å…¶ä»–
concatMap
cast
scan
ignoreElementsæ“ä½œç¬¦å¿½ç•¥æ‰€æœ‰æºObservableäº§ç”Ÿçš„ç»“æœï¼ŒåªæŠŠObservableçš„onCompletedå’ŒonErroräº‹ä»¶é€šçŸ¥ç»™è®¢é˜…è€…<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="è¿›ä»·é—®é¢˜ç ”ç©¶"><a href="#è¿›ä»·é—®é¢˜ç ”ç©¶" class="headerlink" title="è¿›ä»·é—®é¢˜ç ”ç©¶"></a>è¿›ä»·é—®é¢˜ç ”ç©¶</h3><hr>
<h4 id="çº¿ç¨‹æ§åˆ¶-Scheduler"><a href="#çº¿ç¨‹æ§åˆ¶-Scheduler" class="headerlink" title="çº¿ç¨‹æ§åˆ¶ Scheduler"></a>çº¿ç¨‹æ§åˆ¶ Scheduler</h4><p>åœ¨RxJava ä¸­ï¼ŒScheduler â€”â€”è°ƒåº¦å™¨ï¼Œç›¸å½“äºçº¿ç¨‹æ§åˆ¶å™¨ï¼ŒRxJava é€šè¿‡å®ƒæ¥æŒ‡å®šæ¯ä¸€æ®µä»£ç åº”è¯¥è¿è¡Œåœ¨ä»€ä¹ˆæ ·çš„çº¿ç¨‹ã€‚RxJava å·²ç»å†…ç½®äº†å‡ ä¸ª Scheduler ï¼Œå®ƒä»¬å·²ç»é€‚åˆå¤§å¤šæ•°çš„ä½¿ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>Schedulers.immediate(): ç›´æ¥åœ¨å½“å‰çº¿ç¨‹è¿è¡Œï¼Œç›¸å½“äºä¸æŒ‡å®šçº¿ç¨‹ã€‚è¿™æ˜¯é»˜è®¤çš„ Schedulerã€‚</li>
<li>Schedulers.newThread(): æ€»æ˜¯å¯ç”¨æ–°çº¿ç¨‹ï¼Œå¹¶åœ¨æ–°çº¿ç¨‹æ‰§è¡Œæ“ä½œã€‚</li>
<li>Schedulers.io(): I/O æ“ä½œï¼ˆè¯»å†™æ–‡ä»¶ã€è¯»å†™æ•°æ®åº“ã€ç½‘ç»œä¿¡æ¯äº¤äº’ç­‰ï¼‰æ‰€ä½¿ç”¨çš„ Schedulerã€‚è¡Œä¸ºæ¨¡å¼å’Œ newThread() å·®ä¸å¤šï¼ŒåŒºåˆ«åœ¨äº io() çš„å†…éƒ¨å®ç°æ˜¯æ˜¯ç”¨ä¸€ä¸ªæ— æ•°é‡ä¸Šé™çš„çº¿ç¨‹æ± ï¼Œå¯ä»¥é‡ç”¨ç©ºé—²çš„çº¿ç¨‹ï¼Œå› æ­¤å¤šæ•°æƒ…å†µä¸‹ io() æ¯” newThread() æ›´æœ‰æ•ˆç‡ã€‚ä¸è¦æŠŠè®¡ç®—å·¥ä½œæ”¾åœ¨ io() ä¸­ï¼Œå¯ä»¥é¿å…åˆ›å»ºä¸å¿…è¦çš„çº¿ç¨‹ã€‚</li>
<li>Schedulers.computation(): è®¡ç®—æ‰€ä½¿ç”¨çš„ Schedulerã€‚è¿™ä¸ªè®¡ç®—æŒ‡çš„æ˜¯ CPU å¯†é›†å‹è®¡ç®—ï¼Œå³ä¸ä¼šè¢« I/O ç­‰æ“ä½œé™åˆ¶æ€§èƒ½çš„æ“ä½œï¼Œä¾‹å¦‚å›¾å½¢çš„è®¡ç®—ã€‚è¿™ä¸ª Scheduler ä½¿ç”¨çš„å›ºå®šçš„çº¿ç¨‹æ± ï¼Œå¤§å°ä¸º CPU æ ¸æ•°ã€‚ä¸è¦æŠŠ I/O æ“ä½œæ”¾åœ¨ computation() ä¸­ï¼Œå¦åˆ™ I/O æ“ä½œçš„ç­‰å¾…æ—¶é—´ä¼šæµªè´¹ CPUã€‚<br>å¦å¤–ï¼Œ Android è¿˜æœ‰ä¸€ä¸ªä¸“ç”¨çš„ AndroidSchedulers.mainThread()ï¼Œå®ƒæŒ‡å®šçš„æ“ä½œå°†åœ¨ Android ä¸»çº¿ç¨‹è¿è¡Œã€‚<br>æœ‰äº†è¿™å‡ ä¸ª Scheduler ï¼Œå°±å¯ä»¥ä½¿ç”¨ subscribeOn() å’Œ observeOn() ä¸¤ä¸ªæ–¹æ³•æ¥å¯¹çº¿ç¨‹è¿›è¡Œæ§åˆ¶äº†ã€‚</li>
</ul>
<ul>
<li>subscribeOn() vs observeOn() å¯¹äº‹æƒ…çº¿ç¨‹çš„å½±å“ï¼›<blockquote>
<p>subscribeOn() çš„çº¿ç¨‹æ§åˆ¶å¯ä»¥ä»äº‹ä»¶å‘å‡ºçš„å¼€ç«¯å°±é€ æˆå½±å“ï¼›è€Œ observeOn() çš„çº¿ç¨‹åˆ‡æ¢åˆ™å‘ç”Ÿåœ¨å®ƒå†…å»ºçš„ Subscriber ä¸­ï¼Œå³å‘ç”Ÿåœ¨å®ƒå³å°†ç»™ä¸‹ä¸€çº§ Subscriber å‘é€äº‹ä»¶æ—¶ï¼Œå› æ­¤ observeOn() æ§åˆ¶çš„æ˜¯å®ƒåé¢çš„çº¿ç¨‹ã€‚</p>
</blockquote>
</li>
<li>doOnSubscribe()çš„åé¢è·Ÿä¸€ä¸ª subscribeOn() ï¼Œå°±èƒ½æŒ‡å®šå‡†å¤‡å·¥ä½œçš„çº¿ç¨‹äº†ã€‚<pre class="line-numbers language-java"><code class="language-java">Observable<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>onSubscribe<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">subscribeOn</span><span class="token punctuation">(</span>Schedulers<span class="token punctuation">.</span><span class="token function">io</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">doOnSubscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Action0</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          progressBar<span class="token punctuation">.</span><span class="token function">setVisibility</span><span class="token punctuation">(</span>View<span class="token punctuation">.</span>VISIBLE<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// éœ€è¦åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œ</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">subscribeOn</span><span class="token punctuation">(</span>AndroidSchedulers<span class="token punctuation">.</span><span class="token function">mainThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// æŒ‡å®šä¸»çº¿ç¨‹</span>
  <span class="token punctuation">.</span><span class="token function">observeOn</span><span class="token punctuation">(</span>AndroidSchedulers<span class="token punctuation">.</span><span class="token function">mainThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h4 id="Backpressure-ã€å¾…ç ”ç©¶ã€‘"><a href="#Backpressure-ã€å¾…ç ”ç©¶ã€‘" class="headerlink" title="Backpressure ã€å¾…ç ”ç©¶ã€‘"></a>Backpressure ã€å¾…ç ”ç©¶ã€‘</h4><p><img src="http://ohlb58e07.bkt.clouddn.com/big_stomach.jpg" alt=""></p>
<blockquote>
<p>ç”Ÿäº§é€Ÿåº¦æ¯”æ¶ˆè´¹å¿«,æŠ›å‡ºMissingBackpressureExceptionçš„å¼‚å¸¸<br><a href="https://github.com/ReactiveX/RxJava/wiki/Backpressure" target="_blank" rel="noopener">å®˜æ–¹å¯¹Backpressureçš„ä»‹ç»åŠå¯¹åº”çš„è§£å†³æ–¹æ¡ˆ</a></p>
</blockquote>
<h3 id="ä½¿ç”¨æ¡ˆä¾‹"><a href="#ä½¿ç”¨æ¡ˆä¾‹" class="headerlink" title="ä½¿ç”¨æ¡ˆä¾‹"></a>ä½¿ç”¨æ¡ˆä¾‹</h3><hr>
<h4 id="çœç•¥subscribeOn-å’ŒobserveOn-åœ¨åˆ‡æ¢çº¿ç¨‹æ—¶"><a href="#çœç•¥subscribeOn-å’ŒobserveOn-åœ¨åˆ‡æ¢çº¿ç¨‹æ—¶" class="headerlink" title="çœç•¥subscribeOn()å’ŒobserveOn()åœ¨åˆ‡æ¢çº¿ç¨‹æ—¶"></a>çœç•¥subscribeOn()å’ŒobserveOn()åœ¨åˆ‡æ¢çº¿ç¨‹æ—¶</h4><p>åœ¨Androidå¼€å‘çš„æ—¶å€™é¢‘ç¹ä½¿ç”¨subscribeOn()å’ŒobserveOn()ï¼Œåå°çº¿ç¨‹å’ŒUIçº¿ç¨‹åˆ‡æ¢<br>è¿™å¯ä»¥å¯ä»¥æŠ½ç¦»å‡ºæ¥ï¼ˆæ–‡ç« ï¼š<a href="http://www.jianshu.com/p/e9e03194199e" target="_blank" rel="noopener">é¿å…æ‰“æ–­é“¾å¼ç»“æ„ï¼šä½¿ç”¨.compose( )æ“ä½œç¬¦</a>ï¼‰</p>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token operator">&lt;</span>T<span class="token operator">></span> Transformer<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> T<span class="token operator">></span> <span class="token function">applySchedulers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Transformer</span><span class="token operator">&lt;</span>T<span class="token punctuation">,</span> T<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> Observable<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token function">call</span><span class="token punctuation">(</span>Observable<span class="token operator">&lt;</span>T<span class="token operator">></span> observable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> observable<span class="token punctuation">.</span><span class="token function">subscribeOn</span><span class="token punctuation">(</span>Schedulers<span class="token punctuation">.</span><span class="token function">io</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">.</span><span class="token function">observeOn</span><span class="token punctuation">(</span>AndroidSchedulers<span class="token punctuation">.</span><span class="token function">mainThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="ä½¿ç”¨debounceåštextSearch"><a href="#ä½¿ç”¨debounceåštextSearch" class="headerlink" title="ä½¿ç”¨debounceåštextSearch"></a>ä½¿ç”¨debounceåštextSearch</h4><p>ç”¨ç®€å•çš„è¯è®²å°±æ˜¯å½“Nä¸ªç»“ç‚¹å‘ç”Ÿçš„æ—¶é—´å¤ªé è¿‘ï¼ˆå³å‘ç”Ÿçš„æ—¶é—´å·®å°äºè®¾å®šçš„å€¼Tï¼‰ï¼Œdebounceå°±ä¼šè‡ªåŠ¨è¿‡æ»¤æ‰å‰N-1ä¸ªç»“ç‚¹ã€‚<br>è§£å†³é¢‘ç¹æ”¹å˜ï¼Œå¯¼è‡´çš„å¤šä½™çš„ç½‘ç»œè®¿é—®ï¼ˆåœºæ™¯ä¸¾ä¾‹ï¼šåˆ é™¤å¤šä½™ä¿¡æ¯ï¼‰</p>
<pre class="line-numbers language-java"><code class="language-java">RxTextView<span class="token punctuation">.</span><span class="token function">textChangeEvents</span><span class="token punctuation">(</span>inputEditText<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">observeOn</span><span class="token punctuation">(</span>AndroidSchedulers<span class="token punctuation">.</span><span class="token function">mainThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token operator">&lt;</span>TextViewTextChangeEvent<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"onComplete"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>Throwable e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"Error"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNext</span><span class="token punctuation">(</span>TextViewTextChangeEvent onTextChangeEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Searching for %s"</span><span class="token punctuation">,</span> onTextChangeEvent<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="RxJavaä»£æ›¿EventBusï¼ŒOttoï¼šRxBus"><a href="#RxJavaä»£æ›¿EventBusï¼ŒOttoï¼šRxBus" class="headerlink" title="RxJavaä»£æ›¿EventBusï¼ŒOttoï¼šRxBus"></a>RxJavaä»£æ›¿EventBusï¼ŒOttoï¼šRxBus</h4><ul>
<li><a href="http://www.jianshu.com/p/ca090f6e2fe2" target="_blank" rel="noopener">ç”¨RxJavaå®ç°äº‹ä»¶æ€»çº¿(Event Bus)</a></li>
<li><a href="http://blog.kaush.co/2014/12/24/implementing-an-event-bus-with-rxjava-rxbus/" target="_blank" rel="noopener">Implementing an Event Bus With RxJava - RxBus</a></li>
</ul>
<h4 id="å»¶è¿Ÿ"><a href="#å»¶è¿Ÿ" class="headerlink" title="å»¶è¿Ÿ"></a>å»¶è¿Ÿ</h4><pre class="line-numbers language-java"><code class="language-java">Observable<span class="token punctuation">.</span><span class="token function">timer</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token operator">&lt;</span>Long<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token annotation punctuation">@Override</span>
                  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      log<span class="token punctuation">.</span><span class="token function">d</span> <span class="token punctuation">(</span><span class="token string">"completed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>

                  <span class="token annotation punctuation">@Override</span>
                  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>Throwable e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">"error"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>

                  <span class="token annotation punctuation">@Override</span>
                  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNext</span><span class="token punctuation">(</span>Long number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      log<span class="token punctuation">.</span><span class="token function">d</span> <span class="token punctuation">(</span><span class="token string">"hello world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="schedulePeriodicallyè½®è¯¢"><a href="#schedulePeriodicallyè½®è¯¢" class="headerlink" title="schedulePeriodicallyè½®è¯¢"></a>schedulePeriodicallyè½®è¯¢</h4><pre class="line-numbers language-java"><code class="language-java">Observable<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Observable<span class="token punctuation">.</span>OnSubscribe</span><span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">final</span> Subscriber<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> String<span class="token operator">></span> observer<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                Schedulers<span class="token punctuation">.</span><span class="token function">newThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createWorker</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                      <span class="token punctuation">.</span><span class="token function">schedulePeriodically</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Action0</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                          <span class="token annotation punctuation">@Override</span>
                          <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                              observer<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span><span class="token function">doNetworkCallAndGetStringResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                          <span class="token punctuation">}</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span> INITIAL_DELAY<span class="token punctuation">,</span> POLLING_INTERVAL<span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Action1</span><span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span>String s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>"pollingâ€¦<span class="token punctuation">.</span>â€<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="ä½¿ç”¨RxJavaå¤„ç†å¤æ‚çš„Urlæ“ä½œ"><a href="#ä½¿ç”¨RxJavaå¤„ç†å¤æ‚çš„Urlæ“ä½œ" class="headerlink" title="ä½¿ç”¨RxJavaå¤„ç†å¤æ‚çš„Urlæ“ä½œ"></a>ä½¿ç”¨RxJavaå¤„ç†å¤æ‚çš„Urlæ“ä½œ</h4><pre class="line-numbers language-java"><code class="language-java"><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>urls <span class="token operator">-</span><span class="token operator">></span> Observable<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>urls<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//æ‹†åˆ†List</span>
    <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>url <span class="token operator">-</span><span class="token operator">></span> <span class="token function">getTitle</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// è·å–ç½‘ç«™å¤´åç§°</span>
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>title <span class="token operator">-</span><span class="token operator">></span> title <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// è¿‡æ»¤æ‰title == null</span>
    <span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// å–å‰5ä¸ª</span>
    <span class="token punctuation">.</span><span class="token function">doOnNext</span><span class="token punctuation">(</span>title <span class="token operator">-</span><span class="token operator">></span> <span class="token function">saveTitle</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// åœ¨å¾—åˆ°ç»“æœå‰ä¿å­˜æ ‡é¢˜åˆ°Diské‡Œ</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>title <span class="token operator">-</span><span class="token operator">></span> System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="æŒ‰é¡ºåºä»å†…å­˜â€“-gt-æ–‡ä»¶â€“-gt-ç½‘ç»œè·å–èµ„æº-æˆåŠŸç¨‹åºåœæ­¢"><a href="#æŒ‰é¡ºåºä»å†…å­˜â€“-gt-æ–‡ä»¶â€“-gt-ç½‘ç»œè·å–èµ„æº-æˆåŠŸç¨‹åºåœæ­¢" class="headerlink" title="æŒ‰é¡ºåºä»å†…å­˜â€“>æ–‡ä»¶â€“>ç½‘ç»œè·å–èµ„æº,æˆåŠŸç¨‹åºåœæ­¢"></a>æŒ‰é¡ºåºä»å†…å­˜â€“&gt;æ–‡ä»¶â€“&gt;ç½‘ç»œè·å–èµ„æº,æˆåŠŸç¨‹åºåœæ­¢</h4><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">final</span> Observable<span class="token operator">&lt;</span>String<span class="token operator">></span> memory <span class="token operator">=</span> Observable<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Observable<span class="token punctuation">.</span>OnSubscribe</span><span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span>Subscriber<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> String<span class="token operator">></span> subscriber<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>memoryCache <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            subscriber<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>memoryCache<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            subscriber<span class="token punctuation">.</span><span class="token function">onCompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


Observable<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>memory<span class="token punctuation">,</span> disk<span class="token punctuation">,</span> network<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">subscribeOn</span><span class="token punctuation">(</span>Schedulers<span class="token punctuation">.</span><span class="token function">newThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>s <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">{</span>
    memoryCache <span class="token operator">=</span> <span class="token string">"memory"</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"--------------subscribe: "</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="å¤šä¸ªå¼‚æ­¥å¹¶å‘å¤„ç†å®Œï¼Œå†æ›´æ–°"><a href="#å¤šä¸ªå¼‚æ­¥å¹¶å‘å¤„ç†å®Œï¼Œå†æ›´æ–°" class="headerlink" title="å¤šä¸ªå¼‚æ­¥å¹¶å‘å¤„ç†å®Œï¼Œå†æ›´æ–°"></a>å¤šä¸ªå¼‚æ­¥å¹¶å‘å¤„ç†å®Œï¼Œå†æ›´æ–°</h4><pre class="line-numbers language-java"><code class="language-java">  Observable<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>observable1<span class="token punctuation">,</span> observable2<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">subscribeOn</span><span class="token punctuation">(</span>Schedulers<span class="token punctuation">.</span><span class="token function">newThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h4 id="flatMapå¤„ç†å¼‚æ­¥åµŒå¥—å¼‚æ­¥ï¼ˆCallback-Hellï¼‰"><a href="#flatMapå¤„ç†å¼‚æ­¥åµŒå¥—å¼‚æ­¥ï¼ˆCallback-Hellï¼‰" class="headerlink" title="flatMapå¤„ç†å¼‚æ­¥åµŒå¥—å¼‚æ­¥ï¼ˆCallback Hellï¼‰"></a>flatMapå¤„ç†å¼‚æ­¥åµŒå¥—å¼‚æ­¥ï¼ˆCallback Hellï¼‰</h4><pre class="line-numbers language-java"><code class="language-java">NetworkService<span class="token punctuation">.</span><span class="token function">getToken</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span> <span class="token string">"password"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>s <span class="token operator">-</span><span class="token operator">></span> NetworkService<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>s <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"message: "</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="æŒ‰é’®é˜²æŠ–"><a href="#æŒ‰é’®é˜²æŠ–" class="headerlink" title="æŒ‰é’®é˜²æŠ–"></a>æŒ‰é’®é˜²æŠ–</h4><pre class="line-numbers language-java"><code class="language-java">RxView<span class="token punctuation">.</span><span class="token function">clicks</span><span class="token punctuation">(</span><span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_throttle<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">throttleFirst</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>aVoid <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="å“åº”å¼çš„ç•Œé¢"><a href="#å“åº”å¼çš„ç•Œé¢" class="headerlink" title="å“åº”å¼çš„ç•Œé¢"></a>å“åº”å¼çš„ç•Œé¢</h4><p>å‹¾é€‰äº†æŸä¸ªcheckboxï¼Œè‡ªåŠ¨æ›´æ–°å¯¹åº”çš„preference</p>
<pre class="line-numbers language-java"><code class="language-java">SharedPreferences preferences <span class="token operator">=</span> PreferenceManager<span class="token punctuation">.</span><span class="token function">getDefaultSharedPreferences</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
RxSharedPreferences rxPreferences <span class="token operator">=</span> RxSharedPreferences<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>preferences<span class="token punctuation">)</span><span class="token punctuation">;</span>
Preference<span class="token operator">&lt;</span>Boolean<span class="token operator">></span> checked <span class="token operator">=</span> rxPreferences<span class="token punctuation">.</span><span class="token function">getBoolean</span><span class="token punctuation">(</span><span class="token string">"checked"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
CheckBox checkBox <span class="token operator">=</span> <span class="token punctuation">(</span>CheckBox<span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>cb_test<span class="token punctuation">)</span><span class="token punctuation">;</span>
RxCompoundButton<span class="token punctuation">.</span><span class="token function">checkedChanges</span><span class="token punctuation">(</span>checkBox<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>checked<span class="token punctuation">.</span><span class="token function">asAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="Fragment-æ—‹è½¬ç¼“å­˜ã€å¾…ç ”ç©¶ã€‘"><a href="#Fragment-æ—‹è½¬ç¼“å­˜ã€å¾…ç ”ç©¶ã€‘" class="headerlink" title="Fragment æ—‹è½¬ç¼“å­˜ã€å¾…ç ”ç©¶ã€‘"></a>Fragment æ—‹è½¬ç¼“å­˜ã€å¾…ç ”ç©¶ã€‘</h4><pre class="line-numbers language-java"><code class="language-java">  <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">/*.cache()æ“ä½œç¬¦ï¼š å½“ç¬¬ä¸€ä¸ªsubscribeè®¢é˜…çš„æ—¶å€™ï¼Œæ‰ä¼šè¿æ¥åŸå§‹Observableï¼Œç¼“å­˜äº‹ä»¶,
      é‡å‘ç»™åç»­è®¢é˜…çš„subscribe å€¼å¾—æ³¨æ„çš„äº‹ï¼Œ
       å®ƒå’Œä½¿ç”¨äº†.replay().publish()æ“ä½œç¬¦çš„ConnectableObservableçš„ä¸åŒã€‚
       å¦å¤–ï¼Œä¸ºäº†é¿å…å†…å­˜å¼€é”€ï¼Œä¸å»ºè®®ç¼“å­˜å¤§é‡äº‹ä»¶*/</span>
    <span class="token function">setRetainInstance</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cacheObservable <span class="token operator">=</span> weatherManager<span class="token punctuation">.</span><span class="token function">getWeather</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">cache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onViewCreated</span><span class="token punctuation">(</span>View view<span class="token punctuation">,</span> Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onViewCreated</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cacheObservable<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token comment" spellcheck="true">/*your subscribe*/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æµ‹è¯•è°ƒè¯•-ã€å¾…ç ”ç©¶ã€‘"><a href="#æµ‹è¯•è°ƒè¯•-ã€å¾…ç ”ç©¶ã€‘" class="headerlink" title="æµ‹è¯•è°ƒè¯• ã€å¾…ç ”ç©¶ã€‘"></a>æµ‹è¯•è°ƒè¯• ã€å¾…ç ”ç©¶ã€‘</h3><hr>
<ul>
<li><a href="http://fedepaol.github.io/blog/2015/09/13/testing-rxjava-observables-subscriptions/" target="_blank" rel="noopener">Unit Testing RxJava Observables and Subscriptions</a></li>
<li><a href="http://fernandocejas.com/2015/11/05/debugging-rxjava-on-android/" target="_blank" rel="noopener">Debugging RxJava on Android</a></li>
</ul>
<h3 id="å®æˆ˜ç¬”è®°"><a href="#å®æˆ˜ç¬”è®°" class="headerlink" title="å®æˆ˜ç¬”è®°"></a>å®æˆ˜ç¬”è®°</h3><hr>
<p><strong>RxJava-Android-Samples</strong><br><strong>RetrofitFragment.java</strong><br>Observable.zip / Observable.just <a href="https://gist.github.com/Orange168/2f751594f95f9b05c129cd44f5b10739" target="_blank" rel="noopener">gist code</a></p>
<p><strong>DebounceSearchEmitterFragment.java</strong><br><a href="https://gist.github.com/Orange168/ab5784b27fec8ee8e2614a189c094636" target="_blank" rel="noopener">RxTextView.textChangeEvents gitst code </a></p>
<p><strong>BufferDemoFragment.java</strong><br>     RxView.clickEvents/  .buffer(2, TimeUnit.SECONDS) //æ”¶é›†2så†…çš„ç‚¹å‡»äº‹ä»¶åˆ°Listä¸­</p>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token keyword">private</span> Subscription <span class="token function">_getBufferedSubscription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">return</span> RxView<span class="token punctuation">.</span><span class="token function">clickEvents</span><span class="token punctuation">(</span>_tapBtn<span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Func1</span><span class="token operator">&lt;</span>ViewClickEvent<span class="token punctuation">,</span> Integer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token annotation punctuation">@Override</span>
                  <span class="token keyword">public</span> Integer <span class="token function">call</span><span class="token punctuation">(</span>ViewClickEvent onClickEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">"--------- GOT A TAP"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token function">_log</span><span class="token punctuation">(</span><span class="token string">"GOT A TAP"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">buffer</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//æ”¶é›†2så†…çš„ç‚¹å‡»äº‹ä»¶åˆ°Listä¸­</span>
              <span class="token punctuation">.</span><span class="token function">observeOn</span><span class="token punctuation">(</span>AndroidSchedulers<span class="token punctuation">.</span><span class="token function">mainThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token operator">&lt;</span>List<span class="token operator">&lt;</span>Integer<span class="token operator">>></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> ï¼‰ï¼›<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>PublishSubject</p>
<pre class="line-numbers language-java"><code class="language-java"> PublishSubject<span class="token operator">&lt;</span>Float<span class="token operator">></span>   _resultEmitterSubject <span class="token operator">=</span> PublishSubject<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _subscription <span class="token operator">=</span> _resultEmitterSubject<span class="token punctuation">.</span><span class="token function">asObservable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Action1</span><span class="token operator">&lt;</span>Float<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span>Float aFloat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                _result<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>aFloat<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         _resultEmitterSubject<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>num1 <span class="token operator">+</span> num2<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token annotation punctuation">@OnTextChanged</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><em>PollingFragment.java</em><br>CompositeSubscription / interval /doOnSubscribe /repeatWhen /Observable.timer</p>
<pre class="line-numbers language-java"><code class="language-java">       _subscriptions<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token comment" spellcheck="true">//</span>
              Observable<span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">repeatWhen</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RepeatWithDelay</span><span class="token punctuation">(</span>pollCount<span class="token punctuation">,</span> pollingInterval<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Action1</span><span class="token operator">&lt;</span>Object<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token annotation punctuation">@Override</span>
                        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token function">_log</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>Locale<span class="token punctuation">.</span>US<span class="token punctuation">,</span> <span class="token string">"Executing polled task now time : [xx:%02d]"</span><span class="token punctuation">,</span>
                                  <span class="token function">_getSecondHand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Action1</span><span class="token operator">&lt;</span>Throwable<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token annotation punctuation">@Override</span>
                        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span>Throwable e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token string">"arrrr. Error"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
            _subscriptions<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token comment" spellcheck="true">//</span>
              Observable<span class="token punctuation">.</span><span class="token function">interval</span><span class="token punctuation">(</span>INITIAL_DELAY<span class="token punctuation">,</span> POLLING_INTERVAL<span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Func1</span><span class="token operator">&lt;</span>Long<span class="token punctuation">,</span> String<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token annotation punctuation">@Override</span>
                        <span class="token keyword">public</span> String <span class="token function">call</span><span class="token punctuation">(</span>Long heartBeat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">return</span> <span class="token function">_doNetworkCallAndGetStringResult</span><span class="token punctuation">(</span>heartBeat<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span>pollCount<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">doOnSubscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Action0</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token annotation punctuation">@Override</span>
                        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token function">_log</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Start simple polling - %s"</span><span class="token punctuation">,</span> _counter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Action1</span><span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token annotation punctuation">@Override</span>
                        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span>String taskName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token function">_log</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>Locale<span class="token punctuation">.</span>US<span class="token punctuation">,</span> <span class="token string">"Executing polled task [%s] now time : [xx:%02d]"</span><span class="token punctuation">,</span>
                                  taskName<span class="token punctuation">,</span> <span class="token function">_getSecondHand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RepeatWithDelay</span>
          <span class="token keyword">implements</span> <span class="token class-name">Func1</span><span class="token operator">&lt;</span>Observable<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Void</span><span class="token operator">></span><span class="token punctuation">,</span> Observable<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">>></span> <span class="token punctuation">{</span>

        <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">int</span> _repeatLimit<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">int</span> _pollingInterval<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> _repeatCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

        <span class="token function">RepeatWithDelay</span><span class="token punctuation">(</span><span class="token keyword">int</span> repeatLimit<span class="token punctuation">,</span> <span class="token keyword">int</span> pollingInterval<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            _pollingInterval <span class="token operator">=</span> pollingInterval<span class="token punctuation">;</span>
            _repeatLimit <span class="token operator">=</span> repeatLimit<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment" spellcheck="true">// this is a notificationhandler, all we care about is</span>
        <span class="token comment" spellcheck="true">// the emission "type" not emission "content"</span>
        <span class="token comment" spellcheck="true">// only onNext triggers a re-subscription</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> Observable<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span> <span class="token function">call</span><span class="token punctuation">(</span>Observable<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Void</span><span class="token operator">></span> inputObservable<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token comment" spellcheck="true">// it is critical to use inputObservable in the chain for the result</span>
            <span class="token comment" spellcheck="true">// ignoring it and doing your own thing will break the sequence</span>

            <span class="token keyword">return</span> inputObservable<span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Func1</span><span class="token operator">&lt;</span>Void<span class="token punctuation">,</span> Observable<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">>></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> Observable<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span> <span class="token function">call</span><span class="token punctuation">(</span>Void blah<span class="token punctuation">)</span> <span class="token punctuation">{</span>


                    <span class="token keyword">if</span> <span class="token punctuation">(</span>_repeatCount <span class="token operator">>=</span> _repeatLimit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token comment" spellcheck="true">// terminate the sequence cause we reached the limit</span>
                        <span class="token function">_log</span><span class="token punctuation">(</span><span class="token string">"Completing sequence"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">return</span> Observable<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>

                    <span class="token comment" spellcheck="true">// since we don't get an input</span>
                    <span class="token comment" spellcheck="true">// we store state in this handler to tell us the point of time we're firing</span>
                    _repeatCount<span class="token operator">++</span><span class="token punctuation">;</span>

                    <span class="token keyword">return</span> Observable<span class="token punctuation">.</span><span class="token function">timer</span><span class="token punctuation">(</span>_repeatCount <span class="token operator">*</span> _pollingInterval<span class="token punctuation">,</span>
                          TimeUnit<span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><em>RxBusDemoFragment.java</em><br>ConnectableObservable / SerializedSubject<br><a href="https://gist.github.com/Orange168/81a3f2dc67bc2248b56b3697adcc601e" target="_blank" rel="noopener">gistä»£ç </a></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">final</span> Subject<span class="token operator">&lt;</span>Object<span class="token punctuation">,</span> Object<span class="token operator">></span> _bus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SerializedSubject</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span>PublishSubject<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
_bus<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">;</span>
_bus<span class="token punctuation">.</span><span class="token function">hasObservers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ConnectableObservable<span class="token operator">&lt;</span>Object<span class="token operator">></span> tapEventEmitter <span class="token operator">=</span> _rxBus<span class="token punctuation">.</span><span class="token function">toObserverable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   _subscriptions<span class="token comment" spellcheck="true">//</span>
              <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>tapEventEmitter<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Action1</span><span class="token operator">&lt;</span>Object<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token annotation punctuation">@Override</span>
                  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span>Object event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      <span class="token keyword">if</span> <span class="token punctuation">(</span>event <span class="token keyword">instanceof</span> <span class="token class-name">RxBusDemoFragment<span class="token punctuation">.</span>TapEvent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                          <span class="token function">_showTapText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 stream<span class="token punctuation">.</span><span class="token function">buffer</span><span class="token punctuation">(</span>stream<span class="token punctuation">.</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 _subscriptions<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>tapEventEmitter<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><em>FormValidationCombineLatestFragment.java</em></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">private</span> Observable<span class="token operator">&lt;</span>CharSequence<span class="token operator">></span> _numberChangeObservable <span class="token operator">=</span> RxTextView<span class="token punctuation">.</span><span class="token function">textChanges</span><span class="token punctuation">(</span>_email_editText<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 _subscription <span class="token operator">=</span> Observable<span class="token punctuation">.</span><span class="token function">combineLatest</span><span class="token punctuation">(</span>_emailChangeObservable<span class="token punctuation">,</span>
              _passwordChangeObservable<span class="token punctuation">,</span>
              _numberChangeObservable<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Fun3<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><em>PseudoCacheMergeFragment.java</em><br>Observable.merge();<br><em>TimingDemoFragment.java</em></p>
<pre class="line-numbers language-java"><code class="language-java">Observable<span class="token punctuation">.</span><span class="token function">timer</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//</span>
              <span class="token comment" spellcheck="true">//.just(1).delay(2, TimeUnit.SECONDS)//</span>
              <span class="token comment" spellcheck="true">//.interval(1, TimeUnit.SECONDS)//</span>
              <span class="token comment" spellcheck="true">//.interval(0, 1, TimeUnit.SECONDS)//</span>
              <span class="token comment" spellcheck="true">//.interval(3, TimeUnit.SECONDS).take(5)//</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><em>ExponentialBackoffFragment.java</em></p>
<pre class="line-numbers language-java"><code class="language-java">  Observable<span class="token comment" spellcheck="true">//</span>
                    <span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"testing"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// always fails</span>
                    <span class="token punctuation">.</span><span class="token function">retryWhen</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RetryWithDelay</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//å½“é”™è¯¯æ—¶è°ƒç”¨ï¼Œé€‚ç”¨äºé”™è¯¯å¤„ç†</span>
 <span class="token comment" spellcheck="true">//1-4 æŒ‡æ•°çš„é€’å¢å»¶è¿Ÿ</span>
Observable<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//</span>
                    <span class="token punctuation">.</span><span class="token function">delay</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Func1</span><span class="token operator">&lt;</span>Integer<span class="token punctuation">,</span> Observable<span class="token operator">&lt;</span>Integer<span class="token operator">>></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token annotation punctuation">@Override</span>
                        <span class="token keyword">public</span> Observable<span class="token operator">&lt;</span>Integer<span class="token operator">></span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">final</span> Integer integer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token comment" spellcheck="true">// Rx-y way of doing the Fibonnaci :P</span>
                            <span class="token keyword">return</span> MathObservable<span class="token comment" spellcheck="true">//</span>
                                  <span class="token punctuation">.</span><span class="token function">sumInteger</span><span class="token punctuation">(</span>Observable<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> integer<span class="token punctuation">)</span><span class="token punctuation">)</span>
                                  <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Func1</span><span class="token operator">&lt;</span>Integer<span class="token punctuation">,</span> Observable<span class="token operator">&lt;</span>Integer<span class="token operator">>></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                      <span class="token annotation punctuation">@Override</span>
                                      <span class="token keyword">public</span> Observable<span class="token operator">&lt;</span>Integer<span class="token operator">></span> <span class="token function">call</span><span class="token punctuation">(</span>Integer targetSecondDelay<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                          <span class="token keyword">return</span> Observable<span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span>
                                                <span class="token punctuation">.</span><span class="token function">delay</span><span class="token punctuation">(</span>targetSecondDelay<span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                      <span class="token punctuation">}</span>
                                  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">RxView<span class="token punctuation">.</span><span class="token function">clickEvents</span><span class="token punctuation">(</span>button<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// RxBinding ä»£ç ï¼Œåé¢çš„æ–‡ç« æœ‰è§£é‡Š</span>
    <span class="token punctuation">.</span><span class="token function">throttleFirst</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// è®¾ç½®é˜²æŠ–é—´éš”ä¸º 500ms</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><hr>
<h4 id="RxJS"><a href="#RxJS" class="headerlink" title="RxJS"></a>RxJS</h4><ul>
<li><strong><a href="https://github.com/Reactive-Extensions/RxJS" target="_blank" rel="noopener">RxJS</a></strong> The Reactive Extensions for JavaScript <a href="http://reactivex.io/" target="_blank" rel="noopener">http://reactivex.io</a></li>
<li><a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md" target="_blank" rel="noopener">Big list of functions</a> å¸¸ç”¨å‡½æ•°çš„ä¾‹å­</li>
<li><a href="https://github.com/ReactiveX/RxJava/wiki/Creating-Observables" target="_blank" rel="noopener">Creating Observables</a> äº§ç”ŸObservableçš„æ–¹æ³•</li>
<li><a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754" target="_blank" rel="noopener">The introduction to Reactive Programming youâ€™ve been missing</a>  å¯¹åº”çš„ <a href="http://jsfiddle.net/staltz/8jFJH/48/" target="_blank" rel="noopener">Demo</a></li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-0e4e7d86dd98eae5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul>
<li><a href="http://blog.csdn.net/lzyzsd/article/details/50120801" target="_blank" rel="noopener">RxJavaä½¿ç”¨åœºæ™¯å°ç»“</a></li>
<li><a href="http://www.imooc.com/article/2028" target="_blank" rel="noopener">ä½¿ç”¨RxJavaæ„é€ Androidæ¸…æ™°æ¡†æ¶</a></li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>ç»éªŒ</tag>
      </tags>
  </entry>
  <entry>
    <title>Gradle å­¦ä¹ ç§¯ç´¯</title>
    <url>/2017/01/08/2017-01-08-gradle-note/</url>
    <content><![CDATA[<h1 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h1><hr>
<h2 id="Gradle-Guides"><a href="#Gradle-Guides" class="headerlink" title="Gradle Guides"></a>Gradle Guides</h2><ul>
<li><a href="https://guides.gradle.org/creating-new-gradle-builds/" target="_blank" rel="noopener">Creating New Gradle Builds</a></li>
</ul>
<p>å‘½ä»¤</p>
<pre class="line-numbers language-shell"><code class="language-shell"># å¤šä»»åŠ¡é¡ºåºæ‰§è¡Œ
gradlew clean jar<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="Groovy-åŸºæœ¬"><a href="#Groovy-åŸºæœ¬" class="headerlink" title="Groovy åŸºæœ¬"></a>Groovy åŸºæœ¬</h2><p>D:\workspace\project\gradle\basic-demo\build.gradle</p>
<h2 id="Gradle-Task-è¯­æ³•"><a href="#Gradle-Task-è¯­æ³•" class="headerlink" title="Gradle Task è¯­æ³•"></a>Gradle Task è¯­æ³•</h2><blockquote>
<p>D:\workspace\project\gradle\basic-demo\build.gradle</p>
</blockquote>
<ol>
<li>task create</li>
<li>task dependon</li>
<li>myTask.doFirst</li>
</ol>
<h2 id="ä¾èµ–ç®¡ç†"><a href="#ä¾èµ–ç®¡ç†" class="headerlink" title="ä¾èµ–ç®¡ç†"></a>ä¾èµ–ç®¡ç†</h2><h3 id="1-æŸ¥çœ‹å½“å‰ä¾èµ–å…³ç³»"><a href="#1-æŸ¥çœ‹å½“å‰ä¾èµ–å…³ç³»" class="headerlink" title="1. æŸ¥çœ‹å½“å‰ä¾èµ–å…³ç³»"></a>1. æŸ¥çœ‹å½“å‰ä¾èµ–å…³ç³»</h3><p>gradlew  :sample:dependencies</p>
<pre class="line-numbers language-xml"><code class="language-xml">+--- project :jobslibs
|    +--- com.android.support:appcompat-v7:27.1.1
|    |    +--- com.android.support:support-annotations:27.1.1
|    |    +--- com.android.support:support-core-utils:27.1.1
|    |    |    +--- com.android.support:support-annotations:27.1.1
|    |    |    \--- com.android.support:support-compat:27.1.1
|    |    |         +--- com.android.support:support-annotations:27.1.1
|    |    |         \--- android.arch.lifecycle:runtime:1.1.0
|    |    |              +--- android.arch.lifecycle:common:1.1.0
|    |    |              \--- android.arch.core:common:1.1.0
|    |    +--- com.android.support:support-fragment:27.1.1
|    |    |    +--- com.android.support:support-compat:27.1.1 (*)
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="2-æ’é™¤ä¼ é€’ä¾èµ–"><a href="#2-æ’é™¤ä¼ é€’ä¾èµ–" class="headerlink" title="2. æ’é™¤ä¼ é€’ä¾èµ–"></a>2. æ’é™¤ä¼ é€’ä¾èµ–</h3><p>å‚è€ƒï¼š<a href="http://www.paincker.com/gradle-dependencies" target="_blank" rel="noopener">Gradleä¾èµ–é¡¹å­¦ä¹ æ€»ç»“</a></p>
<p>æŒ‡å®šæŸä¸ªæ¨¡å—</p>
<pre class="line-numbers language-groovy"><code class="language-groovy">dependencies <span class="token punctuation">{</span>
    <span class="token function">compile</span> <span class="token punctuation">(</span><span class="token string">'org.codehaus.cargo:cargo-ant:1.3.1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        exclude group<span class="token punctuation">:</span> <span class="token string">'xml-apis'</span><span class="token punctuation">,</span> module<span class="token punctuation">:</span> <span class="token string">'xml-apis'</span>
    <span class="token punctuation">}</span>
    compile  <span class="token string">'xml-apis:xml-apis:2.0.2'</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸­æ–­å¼•ç”¨åº“çš„ä¾èµ–ï¼Œä¸å¼•ç”¨å¼•ç”¨çš„å¼•ç”¨</p>
<pre class="line-numbers language-groovy"><code class="language-groovy">dependencies <span class="token punctuation">{</span>
    <span class="token function">compile</span> <span class="token punctuation">(</span><span class="token string">'org.codehaus.cargo:cargo-ant:1.3.1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        transitive<span class="token operator">=</span><span class="token boolean">false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç‰ˆæœ¬å†²çª Forceå¼ºåˆ¶ä½¿ç”¨æŸä¸ªæ¨¡å—</p>
<pre class="line-numbers language-groovy"><code class="language-groovy">configurations<span class="token operator">.</span>all <span class="token punctuation">{</span>
   resolutionStrategy <span class="token punctuation">{</span>
       force <span class="token string">'org.hamcrest:hamcrest-core:1.3'</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
dependencies <span class="token punctuation">{</span>
   <span class="token function">androidTestCompile</span><span class="token punctuation">(</span><span class="token string">'com.android.support.test:runner:0.2'</span><span class="token punctuation">)</span>
   <span class="token function">androidTestCompile</span><span class="token punctuation">(</span><span class="token string">'com.android.support.test:rules:0.2'</span><span class="token punctuation">)</span>
   <span class="token function">androidTestCompile</span><span class="token punctuation">(</span><span class="token string">'com.android.support.test.espresso:espresso-core:2.1'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-gradle"><code class="language-gradle">Android dependency 'androidx.exifinterface:exifinterface' has different version for the compile (1.0.0-rc01) and runtime (1.1.0-beta01) classpath. You should manually set the same version via DependencyResolution<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è§£å†³</p>
<pre class="line-numbers language-groovy"><code class="language-groovy">allprojects <span class="token punctuation">{</span>
    repositories <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    subprojects<span class="token punctuation">{</span>
        project<span class="token operator">.</span>configurations<span class="token operator">.</span>all<span class="token punctuation">{</span>
            resolutionStrategy<span class="token operator">.</span>eachDependency <span class="token punctuation">{</span> details <span class="token operator">-></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>details<span class="token operator">.</span>requested<span class="token operator">.</span>group <span class="token operator">==</span> <span class="token string">'androidx.exifinterface'</span>
                    <span class="token operator">&amp;&amp;</span> details<span class="token operator">.</span>requested<span class="token operator">.</span>name<span class="token operator">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'exifinterface'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    details<span class="token operator">.</span>useVersion <span class="token string">"1.0.0-rc01"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="é…ç½®ç›¸å…³"><a href="#é…ç½®ç›¸å…³" class="headerlink" title="é…ç½®ç›¸å…³"></a>é…ç½®ç›¸å…³</h3><p>å¼ºåˆ¶åˆ·æ–°ä¾èµ–</p>
<pre class="line-numbers language-shell"><code class="language-shell">gradlew --refresh-dependencies assemble<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h2><h3 id="æŸ¥çœ‹å±æ€§-ext"><a href="#æŸ¥çœ‹å±æ€§-ext" class="headerlink" title="æŸ¥çœ‹å±æ€§(ext)"></a>æŸ¥çœ‹å±æ€§(ext)</h3><p>è®¾ç½®å±æ€§ <code>gradle.properties</code></p>
<pre class="line-numbers language-gradle"><code class="language-gradle">description = "A trivial Gradle build"
version = "1.0"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>æŸ¥çœ‹</p>
<pre><code>./gradlew properties</code></pre><h3 id="ä»»åŠ¡è°ƒè¯•"><a href="#ä»»åŠ¡è°ƒè¯•" class="headerlink" title="ä»»åŠ¡è°ƒè¯•"></a>ä»»åŠ¡è°ƒè¯•</h3><pre class="line-numbers language-shell"><code class="language-shell">./gradlew task_cmd --scan<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="http://cdn.linz.tech/basic-demo-build-scan.png" alt=""></p>
<p>æ‰“å°å †æ ˆä¿¡æ¯</p>
<pre class="line-numbers language-shell"><code class="language-shell"># --stacktrace
./gradlew task_cmd -s
# --full-stacktrace
./gradlew task_cmd -S<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>è‡ªå®šä¹‰æ—¥å¿—çº§åˆ«è¾“å‡º</p>
<p><img src="http://cdn.linz.tech/logger_level-2019-6-13.webp" alt=""></p>
<pre class="line-numbers language-shell"><code class="language-shell"># out quiet > level log 
gradle -q task_cmd
# out info > level log 
gradle -i task_cmd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä½¿ç”¨gradleå†…ç½® logger æ—¥å¿—</p>
<pre class="line-numbers language-shell"><code class="language-shell">task logTask {
  doLast {
    println 'Hello world!'
    logger.quiet('quiet log ...')
    logger.error('error log ...')
    logger.lifecycle('lifecycle log info ...')
    logger.info('info log...')
    logger.debug('debug ... ')
  }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è·å–Taskå‘½ä»¤çš„å‘½ä»¤é€‰é¡¹ï¼Œä¾‹å¦‚ï¼š</p>
<p><code>gradlew help --task init</code></p>
<p>è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">> Task :help 
Detailed task information for init

Path
     :init

Type
     InitBuild (org.gradle.buildinit.tasks.InitBuild)

Options
     --dsl     Set alternative build script DSL to be used.
               Available values are:
                    groovy
                    kotlin

     --test-framework     Set alternative test framework to be used.
                          Available values are:
                               spock
                               testng

     --type     Set type of build to create.
                Available values are:
                     basic
                     groovy-application
                     groovy-library
                     java-application
                     java-library
                     pom
                     scala-library

Description
     Initializes a new Gradle build.

Group
     Build Setup<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><h3 id="åšå®¢"><a href="#åšå®¢" class="headerlink" title="åšå®¢"></a>åšå®¢</h3><ul>
<li><a href="https://www.jianshu.com/nb/10954931" target="_blank" rel="noopener">æ„å»ºå·¥å…·-Gradle</a></li>
<li><a href="https://www.jianshu.com/p/9df3c3b6067a" target="_blank" rel="noopener">Gradle å®Œæ•´æŒ‡å—ï¼ˆAndroidï¼‰</a> android Gradle åŸºç¡€çš„ä½¿ç”¨çœ‹</li>
<li><a href="https://www.jianshu.com/p/b7fc7a6abffb" target="_blank" rel="noopener">Gradleå®æˆ˜åŠå­¦ä¹ å»ºè®®</a> Gradle for android çš„ä¸€äº›å­¦ä¹ èµ„æºçš„ç½—åˆ—</li>
<li><a href="https://docs.gradle.org/current/userguide/custom_plugins.html" target="_blank" rel="noopener">Writing Custom Plugins</a> gradleå®˜æ–¹æ–‡æ¡£ï¼Œè‡ªå®šä¹‰æ’ä»¶æ‹¿åˆ°<a href="https://docs.gradle.org/current/javadoc/org/gradle/api/Project.html" target="_blank" rel="noopener">Project</a>ç±»ï¼Œå°±å¯ä»¥æ‹¿åˆ°å‡ ä¹æ‰€æœ‰å·¥ç¨‹é…ç½®çš„å±æ€§å’Œæ–¹æ³•ï¼Œç„¶åå‘æŒ¥æƒ³è±¡æ§åˆ¶ä½ çš„å·¥ç¨‹ã€‚</li>
</ul>
<h3 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h3><ul>
<li><a href="https://docs.gradle.org/current/userguide/dependency_management.html" target="_blank" rel="noopener">Chapter 23. Dependency Management</a> ã€å¾…ç ”ç©¶ã€‘</li>
<li><a href="https://docs.gradle.org/current/userguide/java_plugin.html" target="_blank" rel="noopener">Chapter 45. The Java Plugin</a></li>
<li><a href="https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.dsl.DependencyHandler.html" target="_blank" rel="noopener">DependencyHandler</a></li>
<li><a href="http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Build-Types" target="_blank" rel="noopener">Gradle Plugin User Guide</a> Android Studio å®˜ç½‘æä¾›çš„Gradleå®ç”¨æ•™ç¨‹</li>
<li><a href="http://google.github.io/android-gradle-dsl/current/" target="_blank" rel="noopener">Android Plugin DSL Reference</a>  build.gradle  android{â€¦.} API</li>
</ul>
<h3 id="Google"><a href="#Google" class="headerlink" title="Google"></a>Google</h3><p>*<em>Android Studio Project Site *</em></p>
<ul>
<li><a href="http://tools.android.com/tech-docs/new-build-system/user-guide" target="_blank" rel="noopener">Gradle Plugin User Guide</a></li>
<li><a href="http://google.github.io/android-gradle-dsl/current/com.android.build.gradle.internal.dsl.BuildType.html" target="_blank" rel="noopener">Android BuildTypeçš„å¯é…ç½®å±æ€§</a></li>
</ul>
<h1 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h1><ul>
<li><strong><a href="https://github.com/JakeWharton/hugo" target="_blank" rel="noopener">hugo</a></strong>  JakeWharton ä¸å¿…ä»‹ç»äº†ã€‚é¡¹ç›®ä¸­ä½¿ç”¨Gradle plugin å’Œè‡ªå®šä¹‰Task é¡ºä¾¿å­¦ä¹ ä¸€äº›Process Annotation.</li>
<li><a href="https://plugins.gradle.org/" target="_blank" rel="noopener">https://plugins.gradle.org/</a> plugins gradle pluginç¡®å®š</li>
</ul>
<h2 id="å¼€æºæ’ä»¶"><a href="#å¼€æºæ’ä»¶" class="headerlink" title="å¼€æºæ’ä»¶"></a>å¼€æºæ’ä»¶</h2><hr>
<ul>
<li><a href="https://github.com/vanniktech/gradle-android-junit-jacoco-plugin" target="_blank" rel="noopener">gradle-android-junit-jacoco-plugin</a><br>å¯ä»¥ç”Ÿæˆä»£ç å•å…ƒæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Šçš„ Gradle æ’ä»¶ã€‚</li>
<li><a href="https://github.com/vanniktech/gradle-android-javadoc-plugin" target="_blank" rel="noopener">gradle-android-javadoc-plugin</a><br>å¯ä»¥ç”Ÿæˆ java doc çš„ Gradle æ’ä»¶ã€‚</li>
<li><a href="https://github.com/vanniktech/gradle-android-apk-size-plugin" target="_blank" rel="noopener">gradle-android-apk-size-plugin</a><br>å¯ä»¥å°† Apk å¤§å°è®°å½•åˆ° CSV æ–‡ä»¶çš„ Gradle æ’ä»¶ã€‚</li>
<li><a href="http://github.com/adwiv/android-fat-aar" target="_blank" rel="noopener">android-fat-aar </a> Gradle script that allows you to merge and embed dependencies in generted aar file.</li>
<li><strong><a href="https://github.com/JcMinarro/ProperDroid" target="_blank" rel="noopener">ProperDroid</a></strong>  simplifies the way that config different variant on your project.</li>
<li><strong><a href="https://github.com/KeepSafe/dexcount-gradle-plugin" target="_blank" rel="noopener">dexcount-gradle-plugin</a></strong>  A Gradle plugin to report the number of method references in your APK on every build.</li>
</ul>
<h1 id="ä½¿ç”¨æ¡ˆä¾‹"><a href="#ä½¿ç”¨æ¡ˆä¾‹" class="headerlink" title="ä½¿ç”¨æ¡ˆä¾‹"></a>ä½¿ç”¨æ¡ˆä¾‹</h1><ul>
<li><p><a href="http://blog.csdn.net/qinxiandiqi/article/details/44458707" target="_blank" rel="noopener">  å»ºç«‹ä¼ä¸šå†…éƒ¨mavenæœåŠ¡å™¨å¹¶ä½¿ç”¨Android Studioå‘å¸ƒå…¬å…±é¡¹ç›®</a>ã€‚</p>
</li>
<li><p><a href="https://blog.csdn.net/csdn_mm/article/details/78364444" target="_blank" rel="noopener">Android å°†Androidé¡¹ç›®æ‰“åŒ…æˆaaræ–‡ä»¶å¹¶åœ¨å…¶ä»–é¡¹ç›®ä¸­å¼•ç”¨,æ‰“åŒ…æˆjaråŒ…</a></p>
</li>
</ul>
<h1 id="é—®é¢˜è§£å†³"><a href="#é—®é¢˜è§£å†³" class="headerlink" title="é—®é¢˜è§£å†³"></a>é—®é¢˜è§£å†³</h1><hr>
<h2 id="ä¾èµ–æ›´æ–°"><a href="#ä¾èµ–æ›´æ–°" class="headerlink" title="ä¾èµ–æ›´æ–°"></a><strong>ä¾èµ–æ›´æ–°</strong></h2><p>é¡¹ç›®ä¾èµ–çš„è¿œç¨‹åŒ…å¦‚æœæœ‰æ›´æ–°ï¼Œä¼šæœ‰æé†’æˆ–è€…è‡ªåŠ¨æ›´æ–°å—ï¼Ÿ ä¸ä¼šçš„ï¼Œéœ€è¦ä½ æ‰‹åŠ¨è®¾ç½®changingæ ‡è®°ä¸ºtrueï¼Œè¿™æ ·gradleä¼šæ¯24å°æ—¶æ£€æŸ¥æ›´æ–°ï¼Œé€šè¿‡æ›´æ”¹resolutionStrategyå¯ä»¥ä¿®æ”¹æ£€æŸ¥å‘¨æœŸã€‚</p>
<pre class="line-numbers language-gradle"><code class="language-gradle">configurations.all {
// check for updates every build
resolutionStrategy.cacheChangingModulesFor 0, 'seconds'
}
dependencies {
compile group: "group", name: "projectA", version: "1.1-SNAPSHOT", changing: true
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¹‹å‰ä¸Šä¼ aaråŒä¸€ç‰ˆæœ¬åˆ°mavenä»“åº“ï¼Œä½†ä¾èµ–å´æ²¡æœ‰æ›´æ–°ï¼Œè¯¥æ€ä¹ˆåŠå‘¢?å¯ä»¥ç›´æ¥åˆ é™¤æœ¬åœ°ç¼“å­˜ï¼Œç¼“å­˜åœ¨~/.gradle/cachesç›®å½•ä¸‹ï¼Œåˆ é™¤ç¼“å­˜åï¼Œä¸‹æ¬¡è¿è¡Œå°±ä¼šè‡ªåŠ¨é‡æ–°ä¸‹è½½è¿œç¨‹ä¾èµ–äº†ã€‚</p>
<h2 id="Gradleä¸‹è½½æ…¢5ä¸ªè§£å†³æ–¹æ¡ˆ"><a href="#Gradleä¸‹è½½æ…¢5ä¸ªè§£å†³æ–¹æ¡ˆ" class="headerlink" title="Gradleä¸‹è½½æ…¢5ä¸ªè§£å†³æ–¹æ¡ˆ"></a>Gradleä¸‹è½½æ…¢5ä¸ªè§£å†³æ–¹æ¡ˆ</h2><blockquote>
<p>åŸå› : ç”±äº services.gradle.org å›½å†…ä¸‹è½½é€Ÿåº¦å¾ˆæ…¢(ä¸€èˆ¬ä¸º45kb/s), è€Œæ¯ä¸ªgradle-xx.xx.-all.zip ç‰ˆæœ¬è‡³å°‘60MB, ä¹Ÿå°±æ­£å¸¸æ˜¯éœ€è¦40åˆ†é’Ÿå·¦å³,èŠ±éƒ½è°¢äº†</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">#Mon Oct 22 23:20:47 CST 2018
distributionBase=GRADLE_USER_HOME
distributionPath=wrapper/dists
zipStoreBase=GRADLE_USER_HOME
zipStorePath=wrapper/dists
#æŠŠ*4.6-all.zip æ”¹ä¸º4.6-bin.zip éœ€è¦ä¸‹è½½çš„æ›´å°
distributionUrl=https\://services.gradle.org/distributions/gradle-4.6-all.zip
# è§£å†³Gradleä¸‹è½½æ…¢çš„é—®é¢˜
#æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œä¿®æ”¹.. distributions/gradle-4.6-all.zip ä¸ºæœ¬åœ°å·²ç»æœ‰çš„ç‰ˆæœ¬

#æ–¹æ¡ˆäºŒ 1.æŠŠä¸‹è½½å¥½çš„ gradle-x.x.x-all.zip å¦‚ï¼šgradle-4.6-all.zip
# 1.1ç›´æ¥å¤åˆ¶åˆ° gradle-wrapper.properties åŒåœ¨ç›®å½•
# 1.2 å¦‚ä¸‹ï¼š
#distributionUrl=gradle-4.6-all.zip

#æ–¹æ¡ˆä¸‰ï¼šå¼•ç”¨æœ¬åœ°æ–‡ä»¶åœ°å€
#1. Window
#distributionUrl=file:///E://software//2.coder//env//gradle-4.6-all.zip
#2. Unix
#distributionUrl=file\:/tmp/gradle-2.2.1-all.zip

#æ–¹æ¡ˆå››ï¼šæ‰‹åŠ¨ï¼ˆå›½å†…æˆ–è€…æµè§ˆå™¨ï¼‰ä¸‹è½½ä¸€èˆ¬æ¯”è¾ƒå¿«ï¼Œè§£å‹åˆ°gradleç¼“å­˜ç›®å½•
# å‚è€ƒï¼šhttps://www.cnblogs.com/rainboy2010/p/7062279.html
# 1. ç¼“å­˜ç›®å½•
# 1.1 windowé»˜è®¤ : C:\Users\xxx(ç”¨æˆ·å)\.gradle\wrapper\dists\gradle-3.3-all\55gk2rcmfc6p2dg9u9ohc3hw9
# 1.2 unixé»˜è®¤ï¼š ~/.gradle/...
# 2. è·å–base36å€¼ï¼Œå‚è€ƒFileTest#getDistMD5æ–¹æ³•
#messageDigest = MessageDigest.getInstance("MD5");
#messageDigest.update(distributionUrl.getBytes());
#String str = new BigInteger(1, messageDigest.digest()).toString(36);
# 3. åœ¨dist\gradle-3.3-all\ ä¸‹
# 3.1 æ–°å»ºæ–‡ä»¶ï¼Œåä¸ºè·å–base36å€¼
# 3.2 æ‹·è´ä¸‹è½½å¥½çš„gradle-x.x.x-all.zip åˆ°æ–°å»ºçš„æ–‡ä»¶ï¼Œå¹¶è§£å‹

#æ–¹æ¡ˆäº”ï¼š ç›´æ¥æ›´æ”¹ distributionUrlçš„ä¸‹è½½è·¯å¾„ä¸ºå›½å†…æœåŠ¡å™¨ï¼Œä¾‹å¦‚ï¼šhttp://mirrors.flysnow.org/
#å¦‚ï¼šdistributionUrl=http\://mirrors.flysnow.org/gradle/gradle-4.1-bin.zip
#æ³¨æ„ 1. é•œåƒç½‘ç«™æœ‰æŒ‡å®šç‰ˆæœ¬ï¼›2. ä¸è¦è®¾ç½®ä»£ç†
#å¦‚æœä½ åœ¨ gradle.properties é…ç½®äº†ä»£ç†ï¼Œè¯·æ·»åŠ ä¸€ä¸ªä¸èµ°ä»£ç†çš„é…ç½®ï¼Œå¦åˆ™ gralde æ— æ³•å®‰è£…
#systemProp.http.proxyHost=mirrors.neusoft.edu.cn
#systemProp.http.proxyPort=80
## æ·»åŠ ä¸èµ°ä»£ç†çš„ hostï¼Œä¼šå½±å“ package çš„å®‰è£…
#systemProp.http.nonProxyHosts=172.1.1.227|localhost|mirrors.flysnow.org<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ä¾èµ–ä¸‹è½½æ…¢ï¼Œä½¿ç”¨é˜¿é‡Œäº‘å›½å†…é•œåƒ"><a href="#ä¾èµ–ä¸‹è½½æ…¢ï¼Œä½¿ç”¨é˜¿é‡Œäº‘å›½å†…é•œåƒ" class="headerlink" title="ä¾èµ–ä¸‹è½½æ…¢ï¼Œä½¿ç”¨é˜¿é‡Œäº‘å›½å†…é•œåƒ"></a>ä¾èµ–ä¸‹è½½æ…¢ï¼Œä½¿ç”¨é˜¿é‡Œäº‘å›½å†…é•œåƒ</h2><p>å•ä¸ªé¡¹ç›®ç”Ÿæ•ˆ</p>
<pre class="line-numbers language-groovy"><code class="language-groovy">buildscript <span class="token punctuation">{</span>
    repositories <span class="token punctuation">{</span>
        maven <span class="token punctuation">{</span> url <span class="token string">'http://maven.aliyun.com/nexus/content/groups/public/'</span> <span class="token punctuation">}</span>
        maven<span class="token punctuation">{</span> url <span class="token string">'http://maven.aliyun.com/nexus/content/repositories/jcenter'</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    dependencies <span class="token punctuation">{</span>
        classpath <span class="token string">'com.android.tools.build:gradle:2.2.3'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
allprojects <span class="token punctuation">{</span>
    repositories <span class="token punctuation">{</span>
        maven <span class="token punctuation">{</span> url <span class="token string">'http://maven.aliyun.com/nexus/content/groups/public/'</span> <span class="token punctuation">}</span>
        maven<span class="token punctuation">{</span> url <span class="token string">'http://maven.aliyun.com/nexus/content/repositories/jcenter'</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¯¹æ‰€æœ‰é¡¹ç›®ç”Ÿæ•ˆï¼Œåœ¨USER_HOME/.gradle/ä¸‹åˆ›å»ºinit.gradleæ–‡ä»¶</p>
<pre class="line-numbers language-groovy"><code class="language-groovy">allprojects<span class="token punctuation">{</span>
    repositories <span class="token punctuation">{</span>
        <span class="token keyword">def</span> ALIYUN_REPOSITORY_URL <span class="token operator">=</span> <span class="token string">'http://maven.aliyun.com/nexus/content/groups/public'</span>
        <span class="token keyword">def</span> ALIYUN_JCENTER_URL <span class="token operator">=</span> <span class="token string">'http://maven.aliyun.com/nexus/content/repositories/jcenter'</span>
        all <span class="token punctuation">{</span> ArtifactRepository repo <span class="token operator">-></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>repo <span class="token keyword">instanceof</span> <span class="token class-name">MavenArtifactRepository</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">def</span> url <span class="token operator">=</span> repo<span class="token operator">.</span>url<span class="token operator">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token operator">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'https://repo1.maven.org/maven2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    project<span class="token operator">.</span>logger<span class="token operator">.</span>lifecycle <span class="token string">"Repository ${repo.url} replaced by $ALIYUN_REPOSITORY_URL."</span>
                    remove repo
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token operator">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'https://jcenter.bintray.com/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    project<span class="token operator">.</span>logger<span class="token operator">.</span>lifecycle <span class="token string">"Repository ${repo.url} replaced by $ALIYUN_JCENTER_URL."</span>
                    remove repo
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        maven <span class="token punctuation">{</span>
            url ALIYUN_REPOSITORY_URL
            url ALIYUN_JCENTER_URL
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="gradle-lt-gt-maven"><a href="#gradle-lt-gt-maven" class="headerlink" title="gradle <=> maven"></a>gradle &lt;=&gt; maven</h2><h3 id="1-gradle-gt-maven"><a href="#1-gradle-gt-maven" class="headerlink" title="1. gradle -> maven"></a>1. gradle -&gt; maven</h3><p>build.gradle  <project></project></p>
<pre class="line-numbers language-gradle"><code class="language-gradle">apply plugin: 'java'
apply plugin: 'maven'

group = 'com.101tec'
version = '0.7-dev'
sourceCompatibility = 1.6

task writeNewPom << {
    pom {
        project {
            inceptionYear '2008'
            licenses {
                license {
                    name 'The Apache Software License, Version 2.0'
                    url 'http://www.apache.org/licenses/LICENSE-2.0.txt'
                    distribution 'repo'
                }
            }
        }
    }.writeTo("$buildDir/pom.xml")
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="2-maven-gt-gradle"><a href="#2-maven-gt-gradle" class="headerlink" title="2. maven -> gradle"></a>2. maven -&gt; gradle</h3><pre class="line-numbers language-shell"><code class="language-shell">gradle init --type pom<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>Android æ¶æ„ç›¸å…³ç¬”è®°</title>
    <url>/2016/12/27/2016-12-27-Archtecture-for-Android/</url>
    <content><![CDATA[<h3 id="å­¦ä¹ èµ„æº"><a href="#å­¦ä¹ èµ„æº" class="headerlink" title="å­¦ä¹ èµ„æº"></a>å­¦ä¹ èµ„æº</h3><hr>
<h4 id="Google-å®˜æ–¹"><a href="#Google-å®˜æ–¹" class="headerlink" title="Google å®˜æ–¹"></a>Google å®˜æ–¹</h4><ul>
<li><strong><a href="https://github.com/googlesamples/android-architecture-components" target="_blank" rel="noopener">android-architecture-components</a></strong></li>
<li><strong><a href="https://github.com/google/iosched" target="_blank" rel="noopener">Google I/O Android App</a></strong> The Google I/O Android App</li>
<li><a href="http://developer.android.com/tools/data-binding/guide.html" target="_blank" rel="noopener">Data Binding Guide</a></li>
<li><strong><a href="https://github.com/googlesamples/android-architecture" target="_blank" rel="noopener">Android Architecture Blueprints</a></strong> ã€é‡ç‚¹ã€‘</li>
</ul>
<h4 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><ul>
<li><strong><a href="https://github.com/ribot/android-boilerplate" target="_blank" rel="noopener">Android Boilerplate</a></strong> ä¸€äº›å¸¸ç”¨å¼€æºæ¡†æ¶çš„é›†åˆ ã€é‡ç‚¹ã€‘</li>
<li><strong><a href="https://github.com/ribot/android-guidelines" target="_blank" rel="noopener">Android Guidelines</a></strong>  Architecture and code guidelines 2000+ã€é‡ç‚¹ã€‘</li>
</ul>
<h3 id="å¸¸ç”¨çš„æ¶æ„åŠæ•™ç¨‹"><a href="#å¸¸ç”¨çš„æ¶æ„åŠæ•™ç¨‹" class="headerlink" title="å¸¸ç”¨çš„æ¶æ„åŠæ•™ç¨‹"></a>å¸¸ç”¨çš„æ¶æ„åŠæ•™ç¨‹</h3><ul>
<li><a href="http://www.jianshu.com/p/01d3c014b0b1" target="_blank" rel="noopener">Googleå®˜æ–¹MVP+Dagger2æ¶æ„è¯¦è§£ </a></li>
<li><a href="https://github.com/android10/Android-CleanArchitecture" target="_blank" rel="noopener">Android-CleanArchitecture</a><br>Relative  blog <a href="http://fernandocejas.com/2014/09/03/architecting-android-the-clean-way/" target="_blank" rel="noopener">Architecting-android-the-clean-way</a></li>
<li><a href="https://github.com/pedrovgs/EffectiveAndroidUI/" target="_blank" rel="noopener">EffectiveAndroidUI</a></li>
</ul>
<h4 id="Retrofit2"><a href="#Retrofit2" class="headerlink" title="Retrofit2"></a><a href="http://square.github.io/retrofit/" target="_blank" rel="noopener"><strong>Retrofit2</strong></a></h4><ul>
<li><a href="https://futurestud.io/tutorials/tag/retrofit" target="_blank" rel="noopener">Retrofit2 ä½¿ç”¨æ³¨æ„ç‚¹æ€»ç»“</a></li>
<li>Tutorial <a href="https://futurestud.io/tutorials/retrofit-getting-started-and-android-client" target="_blank" rel="noopener">Getting Started and Creating an Android Client</a></li>
<li><a href="http://blog.csdn.net/tencent_bugly/article/details/51580627" target="_blank" rel="noopener">æ·±å…¥æµ…å‡º Retrofitï¼Œè¿™ä¹ˆç‰›é€¼çš„æ¡†æ¶ä½ ä»¬è¿˜ä¸æ¥çœ‹çœ‹ï¼Ÿ</a></li>
</ul>
<h4 id="Dagger2"><a href="#Dagger2" class="headerlink" title="Dagger2"></a><strong>Dagger2</strong></h4><blockquote>
<p><a href="https://google.github.io/dagger/" target="_blank" rel="noopener">https://google.github.io/dagger/</a></p>
</blockquote>
<ul>
<li><a href="https://blog.egorand.me/providing-test-doubles-with-dagger-1-and-dagger-2/" target="_blank" rel="noopener">Providing test doubles with Dagger 1 and Dagger 2</a></li>
<li><strong><a href="https://github.com/mgrzechocinski/dagger2-example" target="_blank" rel="noopener">Dagger2 Example</a></strong></li>
<li><a href="https://github.com/luxiaoming/dagger2Demo" target="_blank" rel="noopener">ç®€æ˜æ¸…æ™°çš„Dagger2æ•™ç¨‹</a></li>
<li><a href="https://github.com/kaku2015/ColorfulNews" target="_blank" rel="noopener"><strong>ColorfulNews</strong></a> Dagger2 é¡¹ç›®</li>
</ul>
<p>Dagger2 Android</p>
<ul>
<li><a href="https://blog.csdn.net/mq2553299/article/details/77485800" target="_blank" rel="noopener">å‘Šåˆ«Dagger2æ¨¡æ¿ä»£ç ï¼šDagger Androidä½¿ç”¨è¯¦è§£</a></li>
<li><a href="https://google.github.io/dagger/android.html" target="_blank" rel="noopener">å®˜æ–¹ç½‘å€</a></li>
<li><a href="https://www.jianshu.com/p/2cd491f0da01" target="_blank" rel="noopener">Android - Dagger2ä½¿ç”¨è¯¦è§£</a></li>
<li><a href="https://github.com/qingmei2/Sample_dagger2" target="_blank" rel="noopener">Sample_dagger2</a></li>
</ul>
<h4 id="å›¾ç‰‡åŠ è½½"><a href="#å›¾ç‰‡åŠ è½½" class="headerlink" title="å›¾ç‰‡åŠ è½½"></a>å›¾ç‰‡åŠ è½½</h4><p> <a href="https://github.com/bumptech/glide" target="_blank" rel="noopener">** Glide **</a> è°·æ­Œå®˜æ–¹æ¨èä½¿ç”¨</p>
<ul>
<li><a href="https://futurestud.io/blog/glide-getting-started" target="_blank" rel="noopener">Glide ä½¿ç”¨çš„è¯¦è§£æ•™ç¨‹ è‹±æ–‡ç‰ˆ</a></li>
<li><a href="http://mrfu.me/2016/02/27/Glide_Getting_Started/" target="_blank" rel="noopener">Glide ç³»åˆ—é¢„è§ˆä¸­æ–‡ç‰ˆ</a></li>
</ul>
<p><a href="https://github.com/square/picasso" target="_blank" rel="noopener">Picasso</a> square å¼€æº 12000+ star</p>
<ul>
<li><a href="http://blog.csdn.net/chdjj/article/details/49964901" target="_blank" rel="noopener">Picassoå­¦ä¹ ç¬”è®°</a></li>
<li><a href="http://github.com/desmond1121/Fresco-Source-Analysis" target="_blank" rel="noopener">Fresco-Source-Analysis</a>  </li>
</ul>
<h4 id="Flux"><a href="#Flux" class="headerlink" title="Flux"></a>Flux</h4><p>Facebook åäººå·¥ç¨‹å¸ˆæå‡ºçš„ä¸€ç§è½¯ä»¶æ¶æ„</p>
<ul>
<li><a href="http://lgvalle.xyz/2015/08/04/flux-architecture/" target="_blank" rel="noopener">Tutorialï¼šFlux Architecture on Android</a> </li>
<li><a href="http://github.com/lgvalle/android-flux-todo-app" target="_blank" rel="noopener">Flux Architecture on Android</a>  ä½¿ç”¨Ottoåœ¨Androidä¸Šç®€å•æ˜¯å®ç°Demo</li>
<li><a href="http://facebook.github.io/flux/docs/overview.html" target="_blank" rel="noopener">Facebookå®˜ç½‘å¯¹fluxçš„ä»‹ç»</a>  ã€éœ€è¦ç¿»å¢™ã€‘<br><img src="https://raw.githubusercontent.com/lgvalle/lgvalle.github.io/master/public/images/flux-graph-simple.png" alt="flux-graph-simple"><br><img src="https://raw.githubusercontent.com/lgvalle/lgvalle.github.io/master/public/images/flux-store.png" alt="flux-graph-store"><br><img src="https://raw.githubusercontent.com/lgvalle/lgvalle.github.io/master/public/images/flux-graph-complete.png" alt="flux-graph-complete"></li>
</ul>
<h4 id="MVP"><a href="#MVP" class="headerlink" title="MVP"></a><strong>MVP</strong></h4><ul>
<li><a href="http://zhengxiaopeng.com/2015/02/06/Android%E4%B8%AD%E7%9A%84MVP/" target="_blank" rel="noopener">MVP  ç®€å•çš„ä»‹ç», åŠä¸‹é¢ä»‹ç»æ¨èç›¸å…³MVPæ•™ç¨‹</a></li>
<li><a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93presenter" target="_blank" rel="noopener">MVP Wiki ã€è‹±æ–‡ã€‘</a><br><img src="http://upload-images.jianshu.io/upload_images/1321512-21672a6ecf8e2193.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
<li><a href="http://www.jianshu.com/p/9d40b298eca9" target="_blank" rel="noopener">Androidä¸­çš„MVPæ¨¡å¼ï¼Œå¸¦å®ä¾‹</a></li>
<li><strong><a href="https://github.com/antoniolg/androidmvp" target="_blank" rel="noopener">MVP Android Example</a></strong> github 3700+ star</li>
<li><a href="https://github.com/googlesamples/android-architecture/tree/todo-mvp/" target="_blank" rel="noopener">Google Sample: Android Architecture Blueprints ä¹‹ MVP</a></li>
</ul>
<h4 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a><strong>MVVM</strong></h4><ul>
<li><a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel" target="_blank" rel="noopener">MVVM wiki</a>  å®˜æ–¹å­¦ä¹ èµ„æ–™<a href="http://developer.android.com/tools/data-binding/guide.html" target="_blank" rel="noopener">Data Binding Guide</a></li>
<li><strong><a href="https://github.com/Kelin-Hong/MVVMLight" target="_blank" rel="noopener">MVVMLight</a></strong> å¯¹DataBindåº“è¿›è¡Œä¼˜åŒ–ï¼Œä½¿MVVMç”¨èµ·æ¥æ›´åŠ çš„ç®€æ´ã€‚ ã€æ¨èã€‘</li>
<li><a href="https://medium.com/ribot-labs/approaching-android-with-mvvm-8ceec02d5442#.taa4hehhd" target="_blank" rel="noopener">Approaching Android with MVVM</a> ã€è‹±æ–‡ã€‘</li>
</ul>
<h3 id="å¼€æºå·¥å…·åº“"><a href="#å¼€æºå·¥å…·åº“" class="headerlink" title="å¼€æºå·¥å…·åº“"></a>å¼€æºå·¥å…·åº“</h3><ul>
<li><strong><a href="https://github.com/instacart/truetime-android" target="_blank" rel="noopener">truetime-android</a></strong> ä¸€ä¸ªå¯ä»¥åœ¨ä¸åŒApp,ä¸åŒè®¾å¤‡å¾—åˆ°å”¯ä¸€çš„æ—¶é—´æºç…§ç‰©çš„åº“ï¼ŒIOSä¹Ÿæœ‰ç›¸åŒçš„åº“ï¼›</li>
<li><strong><a href="https://github.com/square/mortar" target="_blank" rel="noopener">Mortar</a></strong> ã€å¾…ç ”ç©¶ã€‘</li>
<li><strong><a href="https://github.com/lyft/scoop" target="_blank" rel="noopener">Scoop</a></strong> ã€å¾…ç ”ç©¶ã€‘</li>
</ul>
<h4 id="ä»»åŠ¡å¤„ç†"><a href="#ä»»åŠ¡å¤„ç†" class="headerlink" title="ä»»åŠ¡å¤„ç†"></a>ä»»åŠ¡å¤„ç†</h4><ul>
<li><a href="https://github.com/evernote/android-job" target="_blank" rel="noopener">Android-Job</a>  Android library to handle jobs in the background.</li>
</ul>
<h4 id="é¡µé¢å…³ç³»çš„å¤„ç†"><a href="#é¡µé¢å…³ç³»çš„å¤„ç†" class="headerlink" title="é¡µé¢å…³ç³»çš„å¤„ç†"></a>é¡µé¢å…³ç³»çš„å¤„ç†</h4><ul>
<li><a href="https://github.com/alibaba" target="_blank" rel="noopener">alibaba</a>/<strong><a href="https://github.com/alibaba/ARouter" target="_blank" rel="noopener">ARouter</a></strong><blockquote>
<p>å…¸å‹åº”ç”¨åœºæ™¯ :<br>ä»å¤–éƒ¨URLæ˜ å°„åˆ°å†…éƒ¨é¡µé¢ï¼Œä»¥åŠå‚æ•°ä¼ é€’ä¸è§£æ<br>è·¨æ¨¡å—é¡µé¢è·³è½¬ï¼Œæ¨¡å—é—´è§£è€¦<br>æ‹¦æˆªè·³è½¬è¿‡ç¨‹ï¼Œå¤„ç†ç™»é™†ã€åŸ‹ç‚¹ç­‰é€»è¾‘<br>è·¨æ¨¡å—APIè°ƒç”¨ï¼Œæ¨¡å—é—´è§£è€¦(æ³¨å†ŒARouteræœåŠ¡çš„å½¢å¼ï¼Œé€šè¿‡æ¥å£äº’ç›¸è°ƒç”¨)</p>
<ul>
<li><a href="https://www.imooc.com/article/21861" target="_blank" rel="noopener">é˜¿é‡ŒARouterè·¯ç”±å®ç°æ¨¡å—åŒ–å¼€å‘æµç¨‹</a></li>
</ul>
</blockquote>
</li>
<li><strong><a href="https://github.com/terrakok/Cicerone" target="_blank" rel="noopener">Cicerone</a></strong> ä¸€ä¸ªActivity/fragment/ViewGroupçš„è·¯ç”±åº“</li>
</ul>
<h3 id="ç³»åˆ—æ–‡ç« "><a href="#ç³»åˆ—æ–‡ç« " class="headerlink" title="ç³»åˆ—æ–‡ç« "></a>ç³»åˆ—æ–‡ç« </h3><h4 id="é—®ç­”"><a href="#é—®ç­”" class="headerlink" title="é—®ç­”"></a>é—®ç­”</h4><ul>
<li><a href="http://www.zhihu.com/question/21406685" target="_blank" rel="noopener">Android å¼€å‘æœ‰ä»€ä¹ˆå¥½çš„æ¶æ„ä¹ˆ?</a>  ã€ç»å…¸ã€‘</li>
</ul>
<h4 id="åšå®¢"><a href="#åšå®¢" class="headerlink" title="åšå®¢"></a><strong>åšå®¢</strong></h4><p><strong>æ¶æ„å·¥å…·ä½¿ç”¨</strong></p>
<ul>
<li><a href="http://www.jianshu.com/p/1f21e1d375aa" target="_blank" rel="noopener">ä¸å®¹é”™è¿‡ï¼Œæœ€å…¨çš„å®‰å“æ¶æ„åˆé›†ã€ä»é›¶å¼€å§‹æ­å»ºandroidæ¡†æ¶ç³»åˆ—ï¼ˆ2ï¼‰ã€‘</a> å¯¹åº”çš„Githubåœ°å€ <a href="https://github.com/CameloeAnthony/AndroidArchitectureCollection" target="_blank" rel="noopener">AndroidArchitectureCollection</a></li>
<li><a href="http://blog.csdn.net/wzgiceman/article/details/52908989" target="_blank" rel="noopener">RxJava+Retrofit+OkHttp æ‡’äººæ–¹å¼ä½¿ç”¨ä¸€</a></li>
<li><a href="http://www.jianshu.com/p/01d3c014b0b1" target="_blank" rel="noopener">Googleå®˜æ–¹MVP+Dagger2æ¶æ„è¯¦è§£ </a></li>
</ul>
<p><strong>å®æˆ˜é¡¹ç›®æ¶æ„ç»éªŒ</strong></p>
<ul>
<li><a href="https://realm.io/news/joaquim-verges-making-falcon-pro-3/" target="_blank" rel="noopener">The Making of Falcon Pro 3</a> ä¸‰å‘¨å¼€å‘ï¼Œå‘å¸ƒ20å¤©æ²¡æœ‰æ¨å¹¿ï¼Œå®‰è£…é‡6000çš„ç»éªŒä»‹ç» ã€è‹±æ–‡ã€‘</li>
<li><a href="http://www.infoq.com/cn/presentations/from-360-development-see-big-mobile-application-development" target="_blank" rel="noopener"><em>ä»360æ‰‹æœºå«å£«çš„å¼€å‘å†ç¨‹çœ‹å¦‚ä½•å®æ–½å¤§å‹ç§»åŠ¨åº”ç”¨å¼€å‘</em></a> ä»æ•´ä½“ä¸Šè®²è¿°è½¯ä»¶å¼€å‘æµç¨‹åŠç®¡ç†ï¼Œæ¸…æ™°è€Œä¸”åŸºæœ¬æ¯ä¸ªä¾‹å­éƒ½å¾ˆç»å…¸ã€‚çœ‹äº†ç¬¬äºŒæ¬¡è¿˜æ˜¯æœ‰å¾ˆå¤šæ”¶è´§ã€‚ã€é‡ç‚¹ã€‘</li>
<li><a href="https://sanwen8.cn/p/129VrRf.html" target="_blank" rel="noopener">è‹±è¯­æµåˆ©è¯´ Android æ¶æ„æ¼”è¿›</a>   é€»è¾‘æ¡ç†æ¸…æ™°ã€‚</li>
<li><a href="https://medium.com/ribot-labs/android-application-architecture-8b6e34acda65#.j65qk0ltv" target="_blank" rel="noopener">Android Application Architecture</a>    <a href="http://www.jianshu.com/p/8ca27934c6e6" target="_blank" rel="noopener">è¯‘æ–‡</a><br><img src="http://upload-images.jianshu.io/upload_images/1321512-a19e2efd5d564dab.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
<li><a href="http://fernandocejas.com/2015/07/18/architecting-android-the-evolution/" target="_blank" rel="noopener">Architecting Androidâ€¦The evolution</a> å¾ˆç»å…¸çš„å®‰å“æ¶æ„æ–‡ç« ï¼ŒæƒŠå¹å…¶æ¶æ„å±‚çº§ä¹‹æ¸…æ™°ï¼Œè§£è€¦ä¹‹ç²¾å¦™ï¼Œä½†æ˜¯å¾ˆéš¾åƒé€ä¸é€‚åˆå…¥é—¨ï¼Œä¼šæ˜¯æ•´ä¸ªè½¯ä»¶æ¶æ„å¾ˆå¤æ‚ ã€è‹±æ–‡ã€‘</li>
<li><a href="http://blog.zhaiyifan.cn/2016/03/14/android-new-project-from-0-p1/" target="_blank" rel="noopener">ä»é›¶å¼€å§‹çš„Androidæ–°é¡¹ç›®1 - æ¶æ„æ­å»ºç¯‡</a> ç®€æ´çš„æ¦‚æ‹¬äº†Androidä¾èµ–åº“åˆ†å±‚<br><img src="http://upload-images.jianshu.io/upload_images/1321512-b2c15245b4f51564.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
</ul>
<h3 id="å¼€æºé¡¹ç›®"><a href="#å¼€æºé¡¹ç›®" class="headerlink" title="å¼€æºé¡¹ç›®"></a>å¼€æºé¡¹ç›®</h3><h4 id="çº¿ä¸Šå•†ç”¨é¡¹ç›®-ã€é‡ç‚¹ç ”è¯»ã€‘"><a href="#çº¿ä¸Šå•†ç”¨é¡¹ç›®-ã€é‡ç‚¹ç ”è¯»ã€‘" class="headerlink" title="çº¿ä¸Šå•†ç”¨é¡¹ç›® ã€é‡ç‚¹ç ”è¯»ã€‘"></a><strong>çº¿ä¸Šå•†ç”¨é¡¹ç›®</strong> ã€é‡ç‚¹ç ”è¯»ã€‘</h4><ul>
<li><strong><a href="https://github.com/kickstarter/android-oss" target="_blank" rel="noopener">Kickstarter for Android</a></strong> ä¸€ä¸ªç”¨è§†é¢‘æ¨é”€äº§å“çš„ç”µå•†APPï¼ŒåŒæ—¶å¼€æºIOSï¼Œgithub 3300+ star<br>å®˜ç½‘ï¼š<a href="https://www.kickstarter.com/mobile" target="_blank" rel="noopener">https://www.kickstarter.com/mobile</a></li>
<li><a href="https://github.com/DrKLO/Telegram" target="_blank" rel="noopener">Telegram</a> å¼€æºçš„AndroidèŠå¤©åº”ç”¨,æœ‰IOS,WPå¼€æºä»£ç å¤šå¹³å° </li>
</ul>
<p><strong>Star</strong> 7000+</p>
<ul>
<li><a href="https://github.com/nickbutcher/plaid" target="_blank" rel="noopener">plaid</a> 12279 start<br><img src="https://raw.githubusercontent.com/nickbutcher/plaid/master/screenshots/plaid_demo.gif" alt=""></li>
</ul>
<h4 id="åŠ æ˜Ÿé¡¹ç›®"><a href="#åŠ æ˜Ÿé¡¹ç›®" class="headerlink" title="åŠ æ˜Ÿé¡¹ç›®"></a><strong>åŠ æ˜Ÿé¡¹ç›®</strong></h4><ul>
<li><strong><a href="https://github.com/naman14/Timber" target="_blank" rel="noopener">Timber</a></strong> Material Design Music Player github star 2200+ã€æ•´ä½“æ¡†æ¶è¿‡äº†ä¸€éï¼Œå¾ˆå¤šç»†èŠ‚éœ€è¦æ·±å…¥çœ‹ã€‘<br><img src="https://raw.githubusercontent.com/naman14/Timber/master/graphics/Screenshot_2015-08-05-14-23-03.png" alt=""></li>
<li><strong><a href="https://github.com/lguipeng/Notes" target="_blank" rel="noopener">Notes</a></strong>  Material Design Notes App<br><img src="https://github.com/lguipeng/Notes/raw/master/screenshot/screenshot_1.png" alt=""></li>
<li><a href="https://github.com/wordpress-mobile/WordPress-Android" target="_blank" rel="noopener">WordPress-Android</a></li>
</ul>
<h4 id="Google-å¼€æº"><a href="#Google-å¼€æº" class="headerlink" title="Google å¼€æº"></a>Google å¼€æº</h4><ul>
<li><a href="https://github.com/googlesamples/android-topeka" target="_blank" rel="noopener">Topeka for Android</a> Material Design çš„æ¼”ç¤º APP æºä»£ç <br><img src="https://github.com/googlesamples/android-topeka/raw/master/screenshots/category_history.png" alt=""></li>
<li><a href="https://github.com/google/santa-tracker-android" target="_blank" rel="noopener">Google Santa Tracker for Android</a><br><img src="https://github.com/google/santa-tracker-android/raw/master/res/village.png" alt=""><blockquote>
<p>Features:</p>
</blockquote>
<ol>
<li>A beautiful materially designed village</li>
<li>6 exciting games</li>
<li>2 interactive Android Wear watchfaces (with sound!)</li>
<li>Videos, animations and more.</li>
</ol>
</li>
</ul>
<h4 id="æœ‰ç”¨çš„åŠŸèƒ½æ€§é¡¹ç›®"><a href="#æœ‰ç”¨çš„åŠŸèƒ½æ€§é¡¹ç›®" class="headerlink" title="æœ‰ç”¨çš„åŠŸèƒ½æ€§é¡¹ç›®"></a><strong>æœ‰ç”¨çš„åŠŸèƒ½æ€§é¡¹ç›®</strong></h4><ul>
<li><strong><a href="https://github.com/dan-zx/rox-android" target="_blank" rel="noopener">Rox-Android</a></strong><br>ä¸€ä¸ªåŸºäºFoursquareï¼Œæ ¹æ®ä½ç½®ä¿¡æ¯åŠä¸ªäººå’Œæœ‹å‹çš„å–œå¥½ï¼Œæ¨èå¯èƒ½æ„Ÿå…´è¶£çš„åœ°æ–¹å¹¶æä¾›å¯¼èˆª<br><img src="https://raw.githubusercontent.com/dan-zx/rox-android/master/etc/art/promo.png" alt=""></li>
<li><strong><a href="https://github.com/Skykai521/StickerCamera" target="_blank" rel="noopener">tickerCamera</a></strong> è¿™æ˜¯ä¸€æ¬¾é›†æˆäº†ç›¸æœº,å›¾ç‰‡è£å‰ª,ç»™å›¾ç‰‡è´´è´´å›¾æ‰“æ ‡ç­¾çš„APPã€‚<br><img src="https://github.com/Skykai521/StickerCamera/raw/master/screenshot/Screenshot_2015-07-19-11-23-00.png" alt=""></li>
<li><strong><a href="https://github.com/hitherejoe/Tabby" target="_blank" rel="noopener">Tabby</a></strong> æ‰‹æœºAppè·³è½¬åˆ°Chromeï¼Œè®¾ç½®æ ·å¼åŠå¯¹åº”çš„èœå•é€‰é¡¹<br><img src="https://github.com/hitherejoe/Tabby/raw/master/images/device.gif" alt=""></li>
</ul>
<h4 id="ç”¨æˆ·å¼•å¯¼å¸®åŠ©å¼€æºåº“"><a href="#ç”¨æˆ·å¼•å¯¼å¸®åŠ©å¼€æºåº“" class="headerlink" title="ç”¨æˆ·å¼•å¯¼å¸®åŠ©å¼€æºåº“"></a>ç”¨æˆ·å¼•å¯¼å¸®åŠ©å¼€æºåº“</h4><ul>
<li><strong><a href="https://github.com/hongyangAndroid/Highlight" target="_blank" rel="noopener">Highlight</a></strong><br><img src="https://github.com/hongyangAndroid/Highlight/raw/master/high_light_demo.gif" alt=""></li>
<li><strong><a href="https://github.com/codemybrainsout/ahoy-onboarding" target="_blank" rel="noopener">Ahoy-onboarding</a></strong></li>
</ul>
<h4 id="å…¶ä»–-1"><a href="#å…¶ä»–-1" class="headerlink" title="å…¶ä»–"></a><strong>å…¶ä»–</strong></h4><p><strong><a href="https://github.com/DreaminginCodeZH/Douya" target="_blank" rel="noopener">Douya</a></strong><br>å¼€æºçš„ Material Design è±†ç“£å®¢æˆ·ç«¯ï¼ˆA Material Design app for douban.comï¼‰<br><img src="https://github.com/DreaminginCodeZH/Douya/raw/master/screenshot/01-immersive.jpg" alt=""></p>
<ul>
<li><strong><a href="https://github.com/harjot-oberai/MusicStreamer" target="_blank" rel="noopener">MusicStreamer</a></strong><br><img src="https://github.com/harjot-oberai/MusicStreamer/raw/master/screenshots/splash.png" alt=""></li>
<li><strong><a href="https://github.com/oxoooo/mr-mantou-android" target="_blank" rel="noopener">mr-mantou-android</a></strong> ç®€å•çš„æ¶æ„åŠé›†åˆäº†å›½å†…ä¸€äº›ç¬¬ä¸‰æ–¹æœåŠ¡</li>
</ul>
<h3 id="æ‰©å±•å­¦ä¹ "><a href="#æ‰©å±•å­¦ä¹ " class="headerlink" title="æ‰©å±•å­¦ä¹ "></a>æ‰©å±•å­¦ä¹ </h3><hr>
<p>[Googleé¦–å¸­è½¯ä»¶å·¥ç¨‹å¸ˆJoshua Blochè°ˆå¦‚ä½•è®¾è®¡ä¸€æ¬¾ä¼˜ç§€çš„APIã€é™„PPTã€‘](<a href="http://www.csdn.net/article/2014-02--" target="_blank" rel="noopener">http://www.csdn.net/article/2014-02--</a> 18/2818441-How-to-design-a-good-API#rd)</p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>æ€»ç»“</tag>
        <tag>æ¶æ„</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¨é€å®è·µ</title>
    <url>/2016/12/23/2016-12-23-jpush-note/</url>
    <content><![CDATA[<h2 id="æå…‰æ¨é€ä»‹ç»"><a href="#æå…‰æ¨é€ä»‹ç»" class="headerlink" title="æå…‰æ¨é€ä»‹ç»"></a>æå…‰æ¨é€ä»‹ç»</h2><h2 id="æå…‰æ¨é€è‡ªåŠ¨é›†æˆ"><a href="#æå…‰æ¨é€è‡ªåŠ¨é›†æˆ" class="headerlink" title="æå…‰æ¨é€è‡ªåŠ¨é›†æˆ"></a>æå…‰æ¨é€è‡ªåŠ¨é›†æˆ</h2><h3 id="å®˜æ–¹-Android-SDK-é›†æˆæŒ‡å—"><a href="#å®˜æ–¹-Android-SDK-é›†æˆæŒ‡å—" class="headerlink" title="å®˜æ–¹ Android SDK é›†æˆæŒ‡å—"></a><a href="https://docs.jiguang.cn/jpush/client/Android/android_guide/" target="_blank" rel="noopener">å®˜æ–¹ Android SDK é›†æˆæŒ‡å—</a></h3><h3 id="é›†æˆå®è·µè¯¦ç»†æ­¥éª¤"><a href="#é›†æˆå®è·µè¯¦ç»†æ­¥éª¤" class="headerlink" title="é›†æˆå®è·µè¯¦ç»†æ­¥éª¤"></a>é›†æˆå®è·µè¯¦ç»†æ­¥éª¤</h3><h4 id="æ³¨å†Œæå…‰è´¦å·-å¹¶é…ç½®Android-ç¨‹åºåŒ…å"><a href="#æ³¨å†Œæå…‰è´¦å·-å¹¶é…ç½®Android-ç¨‹åºåŒ…å" class="headerlink" title="æ³¨å†Œæå…‰è´¦å· å¹¶é…ç½®Android ç¨‹åºåŒ…å"></a><a href="https://www.jiguang.cn/" target="_blank" rel="noopener">æ³¨å†Œæå…‰è´¦å·</a> å¹¶é…ç½®Android ç¨‹åºåŒ…å</h4><h4 id="é…ç½®äº†jcenteræ”¯æŒ"><a href="#é…ç½®äº†jcenteræ”¯æŒ" class="headerlink" title="é…ç½®äº†jcenteræ”¯æŒ"></a>é…ç½®äº†jcenteræ”¯æŒ</h4><pre class="line-numbers language-java"><code class="language-java">buildscript <span class="token punctuation">{</span>
    repositories <span class="token punctuation">{</span>
        <span class="token function">jcenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

allprojects <span class="token punctuation">{</span>
    repositories <span class="token punctuation">{</span>
        <span class="token function">jcenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="é›†æˆä¾èµ–"><a href="#é›†æˆä¾èµ–" class="headerlink" title="é›†æˆä¾èµ–"></a>é›†æˆä¾èµ–</h4><pre><code>android {
    defaultConfig {
        applicationId "com.xxx.xxx" //JPushä¸Šæ³¨å†Œçš„åŒ…å.
        ndk {
            //é€‰æ‹©è¦æ·»åŠ çš„å¯¹åº”cpuç±»å‹çš„.soåº“ã€‚
            abiFilters 'armeabi', 'armeabi-v7a', 'armeabi-v8a'
            // è¿˜å¯ä»¥æ·»åŠ  'x86', 'x86_64', 'mips', 'mips64'
        }
        manifestPlaceholders = [
            JPUSH_PKGNAME : applicationId,
            JPUSH_APPKEY : "ä½ çš„appkey", //JPushä¸Šæ³¨å†Œçš„åŒ…åå¯¹åº”çš„appkey.
            JPUSH_CHANNEL : "developer-default", //æš‚æ—¶å¡«å†™é»˜è®¤å€¼å³å¯.
        ]
    }
}
dependencies {
    compile 'cn.jiguang.sdk:jpush:3.0.0'  // æ­¤å¤„ä»¥JPush 3.0.0 ç‰ˆæœ¬ä¸ºä¾‹ã€‚
    compile 'cn.jiguang.sdk:jcore:1.0.0'  // æ­¤å¤„ä»¥JCore 1.0.0 ç‰ˆæœ¬ä¸ºä¾‹ã€‚
}</code></pre><h4 id="Manifestè‡ªå®šä¹‰å¹¿æ’­è®¾ç½®"><a href="#Manifestè‡ªå®šä¹‰å¹¿æ’­è®¾ç½®" class="headerlink" title="Manifestè‡ªå®šä¹‰å¹¿æ’­è®¾ç½®"></a>Manifestè‡ªå®šä¹‰å¹¿æ’­è®¾ç½®</h4><pre class="line-numbers language-xml"><code class="language-xml">        <span class="token comment" spellcheck="true">&lt;!-- ************************************* --></span>
        <span class="token comment" spellcheck="true">&lt;!--      The begin setting of JPush       --></span>
        <span class="token comment" spellcheck="true">&lt;!-- ************************************* --></span>
        <span class="token comment" spellcheck="true">&lt;!-- User defined. ç”¨æˆ·è‡ªå®šä¹‰çš„å¹¿æ’­æ¥æ”¶å™¨--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>receiver</span>
            <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>.broadcast.JPushReceive<span class="token punctuation">"</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>enabled</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">></span></span>
                <span class="token comment" spellcheck="true">&lt;!--Required ç”¨æˆ·æ³¨å†ŒSDKçš„intent--></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.jpush.android.intent.REGISTRATION<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
                <span class="token comment" spellcheck="true">&lt;!--Required ç”¨æˆ·æ¥æ”¶SDKæ¶ˆæ¯çš„intent--></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.jpush.android.intent.MESSAGE_RECEIVED<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
                <span class="token comment" spellcheck="true">&lt;!--Required ç”¨æˆ·æ¥æ”¶SDKé€šçŸ¥æ ä¿¡æ¯çš„intent--></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.jpush.android.intent.NOTIFICATION_RECEIVED<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
                <span class="token comment" spellcheck="true">&lt;!--Required ç”¨æˆ·æ‰“å¼€è‡ªå®šä¹‰é€šçŸ¥æ çš„intent--></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.jpush.android.intent.NOTIFICATION_OPENED<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
                <span class="token comment" spellcheck="true">&lt;!-- æ¥æ”¶ç½‘ç»œå˜åŒ– è¿æ¥/æ–­å¼€ since 1.6.3 --></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cn.jpush.android.intent.CONNECTION<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>category</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${JPUSH_PKGNAME}<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>receiver</span><span class="token punctuation">></span></span>
        <span class="token comment" spellcheck="true">&lt;!-- ************************************* --></span>
        <span class="token comment" spellcheck="true">&lt;!--      The end setting of JPush         --></span>
        <span class="token comment" spellcheck="true">&lt;!-- ************************************* --></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="è‡ªå®šä¹‰å¹¿æ’­æ¥æ”¶å™¨"><a href="#è‡ªå®šä¹‰å¹¿æ’­æ¥æ”¶å™¨" class="headerlink" title="è‡ªå®šä¹‰å¹¿æ’­æ¥æ”¶å™¨"></a>è‡ªå®šä¹‰å¹¿æ’­æ¥æ”¶å™¨</h4><p>å®˜æ–¹Demoä»£ç  <a href="https://gist.github.com/Orange168/f40de8f1796cfcd1b81cc7908226b7b7" target="_blank" rel="noopener">JPushReceive.java </a></p>
<h4 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h4><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExampleApplication</span> <span class="token keyword">extends</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>
<span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        JPushInterface<span class="token punctuation">.</span><span class="token function">setDebugMode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        JPushInterface<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="æµ‹è¯•APIé›†æˆæ˜¯å¦æˆåŠŸ"><a href="#æµ‹è¯•APIé›†æˆæ˜¯å¦æˆåŠŸ" class="headerlink" title="æµ‹è¯•APIé›†æˆæ˜¯å¦æˆåŠŸ"></a>æµ‹è¯•APIé›†æˆæ˜¯å¦æˆåŠŸ</h4><ul>
<li>å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œå‡ºç°å¦‚ä¸‹æ—¥å¿—ï¼Œè¯´æ˜SDKè¿è¡Œæ­£å¸¸<pre class="line-numbers language-java"><code class="language-java"><span class="token punctuation">[</span>JPushInterface<span class="token punctuation">]</span> action<span class="token operator">:</span>init <span class="token operator">-</span> sdkVersion<span class="token operator">:</span><span class="token number">3.0</span><span class="token punctuation">.</span><span class="token number">0</span><span class="token punctuation">,</span> buildId<span class="token operator">:</span><span class="token number">319</span>
pushcore I<span class="token operator">/</span>JIGUANG<span class="token operator">-</span>JCore<span class="token operator">:</span> <span class="token punctuation">[</span>ConnectingHelper<span class="token punctuation">]</span> Login succeed <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li>è¿è¡ŒAppï¼Œåˆ°æ§åˆ¶å°å‘é€æµ‹è¯•æ¨é€<br><img src="http://ohlb58e07.bkt.clouddn.com/JPush_tutorial_img.png" alt=""></li>
<li>ã€é‡ç‚¹-å¡«å‘ã€‘å¦‚æœæ²¡æœ‰æ”¶åˆ°æ¨é€é‡å¯æ‰‹æœºï¼Œ æ—¥å¿—ä¼šæ‰“å°æŸäº›jniè°ƒç”¨çš„ä»£ç æœªæ‰¾åˆ°ï¼›</li>
<li>ç»éªŒé›†æˆSDKï¼Œé…ç½®å®Œæˆåéœ€ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼ŒåŠŸèƒ½æ‰ä¼šè§æ•ˆï¼›</li>
</ul>
<h2 id="è¿›ä»·"><a href="#è¿›ä»·" class="headerlink" title="è¿›ä»·"></a>è¿›ä»·</h2><h3 id="åˆ«åä¸æ ‡ç­¾"><a href="#åˆ«åä¸æ ‡ç­¾" class="headerlink" title="åˆ«åä¸æ ‡ç­¾"></a>åˆ«åä¸æ ‡ç­¾</h3><p>æŠŠç»‘å®šå…³ç³»ä¿å­˜åˆ° JPush æœåŠ¡å™¨ç«¯</p>
<ul>
<li>ä½¿ç”¨æ¡ˆä¾‹ï¼š åŠ¨æ€æ ‡ç­¾  æ ¹æ®è§’è‰²å’Œåœ°åŸŸç­‰ç›¸å…³çš„ä¿¡æ¯åŠ¨æ€è®¾ç½®æ ‡ç­¾å’Œåˆ«åï¼Œä»è€ŒåŒºåˆ†æ”¶åˆ°æ¨é€çš„å®¢æˆ·ï¼›<br>ç›¸å…³æ–¹æ³•<pre><code>JPushInterface.setAlias(Context context,String alias, TagAliasCallback CallBack);
JPushInterface.setTags(Context ctx,Set&lt;String&gt; tags, TagAliasCallback CallBack);
JPushInterface.setAliasAndTags(getApplicationContext(), null, (Set&lt;String&gt;) msg.obj, mTagsCallback);</code></pre><blockquote>
<p><strong>æ¸©é¦¨æç¤º</strong> è®¾ç½®æ ‡ç­¾åˆ«åè¯·æ³¨æ„å¤„ç†call backç»“æœã€‚åªæœ‰call back è¿”å›å€¼ä¸º 0 æ‰è®¾ç½®æˆåŠŸï¼Œ<br>æ‰å¯ä»¥å‘ç›®æ ‡æ¨é€ã€‚å¦åˆ™æœåŠ¡å™¨ API ä¼šè¿”å›1011é”™è¯¯ã€‚</p>
</blockquote>
</li>
</ul>
<h3 id="RegistrationID"><a href="#RegistrationID" class="headerlink" title="RegistrationID"></a>RegistrationID</h3><p>æŠŠç»‘å®šå…³ç³»ä¿å­˜åˆ°å¼€å‘è€…åº”ç”¨æœåŠ¡å™¨ä¸­</p>
<h3 id="å®¢æˆ·ç«¯è®¾ç½®é€šçŸ¥æ æ ·å¼"><a href="#å®¢æˆ·ç«¯è®¾ç½®é€šçŸ¥æ æ ·å¼" class="headerlink" title="å®¢æˆ·ç«¯è®¾ç½®é€šçŸ¥æ æ ·å¼"></a><a href="https://docs.jiguang.cn/jpush/client/Android/android_senior/#_8" target="_blank" rel="noopener">å®¢æˆ·ç«¯è®¾ç½®é€šçŸ¥æ æ ·å¼</a></h3><blockquote>
<p>é“ƒå£°ã€éœ‡åŠ¨<br>æ˜¾ç¤ºå›¾æ ‡<br>æ›¿æ¢é»˜è®¤çš„é€šçŸ¥æ æ ·å¼ã€‚</p>
</blockquote>
<h3 id="è‡ªå®šä¹‰é€šçŸ¥æ æ ·å¼"><a href="#è‡ªå®šä¹‰é€šçŸ¥æ æ ·å¼" class="headerlink" title="è‡ªå®šä¹‰é€šçŸ¥æ æ ·å¼"></a>è‡ªå®šä¹‰é€šçŸ¥æ æ ·å¼</h3><pre><code>    /**
     * è®¾ç½®é€šçŸ¥æç¤ºæ–¹å¼ - åŸºç¡€å±æ€§
     */
    private void setStyleBasic() {
        BasicPushNotificationBuilder builder = new BasicPushNotificationBuilder(PushSetActivity.this);
        builder.statusBarDrawable = R.drawable.ic_launcher;
        builder.notificationFlags = Notification.FLAG_AUTO_CANCEL;  //è®¾ç½®ä¸ºç‚¹å‡»åè‡ªåŠ¨æ¶ˆå¤±
        builder.notificationDefaults = Notification.DEFAULT_SOUND;  //è®¾ç½®ä¸ºé“ƒå£°ï¼ˆ Notification.DEFAULT_SOUNDï¼‰æˆ–è€…éœ‡åŠ¨ï¼ˆ Notification.DEFAULT_VIBRATEï¼‰
        JPushInterface.setPushNotificationBuilder(1, builder);
        Toast.makeText(PushSetActivity.this, "Basic Builder - 1", Toast.LENGTH_SHORT).show();
    }


    /**
     * è®¾ç½®é€šçŸ¥æ æ ·å¼ - å®šä¹‰é€šçŸ¥æ Layout
     */
    private void setStyleCustom() {
        CustomPushNotificationBuilder builder = new CustomPushNotificationBuilder(PushSetActivity.this, R.layout.customer_notitfication_layout, R.id.icon, R.id.title, R.id.text);
        builder.layoutIconDrawable = R.drawable.ic_launcher;
        builder.developerArg0 = "developerArg2";
        JPushInterface.setPushNotificationBuilder(2, builder);
        Toast.makeText(PushSetActivity.this, "Custom Builder - 2", Toast.LENGTH_SHORT).show();
    }


    private void setAddActionsStyle() {
        MultiActionsNotificationBuilder builder = new MultiActionsNotificationBuilder(PushSetActivity.this);
        builder.addJPushAction(R.drawable.jpush_ic_richpush_actionbar_back, "first", "my_extra1");
        builder.addJPushAction(R.drawable.jpush_ic_richpush_actionbar_back, "second", "my_extra2");
        builder.addJPushAction(R.drawable.jpush_ic_richpush_actionbar_back, "third", "my_extra3");
        JPushInterface.setPushNotificationBuilder(10, builder);

        Toast.makeText(PushSetActivity.this, "AddActions Builder - 10", Toast.LENGTH_SHORT).show();
    }</code></pre><h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h2><h3 id="gradle-properties-å¢åŠ -android-useDeprecatedNdk-true-ä½¿ç”¨æ—§ç‰ˆæœ¬çš„ndké›†æˆæ–¹å¼-ä¸æ·»åŠ ä¼šæŠ¥é”™"><a href="#gradle-properties-å¢åŠ -android-useDeprecatedNdk-true-ä½¿ç”¨æ—§ç‰ˆæœ¬çš„ndké›†æˆæ–¹å¼-ä¸æ·»åŠ ä¼šæŠ¥é”™" class="headerlink" title="gradle.properties å¢åŠ  android.useDeprecatedNdk=true ä½¿ç”¨æ—§ç‰ˆæœ¬çš„ndké›†æˆæ–¹å¼,ä¸æ·»åŠ ä¼šæŠ¥é”™:"></a>gradle.properties å¢åŠ  <code>android.useDeprecatedNdk=true</code> ä½¿ç”¨æ—§ç‰ˆæœ¬çš„ndké›†æˆæ–¹å¼,ä¸æ·»åŠ ä¼šæŠ¥é”™:</h3><blockquote>
<p>NDK integration is deprecated in the current plugin. Consider trying the new experimental plugin.</p>
</blockquote>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Androidæµ‹è¯•èµ„æºé›†åˆ,æµ‹è¯•å·¥å…·,æµ‹è¯•å¼€æºé¡¹ç›®</title>
    <url>/2016/12/03/2016-12-03-android-test/</url>
    <content><![CDATA[<h3 id="æµ‹è¯•ç¬¬ä¸‰æ–¹æœåŠ¡"><a href="#æµ‹è¯•ç¬¬ä¸‰æ–¹æœåŠ¡" class="headerlink" title="æµ‹è¯•ç¬¬ä¸‰æ–¹æœåŠ¡"></a>æµ‹è¯•ç¬¬ä¸‰æ–¹æœåŠ¡</h3><hr>
<p><strong>å›½å†…</strong></p>
<ul>
<li><a href="https://bugly.qq.com/v2/" target="_blank" rel="noopener">https://bugly.qq.com/v2/</a> è…¾è®¯çš„bugly å…è´¹, è€Œä¸”ç›¸å½“å¥½ç”¨</li>
<li><a href="http://utest.qq.com/" target="_blank" rel="noopener">è…¾è®¯ä¼˜æµ‹äº‘</a> æä¾›çœŸæœºæµ‹è¯•å’Œæ¼æ´åˆ†æ</li>
<li><a href="http://www.testin.cn/" target="_blank" rel="noopener">Testin</a></li>
<li><a href="http://mtc.baidu.com/?_if=12065-bt_16-Brand_16-Brand" target="_blank" rel="noopener">MTC</a></li>
<li><a href="http://www.yiceyun.com/" target="_blank" rel="noopener">æ˜“æµ‹äº‘</a></li>
</ul>
<p><strong>å›½å¤–</strong></p>
<ul>
<li><a href="http://www.test-cloud.com/" target="_blank" rel="noopener">TestCloud</a></li>
<li><a href="http://testdroid.com/" target="_blank" rel="noopener">Testdroid</a></li>
<li><a href="https://nimbledroid.com/" target="_blank" rel="noopener">Nimbledroid</a>   Automated performance analysis website</li>
<li><a href="http://en.testbird.com/" target="_blank" rel="noopener">Test bird</a>  APPå’Œæ‰‹æ¸¸æµ‹è¯•</li>
<li><a href="https://portal.kobiton.com" target="_blank" rel="noopener">kobiton</a> å…è´¹çš„åœ¨çº¿çœŸæœºæµ‹è¯•</li>
</ul>
<p><strong>ç¬¬ä¸‰æ–¹æ€§èƒ½é‡‡é›†SDK</strong></p>
<ul>
<li><a href="http://www.oneapm.com/brand/apm.html?utm_source=BaiduPaid&amp;utm_medium=cpc&amp;utm_term=oneapm%E4%BC%81%E4%B8%9A%E5%90%8D%E7%89%87%E6%A0%87%E9%A2%98&amp;utm_content=mingpian&amp;utm_campaign=BaiduPromotion&amp;from=urysaeuvwrsphdiqyb" target="_blank" rel="noopener">OneAPM</a></li>
<li><a href="http://www.tingyun.com/sem1.html" target="_blank" rel="noopener">å¬äº‘</a></li>
</ul>
<p><strong>è‡ªåŠ¨åŒ–æµ‹è¯•</strong></p>
<ul>
<li><strong><a href="https://circleci.com/" target="_blank" rel="noopener">CircleCI</a></strong>  ä¸€ä¸ªåŸºäºGithubçš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œå•å…ƒæµ‹è¯•å·¥å…·ï¼Œæä¾›ä¸€ä¸ªå…è´¹çš„ç§æœ‰ä»“åº“ã€‚</li>
</ul>
<h3 id="Googleå®˜æ–¹å­¦ä¹ èµ„æ–™"><a href="#Googleå®˜æ–¹å­¦ä¹ èµ„æ–™" class="headerlink" title="Googleå®˜æ–¹å­¦ä¹ èµ„æ–™"></a>Googleå®˜æ–¹å­¦ä¹ èµ„æ–™</h3><hr>
<ul>
<li><a href="http://developer.android.com/training/testing.html" target="_blank" rel="noopener">Best Practices for Testing</a>  ã€æœ€æ–°/é‡ç‚¹ã€‘</li>
<li><strong><a href="https://google.github.io/android-testing-support-library/" target="_blank" rel="noopener">Android Testing Support library</a></strong> (ATSL)  ã€é‡ç‚¹ã€‘<br>ç›¸å…³è§†é¢‘ï¼š <a href="https://www.youtube.com/watch?v=vdasFFfXKOY" target="_blank" rel="noopener">Android Testing (Android Dev Summit 2015)</a> youtube 2015å¹´è§†é¢‘</li>
<li>Developer API  <a href="http://developer.android.com/tools/testing/testing_android.html" target="_blank" rel="noopener">Testing Concepts</a></li>
</ul>
<h3 id="ä¼˜ç§€åšå®¢"><a href="#ä¼˜ç§€åšå®¢" class="headerlink" title="ä¼˜ç§€åšå®¢"></a><strong>ä¼˜ç§€åšå®¢</strong></h3><hr>
<h4 id="Java-æµ‹è¯•"><a href="#Java-æµ‹è¯•" class="headerlink" title="Java æµ‹è¯•"></a>Java æµ‹è¯•</h4><ul>
<li><a href="http://android-developers.blogspot.com/2015/12/leveraging-product-flavors-in-android.html" target="_blank" rel="noopener">Leveraging product flavors in Android Studio for hermetic testing</a>  ä¸ä¹‹å¯¹åº”çš„ <a href="https://www.code-labs.io/codelabs/android-testing/index.html#0" target="_blank" rel="noopener">codelab</a>å­¦ä¹ åœ°å€<br>ç¬”è®°ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/1321512-4c6b0b4c090c171b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><ul>
<li><a href="http://googletesting.blogspot.co.uk/2015/04/just-say-no-to-more-end-to-end-tests.html" target="_blank" rel="noopener">Just Say No to More End-to-End Tests</a></li>
<li><a href="https://google.github.io/android-testing-support-library/docs/rules/index.html" target="_blank" rel="noopener">two JUnit Rules</a> @rule will be launched before @Before. The ActivityTestRule  is a rule that provides functional testing of a single Activity.</li>
</ul>
</li>
<li><a href="http://blog.wittchen.biz.pl/test-coverage-report-for-android-application/" target="_blank" rel="noopener">Test coverage report for Android application</a>  ä½¿ç”¨jacoco-android plugin in a build.gradle<br>è¿›è¡Œæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š<br><img src="http://upload-images.jianshu.io/upload_images/1321512-8ab2613a35397236.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="sample"></li>
<li><a href="http://chriszou.com/2016/04/25/android-unit-testing-wechat-group-share.html#rd" target="_blank" rel="noopener">Androidå•å…ƒæµ‹è¯•åœ¨è˜‘è‡è¡—æ”¯ä»˜é‡‘èéƒ¨é—¨çš„å®è·µ</a> å¾ˆè¯¦ç»†ä»‹ç»äº†å•å…ƒæµ‹è¯•åœ¨å®è·µæ“ä½œä¸­çš„ä½¿ç”¨</li>
</ul>
<h4 id="RxJava-Test"><a href="#RxJava-Test" class="headerlink" title="RxJava Test"></a>RxJava Test</h4><ul>
<li><a href="http://fedepaol.github.io/blog/2015/09/13/testing-rxjava-observables-subscriptions/" target="_blank" rel="noopener">Unit Testing RxJava Observables and Subscriptions</a></li>
<li><a href="https://medium.com/ribot-labs/unit-testing-rxjava-6e9540d4a329" target="_blank" rel="noopener">Unit Testing RxJava Observables</a></li>
<li><a href="http://alexismas.com/blog/2015/05/20/unit-testing-rxjava/" target="_blank" rel="noopener">Unit Testing with RxJava</a></li>
</ul>
<h4 id="UIæµ‹è¯•"><a href="#UIæµ‹è¯•" class="headerlink" title="UIæµ‹è¯•"></a>UIæµ‹è¯•</h4><ul>
<li><a href="http://mp.weixin.qq.com/s/gSgpaN1j1drCfs1tKCZ-xQ" target="_blank" rel="noopener">å°å¿ƒï¼åšUIè‡ªåŠ¨åŒ–ä¸€å®šè¦è·¨è¿‡è¿™äº›å‘</a> ã€å¾…çœ‹ã€‘</li>
</ul>
<h3 id="æµ‹è¯•æ¡†æ¶"><a href="#æµ‹è¯•æ¡†æ¶" class="headerlink" title="æµ‹è¯•æ¡†æ¶"></a>æµ‹è¯•æ¡†æ¶</h3><hr>
<h4 id="Unit-Testing"><a href="#Unit-Testing" class="headerlink" title="Unit Testing"></a><strong>Unit Testing</strong></h4><ul>
<li><strong><a href="https://github.com/junit-team/junit4" target="_blank" rel="noopener">Junit4 Github</a></strong> A programmer-oriented testing framework for Java.<br><a href="http://junit.org/junit4/" target="_blank" rel="noopener">http://junit.org/junit4/</a></li>
<li><strong><a href="https://github.com/mockito/mockito" target="_blank" rel="noopener">Mockito</a></strong>    Tasty mocking framework for unit tests in Java</li>
<li><a href="http://jmockit.org/" target="_blank" rel="noopener">JMockit</a> An automated testing toolkit for Java<br>å¯¹æ¯”ï¼š mockitoä¸èƒ½mock static methodå’Œfinal classã€final methodï¼ŒJMockitå¯ä»¥ï¼›<br><a href="http://stackoverflow.com/questions/4105592/comparison-between-mockito-vs-jmockit-why-is-mockito-voted-better-than-jmockit" target="_blank" rel="noopener">å¯¹æ¯”Mockitoå’ŒJMockitçš„æ–‡ç« </a></li>
<li><a href="https://github.com/jayway/powermock" target="_blank" rel="noopener">PowerMock</a> ä¸€ä¸ªå¯ä»¥Mocké™æ€ç±»çš„å¼€æºåº“</li>
</ul>
<blockquote>
<p>Tools for UI Testing: <a href="http://robotium.com/" target="_blank" rel="noopener">Robotium</a>, <a href="http://appium.io/" target="_blank" rel="noopener">Appium</a>, <a href="http://calaba.sh/" target="_blank" rel="noopener">Calabash</a>, <a href="http://robolectric.org/" target="_blank" rel="noopener">Robolectric</a>.  </p>
</blockquote>
<h4 id="UI-Testing"><a href="#UI-Testing" class="headerlink" title="UI Testing"></a>UI Testing</h4><ul>
<li><a href="https://google.github.io/android-testing-support-library/docs/espresso/" target="_blank" rel="noopener">Espresso</a> Android å®˜æ–¹æ¨èä½¿ç”¨çš„UIæµ‹è¯•åº“</li>
<li><a href="https://developer.android.com/training/testing/ui-testing/uiautomator-testing.html" target="_blank" rel="noopener">UIAutomator</a> å¯ä»¥å¤¸åº”ç”¨è¿›è¡Œæµ‹è¯•</li>
<li><a href="http://robolectric.org/" target="_blank" rel="noopener">Robolectric</a> is a unit test framework that de-fangs the Android SDK jar so you can test-drive the development of your Android app. Tests run inside the JVM on your workstation in seconds</li>
</ul>
<h4 id="More"><a href="#More" class="headerlink" title="More"></a>More</h4><ul>
<li><strong><a href="https://github.com/robospock/RoboSpock" target="_blank" rel="noopener">RoboSpock Github </a></strong> A testing framework which brings powers of Spock and Groovy to Android app testing <a href="http://robospock.org/" target="_blank" rel="noopener">http://robospock.org</a></li>
<li><a href="https://github.com/hamcrest" target="_blank" rel="noopener">Hamcrest matchers</a><br>What is Hamcrest?<br>Hamcrest is a library of matchers, which can be combined in to create flexible expressions of intent in tests. Theyâ€™ve also been used for other purposes.</li>
<li><a href="http://calaba.sh/" target="_blank" rel="noopener">Calabash</a> ç‰¹ç‚¹:<ul>
<li>æ”¯æŒå¤šç§å¹³å°ï¼Œä»£ç å¤ç”¨æ€§å¼º:ä»£ç åŒæ—¶æ”¯æŒAndroid å’ŒiOS, Webä¹Ÿæœ‰ä¸€å®šçš„æ”¯æŒ;</li>
<li>è¯­æ³•æ›´æ¥è¿‘è‡ªç„¶è¯­éŸ³,æ˜“æ‡‚ä¹Ÿæ˜“ç»´æŠ¤;<br><img src="http://ohlb58e07.bkt.clouddn.com/Calabash_code_demo.png" alt=""></li>
<li>çº¯é»‘ç›’æµ‹è¯•ã€‚</li>
</ul>
</li>
</ul>
<h3 id="å¼€æºåº“"><a href="#å¼€æºåº“" class="headerlink" title="å¼€æºåº“"></a>å¼€æºåº“</h3><hr>
<p><strong>Collection</strong></p>
<ul>
<li><a href="http://github.com/hotchemi/awesome-android-testing" target="_blank" rel="noopener">awesome-android-testing</a> collection of android  test info ã€é‡ç‚¹ã€‘</li>
</ul>
<p><strong>Sample</strong></p>
<ul>
<li><strong><a href="https://github.com/jaredsburrows/android-gradle-java-template" target="_blank" rel="noopener">android-gradle-java-template</a></strong> Gradle + Android Studio + Robolectric + Espresso + Mockito + EasyMock/PowerMock + JaCoCo Demo</li>
<li><strong><a href="https://github.com/txusballesteros/Android-Clean-Testing" target="_blank" rel="noopener">Android-Clean-Testing</a></strong> Android Testing Sample Project</li>
<li><strong><a href="https://github.com/piotrek1543/robotium-showcase" target="_blank" rel="noopener">robotium-showcase</a></strong>  This example shows how to use Robotium with ActvitityTestRule and <a href="https://github.com/Test" target="_blank" rel="noopener">@Test</a> annotation, it means in Googleâ€™s Espresso way.</li>
</ul>
<p><strong>Google Sample</strong></p>
<ol>
<li><a href="http://https//github.com/googlesamples/android-testing-templates" target="_blank" rel="noopener">android-testing-templates</a></li>
<li><a href="http://https//github.com/googlesamples/android-testing" target="_blank" rel="noopener">android-testing</a>  A collection of samples demonstrating different frameworks and techniques for automated testing</li>
</ol>
<h3 id="Tools-æµ‹è¯•å·¥å…·"><a href="#Tools-æµ‹è¯•å·¥å…·" class="headerlink" title="Tools æµ‹è¯•å·¥å…·"></a>Tools æµ‹è¯•å·¥å…·</h3><h4 id="Spector-Android-IOS-è°ƒè¯•å·¥å…·-æ¼‚äº®çš„UI"><a href="#Spector-Android-IOS-è°ƒè¯•å·¥å…·-æ¼‚äº®çš„UI" class="headerlink" title="Spector Android/IOS è°ƒè¯•å·¥å…· æ¼‚äº®çš„UI"></a><a href="https://app.appspector.com" target="_blank" rel="noopener">Spector Android/IOS è°ƒè¯•å·¥å…· æ¼‚äº®çš„UI</a></h4><h4 id="square-spoon"><a href="#square-spoon" class="headerlink" title="square/spoon"></a><a href="https://github.com/square" target="_blank" rel="noopener">square</a>/<strong><a href="https://github.com/square/spoon" target="_blank" rel="noopener">spoon</a></strong></h4><p>åœ¨adb devices æ£€æµ‹åˆ°çš„è®¾å¤‡è·‘æµ‹è¯•ç¨‹åºï¼Œå¹¶æä¾›æˆªå±ï¼Œæ–‡ä»¶ï¼Œæ•°æ®åº“æ“ä½œï¼š<br><img src="http://upload-images.jianshu.io/upload_images/1321512-694d36e6a73eb429.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Screenshots"><br><img src="http://upload-images.jianshu.io/upload_images/1321512-bc9d6b02dc8e52a4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Files"><br><strong>æœ€æœ€é‡è¦çš„æ˜¯ç”Ÿæˆç®€å•æ˜äº†çš„æµ‹è¯•æŠ¥å‘Šï¼š</strong><br><img src="http://upload-images.jianshu.io/upload_images/1321512-0ffccba21e710b11.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=" displaying the results in a meaningful way"></p>
<h4 id="Android-Studio-2-2-Preview-new-feature"><a href="#Android-Studio-2-2-Preview-new-feature" class="headerlink" title="Android Studio 2.2 Preview new feature:"></a>Android Studio 2.2 Preview new feature:</h4><ul>
<li><strong>Espresso Test Recorder</strong> èœå•/run/Recorder Expresso Test é€‰é¡¹å¯ä»¥è®°å½•ä½ çš„æ“ä½œå¹¶è½¬åŒ–ä¸ºEspresso çš„æµ‹è¯•ä»£ç <br><img src="http://upload-images.jianshu.io/upload_images/1321512-36bbbc4ff14afbf2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
<li><strong>APK Analyzer</strong> èœå•/build/Analyzer APK æä¾›APKå¤§å°åˆ†æå·¥å…·ï¼Œæ¸…æ¥šçš„çŸ¥é“ä»£ç ä½“ç§¯å˜æ¢çš„è¶‹åŠ¿ã€‚<br><img src="http://upload-images.jianshu.io/upload_images/1321512-17b49035bfef0d95.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=".png"></li>
</ul>
<h4 id="screengrab-å½“UI-Tests-æ—¶è‡ªåŠ¨åŒ–æˆªå±"><a href="#screengrab-å½“UI-Tests-æ—¶è‡ªåŠ¨åŒ–æˆªå±" class="headerlink" title="screengrab å½“UI Tests æ—¶è‡ªåŠ¨åŒ–æˆªå±"></a><strong><a href="https://github.com/fastlane/screengrab" target="_blank" rel="noopener">screengrab</a></strong> å½“UI Tests æ—¶è‡ªåŠ¨åŒ–æˆªå±</h4><h4 id="STF-è¿œç¨‹æ§åˆ¶ï¼Œä¸€å°ç”µè„‘æ§åˆ¶æµ‹è¯•å¤šä¸ªæµ‹è¯•è®¾"><a href="#STF-è¿œç¨‹æ§åˆ¶ï¼Œä¸€å°ç”µè„‘æ§åˆ¶æµ‹è¯•å¤šä¸ªæµ‹è¯•è®¾" class="headerlink" title="STF   è¿œç¨‹æ§åˆ¶ï¼Œä¸€å°ç”µè„‘æ§åˆ¶æµ‹è¯•å¤šä¸ªæµ‹è¯•è®¾"></a><a href="http://github.com/openstf/stf" target="_blank" rel="noopener">STF</a>   è¿œç¨‹æ§åˆ¶ï¼Œä¸€å°ç”µè„‘æ§åˆ¶æµ‹è¯•å¤šä¸ªæµ‹è¯•è®¾</h4><p><a href="https://openstf.github.io/" target="_blank" rel="noopener">openstf.github.io</a> Control and manage Android devices from your browser <img src="https://github.com/openstf/stf/raw/master/doc/7s_usage.gif?raw=true" alt=""></p>
<h4 id="Vysor-ç”¨Chromeæµè§ˆå™¨æ§åˆ¶ä½ çš„Androidæ‰‹æœº"><a href="#Vysor-ç”¨Chromeæµè§ˆå™¨æ§åˆ¶ä½ çš„Androidæ‰‹æœº" class="headerlink" title="Vysor ç”¨Chromeæµè§ˆå™¨æ§åˆ¶ä½ çš„Androidæ‰‹æœº"></a>Vysor ç”¨Chromeæµè§ˆå™¨æ§åˆ¶ä½ çš„Androidæ‰‹æœº</h4><ul>
<li><a href="http://jijiaxin89.com/2015/08/29/Mirror-android-phone-s-screen-and-gain-full-control-on-computer-with-Vysor/" target="_blank" rel="noopener">Vysorè®©ä½ åœ¨ç”µè„‘ä¸Šå®Œå…¨æ§åˆ¶androidæ‰‹æœºå±å¹•é•œåƒ</a></li>
<li><a href="http://jijiaxin89.com/2015/08/31/Vysor-superior/#more" target="_blank" rel="noopener">Vysor æƒ…æ€€ç©æ³• ï¼ˆç•ªå¤–ç¯‡ï¼‰</a></li>
</ul>
<h3 id="å¼€å‘æ—¶çš„è°ƒè¯•å·¥å…·"><a href="#å¼€å‘æ—¶çš„è°ƒè¯•å·¥å…·" class="headerlink" title="å¼€å‘æ—¶çš„è°ƒè¯•å·¥å…·"></a>å¼€å‘æ—¶çš„è°ƒè¯•å·¥å…·</h3><h4 id="stetho"><a href="#stetho" class="headerlink" title="stetho"></a><strong><a href="https://github.com/facebook/stetho" target="_blank" rel="noopener">stetho</a></strong></h4><p>Facebookå¼€æºï¼Œå¾ˆå¼ºå¤§çš„Androidç½‘ç»œå’Œæ•°æ®åº“è°ƒè¯•å·¥å…·,èƒ½åƒè°ƒè¯•WebAppä¸€æ ·è°ƒè¯•AndroidåŸç”Ÿåº”ç”¨ã€‚<a href="http://www.jianshu.com/p/03da9f91f41f" target="_blank" rel="noopener">å€ŸåŠ©Stethoåœ¨Chromeä¸Šè°ƒè¯•Androidç½‘ç»œ&amp;æ•°æ®åº“</a><br>å¸¸ç”¨é…ç½®:</p>
<ul>
<li>åˆå§‹åŒ–<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyApplication</span> <span class="token keyword">extends</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  Stetho<span class="token punctuation">.</span><span class="token function">initializeWithDefaults</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>Chromeæµè§ˆå™¨æ‰“å¼€<code>chrome://inspect/#devices</code></li>
</ul>
<p><strong>è¿›é˜¶</strong>å¢åŠ ç½‘ç»œæ‹¦æˆª</p>
<ul>
<li><strong>Dependency</strong> å¢åŠ ä¾èµ–ç¯å¢ƒ<pre class="line-numbers language-gradle"><code class="language-gradle">compile 'com.facebook.stetho:stetho:1.3.1'
compile 'com.facebook.stetho:stetho-okhttp3:1.3.1'
compile 'com.squareup.retrofit2:retrofit:2.0.0-beta4'
compile 'com.squareup.okhttp3:okhttp:3.2.0'
compile 'com.squareup.retrofit2:converter-gson:2.0.0-beta4'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>å‘OkHttpClientå¢åŠ ç½‘ç»œæ‹¦æˆª<pre class="line-numbers language-java"><code class="language-java">OkHttpClient client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">addNetworkInterceptor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StethoInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h4 id="databases-ç›¸å…³"><a href="#databases-ç›¸å…³" class="headerlink" title="databases ç›¸å…³"></a>databases ç›¸å…³</h4><ul>
<li><a href="https://github.com/amitshekhariitbhu/Android-Debug-Database" target="_blank" rel="noopener"><strong>Android-Debug-Database</strong> æ¯”è¾ƒæ¼‚äº®çš„UIè°ƒè¯•æ•°æ®åº“</a></li>
</ul>
<h4 id="augmented-traffic-control"><a href="#augmented-traffic-control" class="headerlink" title="augmented-traffic-control"></a><strong><a href="https://github.com/facebook/augmented-traffic-control" target="_blank" rel="noopener">augmented-traffic-control</a></strong></h4><p>Fackbookå¼€æºé¡¹ç›®æ¨¡æ‹Ÿç§»åŠ¨ç½‘ç»œï¼Œå¯¹Appçš„è°ƒè¯•åŠç½‘ç»œä¼˜åŒ–æœ‰å¾ˆå¤§çš„å¸®åŠ©ï¼Œä¸»è¦å‚æ•°æœ‰ï¼š</p>
<pre><code>ç½‘ç»œå¸¦å®½ï¼ˆbandwidthï¼‰
å»¶è¿Ÿï¼ˆlatencyï¼‰
ä¸¢åŒ…ç‡ï¼ˆpacket lossï¼‰
é”™åŒ…ç‡ï¼ˆcorrupted packetsï¼‰
ä¹±åºç‡ï¼ˆpackets orderingï¼‰</code></pre><h4 id="GTï¼ˆéšèº«è°ƒï¼‰-è…¾è®¯å¼€æºçš„æµ‹è¯•å¥—ä»¶"><a href="#GTï¼ˆéšèº«è°ƒï¼‰-è…¾è®¯å¼€æºçš„æµ‹è¯•å¥—ä»¶" class="headerlink" title="GTï¼ˆéšèº«è°ƒï¼‰ è…¾è®¯å¼€æºçš„æµ‹è¯•å¥—ä»¶"></a>GTï¼ˆéšèº«è°ƒï¼‰ è…¾è®¯å¼€æºçš„æµ‹è¯•å¥—ä»¶</h4><p>èƒ½Androidè®¾å¤‡ä¸Šå®‰è£…,è¿›è¡Œ<code>ç§»åŠ¨</code>è°ƒè¯•,ç¡®ä¿æµ‹è¯•æ•°æ®çš„çœŸå®æœ‰æ•ˆæ€§<br>å¼€æºåœ°å€: <a href="https://github.com/TencentOpen/GT" target="_blank" rel="noopener">https://github.com/TencentOpen/GT</a><br><a href="http://gt.qq.com/index.html" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<blockquote>
<p>ä½¿ç”¨GT APPè¿›è¡Œå¿«é€Ÿçš„æ€§èƒ½æµ‹è¯•(CPUã€å†…å­˜ã€æµé‡ã€ç”µé‡ã€å¸§ç‡/æµç•…åº¦ç­‰ç­‰)ã€å¼€å‘æ—¥å¿—çš„æŸ¥çœ‹ã€Crashæ—¥å¿—æŸ¥çœ‹ã€ç½‘ç»œæ•°æ®åŒ…çš„æŠ“å–ã€APPå†…éƒ¨å‚æ•°çš„è°ƒè¯•ã€çœŸæœºä»£ç è€—æ—¶ç»Ÿè®¡ç­‰ã€‚</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java">ä¸€<span class="token punctuation">.</span> åŸºæœ¬åŠŸèƒ½æµ‹è¯•
<span class="token number">1</span><span class="token punctuation">.</span> CPUå æœ‰ç‡<span class="token punctuation">;</span>
<span class="token number">2</span> jiffesï¼ˆCPUæ—¶é—´ç‰‡ï¼‰<span class="token punctuation">;</span>
<span class="token number">3</span><span class="token punctuation">.</span> å†…å­˜PSSå€¼ç¨³å®šåœ¨36M<span class="token punctuation">;</span>
<span class="token number">4</span><span class="token punctuation">.</span> ç½‘ç»œä¸Šè¡Œæµé‡å’Œä¸‹è¡Œæµé‡<span class="token punctuation">;</span>
<span class="token number">5</span><span class="token punctuation">.</span> <span class="token string">"æ•°æ®å­˜æ¡£"</span>
äºŒ<span class="token punctuation">.</span> ç”µé‡æµ‹è¯•
å†å¯åŠ¨ç”µæµç›‘æ§è§‚å¯Ÿï¼Œ<span class="token number">1</span>åˆ†é’Ÿåå¹³å‡ç”µæµæ˜¯220mA
ä¸‰<span class="token punctuation">.</span> crash
<span class="token operator">-</span> ä¿å­˜äº†æŠ“åŒ…æ–‡ä»¶å<span class="token punctuation">;</span>
<span class="token operator">-</span> LogcatæŸ¥çœ‹ç•Œé¢ï¼Œç«‹å³æŠŠæ‰‹æœºç¼“å­˜çš„Logcatæ—¥å¿—ä¿å­˜ä¸‹æ¥<span class="token punctuation">;</span>
å››<span class="token punctuation">.</span> Net
<span class="token operator">-</span> ç³»ç»Ÿæä¾›çš„æµé‡æŸ¥çœ‹ä¹ŸåŒ…æ‹¬å±€åŸŸç½‘socketçš„æµé‡<span class="token punctuation">,</span>è€Œä¸”ä¸èƒ½åˆ†æ—¶æ®µç»Ÿè®¡<span class="token punctuation">;</span>
<span class="token operator">-</span> tcpdumpæŠ“åŒ…<span class="token punctuation">(</span>éœ€è¦æ‰‹æœºroot<span class="token punctuation">)</span> <span class="token operator">+</span> Wiresharek æŠ“åŒ…åˆ†æ<span class="token punctuation">;</span>
ç–‘é—®ç‚¹<span class="token operator">:</span>
<span class="token number">1</span><span class="token punctuation">.</span> æ¿€æ´»FPSï¼ˆå¸§ç‡ï¼‰çš„ç›‘æµ‹<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="åº”ç”¨å¼€å‘åŠ©æ‰‹"><a href="#åº”ç”¨å¼€å‘åŠ©æ‰‹" class="headerlink" title="åº”ç”¨å¼€å‘åŠ©æ‰‹"></a>åº”ç”¨å¼€å‘åŠ©æ‰‹</h4><p> Google Playã€åº”ç”¨å®æœç´¢â€œå¼€å‘åŠ©æ‰‹â€ä¸‹è½½ï¼Œ æˆ–<a href="http://trinea.cn/app/dev-tools.apk" target="_blank" rel="noopener">Download</a></p>
<pre><code>å±å¹•åˆ†è¾¨ç‡ã€CPU æ ¸æ•°ã€IP åŠ Mac åœ°å€ã€so ç±»å‹ã€ç³»ç»Ÿç‰ˆæœ¬ã€‚
é¢‘ç¹åˆ‡æ¢â€œä¸¥æ ¼æ¨¡å¼â€ï¼›
å¤šæ¬¡å¯åœâ€œæ˜¾ç¤ºå¸ƒå±€è¾¹ç•Œâ€ï¼›
æµ‹è¯•è¢«ç³»ç»Ÿå›æ”¶æ¥å›åˆ‡æ¢â€œä¸ä¿ç•™æ´»åŠ¨â€ï¼›</code></pre><h4 id="Android-Debug-Drawer-æŸ¥çœ‹è®¾å¤‡ä¿¡æ¯"><a href="#Android-Debug-Drawer-æŸ¥çœ‹è®¾å¤‡ä¿¡æ¯" class="headerlink" title="Android Debug Drawer æŸ¥çœ‹è®¾å¤‡ä¿¡æ¯"></a>Android Debug Drawer æŸ¥çœ‹è®¾å¤‡ä¿¡æ¯</h4><p><img src="https://github.com/palaima/DebugDrawer/raw/master/images/all.png" alt=""></p>
<h4 id="å®‰å“æ—¥å¿—å·¥å…·"><a href="#å®‰å“æ—¥å¿—å·¥å…·" class="headerlink" title="å®‰å“æ—¥å¿—å·¥å…·"></a>å®‰å“æ—¥å¿—å·¥å…·</h4><ul>
<li><p>XLog <a href="https://github.com/elvishew/xLog" target="_blank" rel="noopener">github</a><br><a href="http://mp.weixin.qq.com/s?__biz=MzA3NTYzODYzMg==&amp;mid=2653578220&amp;idx=3&amp;sn=5691bdd82ae0715ab12fd6b849f74aee&amp;chksm=84b3b1ebb3c438fddf86bf74e232fa14222932ebd6d6439bed04ad17d5e64e9270d4ab460f64&amp;mpshare=1&amp;scene=1&amp;srcid=1110XcvPqVz21oivUSueMAeB#rd" target="_blank" rel="noopener">å¾®ä¿¡mars çš„é«˜æ€§èƒ½æ—¥å¿—æ¨¡å— xlog</a></p>
</li>
<li><p><a href="http://github.com/JakeWharton/pidcat/" target="_blank" rel="noopener">Pidcat</a><br><img src="https://github.com/JakeWharton/pidcat/raw/master/screen.png" alt=""></p>
</li>
<li><p><a href="http://github.com/JakeWharton/timber" target="_blank" rel="noopener">Timber</a> jakewharton å‡ºå“</p>
<pre class="line-numbers language-java"><code class="language-java">compile <span class="token string">'com.jakewharton.timber:timber:4.5.1'</span>
<span class="token comment" spellcheck="true">// åˆå§‹åŒ–</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>BuildConfig<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Timber<span class="token punctuation">.</span><span class="token function">plant</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Timber<span class="token punctuation">.</span>DebugTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    Timber<span class="token punctuation">.</span><span class="token function">plant</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CrashReportingTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//å‘å¸ƒåç¨‹åºï¼ˆRelease.apkï¼‰ï¼Œå´©æºƒæ—¥å¿—ä¸ŠæŠ¥</span>
<span class="token comment" spellcheck="true">/** A tree which logs important information for crash reporting. */</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">CrashReportingTree</span> <span class="token keyword">extends</span> <span class="token class-name">Timber<span class="token punctuation">.</span>Tree</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span> <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">int</span> priority<span class="token punctuation">,</span> String tag<span class="token punctuation">,</span> String message<span class="token punctuation">,</span> Throwable t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>priority <span class="token operator">==</span> Log<span class="token punctuation">.</span>ERROR<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            String msg <span class="token operator">=</span> message <span class="token operator">+</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> null <span class="token operator">?</span> <span class="token string">""</span> <span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            MobclickAgent<span class="token punctuation">.</span><span class="token function">reportError</span><span class="token punctuation">(</span>mContext<span class="token punctuation">,</span>
                    String<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"TAG=%s, msg=%s, Throwable=%s"</span><span class="token punctuation">,</span>
                            tag<span class="token punctuation">,</span> message<span class="token punctuation">,</span> t <span class="token operator">==</span> null <span class="token operator">?</span> <span class="token string">""</span> <span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//å‹ç›Ÿé”™è¯¯ä¸Šä¼ </span>
<span class="token comment" spellcheck="true">//                Crashlytics.log(priority, tag, msg);// Fabric é”™è¯¯ä¸Šä¼ </span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p><a href="https://github.com/JakeWharton/hugo" target="_blank" rel="noopener">Hugo</a> ç”¨æ³¨è§£çš„æ–¹å¼æ—¥å¿—æ‰“å°æ–¹æ³•ä¼ å…¥çš„å‚æ•° Annotation-triggered method call logging for your debug builds.</p>
</li>
<li><p><a href="https://github.com/NikitaKozlov/Pury" target="_blank" rel="noopener">Pury</a>   like Hugo But Android library for measuring time between multiple independent<br>events.</p>
</li>
<li><p><a href="http://github.com/fengjundev/DoubanMovie-React-Native" target="_blank" rel="noopener">KLog</a> è¿™æ˜¯ä¸€ä¸ªAndroidä¸“ç”¨çš„LogCatå·¥å…·ï¼Œä¸»è¦åŠŸèƒ½ä¸ºæ‰“å°è¡Œå·ã€å‡½æ•°è°ƒç”¨ã€Jsonè§£æã€XMLè§£æã€ç‚¹å‡»è·³è½¬ã€Logä¿¡æ¯ä¿å­˜ç­‰åŠŸèƒ½<br><img src="https://github.com/ZhaoKaiQiang/KLog/raw/master/image/demo.gif" alt=""></p>
</li>
</ul>
<h4 id="ViewInspector-æŸ¥çœ‹Viewç»˜åˆ¶å±‚çº§ï¼Œå‚æ•°ç­‰"><a href="#ViewInspector-æŸ¥çœ‹Viewç»˜åˆ¶å±‚çº§ï¼Œå‚æ•°ç­‰" class="headerlink" title="ViewInspector æŸ¥çœ‹Viewç»˜åˆ¶å±‚çº§ï¼Œå‚æ•°ç­‰"></a><a href="http://github.com/xfumihiro/ViewInspector" target="_blank" rel="noopener">ViewInspector</a> æŸ¥çœ‹Viewç»˜åˆ¶å±‚çº§ï¼Œå‚æ•°ç­‰</h4><p>View Inspection Toolbar for Android Development<br><img src="https://github.com/xfumihiro/ViewInspector/raw/master/images/sample.gif" alt=""></p>
<h4 id="Purchase-UI-Tool-ä»˜è´¹å·¥å…·"><a href="#Purchase-UI-Tool-ä»˜è´¹å·¥å…·" class="headerlink" title="Purchase UI Tool (ä»˜è´¹å·¥å…·)"></a>Purchase UI Tool (ä»˜è´¹å·¥å…·)</h4><ul>
<li><a href="http://robotium.com/" target="_blank" rel="noopener">Robotium Recorder</a></li>
</ul>
<h3 id="ä¼˜åŒ–å’Œåˆ†æå·¥å…·"><a href="#ä¼˜åŒ–å’Œåˆ†æå·¥å…·" class="headerlink" title="ä¼˜åŒ–å’Œåˆ†æå·¥å…·"></a>ä¼˜åŒ–å’Œåˆ†æå·¥å…·</h3><h4 id="Quality-Tools-for-Android"><a href="#Quality-Tools-for-Android" class="headerlink" title="Quality-Tools-for-Android"></a><strong><a href="https://github.com/stephanenicolas/Quality-Tools-for-Android" target="_blank" rel="noopener">Quality-Tools-for-Android</a></strong></h4><h4 id="vb-android-app-quality"><a href="#vb-android-app-quality" class="headerlink" title="vb-android-app-quality"></a><strong><a href="https://github.com/vincentbrison/vb-android-app-quality" target="_blank" rel="noopener">vb-android-app-quality</a></strong></h4><h4 id="AndroidCodeQuality"><a href="#AndroidCodeQuality" class="headerlink" title="AndroidCodeQuality"></a><strong><a href="https://github.com/MasonLiuChn/AndroidCodeQuality" target="_blank" rel="noopener">AndroidCodeQuality</a></strong></h4><p>æ¯æ¬¡æ‰“åŒ…æ—¶éƒ½è¿›è¡Œä¸€æ¬¡  checkstyle,pmd,findbugséªŒè¯</p>
<h4 id="AndroidDevMetrics"><a href="#AndroidDevMetrics" class="headerlink" title="AndroidDevMetrics"></a><strong><a href="https://github.com/frogermcs/AndroidDevMetrics" target="_blank" rel="noopener">AndroidDevMetrics</a></strong></h4><p>Performance metrics library for Android development<br><img src="https://raw.githubusercontent.com/frogermcs/androiddevmetrics/master/art/activities_metrics.png" alt=""></p>
<h4 id="AndroidPerformanceMonitor"><a href="#AndroidPerformanceMonitor" class="headerlink" title="AndroidPerformanceMonitor"></a><strong><a href="https://github.com/markzhai/AndroidPerformanceMonitor" target="_blank" rel="noopener">AndroidPerformanceMonitor</a></strong></h4><p>ä¸€ä¸ªå¯¹ANRï¼ˆUIçº¿ç¨‹blockï¼‰çš„ç›‘æ§å·¥å…·</p>
<blockquote>
<p>A transparent ui-block detection library for Android. (known as BlockCanary)<br><img src="https://github.com/markzhai/AndroidPerformanceMonitor/raw/master/art/shot1.png" alt=""></p>
</blockquote>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>æ€»ç»“</tag>
        <tag>æµ‹è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>React Native for Android</title>
    <url>/2016/11/20/2016-11-20-React-Native-for-Android/</url>
    <content><![CDATA[<h3 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h3><hr>
<ul>
<li>React Native for Android å…¥é—¨è€è™<br>problem solution:  <ol>
<li>when  â€œbrew install watchmanâ€  ==&gt;&gt; configure: error: You need a C++ compiler for C++ support ==&gt; sudo apt-get install build-essential2.  brew install flow ==&gt;&gt; bnpm install flow-bin â€“global</li>
</ol>
</li>
<li><a href="http://www.tuicool.com/articles/uQFbEv" target="_blank" rel="noopener">Androidå¼€å‘æŠ€æœ¯å‘¨æŠ¥ç‰¹åˆŠä¹‹React Native</a> ã€ç»å…¸æ•™ç¨‹ã€‘</li>
<li>Facebook.org   <a href="http://facebook.github.io/react-native/" target="_blank" rel="noopener">react </a>  <a href="http://facebook.github.io/react-native/" target="_blank" rel="noopener"> react-native </a></li>
<li><a href="http://www.sqshi.com/a/271922.html" target="_blank" rel="noopener">React-Native çš„ä¼˜åŒ–è¿›é˜¶ä¹‹æ—…</a></li>
</ul>
<h3 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶"></a>è¿›é˜¶</h3><hr>
<ul>
<li><a href="http://f8-app.liaohuqiu.net/" target="_blank" rel="noopener">æ„å»º F8 App / React Native å¼€å‘æŒ‡å—</a></li>
<li><a href="https://www.qcloud.com/community/article/144" target="_blank" rel="noopener">ã€ReactNative For Androidã€‘æ¡†æ¶å¯åŠ¨æ ¸å¿ƒè·¯å¾„å‰–æ</a>   å°è±¡ç¬”è®°æœ‰å¤‡ä»½</li>
<li><a href="http://mp.weixin.qq.com/s?__biz=MzA4MzEwOTkyMQ==&amp;mid=2667376478&amp;idx=2&amp;sn=4968c4bdde9956ba8379eddca58c934f&amp;chksm=84f33e10b384b7068ee8a108beea250a7b6eee60443f95819248d0cf1260c972df82bc124a4d&amp;mpshare=1&amp;scene=1&amp;srcid=1110Fjp1pBoJHhvyKP8rN68S#rd" target="_blank" rel="noopener">æºç¨‹ React Native å®è·µä¸æ€§èƒ½ä¼˜åŒ–</a></li>
</ul>
<h3 id="ç›¸å…³å¼€æºé¡¹ç›®"><a href="#ç›¸å…³å¼€æºé¡¹ç›®" class="headerlink" title="ç›¸å…³å¼€æºé¡¹ç›®"></a>ç›¸å…³å¼€æºé¡¹ç›®</h3><hr>
<ul>
<li><a href="http://github.com/fengjundev/DoubanMovie-React-Native" target="_blank" rel="noopener">DoubanMovie-React-Native</a></li>
<li><strong><a href="https://github.com/facebookincubator/create-react-app" target="_blank" rel="noopener">create-react-app</a></strong>  Create React apps with no build configuration.</li>
</ul>
<h3 id="Learning-material"><a href="#Learning-material" class="headerlink" title="Learning material"></a>Learning material</h3><hr>
<ul>
<li><a href="http://github.com/ele828/react-native-guide" target="_blank" rel="noopener">react-native-guide</a>  React-NativeæŒ‡å—æ±‡é›†äº†react-nativeå­¦ä¹ èµ„æºä¸å„ç±»å¼€æºapp</li>
<li><a href="http://microsoft.github.io/code-push/" target="_blank" rel="noopener">CodePush</a>  å¤§å¾®è½¯æ¨å‡ºçš„ä¸€å¥—å¯ä»¥ä¸ºç”¨ React Native  å’Œ Cordova å¼€å‘çš„ App æä¾›ä»£ç çƒ­æ›´æ–°çš„æ–¹æ¡ˆã€‚</li>
<li><a href="http://list.youku.com/albumlist/show?id=27615900&amp;ascending=1&amp;page=1" target="_blank" rel="noopener">React Native Training (ä¸­æ–‡)</a> è§†é¢‘</li>
</ul>
<h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><hr>
<ul>
<li>InfoQ: <a href="http://www.infoq.com/cn/presentations/explore-react-ecosystem" target="_blank" rel="noopener">æ¢ç´¢ React ç”Ÿæ€åœˆ</a></li>
</ul>
<h4 id="Atomå®˜ç½‘"><a href="#Atomå®˜ç½‘" class="headerlink" title="Atomå®˜ç½‘"></a><a href="http://atom.io" target="_blank" rel="noopener">Atomå®˜ç½‘</a></h4><p><a href="http://www.linuxidc.com/Linux/2014-05/101501.htm" target="_blank" rel="noopener"><em>å®‰è£…</em></a></p>
<pre class="line-numbers language-shell"><code class="language-shell">sudo add-apt-repository ppa:webupd8team/atom
sudo apt-get update
sudo apt-get install atom
/opt/atom/atom<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>Proxy setting  from <a href="https://github.com/atom/apm" target="_blank" rel="noopener">apm github</a></p>
<pre class="line-numbers language-shell"><code class="language-shell">Using a proxy?
If you are using a HTTP(S) proxy you can configure apm
 to use it by running:
apm config set https-proxy https://127.0.0.1:1080
You can run 
apm config get https-proxy
 to verify it has been set correctly.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><em>plugin</em><br>cp the plugin.zip to ~/.atom/packages or <code>$ apm install</code></p>
<ul>
<li><strong><a href="https://github.com/thomaslindstrom/color-picker" target="_blank" rel="noopener">color-picker</a></strong></li>
<li><strong><a href="https://github.com/emmetio/emmet-atom" target="_blank" rel="noopener">emmet-atom</a></strong></li>
<li><a href="https://atom.io/packages/browser-plus" target="_blank" rel="noopener">browser-plus</a></li>
<li><a href="https://atom.io/packages/highlight-selected" target="_blank" rel="noopener">highlight-selected</a></li>
<li><strong><a href="https://github.com/danielgtaylor/atom-api-blueprint-preview" target="_blank" rel="noopener">atom-api-blueprint-preview</a></strong> Read.md preview<br>jshintï¼šæ£€æŸ¥ JavaScript çš„è¯­æ³•ï¼Œæ”¯æŒ JSX ï¼ˆéœ€è¦åœ¨æ’ä»¶è®¾ç½®ä¸­å¼€å¯ Support Linting JSXï¼‰ï¼›<br>emmetï¼šç”¨ emmet ï¼ˆZen Codingï¼‰æ–¹å¼å¿«é€Ÿç¼–å†™é¡µé¢ï¼›<br>save-sessionï¼šè®© Atom è®°ä½ä¸Šä¸€æ¬¡æ‰“å¼€çš„ä¼šè¯ï¼›<br>browser-plusï¼šåœ¨ Atom ä¸­å†…åµŒä¸€ä¸ªæµè§ˆå™¨çª—å£ï¼Œæ–¹ä¾¿é¡µé¢è°ƒè¯•ï¼ˆå…¶å® Atom æœ¬èº«å°±æ˜¯ä¸€ä¸ªæµè§ˆå™¨ï¼‰ï¼›<br>minimapï¼šå¦‚æœä½ å¯¹ Sublime Text çš„ minimap å¿µå¿µä¸å¿˜ï¼›<br>atomic-emacsï¼šEmacs é”®ç›˜å¸ƒå±€ï¼Œé€‚åˆ Emacs ç”¨æˆ·ä½¿ç”¨ï¼›<br>vim-modeï¼šVim é”®ç›˜å¸ƒå±€ï¼Œé€‚åˆ Vim ç”¨æˆ·ä½¿ç”¨ã€‚</li>
</ul>
<p>å¾…å¤„ç†</p>
<ul>
<li><strong><a href="https://github.com/atom/atom-space-pen-views" target="_blank" rel="noopener">atom-space-pen-views</a></strong></li>
<li><strong><a href="https://github.com/webBoxio/atom-html-preview" target="_blank" rel="noopener">atom-html-preview</a></strong></li>
</ul>
<p><em>æ•™ç¨‹</em><br><a href="http://wiki.jikexueyuan.com/project/atom/" target="_blank" rel="noopener">Atom ä½¿ç”¨æ•™ç¨‹</a></p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>Android æ•°æ®å¤„ç†èµ„æºæ€»æ±‡</title>
    <url>/2016/09/08/2016-09-08-Android-database-note/</url>
    <content><![CDATA[<h2 id="æ•°æ®æ ¼å¼"><a href="#æ•°æ®æ ¼å¼" class="headerlink" title="æ•°æ®æ ¼å¼"></a>æ•°æ®æ ¼å¼</h2><ul>
<li><strong><a href="https://github.com/google/gson" target="_blank" rel="noopener">gson</a></strong><ul>
<li><a href="http://websystique.com/java/json/gson-json-annotations-example/" target="_blank" rel="noopener">Gson Json Annotations Example</a></li>
</ul>
</li>
<li><strong><a href="https://github.com/vimeo/stag-java" target="_blank" rel="noopener">stag-java</a></strong> Speedy Type Adapter Generation</li>
<li><strong><a href="https://github.com/alibaba/fastjson" target="_blank" rel="noopener">fastjson</a></strong></li>
</ul>
<h2 id="åºåˆ—åŒ–-Parcelable"><a href="#åºåˆ—åŒ–-Parcelable" class="headerlink" title="åºåˆ—åŒ– Parcelable"></a>åºåˆ—åŒ– Parcelable</h2><hr>
<h3 id="Parcelable-AutoValue"><a href="#Parcelable-AutoValue" class="headerlink" title="Parcelable AutoValue"></a>Parcelable AutoValue</h3><p><a href="http://tedyin.me/2016/04/11/auto-value/?utm_source=tuicool&amp;utm_medium=referral" target="_blank" rel="noopener">ä½¿ç”¨ Google AutoValue è‡ªåŠ¨ç”Ÿæˆä»£ç </a></p>
<p><strong>Dependencies</strong></p>
<pre><code>dependencies {
  provided 'com.google.auto.value:auto-value:1.2'
  apt 'com.google.auto.value:auto-value:1.2'
  apt 'com.ryanharter.auto.value:auto-value-parcel:0.2.1'
}</code></pre><p><strong>Sample</strong></p>
<pre><code>@AutoValue
public abstract class Story implements Parcelable{
  public abstract int id();
  public abstract String title();
  public static Story create(int id, String title){
    new AutoValue_Story(id,title);
  }
}</code></pre><h3 id="Android-çŠ¶æ€ä¿å­˜"><a href="#Android-çŠ¶æ€ä¿å­˜" class="headerlink" title="Android çŠ¶æ€ä¿å­˜"></a>Android çŠ¶æ€ä¿å­˜</h3><ul>
<li><p><a href="https://github.com/evernote/android-state" target="_blank" rel="noopener">android-state</a></p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">Activity</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@State</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> mValue<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        StateSaver<span class="token punctuation">.</span><span class="token function">restoreInstanceState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onSaveInstanceState</span><span class="token punctuation">(</span>Bundle outState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onSaveInstanceState</span><span class="token punctuation">(</span>outState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        StateSaver<span class="token punctuation">.</span><span class="token function">saveInstanceState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> outState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h2 id="ç¬”è®°"><a href="#ç¬”è®°" class="headerlink" title="ç¬”è®°"></a>ç¬”è®°</h2><hr>
<p><em>Sqlite æ‰¹é‡å¤„ç†</em></p>
<ul>
<li><a href="http://blog.sina.com.cn/s/blog_48d4cf2d0102v5ip.html" target="_blank" rel="noopener">SQLiteæ‰¹é‡æ’å…¥å’Œå…¶ä»–ä¸€äº›ä½¿ç”¨å¿ƒå¾—</a> </li>
<li><a href="http://www.tuicool.com/articles/2AfaEbE" target="_blank" rel="noopener">android SQLite æ‰¹é‡æ’å…¥æ•°æ®æ…¢çš„è§£å†³æ–¹æ¡ˆ</a></li>
</ul>
<p><em>Tutorial</em></p>
<ul>
<li><a href="http://www.runoob.com/sqlite/sqlite-tutorial.html" target="_blank" rel="noopener">sqlite-tutorial</a></li>
<li><a href="http://zhangfan822.iteye.com/blog/1883118" target="_blank" rel="noopener">Android ä¿å­˜å›¾ç‰‡åˆ°SQLite,è¯»å‡ºSQLiteä¸­çš„å›¾ç‰‡</a></li>
<li><a href="https://www.sqlite.org/lang_createtrigger.html" target="_blank" rel="noopener">sqlite å®˜æ–¹æ•™ç¨‹ CREATE TRIGGER</a></li>
<li><a href="http://www.runoob.com/sqlite/sqlite-index.html" target="_blank" rel="noopener">Sqlite learnning Course</a></li>
<li><a href="http://www.runoob.com/sql/sql-union.html" target="_blank" rel="noopener">SQLè¯­å¥ Inner join/ union çš„å­¦ä¹ </a><pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token number">f</span><span class="token punctuation">.</span>name <span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">as</span> sum<span class="token punctuation">,</span> <span class="token number">d</span><span class="token punctuation">.</span><span class="token keyword">value</span> <span class="token keyword">as</span> url <span class="token keyword">from</span> Favorite <span class="token number">f</span> <span class="token keyword">inner</span> <span class="token keyword">join</span> <span class="token keyword">data</span> <span class="token number">d</span>  <span class="token keyword">on</span> <span class="token number">d</span><span class="token punctuation">.</span><span class="token keyword">key</span><span class="token operator">=</span><span class="token operator">=</span><span class="token number">f</span><span class="token punctuation">.</span>name  <span class="token keyword">group</span> <span class="token keyword">by</span> <span class="token number">f</span><span class="token punctuation">.</span>name<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ul>
<p><em>ç¬”è®°å¥½æ»´åšæ–‡</em></p>
<ul>
<li><a href="http://blog.csdn.net/iefreer/article/details/39188231" target="_blank" rel="noopener">5ä¸ªAndroid ORMæ¡†æ¶</a>  Android ä¸»æµORMï¼ˆå¯¹è±¡å…³ç³»æ•°æ®æ˜ å°„ï¼‰ç®€ä»‹</li>
</ul>
<p><em>å¸¸ç”¨çš„SQLè¯­å¥</em></p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> t_student
<span class="token keyword">CREATE</span> TALBE <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> t_student <span class="token punctuation">(</span>id iteger <span class="token keyword">primary</span> <span class="token keyword">key</span> autoincrement<span class="token punctuation">,</span> name <span class="token keyword">text</span><span class="token punctuation">,</span> age <span class="token keyword">integer</span><span class="token punctuation">,</span> score <span class="token keyword">real</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_student <span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'jack'</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span>
<span class="token keyword">update</span> t_student <span class="token keyword">set</span> name<span class="token operator">=</span><span class="token string">'jack'</span> <span class="token punctuation">,</span>id <span class="token operator">=</span><span class="token number">1</span> 
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_student <span class="token keyword">where</span> score <span class="token operator">>=</span> <span class="token number">60</span> <span class="token keyword">order</span> <span class="token keyword">by</span> score <span class="token keyword">asc</span><span class="token punctuation">,</span> age <span class="token keyword">asc</span><span class="token punctuation">;</span>
<span class="token keyword">limit</span> åˆ†é¡µæŸ¥è¯¢
<span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span>
<span class="token keyword">limit</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span>
çº¦æŸ
<span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token keyword">unique</span><span class="token punctuation">,</span> <span class="token keyword">default</span>
å¤–é”®â€”â€” 
<span class="token keyword">create</span> <span class="token keyword">table</span> t_student <span class="token punctuation">(</span>id <span class="token keyword">integer</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> autoincrement<span class="token punctuation">,</span>name <span class="token keyword">text</span><span class="token punctuation">,</span> class_id <span class="token keyword">integer</span><span class="token punctuation">,</span>
<span class="token keyword">constraint</span> fk_t_student_class_id_t_class_id <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>class_id<span class="token punctuation">)</span> <span class="token keyword">references</span> t_class<span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Awesome-Repositories"><a href="#Awesome-Repositories" class="headerlink" title="Awesome Repositories"></a>Awesome Repositories</h2><table>
<thead>
<tr>
<th>Repository</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><a href="https://github.com/pardom-zz/ActiveAndroid" target="_blank" rel="noopener">ActiveAndroid</a></td>
<td>Active record style SQLite persistence for Android.</td>
</tr>
<tr>
<td><a href="https://github.com/jgilfelt/android-sqlite-asset-helper" target="_blank" rel="noopener">Android-sqlite-asset-helper</a></td>
<td>An Android helper class to manage database creation and version management using an applicationâ€™s raw asset files.</td>
</tr>
<tr>
<td><a href="https://github.com/litesuits/android-lite-orm" target="_blank" rel="noopener">Android-lite-orm</a></td>
<td>A fast, small, powerful ORM framework for Android.</td>
</tr>
<tr>
<td><a href="https://github.com/sqlcipher/android-database-sqlcipher" target="_blank" rel="noopener">Android-database-sqlcipher</a></td>
<td>Android SQLite API based on SQLCipher.</td>
</tr>
<tr>
<td><a href="https://github.com/sromku/android-storage" target="_blank" rel="noopener">Android Storage</a></td>
<td>Create, read, delete, append, encrypt files and more, on internal or external disk spaces with a really simple API.</td>
</tr>
<tr>
<td><a href="https://github.com/facebook/conceal" target="_blank" rel="noopener">Conceal</a></td>
<td>Conceal provides easy Android APIs for performing fast encryption and authentication of data.</td>
</tr>
<tr>
<td><a href="https://github.com/couchbase/couchbase-lite-android" target="_blank" rel="noopener">Couchbase-lite-android</a></td>
<td>Lightweight, embedded, syncable NoSQL database engine for Android.</td>
</tr>
<tr>
<td><a href="https://github.com/ConserveORM/main" target="_blank" rel="noopener">ConserveORM</a></td>
<td>A library for storing your Java/Scala/Kotlin objects in a database.</td>
</tr>
<tr>
<td><a href="https://github.com/Raizlabs/DBFlow" target="_blank" rel="noopener">DBFlow</a></td>
<td>A blazing fast, powerful, and very simple ORM android database library that writes database code for you.</td>
</tr>
<tr>
<td><a href="https://github.com/PDDStudio/EncryptedPreferences" target="_blank" rel="noopener">EncryptedPreferences</a></td>
<td>AES-256 encrypted SharedPreferences for Android.</td>
</tr>
<tr>
<td><a href="https://github.com/greenrobot/greenDAO" target="_blank" rel="noopener">GreenDao</a></td>
<td>greenDAO is a light &amp; fast ORM solution for Android that maps objects to SQLite databases.</td>
</tr>
<tr>
<td><a href="https://github.com/orhanobut/hawk" target="_blank" rel="noopener">Hawk</a></td>
<td>Secure, simple key-value storage for Android.</td>
</tr>
<tr>
<td><a href="https://github.com/chibatching/Kotpref" target="_blank" rel="noopener">Kotpref</a></td>
<td>Android SharedPreferences delegation library for Kotlin.</td>
</tr>
<tr>
<td><a href="https://github.com/LitePalFramework/LitePal" target="_blank" rel="noopener">LitePal</a></td>
<td>An Android library that makes developers use SQLite database extremely easy.</td>
</tr>
<tr>
<td><a href="https://github.com/objectbox/objectbox-java" target="_blank" rel="noopener">ObjectBox</a></td>
<td>ObjectBox is a superfast mobile database for objects.</td>
</tr>
<tr>
<td><a href="https://github.com/j256/ormlite-android" target="_blank" rel="noopener">Ormlite-android</a></td>
<td>ORMLite Android functionality used in conjunction with ormlite-core.</td>
</tr>
<tr>
<td><a href="https://github.com/pilgr/Paper" target="_blank" rel="noopener">Paper</a></td>
<td>Paper is a fast NoSQL-like storage for Java/Kotlin objects on Android with automatic schema migration support.</td>
</tr>
<tr>
<td><a href="https://github.com/skydoves/PreferenceRoom" target="_blank" rel="noopener">PreferenceRoom</a></td>
<td>Manage your android projectâ€™s SharedPreferences more efficiently.</td>
</tr>
<tr>
<td><a href="https://github.com/franmontiel/PersistentCookieJar" target="_blank" rel="noopener">PersistentCookieJar</a></td>
<td>A persistent CookieJar implementation for OkHttp 3 based on SharedPreferences.</td>
</tr>
<tr>
<td><a href="https://github.com/realm/realm-java" target="_blank" rel="noopener">Realm</a></td>
<td>Realm is a mobile database: a replacement for SQLite &amp; ORMs.</td>
</tr>
<tr>
<td><a href="https://developer.android.com/topic/libraries/architecture/room" target="_blank" rel="noopener">Room Persistence</a></td>
<td>The Room persistence library provides an abstraction layer over SQLite to allow for more robust database access while harnessing the full power of SQLite.</td>
</tr>
<tr>
<td><a href="https://github.com/requery/requery" target="_blank" rel="noopener">Requery</a></td>
<td>Modern SQL based query &amp; persistence for Java / Kotlin / Android.</td>
</tr>
<tr>
<td><a href="https://github.com/f2prateek/rx-preferences" target="_blank" rel="noopener">Rx-preferences</a></td>
<td>Reactive SharedPreferences for Android.</td>
</tr>
<tr>
<td><a href="https://github.com/afollestad/rxkprefs" target="_blank" rel="noopener">Rxkprefs</a></td>
<td>A small, Rx-powered shared preferences library for Kotlin.</td>
</tr>
<tr>
<td><a href="https://github.com/NYTimes/Store" target="_blank" rel="noopener">Store</a></td>
<td>Android Library for Async Data Loading and Caching.</td>
</tr>
<tr>
<td><a href="https://github.com/pushtorefresh/storio" target="_blank" rel="noopener">Storio</a></td>
<td>Reactive API for SQLiteDatabase and ContentResolver.</td>
</tr>
<tr>
<td><a href="https://github.com/chennaione/sugar" target="_blank" rel="noopener">Sugar</a></td>
<td>Insanely easy way to work with Android Database.</td>
</tr>
<tr>
<td><a href="https://github.com/yahoo/squidb" target="_blank" rel="noopener">Squidb</a></td>
<td>SquiDB is a SQLite database library for Android and iOS.</td>
</tr>
<tr>
<td><a href="https://github.com/requery/sqlite-android" target="_blank" rel="noopener">Sqlite-android</a></td>
<td>Android SQLite support library.</td>
</tr>
<tr>
<td><a href="https://github.com/iamMehedi/Secured-Preference-Store" target="_blank" rel="noopener">Secured-Preference-Store</a></td>
<td>A cryptography library and a SharedPreferences wrapper for Android that encrypts the content with 256 bit AES encryption. The Encryption key is securely stored in deviceâ€™s KeyStore.</td>
</tr>
<tr>
<td><a href="https://github.com/grandcentrix/tray" target="_blank" rel="noopener">Tray</a></td>
<td>A SharedPreferences replacement for Android with multiprocess support.</td>
</tr>
<tr>
<td>## <strong>No Sql</strong></td>
<td></td>
</tr>
<tr>
<td>â€”</td>
<td></td>
</tr>
<tr>
<td>- **<a href="http://github.com/cesarferreira/RxPaper#handle-data-structure-changes" target="_blank" rel="noopener">RxPaper</a>   Like  below Paper **</td>
<td></td>
</tr>
<tr>
<td>- <a href="http://github.com/f2prateek/rx-preferences" target="_blank" rel="noopener">Rx-preferences</a>   <strong>Reactive SharedPreferences for Android <a href="http://f2prateek.com/2015/10/05/rx-preferences/" target="_blank" rel="noopener">http://f2prateek.com/2015/10/05/rx-preferences/</a></strong></td>
<td></td>
</tr>
<tr>
<td>- **<a href="http://github.com/google/leveldb" target="_blank" rel="noopener">Leveldb</a>  **<a href="http://github.com/google/leveldb" target="_blank" rel="noopener"></a>is a fast key-value storage library written at Google that provides an ordered mapping from string keys to string values.</td>
<td></td>
</tr>
<tr>
<td>- <a href="http://github.com/pilgr/Paper#benchmark-results" target="_blank" rel="noopener">Paper</a>   save/restore Java objects by using efficient Kryo serialization and handling data structure changes automatically.</td>
<td></td>
</tr>
<tr>
<td>- <a href="https://github.com/FabianTerhorst/Iron" target="_blank" rel="noopener">Iron</a>  Fast and easy to use NoSQL data storage</td>
<td></td>
</tr>
</tbody></table>
<h2 id="è½»é‡"><a href="#è½»é‡" class="headerlink" title="è½»é‡"></a>è½»é‡</h2><blockquote>
<p>è½»é‡å¯¹åŸç”Ÿæ–¹æ³•çš„å°è£…ï¼ˆOrigin API Extensionï¼‰</p>
</blockquote>
<hr>
<ul>
<li><a href="http://github.com/soarcn/Favor" target="_blank" rel="noopener">Favor </a> A easy way to use android sharepreference</li>
<li>SQLite ORM</li>
<li><a href="http://https//github.com/LitePalFramework/LitePal" target="_blank" rel="noopener">LitePal</a>    <a href="http://blog.csdn.net/guolin_blog/article/details/38083103" target="_blank" rel="noopener">Androidæ•°æ®åº“é«˜æ‰‹ç§˜ç±</a> </li>
<li><a href="http://github.com/greenrobot/greenDAO" target="_blank" rel="noopener">greendao </a>  <strong>Home page, documentation, and support links: <a href="http://greenrobot.org/greendao/" target="_blank" rel="noopener">http://greenrobot.org/greendao/</a></strong>   Chinese <a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0727/3223.html" target="_blank" rel="noopener">tutorial</a>   </li>
<li><a href="https://github.com/requery/requery" target="_blank" rel="noopener">requery</a> åˆä¸€è½»é‡ORMåº“</li>
<li><a href="http://stackoverflow.com/questions/6645665/what-is-a-good-tutorial-for-using-ormlite-with-sqlite-and-android" target="_blank" rel="noopener">What is a good tutorial for using ORMLite with SQLite and Android</a></li>
</ul>
<h3 id="Improve-SQLiteOpenHelper-and-ContentResolver"><a href="#Improve-SQLiteOpenHelper-and-ContentResolver" class="headerlink" title="Improve SQLiteOpenHelper and ContentResolver"></a>Improve SQLiteOpenHelper and ContentResolver</h3><p><a href="https://github.com/square" target="_blank" rel="noopener">Square</a> å‡ºå“</p>
<ul>
<li><a href="http://github.com/square/sqlbrite" target="_blank" rel="noopener">Sqlbrite</a>  A lightweight wrapper around SQLiteOpenHelper which introduces reactive stream semantics to SQL operations.**<a href="http://square.github.io/sqlbrite/" target="_blank" rel="noopener">http://square.github.io/sqlbrite/</a><br>** </li>
<li><strong><a href="https://github.com/square/sqldelight" target="_blank" rel="noopener">sqldelight</a></strong> Generates Java models from CREATE TABLE statements.ï¼ˆä»sqlè¯­å¥ç”ŸæˆJavaæ¨¡å¼ ï¼‰èƒ½æŠŠsqlç»Ÿä¸€ç®¡ç†</li>
<li><strong><a href="https://github.com/geralt-encore/Delightful-SQLBrite" target="_blank" rel="noopener">Delightful-SQLBrite</a></strong> sqldelight å’Œ SQLBrite ä¾‹å­</li>
</ul>
<p>Qit</p>
<ul>
<li><a href="http://github.com/pushtorefresh/storio" target="_blank" rel="noopener">Storio</a>  Beautiful API for SQLiteDatabase and ContentResolver </li>
<li>Android Instance<a href="http://github.com/frankiesardo/icepick" target="_blank" rel="noopener">Icepick</a>  Android Instance State made easy It works for Activities, Fragments or any object that needs to serialize its state on a Bundle</li>
</ul>
<h2 id="Tools-å·¥å…·"><a href="#Tools-å·¥å…·" class="headerlink" title="Tools(å·¥å…·)"></a>Tools(å·¥å…·)</h2><ul>
<li><strong><a href="https://github.com/infinum/android_dbinspector" target="_blank" rel="noopener">android_dbinspector</a></strong><br><img src="https://camo.githubusercontent.com/5a2f9fe0725a29ff92f941daa814a65f2bdc193c/68747470733a2f2f7261772e6769746875622e636f6d2f696e66696e756d2f616e64726f69645f6462696e73706563746f722f6d61737465722f73637265656e73686f74732e706e67" alt=""></li>
</ul>
<h2 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h2><hr>
<ul>
<li>WeChat Sqliste  <a href="http://mp.weixin.qq.com/s?__biz=MzAwNDY1ODY2OQ==&amp;mid=207548094&amp;idx=1&amp;sn=1a277620bc28349368b68ed98fbefebe" target="_blank" rel="noopener">å¾®ä¿¡ANDROIDå®¢æˆ·ç«¯-ä¼šè¯é€Ÿåº¦æå‡70%çš„èƒŒå</a></li>
<li><a href="http://code.google.com/p/protobuf/" target="_blank" rel="noopener">protocol buffer (protobuf)</a>  </li>
</ul>
<h2 id="é—®é¢˜å¤„ç†"><a href="#é—®é¢˜å¤„ç†" class="headerlink" title="é—®é¢˜å¤„ç†"></a>é—®é¢˜å¤„ç†</h2><p>Sqlite3</p>
<ul>
<li>sqlite3 not found<br>blog:<ul>
<li><a href="http://ramosli.iteye.com/blog/1966202" target="_blank" rel="noopener">sqlite3 not foundçš„è§£å†³åŠæ³•</a></li>
<li><a href="http://android.stackexchange.com/questions/60446/cant-remount-system-in-rw" target="_blank" rel="noopener">cant-remount-system-in-rw</a> Nexus5ä½¿ç”¨æœ‰æ•ˆæœçš„å‘½ä»¤ï¼š<code>mount -o remount,rw /system chmod 4755 /system/xbin/sqlite3</code></li>
<li><code>sqlite3 robot.db</code> ==&gt; error: only position independent executables (PIE) are supported.</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>Android ç›¸å…³çš„æ–°æŠ€æœ¯</title>
    <url>/2016/08/04/2016-08-04-New-trend-for-Android/</url>
    <content><![CDATA[<h2 id="Dynamic-Loading"><a href="#Dynamic-Loading" class="headerlink" title="Dynamic Loading"></a>Dynamic Loading</h2><hr>
<ul>
<li><p><a href="http://github.com/Qihoo360/DroidPlugin" target="_blank" rel="noopener"> 360 å‡ºå“ DroidPlugin</a>  A plugin framework on android,Run any third-party apk without installation, modification or repackage</p>
</li>
<li><p><a href="http://bugly.qq.com/blog/?p=781#rd" target="_blank" rel="noopener">Like web app release version</a> ==&gt;<br><a href="https://github.com/jasonross/Nuwa" title="Nuwa" target="_blank" rel="noopener">open source Nuwa</a> å¥³å¨²ï¼ˆNuwaï¼‰ï¼Œå¯ä»¥çƒ­ä¿®å¤Androidåº”ç”¨ï¼Œå¯ä»¥åŠ å¿«ç¼–è¯‘</p>
</li>
<li><p><a href="https://github.com/singwhatiwanna/dynamic-load-apk" target="_blank" rel="noopener">Dynamic-loading</a></p>
</li>
<li><p>Alibaba<br><a href="https://github.com/alibaba/dexposed" title="dexposed" target="_blank" rel="noopener">dexposed</a> AOP (Aspect-oriented Programming) framework for Android app development<br><a href="https://github.com/alibaba/AndFix" title="AndFix" target="_blank" rel="noopener">AndFix</a> C++</p>
<ol>
<li><a href="http://mp.weixin.qq.com/s?__biz=MzA3Mjk1MjA4Nw==&amp;mid=400452659&amp;idx=1&amp;sn=841b49b875ec3b307f261ed52a7d9c4e&amp;scene=23&amp;srcid=1119JWRt0adNwGxTHiyok460#rd" title="Android App çº¿ä¸Šçƒ­ä¿®å¤æ–¹æ¡ˆ" target="_blank" rel="noopener">Android App çº¿ä¸Šçƒ­ä¿®å¤æ–¹æ¡ˆ</a></li>
<li><a href="http://www.jianshu.com/p/14edcb444c51" title="Androidå¹³å°å…Rootæ— ä¾µå…¥AOPæ¡†æ¶Dexposedä½¿ç”¨è¯¦è§£" target="_blank" rel="noopener">Androidå¹³å°å…Rootæ— ä¾µå…¥AOPæ¡†æ¶Dexposedä½¿ç”¨è¯¦è§£</a></li>
<li><a href="http://www.jianshu.com/p/0fa8073fd144" title="ã€ç¿»è¯‘ã€‘Androidä¸­çš„AOPç¼–ç¨‹" target="_blank" rel="noopener">ã€ç¿»è¯‘ã€‘Androidä¸­çš„AOPç¼–ç¨‹</a></li>
<li><a href="http://blog.csdn.net/qxs965266509/article/details/49821413" target="_blank" rel="noopener">Alibaba-Dexposedæ¡†æ¶åœ¨çº¿çƒ­è¡¥ä¸ä¿®å¤çš„ä½¿ç”¨ </a></li>
<li><a href="http://alibaba.github.io/weex/" target="_blank" rel="noopener">weex</a> é˜¿é‡Œå¼€æº,ç±»ä¼¼React NativeåŸºäºJSå¼€æºå¤¸å¹³å°å¼€æºåº“</li>
</ol>
</li>
<li><p>æºç¨‹æ’ä»¶æ¡†æ¶<br><a href="https://github.com/CtripMobile/DynamicAPK" target="_blank" rel="noopener">DynamicAPK</a> Solution to implement multi apk dynamic loading and hot fixing for Android App. (å®ç°Android Appå¤šapkæ’ä»¶åŒ–å’ŒåŠ¨æ€åŠ è½½ï¼Œæ”¯æŒèµ„æºåˆ†åŒ…å’Œçƒ­ä¿®å¤)</p>
<ol>
<li><a href="http://blog.csdn.net/lzyzsd/article/details/49768283" target="_blank" rel="noopener">å¦‚ä½•å®ç°æºç¨‹åŠ¨æ€åŠ è½½æ’ä»¶ä¸­å¯¹aaptçš„æ”¹é€ </a></li>
</ol>
</li>
<li><p><a href="https://github.com/wequick/Small" target="_blank" rel="noopener">Samll</a>  åšæœ€è½»å·§çš„è·¨å¹³å°æ’ä»¶åŒ–æ¡†æ¶ã€‚æ”¯æŒå¹³å°ï¼šAndroid API 15(4.0.3)+ iOS 7.0+ æ•¬è¯·æœŸå¾…ã€‚</p>
</li>
<li><p>Xposed</p>
<ol>
<li><a href="https://testerhome.com/topics/3819" target="_blank" rel="noopener">ç”¨é»‘å®¢æ€ç»´åšæµ‹è¯•â€”â€”ç¥å™¨ Xposed æ¡†æ¶ä»‹ç»</a> </li>
<li>å®˜ç½‘æ•™ç¨‹: <a href="https://github.com/rovo89/XposedBridge/wiki/Development-tutorial" target="_blank" rel="noopener">Development-tutorial</a></li>
</ol>
</li>
<li><p><strong><a href="https://github.com/Tencent/tinker" target="_blank" rel="noopener">tinker github</a></strong> å¾®ä¿¡çƒ­æ›´æ–°æ–¹æ¡ˆ</p>
<ul>
<li><strong><a href="https://github.com/zzz40500/Tinker_imitator" target="_blank" rel="noopener">Tinker_imitator</a></strong> å¾®ä¿¡çƒ­æ›´æ–°æ–¹æ¡ˆå®è·µ</li>
<li>åšæ–‡ä»‹ç» <a href="http://mp.weixin.qq.com/s?__biz=MzAwNDY1ODY2OQ==&amp;mid=2649286384&amp;idx=1&amp;sn=f1aff31d6a567674759be476bcd12549&amp;scene=1&amp;srcid=0924IYHV3flIxEoQSYdj7TGD#rd" target="_blank" rel="noopener">å¾®ä¿¡Tinkerçš„ä¸€åˆ‡éƒ½åœ¨è¿™é‡Œï¼ŒåŒ…æ‹¬æºç (ä¸€)</a></li>
<li><a href="https://github.com/baidao/tinker-manager" target="_blank" rel="noopener">tinker-manager</a> å¾®ä¿¡tinkerè¡¥ä¸ç®¡ç†ï¼Œåç«¯ä»£ç +å®¢æˆ·ç«¯sdk</li>
</ul>
</li>
</ul>
<h2 id="åšæ–‡è®²è§£"><a href="#åšæ–‡è®²è§£" class="headerlink" title="åšæ–‡è®²è§£"></a>åšæ–‡è®²è§£</h2><p>Androidæ’ä»¶åŒ–åŸç†è§£æâ€”â€”Hookæœºåˆ¶ä¹‹Binder Hook</p>
<h2 id="Weex"><a href="#Weex" class="headerlink" title="Weex"></a>Weex</h2><p>é˜¿é‡Œå¼€æºåŸºäºJSå¼€æºå¤¸å¹³å°å¼€æºåº“,ç±»ä¼¼React Nativeä½†æ˜¯æ›´è½»é‡ï¼Œå­¦ä¹ æˆæœ¬ä½ã€‚</p>
<ul>
<li><a href="https://weex-project.io/" target="_blank" rel="noopener">Weex å®˜ç½‘</a></li>
<li><a href="http://www.infoq.com/cn/articles/taobao-mobile-weex/" target="_blank" rel="noopener">é˜¿é‡Œæ— çº¿11.11 ï¼š Weexâ€”â€”å…³äºç§»åŠ¨ç«¯åŠ¨æ€æ€§çš„æ€è€ƒã€å®ç°å’Œæœªæ¥</a></li>
</ul>
<h2 id="Kotlin"><a href="#Kotlin" class="headerlink" title="Kotlin"></a>Kotlin</h2><hr>
<ul>
<li><a href="http://androidweekly.cn/android-dev-special-weekly-kotlin-issue-0/" target="_blank" rel="noopener">Weekly Kotlin èµ„æºåˆé›†</a></li>
<li><a href="https://kotlinlang.org/" title="org.website" target="_blank" rel="noopener">org.website</a></li>
<li><a href="https://kotlinlang.org/docs/tutorials/" title="Tutorial" target="_blank" rel="noopener">Tutorial</a><ul>
<li><a href="http://try.kotlinlang.org/#/Kotlin%20Koans/Introduction/Java%20to%20Kotlin%20conversion/Task.kt" target="_blank" rel="noopener">Online Compile Tutorial</a></li>
<li><a href="https://kotlinlang.org/docs/tutorials/command-line.html" target="_blank" rel="noopener">command-line</a></li>
</ul>
</li>
<li><a href="https://kotlinlang.org/docs/reference/" title="reference" target="_blank" rel="noopener">reference</a></li>
<li><a href="http://try.kotlinlang.org/#/Examples/Basic%20syntax%20walk-through/Null-checks/Null-checks.kt" title="Examples" target="_blank" rel="noopener">Examples</a></li>
</ul>
<blockquote>
<ol>
<li><a href="http://www.infoq.com/cn/news/2015/11/kotlin-10beta?t=1446734640014" title="Kotlinè¯­è¨€1.0Betaå‘å¸ƒï¼ŒJetBrainä»‹ç»å…¶è®¾è®¡ç†å¿µ" target="_blank" rel="noopener">Kotlinè¯­è¨€1.0Betaå‘å¸ƒï¼ŒJetBrainä»‹ç»å…¶è®¾è®¡ç†å¿µ</a></li>
<li><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODg4MDk0Ng==&amp;mid=401833091&amp;idx=1&amp;sn=9685218eeac4abfbafdfacd81950bfa1#rd" target="_blank" rel="noopener">Kotlin 1.0éƒ½å‡ºäº†è¿˜æ²¡çœ‹è¿‡è‚¿ä¹ˆåŠï¼Ÿä¸æ€•ï¼æ¥çœ‹æˆ‘æ•´ç†çš„Kotlinå­¦ä¹ èµ„æº</a></li>
</ol>
</blockquote>
<p>ç›¸å…³å¼€æºåº“ï¼š</p>
<ul>
<li><strong><a href="https://github.com/StephenVinouze/AdvancedRecyclerView" target="_blank" rel="noopener">AdvancedRecyclerView</a></strong></li>
</ul>
<h2 id="Flutter"><a href="#Flutter" class="headerlink" title="Flutter"></a>Flutter</h2><ul>
<li><a href="https://mp.weixin.qq.com/s/ICejwmeR5cIaWB5ZnJ32bw?utm_source=androidweekly.io&amp;utm_medium=website" target="_blank" rel="noopener">Flutterã€Œå‘å¸ƒé¢„è§ˆç‰ˆ 2ã€è®© iOS åº”ç”¨è‡³è‡»å®Œç¾</a></li>
<li><a href="http://www.elecfans.com/d/828310.html" target="_blank" rel="noopener">Flutter 1.0 æ­£å¼ç‰ˆ: Google çš„ä¾¿æº UI å·¥å…·åŒ…</a></li>
<li><a href="https://www.jiqizhixin.com/articles/2018-12-10?utm_source=androidweekly.io&amp;utm_medium=website" target="_blank" rel="noopener">Flutterè·¨å¹³å°Hybridå®è·µ</a></li>
<li><a href="https://www.yuque.com/xytech/flutter/emdguh?utm_source=androidweekly.io&amp;utm_medium=website" target="_blank" rel="noopener">åšäº†2ä¸ªå¤šæœˆçš„è®¾è®¡å’Œç¼–ç ï¼Œæˆ‘æ¢³ç†äº†FlutteråŠ¨æ€åŒ–çš„æ–¹æ¡ˆå¯¹æ¯”åŠæœ€ä½³å®ç°</a></li>
<li><a href="https://mp.weixin.qq.com/s/FD4s0RMRqAy5b_NsrK3Oog?utm_source=androidweekly.io&amp;utm_medium=website" target="_blank" rel="noopener">Flutterå­¦ä¹ æŒ‡å—ï¼šå°è£… API æ’ä»¶</a></li>
</ul>
<p>å¼€æºåº“</p>
<ul>
<li><a href="https://github.com/alibaba/flutter-go" target="_blank" rel="noopener"><strong>flutter-go</strong></a> flutter å¼€å‘è€…å¸®åŠ© APPï¼ŒåŒ…å« flutter å¸¸ç”¨ 140+ ç»„ä»¶çš„demo æ¼”ç¤ºä¸ä¸­æ–‡æ–‡æ¡£</li>
</ul>
<h2 id="ARCore-Google-çš„å¢å¼ºç°å®æ„å»ºå¹³å°"><a href="#ARCore-Google-çš„å¢å¼ºç°å®æ„å»ºå¹³å°" class="headerlink" title="ARCore Google çš„å¢å¼ºç°å®æ„å»ºå¹³å°"></a>ARCore Google çš„å¢å¼ºç°å®æ„å»ºå¹³å°</h2><ul>
<li><a href="https://mp.weixin.qq.com/s/SXmF-CmFyr8HFdAjOWrDXQ?utm_source=androidweekly.io&amp;utm_medium=website" target="_blank" rel="noopener">ä»å°ç™½åˆ°ä¸Šæ‰‹ ARCoreï¼Œè¿™ä¸€ç¯‡æŠ€æœ¯è´´è¯·æ”¶å¥½</a></li>
</ul>
<h2 id="RxAndroid"><a href="#RxAndroid" class="headerlink" title="RxAndroid"></a><a href="https://github.com/ReactiveX/RxAndroid" title="RxAndroid" target="_blank" rel="noopener">RxAndroid</a></h2><p><strong>Reading</strong></p>
<ul>
<li><a href="http://blog.danlew.net/2014/10/08/grokking-rxjava-part-4/" title="Grokking RxJava, Part 4: Reactive Android" target="_blank" rel="noopener">Grokking RxJava, Part 4: Reactive Android</a></li>
<li><a href="http://www.littlerobots.nl/blog/RxLint-a-lint-rule-for-RxJava/" target="_blank" rel="noopener">Rxlint </a> <code>compile 'nl.littlerobots.rxlint:rxlint:1.0</code></li>
</ul>
<h2 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h2><hr>
<ul>
<li><strong><a href="https://github.com/facebook/redex" target="_blank" rel="noopener">redex</a></strong>  é€šè¿‡å¯¹å­—èŠ‚ç è¿›è¡Œä¼˜åŒ–ï¼Œä»¥å‡å° Android Apk å¤§å°ï¼ŒåŒæ—¶æé«˜ App å¯åŠ¨é€Ÿåº¦ã€‚<br><a href="http://www.trinea.cn/android/facebook%E5%BC%80%E6%BA%90%E7%9A%84android%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7redex-%E5%87%8F%E5%B0%8F%E5%AE%89%E8%A3%85%E5%8C%85%E5%A4%A7%E5%B0%8F-%E5%90%8C%E6%97%B6%E6%8F%90%E9%AB%98%E8%BF%90/" target="_blank" rel="noopener">Facebook App ä¼˜åŒ–å·¥å…· ReDex ä¼˜åŒ–çš„ 6 ç‚¹åŠæœªä¼˜åŒ–çš„ä¸€å¤§æ–¹é¢</a></li>
</ul>
<h2 id="ç»Ÿä¸€å¼€å‘"><a href="#ç»Ÿä¸€å¼€å‘" class="headerlink" title="ç»Ÿä¸€å¼€å‘"></a>ç»Ÿä¸€å¼€å‘</h2><ul>
<li><a href="https://software.intel.com/en-us/multi-os-engine" target="_blank" rel="noopener">Multi-OS Engine</a> Create Android* and iOS* apps using Java Coding ä¸€ä¸ªèƒ½ç”¨Android Studioç»Ÿä¸€å¼€å‘ IOS Android Window åº”ç”¨çš„å¼•æ“ã€‚</li>
</ul>
<h2 id="å¼€æºåº“"><a href="#å¼€æºåº“" class="headerlink" title="å¼€æºåº“"></a>å¼€æºåº“</h2><ul>
<li><strong><a href="https://github.com/rmtheis/android-ocr" target="_blank" rel="noopener">android-ocr</a></strong>   optical character recognition (OCR) æ–‡å­—è¯†åˆ«</li>
</ul>
<h2 id="è°·æ­Œæ–°å¼€æºåº“"><a href="#è°·æ­Œæ–°å¼€æºåº“" class="headerlink" title="è°·æ­Œæ–°å¼€æºåº“"></a>è°·æ­Œæ–°å¼€æºåº“</h2><h3 id="jetpack"><a href="#jetpack" class="headerlink" title="jetpack"></a>jetpack</h3><p><a href="https://developer.android.com/jetpack/" target="_blank" rel="noopener">https://developer.android.com/jetpack/</a></p>
<ul>
<li>AndroidX </li>
<li>LiveData + ViewModel + Room</li>
<li>ViewModel+LiveData+DataBinding</li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>æ–°æŠ€æœ¯</tag>
      </tags>
  </entry>
  <entry>
    <title>Material Design</title>
    <url>/2016/07/29/2016-07-29-Material-Design/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ä¸€ã€è®¾è®¡é˜¶æ®µ<br>Material Design æä¾›äº†è·¨è®¾å¤‡å’Œ Web çš„ä¸€è‡´æ€§ç”¨æˆ·ä½“éªŒã€‚å®ƒçš„å››é¡¹åŸåˆ™ï¼š</p>
<ul>
<li>æœ‰å‹çš„å¤–è§‚(Tangible surface)ï¼šåº”ç”¨åƒç°å®ä¸­çš„å®ç‰©ä¸€æ ·ã€‚</li>
<li>ä»¿å°åˆ·å“çš„è®¾è®¡(Print-like design)ï¼šå†…å®¹é†’ç›®ã€å½¢è±¡ç”ŸåŠ¨ã€æ„å›¾æ˜ç¡®ã€‚</li>
<li>æœ‰æ„ä¹‰çš„è¿åŠ¨æ•ˆæœ(Meaningful motion)ï¼šå¸å¼•ç”¨æˆ·çš„å…´è¶£ï¼Œåœ¨åº”ç”¨çŠ¶æ€åˆ‡æ¢æ—¶ä¿æŒè¿ç»­æ€§ã€‚</li>
<li>è‡ªé€‚åº”è®¾è®¡(Adaptive deisgn)ï¼šç”¨æˆ·åœ¨æ‰‹æœºã€å¹³æ¿ã€Android TVã€Android Wearã€Android Auto ç­‰ä¸åŒè®¾å¤‡ä¸Šéƒ½èƒ½æ„Ÿåˆ°ç†Ÿæ‚‰ã€ä¸€è‡´ï¼Œè€Œä¸éœ€è¦é‡æ–°é€‚åº”åº”ç”¨ã€‚</li>
</ul>
<h1 id="æ–‡æ¡£"><a href="#æ–‡æ¡£" class="headerlink" title="æ–‡æ¡£"></a>æ–‡æ¡£</h1><h2 id="å®˜æ–¹API"><a href="#å®˜æ–¹API" class="headerlink" title="å®˜æ–¹API"></a>å®˜æ–¹API</h2><ul>
<li><a href="https://developer.android.com/training/transitions/overview.html" target="_blank" rel="noopener">The Transitions Framework</a></li>
<li><a href="http://developer.android.com/tools/support-library/index.html" target="_blank" rel="noopener">Support Library</a></li>
</ul>
<h2 id="å®˜æ–¹åšå®¢"><a href="#å®˜æ–¹åšå®¢" class="headerlink" title="å®˜æ–¹åšå®¢"></a>å®˜æ–¹åšå®¢</h2><ul>
<li><a href="http://android-developers.blogspot.com/2015/05/android-design-support-library.html" target="_blank" rel="noopener">[1]Android Design Support Library</a></li>
<li><a href="http://android-developers.blogspot.com/2016/02/android-support-library-232.html" target="_blank" rel="noopener">Android Support Library 23.2</a></li>
</ul>
<h2 id="ä½¿ç”¨é¡»çŸ¥"><a href="#ä½¿ç”¨é¡»çŸ¥" class="headerlink" title="ä½¿ç”¨é¡»çŸ¥"></a>ä½¿ç”¨é¡»çŸ¥</h2><ul>
<li><a href="https://mp.weixin.qq.com/s/6xViWef8Po0N-x8BQiGw2Q?utm_source=androidweekly.io&amp;utm_medium=website" target="_blank" rel="noopener">å‰¥èŒ§æŠ½ä¸åš UI åŠ¨æ•ˆï¼Œå…¶å®å¾ˆç®€å•</a></li>
</ul>
<h1 id="å¼€æºåº“"><a href="#å¼€æºåº“" class="headerlink" title="å¼€æºåº“"></a>å¼€æºåº“</h1><ul>
<li><a href="https://github.com/material-components/material-components-android" target="_blank" rel="noopener">material-components-android</a> ã€é‡ç‚¹ã€‘</li>
<li><strong><a href="https://github.com/lightSky/Awesome-MaterialDesign" target="_blank" rel="noopener">Awesome-MaterialDesign</a></strong> ã€é‡ç‚¹ã€‘</li>
<li><a href="https://github.com/google/material-design-icons" target="_blank" rel="noopener">Material design icons by Google</a></li>
<li><a href="https://medium.com/google-developers/animation-jump-through-861f4f5b3de4#.92v66z9ip" target="_blank" rel="noopener">Animation: Jump-through</a>ã€å¾…ç ”ç©¶ã€‘ã€é‡ç‚¹ã€‘<br><img src="https://cdn-images-1.medium.com/max/800/1*fFC0LdzpExlP3VG93coZDA.gif" alt="å¾ˆå–œæ¬¢"></li>
<li><a href="http://www.androiddesignpatterns.com/2016/11/introduction-to-icon-animation-techniques.html" target="_blank" rel="noopener">An Introduction to Icon Animation Techniques</a> éå¸¸è¯¦å°½çš„ä»‹ç»å¹¶é™„æœ‰ä»£ç ä¾‹å­è®²è§£ ã€é‡ç‚¹ã€‘</li>
<li><a href="https://medium.com/@andkulikov/animate-all-the-things-transitions-in-android-914af5477d50#.spkrrmtoz" target="_blank" rel="noopener">Animate all the things. Transitions in Android</a><br>ä¸€ä¸ªå…³äº<a href="https://github.com/andkulikov/transitions-everywhere" target="_blank" rel="noopener"><strong>transitions-everywhere</strong></a> Motion Material å…¼å®¹åº“çš„ä»‹ç»çš„åšå®¢</li>
<li><a href="https://stories.uplabs.com/music-player-3a85864d6df7#.nepyiqcve" target="_blank" rel="noopener">Music Player: From UI Proposal to Code</a> ä¸€ä¸ªä»‹ç»Material Transitions çš„ä¾‹å­ï¼Œä½†æ˜¯æ²¡æœ‰å…¼å®¹ä½ç‰ˆæœ¬<br><img src="http://upload-images.jianshu.io/upload_images/1321512-58619ce3666e1c30.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
</ul>
<h2 id="App-Bar-layout"><a href="#App-Bar-layout" class="headerlink" title="App Bar layout"></a>App Bar layout</h2><ul>
<li><p><strong><a href="https://github.com/henrytao-me/smooth-app-bar-layout" target="_blank" rel="noopener">smooth-app-bar-layout</a></strong></p>
</li>
<li><p><strong><a href="https://github.com/niorgai/StatusBarCompat" target="_blank" rel="noopener">StatusBarCompat</a></strong> Api &gt;= 19</p>
</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-e6e4136518502264.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h1 id="Material-Design-æ–°ç‰¹æ€§"><a href="#Material-Design-æ–°ç‰¹æ€§" class="headerlink" title="Material Design æ–°ç‰¹æ€§"></a>Material Design æ–°ç‰¹æ€§</h1><ul>
<li><a href="http://inthecheesefactory.com/blog/android-design-support-library-codelab/en" target="_blank" rel="noopener">Codelab for Android Design Support Library used in I/O Rewind Bangkok session</a> ä»‹ç»Material Design æ–°ç‰¹æ€§å¾ˆè¯¦ç»†çš„æ–‡ç«  å¯¹åº”çš„ä»£ç <br><a href="http://https//github.com/nuuneoi/Lab-Android-DesignLibrary" target="_blank" rel="noopener">Github</a></li>
</ul>
<h2 id="Ripple-api-gt-21"><a href="#Ripple-api-gt-21" class="headerlink" title="Ripple api > = 21"></a>Ripple api &gt; = 21</h2><h3 id="å®è·µåº”ç”¨"><a href="#å®è·µåº”ç”¨" class="headerlink" title="å®è·µåº”ç”¨"></a>å®è·µåº”ç”¨</h3><p>è‡ªå®šä¹‰RippleèƒŒæ™¯é¢œè‰²</p>
<p>drawable-v21/selectable_item_background.xml</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layer-list</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@android:color/white<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>?attr/selectableItemBackground<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layer-list</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è‡ªå®šä¹‰Rippleçš„é¢œè‰²ï¼Œåœ¨ä¸»é¢˜styleä¸­</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>AppTheme<span class="token punctuation">"</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android:Theme.Material.Light.DarkActionBar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style language-css">
    &lt;item name=<span class="token string">"android:colorControlHighlight"</span>>@color/your_custom_color&lt;/item>
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å…¼å®¹åº“"><a href="#å…¼å®¹åº“" class="headerlink" title="å…¼å®¹åº“"></a>å…¼å®¹åº“</h3><p><a href="https://github.com/traex/RippleEffect" target="_blank" rel="noopener">RippleEffect</a> api &gt; 9 ç¼ºç‚¹æ˜¯å¼•å…¥æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦åŒ…ä¸€å±‚Layoutï¼Œå¸ƒå±€èµ·æ¥ä¸æ˜¯å¾ˆæ–¹ä¾¿</p>
<h3 id="ç›¸å…³åšæ–‡"><a href="#ç›¸å…³åšæ–‡" class="headerlink" title="ç›¸å…³åšæ–‡"></a>ç›¸å…³åšæ–‡</h3><ul>
<li><p><a href="https://blog.csdn.net/AwayEagle/article/details/52583913" target="_blank" rel="noopener">Android Rippleçš„è¯¦è§£</a></p>
</li>
<li><p><a href="https://guides.codepath.com/android/ripple-animation#clickable-views" target="_blank" rel="noopener">Ripple Animation</a></p>
</li>
</ul>
<h2 id="SVG"><a href="#SVG" class="headerlink" title="SVG"></a>SVG</h2><ul>
<li><a href="https://www.androiddesignpatterns.com/2016/11/introduction-to-icon-animation-techniques.html" target="_blank" rel="noopener">An Introduction to Icon Animation Techniques</a> ã€è¶…çº§ç»å…¸Â·å¿…è¯»ã€‘</li>
<li><a href="http://www.w3.org/TR/SVG11/paths.html#PathData" target="_blank" rel="noopener">SVG Path reference</a>.</li>
<li><a href="https://developer.android.com/training/material/animations.html#AnimVector" target="_blank" rel="noopener">Animating Vector Drawables</a>.</li>
<li><a href="https://lewismcgeary.github.io/posts/animated-vector-drawable-pathMorphing/" target="_blank" rel="noopener">PathMorphing with AnimatedVectorDrawables in Android</a></li>
<li>[ColoredVector-Android](Change colors of your vector drawables easily from your code)</li>
<li><a href="http://www.07net01.com/2016/01/1118674.html" target="_blank" rel="noopener">VectorDrawable å’Œ AnimatedVectorDrawable çš„å…¼å®¹æ€§é—®é¢˜</a></li>
</ul>
<h3 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h3><ul>
<li><a href="http://editor.method.ac/" target="_blank" rel="noopener">SVGçš„ç¼–è¾‘å™¨</a></li>
<li><a href="https://inkscape.org/" target="_blank" rel="noopener">Inkscape</a> è·¨å¹³å°SVGç¼–è¾‘å™¨</li>
</ul>
<p>è½¬åŒ–</p>
<ul>
<li><a href="http://a-student.github.io/SvgToVectorDrawableConverter.Web/" target="_blank" rel="noopener">SvgToVectorDrawableConverter</a></li>
<li><a href="http://inloop.github.io/svg2android/" target="_blank" rel="noopener">svg2android</a></li>
</ul>
<h3 id="ç›¸å…³åšæ–‡-1"><a href="#ç›¸å…³åšæ–‡-1" class="headerlink" title="ç›¸å…³åšæ–‡"></a>ç›¸å…³åšæ–‡</h3><ul>
<li><a href="https://www.jianshu.com/p/e3614e7abc03" target="_blank" rel="noopener">Android Vectoræ›²æŠ˜çš„å…¼å®¹ä¹‹è·¯</a></li>
</ul>
<h2 id="TV"><a href="#TV" class="headerlink" title="TV"></a>TV</h2><ul>
<li><a href="http://developer.android.com/tv/index.html" target="_blank" rel="noopener">Docs</a>  <a href="http://developer.android.com/tv/index.html" target="_blank" rel="noopener">http://developer.android.com/tv/index.html</a></li>
<li><strong><a href="https://github.com/googlesamples/androidtv-Leanback" target="_blank" rel="noopener">androidtv-Leanback</a></strong></li>
</ul>
<h2 id="Toolbar"><a href="#Toolbar" class="headerlink" title="Toolbar"></a>Toolbar</h2><p><a href="http://www.tuicool.com/articles/7BJBZb" target="_blank" rel="noopener">ToolBarè¯¦è§£</a><br><img src="http://upload-images.jianshu.io/upload_images/1321512-bddcf5a56fa4f69d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="TabLayout"><a href="#TabLayout" class="headerlink" title="TabLayout"></a>TabLayout</h2><p> <a href="http://blog.csdn.net/aigestudio/article/details/47155769" target="_blank" rel="noopener">TabLayoutï¼šå¦ä¸€ç§Tabçš„å®ç°æ–¹å¼</a></p>
<ul>
<li>å¦‚ä¸‹ä»£ç ï¼ŒTabé—´éš”è½¬æ¢ä¼šæœ‰æ›´å¥½çš„åŠ¨ç”»æ•ˆæœã€‚<pre class="line-numbers language-java"><code class="language-java">Method animateToTab <span class="token operator">=</span> clz<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">"animateToTab"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
animateToTab<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
animateToTab<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>tabLayout<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li>ä¸ViewPagerç»“åˆæ ‡å‡†ä»£ç <pre class="line-numbers language-java"><code class="language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setContentView</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>ac_tab_layout<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// è·å–ViewPager</span>
  ViewPager viewPager <span class="token operator">=</span> <span class="token punctuation">(</span>ViewPager<span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>ac_tab_vp<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// æ„é€ ä¸€ä¸ªTabPagerAdapterå¯¹è±¡</span>
  TabPagerAdapter adapter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TabPagerAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// è·å–ViewPager</span>
  TabLayout tabLayout <span class="token operator">=</span> <span class="token punctuation">(</span>TabLayout<span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>ac_tab_layout<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// è®¾ç½®TabLayoutæ¨¡å¼</span>
  tabLayout<span class="token punctuation">.</span><span class="token function">setTabMode</span><span class="token punctuation">(</span>TabLayout<span class="token punctuation">.</span>MODE_SCROLLABLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// è®¾ç½®ViewPagerçš„é€‚é…å™¨</span>
  viewPager<span class="token punctuation">.</span><span class="token function">setAdapter</span><span class="token punctuation">(</span>adapter<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// è®¾ç½®ViewPager</span>
  tabLayout<span class="token punctuation">.</span><span class="token function">setupWithViewPager</span><span class="token punctuation">(</span>viewPager<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><a href="https://www.jianshu.com/p/2b2bb6be83a8" target="_blank" rel="noopener">Designåº“-TabLayoutå±æ€§è¯¦è§£</a></li>
</ul>
<h2 id="Bottom-Navigation"><a href="#Bottom-Navigation" class="headerlink" title="Bottom Navigation"></a>Bottom Navigation</h2><p>Dependence</p>
<pre class="line-numbers language-gradle"><code class="language-gradle">compile 'com.android.support:appcompat-v7:25.0.0'
compile 'com.android.support:design:25.0.0'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ul>
<li><a href="https://blog.autsoft.hu/now-you-can-use-the-bottom-navigation-view-in-the-design-support-library/" target="_blank" rel="noopener">Tutorialï¼šNow you can use the Bottom Navigation View in the Design Support Library</a></li>
</ul>
<h2 id="TextInputLayout"><a href="#TextInputLayout" class="headerlink" title="TextInputLayout"></a>TextInputLayout</h2><ul>
<li>codelabs <a href="https://codelabs.developers.google.com/codelabs/constraint-layout/index.html?index=..%2F..%2Findex#8" target="_blank" rel="noopener">constraint-layout</a> [good]</li>
<li><a href="https://code.tutsplus.com/tutorials/creating-a-login-screen-using-textinputlayout--cms-24168" target="_blank" rel="noopener">Creating a Login Screen Using TextInputLayout</a></li>
<li><strong><a href="https://github.com/rengwuxian/MaterialEditText" target="_blank" rel="noopener">MaterialEditText</a></strong> æŠ›ç‰©çº¿ã€RxJavaç»å…¸å…¥é—¨æ•™ç¨‹çš„åšä¸»ã€‘</li>
</ul>
<h2 id="AppBarLayout"><a href="#AppBarLayout" class="headerlink" title="AppBarLayout"></a>AppBarLayout</h2><ul>
<li><a href="https://www.jianshu.com/p/7caa5f4f49bd" target="_blank" rel="noopener">Android è¯¦ç»†åˆ†æAppBarLayoutçš„äº”ç§ScrollFlags</a></li>
</ul>
<h2 id="ConstraintLayout"><a href="#ConstraintLayout" class="headerlink" title="ConstraintLayout"></a><strong>ConstraintLayout</strong></h2><ul>
<li><a href="https://developer.android.com/training/constraint-layout" target="_blank" rel="noopener">å®˜ç½‘è¶…è¯¦ç»†çš„å›¾æ–‡æ‰‹å†Œ</a></li>
<li><a href="https://www.jianshu.com/p/a95daeaa02d7" target="_blank" rel="noopener">ConstraintLayoutå­¦èµ·æ¥ï¼ã€éƒ­éœ–åšå®¢ã€‘</a></li>
<li><a href="https://codelabs.developers.google.com/codelabs/constraint-layout/index.html#0" target="_blank" rel="noopener">Using ConstraintLayout to design your views</a></li>
<li><a href="https://developer.android.com/reference/android/support/constraint/ConstraintLayout.html" target="_blank" rel="noopener">ConstraintLayout API</a></li>
<li><a href="https://developer.android.com/training/constraint-layout/index.html" target="_blank" rel="noopener">Build a Responsive UI with ConstraintLayout</a></li>
<li><a href="https://blog.stylingandroid.com/constraintlayout-part-1/" target="_blank" rel="noopener">ConstraintLayout â€“ Part 1</a></li>
<li>Script<blockquote>
<p> To convert an existing layout to a constraint layout<br>Design -&gt; component Tree -&gt; Convert layout to ConstraintLayout</p>
</blockquote>
</li>
</ul>
<h2 id="CardView"><a href="#CardView" class="headerlink" title="CardView"></a><em>CardView</em></h2><ul>
<li>android.support.v7.widget.CardView</li>
</ul>
<h3 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h3><pre class="line-numbers language-gradle"><code class="language-gradle">implementation 'com.android.support:cardview-v7:27.1.1'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="å±æ€§è¯¦è§£"><a href="#å±æ€§è¯¦è§£" class="headerlink" title="å±æ€§è¯¦è§£"></a>å±æ€§è¯¦è§£</h3><table>
<thead>
<tr>
<th>å±æ€§</th>
<th>è§£æ</th>
</tr>
</thead>
<tbody><tr>
<td>app:cardBackgroundColor</td>
<td>ç½®èƒŒæ™¯é¢œè‰²</td>
</tr>
<tr>
<td>app:cardCornerRadius</td>
<td>è®¾ç½®åœ†è§’å¤§å°</td>
</tr>
<tr>
<td>app:cardElevation</td>
<td>è®¾ç½®zè½´é˜´å½±é«˜åº¦</td>
</tr>
<tr>
<td>app:cardMaxElevation</td>
<td>è®¾ç½®zè½´æœ€å¤§é«˜åº¦å€¼</td>
</tr>
<tr>
<td>app:contentPadding</td>
<td>å†…å®¹ä¸è¾¹è·çš„é—´éš”</td>
</tr>
<tr>
<td>app:contentPaddingLeft</td>
<td>å†…å®¹ä¸å·¦è¾¹çš„é—´éš”</td>
</tr>
<tr>
<td>app:contentPaddingTop</td>
<td>å†…å®¹ä¸é¡¶éƒ¨çš„é—´éš”</td>
</tr>
<tr>
<td>app:contentPaddingRight</td>
<td>å†…å®¹ä¸å³è¾¹çš„é—´éš”</td>
</tr>
<tr>
<td>app:contentPaddingBottom</td>
<td>å†…å®¹ä¸åº•éƒ¨çš„é—´éš”</td>
</tr>
<tr>
<td>app:paddingStart</td>
<td>å†…å®¹ä¸è¾¹è·çš„é—´éš”èµ·å§‹</td>
</tr>
<tr>
<td>app:paddingEnd</td>
<td>å†…å®¹ä¸è¾¹è·çš„é—´éš”ç»ˆæ­¢</td>
</tr>
<tr>
<td>app:cardUseCompatPadding</td>
<td>è®¾ç½®å†…è¾¹è·ï¼Œåœ¨API21åŠä»¥ä¸Šç‰ˆæœ¬å’Œä¹‹å‰çš„ç‰ˆæœ¬ä»æ—§å…·æœ‰ä¸€æ ·çš„è®¡ç®—æ–¹å¼</td>
</tr>
<tr>
<td>app:cardPreventConrerOverlap</td>
<td>åœ¨API20åŠä»¥ä¸‹ç‰ˆæœ¬ä¸­æ·»åŠ å†…è¾¹è·ï¼Œè¿™ä¸ªå±æ€§ä¸ºäº†é˜²æ­¢å†…å®¹å’Œè¾¹è§’çš„é‡å </td>
</tr>
</tbody></table>
<p><font color="red">æ³¨æ„ï¼š</font>CardViewä¸­ä½¿ç”¨android:backgroundè®¾ç½®èƒŒæ™¯é¢œè‰²æ— æ•ˆã€‚</p>
<h3 id="ä½¿ç”¨æŠ€å·§"><a href="#ä½¿ç”¨æŠ€å·§" class="headerlink" title="ä½¿ç”¨æŠ€å·§"></a>ä½¿ç”¨æŠ€å·§</h3><p><strong>Ripple</strong> æ•ˆæœ</p>
<pre class="line-numbers language-xml"><code class="language-xml">android:foreground=â€?android:attr/selectableItemBackgroundâ€<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="cardUseCompatPadding"><a href="#cardUseCompatPadding" class="headerlink" title="cardUseCompatPadding"></a>cardUseCompatPadding</h3><p><img src="https://simg.open-open.com/show/bad78408db2cd78e7ce36308e992ae42.png" alt=""></p>
<p><strong>pre-Lollipopå¹³å°ä¸­ï¼Œä¸åŒcardPreventCornerOverlapå€¼çš„æ•ˆæœå¯¹æ¯”å›¾ï¼ˆå·¦falseï¼Œå³trueï¼‰</strong></p>
<p>è®¾ç½®åœ¨LollipopåŠä»¥ä¸Šç‰ˆæœ¬çš„ç³»ç»Ÿä¸­æ²¡æœ‰ä»»ä½•å½±å“ï¼Œé™¤écardUseCompatPaddingçš„å€¼ä¸ºtrueã€‚</p>
<h3 id="lift-on-touch-æ•ˆæœ"><a href="#lift-on-touch-æ•ˆæœ" class="headerlink" title="lift-on-touch æ•ˆæœ"></a><strong>lift-on-touch</strong> æ•ˆæœ</h3><p><img src="https://simg.open-open.com/show/48cf6ec1a740fe95695805f636d69a0a.gif" alt=""></p>
<p>drawable/lift_on_touch.xml</p>
<p><font color="red"> æ³¨æ„ï¼š</font> è®¾ç½®clickæ•ˆæœæ‰ä¼šå‡ºç°</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token comment" spellcheck="true">&lt;!-- animate the translationZ property of a view when pressed --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>selector</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span>
 <span class="token attr-name"><span class="token namespace">android:</span>state_enabled</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
 <span class="token attr-name"><span class="token namespace">android:</span>state_pressed</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>objectAnimator</span>
 <span class="token attr-name"><span class="token namespace">android:</span>duration</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@android:integer/config_shortAnimTime<span class="token punctuation">"</span></span>
 <span class="token attr-name"><span class="token namespace">android:</span>propertyName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translationZ<span class="token punctuation">"</span></span>
 <span class="token attr-name"><span class="token namespace">android:</span>valueTo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>6dp<span class="token punctuation">"</span></span>
 <span class="token attr-name"><span class="token namespace">android:</span>valueType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>floatType<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>objectAnimator</span>
 <span class="token attr-name"><span class="token namespace">android:</span>duration</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@android:integer/config_shortAnimTime<span class="token punctuation">"</span></span>
 <span class="token attr-name"><span class="token namespace">android:</span>propertyName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translationZ<span class="token punctuation">"</span></span>
 <span class="token attr-name"><span class="token namespace">android:</span>valueTo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span>
 <span class="token attr-name"><span class="token namespace">android:</span>valueType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>floatType<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>selector</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å°ç»“ï¼š</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>AppCardView<span class="token punctuation">"</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@style/CardView.Light<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style language-css">
 &lt;item name=<span class="token string">"cardPreventCornerOverlap"</span>>false&lt;/item>
 &lt;item name=<span class="token string">"cardUseCompatPadding"</span>>true&lt;/item>
 &lt;item name=<span class="token string">"android:foreground"</span>>?<span class="token property">android</span><span class="token punctuation">:</span>attr/selectableItemBackground&lt;/item>
 &lt;item name=<span class="token string">"android:stateListAnimator"</span> <span class="token property">tools</span><span class="token punctuation">:</span>targetApi=<span class="token string">"lollipop"</span>>@drawable/lift_up&lt;/item>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å‚è€ƒï¼š<a href="https://www.open-open.com/lib/view/open1476847497671.html" target="_blank" rel="noopener">Android CardViewçš„ä½¿ç”¨ç»†èŠ‚</a></p>
<h2 id="NestedScrollView"><a href="#NestedScrollView" class="headerlink" title="NestedScrollView"></a>NestedScrollView</h2><h2 id="BottomSheets"><a href="#BottomSheets" class="headerlink" title="BottomSheets"></a>BottomSheets</h2><ul>
<li><a href="https://www.jianshu.com/p/0a7383e0ad0f" target="_blank" rel="noopener">BottomSheetã€BottomSheetDialogä½¿ç”¨è¯¦è§£</a> ã€åŸºç¡€ã€‘ </li>
<li><a href="https://www.dazhuanlan.com/2019/12/10/5dee9b9331e45/?__cf_chl_jschl_tk__=146ccb275528bf34b71cd72460657ebfcc60ebb2-1599547725-0-AVzuYBrTFAlWoKyLKFk_PTGNRS5JHds5wHgUnXKTxGXyE5vjqvHgNEQLKtydguf3PdiRh1GMmU3VOU4-LnRKMGscVDKFHmvI5Kr38BtShaC3T0QS4h7GiEcbq9GUYqQkHamnSUI3LF0cJzHO8Jnjy5D-m3M4gzq7c-mMEX-xWtkO4z9X_Fx5P6JU6aF7N1h104D2HabZlYGlL2z9UE35Fv3g7_Fv-aymFdLdQ8zUA9feq7HM-PC-5rcmXHG26N7TaOOSvNf-u8dSO5JRfSne9e0jh1m0hVnEBNbPxzNIf64vJluBg23b_qGMCfu8RK5eHg" target="_blank" rel="noopener">BottomSheetè¯¦è§£</a> ã€style ä¿®æ”¹å¸ƒå±€ã€‘</li>
<li><a href="https://blog.csdn.net/yangaiyu/article/details/104491415/" target="_blank" rel="noopener">BottomSheet å¸¸ç”¨è®¾ç½®</a></li>
</ul>
<ol>
<li><p>è®¾ç½®é«˜åº¦ä¸ºå±å¹•3/2ï¼Œå»é™¤çŠ¶æ€æ </p>
<pre class="line-numbers language-java"><code class="language-java"> <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> screenHeight <span class="token operator">=</span> <span class="token function">getScreenHeight</span><span class="token punctuation">(</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>screenHeight <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            screenHeight <span class="token operator">=</span> <span class="token number">1920</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        Window window <span class="token operator">=</span> <span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">assert</span> window <span class="token operator">!=</span> null<span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">//è®¾ç½®æˆæ²‰æµ¸å¼</span>
<span class="token comment" spellcheck="true">//        window.setLayout(ViewGroup.LayoutParams.MATCH_PARENT, dialogHeight);</span>

        <span class="token comment" spellcheck="true">//éœ€è¦è®¾ç½®æœ€å¤§é«˜åº¦ ç»™dialogè®¾ç½®ä¸€ä¸ªå›ºå®šçš„é«˜åº¦</span>
        <span class="token comment" spellcheck="true">//ä½ æƒ³è¦å‡å»çš„é«˜åº¦ï¼Œdialogé»˜è®¤æœ€å¤§é«˜åº¦åœ¨çŠ¶æ€æ ä¸‹æ–¹</span>
<span class="token comment" spellcheck="true">//        float reduceHeight = getContext().getResources().getDimension(R.dimen.qb_px_120);</span>
        <span class="token keyword">int</span> reduceHeight <span class="token operator">=</span> ScreenUtils<span class="token punctuation">.</span><span class="token function">getStatusBarHeight</span><span class="token punctuation">(</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//        window.setLayout(ViewGroup.LayoutParams.MATCH_PARENT, (int) (dialogHeight - reduceHeight));</span>
        window<span class="token punctuation">.</span><span class="token function">setLayout</span><span class="token punctuation">(</span>ViewGroup<span class="token punctuation">.</span>LayoutParams<span class="token punctuation">.</span>MATCH_PARENT<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>screenHeight<span class="token operator">/</span><span class="token number">3</span><span class="token operator">*</span><span class="token number">2</span> <span class="token operator">-</span> reduceHeight<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//        æœ€åä¸€æ­¥æ˜¯å¿…é¡»çš„ï¼Œå¦åˆ™BottomSheetDialogä¼šæ˜¾ç¤ºåœ¨å±å¹•ä¸­é—´ï¼Œåº•éƒ¨ä¼šå‡ºç°ç©ºç™½åŒºåŸŸ</span>
        window<span class="token punctuation">.</span><span class="token function">setGravity</span><span class="token punctuation">(</span>Gravity<span class="token punctuation">.</span>BOTTOM<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * è·å–å±å¹•çš„é«˜åº¦
     * @param context
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getScreenHeight</span><span class="token punctuation">(</span>Context context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        WindowManager wm <span class="token operator">=</span> <span class="token punctuation">(</span>WindowManager<span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getSystemService</span><span class="token punctuation">(</span>Context<span class="token punctuation">.</span>WINDOW_SERVICE<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Point point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">assert</span> wm <span class="token operator">!=</span> null<span class="token punctuation">;</span>
        wm<span class="token punctuation">.</span><span class="token function">getDefaultDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> point<span class="token punctuation">.</span>y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>èƒŒæ™¯è®¾ç½®ä¸ºé€æ˜,å¯ä»¥æ˜¾ç¤ºåœ†è§’</p>
<pre class="line-numbers language-java"><code class="language-java">  <span class="token comment" spellcheck="true">//è®¾ç½®åœ†è§’èƒŒæ™¯ä¸ç”Ÿæ•ˆ åŸå› ï¼šç”±äºå®ƒä¸Šé¢è’™äº†ä¸€å±‚å¸ƒå±€ design_bottom_sheetæ˜¯ç³»ç»Ÿçš„å¸ƒå±€ï¼Œç›´æ¥æ‰¾åˆ°å®ƒï¼Œç„¶åç»™å®ƒè®¾å…¨é€æ˜å°±å¥½äº†</span>
        FrameLayout bottomSheet <span class="token operator">=</span> <span class="token punctuation">(</span>FrameLayout<span class="token punctuation">)</span> <span class="token function">getDelegate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>design_bottom_sheet<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bottomSheet<span class="token punctuation">.</span><span class="token function">setBackgroundColor</span><span class="token punctuation">(</span>mContext<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getColor</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>color<span class="token punctuation">.</span>transparent<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//è®¾ç½®dialogçš„ä¸‹æ‹‰æ‹–æ‹½ä¸scrollViewä¸‹æ‹‰å†²çª</span>
        bottomSheetBehavior <span class="token operator">=</span> BottomSheetBehavior<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>bottomSheet<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bottomSheetBehavior<span class="token punctuation">.</span><span class="token function">setPeekHeight</span><span class="token punctuation">(</span>bottomDialogHeight<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ­¤å¤„æ˜¯dialogè®¾ç½®çš„æœ€å¤§é«˜åº¦</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h1 id="å›¾ç‰‡æ–‡å­—èµ„æº"><a href="#å›¾ç‰‡æ–‡å­—èµ„æº" class="headerlink" title="å›¾ç‰‡æ–‡å­—èµ„æº"></a>å›¾ç‰‡æ–‡å­—èµ„æº</h1><h2 id="èµ„æº"><a href="#èµ„æº" class="headerlink" title="èµ„æº"></a>èµ„æº</h2><ul>
<li><strong><a href="https://github.com/chrisbanes/cheesesquare" target="_blank" rel="noopener">Demos the new Android Design library</a></strong> github star 6300+</li>
<li><strong><a href="https://github.com/mikepenz/MaterialDrawer" target="_blank" rel="noopener">MaterialDrawer</a></strong> The flexible, easy to use, all in one drawer library for your Android project<br><img src="https://cdn.linz.tech/screenshots_combined.jpg" alt=""></li>
<li><strong><a href="https://github.com/XunMengWinter/CircularAnim" target="_blank" rel="noopener">CircularAnim</a></strong> Androidæ°´æ³¢åŠ¨ç”»å¸®åŠ©ç±»ï¼Œä¸€è¡Œä»£ç å®ç°Viewæ˜¾ç¤º/éšè—/startActivityç‰¹æ•ˆã€‚(å¯¹ ViewAnimationUtils.createCircularReveal() æ–¹æ³•çš„å°è£…)<br><img src="https://cdn.linz.tech/CircularAnimDemo.gif" alt=""></li>
</ul>
<h2 id="å­—ä½“å’Œå›¾ç‰‡ç›¸å…³"><a href="#å­—ä½“å’Œå›¾ç‰‡ç›¸å…³" class="headerlink" title="å­—ä½“å’Œå›¾ç‰‡ç›¸å…³"></a>å­—ä½“å’Œå›¾ç‰‡ç›¸å…³</h2><ul>
<li><strong><a href="https://github.com/code-mc/material-icon-lib" target="_blank" rel="noopener">Material Icon Library</a></strong> Github 1800+ star<br><img src="https://cdn.linz.tech/1321512-material_icon_libs.gif" alt="material_icon_libs.gif"></li>
</ul>
<p><strong>ä¸»è¦ç‰¹ç‚¹ï¼š</strong></p>
<ol>
<li>åŒ…å«1500+ çš„çŸ¢é‡å›¾æ ‡ï¼ˆå¤§å°: 200kbï¼‰ï¼›</li>
<li>æ”¯æŒAPI&gt;=4ï¼›</li>
<li>å¯ä»¥è½¬åŒ–ä¸ºDrawableï¼Œå¯ä»¥menu.xml ä¸­ä½¿ç”¨ï¼Œ å¯ä»¥åœ¨Toolbar menuä¸­ä½¿ç”¨</li>
</ol>
<p>ä½¿ç”¨ï¼š1. åœ¨<a href="https://materialdesignicons.comæ‰¾çŸ¢é‡å›¾ï¼›" target="_blank" rel="noopener">https://materialdesignicons.comæ‰¾çŸ¢é‡å›¾ï¼›</a> 2.é›†æˆåº“ä½¿ç”¨ï¼›</p>
<ul>
<li><strong><a href="https://github.com/mikepenz/Android-Iconics" target="_blank" rel="noopener">Android-Iconics</a></strong> ã€æ¨èã€‘<br><img src="https://cdn.linz.tech/screenshots1.jpg" alt=""></li>
</ul>
<p><strong>ä¸»è¦ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>æä¾›äº†ä¸‰ä¸ªçŸ¢é‡å›¾åº“ï¼›</li>
<li>å¯ä»¥åœ¨åŸç”Ÿæ§ä»¶ä¸Šä½¿ç”¨ï¼›</li>
<li>æ”¯æŒå­—ä½“å’ŒçŸ¢é‡å›¾ç‰‡çš„è‡ªå®šä¹‰ï¼›</li>
</ul>
<h2 id="Material-Animation-åŠ¨ç”»"><a href="#Material-Animation-åŠ¨ç”»" class="headerlink" title="Material Animation åŠ¨ç”»"></a>Material Animation åŠ¨ç”»</h2><hr>
<ul>
<li><strong><a href="https://github.com/lgvalle/Material-Animations" target="_blank" rel="noopener">Material-Animations</a></strong></li>
<li><strong><a href="https://github.com/saulmm/Android-Material-Examples" target="_blank" rel="noopener">Android-Material-Examples</a></strong></li>
</ul>
<h2 id="New-Feature-æ–°çš„ç‰¹æ€§"><a href="#New-Feature-æ–°çš„ç‰¹æ€§" class="headerlink" title="New Feature  æ–°çš„ç‰¹æ€§"></a>New Feature  æ–°çš„ç‰¹æ€§</h2><hr>
<ul>
<li><strong><a href="https://github.com/fcannizzaro/material-tip" target="_blank" rel="noopener">material-tip</a></strong><br><img src="https://cdn.linz.tech/material_tip.gif" alt=""></li>
</ul>
<h2 id="Theme-ä¸»é¢˜"><a href="#Theme-ä¸»é¢˜" class="headerlink" title="Theme ä¸»é¢˜"></a>Theme ä¸»é¢˜</h2><ul>
<li><strong><a href="https://github.com/StevenByle/Android-Material-Themes-Demo" target="_blank" rel="noopener">Android-Material-Themes-Demo</a></strong></li>
</ul>
<h2 id="è®¾ç½®ç›¸å…³"><a href="#è®¾ç½®ç›¸å…³" class="headerlink" title="è®¾ç½®ç›¸å…³"></a>è®¾ç½®ç›¸å…³</h2><ul>
<li><strong><a href="https://github.com/daniel-stoneuk/material-about-library" target="_blank" rel="noopener">material-about-library</a></strong> <img src="https://cdn.linz.tech/material-about-library.png" alt=""></li>
</ul>
<h2 id="åŸç”Ÿæ§ä»¶çš„åŒ…è£…"><a href="#åŸç”Ÿæ§ä»¶çš„åŒ…è£…" class="headerlink" title="åŸç”Ÿæ§ä»¶çš„åŒ…è£…"></a>åŸç”Ÿæ§ä»¶çš„åŒ…è£…</h2><ul>
<li><strong><a href="https://github.com/Musenkishi/Atelier" target="_blank" rel="noopener">Atelier</a></strong> A fast and clean way of using Palette in lists</li>
<li><strong><a href="https://github.com/glomadrian/material-code-input" target="_blank" rel="noopener">material-code-input</a></strong><br><img src="https://cdn.linz.tech/material-code-input.gif" alt="codeInput1.gif"></li>
</ul>
<h1 id="å…¼å®¹å¼€æºåº“"><a href="#å…¼å®¹å¼€æºåº“" class="headerlink" title="å…¼å®¹å¼€æºåº“"></a>å…¼å®¹å¼€æºåº“</h1><ul>
<li><p><strong><a href="https://github.com/Yellow5A5/ActSwitchAnimTool" target="_blank" rel="noopener">ActSwitchAnimTool</a></strong> ActSwitchAnimTool make the Animation easy to implements, and it compat the version of Android 4.0 or above.<br><img src="https://github.com/Yellow5A5/ActSwitchAnimTool/raw/master/image/demo_show1.gif" alt=""></p>
</li>
<li><p><strong><a href="https://github.com/ozodrukh/RippleDrawable" target="_blank" rel="noopener">RippleDrawable</a></strong> support 14+</p>
</li>
<li><p><strong><a href="https://github.com/wangjiegulu/WaveCompat" target="_blank" rel="noopener">WaveCompat</a></strong><br><img src="http://upload-images.jianshu.io/upload_images/1321512-f6649aa0a09f8b3f.gif?imageMogr2/auto-orient/strip" alt="wave_compat_a.gif"></p>
</li>
<li><p><strong><a href="https://github.com/konifar/fab-transformation" target="_blank" rel="noopener">fab-transformation</a></strong><br><img src="http://upload-images.jianshu.io/upload_images/1321512-c3eebff44da714ea.gif?imageMogr2/auto-orient/strip" alt="transform_to_toolbar.gif"></p>
</li>
<li><p><strong><a href="https://github.com/arcadefire/nice-spinner" target="_blank" rel="noopener">nice-spinner</a></strong> support 14+<br><img src="http://upload-images.jianshu.io/upload_images/1321512-8efaa73f1003543b.gif?imageMogr2/auto-orient/strip" alt="nice-spinner.gif"></p>
</li>
<li><p><strong><a href="https://github.com/renaudcerrato/ToggleDrawable" target="_blank" rel="noopener">ToggleDrawable</a></strong><br><img src="http://upload-images.jianshu.io/upload_images/1321512-db769a9b6fa9face.gif?imageMogr2/auto-orient/strip" alt="toggle.gif"></p>
</li>
<li><p><strong><a href="https://github.com/ozodrukh/CircularReveal" target="_blank" rel="noopener">CircularReveal</a></strong> RevealEffect support 2.3<br><img src="http://upload-images.jianshu.io/upload_images/1321512-822426affad1682d.gif?imageMogr2/auto-orient/strip" alt="CircularReveal.gif"></p>
</li>
<li><p><strong><a href="https://github.com/andkulikov/Transitions-Everywhere" target="_blank" rel="noopener">Transitions-Everywhere</a></strong>  API compatible with Android 2.2+</p>
</li>
<li><p><strong><a href="https://github.com/javiersantos/MaterialStyledDialogs" target="_blank" rel="noopener">MaterialStyledDialogs</a></strong> API 11+ required.</p>
</li>
<li><p>vector-compat vector å…¼å®¹åº“<br>å¼€æºèµ„æº</p>
<h1 id="Material-Design-å‚è€ƒèµ„æ–™"><a href="#Material-Design-å‚è€ƒèµ„æ–™" class="headerlink" title="Material Design å‚è€ƒèµ„æ–™"></a>Material Design å‚è€ƒèµ„æ–™</h1></li>
<li><p>Android å¼€å‘è®¾è®¡ <a href="http://developer.android.com/design/" target="_blank" rel="noopener">http://developer.android.com/design/</a></p>
</li>
<li><p><a href="https://play.google.com/store/apps/collection/promotion_3001769_io_awards" target="_blank" rel="noopener">Material Design ç¤ºèŒƒåº”ç”¨</a> å’Œ <a href="http://chinagdg.org/2015/06/material-design-awards/" target="_blank" rel="noopener">è·å¥–åº”ç”¨</a></p>
</li>
<li><p>Google Design ç½‘ç«™ <a href="https://design.google.com/" target="_blank" rel="noopener">https://design.google.com/</a></p>
</li>
<li><p>Material Design è®¾è®¡è§„èŒƒ <a href="http://www.google.com/design/spec/material-design/introduction.html" target="_blank" rel="noopener">http://www.google.com/design/spec/material-design/introduction.html</a></p>
</li>
<li><p>Icons Tool <a href="https://design.google.com/icons/" target="_blank" rel="noopener">https://design.google.com/icons/</a></p>
</li>
<li><p>Devices Tool <a href="https://design.google.com/devices/" target="_blank" rel="noopener">https://design.google.com/devices/</a></p>
</li>
<li><p>Udacity å…è´¹è®¾è®¡è¯¾ç¨‹ï¼š<a href="https://www.udacity.com/course/material-design-for-android-developers--ud862" target="_blank" rel="noopener">Material Design for Android Developers</a></p>
</li>
</ul>
<h1 id="ç‰¹åˆ«æƒ³å®ç°çš„æ•ˆæœ"><a href="#ç‰¹åˆ«æƒ³å®ç°çš„æ•ˆæœ" class="headerlink" title="ç‰¹åˆ«æƒ³å®ç°çš„æ•ˆæœ"></a>ç‰¹åˆ«æƒ³å®ç°çš„æ•ˆæœ</h1><ul>
<li><img src="http://cdn.linz.tech/motion_awsome_animation" alt=""></li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Material</tag>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title>è°·æ­Œå®˜ç½‘ä¹‹ç¡¬ä»¶åŠ é€Ÿ ã€è¯‘ã€‘</title>
    <url>/2016/06/02/2016-06-02-Google-Api-hareware-acc/</url>
    <content><![CDATA[<h3 id="ç¡¬ä»¶åŠ é€Ÿ"><a href="#ç¡¬ä»¶åŠ é€Ÿ" class="headerlink" title="ç¡¬ä»¶åŠ é€Ÿ"></a><a href="https://developer.android.com/guide/topics/graphics/hardware-accel.html#determining" target="_blank" rel="noopener">ç¡¬ä»¶åŠ é€Ÿ</a></h3><hr>
<p>Android 3.0 (API level 11)å¼€å§‹ï¼ŒAndroid 2Dæ¸²æŸ“ç®¡é“æ”¯æŒç¡¬ä»¶åŠ é€Ÿã€‚API level &gt;=14çš„Androidç³»ç»Ÿé»˜è®¤å¼€å¯ç¡¬ä»¶åŠ é€Ÿã€‚ç”±äºç¡¬ä»¶åŠ é€Ÿå¹¶ä¸æ”¯æŒæ‰€æœ‰çš„2Dç»˜åˆ¶æ“ä½œï¼Œæ‰€ä»¥å¼€å¯ç¡¬ä»¶åŠ é€Ÿï¼Œå¯èƒ½ä¼šå¯¼è‡´è‡ªå®šä¹‰viewä¸­éƒ¨åˆ†å…ƒç´ çœ‹ä¸åˆ°ï¼Œç¨‹åºæŠ›å‡ºå¼‚å¸¸ï¼Œæˆ–è€…é”™è¯¯çš„åƒç´ æ¸²æŸ“ç­‰é—®é¢˜ã€‚</p>
<h4 id="å¼€å¯-å…³é—­ç¡¬ä»¶åŠ é€Ÿ"><a href="#å¼€å¯-å…³é—­ç¡¬ä»¶åŠ é€Ÿ" class="headerlink" title="å¼€å¯/å…³é—­ç¡¬ä»¶åŠ é€Ÿ"></a>å¼€å¯/å…³é—­ç¡¬ä»¶åŠ é€Ÿ</h4><ul>
<li>Application<br><code>&lt;application android:hardwareAccelerated="true" ...&gt;</code></li>
<li>Activity<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span> <span class="token attr-name"><span class="token namespace">android:</span>hardwareAccelerated</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name">...</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>hardwareAccelerated</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>Window çº§åˆ«åªèƒ½å¼€å¯ç¡¬ä»¶åŠ é€Ÿ<pre class="line-numbers language-java"><code class="language-java"><span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setFlags</span><span class="token punctuation">(</span>
WindowManager<span class="token punctuation">.</span>LayoutParams<span class="token punctuation">.</span>FLAG_HARDWARE_ACCELERATED<span class="token punctuation">,</span>
WindowManager<span class="token punctuation">.</span>LayoutParams<span class="token punctuation">.</span>FLAG_HARDWARE_ACCELERATED<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li>View å…³é—­ç¡¬ä»¶åŠ é€Ÿ<br><code>myView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);</code></li>
</ul>
<h4 id="Viewç¡¬ä»¶åŠ é€Ÿçš„åˆ¤æ–­"><a href="#Viewç¡¬ä»¶åŠ é€Ÿçš„åˆ¤æ–­" class="headerlink" title="Viewç¡¬ä»¶åŠ é€Ÿçš„åˆ¤æ–­"></a>Viewç¡¬ä»¶åŠ é€Ÿçš„åˆ¤æ–­</h4><p>ä¸¤ä¸ªæ–¹æ³•ï¼š</p>
<ul>
<li><a href="https://developer.android.com/reference/android/view/View.html#isHardwareAccelerated()" target="_blank" rel="noopener">View.isHardwareAccelerated()</a></li>
<li><a href="https://developer.android.com/reference/android/graphics/Canvas.html#isHardwareAccelerated()" target="_blank" rel="noopener">Canvas.isHardwareAccelerated()</a></li>
</ul>
<p>ä½ å¿…é¡»åœ¨ä½ ç»˜åˆ¶ä»£ç ï¼ˆdrawing codeï¼‰å†…æ£€æµ‹ï¼Œä½¿ç”¨å‰è€…è€Œä¸æ˜¯åè€…ï¼Œå› ä¸ºæœ‰å¯èƒ½Viewè™½ç„¶ä¾é™„äºä¸€ä¸ªç¡¬ä»¶åŠ é€Ÿçš„çª—å£ï¼Œä½†å®ƒä¾ç„¶å¯ä»¥åœ¨ä¸€ä¸ªæ²¡æœ‰ç¡¬ä»¶åŠ é€Ÿçš„Canvasä¸Šç»˜åˆ¶ï¼Œåˆ—å¦‚ï¼šä¸ºäº†ç¼“å­˜çš„ç›®çš„æŠŠviewç»˜åˆ¶åˆ°ä¸€ä¸ªbitmapä¸Šã€‚</p>
<h4 id="Android-è½¯åŠ é€Ÿ-ç¡¬åŠ é€Ÿ-ç»˜åˆ¶æ¨¡å¼"><a href="#Android-è½¯åŠ é€Ÿ-ç¡¬åŠ é€Ÿ-ç»˜åˆ¶æ¨¡å¼" class="headerlink" title="Android è½¯åŠ é€Ÿ/ç¡¬åŠ é€Ÿ ç»˜åˆ¶æ¨¡å¼"></a>Android è½¯åŠ é€Ÿ/ç¡¬åŠ é€Ÿ ç»˜åˆ¶æ¨¡å¼</h4><p><strong>åŸºäºè½¯ä»¶çš„ç»˜åˆ¶æ¨¡å¼</strong><br>ç»˜åˆ¶æ­¥éª¤ï¼šæ— æ•ˆä»ä¸‹åˆ°ä¸Šçš„Viewï¼Œç„¶åé‡æ–°ç»˜åˆ¶ã€‚<br>é—®é¢˜ï¼š</p>
<ol>
<li>æ²¡æœ‰æ”¹å˜çš„å¤§é‡ä¸Šå±‚çš„Viewéœ€è¦é‡æ–°ç»˜åˆ¶ã€‚</li>
<li>Androidé‡ç»˜viewçš„è¿‡ç¨‹ï¼Œæœ‰å¯èƒ½æ²¡æœ‰ç»˜åˆ¶å‘ç”Ÿæ”¹å˜çš„viewï¼Œæ­¤æ—¶ä½ åªèƒ½ä¾èµ–å…¶ä»–viewåŒ…å«æ°å¥½çš„é‡ç»˜è¡Œä¸ºã€‚</li>
</ol>
<p><strong>ç¡¬ä»¶åŠ é€Ÿçš„ç»˜åˆ¶æ¨¡å¼</strong><br>ç»˜åˆ¶æ­¥éª¤ï¼š</p>
<ol>
<li>æ— æ•ˆä»ä¸‹åˆ°ä¸Šçš„View</li>
<li>è®°å½•å’Œæ›´æ–°æ˜¾ç¤ºåˆ—è¡¨ï¼ˆdisplay listsï¼‰</li>
<li>ç»˜åˆ¶æ˜¾ç¤ºåˆ—è¡¨</li>
</ol>
<p>ä¼˜ç‚¹ï¼š ä½¿ç”¨display listsèƒ½æœ‰é’ˆå¯¹æ€§çš„æ›´æ–°æ”¹å˜çš„View</p>
<h4 id="ä¸æ”¯æŒçš„ç»˜åˆ¶æ“ä½œ"><a href="#ä¸æ”¯æŒçš„ç»˜åˆ¶æ“ä½œ" class="headerlink" title="ä¸æ”¯æŒçš„ç»˜åˆ¶æ“ä½œ"></a>ä¸æ”¯æŒçš„ç»˜åˆ¶æ“ä½œ</h4><p><img src="http://upload-images.jianshu.io/upload_images/1321512-535a89ed1a720f03.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br><em>Canvas Scaling</em></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1321512-1590722e47fcd325.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h4 id="View-Layers"><a href="#View-Layers" class="headerlink" title="View Layers"></a>View Layers</h4><p><em>Off-screen buffers</em></p>
<ul>
<li>a viewâ€™s drawing cache</li>
<li>[Canvas.saveLayer()](<a href="https://developer.android.com/reference/android/graphics/Canvas.html#saveLayer" target="_blank" rel="noopener">https://developer.android.com/reference/android/graphics/Canvas.html#saveLayer</a>(android.graphics.RectF, android.graphics.Paint))</li>
</ul>
<p>æ‰€æœ‰çš„Androidç‰ˆæœ¬éƒ½æ”¯æŒå¯¹Off-screen buffersè¿›è¡Œæ¸²æŸ“ã€‚</p>
<blockquote>
<p>ä½ ä¼šè·å¾—æ›´å¥½çš„æ€§èƒ½ï¼Œå½“åšå¤æ‚viewçš„åŠ¨ç”»æˆ–è€…åº”ç”¨åˆæˆæ•ˆæœæ—¶ã€‚åˆ—å¦‚ï¼Œå½“ä½ å®ç°æ·¡å‡ºæ•ˆæœæ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨Canvas.saveLayer()ï¼Œæš‚å­˜æ¸²æŸ“çš„viewåˆ°layerä¸­ï¼Œç„¶åç”¨é€æ˜åº¦åˆæˆï¼Œä½¿å®ƒè¿”å›å±å¹•è¾¾åˆ°æ·¡å‡ºæ•ˆæœã€‚</p>
</blockquote>
<p> [View.setLayerType()](<a href="https://developer.android.com/reference/android/view/View.html#setLayerType" target="_blank" rel="noopener">https://developer.android.com/reference/android/view/View.html#setLayerType</a>(int, android.graphics.Paint))</p>
<ul>
<li><a href="https://developer.android.com/reference/android/view/View.html#LAYER_TYPE_NONE" target="_blank" rel="noopener">LAYER_TYPE_NONE</a> ä¸ä½¿ç”¨ off-screen buffer ã€é»˜è®¤ã€‘</li>
<li><a href="https://developer.android.com/reference/android/view/View.html#LAYER_TYPE_HARDWARE" target="_blank" rel="noopener">LAYER_TYPE_HARDWARE</a></li>
<li><a href="https://developer.android.com/reference/android/view/View.html#LAYER_TYPE_SOFTWARE" target="_blank" rel="noopener">LAYER_TYPE_SOFTWARE</a></li>
</ul>
<p>é€‰æ‹©æŠ€å·§</p>
<ul>
<li><strong>Performance</strong>: ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿæ—¶ï¼Œä¸€æ—¦ä¸€ä¸ªviewæ¸²æŸ“è¿›å¦‚layerä¸­ï¼Œåªæœ‰è°ƒç”¨<a href="https://developer.android.com/reference/android/view/View.html#invalidate()" target="_blank" rel="noopener">invalidate()</a>æ˜¯ç»˜åˆ¶çš„ä»£ç æ‰ä¼šè¢«æ‰§è¡Œã€‚ä¸€äº›åŠ¨ç”»ï¼Œåˆ—å¦‚é€æ˜åº¦åŠ¨ç”»ï¼Œå¯ä»¥ç›´æ¥ç”¨äºlayerä¸­ï¼Œè¿™ä½¿ç”¨GPUå»æ‰§è¡Œæ˜¯éå¸¸é«˜æ•ˆçš„ã€‚</li>
<li><strong>Compatibility</strong>: Use a software layer type to force a view to be rendered in software.</li>
</ul>
<h4 id="View-layers-and-animations"><a href="#View-layers-and-animations" class="headerlink" title="View layers and animations"></a>View layers and animations</h4><p>å¦‚æœä½ åœ¨ä½ çš„åº”ç”¨ä¸­è·‘çš„åŠ¨ç”»æ²¡æœ‰è¾¾åˆ°ï¼Œä½ æƒ³è¦çš„æµç¨‹ç»“æœï¼Œä½ å¯ä»¥è€ƒè™‘å¯åŠ¨ç¡¬ä»¶åŠ é€Ÿã€‚ ä»¥ä¸‹çš„å±æ€§ï¼Œä½¿ç”¨åˆæˆæ¥ä½œç”¨äºlayerï¼Œä½¿ç”¨çš„æ˜¯ä¼˜åŒ–çš„invalidationåŠä¸éœ€è¦é‡ç»˜ç›®æ ‡viewï¼Œè¿‡ç¨‹æ›´é«˜æ•ˆã€‚</p>
<ul>
<li>alpha: Changes the layerâ€™s opacity</li>
<li>x, y, translationX, translationY: Changes the layerâ€™s position</li>
<li>scaleX, scaleY: Changes the layerâ€™s size</li>
<li>rotation, rotationX, rotationY: Changes the layerâ€™s orientation in 3D space</li>
<li>pivotX, pivotY: Changes the layerâ€™s transformations origin</li>
</ul>
<p>demoï¼š</p>
<pre class="line-numbers language-java"><code class="language-java">View<span class="token punctuation">.</span><span class="token function">setLayerType</span><span class="token punctuation">(</span>View<span class="token punctuation">.</span>LAYER_TYPE_HARDWARE<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
ObjectAnimator animator <span class="token operator">=</span> ObjectAnimator<span class="token punctuation">.</span><span class="token function">ofFloat</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> <span class="token string">"rotationY"</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
animator<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AnimatorListenerAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnimationEnd</span><span class="token punctuation">(</span>Animator animation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
view<span class="token punctuation">.</span><span class="token function">setLayerType</span><span class="token punctuation">(</span>View<span class="token punctuation">.</span>LAYER_TYPE_NONE<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
animator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="æç¤ºå’ŒæŠ€å·§"><a href="#æç¤ºå’ŒæŠ€å·§" class="headerlink" title="æç¤ºå’ŒæŠ€å·§"></a>æç¤ºå’ŒæŠ€å·§</h4><ul>
<li>å‡å°‘viewçš„æ•°é‡</li>
<li>é¿å…è¿‡åº¦ç»˜åˆ¶<br>A good rule of thumb with current hardware is to not draw more than 2.5 times the number of pixels on screen per frame (transparent pixels in a bitmap count!).</li>
<li>ä¸åˆ›å»ºæ¸²æŸ“ç±»åœ¨ç»˜åˆ¶ä»£ç ä¸­ï¼šå¦‚åœ¨onDrawä¸­ new Paint æˆ–è€… Pathã€‚</li>
<li>ä¸é¢‘ç¹çš„æ”¹å˜å½¢çŠ¶<br>Complex shapes, paths, and circles for instance, are rendered using texture masks. Every time you create or modify a path, the hardware pipeline creates a new mask, which can be expensive.</li>
<li>ä¸é¢‘ç¹çš„ä¿®æ”¹bitmap</li>
<li>è°¨æ…ä½¿ç”¨<strong>alpha</strong>ï¼Œå½“åº”ç”¨alphaå±æ€§åˆ°å¾ˆå¤§çš„viewsæ—¶ï¼Œè€ƒè™‘ä½¿ç”¨ LAYER_TYPE_HARDWAREã€‚<br>.</li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>APIç†è§£</tag>
      </tags>
  </entry>
</search>
